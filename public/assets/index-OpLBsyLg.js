var PT=Object.defineProperty;var IT=(o,i,s)=>i in o?PT(o,i,{enumerable:!0,configurable:!0,writable:!0,value:s}):o[i]=s;var Rr=(o,i,s)=>(IT(o,typeof i!="symbol"?i+"":i,s),s);function _mergeNamespaces(o,i){for(var s=0;s<i.length;s++){const a=i[s];if(typeof a!="string"&&!Array.isArray(a)){for(const et in a)if(et!=="default"&&!(et in o)){const tt=Object.getOwnPropertyDescriptor(a,et);tt&&Object.defineProperty(o,et,tt.get?tt:{enumerable:!0,get:()=>a[et]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const et of document.querySelectorAll('link[rel="modulepreload"]'))a(et);new MutationObserver(et=>{for(const tt of et)if(tt.type==="childList")for(const rt of tt.addedNodes)rt.tagName==="LINK"&&rt.rel==="modulepreload"&&a(rt)}).observe(document,{childList:!0,subtree:!0});function s(et){const tt={};return et.integrity&&(tt.integrity=et.integrity),et.referrerPolicy&&(tt.referrerPolicy=et.referrerPolicy),et.crossOrigin==="use-credentials"?tt.credentials="include":et.crossOrigin==="anonymous"?tt.credentials="omit":tt.credentials="same-origin",tt}function a(et){if(et.ep)return;et.ep=!0;const tt=s(et);fetch(et.href,tt)}})();var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function getAugmentedNamespace(o){if(o.__esModule)return o;var i=o.default;if(typeof i=="function"){var s=function a(){return this instanceof a?Reflect.construct(i,arguments,this.constructor):i.apply(this,arguments)};s.prototype=i.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var et=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(s,a,et.get?et:{enumerable:!0,get:function(){return o[a]}})}),s}var jsxRuntime={exports:{}},reactJsxRuntime_production_min={},react={exports:{}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$4=Symbol.for("react.element"),n$4=Symbol.for("react.portal"),p$6=Symbol.for("react.fragment"),q$6=Symbol.for("react.strict_mode"),r$4=Symbol.for("react.profiler"),t$3=Symbol.for("react.provider"),u$2=Symbol.for("react.context"),v$7=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$2=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$3(o){return o===null||typeof o!="object"?null:(o=z$4&&o[z$4]||o["@@iterator"],typeof o=="function"?o:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$3=Object.assign,D$3={};function E$2(o,i,s){this.props=o,this.context=i,this.refs=D$3,this.updater=s||B$3}E$2.prototype.isReactComponent={};E$2.prototype.setState=function(o,i){if(typeof o!="object"&&typeof o!="function"&&o!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,o,i,"setState")};E$2.prototype.forceUpdate=function(o){this.updater.enqueueForceUpdate(this,o,"forceUpdate")};function F$2(){}F$2.prototype=E$2.prototype;function G$3(o,i,s){this.props=o,this.context=i,this.refs=D$3,this.updater=s||B$3}var H$3=G$3.prototype=new F$2;H$3.constructor=G$3;C$3(H$3,E$2.prototype);H$3.isPureReactComponent=!0;var I$2=Array.isArray,J$2=Object.prototype.hasOwnProperty,K$3={current:null},L$2={key:!0,ref:!0,__self:!0,__source:!0};function M$3(o,i,s){var a,et={},tt=null,rt=null;if(i!=null)for(a in i.ref!==void 0&&(rt=i.ref),i.key!==void 0&&(tt=""+i.key),i)J$2.call(i,a)&&!L$2.hasOwnProperty(a)&&(et[a]=i[a]);var nt=arguments.length-2;if(nt===1)et.children=s;else if(1<nt){for(var it=Array(nt),ot=0;ot<nt;ot++)it[ot]=arguments[ot+2];et.children=it}if(o&&o.defaultProps)for(a in nt=o.defaultProps,nt)et[a]===void 0&&(et[a]=nt[a]);return{$$typeof:l$4,type:o,key:tt,ref:rt,props:et,_owner:K$3.current}}function N$3(o,i){return{$$typeof:l$4,type:o.type,key:i,ref:o.ref,props:o.props,_owner:o._owner}}function O$3(o){return typeof o=="object"&&o!==null&&o.$$typeof===l$4}function escape(o){var i={"=":"=0",":":"=2"};return"$"+o.replace(/[=:]/g,function(s){return i[s]})}var P$2=/\/+/g;function Q$3(o,i){return typeof o=="object"&&o!==null&&o.key!=null?escape(""+o.key):i.toString(36)}function R$2(o,i,s,a,et){var tt=typeof o;(tt==="undefined"||tt==="boolean")&&(o=null);var rt=!1;if(o===null)rt=!0;else switch(tt){case"string":case"number":rt=!0;break;case"object":switch(o.$$typeof){case l$4:case n$4:rt=!0}}if(rt)return rt=o,et=et(rt),o=a===""?"."+Q$3(rt,0):a,I$2(et)?(s="",o!=null&&(s=o.replace(P$2,"$&/")+"/"),R$2(et,i,s,"",function(ot){return ot})):et!=null&&(O$3(et)&&(et=N$3(et,s+(!et.key||rt&&rt.key===et.key?"":(""+et.key).replace(P$2,"$&/")+"/")+o)),i.push(et)),1;if(rt=0,a=a===""?".":a+":",I$2(o))for(var nt=0;nt<o.length;nt++){tt=o[nt];var it=a+Q$3(tt,nt);rt+=R$2(tt,i,s,it,et)}else if(it=A$3(o),typeof it=="function")for(o=it.call(o),nt=0;!(tt=o.next()).done;)tt=tt.value,it=a+Q$3(tt,nt++),rt+=R$2(tt,i,s,it,et);else if(tt==="object")throw i=String(o),Error("Objects are not valid as a React child (found: "+(i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i)+"). If you meant to render a collection of children, use an array instead.");return rt}function S$3(o,i,s){if(o==null)return o;var a=[],et=0;return R$2(o,a,"","",function(tt){return i.call(s,tt,et++)}),a}function T$2(o){if(o._status===-1){var i=o._result;i=i(),i.then(function(s){(o._status===0||o._status===-1)&&(o._status=1,o._result=s)},function(s){(o._status===0||o._status===-1)&&(o._status=2,o._result=s)}),o._status===-1&&(o._status=0,o._result=i)}if(o._status===1)return o._result.default;throw o._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$3};react_production_min.Children={map:S$3,forEach:function(o,i,s){S$3(o,function(){i.apply(this,arguments)},s)},count:function(o){var i=0;return S$3(o,function(){i++}),i},toArray:function(o){return S$3(o,function(i){return i})||[]},only:function(o){if(!O$3(o))throw Error("React.Children.only expected to receive a single React element child.");return o}};react_production_min.Component=E$2;react_production_min.Fragment=p$6;react_production_min.Profiler=r$4;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$6;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(o,i,s){if(o==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+o+".");var a=C$3({},o.props),et=o.key,tt=o.ref,rt=o._owner;if(i!=null){if(i.ref!==void 0&&(tt=i.ref,rt=K$3.current),i.key!==void 0&&(et=""+i.key),o.type&&o.type.defaultProps)var nt=o.type.defaultProps;for(it in i)J$2.call(i,it)&&!L$2.hasOwnProperty(it)&&(a[it]=i[it]===void 0&&nt!==void 0?nt[it]:i[it])}var it=arguments.length-2;if(it===1)a.children=s;else if(1<it){nt=Array(it);for(var ot=0;ot<it;ot++)nt[ot]=arguments[ot+2];a.children=nt}return{$$typeof:l$4,type:o.type,key:et,ref:tt,props:a,_owner:rt}};react_production_min.createContext=function(o){return o={$$typeof:u$2,_currentValue:o,_currentValue2:o,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},o.Provider={$$typeof:t$3,_context:o},o.Consumer=o};react_production_min.createElement=M$3;react_production_min.createFactory=function(o){var i=M$3.bind(null,o);return i.type=o,i};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(o){return{$$typeof:v$7,render:o}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(o){return{$$typeof:y$2,_payload:{_status:-1,_result:o},_init:T$2}};react_production_min.memo=function(o,i){return{$$typeof:x$3,type:o,compare:i===void 0?null:i}};react_production_min.startTransition=function(o){var i=V$2.transition;V$2.transition={};try{o()}finally{V$2.transition=i}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(o,i){return U$3.current.useCallback(o,i)};react_production_min.useContext=function(o){return U$3.current.useContext(o)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(o){return U$3.current.useDeferredValue(o)};react_production_min.useEffect=function(o,i){return U$3.current.useEffect(o,i)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(o,i,s){return U$3.current.useImperativeHandle(o,i,s)};react_production_min.useInsertionEffect=function(o,i){return U$3.current.useInsertionEffect(o,i)};react_production_min.useLayoutEffect=function(o,i){return U$3.current.useLayoutEffect(o,i)};react_production_min.useMemo=function(o,i){return U$3.current.useMemo(o,i)};react_production_min.useReducer=function(o,i,s){return U$3.current.useReducer(o,i,s)};react_production_min.useRef=function(o){return U$3.current.useRef(o)};react_production_min.useState=function(o){return U$3.current.useState(o)};react_production_min.useSyncExternalStore=function(o,i,s){return U$3.current.useSyncExternalStore(o,i,s)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";react.exports=react_production_min;var reactExports=react.exports;const React$2=getDefaultExportFromCjs(reactExports),React$3=_mergeNamespaces({__proto__:null,default:React$2},[reactExports]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$2=reactExports,k$4=Symbol.for("react.element"),l$3=Symbol.for("react.fragment"),m$3=Object.prototype.hasOwnProperty,n$3=f$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$5={key:!0,ref:!0,__self:!0,__source:!0};function q$5(o,i,s){var a,et={},tt=null,rt=null;s!==void 0&&(tt=""+s),i.key!==void 0&&(tt=""+i.key),i.ref!==void 0&&(rt=i.ref);for(a in i)m$3.call(i,a)&&!p$5.hasOwnProperty(a)&&(et[a]=i[a]);if(o&&o.defaultProps)for(a in i=o.defaultProps,i)et[a]===void 0&&(et[a]=i[a]);return{$$typeof:k$4,type:o,key:tt,ref:rt,props:et,_owner:n$3.current}}reactJsxRuntime_production_min.Fragment=l$3;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;jsxRuntime.exports=reactJsxRuntime_production_min;var jsxRuntimeExports=jsxRuntime.exports,client$1={},reactDom={exports:{}},reactDom_production_min={},scheduler={exports:{}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(o){function i(St,$t){var Lt=St.length;St.push($t);e:for(;0<Lt;){var Rt=Lt-1>>>1,jt=St[Rt];if(0<et(jt,$t))St[Rt]=$t,St[Lt]=jt,Lt=Rt;else break e}}function s(St){return St.length===0?null:St[0]}function a(St){if(St.length===0)return null;var $t=St[0],Lt=St.pop();if(Lt!==$t){St[0]=Lt;e:for(var Rt=0,jt=St.length,Ft=jt>>>1;Rt<Ft;){var zt=2*(Rt+1)-1,Gt=St[zt],Bt=zt+1,Wt=St[Bt];if(0>et(Gt,Lt))Bt<jt&&0>et(Wt,Gt)?(St[Rt]=Wt,St[Bt]=Lt,Rt=Bt):(St[Rt]=Gt,St[zt]=Lt,Rt=zt);else if(Bt<jt&&0>et(Wt,Lt))St[Rt]=Wt,St[Bt]=Lt,Rt=Bt;else break e}}return $t}function et(St,$t){var Lt=St.sortIndex-$t.sortIndex;return Lt!==0?Lt:St.id-$t.id}if(typeof performance=="object"&&typeof performance.now=="function"){var tt=performance;o.unstable_now=function(){return tt.now()}}else{var rt=Date,nt=rt.now();o.unstable_now=function(){return rt.now()-nt}}var it=[],ot=[],st=1,lt=null,at=3,ut=!1,ft=!1,mt=!1,yt=typeof setTimeout=="function"?setTimeout:null,ht=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ct(St){for(var $t=s(ot);$t!==null;){if($t.callback===null)a(ot);else if($t.startTime<=St)a(ot),$t.sortIndex=$t.expirationTime,i(it,$t);else break;$t=s(ot)}}function gt(St){if(mt=!1,ct(St),!ft)if(s(it)!==null)ft=!0,Dt(Et);else{var $t=s(ot);$t!==null&&Ct(gt,$t.startTime-St)}}function Et(St,$t){ft=!1,mt&&(mt=!1,ht(Tt),Tt=-1),ut=!0;var Lt=at;try{for(ct($t),lt=s(it);lt!==null&&(!(lt.expirationTime>$t)||St&&!At());){var Rt=lt.callback;if(typeof Rt=="function"){lt.callback=null,at=lt.priorityLevel;var jt=Rt(lt.expirationTime<=$t);$t=o.unstable_now(),typeof jt=="function"?lt.callback=jt:lt===s(it)&&a(it),ct($t)}else a(it);lt=s(it)}if(lt!==null)var Ft=!0;else{var zt=s(ot);zt!==null&&Ct(gt,zt.startTime-$t),Ft=!1}return Ft}finally{lt=null,at=Lt,ut=!1}}var bt=!1,xt=null,Tt=-1,wt=5,It=-1;function At(){return!(o.unstable_now()-It<wt)}function kt(){if(xt!==null){var St=o.unstable_now();It=St;var $t=!0;try{$t=xt(!0,St)}finally{$t?Vt():(bt=!1,xt=null)}}else bt=!1}var Vt;if(typeof pt=="function")Vt=function(){pt(kt)};else if(typeof MessageChannel<"u"){var Mt=new MessageChannel,Ot=Mt.port2;Mt.port1.onmessage=kt,Vt=function(){Ot.postMessage(null)}}else Vt=function(){yt(kt,0)};function Dt(St){xt=St,bt||(bt=!0,Vt())}function Ct(St,$t){Tt=yt(function(){St(o.unstable_now())},$t)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(St){St.callback=null},o.unstable_continueExecution=function(){ft||ut||(ft=!0,Dt(Et))},o.unstable_forceFrameRate=function(St){0>St||125<St?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):wt=0<St?Math.floor(1e3/St):5},o.unstable_getCurrentPriorityLevel=function(){return at},o.unstable_getFirstCallbackNode=function(){return s(it)},o.unstable_next=function(St){switch(at){case 1:case 2:case 3:var $t=3;break;default:$t=at}var Lt=at;at=$t;try{return St()}finally{at=Lt}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(St,$t){switch(St){case 1:case 2:case 3:case 4:case 5:break;default:St=3}var Lt=at;at=St;try{return $t()}finally{at=Lt}},o.unstable_scheduleCallback=function(St,$t,Lt){var Rt=o.unstable_now();switch(typeof Lt=="object"&&Lt!==null?(Lt=Lt.delay,Lt=typeof Lt=="number"&&0<Lt?Rt+Lt:Rt):Lt=Rt,St){case 1:var jt=-1;break;case 2:jt=250;break;case 5:jt=1073741823;break;case 4:jt=1e4;break;default:jt=5e3}return jt=Lt+jt,St={id:st++,callback:$t,priorityLevel:St,startTime:Lt,expirationTime:jt,sortIndex:-1},Lt>Rt?(St.sortIndex=Lt,i(ot,St),s(it)===null&&St===s(ot)&&(mt?(ht(Tt),Tt=-1):mt=!0,Ct(gt,Lt-Rt))):(St.sortIndex=jt,i(it,St),ft||ut||(ft=!0,Dt(Et))),St},o.unstable_shouldYield=At,o.unstable_wrapCallback=function(St){var $t=at;return function(){var Lt=at;at=$t;try{return St.apply(this,arguments)}finally{at=Lt}}}})(scheduler_production_min);scheduler.exports=scheduler_production_min;var schedulerExports=scheduler.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa$1=reactExports,ca$1=schedulerExports;function p$4(o){for(var i="https://reactjs.org/docs/error-decoder.html?invariant="+o,s=1;s<arguments.length;s++)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified React error #"+o+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da$1=new Set,ea$1={};function fa$1(o,i){ha$1(o,i),ha$1(o+"Capture",i)}function ha$1(o,i){for(ea$1[o]=i,o=0;o<i.length;o++)da$1.add(i[o])}var ia$1=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka$1=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma$1={};function oa$1(o){return ja.call(ma$1,o)?!0:ja.call(la,o)?!1:ka$1.test(o)?ma$1[o]=!0:(la[o]=!0,!1)}function pa$1(o,i,s,a){if(s!==null&&s.type===0)return!1;switch(typeof i){case"function":case"symbol":return!0;case"boolean":return a?!1:s!==null?!s.acceptsBooleans:(o=o.toLowerCase().slice(0,5),o!=="data-"&&o!=="aria-");default:return!1}}function qa$1(o,i,s,a){if(i===null||typeof i>"u"||pa$1(o,i,s,a))return!0;if(a)return!1;if(s!==null)switch(s.type){case 3:return!i;case 4:return i===!1;case 5:return isNaN(i);case 6:return isNaN(i)||1>i}return!1}function v$6(o,i,s,a,et,tt,rt){this.acceptsBooleans=i===2||i===3||i===4,this.attributeName=a,this.attributeNamespace=et,this.mustUseProperty=s,this.propertyName=o,this.type=i,this.sanitizeURL=tt,this.removeEmptyString=rt}var z$3={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(o){z$3[o]=new v$6(o,0,!1,o,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(o){var i=o[0];z$3[i]=new v$6(i,1,!1,o[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(o){z$3[o]=new v$6(o,2,!1,o.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(o){z$3[o]=new v$6(o,2,!1,o,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(o){z$3[o]=new v$6(o,3,!1,o.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(o){z$3[o]=new v$6(o,3,!0,o,null,!1,!1)});["capture","download"].forEach(function(o){z$3[o]=new v$6(o,4,!1,o,null,!1,!1)});["cols","rows","size","span"].forEach(function(o){z$3[o]=new v$6(o,6,!1,o,null,!1,!1)});["rowSpan","start"].forEach(function(o){z$3[o]=new v$6(o,5,!1,o.toLowerCase(),null,!1,!1)});var ra$1=/[\-:]([a-z])/g;function sa$1(o){return o[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(o){var i=o.replace(ra$1,sa$1);z$3[i]=new v$6(i,1,!1,o,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(o){var i=o.replace(ra$1,sa$1);z$3[i]=new v$6(i,1,!1,o,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(o){var i=o.replace(ra$1,sa$1);z$3[i]=new v$6(i,1,!1,o,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(o){z$3[o]=new v$6(o,1,!1,o.toLowerCase(),null,!1,!1)});z$3.xlinkHref=new v$6("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(o){z$3[o]=new v$6(o,1,!1,o.toLowerCase(),null,!0,!0)});function ta$1(o,i,s,a){var et=z$3.hasOwnProperty(i)?z$3[i]:null;(et!==null?et.type!==0:a||!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(qa$1(i,s,et,a)&&(s=null),a||et===null?oa$1(i)&&(s===null?o.removeAttribute(i):o.setAttribute(i,""+s)):et.mustUseProperty?o[et.propertyName]=s===null?et.type===3?!1:"":s:(i=et.attributeName,a=et.attributeNamespace,s===null?o.removeAttribute(i):(et=et.type,s=et===3||et===4&&s===!0?"":""+s,a?o.setAttributeNS(a,i,s):o.setAttribute(i,s))))}var ua$1=aa$1.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va$1=Symbol.for("react.element"),wa$1=Symbol.for("react.portal"),ya$1=Symbol.for("react.fragment"),za$1=Symbol.for("react.strict_mode"),Aa$1=Symbol.for("react.profiler"),Ba$1=Symbol.for("react.provider"),Ca$1=Symbol.for("react.context"),Da$1=Symbol.for("react.forward_ref"),Ea$1=Symbol.for("react.suspense"),Fa$1=Symbol.for("react.suspense_list"),Ga$1=Symbol.for("react.memo"),Ha$1=Symbol.for("react.lazy"),Ia$1=Symbol.for("react.offscreen"),Ja$1=Symbol.iterator;function Ka(o){return o===null||typeof o!="object"?null:(o=Ja$1&&o[Ja$1]||o["@@iterator"],typeof o=="function"?o:null)}var A$2=Object.assign,La;function Ma$1(o){if(La===void 0)try{throw Error()}catch(s){var i=s.stack.trim().match(/\n( *(at )?)/);La=i&&i[1]||""}return`
`+La+o}var Na$1=!1;function Oa$1(o,i){if(!o||Na$1)return"";Na$1=!0;var s=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(i)if(i=function(){throw Error()},Object.defineProperty(i.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(i,[])}catch(ot){var a=ot}Reflect.construct(o,[],i)}else{try{i.call()}catch(ot){a=ot}o.call(i.prototype)}else{try{throw Error()}catch(ot){a=ot}o()}}catch(ot){if(ot&&a&&typeof ot.stack=="string"){for(var et=ot.stack.split(`
`),tt=a.stack.split(`
`),rt=et.length-1,nt=tt.length-1;1<=rt&&0<=nt&&et[rt]!==tt[nt];)nt--;for(;1<=rt&&0<=nt;rt--,nt--)if(et[rt]!==tt[nt]){if(rt!==1||nt!==1)do if(rt--,nt--,0>nt||et[rt]!==tt[nt]){var it=`
`+et[rt].replace(" at new "," at ");return o.displayName&&it.includes("<anonymous>")&&(it=it.replace("<anonymous>",o.displayName)),it}while(1<=rt&&0<=nt);break}}}finally{Na$1=!1,Error.prepareStackTrace=s}return(o=o?o.displayName||o.name:"")?Ma$1(o):""}function Pa$1(o){switch(o.tag){case 5:return Ma$1(o.type);case 16:return Ma$1("Lazy");case 13:return Ma$1("Suspense");case 19:return Ma$1("SuspenseList");case 0:case 2:case 15:return o=Oa$1(o.type,!1),o;case 11:return o=Oa$1(o.type.render,!1),o;case 1:return o=Oa$1(o.type,!0),o;default:return""}}function Qa$1(o){if(o==null)return null;if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case ya$1:return"Fragment";case wa$1:return"Portal";case Aa$1:return"Profiler";case za$1:return"StrictMode";case Ea$1:return"Suspense";case Fa$1:return"SuspenseList"}if(typeof o=="object")switch(o.$$typeof){case Ca$1:return(o.displayName||"Context")+".Consumer";case Ba$1:return(o._context.displayName||"Context")+".Provider";case Da$1:var i=o.render;return o=o.displayName,o||(o=i.displayName||i.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case Ga$1:return i=o.displayName||null,i!==null?i:Qa$1(o.type)||"Memo";case Ha$1:i=o._payload,o=o._init;try{return Qa$1(o(i))}catch{}}return null}function Ra$1(o){var i=o.type;switch(o.tag){case 24:return"Cache";case 9:return(i.displayName||"Context")+".Consumer";case 10:return(i._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return o=i.render,o=o.displayName||o.name||"",i.displayName||(o!==""?"ForwardRef("+o+")":"ForwardRef");case 7:return"Fragment";case 5:return i;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa$1(i);case 8:return i===za$1?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i}return null}function Sa$1(o){switch(typeof o){case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Ta$1(o){var i=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Ua$1(o){var i=Ta$1(o)?"checked":"value",s=Object.getOwnPropertyDescriptor(o.constructor.prototype,i),a=""+o[i];if(!o.hasOwnProperty(i)&&typeof s<"u"&&typeof s.get=="function"&&typeof s.set=="function"){var et=s.get,tt=s.set;return Object.defineProperty(o,i,{configurable:!0,get:function(){return et.call(this)},set:function(rt){a=""+rt,tt.call(this,rt)}}),Object.defineProperty(o,i,{enumerable:s.enumerable}),{getValue:function(){return a},setValue:function(rt){a=""+rt},stopTracking:function(){o._valueTracker=null,delete o[i]}}}}function Va$1(o){o._valueTracker||(o._valueTracker=Ua$1(o))}function Wa$1(o){if(!o)return!1;var i=o._valueTracker;if(!i)return!0;var s=i.getValue(),a="";return o&&(a=Ta$1(o)?o.checked?"true":"false":o.value),o=a,o!==s?(i.setValue(o),!0):!1}function Xa(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}function Ya$1(o,i){var s=i.checked;return A$2({},i,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:s??o._wrapperState.initialChecked})}function Za$1(o,i){var s=i.defaultValue==null?"":i.defaultValue,a=i.checked!=null?i.checked:i.defaultChecked;s=Sa$1(i.value!=null?i.value:s),o._wrapperState={initialChecked:a,initialValue:s,controlled:i.type==="checkbox"||i.type==="radio"?i.checked!=null:i.value!=null}}function ab$1(o,i){i=i.checked,i!=null&&ta$1(o,"checked",i,!1)}function bb$1(o,i){ab$1(o,i);var s=Sa$1(i.value),a=i.type;if(s!=null)a==="number"?(s===0&&o.value===""||o.value!=s)&&(o.value=""+s):o.value!==""+s&&(o.value=""+s);else if(a==="submit"||a==="reset"){o.removeAttribute("value");return}i.hasOwnProperty("value")?cb$1(o,i.type,s):i.hasOwnProperty("defaultValue")&&cb$1(o,i.type,Sa$1(i.defaultValue)),i.checked==null&&i.defaultChecked!=null&&(o.defaultChecked=!!i.defaultChecked)}function db$2(o,i,s){if(i.hasOwnProperty("value")||i.hasOwnProperty("defaultValue")){var a=i.type;if(!(a!=="submit"&&a!=="reset"||i.value!==void 0&&i.value!==null))return;i=""+o._wrapperState.initialValue,s||i===o.value||(o.value=i),o.defaultValue=i}s=o.name,s!==""&&(o.name=""),o.defaultChecked=!!o._wrapperState.initialChecked,s!==""&&(o.name=s)}function cb$1(o,i,s){(i!=="number"||Xa(o.ownerDocument)!==o)&&(s==null?o.defaultValue=""+o._wrapperState.initialValue:o.defaultValue!==""+s&&(o.defaultValue=""+s))}var eb$1=Array.isArray;function fb$1(o,i,s,a){if(o=o.options,i){i={};for(var et=0;et<s.length;et++)i["$"+s[et]]=!0;for(s=0;s<o.length;s++)et=i.hasOwnProperty("$"+o[s].value),o[s].selected!==et&&(o[s].selected=et),et&&a&&(o[s].defaultSelected=!0)}else{for(s=""+Sa$1(s),i=null,et=0;et<o.length;et++){if(o[et].value===s){o[et].selected=!0,a&&(o[et].defaultSelected=!0);return}i!==null||o[et].disabled||(i=o[et])}i!==null&&(i.selected=!0)}}function gb$1(o,i){if(i.dangerouslySetInnerHTML!=null)throw Error(p$4(91));return A$2({},i,{value:void 0,defaultValue:void 0,children:""+o._wrapperState.initialValue})}function hb$1(o,i){var s=i.value;if(s==null){if(s=i.children,i=i.defaultValue,s!=null){if(i!=null)throw Error(p$4(92));if(eb$1(s)){if(1<s.length)throw Error(p$4(93));s=s[0]}i=s}i==null&&(i=""),s=i}o._wrapperState={initialValue:Sa$1(s)}}function ib$1(o,i){var s=Sa$1(i.value),a=Sa$1(i.defaultValue);s!=null&&(s=""+s,s!==o.value&&(o.value=s),i.defaultValue==null&&o.defaultValue!==s&&(o.defaultValue=s)),a!=null&&(o.defaultValue=""+a)}function jb$1(o){var i=o.textContent;i===o._wrapperState.initialValue&&i!==""&&i!==null&&(o.value=i)}function kb$1(o){switch(o){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb$1(o,i){return o==null||o==="http://www.w3.org/1999/xhtml"?kb$1(i):o==="http://www.w3.org/2000/svg"&&i==="foreignObject"?"http://www.w3.org/1999/xhtml":o}var mb$1,nb$1=function(o){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(i,s,a,et){MSApp.execUnsafeLocalFunction(function(){return o(i,s,a,et)})}:o}(function(o,i){if(o.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in o)o.innerHTML=i;else{for(mb$1=mb$1||document.createElement("div"),mb$1.innerHTML="<svg>"+i.valueOf().toString()+"</svg>",i=mb$1.firstChild;o.firstChild;)o.removeChild(o.firstChild);for(;i.firstChild;)o.appendChild(i.firstChild)}});function ob$1(o,i){if(i){var s=o.firstChild;if(s&&s===o.lastChild&&s.nodeType===3){s.nodeValue=i;return}}o.textContent=i}var pb$1={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb$1=["Webkit","ms","Moz","O"];Object.keys(pb$1).forEach(function(o){qb$1.forEach(function(i){i=i+o.charAt(0).toUpperCase()+o.substring(1),pb$1[i]=pb$1[o]})});function rb$1(o,i,s){return i==null||typeof i=="boolean"||i===""?"":s||typeof i!="number"||i===0||pb$1.hasOwnProperty(o)&&pb$1[o]?(""+i).trim():i+"px"}function sb$1(o,i){o=o.style;for(var s in i)if(i.hasOwnProperty(s)){var a=s.indexOf("--")===0,et=rb$1(s,i[s],a);s==="float"&&(s="cssFloat"),a?o.setProperty(s,et):o[s]=et}}var tb$1=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub$1(o,i){if(i){if(tb$1[o]&&(i.children!=null||i.dangerouslySetInnerHTML!=null))throw Error(p$4(137,o));if(i.dangerouslySetInnerHTML!=null){if(i.children!=null)throw Error(p$4(60));if(typeof i.dangerouslySetInnerHTML!="object"||!("__html"in i.dangerouslySetInnerHTML))throw Error(p$4(61))}if(i.style!=null&&typeof i.style!="object")throw Error(p$4(62))}}function vb$1(o,i){if(o.indexOf("-")===-1)return typeof i.is=="string";switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb$1=null;function xb$1(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var yb$1=null,zb$1=null,Ab$1=null;function Bb$1(o){if(o=Cb$1(o)){if(typeof yb$1!="function")throw Error(p$4(280));var i=o.stateNode;i&&(i=Db(i),yb$1(o.stateNode,o.type,i))}}function Eb$1(o){zb$1?Ab$1?Ab$1.push(o):Ab$1=[o]:zb$1=o}function Fb$1(){if(zb$1){var o=zb$1,i=Ab$1;if(Ab$1=zb$1=null,Bb$1(o),i)for(o=0;o<i.length;o++)Bb$1(i[o])}}function Gb$1(o,i){return o(i)}function Hb$1(){}var Ib$1=!1;function Jb$1(o,i,s){if(Ib$1)return o(i,s);Ib$1=!0;try{return Gb$1(o,i,s)}finally{Ib$1=!1,(zb$1!==null||Ab$1!==null)&&(Hb$1(),Fb$1())}}function Kb$1(o,i){var s=o.stateNode;if(s===null)return null;var a=Db(s);if(a===null)return null;s=a[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(o=o.type,a=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!a;break e;default:o=!1}if(o)return null;if(s&&typeof s!="function")throw Error(p$4(231,i,typeof s));return s}var Lb$1=!1;if(ia$1)try{var Mb$1={};Object.defineProperty(Mb$1,"passive",{get:function(){Lb$1=!0}}),window.addEventListener("test",Mb$1,Mb$1),window.removeEventListener("test",Mb$1,Mb$1)}catch{Lb$1=!1}function Nb$1(o,i,s,a,et,tt,rt,nt,it){var ot=Array.prototype.slice.call(arguments,3);try{i.apply(s,ot)}catch(st){this.onError(st)}}var Ob$1=!1,Pb$1=null,Qb$1=!1,Rb$1=null,Sb$1={onError:function(o){Ob$1=!0,Pb$1=o}};function Tb$1(o,i,s,a,et,tt,rt,nt,it){Ob$1=!1,Pb$1=null,Nb$1.apply(Sb$1,arguments)}function Ub$1(o,i,s,a,et,tt,rt,nt,it){if(Tb$1.apply(this,arguments),Ob$1){if(Ob$1){var ot=Pb$1;Ob$1=!1,Pb$1=null}else throw Error(p$4(198));Qb$1||(Qb$1=!0,Rb$1=ot)}}function Vb$1(o){var i=o,s=o;if(o.alternate)for(;i.return;)i=i.return;else{o=i;do i=o,i.flags&4098&&(s=i.return),o=i.return;while(o)}return i.tag===3?s:null}function Wb$1(o){if(o.tag===13){var i=o.memoizedState;if(i===null&&(o=o.alternate,o!==null&&(i=o.memoizedState)),i!==null)return i.dehydrated}return null}function Xb$1(o){if(Vb$1(o)!==o)throw Error(p$4(188))}function Yb$1(o){var i=o.alternate;if(!i){if(i=Vb$1(o),i===null)throw Error(p$4(188));return i!==o?null:o}for(var s=o,a=i;;){var et=s.return;if(et===null)break;var tt=et.alternate;if(tt===null){if(a=et.return,a!==null){s=a;continue}break}if(et.child===tt.child){for(tt=et.child;tt;){if(tt===s)return Xb$1(et),o;if(tt===a)return Xb$1(et),i;tt=tt.sibling}throw Error(p$4(188))}if(s.return!==a.return)s=et,a=tt;else{for(var rt=!1,nt=et.child;nt;){if(nt===s){rt=!0,s=et,a=tt;break}if(nt===a){rt=!0,a=et,s=tt;break}nt=nt.sibling}if(!rt){for(nt=tt.child;nt;){if(nt===s){rt=!0,s=tt,a=et;break}if(nt===a){rt=!0,a=tt,s=et;break}nt=nt.sibling}if(!rt)throw Error(p$4(189))}}if(s.alternate!==a)throw Error(p$4(190))}if(s.tag!==3)throw Error(p$4(188));return s.stateNode.current===s?o:i}function Zb$1(o){return o=Yb$1(o),o!==null?$b$1(o):null}function $b$1(o){if(o.tag===5||o.tag===6)return o;for(o=o.child;o!==null;){var i=$b$1(o);if(i!==null)return i;o=o.sibling}return null}var ac$1=ca$1.unstable_scheduleCallback,bc$1=ca$1.unstable_cancelCallback,cc$1=ca$1.unstable_shouldYield,dc$1=ca$1.unstable_requestPaint,B$2=ca$1.unstable_now,ec$1=ca$1.unstable_getCurrentPriorityLevel,fc$1=ca$1.unstable_ImmediatePriority,gc$1=ca$1.unstable_UserBlockingPriority,hc$1=ca$1.unstable_NormalPriority,ic$1=ca$1.unstable_LowPriority,jc$1=ca$1.unstable_IdlePriority,kc$1=null,lc$1=null;function mc$1(o){if(lc$1&&typeof lc$1.onCommitFiberRoot=="function")try{lc$1.onCommitFiberRoot(kc$1,o,void 0,(o.current.flags&128)===128)}catch{}}var oc$1=Math.clz32?Math.clz32:nc$1,pc$1=Math.log,qc$1=Math.LN2;function nc$1(o){return o>>>=0,o===0?32:31-(pc$1(o)/qc$1|0)|0}var rc$1=64,sc$1=4194304;function tc$1(o){switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return o&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return o}}function uc$1(o,i){var s=o.pendingLanes;if(s===0)return 0;var a=0,et=o.suspendedLanes,tt=o.pingedLanes,rt=s&268435455;if(rt!==0){var nt=rt&~et;nt!==0?a=tc$1(nt):(tt&=rt,tt!==0&&(a=tc$1(tt)))}else rt=s&~et,rt!==0?a=tc$1(rt):tt!==0&&(a=tc$1(tt));if(a===0)return 0;if(i!==0&&i!==a&&!(i&et)&&(et=a&-a,tt=i&-i,et>=tt||et===16&&(tt&4194240)!==0))return i;if(a&4&&(a|=s&16),i=o.entangledLanes,i!==0)for(o=o.entanglements,i&=a;0<i;)s=31-oc$1(i),et=1<<s,a|=o[s],i&=~et;return a}function vc$1(o,i){switch(o){case 1:case 2:case 4:return i+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc$1(o,i){for(var s=o.suspendedLanes,a=o.pingedLanes,et=o.expirationTimes,tt=o.pendingLanes;0<tt;){var rt=31-oc$1(tt),nt=1<<rt,it=et[rt];it===-1?(!(nt&s)||nt&a)&&(et[rt]=vc$1(nt,i)):it<=i&&(o.expiredLanes|=nt),tt&=~nt}}function xc$1(o){return o=o.pendingLanes&-1073741825,o!==0?o:o&1073741824?1073741824:0}function yc$1(){var o=rc$1;return rc$1<<=1,!(rc$1&4194240)&&(rc$1=64),o}function zc$1(o){for(var i=[],s=0;31>s;s++)i.push(o);return i}function Ac$1(o,i,s){o.pendingLanes|=i,i!==536870912&&(o.suspendedLanes=0,o.pingedLanes=0),o=o.eventTimes,i=31-oc$1(i),o[i]=s}function Bc$1(o,i){var s=o.pendingLanes&~i;o.pendingLanes=i,o.suspendedLanes=0,o.pingedLanes=0,o.expiredLanes&=i,o.mutableReadLanes&=i,o.entangledLanes&=i,i=o.entanglements;var a=o.eventTimes;for(o=o.expirationTimes;0<s;){var et=31-oc$1(s),tt=1<<et;i[et]=0,a[et]=-1,o[et]=-1,s&=~tt}}function Cc$1(o,i){var s=o.entangledLanes|=i;for(o=o.entanglements;s;){var a=31-oc$1(s),et=1<<a;et&i|o[a]&i&&(o[a]|=i),s&=~et}}var C$2=0;function Dc$1(o){return o&=-o,1<o?4<o?o&268435455?16:536870912:4:1}var Ec$1,Fc$1,Gc$1,Hc$1,Ic$1,Jc$1=!1,Kc$1=[],Lc$1=null,Mc$1=null,Nc$1=null,Oc$1=new Map,Pc$1=new Map,Qc$1=[],Rc$1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc$1(o,i){switch(o){case"focusin":case"focusout":Lc$1=null;break;case"dragenter":case"dragleave":Mc$1=null;break;case"mouseover":case"mouseout":Nc$1=null;break;case"pointerover":case"pointerout":Oc$1.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc$1.delete(i.pointerId)}}function Tc$1(o,i,s,a,et,tt){return o===null||o.nativeEvent!==tt?(o={blockedOn:i,domEventName:s,eventSystemFlags:a,nativeEvent:tt,targetContainers:[et]},i!==null&&(i=Cb$1(i),i!==null&&Fc$1(i)),o):(o.eventSystemFlags|=a,i=o.targetContainers,et!==null&&i.indexOf(et)===-1&&i.push(et),o)}function Uc$1(o,i,s,a,et){switch(i){case"focusin":return Lc$1=Tc$1(Lc$1,o,i,s,a,et),!0;case"dragenter":return Mc$1=Tc$1(Mc$1,o,i,s,a,et),!0;case"mouseover":return Nc$1=Tc$1(Nc$1,o,i,s,a,et),!0;case"pointerover":var tt=et.pointerId;return Oc$1.set(tt,Tc$1(Oc$1.get(tt)||null,o,i,s,a,et)),!0;case"gotpointercapture":return tt=et.pointerId,Pc$1.set(tt,Tc$1(Pc$1.get(tt)||null,o,i,s,a,et)),!0}return!1}function Vc$1(o){var i=Wc$1(o.target);if(i!==null){var s=Vb$1(i);if(s!==null){if(i=s.tag,i===13){if(i=Wb$1(s),i!==null){o.blockedOn=i,Ic$1(o.priority,function(){Gc$1(s)});return}}else if(i===3&&s.stateNode.current.memoizedState.isDehydrated){o.blockedOn=s.tag===3?s.stateNode.containerInfo:null;return}}}o.blockedOn=null}function Xc$1(o){if(o.blockedOn!==null)return!1;for(var i=o.targetContainers;0<i.length;){var s=Yc$1(o.domEventName,o.eventSystemFlags,i[0],o.nativeEvent);if(s===null){s=o.nativeEvent;var a=new s.constructor(s.type,s);wb$1=a,s.target.dispatchEvent(a),wb$1=null}else return i=Cb$1(s),i!==null&&Fc$1(i),o.blockedOn=s,!1;i.shift()}return!0}function Zc$1(o,i,s){Xc$1(o)&&s.delete(i)}function $c$1(){Jc$1=!1,Lc$1!==null&&Xc$1(Lc$1)&&(Lc$1=null),Mc$1!==null&&Xc$1(Mc$1)&&(Mc$1=null),Nc$1!==null&&Xc$1(Nc$1)&&(Nc$1=null),Oc$1.forEach(Zc$1),Pc$1.forEach(Zc$1)}function ad$1(o,i){o.blockedOn===i&&(o.blockedOn=null,Jc$1||(Jc$1=!0,ca$1.unstable_scheduleCallback(ca$1.unstable_NormalPriority,$c$1)))}function bd$1(o){function i(et){return ad$1(et,o)}if(0<Kc$1.length){ad$1(Kc$1[0],o);for(var s=1;s<Kc$1.length;s++){var a=Kc$1[s];a.blockedOn===o&&(a.blockedOn=null)}}for(Lc$1!==null&&ad$1(Lc$1,o),Mc$1!==null&&ad$1(Mc$1,o),Nc$1!==null&&ad$1(Nc$1,o),Oc$1.forEach(i),Pc$1.forEach(i),s=0;s<Qc$1.length;s++)a=Qc$1[s],a.blockedOn===o&&(a.blockedOn=null);for(;0<Qc$1.length&&(s=Qc$1[0],s.blockedOn===null);)Vc$1(s),s.blockedOn===null&&Qc$1.shift()}var cd$1=ua$1.ReactCurrentBatchConfig,dd$1=!0;function ed$1(o,i,s,a){var et=C$2,tt=cd$1.transition;cd$1.transition=null;try{C$2=1,fd$1(o,i,s,a)}finally{C$2=et,cd$1.transition=tt}}function gd$1(o,i,s,a){var et=C$2,tt=cd$1.transition;cd$1.transition=null;try{C$2=4,fd$1(o,i,s,a)}finally{C$2=et,cd$1.transition=tt}}function fd$1(o,i,s,a){if(dd$1){var et=Yc$1(o,i,s,a);if(et===null)hd$1(o,i,a,id$1,s),Sc$1(o,a);else if(Uc$1(et,o,i,s,a))a.stopPropagation();else if(Sc$1(o,a),i&4&&-1<Rc$1.indexOf(o)){for(;et!==null;){var tt=Cb$1(et);if(tt!==null&&Ec$1(tt),tt=Yc$1(o,i,s,a),tt===null&&hd$1(o,i,a,id$1,s),tt===et)break;et=tt}et!==null&&a.stopPropagation()}else hd$1(o,i,a,null,s)}}var id$1=null;function Yc$1(o,i,s,a){if(id$1=null,o=xb$1(a),o=Wc$1(o),o!==null)if(i=Vb$1(o),i===null)o=null;else if(s=i.tag,s===13){if(o=Wb$1(i),o!==null)return o;o=null}else if(s===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;o=null}else i!==o&&(o=null);return id$1=o,null}function jd$1(o){switch(o){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec$1()){case fc$1:return 1;case gc$1:return 4;case hc$1:case ic$1:return 16;case jc$1:return 536870912;default:return 16}default:return 16}}var kd$1=null,ld$1=null,md$1=null;function nd$1(){if(md$1)return md$1;var o,i=ld$1,s=i.length,a,et="value"in kd$1?kd$1.value:kd$1.textContent,tt=et.length;for(o=0;o<s&&i[o]===et[o];o++);var rt=s-o;for(a=1;a<=rt&&i[s-a]===et[tt-a];a++);return md$1=et.slice(o,1<a?1-a:void 0)}function od$1(o){var i=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&i===13&&(o=13)):o=i,o===10&&(o=13),32<=o||o===13?o:0}function pd$1(){return!0}function qd$1(){return!1}function rd$1(o){function i(s,a,et,tt,rt){this._reactName=s,this._targetInst=et,this.type=a,this.nativeEvent=tt,this.target=rt,this.currentTarget=null;for(var nt in o)o.hasOwnProperty(nt)&&(s=o[nt],this[nt]=s?s(tt):tt[nt]);return this.isDefaultPrevented=(tt.defaultPrevented!=null?tt.defaultPrevented:tt.returnValue===!1)?pd$1:qd$1,this.isPropagationStopped=qd$1,this}return A$2(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var s=this.nativeEvent;s&&(s.preventDefault?s.preventDefault():typeof s.returnValue!="unknown"&&(s.returnValue=!1),this.isDefaultPrevented=pd$1)},stopPropagation:function(){var s=this.nativeEvent;s&&(s.stopPropagation?s.stopPropagation():typeof s.cancelBubble!="unknown"&&(s.cancelBubble=!0),this.isPropagationStopped=pd$1)},persist:function(){},isPersistent:pd$1}),i}var sd$1={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td$1=rd$1(sd$1),ud$1=A$2({},sd$1,{view:0,detail:0}),vd$1=rd$1(ud$1),wd$1,xd$1,yd$1,Ad$1=A$2({},ud$1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd$1,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==yd$1&&(yd$1&&o.type==="mousemove"?(wd$1=o.screenX-yd$1.screenX,xd$1=o.screenY-yd$1.screenY):xd$1=wd$1=0,yd$1=o),wd$1)},movementY:function(o){return"movementY"in o?o.movementY:xd$1}}),Bd$1=rd$1(Ad$1),Cd$1=A$2({},Ad$1,{dataTransfer:0}),Dd$1=rd$1(Cd$1),Ed$1=A$2({},ud$1,{relatedTarget:0}),Fd$1=rd$1(Ed$1),Gd$1=A$2({},sd$1,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd$1=rd$1(Gd$1),Id$1=A$2({},sd$1,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jd$1=rd$1(Id$1),Kd$1=A$2({},sd$1,{data:0}),Ld$1=rd$1(Kd$1),Md$1={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd$1={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od$1={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd$1(o){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(o):(o=Od$1[o])?!!i[o]:!1}function zd$1(){return Pd$1}var Qd$1=A$2({},ud$1,{key:function(o){if(o.key){var i=Md$1[o.key]||o.key;if(i!=="Unidentified")return i}return o.type==="keypress"?(o=od$1(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?Nd$1[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd$1,charCode:function(o){return o.type==="keypress"?od$1(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?od$1(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Rd$1=rd$1(Qd$1),Sd$1=A$2({},Ad$1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td$1=rd$1(Sd$1),Ud$1=A$2({},ud$1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd$1}),Vd$1=rd$1(Ud$1),Wd$1=A$2({},sd$1,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd$1=rd$1(Wd$1),Yd$1=A$2({},Ad$1,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd$1=rd$1(Yd$1),$d$1=[9,13,27,32],ae$2=ia$1&&"CompositionEvent"in window,be$1=null;ia$1&&"documentMode"in document&&(be$1=document.documentMode);var ce=ia$1&&"TextEvent"in window&&!be$1,de$1=ia$1&&(!ae$2||be$1&&8<be$1&&11>=be$1),ee$1=" ",fe$1=!1;function ge$1(o,i){switch(o){case"keyup":return $d$1.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var ie$1=!1;function je(o,i){switch(o){case"compositionend":return he$1(i);case"keypress":return i.which!==32?null:(fe$1=!0,ee$1);case"textInput":return o=i.data,o===ee$1&&fe$1?null:o;default:return null}}function ke(o,i){if(ie$1)return o==="compositionend"||!ae$2&&ge$1(o,i)?(o=nd$1(),md$1=ld$1=kd$1=null,ie$1=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return de$1&&i.locale!=="ko"?null:i.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i==="input"?!!le$1[o.type]:i==="textarea"}function ne$1(o,i,s,a){Eb$1(a),i=oe$1(i,"onChange"),0<i.length&&(s=new td$1("onChange","change",null,s,a),o.push({event:s,listeners:i}))}var pe$1=null,qe=null;function re$1(o){se$1(o,0)}function te$1(o){var i=ue$1(o);if(Wa$1(i))return o}function ve(o,i){if(o==="change")return i}var we=!1;if(ia$1){var xe;if(ia$1){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we=xe&&(!document.documentMode||9<document.documentMode)}function Ae$1(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(o){if(o.propertyName==="value"&&te$1(qe)){var i=[];ne$1(i,qe,o,xb$1(o)),Jb$1(re$1,i)}}function Ce(o,i,s){o==="focusin"?(Ae$1(),pe$1=i,qe=s,pe$1.attachEvent("onpropertychange",Be)):o==="focusout"&&Ae$1()}function De(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return te$1(qe)}function Ee$1(o,i){if(o==="click")return te$1(i)}function Fe(o,i){if(o==="input"||o==="change")return te$1(i)}function Ge(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(o,i){if(He(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;var s=Object.keys(o),a=Object.keys(i);if(s.length!==a.length)return!1;for(a=0;a<s.length;a++){var et=s[a];if(!ja.call(i,et)||!He(o[et],i[et]))return!1}return!0}function Je(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function Ke(o,i){var s=Je(o);o=0;for(var a;s;){if(s.nodeType===3){if(a=o+s.textContent.length,o<=i&&a>=i)return{node:s,offset:i-o};o=a}e:{for(;s;){if(s.nextSibling){s=s.nextSibling;break e}s=s.parentNode}s=void 0}s=Je(s)}}function Le(o,i){return o&&i?o===i?!0:o&&o.nodeType===3?!1:i&&i.nodeType===3?Le(o,i.parentNode):"contains"in o?o.contains(i):o.compareDocumentPosition?!!(o.compareDocumentPosition(i)&16):!1:!1}function Me(){for(var o=window,i=Xa();i instanceof o.HTMLIFrameElement;){try{var s=typeof i.contentWindow.location.href=="string"}catch{s=!1}if(s)o=i.contentWindow;else break;i=Xa(o.document)}return i}function Ne(o){var i=o&&o.nodeName&&o.nodeName.toLowerCase();return i&&(i==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||i==="textarea"||o.contentEditable==="true")}function Oe(o){var i=Me(),s=o.focusedElem,a=o.selectionRange;if(i!==s&&s&&s.ownerDocument&&Le(s.ownerDocument.documentElement,s)){if(a!==null&&Ne(s)){if(i=a.start,o=a.end,o===void 0&&(o=i),"selectionStart"in s)s.selectionStart=i,s.selectionEnd=Math.min(o,s.value.length);else if(o=(i=s.ownerDocument||document)&&i.defaultView||window,o.getSelection){o=o.getSelection();var et=s.textContent.length,tt=Math.min(a.start,et);a=a.end===void 0?tt:Math.min(a.end,et),!o.extend&&tt>a&&(et=a,a=tt,tt=et),et=Ke(s,tt);var rt=Ke(s,a);et&&rt&&(o.rangeCount!==1||o.anchorNode!==et.node||o.anchorOffset!==et.offset||o.focusNode!==rt.node||o.focusOffset!==rt.offset)&&(i=i.createRange(),i.setStart(et.node,et.offset),o.removeAllRanges(),tt>a?(o.addRange(i),o.extend(rt.node,rt.offset)):(i.setEnd(rt.node,rt.offset),o.addRange(i)))}}for(i=[],o=s;o=o.parentNode;)o.nodeType===1&&i.push({element:o,left:o.scrollLeft,top:o.scrollTop});for(typeof s.focus=="function"&&s.focus(),s=0;s<i.length;s++)o=i[s],o.element.scrollLeft=o.left,o.element.scrollTop=o.top}}var Pe$1=ia$1&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re$1=null,Se=null,Te$1=!1;function Ue(o,i,s){var a=s.window===s?s.document:s.nodeType===9?s:s.ownerDocument;Te$1||Qe==null||Qe!==Xa(a)||(a=Qe,"selectionStart"in a&&Ne(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Se&&Ie$1(Se,a)||(Se=a,a=oe$1(Re$1,"onSelect"),0<a.length&&(i=new td$1("onSelect","select",null,i,s),o.push({event:i,listeners:a}),i.target=Qe)))}function Ve$1(o,i){var s={};return s[o.toLowerCase()]=i.toLowerCase(),s["Webkit"+o]="webkit"+i,s["Moz"+o]="moz"+i,s}var We={animationend:Ve$1("Animation","AnimationEnd"),animationiteration:Ve$1("Animation","AnimationIteration"),animationstart:Ve$1("Animation","AnimationStart"),transitionend:Ve$1("Transition","TransitionEnd")},Xe={},Ye={};ia$1&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(o){if(Xe[o])return Xe[o];if(!We[o])return o;var i=We[o],s;for(s in i)if(i.hasOwnProperty(s)&&s in Ye)return Xe[o]=i[s];return o}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(o,i){df.set(o,i),fa$1(i,[o])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha$1("onMouseEnter",["mouseout","mouseover"]);ha$1("onMouseLeave",["mouseout","mouseover"]);ha$1("onPointerEnter",["pointerout","pointerover"]);ha$1("onPointerLeave",["pointerout","pointerover"]);fa$1("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa$1("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa$1("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa$1("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa$1("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(o,i,s){var a=o.type||"unknown-event";o.currentTarget=s,Ub$1(a,i,void 0,o),o.currentTarget=null}function se$1(o,i){i=(i&4)!==0;for(var s=0;s<o.length;s++){var a=o[s],et=a.event;a=a.listeners;e:{var tt=void 0;if(i)for(var rt=a.length-1;0<=rt;rt--){var nt=a[rt],it=nt.instance,ot=nt.currentTarget;if(nt=nt.listener,it!==tt&&et.isPropagationStopped())break e;nf(et,nt,ot),tt=it}else for(rt=0;rt<a.length;rt++){if(nt=a[rt],it=nt.instance,ot=nt.currentTarget,nt=nt.listener,it!==tt&&et.isPropagationStopped())break e;nf(et,nt,ot),tt=it}}}if(Qb$1)throw o=Rb$1,Qb$1=!1,Rb$1=null,o}function D$2(o,i){var s=i[of];s===void 0&&(s=i[of]=new Set);var a=o+"__bubble";s.has(a)||(pf(i,o,2,!1),s.add(a))}function qf(o,i,s){var a=0;i&&(a|=4),pf(s,o,a,i)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(o){if(!o[rf]){o[rf]=!0,da$1.forEach(function(s){s!=="selectionchange"&&(mf.has(s)||qf(s,!1,o),qf(s,!0,o))});var i=o.nodeType===9?o:o.ownerDocument;i===null||i[rf]||(i[rf]=!0,qf("selectionchange",!1,i))}}function pf(o,i,s,a){switch(jd$1(i)){case 1:var et=ed$1;break;case 4:et=gd$1;break;default:et=fd$1}s=et.bind(null,i,s,o),et=void 0,!Lb$1||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(et=!0),a?et!==void 0?o.addEventListener(i,s,{capture:!0,passive:et}):o.addEventListener(i,s,!0):et!==void 0?o.addEventListener(i,s,{passive:et}):o.addEventListener(i,s,!1)}function hd$1(o,i,s,a,et){var tt=a;if(!(i&1)&&!(i&2)&&a!==null)e:for(;;){if(a===null)return;var rt=a.tag;if(rt===3||rt===4){var nt=a.stateNode.containerInfo;if(nt===et||nt.nodeType===8&&nt.parentNode===et)break;if(rt===4)for(rt=a.return;rt!==null;){var it=rt.tag;if((it===3||it===4)&&(it=rt.stateNode.containerInfo,it===et||it.nodeType===8&&it.parentNode===et))return;rt=rt.return}for(;nt!==null;){if(rt=Wc$1(nt),rt===null)return;if(it=rt.tag,it===5||it===6){a=tt=rt;continue e}nt=nt.parentNode}}a=a.return}Jb$1(function(){var ot=tt,st=xb$1(s),lt=[];e:{var at=df.get(o);if(at!==void 0){var ut=td$1,ft=o;switch(o){case"keypress":if(od$1(s)===0)break e;case"keydown":case"keyup":ut=Rd$1;break;case"focusin":ft="focus",ut=Fd$1;break;case"focusout":ft="blur",ut=Fd$1;break;case"beforeblur":case"afterblur":ut=Fd$1;break;case"click":if(s.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ut=Bd$1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ut=Dd$1;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ut=Vd$1;break;case $e:case af:case bf:ut=Hd$1;break;case cf:ut=Xd$1;break;case"scroll":ut=vd$1;break;case"wheel":ut=Zd$1;break;case"copy":case"cut":case"paste":ut=Jd$1;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ut=Td$1}var mt=(i&4)!==0,yt=!mt&&o==="scroll",ht=mt?at!==null?at+"Capture":null:at;mt=[];for(var pt=ot,ct;pt!==null;){ct=pt;var gt=ct.stateNode;if(ct.tag===5&&gt!==null&&(ct=gt,ht!==null&&(gt=Kb$1(pt,ht),gt!=null&&mt.push(tf(pt,gt,ct)))),yt)break;pt=pt.return}0<mt.length&&(at=new ut(at,ft,null,s,st),lt.push({event:at,listeners:mt}))}}if(!(i&7)){e:{if(at=o==="mouseover"||o==="pointerover",ut=o==="mouseout"||o==="pointerout",at&&s!==wb$1&&(ft=s.relatedTarget||s.fromElement)&&(Wc$1(ft)||ft[uf]))break e;if((ut||at)&&(at=st.window===st?st:(at=st.ownerDocument)?at.defaultView||at.parentWindow:window,ut?(ft=s.relatedTarget||s.toElement,ut=ot,ft=ft?Wc$1(ft):null,ft!==null&&(yt=Vb$1(ft),ft!==yt||ft.tag!==5&&ft.tag!==6)&&(ft=null)):(ut=null,ft=ot),ut!==ft)){if(mt=Bd$1,gt="onMouseLeave",ht="onMouseEnter",pt="mouse",(o==="pointerout"||o==="pointerover")&&(mt=Td$1,gt="onPointerLeave",ht="onPointerEnter",pt="pointer"),yt=ut==null?at:ue$1(ut),ct=ft==null?at:ue$1(ft),at=new mt(gt,pt+"leave",ut,s,st),at.target=yt,at.relatedTarget=ct,gt=null,Wc$1(st)===ot&&(mt=new mt(ht,pt+"enter",ft,s,st),mt.target=ct,mt.relatedTarget=yt,gt=mt),yt=gt,ut&&ft)t:{for(mt=ut,ht=ft,pt=0,ct=mt;ct;ct=vf(ct))pt++;for(ct=0,gt=ht;gt;gt=vf(gt))ct++;for(;0<pt-ct;)mt=vf(mt),pt--;for(;0<ct-pt;)ht=vf(ht),ct--;for(;pt--;){if(mt===ht||ht!==null&&mt===ht.alternate)break t;mt=vf(mt),ht=vf(ht)}mt=null}else mt=null;ut!==null&&wf(lt,at,ut,mt,!1),ft!==null&&yt!==null&&wf(lt,yt,ft,mt,!0)}}e:{if(at=ot?ue$1(ot):window,ut=at.nodeName&&at.nodeName.toLowerCase(),ut==="select"||ut==="input"&&at.type==="file")var Et=ve;else if(me$1(at))if(we)Et=Fe;else{Et=De;var bt=Ce}else(ut=at.nodeName)&&ut.toLowerCase()==="input"&&(at.type==="checkbox"||at.type==="radio")&&(Et=Ee$1);if(Et&&(Et=Et(o,ot))){ne$1(lt,Et,s,st);break e}bt&&bt(o,at,ot),o==="focusout"&&(bt=at._wrapperState)&&bt.controlled&&at.type==="number"&&cb$1(at,"number",at.value)}switch(bt=ot?ue$1(ot):window,o){case"focusin":(me$1(bt)||bt.contentEditable==="true")&&(Qe=bt,Re$1=ot,Se=null);break;case"focusout":Se=Re$1=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(lt,s,st);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(lt,s,st)}var xt;if(ae$2)e:{switch(o){case"compositionstart":var Tt="onCompositionStart";break e;case"compositionend":Tt="onCompositionEnd";break e;case"compositionupdate":Tt="onCompositionUpdate";break e}Tt=void 0}else ie$1?ge$1(o,s)&&(Tt="onCompositionEnd"):o==="keydown"&&s.keyCode===229&&(Tt="onCompositionStart");Tt&&(de$1&&s.locale!=="ko"&&(ie$1||Tt!=="onCompositionStart"?Tt==="onCompositionEnd"&&ie$1&&(xt=nd$1()):(kd$1=st,ld$1="value"in kd$1?kd$1.value:kd$1.textContent,ie$1=!0)),bt=oe$1(ot,Tt),0<bt.length&&(Tt=new Ld$1(Tt,o,null,s,st),lt.push({event:Tt,listeners:bt}),xt?Tt.data=xt:(xt=he$1(s),xt!==null&&(Tt.data=xt)))),(xt=ce?je(o,s):ke(o,s))&&(ot=oe$1(ot,"onBeforeInput"),0<ot.length&&(st=new Ld$1("onBeforeInput","beforeinput",null,s,st),lt.push({event:st,listeners:ot}),st.data=xt))}se$1(lt,i)})}function tf(o,i,s){return{instance:o,listener:i,currentTarget:s}}function oe$1(o,i){for(var s=i+"Capture",a=[];o!==null;){var et=o,tt=et.stateNode;et.tag===5&&tt!==null&&(et=tt,tt=Kb$1(o,s),tt!=null&&a.unshift(tf(o,tt,et)),tt=Kb$1(o,i),tt!=null&&a.push(tf(o,tt,et))),o=o.return}return a}function vf(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5);return o||null}function wf(o,i,s,a,et){for(var tt=i._reactName,rt=[];s!==null&&s!==a;){var nt=s,it=nt.alternate,ot=nt.stateNode;if(it!==null&&it===a)break;nt.tag===5&&ot!==null&&(nt=ot,et?(it=Kb$1(s,tt),it!=null&&rt.unshift(tf(s,it,nt))):et||(it=Kb$1(s,tt),it!=null&&rt.push(tf(s,it,nt)))),s=s.return}rt.length!==0&&o.push({event:i,listeners:rt})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(o){return(typeof o=="string"?o:""+o).replace(xf,`
`).replace(yf,"")}function Af(o,i,s){if(i=zf(i),zf(o)!==i&&s)throw Error(p$4(425))}function Bf(){}var Cf=null,Df=null;function Ef(o,i){return o==="textarea"||o==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(o){return Hf.resolve(null).then(o).catch(If)}:Ff;function If(o){setTimeout(function(){throw o})}function Kf(o,i){var s=i,a=0;do{var et=s.nextSibling;if(o.removeChild(s),et&&et.nodeType===8)if(s=et.data,s==="/$"){if(a===0){o.removeChild(et),bd$1(i);return}a--}else s!=="$"&&s!=="$?"&&s!=="$!"||a++;s=et}while(s);bd$1(i)}function Lf(o){for(;o!=null;o=o.nextSibling){var i=o.nodeType;if(i===1||i===3)break;if(i===8){if(i=o.data,i==="$"||i==="$!"||i==="$?")break;if(i==="/$")return null}}return o}function Mf(o){o=o.previousSibling;for(var i=0;o;){if(o.nodeType===8){var s=o.data;if(s==="$"||s==="$!"||s==="$?"){if(i===0)return o;i--}else s==="/$"&&i++}o=o.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc$1(o){var i=o[Of];if(i)return i;for(var s=o.parentNode;s;){if(i=s[uf]||s[Of]){if(s=i.alternate,i.child!==null||s!==null&&s.child!==null)for(o=Mf(o);o!==null;){if(s=o[Of])return s;o=Mf(o)}return i}o=s,s=o.parentNode}return null}function Cb$1(o){return o=o[Of]||o[uf],!o||o.tag!==5&&o.tag!==6&&o.tag!==13&&o.tag!==3?null:o}function ue$1(o){if(o.tag===5||o.tag===6)return o.stateNode;throw Error(p$4(33))}function Db(o){return o[Pf]||null}var Sf=[],Tf=-1;function Uf(o){return{current:o}}function E$1(o){0>Tf||(o.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(o,i){Tf++,Sf[Tf]=o.current,o.current=i}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(o,i){var s=o.type.contextTypes;if(!s)return Vf;var a=o.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===i)return a.__reactInternalMemoizedMaskedChildContext;var et={},tt;for(tt in s)et[tt]=i[tt];return a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=i,o.__reactInternalMemoizedMaskedChildContext=et),et}function Zf(o){return o=o.childContextTypes,o!=null}function $f(){E$1(Wf),E$1(H$2)}function ag(o,i,s){if(H$2.current!==Vf)throw Error(p$4(168));G$2(H$2,i),G$2(Wf,s)}function bg(o,i,s){var a=o.stateNode;if(i=i.childContextTypes,typeof a.getChildContext!="function")return s;a=a.getChildContext();for(var et in a)if(!(et in i))throw Error(p$4(108,Ra$1(o)||"Unknown",et));return A$2({},s,a)}function cg(o){return o=(o=o.stateNode)&&o.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,o),G$2(Wf,Wf.current),!0}function dg(o,i,s){var a=o.stateNode;if(!a)throw Error(p$4(169));s?(o=bg(o,i,Xf),a.__reactInternalMemoizedMergedChildContext=o,E$1(Wf),E$1(H$2),G$2(H$2,o)):E$1(Wf),G$2(Wf,s)}var eg=null,fg=!1,gg=!1;function hg(o){eg===null?eg=[o]:eg.push(o)}function ig(o){fg=!0,hg(o)}function jg(){if(!gg&&eg!==null){gg=!0;var o=0,i=C$2;try{var s=eg;for(C$2=1;o<s.length;o++){var a=s[o];do a=a(!0);while(a!==null)}eg=null,fg=!1}catch(et){throw eg!==null&&(eg=eg.slice(o+1)),ac$1(fc$1,jg),et}finally{C$2=i,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(o,i){kg[lg++]=ng,kg[lg++]=mg,mg=o,ng=i}function ug(o,i,s){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=o;var a=rg;o=sg;var et=32-oc$1(a)-1;a&=~(1<<et),s+=1;var tt=32-oc$1(i)+et;if(30<tt){var rt=et-et%5;tt=(a&(1<<rt)-1).toString(32),a>>=rt,et-=rt,rg=1<<32-oc$1(i)+et|s<<et|a,sg=tt+o}else rg=1<<tt|s<<et|a,sg=o}function vg(o){o.return!==null&&(tg(o,1),ug(o,1,0))}function wg(o){for(;o===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;o===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$1=!1,zg=null;function Ag(o,i){var s=Bg(5,null,null,0);s.elementType="DELETED",s.stateNode=i,s.return=o,i=o.deletions,i===null?(o.deletions=[s],o.flags|=16):i.push(s)}function Cg(o,i){switch(o.tag){case 5:var s=o.type;return i=i.nodeType!==1||s.toLowerCase()!==i.nodeName.toLowerCase()?null:i,i!==null?(o.stateNode=i,xg=o,yg=Lf(i.firstChild),!0):!1;case 6:return i=o.pendingProps===""||i.nodeType!==3?null:i,i!==null?(o.stateNode=i,xg=o,yg=null,!0):!1;case 13:return i=i.nodeType!==8?null:i,i!==null?(s=qg!==null?{id:rg,overflow:sg}:null,o.memoizedState={dehydrated:i,treeContext:s,retryLane:1073741824},s=Bg(18,null,null,0),s.stateNode=i,s.return=o,o.child=s,xg=o,yg=null,!0):!1;default:return!1}}function Dg(o){return(o.mode&1)!==0&&(o.flags&128)===0}function Eg(o){if(I$1){var i=yg;if(i){var s=i;if(!Cg(o,i)){if(Dg(o))throw Error(p$4(418));i=Lf(s.nextSibling);var a=xg;i&&Cg(o,i)?Ag(a,s):(o.flags=o.flags&-4097|2,I$1=!1,xg=o)}}else{if(Dg(o))throw Error(p$4(418));o.flags=o.flags&-4097|2,I$1=!1,xg=o}}}function Fg(o){for(o=o.return;o!==null&&o.tag!==5&&o.tag!==3&&o.tag!==13;)o=o.return;xg=o}function Gg(o){if(o!==xg)return!1;if(!I$1)return Fg(o),I$1=!0,!1;var i;if((i=o.tag!==3)&&!(i=o.tag!==5)&&(i=o.type,i=i!=="head"&&i!=="body"&&!Ef(o.type,o.memoizedProps)),i&&(i=yg)){if(Dg(o))throw Hg(),Error(p$4(418));for(;i;)Ag(o,i),i=Lf(i.nextSibling)}if(Fg(o),o.tag===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(p$4(317));e:{for(o=o.nextSibling,i=0;o;){if(o.nodeType===8){var s=o.data;if(s==="/$"){if(i===0){yg=Lf(o.nextSibling);break e}i--}else s!=="$"&&s!=="$!"&&s!=="$?"||i++}o=o.nextSibling}yg=null}}else yg=xg?Lf(o.stateNode.nextSibling):null;return!0}function Hg(){for(var o=yg;o;)o=Lf(o.nextSibling)}function Ig(){yg=xg=null,I$1=!1}function Jg(o){zg===null?zg=[o]:zg.push(o)}var Kg=ua$1.ReactCurrentBatchConfig;function Lg(o,i){if(o&&o.defaultProps){i=A$2({},i),o=o.defaultProps;for(var s in o)i[s]===void 0&&(i[s]=o[s]);return i}return i}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(o){var i=Mg.current;E$1(Mg),o._currentValue=i}function Sg(o,i,s){for(;o!==null;){var a=o.alternate;if((o.childLanes&i)!==i?(o.childLanes|=i,a!==null&&(a.childLanes|=i)):a!==null&&(a.childLanes&i)!==i&&(a.childLanes|=i),o===s)break;o=o.return}}function Tg(o,i){Ng=o,Pg=Og=null,o=o.dependencies,o!==null&&o.firstContext!==null&&(o.lanes&i&&(Ug=!0),o.firstContext=null)}function Vg(o){var i=o._currentValue;if(Pg!==o)if(o={context:o,memoizedValue:i,next:null},Og===null){if(Ng===null)throw Error(p$4(308));Og=o,Ng.dependencies={lanes:0,firstContext:o}}else Og=Og.next=o;return i}var Wg=null;function Xg(o){Wg===null?Wg=[o]:Wg.push(o)}function Yg(o,i,s,a){var et=i.interleaved;return et===null?(s.next=s,Xg(i)):(s.next=et.next,et.next=s),i.interleaved=s,Zg(o,a)}function Zg(o,i){o.lanes|=i;var s=o.alternate;for(s!==null&&(s.lanes|=i),s=o,o=o.return;o!==null;)o.childLanes|=i,s=o.alternate,s!==null&&(s.childLanes|=i),s=o,o=o.return;return s.tag===3?s.stateNode:null}var $g=!1;function ah(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(o,i){o=o.updateQueue,i.updateQueue===o&&(i.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,effects:o.effects})}function ch(o,i){return{eventTime:o,lane:i,tag:0,payload:null,callback:null,next:null}}function dh(o,i,s){var a=o.updateQueue;if(a===null)return null;if(a=a.shared,K$2&2){var et=a.pending;return et===null?i.next=i:(i.next=et.next,et.next=i),a.pending=i,Zg(o,s)}return et=a.interleaved,et===null?(i.next=i,Xg(a)):(i.next=et.next,et.next=i),a.interleaved=i,Zg(o,s)}function eh(o,i,s){if(i=i.updateQueue,i!==null&&(i=i.shared,(s&4194240)!==0)){var a=i.lanes;a&=o.pendingLanes,s|=a,i.lanes=s,Cc$1(o,s)}}function fh(o,i){var s=o.updateQueue,a=o.alternate;if(a!==null&&(a=a.updateQueue,s===a)){var et=null,tt=null;if(s=s.firstBaseUpdate,s!==null){do{var rt={eventTime:s.eventTime,lane:s.lane,tag:s.tag,payload:s.payload,callback:s.callback,next:null};tt===null?et=tt=rt:tt=tt.next=rt,s=s.next}while(s!==null);tt===null?et=tt=i:tt=tt.next=i}else et=tt=i;s={baseState:a.baseState,firstBaseUpdate:et,lastBaseUpdate:tt,shared:a.shared,effects:a.effects},o.updateQueue=s;return}o=s.lastBaseUpdate,o===null?s.firstBaseUpdate=i:o.next=i,s.lastBaseUpdate=i}function gh(o,i,s,a){var et=o.updateQueue;$g=!1;var tt=et.firstBaseUpdate,rt=et.lastBaseUpdate,nt=et.shared.pending;if(nt!==null){et.shared.pending=null;var it=nt,ot=it.next;it.next=null,rt===null?tt=ot:rt.next=ot,rt=it;var st=o.alternate;st!==null&&(st=st.updateQueue,nt=st.lastBaseUpdate,nt!==rt&&(nt===null?st.firstBaseUpdate=ot:nt.next=ot,st.lastBaseUpdate=it))}if(tt!==null){var lt=et.baseState;rt=0,st=ot=it=null,nt=tt;do{var at=nt.lane,ut=nt.eventTime;if((a&at)===at){st!==null&&(st=st.next={eventTime:ut,lane:0,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null});e:{var ft=o,mt=nt;switch(at=i,ut=s,mt.tag){case 1:if(ft=mt.payload,typeof ft=="function"){lt=ft.call(ut,lt,at);break e}lt=ft;break e;case 3:ft.flags=ft.flags&-65537|128;case 0:if(ft=mt.payload,at=typeof ft=="function"?ft.call(ut,lt,at):ft,at==null)break e;lt=A$2({},lt,at);break e;case 2:$g=!0}}nt.callback!==null&&nt.lane!==0&&(o.flags|=64,at=et.effects,at===null?et.effects=[nt]:at.push(nt))}else ut={eventTime:ut,lane:at,tag:nt.tag,payload:nt.payload,callback:nt.callback,next:null},st===null?(ot=st=ut,it=lt):st=st.next=ut,rt|=at;if(nt=nt.next,nt===null){if(nt=et.shared.pending,nt===null)break;at=nt,nt=at.next,at.next=null,et.lastBaseUpdate=at,et.shared.pending=null}}while(!0);if(st===null&&(it=lt),et.baseState=it,et.firstBaseUpdate=ot,et.lastBaseUpdate=st,i=et.shared.interleaved,i!==null){et=i;do rt|=et.lane,et=et.next;while(et!==i)}else tt===null&&(et.shared.lanes=0);hh|=rt,o.lanes=rt,o.memoizedState=lt}}function ih(o,i,s){if(o=i.effects,i.effects=null,o!==null)for(i=0;i<o.length;i++){var a=o[i],et=a.callback;if(et!==null){if(a.callback=null,a=s,typeof et!="function")throw Error(p$4(191,et));et.call(a)}}}var jh=new aa$1.Component().refs;function kh(o,i,s,a){i=o.memoizedState,s=s(a,i),s=s==null?i:A$2({},i,s),o.memoizedState=s,o.lanes===0&&(o.updateQueue.baseState=s)}var nh={isMounted:function(o){return(o=o._reactInternals)?Vb$1(o)===o:!1},enqueueSetState:function(o,i,s){o=o._reactInternals;var a=L$1(),et=lh(o),tt=ch(a,et);tt.payload=i,s!=null&&(tt.callback=s),i=dh(o,tt,et),i!==null&&(mh(i,o,et,a),eh(i,o,et))},enqueueReplaceState:function(o,i,s){o=o._reactInternals;var a=L$1(),et=lh(o),tt=ch(a,et);tt.tag=1,tt.payload=i,s!=null&&(tt.callback=s),i=dh(o,tt,et),i!==null&&(mh(i,o,et,a),eh(i,o,et))},enqueueForceUpdate:function(o,i){o=o._reactInternals;var s=L$1(),a=lh(o),et=ch(s,a);et.tag=2,i!=null&&(et.callback=i),i=dh(o,et,a),i!==null&&(mh(i,o,a,s),eh(i,o,a))}};function oh(o,i,s,a,et,tt,rt){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(a,tt,rt):i.prototype&&i.prototype.isPureReactComponent?!Ie$1(s,a)||!Ie$1(et,tt):!0}function ph(o,i,s){var a=!1,et=Vf,tt=i.contextType;return typeof tt=="object"&&tt!==null?tt=Vg(tt):(et=Zf(i)?Xf:H$2.current,a=i.contextTypes,tt=(a=a!=null)?Yf(o,et):Vf),i=new i(s,tt),o.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,i.updater=nh,o.stateNode=i,i._reactInternals=o,a&&(o=o.stateNode,o.__reactInternalMemoizedUnmaskedChildContext=et,o.__reactInternalMemoizedMaskedChildContext=tt),i}function qh(o,i,s,a){o=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(s,a),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(s,a),i.state!==o&&nh.enqueueReplaceState(i,i.state,null)}function rh(o,i,s,a){var et=o.stateNode;et.props=s,et.state=o.memoizedState,et.refs=jh,ah(o);var tt=i.contextType;typeof tt=="object"&&tt!==null?et.context=Vg(tt):(tt=Zf(i)?Xf:H$2.current,et.context=Yf(o,tt)),et.state=o.memoizedState,tt=i.getDerivedStateFromProps,typeof tt=="function"&&(kh(o,i,tt,s),et.state=o.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof et.getSnapshotBeforeUpdate=="function"||typeof et.UNSAFE_componentWillMount!="function"&&typeof et.componentWillMount!="function"||(i=et.state,typeof et.componentWillMount=="function"&&et.componentWillMount(),typeof et.UNSAFE_componentWillMount=="function"&&et.UNSAFE_componentWillMount(),i!==et.state&&nh.enqueueReplaceState(et,et.state,null),gh(o,s,et,a),et.state=o.memoizedState),typeof et.componentDidMount=="function"&&(o.flags|=4194308)}function sh(o,i,s){if(o=s.ref,o!==null&&typeof o!="function"&&typeof o!="object"){if(s._owner){if(s=s._owner,s){if(s.tag!==1)throw Error(p$4(309));var a=s.stateNode}if(!a)throw Error(p$4(147,o));var et=a,tt=""+o;return i!==null&&i.ref!==null&&typeof i.ref=="function"&&i.ref._stringRef===tt?i.ref:(i=function(rt){var nt=et.refs;nt===jh&&(nt=et.refs={}),rt===null?delete nt[tt]:nt[tt]=rt},i._stringRef=tt,i)}if(typeof o!="string")throw Error(p$4(284));if(!s._owner)throw Error(p$4(290,o))}return o}function th(o,i){throw o=Object.prototype.toString.call(i),Error(p$4(31,o==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":o))}function uh(o){var i=o._init;return i(o._payload)}function vh(o){function i(ht,pt){if(o){var ct=ht.deletions;ct===null?(ht.deletions=[pt],ht.flags|=16):ct.push(pt)}}function s(ht,pt){if(!o)return null;for(;pt!==null;)i(ht,pt),pt=pt.sibling;return null}function a(ht,pt){for(ht=new Map;pt!==null;)pt.key!==null?ht.set(pt.key,pt):ht.set(pt.index,pt),pt=pt.sibling;return ht}function et(ht,pt){return ht=wh(ht,pt),ht.index=0,ht.sibling=null,ht}function tt(ht,pt,ct){return ht.index=ct,o?(ct=ht.alternate,ct!==null?(ct=ct.index,ct<pt?(ht.flags|=2,pt):ct):(ht.flags|=2,pt)):(ht.flags|=1048576,pt)}function rt(ht){return o&&ht.alternate===null&&(ht.flags|=2),ht}function nt(ht,pt,ct,gt){return pt===null||pt.tag!==6?(pt=xh(ct,ht.mode,gt),pt.return=ht,pt):(pt=et(pt,ct),pt.return=ht,pt)}function it(ht,pt,ct,gt){var Et=ct.type;return Et===ya$1?st(ht,pt,ct.props.children,gt,ct.key):pt!==null&&(pt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha$1&&uh(Et)===pt.type)?(gt=et(pt,ct.props),gt.ref=sh(ht,pt,ct),gt.return=ht,gt):(gt=yh(ct.type,ct.key,ct.props,null,ht.mode,gt),gt.ref=sh(ht,pt,ct),gt.return=ht,gt)}function ot(ht,pt,ct,gt){return pt===null||pt.tag!==4||pt.stateNode.containerInfo!==ct.containerInfo||pt.stateNode.implementation!==ct.implementation?(pt=zh(ct,ht.mode,gt),pt.return=ht,pt):(pt=et(pt,ct.children||[]),pt.return=ht,pt)}function st(ht,pt,ct,gt,Et){return pt===null||pt.tag!==7?(pt=Ah(ct,ht.mode,gt,Et),pt.return=ht,pt):(pt=et(pt,ct),pt.return=ht,pt)}function lt(ht,pt,ct){if(typeof pt=="string"&&pt!==""||typeof pt=="number")return pt=xh(""+pt,ht.mode,ct),pt.return=ht,pt;if(typeof pt=="object"&&pt!==null){switch(pt.$$typeof){case va$1:return ct=yh(pt.type,pt.key,pt.props,null,ht.mode,ct),ct.ref=sh(ht,null,pt),ct.return=ht,ct;case wa$1:return pt=zh(pt,ht.mode,ct),pt.return=ht,pt;case Ha$1:var gt=pt._init;return lt(ht,gt(pt._payload),ct)}if(eb$1(pt)||Ka(pt))return pt=Ah(pt,ht.mode,ct,null),pt.return=ht,pt;th(ht,pt)}return null}function at(ht,pt,ct,gt){var Et=pt!==null?pt.key:null;if(typeof ct=="string"&&ct!==""||typeof ct=="number")return Et!==null?null:nt(ht,pt,""+ct,gt);if(typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va$1:return ct.key===Et?it(ht,pt,ct,gt):null;case wa$1:return ct.key===Et?ot(ht,pt,ct,gt):null;case Ha$1:return Et=ct._init,at(ht,pt,Et(ct._payload),gt)}if(eb$1(ct)||Ka(ct))return Et!==null?null:st(ht,pt,ct,gt,null);th(ht,ct)}return null}function ut(ht,pt,ct,gt,Et){if(typeof gt=="string"&&gt!==""||typeof gt=="number")return ht=ht.get(ct)||null,nt(pt,ht,""+gt,Et);if(typeof gt=="object"&&gt!==null){switch(gt.$$typeof){case va$1:return ht=ht.get(gt.key===null?ct:gt.key)||null,it(pt,ht,gt,Et);case wa$1:return ht=ht.get(gt.key===null?ct:gt.key)||null,ot(pt,ht,gt,Et);case Ha$1:var bt=gt._init;return ut(ht,pt,ct,bt(gt._payload),Et)}if(eb$1(gt)||Ka(gt))return ht=ht.get(ct)||null,st(pt,ht,gt,Et,null);th(pt,gt)}return null}function ft(ht,pt,ct,gt){for(var Et=null,bt=null,xt=pt,Tt=pt=0,wt=null;xt!==null&&Tt<ct.length;Tt++){xt.index>Tt?(wt=xt,xt=null):wt=xt.sibling;var It=at(ht,xt,ct[Tt],gt);if(It===null){xt===null&&(xt=wt);break}o&&xt&&It.alternate===null&&i(ht,xt),pt=tt(It,pt,Tt),bt===null?Et=It:bt.sibling=It,bt=It,xt=wt}if(Tt===ct.length)return s(ht,xt),I$1&&tg(ht,Tt),Et;if(xt===null){for(;Tt<ct.length;Tt++)xt=lt(ht,ct[Tt],gt),xt!==null&&(pt=tt(xt,pt,Tt),bt===null?Et=xt:bt.sibling=xt,bt=xt);return I$1&&tg(ht,Tt),Et}for(xt=a(ht,xt);Tt<ct.length;Tt++)wt=ut(xt,ht,Tt,ct[Tt],gt),wt!==null&&(o&&wt.alternate!==null&&xt.delete(wt.key===null?Tt:wt.key),pt=tt(wt,pt,Tt),bt===null?Et=wt:bt.sibling=wt,bt=wt);return o&&xt.forEach(function(At){return i(ht,At)}),I$1&&tg(ht,Tt),Et}function mt(ht,pt,ct,gt){var Et=Ka(ct);if(typeof Et!="function")throw Error(p$4(150));if(ct=Et.call(ct),ct==null)throw Error(p$4(151));for(var bt=Et=null,xt=pt,Tt=pt=0,wt=null,It=ct.next();xt!==null&&!It.done;Tt++,It=ct.next()){xt.index>Tt?(wt=xt,xt=null):wt=xt.sibling;var At=at(ht,xt,It.value,gt);if(At===null){xt===null&&(xt=wt);break}o&&xt&&At.alternate===null&&i(ht,xt),pt=tt(At,pt,Tt),bt===null?Et=At:bt.sibling=At,bt=At,xt=wt}if(It.done)return s(ht,xt),I$1&&tg(ht,Tt),Et;if(xt===null){for(;!It.done;Tt++,It=ct.next())It=lt(ht,It.value,gt),It!==null&&(pt=tt(It,pt,Tt),bt===null?Et=It:bt.sibling=It,bt=It);return I$1&&tg(ht,Tt),Et}for(xt=a(ht,xt);!It.done;Tt++,It=ct.next())It=ut(xt,ht,Tt,It.value,gt),It!==null&&(o&&It.alternate!==null&&xt.delete(It.key===null?Tt:It.key),pt=tt(It,pt,Tt),bt===null?Et=It:bt.sibling=It,bt=It);return o&&xt.forEach(function(kt){return i(ht,kt)}),I$1&&tg(ht,Tt),Et}function yt(ht,pt,ct,gt){if(typeof ct=="object"&&ct!==null&&ct.type===ya$1&&ct.key===null&&(ct=ct.props.children),typeof ct=="object"&&ct!==null){switch(ct.$$typeof){case va$1:e:{for(var Et=ct.key,bt=pt;bt!==null;){if(bt.key===Et){if(Et=ct.type,Et===ya$1){if(bt.tag===7){s(ht,bt.sibling),pt=et(bt,ct.props.children),pt.return=ht,ht=pt;break e}}else if(bt.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ha$1&&uh(Et)===bt.type){s(ht,bt.sibling),pt=et(bt,ct.props),pt.ref=sh(ht,bt,ct),pt.return=ht,ht=pt;break e}s(ht,bt);break}else i(ht,bt);bt=bt.sibling}ct.type===ya$1?(pt=Ah(ct.props.children,ht.mode,gt,ct.key),pt.return=ht,ht=pt):(gt=yh(ct.type,ct.key,ct.props,null,ht.mode,gt),gt.ref=sh(ht,pt,ct),gt.return=ht,ht=gt)}return rt(ht);case wa$1:e:{for(bt=ct.key;pt!==null;){if(pt.key===bt)if(pt.tag===4&&pt.stateNode.containerInfo===ct.containerInfo&&pt.stateNode.implementation===ct.implementation){s(ht,pt.sibling),pt=et(pt,ct.children||[]),pt.return=ht,ht=pt;break e}else{s(ht,pt);break}else i(ht,pt);pt=pt.sibling}pt=zh(ct,ht.mode,gt),pt.return=ht,ht=pt}return rt(ht);case Ha$1:return bt=ct._init,yt(ht,pt,bt(ct._payload),gt)}if(eb$1(ct))return ft(ht,pt,ct,gt);if(Ka(ct))return mt(ht,pt,ct,gt);th(ht,ct)}return typeof ct=="string"&&ct!==""||typeof ct=="number"?(ct=""+ct,pt!==null&&pt.tag===6?(s(ht,pt.sibling),pt=et(pt,ct),pt.return=ht,ht=pt):(s(ht,pt),pt=xh(ct,ht.mode,gt),pt.return=ht,ht=pt),rt(ht)):s(ht,pt)}return yt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(o){if(o===Dh)throw Error(p$4(174));return o}function Ih(o,i){switch(G$2(Gh,i),G$2(Fh,o),G$2(Eh,Dh),o=i.nodeType,o){case 9:case 11:i=(i=i.documentElement)?i.namespaceURI:lb$1(null,"");break;default:o=o===8?i.parentNode:i,i=o.namespaceURI||null,o=o.tagName,i=lb$1(i,o)}E$1(Eh),G$2(Eh,i)}function Jh(){E$1(Eh),E$1(Fh),E$1(Gh)}function Kh(o){Hh(Gh.current);var i=Hh(Eh.current),s=lb$1(i,o.type);i!==s&&(G$2(Fh,o),G$2(Eh,s))}function Lh(o){Fh.current===o&&(E$1(Eh),E$1(Fh))}var M$2=Uf(0);function Mh(o){for(var i=o;i!==null;){if(i.tag===13){var s=i.memoizedState;if(s!==null&&(s=s.dehydrated,s===null||s.data==="$?"||s.data==="$!"))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if(i.flags&128)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var Nh=[];function Oh(){for(var o=0;o<Nh.length;o++)Nh[o]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua$1.ReactCurrentDispatcher,Qh=ua$1.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$1=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$4(321))}function Wh(o,i){if(i===null)return!1;for(var s=0;s<i.length&&s<o.length;s++)if(!He(o[s],i[s]))return!1;return!0}function Xh(o,i,s,a,et,tt){if(Rh=tt,N$2=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,Ph.current=o===null||o.memoizedState===null?Yh:Zh,o=s(a,et),Th){tt=0;do{if(Th=!1,Uh=0,25<=tt)throw Error(p$4(301));tt+=1,P$1=O$2=null,i.updateQueue=null,Ph.current=$h,o=s(a,et)}while(Th)}if(Ph.current=ai,i=O$2!==null&&O$2.next!==null,Rh=0,P$1=O$2=N$2=null,Sh=!1,i)throw Error(p$4(300));return o}function bi(){var o=Uh!==0;return Uh=0,o}function ci(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$1===null?N$2.memoizedState=P$1=o:P$1=P$1.next=o,P$1}function di(){if(O$2===null){var o=N$2.alternate;o=o!==null?o.memoizedState:null}else o=O$2.next;var i=P$1===null?N$2.memoizedState:P$1.next;if(i!==null)P$1=i,O$2=o;else{if(o===null)throw Error(p$4(310));O$2=o,o={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$1===null?N$2.memoizedState=P$1=o:P$1=P$1.next=o}return P$1}function ei(o,i){return typeof i=="function"?i(o):i}function fi(o){var i=di(),s=i.queue;if(s===null)throw Error(p$4(311));s.lastRenderedReducer=o;var a=O$2,et=a.baseQueue,tt=s.pending;if(tt!==null){if(et!==null){var rt=et.next;et.next=tt.next,tt.next=rt}a.baseQueue=et=tt,s.pending=null}if(et!==null){tt=et.next,a=a.baseState;var nt=rt=null,it=null,ot=tt;do{var st=ot.lane;if((Rh&st)===st)it!==null&&(it=it.next={lane:0,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null}),a=ot.hasEagerState?ot.eagerState:o(a,ot.action);else{var lt={lane:st,action:ot.action,hasEagerState:ot.hasEagerState,eagerState:ot.eagerState,next:null};it===null?(nt=it=lt,rt=a):it=it.next=lt,N$2.lanes|=st,hh|=st}ot=ot.next}while(ot!==null&&ot!==tt);it===null?rt=a:it.next=nt,He(a,i.memoizedState)||(Ug=!0),i.memoizedState=a,i.baseState=rt,i.baseQueue=it,s.lastRenderedState=a}if(o=s.interleaved,o!==null){et=o;do tt=et.lane,N$2.lanes|=tt,hh|=tt,et=et.next;while(et!==o)}else et===null&&(s.lanes=0);return[i.memoizedState,s.dispatch]}function gi(o){var i=di(),s=i.queue;if(s===null)throw Error(p$4(311));s.lastRenderedReducer=o;var a=s.dispatch,et=s.pending,tt=i.memoizedState;if(et!==null){s.pending=null;var rt=et=et.next;do tt=o(tt,rt.action),rt=rt.next;while(rt!==et);He(tt,i.memoizedState)||(Ug=!0),i.memoizedState=tt,i.baseQueue===null&&(i.baseState=tt),s.lastRenderedState=tt}return[tt,a]}function hi(){}function ii(o,i){var s=N$2,a=di(),et=i(),tt=!He(a.memoizedState,et);if(tt&&(a.memoizedState=et,Ug=!0),a=a.queue,ji(ki.bind(null,s,a,o),[o]),a.getSnapshot!==i||tt||P$1!==null&&P$1.memoizedState.tag&1){if(s.flags|=2048,li(9,mi.bind(null,s,a,et,i),void 0,null),R$1===null)throw Error(p$4(349));Rh&30||ni(s,i,et)}return et}function ni(o,i,s){o.flags|=16384,o={getSnapshot:i,value:s},i=N$2.updateQueue,i===null?(i={lastEffect:null,stores:null},N$2.updateQueue=i,i.stores=[o]):(s=i.stores,s===null?i.stores=[o]:s.push(o))}function mi(o,i,s,a){i.value=s,i.getSnapshot=a,oi(i)&&pi(o)}function ki(o,i,s){return s(function(){oi(i)&&pi(o)})}function oi(o){var i=o.getSnapshot;o=o.value;try{var s=i();return!He(o,s)}catch{return!0}}function pi(o){var i=Zg(o,1);i!==null&&mh(i,o,1,-1)}function qi(o){var i=ci();return typeof o=="function"&&(o=o()),i.memoizedState=i.baseState=o,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:o},i.queue=o,o=o.dispatch=ri.bind(null,N$2,o),[i.memoizedState,o]}function li(o,i,s,a){return o={tag:o,create:i,destroy:s,deps:a,next:null},i=N$2.updateQueue,i===null?(i={lastEffect:null,stores:null},N$2.updateQueue=i,i.lastEffect=o.next=o):(s=i.lastEffect,s===null?i.lastEffect=o.next=o:(a=s.next,s.next=o,o.next=a,i.lastEffect=o)),o}function si(){return di().memoizedState}function ti(o,i,s,a){var et=ci();N$2.flags|=o,et.memoizedState=li(1|i,s,void 0,a===void 0?null:a)}function ui(o,i,s,a){var et=di();a=a===void 0?null:a;var tt=void 0;if(O$2!==null){var rt=O$2.memoizedState;if(tt=rt.destroy,a!==null&&Wh(a,rt.deps)){et.memoizedState=li(i,s,tt,a);return}}N$2.flags|=o,et.memoizedState=li(1|i,s,tt,a)}function vi(o,i){return ti(8390656,8,o,i)}function ji(o,i){return ui(2048,8,o,i)}function wi(o,i){return ui(4,2,o,i)}function xi(o,i){return ui(4,4,o,i)}function yi(o,i){if(typeof i=="function")return o=o(),i(o),function(){i(null)};if(i!=null)return o=o(),i.current=o,function(){i.current=null}}function zi(o,i,s){return s=s!=null?s.concat([o]):null,ui(4,4,yi.bind(null,i,o),s)}function Ai(){}function Bi(o,i){var s=di();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Wh(i,a[1])?a[0]:(s.memoizedState=[o,i],o)}function Ci(o,i){var s=di();i=i===void 0?null:i;var a=s.memoizedState;return a!==null&&i!==null&&Wh(i,a[1])?a[0]:(o=o(),s.memoizedState=[o,i],o)}function Di(o,i,s){return Rh&21?(He(s,i)||(s=yc$1(),N$2.lanes|=s,hh|=s,o.baseState=!0),i):(o.baseState&&(o.baseState=!1,Ug=!0),o.memoizedState=s)}function Ei(o,i){var s=C$2;C$2=s!==0&&4>s?s:4,o(!0);var a=Qh.transition;Qh.transition={};try{o(!1),i()}finally{C$2=s,Qh.transition=a}}function Fi(){return di().memoizedState}function Gi(o,i,s){var a=lh(o);if(s={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null},Hi(o))Ii(i,s);else if(s=Yg(o,i,s,a),s!==null){var et=L$1();mh(s,o,a,et),Ji(s,i,a)}}function ri(o,i,s){var a=lh(o),et={lane:a,action:s,hasEagerState:!1,eagerState:null,next:null};if(Hi(o))Ii(i,et);else{var tt=o.alternate;if(o.lanes===0&&(tt===null||tt.lanes===0)&&(tt=i.lastRenderedReducer,tt!==null))try{var rt=i.lastRenderedState,nt=tt(rt,s);if(et.hasEagerState=!0,et.eagerState=nt,He(nt,rt)){var it=i.interleaved;it===null?(et.next=et,Xg(i)):(et.next=it.next,it.next=et),i.interleaved=et;return}}catch{}finally{}s=Yg(o,i,et,a),s!==null&&(et=L$1(),mh(s,o,a,et),Ji(s,i,a))}}function Hi(o){var i=o.alternate;return o===N$2||i!==null&&i===N$2}function Ii(o,i){Th=Sh=!0;var s=o.pending;s===null?i.next=i:(i.next=s.next,s.next=i),o.pending=i}function Ji(o,i,s){if(s&4194240){var a=i.lanes;a&=o.pendingLanes,s|=a,i.lanes=s,Cc$1(o,s)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(o,i){return ci().memoizedState=[o,i===void 0?null:i],o},useContext:Vg,useEffect:vi,useImperativeHandle:function(o,i,s){return s=s!=null?s.concat([o]):null,ti(4194308,4,yi.bind(null,i,o),s)},useLayoutEffect:function(o,i){return ti(4194308,4,o,i)},useInsertionEffect:function(o,i){return ti(4,2,o,i)},useMemo:function(o,i){var s=ci();return i=i===void 0?null:i,o=o(),s.memoizedState=[o,i],o},useReducer:function(o,i,s){var a=ci();return i=s!==void 0?s(i):i,a.memoizedState=a.baseState=i,o={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:i},a.queue=o,o=o.dispatch=Gi.bind(null,N$2,o),[a.memoizedState,o]},useRef:function(o){var i=ci();return o={current:o},i.memoizedState=o},useState:qi,useDebugValue:Ai,useDeferredValue:function(o){return ci().memoizedState=o},useTransition:function(){var o=qi(!1),i=o[0];return o=Ei.bind(null,o[1]),ci().memoizedState=o,[i,o]},useMutableSource:function(){},useSyncExternalStore:function(o,i,s){var a=N$2,et=ci();if(I$1){if(s===void 0)throw Error(p$4(407));s=s()}else{if(s=i(),R$1===null)throw Error(p$4(349));Rh&30||ni(a,i,s)}et.memoizedState=s;var tt={value:s,getSnapshot:i};return et.queue=tt,vi(ki.bind(null,a,tt,o),[o]),a.flags|=2048,li(9,mi.bind(null,a,tt,s,i),void 0,null),s},useId:function(){var o=ci(),i=R$1.identifierPrefix;if(I$1){var s=sg,a=rg;s=(a&~(1<<32-oc$1(a)-1)).toString(32)+s,i=":"+i+"R"+s,s=Uh++,0<s&&(i+="H"+s.toString(32)),i+=":"}else s=Vh++,i=":"+i+"r"+s.toString(32)+":";return o.memoizedState=i},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var i=di();return Di(i,O$2.memoizedState,o)},useTransition:function(){var o=fi(ei)[0],i=di().memoizedState;return[o,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(o){var i=di();return O$2===null?i.memoizedState=o:Di(i,O$2.memoizedState,o)},useTransition:function(){var o=gi(ei)[0],i=di().memoizedState;return[o,i]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(o,i){try{var s="",a=i;do s+=Pa$1(a),a=a.return;while(a);var et=s}catch(tt){et=`
Error generating stack: `+tt.message+`
`+tt.stack}return{value:o,source:i,stack:et,digest:null}}function Li(o,i,s){return{value:o,source:null,stack:s??null,digest:i??null}}function Mi(o,i){try{console.error(i.value)}catch(s){setTimeout(function(){throw s})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(o,i,s){s=ch(-1,s),s.tag=3,s.payload={element:null};var a=i.value;return s.callback=function(){Pi||(Pi=!0,Qi=a),Mi(o,i)},s}function Ri(o,i,s){s=ch(-1,s),s.tag=3;var a=o.type.getDerivedStateFromError;if(typeof a=="function"){var et=i.value;s.payload=function(){return a(et)},s.callback=function(){Mi(o,i)}}var tt=o.stateNode;return tt!==null&&typeof tt.componentDidCatch=="function"&&(s.callback=function(){Mi(o,i),typeof a!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var rt=i.stack;this.componentDidCatch(i.value,{componentStack:rt!==null?rt:""})}),s}function Ti(o,i,s){var a=o.pingCache;if(a===null){a=o.pingCache=new Ni;var et=new Set;a.set(i,et)}else et=a.get(i),et===void 0&&(et=new Set,a.set(i,et));et.has(s)||(et.add(s),o=Ui.bind(null,o,i,s),i.then(o,o))}function Vi(o){do{var i;if((i=o.tag===13)&&(i=o.memoizedState,i=i!==null?i.dehydrated!==null:!0),i)return o;o=o.return}while(o!==null);return null}function Wi(o,i,s,a,et){return o.mode&1?(o.flags|=65536,o.lanes=et,o):(o===i?o.flags|=65536:(o.flags|=128,s.flags|=131072,s.flags&=-52805,s.tag===1&&(s.alternate===null?s.tag=17:(i=ch(-1,1),i.tag=2,dh(s,i,1))),s.lanes|=1),o)}var Xi=ua$1.ReactCurrentOwner,Ug=!1;function Yi(o,i,s,a){i.child=o===null?Ch(i,null,s,a):Bh(i,o.child,s,a)}function Zi(o,i,s,a,et){s=s.render;var tt=i.ref;return Tg(i,et),a=Xh(o,i,s,a,tt,et),s=bi(),o!==null&&!Ug?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~et,$i(o,i,et)):(I$1&&s&&vg(i),i.flags|=1,Yi(o,i,a,et),i.child)}function aj(o,i,s,a,et){if(o===null){var tt=s.type;return typeof tt=="function"&&!bj(tt)&&tt.defaultProps===void 0&&s.compare===null&&s.defaultProps===void 0?(i.tag=15,i.type=tt,cj(o,i,tt,a,et)):(o=yh(s.type,null,a,i,i.mode,et),o.ref=i.ref,o.return=i,i.child=o)}if(tt=o.child,!(o.lanes&et)){var rt=tt.memoizedProps;if(s=s.compare,s=s!==null?s:Ie$1,s(rt,a)&&o.ref===i.ref)return $i(o,i,et)}return i.flags|=1,o=wh(tt,a),o.ref=i.ref,o.return=i,i.child=o}function cj(o,i,s,a,et){if(o!==null){var tt=o.memoizedProps;if(Ie$1(tt,a)&&o.ref===i.ref)if(Ug=!1,i.pendingProps=a=tt,(o.lanes&et)!==0)o.flags&131072&&(Ug=!0);else return i.lanes=o.lanes,$i(o,i,et)}return dj(o,i,s,a,et)}function ej(o,i,s){var a=i.pendingProps,et=a.children,tt=o!==null?o.memoizedState:null;if(a.mode==="hidden")if(!(i.mode&1))i.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(fj,gj),gj|=s;else{if(!(s&1073741824))return o=tt!==null?tt.baseLanes|s:s,i.lanes=i.childLanes=1073741824,i.memoizedState={baseLanes:o,cachePool:null,transitions:null},i.updateQueue=null,G$2(fj,gj),gj|=o,null;i.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=tt!==null?tt.baseLanes:s,G$2(fj,gj),gj|=a}else tt!==null?(a=tt.baseLanes|s,i.memoizedState=null):a=s,G$2(fj,gj),gj|=a;return Yi(o,i,et,s),i.child}function hj(o,i){var s=i.ref;(o===null&&s!==null||o!==null&&o.ref!==s)&&(i.flags|=512,i.flags|=2097152)}function dj(o,i,s,a,et){var tt=Zf(s)?Xf:H$2.current;return tt=Yf(i,tt),Tg(i,et),s=Xh(o,i,s,a,tt,et),a=bi(),o!==null&&!Ug?(i.updateQueue=o.updateQueue,i.flags&=-2053,o.lanes&=~et,$i(o,i,et)):(I$1&&a&&vg(i),i.flags|=1,Yi(o,i,s,et),i.child)}function ij(o,i,s,a,et){if(Zf(s)){var tt=!0;cg(i)}else tt=!1;if(Tg(i,et),i.stateNode===null)jj(o,i),ph(i,s,a),rh(i,s,a,et),a=!0;else if(o===null){var rt=i.stateNode,nt=i.memoizedProps;rt.props=nt;var it=rt.context,ot=s.contextType;typeof ot=="object"&&ot!==null?ot=Vg(ot):(ot=Zf(s)?Xf:H$2.current,ot=Yf(i,ot));var st=s.getDerivedStateFromProps,lt=typeof st=="function"||typeof rt.getSnapshotBeforeUpdate=="function";lt||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==a||it!==ot)&&qh(i,rt,a,ot),$g=!1;var at=i.memoizedState;rt.state=at,gh(i,a,rt,et),it=i.memoizedState,nt!==a||at!==it||Wf.current||$g?(typeof st=="function"&&(kh(i,s,st,a),it=i.memoizedState),(nt=$g||oh(i,s,nt,a,at,it,ot))?(lt||typeof rt.UNSAFE_componentWillMount!="function"&&typeof rt.componentWillMount!="function"||(typeof rt.componentWillMount=="function"&&rt.componentWillMount(),typeof rt.UNSAFE_componentWillMount=="function"&&rt.UNSAFE_componentWillMount()),typeof rt.componentDidMount=="function"&&(i.flags|=4194308)):(typeof rt.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=a,i.memoizedState=it),rt.props=a,rt.state=it,rt.context=ot,a=nt):(typeof rt.componentDidMount=="function"&&(i.flags|=4194308),a=!1)}else{rt=i.stateNode,bh(o,i),nt=i.memoizedProps,ot=i.type===i.elementType?nt:Lg(i.type,nt),rt.props=ot,lt=i.pendingProps,at=rt.context,it=s.contextType,typeof it=="object"&&it!==null?it=Vg(it):(it=Zf(s)?Xf:H$2.current,it=Yf(i,it));var ut=s.getDerivedStateFromProps;(st=typeof ut=="function"||typeof rt.getSnapshotBeforeUpdate=="function")||typeof rt.UNSAFE_componentWillReceiveProps!="function"&&typeof rt.componentWillReceiveProps!="function"||(nt!==lt||at!==it)&&qh(i,rt,a,it),$g=!1,at=i.memoizedState,rt.state=at,gh(i,a,rt,et);var ft=i.memoizedState;nt!==lt||at!==ft||Wf.current||$g?(typeof ut=="function"&&(kh(i,s,ut,a),ft=i.memoizedState),(ot=$g||oh(i,s,ot,a,at,ft,it)||!1)?(st||typeof rt.UNSAFE_componentWillUpdate!="function"&&typeof rt.componentWillUpdate!="function"||(typeof rt.componentWillUpdate=="function"&&rt.componentWillUpdate(a,ft,it),typeof rt.UNSAFE_componentWillUpdate=="function"&&rt.UNSAFE_componentWillUpdate(a,ft,it)),typeof rt.componentDidUpdate=="function"&&(i.flags|=4),typeof rt.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof rt.componentDidUpdate!="function"||nt===o.memoizedProps&&at===o.memoizedState||(i.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===o.memoizedProps&&at===o.memoizedState||(i.flags|=1024),i.memoizedProps=a,i.memoizedState=ft),rt.props=a,rt.state=ft,rt.context=it,a=ot):(typeof rt.componentDidUpdate!="function"||nt===o.memoizedProps&&at===o.memoizedState||(i.flags|=4),typeof rt.getSnapshotBeforeUpdate!="function"||nt===o.memoizedProps&&at===o.memoizedState||(i.flags|=1024),a=!1)}return kj(o,i,s,a,tt,et)}function kj(o,i,s,a,et,tt){hj(o,i);var rt=(i.flags&128)!==0;if(!a&&!rt)return et&&dg(i,s,!1),$i(o,i,tt);a=i.stateNode,Xi.current=i;var nt=rt&&typeof s.getDerivedStateFromError!="function"?null:a.render();return i.flags|=1,o!==null&&rt?(i.child=Bh(i,o.child,null,tt),i.child=Bh(i,null,nt,tt)):Yi(o,i,nt,tt),i.memoizedState=a.state,et&&dg(i,s,!0),i.child}function lj(o){var i=o.stateNode;i.pendingContext?ag(o,i.pendingContext,i.pendingContext!==i.context):i.context&&ag(o,i.context,!1),Ih(o,i.containerInfo)}function mj(o,i,s,a,et){return Ig(),Jg(et),i.flags|=256,Yi(o,i,s,a),i.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(o){return{baseLanes:o,cachePool:null,transitions:null}}function pj(o,i,s){var a=i.pendingProps,et=M$2.current,tt=!1,rt=(i.flags&128)!==0,nt;if((nt=rt)||(nt=o!==null&&o.memoizedState===null?!1:(et&2)!==0),nt?(tt=!0,i.flags&=-129):(o===null||o.memoizedState!==null)&&(et|=1),G$2(M$2,et&1),o===null)return Eg(i),o=i.memoizedState,o!==null&&(o=o.dehydrated,o!==null)?(i.mode&1?o.data==="$!"?i.lanes=8:i.lanes=1073741824:i.lanes=1,null):(rt=a.children,o=a.fallback,tt?(a=i.mode,tt=i.child,rt={mode:"hidden",children:rt},!(a&1)&&tt!==null?(tt.childLanes=0,tt.pendingProps=rt):tt=qj(rt,a,0,null),o=Ah(o,a,s,null),tt.return=i,o.return=i,tt.sibling=o,i.child=tt,i.child.memoizedState=oj(s),i.memoizedState=nj,o):rj(i,rt));if(et=o.memoizedState,et!==null&&(nt=et.dehydrated,nt!==null))return sj(o,i,rt,a,nt,et,s);if(tt){tt=a.fallback,rt=i.mode,et=o.child,nt=et.sibling;var it={mode:"hidden",children:a.children};return!(rt&1)&&i.child!==et?(a=i.child,a.childLanes=0,a.pendingProps=it,i.deletions=null):(a=wh(et,it),a.subtreeFlags=et.subtreeFlags&14680064),nt!==null?tt=wh(nt,tt):(tt=Ah(tt,rt,s,null),tt.flags|=2),tt.return=i,a.return=i,a.sibling=tt,i.child=a,a=tt,tt=i.child,rt=o.child.memoizedState,rt=rt===null?oj(s):{baseLanes:rt.baseLanes|s,cachePool:null,transitions:rt.transitions},tt.memoizedState=rt,tt.childLanes=o.childLanes&~s,i.memoizedState=nj,a}return tt=o.child,o=tt.sibling,a=wh(tt,{mode:"visible",children:a.children}),!(i.mode&1)&&(a.lanes=s),a.return=i,a.sibling=null,o!==null&&(s=i.deletions,s===null?(i.deletions=[o],i.flags|=16):s.push(o)),i.child=a,i.memoizedState=null,a}function rj(o,i){return i=qj({mode:"visible",children:i},o.mode,0,null),i.return=o,o.child=i}function tj(o,i,s,a){return a!==null&&Jg(a),Bh(i,o.child,null,s),o=rj(i,i.pendingProps.children),o.flags|=2,i.memoizedState=null,o}function sj(o,i,s,a,et,tt,rt){if(s)return i.flags&256?(i.flags&=-257,a=Li(Error(p$4(422))),tj(o,i,rt,a)):i.memoizedState!==null?(i.child=o.child,i.flags|=128,null):(tt=a.fallback,et=i.mode,a=qj({mode:"visible",children:a.children},et,0,null),tt=Ah(tt,et,rt,null),tt.flags|=2,a.return=i,tt.return=i,a.sibling=tt,i.child=a,i.mode&1&&Bh(i,o.child,null,rt),i.child.memoizedState=oj(rt),i.memoizedState=nj,tt);if(!(i.mode&1))return tj(o,i,rt,null);if(et.data==="$!"){if(a=et.nextSibling&&et.nextSibling.dataset,a)var nt=a.dgst;return a=nt,tt=Error(p$4(419)),a=Li(tt,a,void 0),tj(o,i,rt,a)}if(nt=(rt&o.childLanes)!==0,Ug||nt){if(a=R$1,a!==null){switch(rt&-rt){case 4:et=2;break;case 16:et=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:et=32;break;case 536870912:et=268435456;break;default:et=0}et=et&(a.suspendedLanes|rt)?0:et,et!==0&&et!==tt.retryLane&&(tt.retryLane=et,Zg(o,et),mh(a,o,et,-1))}return uj(),a=Li(Error(p$4(421))),tj(o,i,rt,a)}return et.data==="$?"?(i.flags|=128,i.child=o.child,i=vj.bind(null,o),et._reactRetry=i,null):(o=tt.treeContext,yg=Lf(et.nextSibling),xg=i,I$1=!0,zg=null,o!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=o.id,sg=o.overflow,qg=i),i=rj(i,a.children),i.flags|=4096,i)}function wj(o,i,s){o.lanes|=i;var a=o.alternate;a!==null&&(a.lanes|=i),Sg(o.return,i,s)}function xj(o,i,s,a,et){var tt=o.memoizedState;tt===null?o.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:a,tail:s,tailMode:et}:(tt.isBackwards=i,tt.rendering=null,tt.renderingStartTime=0,tt.last=a,tt.tail=s,tt.tailMode=et)}function yj(o,i,s){var a=i.pendingProps,et=a.revealOrder,tt=a.tail;if(Yi(o,i,a.children,s),a=M$2.current,a&2)a=a&1|2,i.flags|=128;else{if(o!==null&&o.flags&128)e:for(o=i.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&wj(o,s,i);else if(o.tag===19)wj(o,s,i);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break e;for(;o.sibling===null;){if(o.return===null||o.return===i)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}a&=1}if(G$2(M$2,a),!(i.mode&1))i.memoizedState=null;else switch(et){case"forwards":for(s=i.child,et=null;s!==null;)o=s.alternate,o!==null&&Mh(o)===null&&(et=s),s=s.sibling;s=et,s===null?(et=i.child,i.child=null):(et=s.sibling,s.sibling=null),xj(i,!1,et,s,tt);break;case"backwards":for(s=null,et=i.child,i.child=null;et!==null;){if(o=et.alternate,o!==null&&Mh(o)===null){i.child=et;break}o=et.sibling,et.sibling=s,s=et,et=o}xj(i,!0,s,null,tt);break;case"together":xj(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function jj(o,i){!(i.mode&1)&&o!==null&&(o.alternate=null,i.alternate=null,i.flags|=2)}function $i(o,i,s){if(o!==null&&(i.dependencies=o.dependencies),hh|=i.lanes,!(s&i.childLanes))return null;if(o!==null&&i.child!==o.child)throw Error(p$4(153));if(i.child!==null){for(o=i.child,s=wh(o,o.pendingProps),i.child=s,s.return=i;o.sibling!==null;)o=o.sibling,s=s.sibling=wh(o,o.pendingProps),s.return=i;s.sibling=null}return i.child}function zj(o,i,s){switch(i.tag){case 3:lj(i),Ig();break;case 5:Kh(i);break;case 1:Zf(i.type)&&cg(i);break;case 4:Ih(i,i.stateNode.containerInfo);break;case 10:var a=i.type._context,et=i.memoizedProps.value;G$2(Mg,a._currentValue),a._currentValue=et;break;case 13:if(a=i.memoizedState,a!==null)return a.dehydrated!==null?(G$2(M$2,M$2.current&1),i.flags|=128,null):s&i.child.childLanes?pj(o,i,s):(G$2(M$2,M$2.current&1),o=$i(o,i,s),o!==null?o.sibling:null);G$2(M$2,M$2.current&1);break;case 19:if(a=(s&i.childLanes)!==0,o.flags&128){if(a)return yj(o,i,s);i.flags|=128}if(et=i.memoizedState,et!==null&&(et.rendering=null,et.tail=null,et.lastEffect=null),G$2(M$2,M$2.current),a)break;return null;case 22:case 23:return i.lanes=0,ej(o,i,s)}return $i(o,i,s)}var Aj,Bj,Cj,Dj;Aj=function(o,i){for(var s=i.child;s!==null;){if(s.tag===5||s.tag===6)o.appendChild(s.stateNode);else if(s.tag!==4&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return;s=s.return}s.sibling.return=s.return,s=s.sibling}};Bj=function(){};Cj=function(o,i,s,a){var et=o.memoizedProps;if(et!==a){o=i.stateNode,Hh(Eh.current);var tt=null;switch(s){case"input":et=Ya$1(o,et),a=Ya$1(o,a),tt=[];break;case"select":et=A$2({},et,{value:void 0}),a=A$2({},a,{value:void 0}),tt=[];break;case"textarea":et=gb$1(o,et),a=gb$1(o,a),tt=[];break;default:typeof et.onClick!="function"&&typeof a.onClick=="function"&&(o.onclick=Bf)}ub$1(s,a);var rt;s=null;for(ot in et)if(!a.hasOwnProperty(ot)&&et.hasOwnProperty(ot)&&et[ot]!=null)if(ot==="style"){var nt=et[ot];for(rt in nt)nt.hasOwnProperty(rt)&&(s||(s={}),s[rt]="")}else ot!=="dangerouslySetInnerHTML"&&ot!=="children"&&ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea$1.hasOwnProperty(ot)?tt||(tt=[]):(tt=tt||[]).push(ot,null));for(ot in a){var it=a[ot];if(nt=et!=null?et[ot]:void 0,a.hasOwnProperty(ot)&&it!==nt&&(it!=null||nt!=null))if(ot==="style")if(nt){for(rt in nt)!nt.hasOwnProperty(rt)||it&&it.hasOwnProperty(rt)||(s||(s={}),s[rt]="");for(rt in it)it.hasOwnProperty(rt)&&nt[rt]!==it[rt]&&(s||(s={}),s[rt]=it[rt])}else s||(tt||(tt=[]),tt.push(ot,s)),s=it;else ot==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,nt=nt?nt.__html:void 0,it!=null&&nt!==it&&(tt=tt||[]).push(ot,it)):ot==="children"?typeof it!="string"&&typeof it!="number"||(tt=tt||[]).push(ot,""+it):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&(ea$1.hasOwnProperty(ot)?(it!=null&&ot==="onScroll"&&D$2("scroll",o),tt||nt===it||(tt=[])):(tt=tt||[]).push(ot,it))}s&&(tt=tt||[]).push("style",s);var ot=tt;(i.updateQueue=ot)&&(i.flags|=4)}};Dj=function(o,i,s,a){s!==a&&(i.flags|=4)};function Ej(o,i){if(!I$1)switch(o.tailMode){case"hidden":i=o.tail;for(var s=null;i!==null;)i.alternate!==null&&(s=i),i=i.sibling;s===null?o.tail=null:s.sibling=null;break;case"collapsed":s=o.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?i||o.tail===null?o.tail=null:o.tail.sibling=null:a.sibling=null}}function S$2(o){var i=o.alternate!==null&&o.alternate.child===o.child,s=0,a=0;if(i)for(var et=o.child;et!==null;)s|=et.lanes|et.childLanes,a|=et.subtreeFlags&14680064,a|=et.flags&14680064,et.return=o,et=et.sibling;else for(et=o.child;et!==null;)s|=et.lanes|et.childLanes,a|=et.subtreeFlags,a|=et.flags,et.return=o,et=et.sibling;return o.subtreeFlags|=a,o.childLanes=s,i}function Fj(o,i,s){var a=i.pendingProps;switch(wg(i),i.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(i),null;case 1:return Zf(i.type)&&$f(),S$2(i),null;case 3:return a=i.stateNode,Jh(),E$1(Wf),E$1(H$2),Oh(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(o===null||o.child===null)&&(Gg(i)?i.flags|=4:o===null||o.memoizedState.isDehydrated&&!(i.flags&256)||(i.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(o,i),S$2(i),null;case 5:Lh(i);var et=Hh(Gh.current);if(s=i.type,o!==null&&i.stateNode!=null)Cj(o,i,s,a,et),o.ref!==i.ref&&(i.flags|=512,i.flags|=2097152);else{if(!a){if(i.stateNode===null)throw Error(p$4(166));return S$2(i),null}if(o=Hh(Eh.current),Gg(i)){a=i.stateNode,s=i.type;var tt=i.memoizedProps;switch(a[Of]=i,a[Pf]=tt,o=(i.mode&1)!==0,s){case"dialog":D$2("cancel",a),D$2("close",a);break;case"iframe":case"object":case"embed":D$2("load",a);break;case"video":case"audio":for(et=0;et<lf.length;et++)D$2(lf[et],a);break;case"source":D$2("error",a);break;case"img":case"image":case"link":D$2("error",a),D$2("load",a);break;case"details":D$2("toggle",a);break;case"input":Za$1(a,tt),D$2("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!tt.multiple},D$2("invalid",a);break;case"textarea":hb$1(a,tt),D$2("invalid",a)}ub$1(s,tt),et=null;for(var rt in tt)if(tt.hasOwnProperty(rt)){var nt=tt[rt];rt==="children"?typeof nt=="string"?a.textContent!==nt&&(tt.suppressHydrationWarning!==!0&&Af(a.textContent,nt,o),et=["children",nt]):typeof nt=="number"&&a.textContent!==""+nt&&(tt.suppressHydrationWarning!==!0&&Af(a.textContent,nt,o),et=["children",""+nt]):ea$1.hasOwnProperty(rt)&&nt!=null&&rt==="onScroll"&&D$2("scroll",a)}switch(s){case"input":Va$1(a),db$2(a,tt,!0);break;case"textarea":Va$1(a),jb$1(a);break;case"select":case"option":break;default:typeof tt.onClick=="function"&&(a.onclick=Bf)}a=et,i.updateQueue=a,a!==null&&(i.flags|=4)}else{rt=et.nodeType===9?et:et.ownerDocument,o==="http://www.w3.org/1999/xhtml"&&(o=kb$1(s)),o==="http://www.w3.org/1999/xhtml"?s==="script"?(o=rt.createElement("div"),o.innerHTML="<script><\/script>",o=o.removeChild(o.firstChild)):typeof a.is=="string"?o=rt.createElement(s,{is:a.is}):(o=rt.createElement(s),s==="select"&&(rt=o,a.multiple?rt.multiple=!0:a.size&&(rt.size=a.size))):o=rt.createElementNS(o,s),o[Of]=i,o[Pf]=a,Aj(o,i,!1,!1),i.stateNode=o;e:{switch(rt=vb$1(s,a),s){case"dialog":D$2("cancel",o),D$2("close",o),et=a;break;case"iframe":case"object":case"embed":D$2("load",o),et=a;break;case"video":case"audio":for(et=0;et<lf.length;et++)D$2(lf[et],o);et=a;break;case"source":D$2("error",o),et=a;break;case"img":case"image":case"link":D$2("error",o),D$2("load",o),et=a;break;case"details":D$2("toggle",o),et=a;break;case"input":Za$1(o,a),et=Ya$1(o,a),D$2("invalid",o);break;case"option":et=a;break;case"select":o._wrapperState={wasMultiple:!!a.multiple},et=A$2({},a,{value:void 0}),D$2("invalid",o);break;case"textarea":hb$1(o,a),et=gb$1(o,a),D$2("invalid",o);break;default:et=a}ub$1(s,et),nt=et;for(tt in nt)if(nt.hasOwnProperty(tt)){var it=nt[tt];tt==="style"?sb$1(o,it):tt==="dangerouslySetInnerHTML"?(it=it?it.__html:void 0,it!=null&&nb$1(o,it)):tt==="children"?typeof it=="string"?(s!=="textarea"||it!=="")&&ob$1(o,it):typeof it=="number"&&ob$1(o,""+it):tt!=="suppressContentEditableWarning"&&tt!=="suppressHydrationWarning"&&tt!=="autoFocus"&&(ea$1.hasOwnProperty(tt)?it!=null&&tt==="onScroll"&&D$2("scroll",o):it!=null&&ta$1(o,tt,it,rt))}switch(s){case"input":Va$1(o),db$2(o,a,!1);break;case"textarea":Va$1(o),jb$1(o);break;case"option":a.value!=null&&o.setAttribute("value",""+Sa$1(a.value));break;case"select":o.multiple=!!a.multiple,tt=a.value,tt!=null?fb$1(o,!!a.multiple,tt,!1):a.defaultValue!=null&&fb$1(o,!!a.multiple,a.defaultValue,!0);break;default:typeof et.onClick=="function"&&(o.onclick=Bf)}switch(s){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(i.flags|=4)}i.ref!==null&&(i.flags|=512,i.flags|=2097152)}return S$2(i),null;case 6:if(o&&i.stateNode!=null)Dj(o,i,o.memoizedProps,a);else{if(typeof a!="string"&&i.stateNode===null)throw Error(p$4(166));if(s=Hh(Gh.current),Hh(Eh.current),Gg(i)){if(a=i.stateNode,s=i.memoizedProps,a[Of]=i,(tt=a.nodeValue!==s)&&(o=xg,o!==null))switch(o.tag){case 3:Af(a.nodeValue,s,(o.mode&1)!==0);break;case 5:o.memoizedProps.suppressHydrationWarning!==!0&&Af(a.nodeValue,s,(o.mode&1)!==0)}tt&&(i.flags|=4)}else a=(s.nodeType===9?s:s.ownerDocument).createTextNode(a),a[Of]=i,i.stateNode=a}return S$2(i),null;case 13:if(E$1(M$2),a=i.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(I$1&&yg!==null&&i.mode&1&&!(i.flags&128))Hg(),Ig(),i.flags|=98560,tt=!1;else if(tt=Gg(i),a!==null&&a.dehydrated!==null){if(o===null){if(!tt)throw Error(p$4(318));if(tt=i.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$4(317));tt[Of]=i}else Ig(),!(i.flags&128)&&(i.memoizedState=null),i.flags|=4;S$2(i),tt=!1}else zg!==null&&(Gj(zg),zg=null),tt=!0;if(!tt)return i.flags&65536?i:null}return i.flags&128?(i.lanes=s,i):(a=a!==null,a!==(o!==null&&o.memoizedState!==null)&&a&&(i.child.flags|=8192,i.mode&1&&(o===null||M$2.current&1?T$1===0&&(T$1=3):uj())),i.updateQueue!==null&&(i.flags|=4),S$2(i),null);case 4:return Jh(),Bj(o,i),o===null&&sf(i.stateNode.containerInfo),S$2(i),null;case 10:return Rg(i.type._context),S$2(i),null;case 17:return Zf(i.type)&&$f(),S$2(i),null;case 19:if(E$1(M$2),tt=i.memoizedState,tt===null)return S$2(i),null;if(a=(i.flags&128)!==0,rt=tt.rendering,rt===null)if(a)Ej(tt,!1);else{if(T$1!==0||o!==null&&o.flags&128)for(o=i.child;o!==null;){if(rt=Mh(o),rt!==null){for(i.flags|=128,Ej(tt,!1),a=rt.updateQueue,a!==null&&(i.updateQueue=a,i.flags|=4),i.subtreeFlags=0,a=s,s=i.child;s!==null;)tt=s,o=a,tt.flags&=14680066,rt=tt.alternate,rt===null?(tt.childLanes=0,tt.lanes=o,tt.child=null,tt.subtreeFlags=0,tt.memoizedProps=null,tt.memoizedState=null,tt.updateQueue=null,tt.dependencies=null,tt.stateNode=null):(tt.childLanes=rt.childLanes,tt.lanes=rt.lanes,tt.child=rt.child,tt.subtreeFlags=0,tt.deletions=null,tt.memoizedProps=rt.memoizedProps,tt.memoizedState=rt.memoizedState,tt.updateQueue=rt.updateQueue,tt.type=rt.type,o=rt.dependencies,tt.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext}),s=s.sibling;return G$2(M$2,M$2.current&1|2),i.child}o=o.sibling}tt.tail!==null&&B$2()>Hj&&(i.flags|=128,a=!0,Ej(tt,!1),i.lanes=4194304)}else{if(!a)if(o=Mh(rt),o!==null){if(i.flags|=128,a=!0,s=o.updateQueue,s!==null&&(i.updateQueue=s,i.flags|=4),Ej(tt,!0),tt.tail===null&&tt.tailMode==="hidden"&&!rt.alternate&&!I$1)return S$2(i),null}else 2*B$2()-tt.renderingStartTime>Hj&&s!==1073741824&&(i.flags|=128,a=!0,Ej(tt,!1),i.lanes=4194304);tt.isBackwards?(rt.sibling=i.child,i.child=rt):(s=tt.last,s!==null?s.sibling=rt:i.child=rt,tt.last=rt)}return tt.tail!==null?(i=tt.tail,tt.rendering=i,tt.tail=i.sibling,tt.renderingStartTime=B$2(),i.sibling=null,s=M$2.current,G$2(M$2,a?s&1|2:s&1),i):(S$2(i),null);case 22:case 23:return Ij(),a=i.memoizedState!==null,o!==null&&o.memoizedState!==null!==a&&(i.flags|=8192),a&&i.mode&1?gj&1073741824&&(S$2(i),i.subtreeFlags&6&&(i.flags|=8192)):S$2(i),null;case 24:return null;case 25:return null}throw Error(p$4(156,i.tag))}function Jj(o,i){switch(wg(i),i.tag){case 1:return Zf(i.type)&&$f(),o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 3:return Jh(),E$1(Wf),E$1(H$2),Oh(),o=i.flags,o&65536&&!(o&128)?(i.flags=o&-65537|128,i):null;case 5:return Lh(i),null;case 13:if(E$1(M$2),o=i.memoizedState,o!==null&&o.dehydrated!==null){if(i.alternate===null)throw Error(p$4(340));Ig()}return o=i.flags,o&65536?(i.flags=o&-65537|128,i):null;case 19:return E$1(M$2),null;case 4:return Jh(),null;case 10:return Rg(i.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(o,i){var s=o.ref;if(s!==null)if(typeof s=="function")try{s(null)}catch(a){W$2(o,i,a)}else s.current=null}function Nj(o,i,s){try{s()}catch(a){W$2(o,i,a)}}var Oj=!1;function Pj(o,i){if(Cf=dd$1,o=Me(),Ne(o)){if("selectionStart"in o)var s={start:o.selectionStart,end:o.selectionEnd};else e:{s=(s=o.ownerDocument)&&s.defaultView||window;var a=s.getSelection&&s.getSelection();if(a&&a.rangeCount!==0){s=a.anchorNode;var et=a.anchorOffset,tt=a.focusNode;a=a.focusOffset;try{s.nodeType,tt.nodeType}catch{s=null;break e}var rt=0,nt=-1,it=-1,ot=0,st=0,lt=o,at=null;t:for(;;){for(var ut;lt!==s||et!==0&&lt.nodeType!==3||(nt=rt+et),lt!==tt||a!==0&&lt.nodeType!==3||(it=rt+a),lt.nodeType===3&&(rt+=lt.nodeValue.length),(ut=lt.firstChild)!==null;)at=lt,lt=ut;for(;;){if(lt===o)break t;if(at===s&&++ot===et&&(nt=rt),at===tt&&++st===a&&(it=rt),(ut=lt.nextSibling)!==null)break;lt=at,at=lt.parentNode}lt=ut}s=nt===-1||it===-1?null:{start:nt,end:it}}else s=null}s=s||{start:0,end:0}}else s=null;for(Df={focusedElem:o,selectionRange:s},dd$1=!1,V$1=i;V$1!==null;)if(i=V$1,o=i.child,(i.subtreeFlags&1028)!==0&&o!==null)o.return=i,V$1=o;else for(;V$1!==null;){i=V$1;try{var ft=i.alternate;if(i.flags&1024)switch(i.tag){case 0:case 11:case 15:break;case 1:if(ft!==null){var mt=ft.memoizedProps,yt=ft.memoizedState,ht=i.stateNode,pt=ht.getSnapshotBeforeUpdate(i.elementType===i.type?mt:Lg(i.type,mt),yt);ht.__reactInternalSnapshotBeforeUpdate=pt}break;case 3:var ct=i.stateNode.containerInfo;ct.nodeType===1?ct.textContent="":ct.nodeType===9&&ct.documentElement&&ct.removeChild(ct.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$4(163))}}catch(gt){W$2(i,i.return,gt)}if(o=i.sibling,o!==null){o.return=i.return,V$1=o;break}V$1=i.return}return ft=Oj,Oj=!1,ft}function Qj(o,i,s){var a=i.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var et=a=a.next;do{if((et.tag&o)===o){var tt=et.destroy;et.destroy=void 0,tt!==void 0&&Nj(i,s,tt)}et=et.next}while(et!==a)}}function Rj(o,i){if(i=i.updateQueue,i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&o)===o){var a=s.create;s.destroy=a()}s=s.next}while(s!==i)}}function Sj(o){var i=o.ref;if(i!==null){var s=o.stateNode;switch(o.tag){case 5:o=s;break;default:o=s}typeof i=="function"?i(o):i.current=o}}function Tj(o){var i=o.alternate;i!==null&&(o.alternate=null,Tj(i)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(i=o.stateNode,i!==null&&(delete i[Of],delete i[Pf],delete i[of],delete i[Qf],delete i[Rf])),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}function Uj(o){return o.tag===5||o.tag===3||o.tag===4}function Vj(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||Uj(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function Wj(o,i,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,i?s.nodeType===8?s.parentNode.insertBefore(o,i):s.insertBefore(o,i):(s.nodeType===8?(i=s.parentNode,i.insertBefore(o,s)):(i=s,i.appendChild(o)),s=s._reactRootContainer,s!=null||i.onclick!==null||(i.onclick=Bf));else if(a!==4&&(o=o.child,o!==null))for(Wj(o,i,s),o=o.sibling;o!==null;)Wj(o,i,s),o=o.sibling}function Xj(o,i,s){var a=o.tag;if(a===5||a===6)o=o.stateNode,i?s.insertBefore(o,i):s.appendChild(o);else if(a!==4&&(o=o.child,o!==null))for(Xj(o,i,s),o=o.sibling;o!==null;)Xj(o,i,s),o=o.sibling}var X$2=null,Yj=!1;function Zj(o,i,s){for(s=s.child;s!==null;)ak(o,i,s),s=s.sibling}function ak(o,i,s){if(lc$1&&typeof lc$1.onCommitFiberUnmount=="function")try{lc$1.onCommitFiberUnmount(kc$1,s)}catch{}switch(s.tag){case 5:U$2||Mj(s,i);case 6:var a=X$2,et=Yj;X$2=null,Zj(o,i,s),X$2=a,Yj=et,X$2!==null&&(Yj?(o=X$2,s=s.stateNode,o.nodeType===8?o.parentNode.removeChild(s):o.removeChild(s)):X$2.removeChild(s.stateNode));break;case 18:X$2!==null&&(Yj?(o=X$2,s=s.stateNode,o.nodeType===8?Kf(o.parentNode,s):o.nodeType===1&&Kf(o,s),bd$1(o)):Kf(X$2,s.stateNode));break;case 4:a=X$2,et=Yj,X$2=s.stateNode.containerInfo,Yj=!0,Zj(o,i,s),X$2=a,Yj=et;break;case 0:case 11:case 14:case 15:if(!U$2&&(a=s.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){et=a=a.next;do{var tt=et,rt=tt.destroy;tt=tt.tag,rt!==void 0&&(tt&2||tt&4)&&Nj(s,i,rt),et=et.next}while(et!==a)}Zj(o,i,s);break;case 1:if(!U$2&&(Mj(s,i),a=s.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=s.memoizedProps,a.state=s.memoizedState,a.componentWillUnmount()}catch(nt){W$2(s,i,nt)}Zj(o,i,s);break;case 21:Zj(o,i,s);break;case 22:s.mode&1?(U$2=(a=U$2)||s.memoizedState!==null,Zj(o,i,s),U$2=a):Zj(o,i,s);break;default:Zj(o,i,s)}}function bk(o){var i=o.updateQueue;if(i!==null){o.updateQueue=null;var s=o.stateNode;s===null&&(s=o.stateNode=new Lj),i.forEach(function(a){var et=ck.bind(null,o,a);s.has(a)||(s.add(a),a.then(et,et))})}}function dk(o,i){var s=i.deletions;if(s!==null)for(var a=0;a<s.length;a++){var et=s[a];try{var tt=o,rt=i,nt=rt;e:for(;nt!==null;){switch(nt.tag){case 5:X$2=nt.stateNode,Yj=!1;break e;case 3:X$2=nt.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=nt.stateNode.containerInfo,Yj=!0;break e}nt=nt.return}if(X$2===null)throw Error(p$4(160));ak(tt,rt,et),X$2=null,Yj=!1;var it=et.alternate;it!==null&&(it.return=null),et.return=null}catch(ot){W$2(et,i,ot)}}if(i.subtreeFlags&12854)for(i=i.child;i!==null;)ek(i,o),i=i.sibling}function ek(o,i){var s=o.alternate,a=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:if(dk(i,o),fk(o),a&4){try{Qj(3,o,o.return),Rj(3,o)}catch(mt){W$2(o,o.return,mt)}try{Qj(5,o,o.return)}catch(mt){W$2(o,o.return,mt)}}break;case 1:dk(i,o),fk(o),a&512&&s!==null&&Mj(s,s.return);break;case 5:if(dk(i,o),fk(o),a&512&&s!==null&&Mj(s,s.return),o.flags&32){var et=o.stateNode;try{ob$1(et,"")}catch(mt){W$2(o,o.return,mt)}}if(a&4&&(et=o.stateNode,et!=null)){var tt=o.memoizedProps,rt=s!==null?s.memoizedProps:tt,nt=o.type,it=o.updateQueue;if(o.updateQueue=null,it!==null)try{nt==="input"&&tt.type==="radio"&&tt.name!=null&&ab$1(et,tt),vb$1(nt,rt);var ot=vb$1(nt,tt);for(rt=0;rt<it.length;rt+=2){var st=it[rt],lt=it[rt+1];st==="style"?sb$1(et,lt):st==="dangerouslySetInnerHTML"?nb$1(et,lt):st==="children"?ob$1(et,lt):ta$1(et,st,lt,ot)}switch(nt){case"input":bb$1(et,tt);break;case"textarea":ib$1(et,tt);break;case"select":var at=et._wrapperState.wasMultiple;et._wrapperState.wasMultiple=!!tt.multiple;var ut=tt.value;ut!=null?fb$1(et,!!tt.multiple,ut,!1):at!==!!tt.multiple&&(tt.defaultValue!=null?fb$1(et,!!tt.multiple,tt.defaultValue,!0):fb$1(et,!!tt.multiple,tt.multiple?[]:"",!1))}et[Pf]=tt}catch(mt){W$2(o,o.return,mt)}}break;case 6:if(dk(i,o),fk(o),a&4){if(o.stateNode===null)throw Error(p$4(162));et=o.stateNode,tt=o.memoizedProps;try{et.nodeValue=tt}catch(mt){W$2(o,o.return,mt)}}break;case 3:if(dk(i,o),fk(o),a&4&&s!==null&&s.memoizedState.isDehydrated)try{bd$1(i.containerInfo)}catch(mt){W$2(o,o.return,mt)}break;case 4:dk(i,o),fk(o);break;case 13:dk(i,o),fk(o),et=o.child,et.flags&8192&&(tt=et.memoizedState!==null,et.stateNode.isHidden=tt,!tt||et.alternate!==null&&et.alternate.memoizedState!==null||(gk=B$2())),a&4&&bk(o);break;case 22:if(st=s!==null&&s.memoizedState!==null,o.mode&1?(U$2=(ot=U$2)||st,dk(i,o),U$2=ot):dk(i,o),fk(o),a&8192){if(ot=o.memoizedState!==null,(o.stateNode.isHidden=ot)&&!st&&o.mode&1)for(V$1=o,st=o.child;st!==null;){for(lt=V$1=st;V$1!==null;){switch(at=V$1,ut=at.child,at.tag){case 0:case 11:case 14:case 15:Qj(4,at,at.return);break;case 1:Mj(at,at.return);var ft=at.stateNode;if(typeof ft.componentWillUnmount=="function"){a=at,s=at.return;try{i=a,ft.props=i.memoizedProps,ft.state=i.memoizedState,ft.componentWillUnmount()}catch(mt){W$2(a,s,mt)}}break;case 5:Mj(at,at.return);break;case 22:if(at.memoizedState!==null){hk(lt);continue}}ut!==null?(ut.return=at,V$1=ut):hk(lt)}st=st.sibling}e:for(st=null,lt=o;;){if(lt.tag===5){if(st===null){st=lt;try{et=lt.stateNode,ot?(tt=et.style,typeof tt.setProperty=="function"?tt.setProperty("display","none","important"):tt.display="none"):(nt=lt.stateNode,it=lt.memoizedProps.style,rt=it!=null&&it.hasOwnProperty("display")?it.display:null,nt.style.display=rb$1("display",rt))}catch(mt){W$2(o,o.return,mt)}}}else if(lt.tag===6){if(st===null)try{lt.stateNode.nodeValue=ot?"":lt.memoizedProps}catch(mt){W$2(o,o.return,mt)}}else if((lt.tag!==22&&lt.tag!==23||lt.memoizedState===null||lt===o)&&lt.child!==null){lt.child.return=lt,lt=lt.child;continue}if(lt===o)break e;for(;lt.sibling===null;){if(lt.return===null||lt.return===o)break e;st===lt&&(st=null),lt=lt.return}st===lt&&(st=null),lt.sibling.return=lt.return,lt=lt.sibling}}break;case 19:dk(i,o),fk(o),a&4&&bk(o);break;case 21:break;default:dk(i,o),fk(o)}}function fk(o){var i=o.flags;if(i&2){try{e:{for(var s=o.return;s!==null;){if(Uj(s)){var a=s;break e}s=s.return}throw Error(p$4(160))}switch(a.tag){case 5:var et=a.stateNode;a.flags&32&&(ob$1(et,""),a.flags&=-33);var tt=Vj(o);Xj(o,tt,et);break;case 3:case 4:var rt=a.stateNode.containerInfo,nt=Vj(o);Wj(o,nt,rt);break;default:throw Error(p$4(161))}}catch(it){W$2(o,o.return,it)}o.flags&=-3}i&4096&&(o.flags&=-4097)}function ik(o,i,s){V$1=o,jk(o)}function jk(o,i,s){for(var a=(o.mode&1)!==0;V$1!==null;){var et=V$1,tt=et.child;if(et.tag===22&&a){var rt=et.memoizedState!==null||Kj;if(!rt){var nt=et.alternate,it=nt!==null&&nt.memoizedState!==null||U$2;nt=Kj;var ot=U$2;if(Kj=rt,(U$2=it)&&!ot)for(V$1=et;V$1!==null;)rt=V$1,it=rt.child,rt.tag===22&&rt.memoizedState!==null?kk(et):it!==null?(it.return=rt,V$1=it):kk(et);for(;tt!==null;)V$1=tt,jk(tt),tt=tt.sibling;V$1=et,Kj=nt,U$2=ot}lk(o)}else et.subtreeFlags&8772&&tt!==null?(tt.return=et,V$1=tt):lk(o)}}function lk(o){for(;V$1!==null;){var i=V$1;if(i.flags&8772){var s=i.alternate;try{if(i.flags&8772)switch(i.tag){case 0:case 11:case 15:U$2||Rj(5,i);break;case 1:var a=i.stateNode;if(i.flags&4&&!U$2)if(s===null)a.componentDidMount();else{var et=i.elementType===i.type?s.memoizedProps:Lg(i.type,s.memoizedProps);a.componentDidUpdate(et,s.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var tt=i.updateQueue;tt!==null&&ih(i,tt,a);break;case 3:var rt=i.updateQueue;if(rt!==null){if(s=null,i.child!==null)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}ih(i,rt,s)}break;case 5:var nt=i.stateNode;if(s===null&&i.flags&4){s=nt;var it=i.memoizedProps;switch(i.type){case"button":case"input":case"select":case"textarea":it.autoFocus&&s.focus();break;case"img":it.src&&(s.src=it.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(i.memoizedState===null){var ot=i.alternate;if(ot!==null){var st=ot.memoizedState;if(st!==null){var lt=st.dehydrated;lt!==null&&bd$1(lt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$4(163))}U$2||i.flags&512&&Sj(i)}catch(at){W$2(i,i.return,at)}}if(i===o){V$1=null;break}if(s=i.sibling,s!==null){s.return=i.return,V$1=s;break}V$1=i.return}}function hk(o){for(;V$1!==null;){var i=V$1;if(i===o){V$1=null;break}var s=i.sibling;if(s!==null){s.return=i.return,V$1=s;break}V$1=i.return}}function kk(o){for(;V$1!==null;){var i=V$1;try{switch(i.tag){case 0:case 11:case 15:var s=i.return;try{Rj(4,i)}catch(it){W$2(i,s,it)}break;case 1:var a=i.stateNode;if(typeof a.componentDidMount=="function"){var et=i.return;try{a.componentDidMount()}catch(it){W$2(i,et,it)}}var tt=i.return;try{Sj(i)}catch(it){W$2(i,tt,it)}break;case 5:var rt=i.return;try{Sj(i)}catch(it){W$2(i,rt,it)}}}catch(it){W$2(i,i.return,it)}if(i===o){V$1=null;break}var nt=i.sibling;if(nt!==null){nt.return=i.return,V$1=nt;break}V$1=i.return}}var mk=Math.ceil,nk=ua$1.ReactCurrentDispatcher,ok=ua$1.ReactCurrentOwner,pk=ua$1.ReactCurrentBatchConfig,K$2=0,R$1=null,Y$2=null,Z$2=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$1(){return K$2&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(o){return o.mode&1?K$2&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc$1()),Ck):(o=C$2,o!==0||(o=window.event,o=o===void 0?16:jd$1(o.type)),o):1}function mh(o,i,s,a){if(50<zk)throw zk=0,Ak=null,Error(p$4(185));Ac$1(o,s,a),(!(K$2&2)||o!==R$1)&&(o===R$1&&(!(K$2&2)&&(rk|=s),T$1===4&&Dk(o,Z$2)),Ek(o,a),s===1&&K$2===0&&!(i.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(o,i){var s=o.callbackNode;wc$1(o,i);var a=uc$1(o,o===R$1?Z$2:0);if(a===0)s!==null&&bc$1(s),o.callbackNode=null,o.callbackPriority=0;else if(i=a&-a,o.callbackPriority!==i){if(s!=null&&bc$1(s),i===1)o.tag===0?ig(Fk.bind(null,o)):hg(Fk.bind(null,o)),Jf(function(){!(K$2&6)&&jg()}),s=null;else{switch(Dc$1(a)){case 1:s=fc$1;break;case 4:s=gc$1;break;case 16:s=hc$1;break;case 536870912:s=jc$1;break;default:s=hc$1}s=Gk(s,Hk.bind(null,o))}o.callbackPriority=i,o.callbackNode=s}}function Hk(o,i){if(Bk=-1,Ck=0,K$2&6)throw Error(p$4(327));var s=o.callbackNode;if(Ik()&&o.callbackNode!==s)return null;var a=uc$1(o,o===R$1?Z$2:0);if(a===0)return null;if(a&30||a&o.expiredLanes||i)i=Jk(o,a);else{i=a;var et=K$2;K$2|=2;var tt=Kk();(R$1!==o||Z$2!==i)&&(vk=null,Hj=B$2()+500,Lk(o,i));do try{Mk();break}catch(nt){Nk(o,nt)}while(!0);Qg(),nk.current=tt,K$2=et,Y$2!==null?i=0:(R$1=null,Z$2=0,i=T$1)}if(i!==0){if(i===2&&(et=xc$1(o),et!==0&&(a=et,i=Ok(o,et))),i===1)throw s=qk,Lk(o,0),Dk(o,a),Ek(o,B$2()),s;if(i===6)Dk(o,a);else{if(et=o.current.alternate,!(a&30)&&!Pk(et)&&(i=Jk(o,a),i===2&&(tt=xc$1(o),tt!==0&&(a=tt,i=Ok(o,tt))),i===1))throw s=qk,Lk(o,0),Dk(o,a),Ek(o,B$2()),s;switch(o.finishedWork=et,o.finishedLanes=a,i){case 0:case 1:throw Error(p$4(345));case 2:Qk(o,uk,vk);break;case 3:if(Dk(o,a),(a&130023424)===a&&(i=gk+500-B$2(),10<i)){if(uc$1(o,0)!==0)break;if(et=o.suspendedLanes,(et&a)!==a){L$1(),o.pingedLanes|=o.suspendedLanes&et;break}o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),i);break}Qk(o,uk,vk);break;case 4:if(Dk(o,a),(a&4194240)===a)break;for(i=o.eventTimes,et=-1;0<a;){var rt=31-oc$1(a);tt=1<<rt,rt=i[rt],rt>et&&(et=rt),a&=~tt}if(a=et,a=B$2()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*mk(a/1960))-a,10<a){o.timeoutHandle=Ff(Qk.bind(null,o,uk,vk),a);break}Qk(o,uk,vk);break;case 5:Qk(o,uk,vk);break;default:throw Error(p$4(329))}}}return Ek(o,B$2()),o.callbackNode===s?Hk.bind(null,o):null}function Ok(o,i){var s=tk;return o.current.memoizedState.isDehydrated&&(Lk(o,i).flags|=256),o=Jk(o,i),o!==2&&(i=uk,uk=s,i!==null&&Gj(i)),o}function Gj(o){uk===null?uk=o:uk.push.apply(uk,o)}function Pk(o){for(var i=o;;){if(i.flags&16384){var s=i.updateQueue;if(s!==null&&(s=s.stores,s!==null))for(var a=0;a<s.length;a++){var et=s[a],tt=et.getSnapshot;et=et.value;try{if(!He(tt(),et))return!1}catch{return!1}}}if(s=i.child,i.subtreeFlags&16384&&s!==null)s.return=i,i=s;else{if(i===o)break;for(;i.sibling===null;){if(i.return===null||i.return===o)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function Dk(o,i){for(i&=~sk,i&=~rk,o.suspendedLanes|=i,o.pingedLanes&=~i,o=o.expirationTimes;0<i;){var s=31-oc$1(i),a=1<<s;o[s]=-1,i&=~a}}function Fk(o){if(K$2&6)throw Error(p$4(327));Ik();var i=uc$1(o,0);if(!(i&1))return Ek(o,B$2()),null;var s=Jk(o,i);if(o.tag!==0&&s===2){var a=xc$1(o);a!==0&&(i=a,s=Ok(o,a))}if(s===1)throw s=qk,Lk(o,0),Dk(o,i),Ek(o,B$2()),s;if(s===6)throw Error(p$4(345));return o.finishedWork=o.current.alternate,o.finishedLanes=i,Qk(o,uk,vk),Ek(o,B$2()),null}function Rk(o,i){var s=K$2;K$2|=1;try{return o(i)}finally{K$2=s,K$2===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(o){xk!==null&&xk.tag===0&&!(K$2&6)&&Ik();var i=K$2;K$2|=1;var s=pk.transition,a=C$2;try{if(pk.transition=null,C$2=1,o)return o()}finally{C$2=a,pk.transition=s,K$2=i,!(K$2&6)&&jg()}}function Ij(){gj=fj.current,E$1(fj)}function Lk(o,i){o.finishedWork=null,o.finishedLanes=0;var s=o.timeoutHandle;if(s!==-1&&(o.timeoutHandle=-1,Gf(s)),Y$2!==null)for(s=Y$2.return;s!==null;){var a=s;switch(wg(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&$f();break;case 3:Jh(),E$1(Wf),E$1(H$2),Oh();break;case 5:Lh(a);break;case 4:Jh();break;case 13:E$1(M$2);break;case 19:E$1(M$2);break;case 10:Rg(a.type._context);break;case 22:case 23:Ij()}s=s.return}if(R$1=o,Y$2=o=wh(o.current,null),Z$2=gj=i,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(i=0;i<Wg.length;i++)if(s=Wg[i],a=s.interleaved,a!==null){s.interleaved=null;var et=a.next,tt=s.pending;if(tt!==null){var rt=tt.next;tt.next=et,a.next=rt}s.pending=a}Wg=null}return o}function Nk(o,i){do{var s=Y$2;try{if(Qg(),Ph.current=ai,Sh){for(var a=N$2.memoizedState;a!==null;){var et=a.queue;et!==null&&(et.pending=null),a=a.next}Sh=!1}if(Rh=0,P$1=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,s===null||s.return===null){T$1=1,qk=i,Y$2=null;break}e:{var tt=o,rt=s.return,nt=s,it=i;if(i=Z$2,nt.flags|=32768,it!==null&&typeof it=="object"&&typeof it.then=="function"){var ot=it,st=nt,lt=st.tag;if(!(st.mode&1)&&(lt===0||lt===11||lt===15)){var at=st.alternate;at?(st.updateQueue=at.updateQueue,st.memoizedState=at.memoizedState,st.lanes=at.lanes):(st.updateQueue=null,st.memoizedState=null)}var ut=Vi(rt);if(ut!==null){ut.flags&=-257,Wi(ut,rt,nt,tt,i),ut.mode&1&&Ti(tt,ot,i),i=ut,it=ot;var ft=i.updateQueue;if(ft===null){var mt=new Set;mt.add(it),i.updateQueue=mt}else ft.add(it);break e}else{if(!(i&1)){Ti(tt,ot,i),uj();break e}it=Error(p$4(426))}}else if(I$1&&nt.mode&1){var yt=Vi(rt);if(yt!==null){!(yt.flags&65536)&&(yt.flags|=256),Wi(yt,rt,nt,tt,i),Jg(Ki(it,nt));break e}}tt=it=Ki(it,nt),T$1!==4&&(T$1=2),tk===null?tk=[tt]:tk.push(tt),tt=rt;do{switch(tt.tag){case 3:tt.flags|=65536,i&=-i,tt.lanes|=i;var ht=Oi(tt,it,i);fh(tt,ht);break e;case 1:nt=it;var pt=tt.type,ct=tt.stateNode;if(!(tt.flags&128)&&(typeof pt.getDerivedStateFromError=="function"||ct!==null&&typeof ct.componentDidCatch=="function"&&(Si===null||!Si.has(ct)))){tt.flags|=65536,i&=-i,tt.lanes|=i;var gt=Ri(tt,nt,i);fh(tt,gt);break e}}tt=tt.return}while(tt!==null)}Tk(s)}catch(Et){i=Et,Y$2===s&&s!==null&&(Y$2=s=s.return);continue}break}while(!0)}function Kk(){var o=nk.current;return nk.current=ai,o===null?ai:o}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$1===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$1,Z$2)}function Jk(o,i){var s=K$2;K$2|=2;var a=Kk();(R$1!==o||Z$2!==i)&&(vk=null,Lk(o,i));do try{Uk();break}catch(et){Nk(o,et)}while(!0);if(Qg(),K$2=s,nk.current=a,Y$2!==null)throw Error(p$4(261));return R$1=null,Z$2=0,T$1}function Uk(){for(;Y$2!==null;)Vk(Y$2)}function Mk(){for(;Y$2!==null&&!cc$1();)Vk(Y$2)}function Vk(o){var i=Wk(o.alternate,o,gj);o.memoizedProps=o.pendingProps,i===null?Tk(o):Y$2=i,ok.current=null}function Tk(o){var i=o;do{var s=i.alternate;if(o=i.return,i.flags&32768){if(s=Jj(s,i),s!==null){s.flags&=32767,Y$2=s;return}if(o!==null)o.flags|=32768,o.subtreeFlags=0,o.deletions=null;else{T$1=6,Y$2=null;return}}else if(s=Fj(s,i,gj),s!==null){Y$2=s;return}if(i=i.sibling,i!==null){Y$2=i;return}Y$2=i=o}while(i!==null);T$1===0&&(T$1=5)}function Qk(o,i,s){var a=C$2,et=pk.transition;try{pk.transition=null,C$2=1,Xk(o,i,s,a)}finally{pk.transition=et,C$2=a}return null}function Xk(o,i,s,a){do Ik();while(xk!==null);if(K$2&6)throw Error(p$4(327));s=o.finishedWork;var et=o.finishedLanes;if(s===null)return null;if(o.finishedWork=null,o.finishedLanes=0,s===o.current)throw Error(p$4(177));o.callbackNode=null,o.callbackPriority=0;var tt=s.lanes|s.childLanes;if(Bc$1(o,tt),o===R$1&&(Y$2=R$1=null,Z$2=0),!(s.subtreeFlags&2064)&&!(s.flags&2064)||wk||(wk=!0,Gk(hc$1,function(){return Ik(),null})),tt=(s.flags&15990)!==0,s.subtreeFlags&15990||tt){tt=pk.transition,pk.transition=null;var rt=C$2;C$2=1;var nt=K$2;K$2|=4,ok.current=null,Pj(o,s),ek(s,o),Oe(Df),dd$1=!!Cf,Df=Cf=null,o.current=s,ik(s),dc$1(),K$2=nt,C$2=rt,pk.transition=tt}else o.current=s;if(wk&&(wk=!1,xk=o,yk=et),tt=o.pendingLanes,tt===0&&(Si=null),mc$1(s.stateNode),Ek(o,B$2()),i!==null)for(a=o.onRecoverableError,s=0;s<i.length;s++)et=i[s],a(et.value,{componentStack:et.stack,digest:et.digest});if(Pi)throw Pi=!1,o=Qi,Qi=null,o;return yk&1&&o.tag!==0&&Ik(),tt=o.pendingLanes,tt&1?o===Ak?zk++:(zk=0,Ak=o):zk=0,jg(),null}function Ik(){if(xk!==null){var o=Dc$1(yk),i=pk.transition,s=C$2;try{if(pk.transition=null,C$2=16>o?16:o,xk===null)var a=!1;else{if(o=xk,xk=null,yk=0,K$2&6)throw Error(p$4(331));var et=K$2;for(K$2|=4,V$1=o.current;V$1!==null;){var tt=V$1,rt=tt.child;if(V$1.flags&16){var nt=tt.deletions;if(nt!==null){for(var it=0;it<nt.length;it++){var ot=nt[it];for(V$1=ot;V$1!==null;){var st=V$1;switch(st.tag){case 0:case 11:case 15:Qj(8,st,tt)}var lt=st.child;if(lt!==null)lt.return=st,V$1=lt;else for(;V$1!==null;){st=V$1;var at=st.sibling,ut=st.return;if(Tj(st),st===ot){V$1=null;break}if(at!==null){at.return=ut,V$1=at;break}V$1=ut}}}var ft=tt.alternate;if(ft!==null){var mt=ft.child;if(mt!==null){ft.child=null;do{var yt=mt.sibling;mt.sibling=null,mt=yt}while(mt!==null)}}V$1=tt}}if(tt.subtreeFlags&2064&&rt!==null)rt.return=tt,V$1=rt;else e:for(;V$1!==null;){if(tt=V$1,tt.flags&2048)switch(tt.tag){case 0:case 11:case 15:Qj(9,tt,tt.return)}var ht=tt.sibling;if(ht!==null){ht.return=tt.return,V$1=ht;break e}V$1=tt.return}}var pt=o.current;for(V$1=pt;V$1!==null;){rt=V$1;var ct=rt.child;if(rt.subtreeFlags&2064&&ct!==null)ct.return=rt,V$1=ct;else e:for(rt=pt;V$1!==null;){if(nt=V$1,nt.flags&2048)try{switch(nt.tag){case 0:case 11:case 15:Rj(9,nt)}}catch(Et){W$2(nt,nt.return,Et)}if(nt===rt){V$1=null;break e}var gt=nt.sibling;if(gt!==null){gt.return=nt.return,V$1=gt;break e}V$1=nt.return}}if(K$2=et,jg(),lc$1&&typeof lc$1.onPostCommitFiberRoot=="function")try{lc$1.onPostCommitFiberRoot(kc$1,o)}catch{}a=!0}return a}finally{C$2=s,pk.transition=i}}return!1}function Yk(o,i,s){i=Ki(s,i),i=Oi(o,i,1),o=dh(o,i,1),i=L$1(),o!==null&&(Ac$1(o,1,i),Ek(o,i))}function W$2(o,i,s){if(o.tag===3)Yk(o,o,s);else for(;i!==null;){if(i.tag===3){Yk(i,o,s);break}else if(i.tag===1){var a=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Si===null||!Si.has(a))){o=Ki(s,o),o=Ri(i,o,1),i=dh(i,o,1),o=L$1(),i!==null&&(Ac$1(i,1,o),Ek(i,o));break}}i=i.return}}function Ui(o,i,s){var a=o.pingCache;a!==null&&a.delete(i),i=L$1(),o.pingedLanes|=o.suspendedLanes&s,R$1===o&&(Z$2&s)===s&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B$2()-gk?Lk(o,0):sk|=s),Ek(o,i)}function Zk(o,i){i===0&&(o.mode&1?(i=sc$1,sc$1<<=1,!(sc$1&130023424)&&(sc$1=4194304)):i=1);var s=L$1();o=Zg(o,i),o!==null&&(Ac$1(o,i,s),Ek(o,s))}function vj(o){var i=o.memoizedState,s=0;i!==null&&(s=i.retryLane),Zk(o,s)}function ck(o,i){var s=0;switch(o.tag){case 13:var a=o.stateNode,et=o.memoizedState;et!==null&&(s=et.retryLane);break;case 19:a=o.stateNode;break;default:throw Error(p$4(314))}a!==null&&a.delete(i),Zk(o,s)}var Wk;Wk=function(o,i,s){if(o!==null)if(o.memoizedProps!==i.pendingProps||Wf.current)Ug=!0;else{if(!(o.lanes&s)&&!(i.flags&128))return Ug=!1,zj(o,i,s);Ug=!!(o.flags&131072)}else Ug=!1,I$1&&i.flags&1048576&&ug(i,ng,i.index);switch(i.lanes=0,i.tag){case 2:var a=i.type;jj(o,i),o=i.pendingProps;var et=Yf(i,H$2.current);Tg(i,s),et=Xh(null,i,a,o,et,s);var tt=bi();return i.flags|=1,typeof et=="object"&&et!==null&&typeof et.render=="function"&&et.$$typeof===void 0?(i.tag=1,i.memoizedState=null,i.updateQueue=null,Zf(a)?(tt=!0,cg(i)):tt=!1,i.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,ah(i),et.updater=nh,i.stateNode=et,et._reactInternals=i,rh(i,a,o,s),i=kj(null,i,a,!0,tt,s)):(i.tag=0,I$1&&tt&&vg(i),Yi(null,i,et,s),i=i.child),i;case 16:a=i.elementType;e:{switch(jj(o,i),o=i.pendingProps,et=a._init,a=et(a._payload),i.type=a,et=i.tag=$k(a),o=Lg(a,o),et){case 0:i=dj(null,i,a,o,s);break e;case 1:i=ij(null,i,a,o,s);break e;case 11:i=Zi(null,i,a,o,s);break e;case 14:i=aj(null,i,a,Lg(a.type,o),s);break e}throw Error(p$4(306,a,""))}return i;case 0:return a=i.type,et=i.pendingProps,et=i.elementType===a?et:Lg(a,et),dj(o,i,a,et,s);case 1:return a=i.type,et=i.pendingProps,et=i.elementType===a?et:Lg(a,et),ij(o,i,a,et,s);case 3:e:{if(lj(i),o===null)throw Error(p$4(387));a=i.pendingProps,tt=i.memoizedState,et=tt.element,bh(o,i),gh(i,a,null,s);var rt=i.memoizedState;if(a=rt.element,tt.isDehydrated)if(tt={element:a,isDehydrated:!1,cache:rt.cache,pendingSuspenseBoundaries:rt.pendingSuspenseBoundaries,transitions:rt.transitions},i.updateQueue.baseState=tt,i.memoizedState=tt,i.flags&256){et=Ki(Error(p$4(423)),i),i=mj(o,i,a,s,et);break e}else if(a!==et){et=Ki(Error(p$4(424)),i),i=mj(o,i,a,s,et);break e}else for(yg=Lf(i.stateNode.containerInfo.firstChild),xg=i,I$1=!0,zg=null,s=Ch(i,null,a,s),i.child=s;s;)s.flags=s.flags&-3|4096,s=s.sibling;else{if(Ig(),a===et){i=$i(o,i,s);break e}Yi(o,i,a,s)}i=i.child}return i;case 5:return Kh(i),o===null&&Eg(i),a=i.type,et=i.pendingProps,tt=o!==null?o.memoizedProps:null,rt=et.children,Ef(a,et)?rt=null:tt!==null&&Ef(a,tt)&&(i.flags|=32),hj(o,i),Yi(o,i,rt,s),i.child;case 6:return o===null&&Eg(i),null;case 13:return pj(o,i,s);case 4:return Ih(i,i.stateNode.containerInfo),a=i.pendingProps,o===null?i.child=Bh(i,null,a,s):Yi(o,i,a,s),i.child;case 11:return a=i.type,et=i.pendingProps,et=i.elementType===a?et:Lg(a,et),Zi(o,i,a,et,s);case 7:return Yi(o,i,i.pendingProps,s),i.child;case 8:return Yi(o,i,i.pendingProps.children,s),i.child;case 12:return Yi(o,i,i.pendingProps.children,s),i.child;case 10:e:{if(a=i.type._context,et=i.pendingProps,tt=i.memoizedProps,rt=et.value,G$2(Mg,a._currentValue),a._currentValue=rt,tt!==null)if(He(tt.value,rt)){if(tt.children===et.children&&!Wf.current){i=$i(o,i,s);break e}}else for(tt=i.child,tt!==null&&(tt.return=i);tt!==null;){var nt=tt.dependencies;if(nt!==null){rt=tt.child;for(var it=nt.firstContext;it!==null;){if(it.context===a){if(tt.tag===1){it=ch(-1,s&-s),it.tag=2;var ot=tt.updateQueue;if(ot!==null){ot=ot.shared;var st=ot.pending;st===null?it.next=it:(it.next=st.next,st.next=it),ot.pending=it}}tt.lanes|=s,it=tt.alternate,it!==null&&(it.lanes|=s),Sg(tt.return,s,i),nt.lanes|=s;break}it=it.next}}else if(tt.tag===10)rt=tt.type===i.type?null:tt.child;else if(tt.tag===18){if(rt=tt.return,rt===null)throw Error(p$4(341));rt.lanes|=s,nt=rt.alternate,nt!==null&&(nt.lanes|=s),Sg(rt,s,i),rt=tt.sibling}else rt=tt.child;if(rt!==null)rt.return=tt;else for(rt=tt;rt!==null;){if(rt===i){rt=null;break}if(tt=rt.sibling,tt!==null){tt.return=rt.return,rt=tt;break}rt=rt.return}tt=rt}Yi(o,i,et.children,s),i=i.child}return i;case 9:return et=i.type,a=i.pendingProps.children,Tg(i,s),et=Vg(et),a=a(et),i.flags|=1,Yi(o,i,a,s),i.child;case 14:return a=i.type,et=Lg(a,i.pendingProps),et=Lg(a.type,et),aj(o,i,a,et,s);case 15:return cj(o,i,i.type,i.pendingProps,s);case 17:return a=i.type,et=i.pendingProps,et=i.elementType===a?et:Lg(a,et),jj(o,i),i.tag=1,Zf(a)?(o=!0,cg(i)):o=!1,Tg(i,s),ph(i,a,et),rh(i,a,et,s),kj(null,i,a,!0,o,s);case 19:return yj(o,i,s);case 22:return ej(o,i,s)}throw Error(p$4(156,i.tag))};function Gk(o,i){return ac$1(o,i)}function al(o,i,s,a){this.tag=o,this.key=s,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(o,i,s,a){return new al(o,i,s,a)}function bj(o){return o=o.prototype,!(!o||!o.isReactComponent)}function $k(o){if(typeof o=="function")return bj(o)?1:0;if(o!=null){if(o=o.$$typeof,o===Da$1)return 11;if(o===Ga$1)return 14}return 2}function wh(o,i){var s=o.alternate;return s===null?(s=Bg(o.tag,i,o.key,o.mode),s.elementType=o.elementType,s.type=o.type,s.stateNode=o.stateNode,s.alternate=o,o.alternate=s):(s.pendingProps=i,s.type=o.type,s.flags=0,s.subtreeFlags=0,s.deletions=null),s.flags=o.flags&14680064,s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,i=o.dependencies,s.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},s.sibling=o.sibling,s.index=o.index,s.ref=o.ref,s}function yh(o,i,s,a,et,tt){var rt=2;if(a=o,typeof o=="function")bj(o)&&(rt=1);else if(typeof o=="string")rt=5;else e:switch(o){case ya$1:return Ah(s.children,et,tt,i);case za$1:rt=8,et|=8;break;case Aa$1:return o=Bg(12,s,i,et|2),o.elementType=Aa$1,o.lanes=tt,o;case Ea$1:return o=Bg(13,s,i,et),o.elementType=Ea$1,o.lanes=tt,o;case Fa$1:return o=Bg(19,s,i,et),o.elementType=Fa$1,o.lanes=tt,o;case Ia$1:return qj(s,et,tt,i);default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case Ba$1:rt=10;break e;case Ca$1:rt=9;break e;case Da$1:rt=11;break e;case Ga$1:rt=14;break e;case Ha$1:rt=16,a=null;break e}throw Error(p$4(130,o==null?o:typeof o,""))}return i=Bg(rt,s,i,et),i.elementType=o,i.type=a,i.lanes=tt,i}function Ah(o,i,s,a){return o=Bg(7,o,a,i),o.lanes=s,o}function qj(o,i,s,a){return o=Bg(22,o,a,i),o.elementType=Ia$1,o.lanes=s,o.stateNode={isHidden:!1},o}function xh(o,i,s){return o=Bg(6,o,null,i),o.lanes=s,o}function zh(o,i,s){return i=Bg(4,o.children!==null?o.children:[],o.key,i),i.lanes=s,i.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},i}function bl(o,i,s,a,et){this.tag=i,this.containerInfo=o,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc$1(0),this.expirationTimes=zc$1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc$1(0),this.identifierPrefix=a,this.onRecoverableError=et,this.mutableSourceEagerHydrationData=null}function cl(o,i,s,a,et,tt,rt,nt,it){return o=new bl(o,i,s,nt,it),i===1?(i=1,tt===!0&&(i|=8)):i=0,tt=Bg(3,null,null,i),o.current=tt,tt.stateNode=o,tt.memoizedState={element:a,isDehydrated:s,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(tt),o}function dl(o,i,s){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa$1,key:a==null?null:""+a,children:o,containerInfo:i,implementation:s}}function el(o){if(!o)return Vf;o=o._reactInternals;e:{if(Vb$1(o)!==o||o.tag!==1)throw Error(p$4(170));var i=o;do{switch(i.tag){case 3:i=i.stateNode.context;break e;case 1:if(Zf(i.type)){i=i.stateNode.__reactInternalMemoizedMergedChildContext;break e}}i=i.return}while(i!==null);throw Error(p$4(171))}if(o.tag===1){var s=o.type;if(Zf(s))return bg(o,s,i)}return i}function fl(o,i,s,a,et,tt,rt,nt,it){return o=cl(s,a,!0,o,et,tt,rt,nt,it),o.context=el(null),s=o.current,a=L$1(),et=lh(s),tt=ch(a,et),tt.callback=i??null,dh(s,tt,et),o.current.lanes=et,Ac$1(o,et,a),Ek(o,a),o}function gl(o,i,s,a){var et=i.current,tt=L$1(),rt=lh(et);return s=el(s),i.context===null?i.context=s:i.pendingContext=s,i=ch(tt,rt),i.payload={element:o},a=a===void 0?null:a,a!==null&&(i.callback=a),o=dh(et,i,rt),o!==null&&(mh(o,et,rt,tt),eh(o,et,rt)),rt}function hl(o){if(o=o.current,!o.child)return null;switch(o.child.tag){case 5:return o.child.stateNode;default:return o.child.stateNode}}function il(o,i){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var s=o.retryLane;o.retryLane=s!==0&&s<i?s:i}}function jl(o,i){il(o,i),(o=o.alternate)&&il(o,i)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(o){console.error(o)};function ml(o){this._internalRoot=o}nl.prototype.render=ml.prototype.render=function(o){var i=this._internalRoot;if(i===null)throw Error(p$4(409));gl(o,i,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var i=o.containerInfo;Sk(function(){gl(null,o,null,null)}),i[uf]=null}};function nl(o){this._internalRoot=o}nl.prototype.unstable_scheduleHydration=function(o){if(o){var i=Hc$1();o={blockedOn:null,target:o,priority:i};for(var s=0;s<Qc$1.length&&i!==0&&i<Qc$1[s].priority;s++);Qc$1.splice(s,0,o),s===0&&Vc$1(o)}};function ol(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function pl(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11&&(o.nodeType!==8||o.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(o,i,s,a,et){if(et){if(typeof a=="function"){var tt=a;a=function(){var ot=hl(rt);tt.call(ot)}}var rt=fl(i,a,o,0,null,!1,!1,"",ql);return o._reactRootContainer=rt,o[uf]=rt.current,sf(o.nodeType===8?o.parentNode:o),Sk(),rt}for(;et=o.lastChild;)o.removeChild(et);if(typeof a=="function"){var nt=a;a=function(){var ot=hl(it);nt.call(ot)}}var it=cl(o,0,!1,null,null,!1,!1,"",ql);return o._reactRootContainer=it,o[uf]=it.current,sf(o.nodeType===8?o.parentNode:o),Sk(function(){gl(i,it,s,a)}),it}function sl(o,i,s,a,et){var tt=s._reactRootContainer;if(tt){var rt=tt;if(typeof et=="function"){var nt=et;et=function(){var it=hl(rt);nt.call(it)}}gl(i,rt,o,et)}else rt=rl(s,i,o,et,a);return hl(rt)}Ec$1=function(o){switch(o.tag){case 3:var i=o.stateNode;if(i.current.memoizedState.isDehydrated){var s=tc$1(i.pendingLanes);s!==0&&(Cc$1(i,s|1),Ek(i,B$2()),!(K$2&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var a=Zg(o,1);if(a!==null){var et=L$1();mh(a,o,1,et)}}),jl(o,1)}};Fc$1=function(o){if(o.tag===13){var i=Zg(o,134217728);if(i!==null){var s=L$1();mh(i,o,134217728,s)}jl(o,134217728)}};Gc$1=function(o){if(o.tag===13){var i=lh(o),s=Zg(o,i);if(s!==null){var a=L$1();mh(s,o,i,a)}jl(o,i)}};Hc$1=function(){return C$2};Ic$1=function(o,i){var s=C$2;try{return C$2=o,i()}finally{C$2=s}};yb$1=function(o,i,s){switch(i){case"input":if(bb$1(o,s),i=s.name,s.type==="radio"&&i!=null){for(s=o;s.parentNode;)s=s.parentNode;for(s=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),i=0;i<s.length;i++){var a=s[i];if(a!==o&&a.form===o.form){var et=Db(a);if(!et)throw Error(p$4(90));Wa$1(a),bb$1(a,et)}}}break;case"textarea":ib$1(o,s);break;case"select":i=s.value,i!=null&&fb$1(o,!!s.multiple,i,!1)}};Gb$1=Rk;Hb$1=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb$1,ue$1,Db,Eb$1,Fb$1,Rk]},ul={findFiberByHostInstance:Wc$1,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua$1.ReactCurrentDispatcher,findHostInstanceByFiber:function(o){return o=Zb$1(o),o===null?null:o.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc$1=wl.inject(vl),lc$1=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(o,i){var s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(i))throw Error(p$4(200));return dl(o,i,null,s)};reactDom_production_min.createRoot=function(o,i){if(!ol(o))throw Error(p$4(299));var s=!1,a="",et=ll;return i!=null&&(i.unstable_strictMode===!0&&(s=!0),i.identifierPrefix!==void 0&&(a=i.identifierPrefix),i.onRecoverableError!==void 0&&(et=i.onRecoverableError)),i=cl(o,1,!1,null,null,s,!1,a,et),o[uf]=i.current,sf(o.nodeType===8?o.parentNode:o),new ml(i)};reactDom_production_min.findDOMNode=function(o){if(o==null)return null;if(o.nodeType===1)return o;var i=o._reactInternals;if(i===void 0)throw typeof o.render=="function"?Error(p$4(188)):(o=Object.keys(o).join(","),Error(p$4(268,o)));return o=Zb$1(i),o=o===null?null:o.stateNode,o};reactDom_production_min.flushSync=function(o){return Sk(o)};reactDom_production_min.hydrate=function(o,i,s){if(!pl(i))throw Error(p$4(200));return sl(null,o,i,!0,s)};reactDom_production_min.hydrateRoot=function(o,i,s){if(!ol(o))throw Error(p$4(405));var a=s!=null&&s.hydratedSources||null,et=!1,tt="",rt=ll;if(s!=null&&(s.unstable_strictMode===!0&&(et=!0),s.identifierPrefix!==void 0&&(tt=s.identifierPrefix),s.onRecoverableError!==void 0&&(rt=s.onRecoverableError)),i=fl(i,null,o,1,s??null,et,!1,tt,rt),o[uf]=i.current,sf(o),a)for(o=0;o<a.length;o++)s=a[o],et=s._getVersion,et=et(s._source),i.mutableSourceEagerHydrationData==null?i.mutableSourceEagerHydrationData=[s,et]:i.mutableSourceEagerHydrationData.push(s,et);return new nl(i)};reactDom_production_min.render=function(o,i,s){if(!pl(i))throw Error(p$4(200));return sl(null,o,i,!1,s)};reactDom_production_min.unmountComponentAtNode=function(o){if(!pl(o))throw Error(p$4(40));return o._reactRootContainer?(Sk(function(){sl(null,null,o,!1,function(){o._reactRootContainer=null,o[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(o,i,s,a){if(!pl(s))throw Error(p$4(200));if(o==null||o._reactInternals===void 0)throw Error(p$4(38));return sl(o,i,s,!1,a)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";function checkDCE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(checkDCE)}catch(o){console.error(o)}}checkDCE(),reactDom.exports=reactDom_production_min;var reactDomExports=reactDom.exports;const ReactDOM=getDefaultExportFromCjs(reactDomExports);var m$2=reactDomExports;client$1.createRoot=m$2.createRoot,client$1.hydrateRoot=m$2.hydrateRoot;var withSelector={exports:{}},useSyncExternalStoreWithSelector_production_min={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var g$2=reactExports;function n$2(o,i){return o===i&&(o!==0||1/o===1/i)||o!==o&&i!==i}var p$3=typeof Object.is=="function"?Object.is:n$2,q$4=g$2.useSyncExternalStore,r$3=g$2.useRef,t$2=g$2.useEffect,u$1=g$2.useMemo,v$5=g$2.useDebugValue;useSyncExternalStoreWithSelector_production_min.useSyncExternalStoreWithSelector=function(o,i,s,a,et){var tt=r$3(null);if(tt.current===null){var rt={hasValue:!1,value:null};tt.current=rt}else rt=tt.current;tt=u$1(function(){function it(ut){if(!ot){if(ot=!0,st=ut,ut=a(ut),et!==void 0&&rt.hasValue){var ft=rt.value;if(et(ft,ut))return lt=ft}return lt=ut}if(ft=lt,p$3(st,ut))return ft;var mt=a(ut);return et!==void 0&&et(ft,mt)?ft:(st=ut,lt=mt)}var ot=!1,st,lt,at=s===void 0?null:s;return[function(){return it(i())},at===null?void 0:function(){return it(at())}]},[i,s,a,et]);var nt=q$4(o,tt[0],tt[1]);return t$2(function(){rt.hasValue=!0,rt.value=nt},[nt]),v$5(nt),nt};withSelector.exports=useSyncExternalStoreWithSelector_production_min;var withSelectorExports=withSelector.exports,React$1="default"in React$3?React$2:React$3,ContextKey=Symbol.for("react-redux-context"),gT=typeof globalThis<"u"?globalThis:{};function getContext(){if(!React$1.createContext)return{};const o=gT[ContextKey]??(gT[ContextKey]=new Map);let i=o.get(React$1.createContext);return i||(i=React$1.createContext(null),o.set(React$1.createContext,i)),i}var ReactReduxContext=getContext(),notInitialized=()=>{throw new Error("uSES not initialized!")};function createReduxContextHook(o=ReactReduxContext){return function(){return React$1.useContext(o)}}var useReduxContext=createReduxContextHook(),useSyncExternalStoreWithSelector=notInitialized,initializeUseSelector=o=>{useSyncExternalStoreWithSelector=o},refEquality=(o,i)=>o===i;function createSelectorHook(o=ReactReduxContext){const i=o===ReactReduxContext?useReduxContext:createReduxContextHook(o),s=(a,et={})=>{const{equalityFn:tt=refEquality,devModeChecks:rt={}}=typeof et=="function"?{equalityFn:et}:et,{store:nt,subscription:it,getServerState:ot,stabilityCheck:st,identityFunctionCheck:lt}=i();React$1.useRef(!0);const at=React$1.useCallback({[a.name](ft){return a(ft)}}[a.name],[a,st,rt.stabilityCheck]),ut=useSyncExternalStoreWithSelector(it.addNestedSub,nt.getState,ot||nt.getState,at,tt);return React$1.useDebugValue(ut),ut};return Object.assign(s,{withTypes:()=>s}),s}var useSelector=createSelectorHook(),REACT_ELEMENT_TYPE=Symbol.for("react.element"),REACT_PORTAL_TYPE=Symbol.for("react.portal"),REACT_FRAGMENT_TYPE=Symbol.for("react.fragment"),REACT_STRICT_MODE_TYPE=Symbol.for("react.strict_mode"),REACT_PROFILER_TYPE=Symbol.for("react.profiler"),REACT_PROVIDER_TYPE=Symbol.for("react.provider"),REACT_CONTEXT_TYPE=Symbol.for("react.context"),REACT_SERVER_CONTEXT_TYPE=Symbol.for("react.server_context"),REACT_FORWARD_REF_TYPE=Symbol.for("react.forward_ref"),REACT_SUSPENSE_TYPE=Symbol.for("react.suspense"),REACT_SUSPENSE_LIST_TYPE=Symbol.for("react.suspense_list"),REACT_MEMO_TYPE=Symbol.for("react.memo"),REACT_LAZY_TYPE=Symbol.for("react.lazy"),ForwardRef=REACT_FORWARD_REF_TYPE,Memo=REACT_MEMO_TYPE;function typeOf(o){if(typeof o=="object"&&o!==null){const i=o.$$typeof;switch(i){case REACT_ELEMENT_TYPE:{const s=o.type;switch(s){case REACT_FRAGMENT_TYPE:case REACT_PROFILER_TYPE:case REACT_STRICT_MODE_TYPE:case REACT_SUSPENSE_TYPE:case REACT_SUSPENSE_LIST_TYPE:return s;default:{const a=s&&s.$$typeof;switch(a){case REACT_SERVER_CONTEXT_TYPE:case REACT_CONTEXT_TYPE:case REACT_FORWARD_REF_TYPE:case REACT_LAZY_TYPE:case REACT_MEMO_TYPE:case REACT_PROVIDER_TYPE:return a;default:return i}}}}case REACT_PORTAL_TYPE:return i}}}function isMemo(o){return typeOf(o)===REACT_MEMO_TYPE}function pureFinalPropsSelectorFactory(o,i,s,a,{areStatesEqual:et,areOwnPropsEqual:tt,areStatePropsEqual:rt}){let nt=!1,it,ot,st,lt,at;function ut(pt,ct){return it=pt,ot=ct,st=o(it,ot),lt=i(a,ot),at=s(st,lt,ot),nt=!0,at}function ft(){return st=o(it,ot),i.dependsOnOwnProps&&(lt=i(a,ot)),at=s(st,lt,ot),at}function mt(){return o.dependsOnOwnProps&&(st=o(it,ot)),i.dependsOnOwnProps&&(lt=i(a,ot)),at=s(st,lt,ot),at}function yt(){const pt=o(it,ot),ct=!rt(pt,st);return st=pt,ct&&(at=s(st,lt,ot)),at}function ht(pt,ct){const gt=!tt(ct,ot),Et=!et(pt,it,ct,ot);return it=pt,ot=ct,gt&&Et?ft():gt?mt():Et?yt():at}return function(ct,gt){return nt?ht(ct,gt):ut(ct,gt)}}function finalPropsSelectorFactory(o,{initMapStateToProps:i,initMapDispatchToProps:s,initMergeProps:a,...et}){const tt=i(o,et),rt=s(o,et),nt=a(o,et);return pureFinalPropsSelectorFactory(tt,rt,nt,o,et)}function bindActionCreators(o,i){const s={};for(const a in o){const et=o[a];typeof et=="function"&&(s[a]=(...tt)=>i(et(...tt)))}return s}function wrapMapToPropsConstant(o){return function(s){const a=o(s);function et(){return a}return et.dependsOnOwnProps=!1,et}}function getDependsOnOwnProps(o){return o.dependsOnOwnProps?!!o.dependsOnOwnProps:o.length!==1}function wrapMapToPropsFunc(o,i){return function(a,{displayName:et}){const tt=function(nt,it){return tt.dependsOnOwnProps?tt.mapToProps(nt,it):tt.mapToProps(nt,void 0)};return tt.dependsOnOwnProps=!0,tt.mapToProps=function(nt,it){tt.mapToProps=o,tt.dependsOnOwnProps=getDependsOnOwnProps(o);let ot=tt(nt,it);return typeof ot=="function"&&(tt.mapToProps=ot,tt.dependsOnOwnProps=getDependsOnOwnProps(ot),ot=tt(nt,it)),ot},tt}}function createInvalidArgFactory(o,i){return(s,a)=>{throw new Error(`Invalid value of type ${typeof o} for ${i} argument when connecting component ${a.wrappedComponentName}.`)}}function mapDispatchToPropsFactory(o){return o&&typeof o=="object"?wrapMapToPropsConstant(i=>bindActionCreators(o,i)):o?typeof o=="function"?wrapMapToPropsFunc(o):createInvalidArgFactory(o,"mapDispatchToProps"):wrapMapToPropsConstant(i=>({dispatch:i}))}function mapStateToPropsFactory(o){return o?typeof o=="function"?wrapMapToPropsFunc(o):createInvalidArgFactory(o,"mapStateToProps"):wrapMapToPropsConstant(()=>({}))}function defaultMergeProps(o,i,s){return{...s,...o,...i}}function wrapMergePropsFunc(o){return function(s,{displayName:a,areMergedPropsEqual:et}){let tt=!1,rt;return function(it,ot,st){const lt=o(it,ot,st);return tt?et(lt,rt)||(rt=lt):(tt=!0,rt=lt),rt}}}function mergePropsFactory(o){return o?typeof o=="function"?wrapMergePropsFunc(o):createInvalidArgFactory(o,"mergeProps"):()=>defaultMergeProps}function defaultNoopBatch(o){o()}function createListenerCollection(){let o=null,i=null;return{clear(){o=null,i=null},notify(){defaultNoopBatch(()=>{let s=o;for(;s;)s.callback(),s=s.next})},get(){const s=[];let a=o;for(;a;)s.push(a),a=a.next;return s},subscribe(s){let a=!0;const et=i={callback:s,next:null,prev:i};return et.prev?et.prev.next=et:o=et,function(){!a||o===null||(a=!1,et.next?et.next.prev=et.prev:i=et.prev,et.prev?et.prev.next=et.next:o=et.next)}}}}var nullListeners={notify(){},get:()=>[]};function createSubscription(o,i){let s,a=nullListeners,et=0,tt=!1;function rt(mt){st();const yt=a.subscribe(mt);let ht=!1;return()=>{ht||(ht=!0,yt(),lt())}}function nt(){a.notify()}function it(){ft.onStateChange&&ft.onStateChange()}function ot(){return tt}function st(){et++,s||(s=i?i.addNestedSub(it):o.subscribe(it),a=createListenerCollection())}function lt(){et--,s&&et===0&&(s(),s=void 0,a.clear(),a=nullListeners)}function at(){tt||(tt=!0,st())}function ut(){tt&&(tt=!1,lt())}const ft={addNestedSub:rt,notifyNestedSubs:nt,handleChangeWrapper:it,isSubscribed:ot,trySubscribe:at,tryUnsubscribe:ut,getListeners:()=>a};return ft}var canUseDOM$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$1=canUseDOM$2?React$1.useLayoutEffect:React$1.useEffect;function is$1(o,i){return o===i?o!==0||i!==0||1/o===1/i:o!==o&&i!==i}function shallowEqual(o,i){if(is$1(o,i))return!0;if(typeof o!="object"||o===null||typeof i!="object"||i===null)return!1;const s=Object.keys(o),a=Object.keys(i);if(s.length!==a.length)return!1;for(let et=0;et<s.length;et++)if(!Object.prototype.hasOwnProperty.call(i,s[et])||!is$1(o[s[et]],i[s[et]]))return!1;return!0}var REACT_STATICS={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},KNOWN_STATICS={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},FORWARD_REF_STATICS$1={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS$1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS$1={[ForwardRef]:FORWARD_REF_STATICS$1,[Memo]:MEMO_STATICS$1};function getStatics(o){return isMemo(o)?MEMO_STATICS$1:TYPE_STATICS$1[o.$$typeof]||REACT_STATICS}var defineProperty=Object.defineProperty,getOwnPropertyNames=Object.getOwnPropertyNames,getOwnPropertySymbols$1=Object.getOwnPropertySymbols,getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,getPrototypeOf$1=Object.getPrototypeOf,objectPrototype=Object.prototype;function hoistNonReactStatics(o,i){if(typeof i!="string"){if(objectPrototype){const tt=getPrototypeOf$1(i);tt&&tt!==objectPrototype&&hoistNonReactStatics(o,tt)}let s=getOwnPropertyNames(i);getOwnPropertySymbols$1&&(s=s.concat(getOwnPropertySymbols$1(i)));const a=getStatics(o),et=getStatics(i);for(let tt=0;tt<s.length;++tt){const rt=s[tt];if(!KNOWN_STATICS[rt]&&!(et&&et[rt])&&!(a&&a[rt])){const nt=getOwnPropertyDescriptor(i,rt);try{defineProperty(o,rt,nt)}catch{}}}}return o}var useSyncExternalStore=notInitialized,initializeConnect=o=>{useSyncExternalStore=o},NO_SUBSCRIPTION_ARRAY=[null,null];function useIsomorphicLayoutEffectWithArgs(o,i,s){useIsomorphicLayoutEffect$1(()=>o(...i),s)}function captureWrapperProps(o,i,s,a,et,tt){o.current=a,s.current=!1,et.current&&(et.current=null,tt())}function subscribeUpdates(o,i,s,a,et,tt,rt,nt,it,ot,st){if(!o)return()=>{};let lt=!1,at=null;const ut=()=>{if(lt||!nt.current)return;const mt=i.getState();let yt,ht;try{yt=a(mt,et.current)}catch(pt){ht=pt,at=pt}ht||(at=null),yt===tt.current?rt.current||ot():(tt.current=yt,it.current=yt,rt.current=!0,st())};return s.onStateChange=ut,s.trySubscribe(),ut(),()=>{if(lt=!0,s.tryUnsubscribe(),s.onStateChange=null,at)throw at}}function strictEqual(o,i){return o===i}function connect(o,i,s,{pure:a,areStatesEqual:et=strictEqual,areOwnPropsEqual:tt=shallowEqual,areStatePropsEqual:rt=shallowEqual,areMergedPropsEqual:nt=shallowEqual,forwardRef:it=!1,context:ot=ReactReduxContext}={}){const st=ot,lt=mapStateToPropsFactory(o),at=mapDispatchToPropsFactory(i),ut=mergePropsFactory(s),ft=!!o;return yt=>{const ht=yt.displayName||yt.name||"Component",pt=`Connect(${ht})`,ct={shouldHandleStateChanges:ft,displayName:pt,wrappedComponentName:ht,WrappedComponent:yt,initMapStateToProps:lt,initMapDispatchToProps:at,initMergeProps:ut,areStatesEqual:et,areStatePropsEqual:rt,areOwnPropsEqual:tt,areMergedPropsEqual:nt};function gt(xt){const[Tt,wt,It]=React$1.useMemo(()=>{const{reactReduxForwardedRef:sr,...ur}=xt;return[xt.context,sr,ur]},[xt]),At=React$1.useMemo(()=>{let sr=st;return Tt!=null&&Tt.Consumer,sr},[Tt,st]),kt=React$1.useContext(At),Vt=!!xt.store&&!!xt.store.getState&&!!xt.store.dispatch,Mt=!!kt&&!!kt.store,Ot=Vt?xt.store:kt.store,Dt=Mt?kt.getServerState:Ot.getState,Ct=React$1.useMemo(()=>finalPropsSelectorFactory(Ot.dispatch,ct),[Ot]),[St,$t]=React$1.useMemo(()=>{if(!ft)return NO_SUBSCRIPTION_ARRAY;const sr=createSubscription(Ot,Vt?void 0:kt.subscription),ur=sr.notifyNestedSubs.bind(sr);return[sr,ur]},[Ot,Vt,kt]),Lt=React$1.useMemo(()=>Vt?kt:{...kt,subscription:St},[Vt,kt,St]),Rt=React$1.useRef(),jt=React$1.useRef(It),Ft=React$1.useRef(),zt=React$1.useRef(!1);React$1.useRef(!1);const Gt=React$1.useRef(!1),Bt=React$1.useRef();useIsomorphicLayoutEffect$1(()=>(Gt.current=!0,()=>{Gt.current=!1}),[]);const Wt=React$1.useMemo(()=>()=>Ft.current&&It===jt.current?Ft.current:Ct(Ot.getState(),It),[Ot,It]),Kt=React$1.useMemo(()=>ur=>St?subscribeUpdates(ft,Ot,St,Ct,jt,Rt,zt,Gt,Ft,$t,ur):()=>{},[St]);useIsomorphicLayoutEffectWithArgs(captureWrapperProps,[jt,Rt,zt,It,Ft,$t]);let Qt;try{Qt=useSyncExternalStore(Kt,Wt,Dt?()=>Ct(Dt(),It):Wt)}catch(sr){throw Bt.current&&(sr.message+=`
The error may be correlated with this previous error:
${Bt.current.stack}

`),sr}useIsomorphicLayoutEffect$1(()=>{Bt.current=void 0,Ft.current=void 0,Rt.current=Qt});const Xt=React$1.useMemo(()=>React$1.createElement(yt,{...Qt,ref:wt}),[wt,yt,Qt]);return React$1.useMemo(()=>ft?React$1.createElement(At.Provider,{value:Lt},Xt):Xt,[At,Xt,Lt])}const bt=React$1.memo(gt);if(bt.WrappedComponent=yt,bt.displayName=gt.displayName=pt,it){const Tt=React$1.forwardRef(function(It,At){return React$1.createElement(bt,{...It,reactReduxForwardedRef:At})});return Tt.displayName=pt,Tt.WrappedComponent=yt,hoistNonReactStatics(Tt,yt)}return hoistNonReactStatics(bt,yt)}}var connect_default=connect;function Provider$1({store:o,context:i,children:s,serverState:a,stabilityCheck:et="once",identityFunctionCheck:tt="once"}){const rt=React$1.useMemo(()=>{const ot=createSubscription(o);return{store:o,subscription:ot,getServerState:a?()=>a:void 0,stabilityCheck:et,identityFunctionCheck:tt}},[o,a,et,tt]),nt=React$1.useMemo(()=>o.getState(),[o]);useIsomorphicLayoutEffect$1(()=>{const{subscription:ot}=rt;return ot.onStateChange=ot.notifyNestedSubs,ot.trySubscribe(),nt!==o.getState()&&ot.notifyNestedSubs(),()=>{ot.tryUnsubscribe(),ot.onStateChange=void 0}},[rt,nt]);const it=i||ReactReduxContext;return React$1.createElement(it.Provider,{value:rt},s)}var Provider_default=Provider$1;function createStoreHook(o=ReactReduxContext){const i=o===ReactReduxContext?useReduxContext:createReduxContextHook(o),s=()=>{const{store:a}=i();return a};return Object.assign(s,{withTypes:()=>s}),s}var useStore=createStoreHook();function createDispatchHook(o=ReactReduxContext){const i=o===ReactReduxContext?useStore:createStoreHook(o),s=()=>i().dispatch;return Object.assign(s,{withTypes:()=>s}),s}var useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);initializeConnect(reactExports.useSyncExternalStore);/**
 * @remix-run/router v1.15.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$3(){return _extends$3=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$3.apply(this,arguments)}var Action$1;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType$1="popstate";function createBrowserHistory$1(o){o===void 0&&(o={});function i(a,et){let{pathname:tt,search:rt,hash:nt}=a.location;return createLocation("",{pathname:tt,search:rt,hash:nt},et.state&&et.state.usr||null,et.state&&et.state.key||"default")}function s(a,et){return typeof et=="string"?et:createPath$1(et)}return getUrlBasedHistory(i,s,null,o)}function invariant$2(o,i){if(o===!1||o===null||typeof o>"u")throw new Error(i)}function warning$2(o,i){if(!o){typeof console<"u"&&console.warn(i);try{throw new Error(i)}catch{}}}function createKey$1(){return Math.random().toString(36).substr(2,8)}function getHistoryState(o,i){return{usr:o.state,key:o.key,idx:i}}function createLocation(o,i,s,a){return s===void 0&&(s=null),_extends$3({pathname:typeof o=="string"?o:o.pathname,search:"",hash:""},typeof i=="string"?parsePath$1(i):i,{state:s,key:i&&i.key||a||createKey$1()})}function createPath$1(o){let{pathname:i="/",search:s="",hash:a=""}=o;return s&&s!=="?"&&(i+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(i+=a.charAt(0)==="#"?a:"#"+a),i}function parsePath$1(o){let i={};if(o){let s=o.indexOf("#");s>=0&&(i.hash=o.substr(s),o=o.substr(0,s));let a=o.indexOf("?");a>=0&&(i.search=o.substr(a),o=o.substr(0,a)),o&&(i.pathname=o)}return i}function getUrlBasedHistory(o,i,s,a){a===void 0&&(a={});let{window:et=document.defaultView,v5Compat:tt=!1}=a,rt=et.history,nt=Action$1.Pop,it=null,ot=st();ot==null&&(ot=0,rt.replaceState(_extends$3({},rt.state,{idx:ot}),""));function st(){return(rt.state||{idx:null}).idx}function lt(){nt=Action$1.Pop;let yt=st(),ht=yt==null?null:yt-ot;ot=yt,it&&it({action:nt,location:mt.location,delta:ht})}function at(yt,ht){nt=Action$1.Push;let pt=createLocation(mt.location,yt,ht);s&&s(pt,yt),ot=st()+1;let ct=getHistoryState(pt,ot),gt=mt.createHref(pt);try{rt.pushState(ct,"",gt)}catch(Et){if(Et instanceof DOMException&&Et.name==="DataCloneError")throw Et;et.location.assign(gt)}tt&&it&&it({action:nt,location:mt.location,delta:1})}function ut(yt,ht){nt=Action$1.Replace;let pt=createLocation(mt.location,yt,ht);s&&s(pt,yt),ot=st();let ct=getHistoryState(pt,ot),gt=mt.createHref(pt);rt.replaceState(ct,"",gt),tt&&it&&it({action:nt,location:mt.location,delta:0})}function ft(yt){let ht=et.location.origin!=="null"?et.location.origin:et.location.href,pt=typeof yt=="string"?yt:createPath$1(yt);return invariant$2(ht,"No window.location.(origin|href) available to create URL for href: "+pt),new URL(pt,ht)}let mt={get action(){return nt},get location(){return o(et,rt)},listen(yt){if(it)throw new Error("A history only accepts one active listener");return et.addEventListener(PopStateEventType$1,lt),it=yt,()=>{et.removeEventListener(PopStateEventType$1,lt),it=null}},createHref(yt){return i(et,yt)},createURL:ft,encodeLocation(yt){let ht=ft(yt);return{pathname:ht.pathname,search:ht.search,hash:ht.hash}},push:at,replace:ut,go(yt){return rt.go(yt)}};return mt}var ResultType;(function(o){o.data="data",o.deferred="deferred",o.redirect="redirect",o.error="error"})(ResultType||(ResultType={}));function matchRoutes(o,i,s){s===void 0&&(s="/");let a=typeof i=="string"?parsePath$1(i):i,et=stripBasename(a.pathname||"/",s);if(et==null)return null;let tt=flattenRoutes(o);rankRouteBranches(tt);let rt=null;for(let nt=0;rt==null&&nt<tt.length;++nt)rt=matchRouteBranch(tt[nt],safelyDecodeURI(et));return rt}function flattenRoutes(o,i,s,a){i===void 0&&(i=[]),s===void 0&&(s=[]),a===void 0&&(a="");let et=(tt,rt,nt)=>{let it={relativePath:nt===void 0?tt.path||"":nt,caseSensitive:tt.caseSensitive===!0,childrenIndex:rt,route:tt};it.relativePath.startsWith("/")&&(invariant$2(it.relativePath.startsWith(a),'Absolute route path "'+it.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),it.relativePath=it.relativePath.slice(a.length));let ot=joinPaths([a,it.relativePath]),st=s.concat(it);tt.children&&tt.children.length>0&&(invariant$2(tt.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ot+'".')),flattenRoutes(tt.children,i,st,ot)),!(tt.path==null&&!tt.index)&&i.push({path:ot,score:computeScore(ot,tt.index),routesMeta:st})};return o.forEach((tt,rt)=>{var nt;if(tt.path===""||!((nt=tt.path)!=null&&nt.includes("?")))et(tt,rt);else for(let it of explodeOptionalSegments(tt.path))et(tt,rt,it)}),i}function explodeOptionalSegments(o){let i=o.split("/");if(i.length===0)return[];let[s,...a]=i,et=s.endsWith("?"),tt=s.replace(/\?$/,"");if(a.length===0)return et?[tt,""]:[tt];let rt=explodeOptionalSegments(a.join("/")),nt=[];return nt.push(...rt.map(it=>it===""?tt:[tt,it].join("/"))),et&&nt.push(...rt),nt.map(it=>o.startsWith("/")&&it===""?"/":it)}function rankRouteBranches(o){o.sort((i,s)=>i.score!==s.score?s.score-i.score:compareIndexes(i.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const paramRe=/^:[\w-]+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=o=>o==="*";function computeScore(o,i){let s=o.split("/"),a=s.length;return s.some(isSplat)&&(a+=splatPenalty),i&&(a+=indexRouteValue),s.filter(et=>!isSplat(et)).reduce((et,tt)=>et+(paramRe.test(tt)?dynamicSegmentValue:tt===""?emptySegmentValue:staticSegmentValue),a)}function compareIndexes(o,i){return o.length===i.length&&o.slice(0,-1).every((a,et)=>a===i[et])?o[o.length-1]-i[i.length-1]:0}function matchRouteBranch(o,i){let{routesMeta:s}=o,a={},et="/",tt=[];for(let rt=0;rt<s.length;++rt){let nt=s[rt],it=rt===s.length-1,ot=et==="/"?i:i.slice(et.length)||"/",st=matchPath({path:nt.relativePath,caseSensitive:nt.caseSensitive,end:it},ot);if(!st)return null;Object.assign(a,st.params);let lt=nt.route;tt.push({params:a,pathname:joinPaths([et,st.pathname]),pathnameBase:normalizePathname(joinPaths([et,st.pathnameBase])),route:lt}),st.pathnameBase!=="/"&&(et=joinPaths([et,st.pathnameBase]))}return tt}function matchPath(o,i){typeof o=="string"&&(o={path:o,caseSensitive:!1,end:!0});let[s,a]=compilePath(o.path,o.caseSensitive,o.end),et=i.match(s);if(!et)return null;let tt=et[0],rt=tt.replace(/(.)\/+$/,"$1"),nt=et.slice(1);return{params:a.reduce((ot,st,lt)=>{let{paramName:at,isOptional:ut}=st;if(at==="*"){let mt=nt[lt]||"";rt=tt.slice(0,tt.length-mt.length).replace(/(.)\/+$/,"$1")}const ft=nt[lt];return ut&&!ft?ot[at]=void 0:ot[at]=safelyDecodeURIComponent(ft||"",at),ot},{}),pathname:tt,pathnameBase:rt,pattern:o}}function compilePath(o,i,s){i===void 0&&(i=!1),s===void 0&&(s=!0),warning$2(o==="*"||!o.endsWith("*")||o.endsWith("/*"),'Route path "'+o+'" will be treated as if it were '+('"'+o.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+o.replace(/\*$/,"/*")+'".'));let a=[],et="^"+o.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(rt,nt,it)=>(a.push({paramName:nt,isOptional:it!=null}),it?"/?([^\\/]+)?":"/([^\\/]+)"));return o.endsWith("*")?(a.push({paramName:"*"}),et+=o==="*"||o==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?et+="\\/*$":o!==""&&o!=="/"&&(et+="(?:(?=\\/|$))"),[new RegExp(et,i?void 0:"i"),a]}function safelyDecodeURI(o){try{return decodeURI(o)}catch(i){return warning$2(!1,'The URL path "'+o+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+i+").")),o}}function safelyDecodeURIComponent(o,i){try{return decodeURIComponent(o)}catch(s){return warning$2(!1,'The value for the URL param "'+i+'" will not be decoded because'+(' the string "'+o+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+s+").")),o}}function stripBasename(o,i){if(i==="/")return o;if(!o.toLowerCase().startsWith(i.toLowerCase()))return null;let s=i.endsWith("/")?i.length-1:i.length,a=o.charAt(s);return a&&a!=="/"?null:o.slice(s)||"/"}function resolvePath(o,i){i===void 0&&(i="/");let{pathname:s,search:a="",hash:et=""}=typeof o=="string"?parsePath$1(o):o;return{pathname:s?s.startsWith("/")?s:resolvePathname(s,i):i,search:normalizeSearch(a),hash:normalizeHash(et)}}function resolvePathname(o,i){let s=i.replace(/\/+$/,"").split("/");return o.split("/").forEach(et=>{et===".."?s.length>1&&s.pop():et!=="."&&s.push(et)}),s.length>1?s.join("/"):"/"}function getInvalidPathError(o,i,s,a){return"Cannot include a '"+o+"' character in a manually specified "+("`to."+i+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(o){return o.filter((i,s)=>s===0||i.route.path&&i.route.path.length>0)}function getResolveToMatches(o,i){let s=getPathContributingMatches(o);return i?s.map((a,et)=>et===o.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function resolveTo(o,i,s,a){a===void 0&&(a=!1);let et;typeof o=="string"?et=parsePath$1(o):(et=_extends$3({},o),invariant$2(!et.pathname||!et.pathname.includes("?"),getInvalidPathError("?","pathname","search",et)),invariant$2(!et.pathname||!et.pathname.includes("#"),getInvalidPathError("#","pathname","hash",et)),invariant$2(!et.search||!et.search.includes("#"),getInvalidPathError("#","search","hash",et)));let tt=o===""||et.pathname==="",rt=tt?"/":et.pathname,nt;if(rt==null)nt=s;else{let lt=i.length-1;if(!a&&rt.startsWith("..")){let at=rt.split("/");for(;at[0]==="..";)at.shift(),lt-=1;et.pathname=at.join("/")}nt=lt>=0?i[lt]:"/"}let it=resolvePath(et,nt),ot=rt&&rt!=="/"&&rt.endsWith("/"),st=(tt||rt===".")&&s.endsWith("/");return!it.pathname.endsWith("/")&&(ot||st)&&(it.pathname+="/"),it}const joinPaths=o=>o.join("/").replace(/\/\/+/g,"/"),normalizePathname=o=>o.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=o=>!o||o==="?"?"":o.startsWith("?")?o:"?"+o,normalizeHash=o=>!o||o==="#"?"":o.startsWith("#")?o:"#"+o;function isRouteErrorResponse(o){return o!=null&&typeof o.status=="number"&&typeof o.statusText=="string"&&typeof o.internal=="boolean"&&"data"in o}const validMutationMethodsArr=["post","put","patch","delete"];new Set(validMutationMethodsArr);const validRequestMethodsArr=["get",...validMutationMethodsArr];new Set(validRequestMethodsArr);/**
 * React Router v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$2(){return _extends$2=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$2.apply(this,arguments)}const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[],isDataRoute:!1}),RouteErrorContext=reactExports.createContext(null);function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant$2(!1),reactExports.useContext(LocationContext).location}function useIsomorphicLayoutEffect(o){reactExports.useContext(NavigationContext).static||reactExports.useLayoutEffect(o)}function useNavigate(){let{isDataRoute:o}=reactExports.useContext(RouteContext);return o?useNavigateStable():useNavigateUnstable()}function useNavigateUnstable(){useInRouterContext()||invariant$2(!1);let o=reactExports.useContext(DataRouterContext),{basename:i,future:s,navigator:a}=reactExports.useContext(NavigationContext),{matches:et}=reactExports.useContext(RouteContext),{pathname:tt}=useLocation(),rt=JSON.stringify(getResolveToMatches(et,s.v7_relativeSplatPath)),nt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{nt.current=!0}),reactExports.useCallback(function(ot,st){if(st===void 0&&(st={}),!nt.current)return;if(typeof ot=="number"){a.go(ot);return}let lt=resolveTo(ot,JSON.parse(rt),tt,st.relative==="path");o==null&&i!=="/"&&(lt.pathname=lt.pathname==="/"?i:joinPaths([i,lt.pathname])),(st.replace?a.replace:a.push)(lt,st.state,st)},[i,a,rt,tt,o])}function useParams(){let{matches:o}=reactExports.useContext(RouteContext),i=o[o.length-1];return i?i.params:{}}function useRoutes(o,i){return useRoutesImpl(o,i)}function useRoutesImpl(o,i,s,a){useInRouterContext()||invariant$2(!1);let{navigator:et}=reactExports.useContext(NavigationContext),{matches:tt}=reactExports.useContext(RouteContext),rt=tt[tt.length-1],nt=rt?rt.params:{};rt&&rt.pathname;let it=rt?rt.pathnameBase:"/";rt&&rt.route;let ot=useLocation(),st;if(i){var lt;let yt=typeof i=="string"?parsePath$1(i):i;it==="/"||(lt=yt.pathname)!=null&&lt.startsWith(it)||invariant$2(!1),st=yt}else st=ot;let at=st.pathname||"/",ut=it==="/"?at:at.slice(it.length)||"/",ft=matchRoutes(o,{pathname:ut}),mt=_renderMatches(ft&&ft.map(yt=>Object.assign({},yt,{params:Object.assign({},nt,yt.params),pathname:joinPaths([it,et.encodeLocation?et.encodeLocation(yt.pathname).pathname:yt.pathname]),pathnameBase:yt.pathnameBase==="/"?it:joinPaths([it,et.encodeLocation?et.encodeLocation(yt.pathnameBase).pathname:yt.pathnameBase])})),tt,s,a);return i&&mt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$2({pathname:"/",search:"",hash:"",state:null,key:"default"},st),navigationType:Action$1.Pop}},mt):mt}function DefaultErrorComponent(){let o=useRouteError(),i=isRouteErrorResponse(o)?o.status+" "+o.statusText:o instanceof Error?o.message:JSON.stringify(o),s=o instanceof Error?o.stack:null,et={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},i),s?reactExports.createElement("pre",{style:et},s):null,null)}const defaultErrorElement=reactExports.createElement(DefaultErrorComponent,null);class RenderErrorBoundary extends reactExports.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,s){return s.location!==i.location||s.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:s.error,location:s.location,revalidation:i.revalidation||s.revalidation}}componentDidCatch(i,s){console.error("React Router caught the following error during render",i,s)}render(){return this.state.error!==void 0?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(o){let{routeContext:i,match:s,children:a}=o,et=reactExports.useContext(DataRouterContext);return et&&et.static&&et.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(et.staticContext._deepestRenderedBoundaryId=s.route.id),reactExports.createElement(RouteContext.Provider,{value:i},a)}function _renderMatches(o,i,s,a){var et;if(i===void 0&&(i=[]),s===void 0&&(s=null),a===void 0&&(a=null),o==null){var tt;if((tt=s)!=null&&tt.errors)o=s.matches;else return null}let rt=o,nt=(et=s)==null?void 0:et.errors;if(nt!=null){let st=rt.findIndex(lt=>lt.route.id&&(nt==null?void 0:nt[lt.route.id]));st>=0||invariant$2(!1),rt=rt.slice(0,Math.min(rt.length,st+1))}let it=!1,ot=-1;if(s&&a&&a.v7_partialHydration)for(let st=0;st<rt.length;st++){let lt=rt[st];if((lt.route.HydrateFallback||lt.route.hydrateFallbackElement)&&(ot=st),lt.route.id){let{loaderData:at,errors:ut}=s,ft=lt.route.loader&&at[lt.route.id]===void 0&&(!ut||ut[lt.route.id]===void 0);if(lt.route.lazy||ft){it=!0,ot>=0?rt=rt.slice(0,ot+1):rt=[rt[0]];break}}}return rt.reduceRight((st,lt,at)=>{let ut,ft=!1,mt=null,yt=null;s&&(ut=nt&&lt.route.id?nt[lt.route.id]:void 0,mt=lt.route.errorElement||defaultErrorElement,it&&(ot<0&&at===0?(warningOnce("route-fallback",!1),ft=!0,yt=null):ot===at&&(ft=!0,yt=lt.route.hydrateFallbackElement||null)));let ht=i.concat(rt.slice(0,at+1)),pt=()=>{let ct;return ut?ct=mt:ft?ct=yt:lt.route.Component?ct=reactExports.createElement(lt.route.Component,null):lt.route.element?ct=lt.route.element:ct=st,reactExports.createElement(RenderedRoute,{match:lt,routeContext:{outlet:st,matches:ht,isDataRoute:s!=null},children:ct})};return s&&(lt.route.ErrorBoundary||lt.route.errorElement||at===0)?reactExports.createElement(RenderErrorBoundary,{location:s.location,revalidation:s.revalidation,component:mt,error:ut,children:pt(),routeContext:{outlet:null,matches:ht,isDataRoute:!0}}):pt()},null)}var DataRouterHook$1=function(o){return o.UseBlocker="useBlocker",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o}(DataRouterHook$1||{}),DataRouterStateHook$1=function(o){return o.UseBlocker="useBlocker",o.UseLoaderData="useLoaderData",o.UseActionData="useActionData",o.UseRouteError="useRouteError",o.UseNavigation="useNavigation",o.UseRouteLoaderData="useRouteLoaderData",o.UseMatches="useMatches",o.UseRevalidator="useRevalidator",o.UseNavigateStable="useNavigate",o.UseRouteId="useRouteId",o}(DataRouterStateHook$1||{});function useDataRouterContext(o){let i=reactExports.useContext(DataRouterContext);return i||invariant$2(!1),i}function useDataRouterState(o){let i=reactExports.useContext(DataRouterStateContext);return i||invariant$2(!1),i}function useRouteContext(o){let i=reactExports.useContext(RouteContext);return i||invariant$2(!1),i}function useCurrentRouteId(o){let i=useRouteContext(),s=i.matches[i.matches.length-1];return s.route.id||invariant$2(!1),s.route.id}function useRouteError(){var o;let i=reactExports.useContext(RouteErrorContext),s=useDataRouterState(DataRouterStateHook$1.UseRouteError),a=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return i!==void 0?i:(o=s.errors)==null?void 0:o[a]}function useNavigateStable(){let{router:o}=useDataRouterContext(DataRouterHook$1.UseNavigateStable),i=useCurrentRouteId(DataRouterStateHook$1.UseNavigateStable),s=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>{s.current=!0}),reactExports.useCallback(function(et,tt){tt===void 0&&(tt={}),s.current&&(typeof et=="number"?o.navigate(et):o.navigate(et,_extends$2({fromRouteId:i},tt)))},[o,i])}const alreadyWarned={};function warningOnce(o,i,s){!i&&!alreadyWarned[o]&&(alreadyWarned[o]=!0)}function Navigate(o){let{to:i,replace:s,state:a,relative:et}=o;useInRouterContext()||invariant$2(!1);let{future:tt,static:rt}=reactExports.useContext(NavigationContext),{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),ot=useNavigate(),st=resolveTo(i,getResolveToMatches(nt,tt.v7_relativeSplatPath),it,et==="path"),lt=JSON.stringify(st);return reactExports.useEffect(()=>ot(JSON.parse(lt),{replace:s,state:a,relative:et}),[ot,lt,et,s,a]),null}function Route(o){invariant$2(!1)}function Router(o){let{basename:i="/",children:s=null,location:a,navigationType:et=Action$1.Pop,navigator:tt,static:rt=!1,future:nt}=o;useInRouterContext()&&invariant$2(!1);let it=i.replace(/^\/*/,"/"),ot=reactExports.useMemo(()=>({basename:it,navigator:tt,static:rt,future:_extends$2({v7_relativeSplatPath:!1},nt)}),[it,nt,tt,rt]);typeof a=="string"&&(a=parsePath$1(a));let{pathname:st="/",search:lt="",hash:at="",state:ut=null,key:ft="default"}=a,mt=reactExports.useMemo(()=>{let yt=stripBasename(st,it);return yt==null?null:{location:{pathname:yt,search:lt,hash:at,state:ut,key:ft},navigationType:et}},[it,st,lt,at,ut,ft,et]);return mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:ot},reactExports.createElement(LocationContext.Provider,{children:s,value:mt}))}function Routes(o){let{children:i,location:s}=o;return useRoutes(createRoutesFromChildren(i),s)}new Promise(()=>{});function createRoutesFromChildren(o,i){i===void 0&&(i=[]);let s=[];return reactExports.Children.forEach(o,(a,et)=>{if(!reactExports.isValidElement(a))return;let tt=[...i,et];if(a.type===reactExports.Fragment){s.push.apply(s,createRoutesFromChildren(a.props.children,tt));return}a.type!==Route&&invariant$2(!1),!a.props.index||!a.props.children||invariant$2(!1);let rt={id:a.props.id||tt.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(rt.children=createRoutesFromChildren(a.props.children,tt)),s.push(rt)}),s}/**
 * React Router DOM v6.22.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const REACT_ROUTER_VERSION="6";try{window.__reactRouterVersion=REACT_ROUTER_VERSION}catch{}const START_TRANSITION="startTransition",startTransitionImpl=React$3[START_TRANSITION];function BrowserRouter(o){let{basename:i,children:s,future:a,window:et}=o,tt=reactExports.useRef();tt.current==null&&(tt.current=createBrowserHistory$1({window:et,v5Compat:!0}));let rt=tt.current,[nt,it]=reactExports.useState({action:rt.action,location:rt.location}),{v7_startTransition:ot}=a||{},st=reactExports.useCallback(lt=>{ot&&startTransitionImpl?startTransitionImpl(()=>it(lt)):it(lt)},[it,ot]);return reactExports.useLayoutEffect(()=>rt.listen(st),[rt,st]),reactExports.createElement(Router,{basename:i,children:s,location:nt.location,navigationType:nt.action,navigator:rt,future:a})}var DataRouterHook;(function(o){o.UseScrollRestoration="useScrollRestoration",o.UseSubmit="useSubmit",o.UseSubmitFetcher="useSubmitFetcher",o.UseFetcher="useFetcher",o.useViewTransitionState="useViewTransitionState"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(o){o.UseFetcher="useFetcher",o.UseFetchers="useFetchers",o.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));var define_process_env_default={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const stringToByteArray$1=function(o){const i=[];let s=0;for(let a=0;a<o.length;a++){let et=o.charCodeAt(a);et<128?i[s++]=et:et<2048?(i[s++]=et>>6|192,i[s++]=et&63|128):(et&64512)===55296&&a+1<o.length&&(o.charCodeAt(a+1)&64512)===56320?(et=65536+((et&1023)<<10)+(o.charCodeAt(++a)&1023),i[s++]=et>>18|240,i[s++]=et>>12&63|128,i[s++]=et>>6&63|128,i[s++]=et&63|128):(i[s++]=et>>12|224,i[s++]=et>>6&63|128,i[s++]=et&63|128)}return i},byteArrayToString=function(o){const i=[];let s=0,a=0;for(;s<o.length;){const et=o[s++];if(et<128)i[a++]=String.fromCharCode(et);else if(et>191&&et<224){const tt=o[s++];i[a++]=String.fromCharCode((et&31)<<6|tt&63)}else if(et>239&&et<365){const tt=o[s++],rt=o[s++],nt=o[s++],it=((et&7)<<18|(tt&63)<<12|(rt&63)<<6|nt&63)-65536;i[a++]=String.fromCharCode(55296+(it>>10)),i[a++]=String.fromCharCode(56320+(it&1023))}else{const tt=o[s++],rt=o[s++];i[a++]=String.fromCharCode((et&15)<<12|(tt&63)<<6|rt&63)}}return i.join("")},base64={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(o,i){if(!Array.isArray(o))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=i?this.byteToCharMapWebSafe_:this.byteToCharMap_,a=[];for(let et=0;et<o.length;et+=3){const tt=o[et],rt=et+1<o.length,nt=rt?o[et+1]:0,it=et+2<o.length,ot=it?o[et+2]:0,st=tt>>2,lt=(tt&3)<<4|nt>>4;let at=(nt&15)<<2|ot>>6,ut=ot&63;it||(ut=64,rt||(at=64)),a.push(s[st],s[lt],s[at],s[ut])}return a.join("")},encodeString(o,i){return this.HAS_NATIVE_SUPPORT&&!i?btoa(o):this.encodeByteArray(stringToByteArray$1(o),i)},decodeString(o,i){return this.HAS_NATIVE_SUPPORT&&!i?atob(o):byteArrayToString(this.decodeStringToByteArray(o,i))},decodeStringToByteArray(o,i){this.init_();const s=i?this.charToByteMapWebSafe_:this.charToByteMap_,a=[];for(let et=0;et<o.length;){const tt=s[o.charAt(et++)],nt=et<o.length?s[o.charAt(et)]:0;++et;const ot=et<o.length?s[o.charAt(et)]:64;++et;const lt=et<o.length?s[o.charAt(et)]:64;if(++et,tt==null||nt==null||ot==null||lt==null)throw new DecodeBase64StringError;const at=tt<<2|nt>>4;if(a.push(at),ot!==64){const ut=nt<<4&240|ot>>2;if(a.push(ut),lt!==64){const ft=ot<<6&192|lt;a.push(ft)}}}return a},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let o=0;o<this.ENCODED_VALS.length;o++)this.byteToCharMap_[o]=this.ENCODED_VALS.charAt(o),this.charToByteMap_[this.byteToCharMap_[o]]=o,this.byteToCharMapWebSafe_[o]=this.ENCODED_VALS_WEBSAFE.charAt(o),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[o]]=o,o>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(o)]=o,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(o)]=o)}}};class DecodeBase64StringError extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const base64Encode=function(o){const i=stringToByteArray$1(o);return base64.encodeByteArray(i,!0)},base64urlEncodeWithoutPadding=function(o){return base64Encode(o).replace(/\./g,"")},base64Decode=function(o){try{return base64.decodeString(o,!0)}catch(i){console.error("base64Decode failed: ",i)}return null};function deepExtend(o,i){if(!(i instanceof Object))return i;switch(i.constructor){case Date:const s=i;return new Date(s.getTime());case Object:o===void 0&&(o={});break;case Array:o=[];break;default:return i}for(const s in i)!i.hasOwnProperty(s)||!isValidKey(s)||(o[s]=deepExtend(o[s],i[s]));return o}function isValidKey(o){return o!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getGlobal(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const getDefaultsFromGlobal=()=>getGlobal().__FIREBASE_DEFAULTS__,getDefaultsFromEnvVariable=()=>{if(typeof process>"u"||typeof define_process_env_default>"u")return;const o=define_process_env_default.__FIREBASE_DEFAULTS__;if(o)return JSON.parse(o)},getDefaultsFromCookie=()=>{if(typeof document>"u")return;let o;try{o=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const i=o&&base64Decode(o[1]);return i&&JSON.parse(i)},getDefaults=()=>{try{return getDefaultsFromGlobal()||getDefaultsFromEnvVariable()||getDefaultsFromCookie()}catch(o){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${o}`);return}},getDefaultEmulatorHost=o=>{var i,s;return(s=(i=getDefaults())===null||i===void 0?void 0:i.emulatorHosts)===null||s===void 0?void 0:s[o]},getDefaultEmulatorHostnameAndPort=o=>{const i=getDefaultEmulatorHost(o);if(!i)return;const s=i.lastIndexOf(":");if(s<=0||s+1===i.length)throw new Error(`Invalid host ${i} with no separate hostname and port!`);const a=parseInt(i.substring(s+1),10);return i[0]==="["?[i.substring(1,s-1),a]:[i.substring(0,s),a]},getDefaultAppConfig=()=>{var o;return(o=getDefaults())===null||o===void 0?void 0:o.config},getExperimentalSetting=o=>{var i;return(i=getDefaults())===null||i===void 0?void 0:i[`_${o}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Deferred{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}wrapCallback(i){return(s,a)=>{s?this.reject(s):this.resolve(a),typeof i=="function"&&(this.promise.catch(()=>{}),i.length===1?i(s):i(s,a))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createMockUserToken(o,i){if(o.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},a=i||"demo-project",et=o.iat||0,tt=o.sub||o.user_id;if(!tt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const rt=Object.assign({iss:`https://securetoken.google.com/${a}`,aud:a,iat:et,exp:et+3600,auth_time:et,sub:tt,user_id:tt,firebase:{sign_in_provider:"custom",identities:{}}},o);return[base64urlEncodeWithoutPadding(JSON.stringify(s)),base64urlEncodeWithoutPadding(JSON.stringify(rt)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getUA(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function isMobileCordova(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(getUA())}function isNode$1(){var o;const i=(o=getDefaults())===null||o===void 0?void 0:o.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function isBrowser$1(){return typeof self=="object"&&self.self===self}function isBrowserExtension(){const o=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof o=="object"&&o.id!==void 0}function isReactNative$1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function isIE(){const o=getUA();return o.indexOf("MSIE ")>=0||o.indexOf("Trident/")>=0}function isSafari(){return!isNode$1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function isIndexedDBAvailable(){try{return typeof indexedDB=="object"}catch{return!1}}function validateIndexedDBOpenable(){return new Promise((o,i)=>{try{let s=!0;const a="validate-browser-context-for-indexeddb-analytics-module",et=self.indexedDB.open(a);et.onsuccess=()=>{et.result.close(),s||self.indexedDB.deleteDatabase(a),o(!0)},et.onupgradeneeded=()=>{s=!1},et.onerror=()=>{var tt;i(((tt=et.error)===null||tt===void 0?void 0:tt.message)||"")}}catch(s){i(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERROR_NAME="FirebaseError";class FirebaseError extends Error{constructor(i,s,a){super(s),this.code=i,this.customData=a,this.name=ERROR_NAME,Object.setPrototypeOf(this,FirebaseError.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ErrorFactory.prototype.create)}}class ErrorFactory{constructor(i,s,a){this.service=i,this.serviceName=s,this.errors=a}create(i,...s){const a=s[0]||{},et=`${this.service}/${i}`,tt=this.errors[i],rt=tt?replaceTemplate(tt,a):"Error",nt=`${this.serviceName}: ${rt} (${et}).`;return new FirebaseError(et,nt,a)}}function replaceTemplate(o,i){return o.replace(PATTERN,(s,a)=>{const et=i[a];return et!=null?String(et):`<${a}?>`})}const PATTERN=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function contains$2(o,i){return Object.prototype.hasOwnProperty.call(o,i)}function isEmpty$5(o){for(const i in o)if(Object.prototype.hasOwnProperty.call(o,i))return!1;return!0}function deepEqual$1(o,i){if(o===i)return!0;const s=Object.keys(o),a=Object.keys(i);for(const et of s){if(!a.includes(et))return!1;const tt=o[et],rt=i[et];if(isObject$3(tt)&&isObject$3(rt)){if(!deepEqual$1(tt,rt))return!1}else if(tt!==rt)return!1}for(const et of a)if(!s.includes(et))return!1;return!0}function isObject$3(o){return o!==null&&typeof o=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function querystring(o){const i=[];for(const[s,a]of Object.entries(o))Array.isArray(a)?a.forEach(et=>{i.push(encodeURIComponent(s)+"="+encodeURIComponent(et))}):i.push(encodeURIComponent(s)+"="+encodeURIComponent(a));return i.length?"&"+i.join("&"):""}function querystringDecode(o){const i={};return o.replace(/^\?/,"").split("&").forEach(a=>{if(a){const[et,tt]=a.split("=");i[decodeURIComponent(et)]=decodeURIComponent(tt)}}),i}function extractQuerystring(o){const i=o.indexOf("?");if(!i)return"";const s=o.indexOf("#",i);return o.substring(i,s>0?s:void 0)}function createSubscribe(o,i){const s=new ObserverProxy(o,i);return s.subscribe.bind(s)}class ObserverProxy{constructor(i,s){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=s,this.task.then(()=>{i(this)}).catch(a=>{this.error(a)})}next(i){this.forEachObserver(s=>{s.next(i)})}error(i){this.forEachObserver(s=>{s.error(i)}),this.close(i)}complete(){this.forEachObserver(i=>{i.complete()}),this.close()}subscribe(i,s,a){let et;if(i===void 0&&s===void 0&&a===void 0)throw new Error("Missing Observer.");implementsAnyMethods$1(i,["next","error","complete"])?et=i:et={next:i,error:s,complete:a},et.next===void 0&&(et.next=noop$5),et.error===void 0&&(et.error=noop$5),et.complete===void 0&&(et.complete=noop$5);const tt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?et.error(this.finalError):et.complete()}catch{}}),this.observers.push(et),tt}unsubscribeOne(i){this.observers===void 0||this.observers[i]===void 0||(delete this.observers[i],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(i){if(!this.finalized)for(let s=0;s<this.observers.length;s++)this.sendOne(s,i)}sendOne(i,s){this.task.then(()=>{if(this.observers!==void 0&&this.observers[i]!==void 0)try{s(this.observers[i])}catch(a){typeof console<"u"&&console.error&&console.error(a)}})}close(i){this.finalized||(this.finalized=!0,i!==void 0&&(this.finalError=i),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function implementsAnyMethods$1(o,i){if(typeof o!="object"||o===null)return!1;for(const s of i)if(s in o&&typeof o[s]=="function")return!0;return!1}function noop$5(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getModularInstance(o){return o&&o._delegate?o._delegate:o}class Component{constructor(i,s,a){this.name=i,this.instanceFactory=s,this.type=a,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(i){return this.instantiationMode=i,this}setMultipleInstances(i){return this.multipleInstances=i,this}setServiceProps(i){return this.serviceProps=i,this}setInstanceCreatedCallback(i){return this.onInstanceCreated=i,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME$1="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Provider{constructor(i,s){this.name=i,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(i){const s=this.normalizeInstanceIdentifier(i);if(!this.instancesDeferred.has(s)){const a=new Deferred;if(this.instancesDeferred.set(s,a),this.isInitialized(s)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:s});et&&a.resolve(et)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(i){var s;const a=this.normalizeInstanceIdentifier(i==null?void 0:i.identifier),et=(s=i==null?void 0:i.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(a)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:a})}catch(tt){if(et)return null;throw tt}else{if(et)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(i){if(i.name!==this.name)throw Error(`Mismatching Component ${i.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=i,!!this.shouldAutoInitialize()){if(isComponentEager(i))try{this.getOrInitializeService({instanceIdentifier:DEFAULT_ENTRY_NAME$1})}catch{}for(const[s,a]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(s);try{const tt=this.getOrInitializeService({instanceIdentifier:et});a.resolve(tt)}catch{}}}}clearInstance(i=DEFAULT_ENTRY_NAME$1){this.instancesDeferred.delete(i),this.instancesOptions.delete(i),this.instances.delete(i)}async delete(){const i=Array.from(this.instances.values());await Promise.all([...i.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...i.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(i=DEFAULT_ENTRY_NAME$1){return this.instances.has(i)}getOptions(i=DEFAULT_ENTRY_NAME$1){return this.instancesOptions.get(i)||{}}initialize(i={}){const{options:s={}}=i,a=this.normalizeInstanceIdentifier(i.instanceIdentifier);if(this.isInitialized(a))throw Error(`${this.name}(${a}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:a,options:s});for(const[tt,rt]of this.instancesDeferred.entries()){const nt=this.normalizeInstanceIdentifier(tt);a===nt&&rt.resolve(et)}return et}onInit(i,s){var a;const et=this.normalizeInstanceIdentifier(s),tt=(a=this.onInitCallbacks.get(et))!==null&&a!==void 0?a:new Set;tt.add(i),this.onInitCallbacks.set(et,tt);const rt=this.instances.get(et);return rt&&i(rt,et),()=>{tt.delete(i)}}invokeOnInitCallbacks(i,s){const a=this.onInitCallbacks.get(s);if(a)for(const et of a)try{et(i,s)}catch{}}getOrInitializeService({instanceIdentifier:i,options:s={}}){let a=this.instances.get(i);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:normalizeIdentifierForFactory(i),options:s}),this.instances.set(i,a),this.instancesOptions.set(i,s),this.invokeOnInitCallbacks(a,i),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,i,a)}catch{}return a||null}normalizeInstanceIdentifier(i=DEFAULT_ENTRY_NAME$1){return this.component?this.component.multipleInstances?i:DEFAULT_ENTRY_NAME$1:i}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function normalizeIdentifierForFactory(o){return o===DEFAULT_ENTRY_NAME$1?void 0:o}function isComponentEager(o){return o.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ComponentContainer{constructor(i){this.name=i,this.providers=new Map}addComponent(i){const s=this.getProvider(i.name);if(s.isComponentSet())throw new Error(`Component ${i.name} has already been registered with ${this.name}`);s.setComponent(i)}addOrOverwriteComponent(i){this.getProvider(i.name).isComponentSet()&&this.providers.delete(i.name),this.addComponent(i)}getProvider(i){if(this.providers.has(i))return this.providers.get(i);const s=new Provider(i,this);return this.providers.set(i,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instances=[];var LogLevel;(function(o){o[o.DEBUG=0]="DEBUG",o[o.VERBOSE=1]="VERBOSE",o[o.INFO=2]="INFO",o[o.WARN=3]="WARN",o[o.ERROR=4]="ERROR",o[o.SILENT=5]="SILENT"})(LogLevel||(LogLevel={}));const levelStringToEnum={debug:LogLevel.DEBUG,verbose:LogLevel.VERBOSE,info:LogLevel.INFO,warn:LogLevel.WARN,error:LogLevel.ERROR,silent:LogLevel.SILENT},defaultLogLevel=LogLevel.INFO,ConsoleMethod={[LogLevel.DEBUG]:"log",[LogLevel.VERBOSE]:"log",[LogLevel.INFO]:"info",[LogLevel.WARN]:"warn",[LogLevel.ERROR]:"error"},defaultLogHandler=(o,i,...s)=>{if(i<o.logLevel)return;const a=new Date().toISOString(),et=ConsoleMethod[i];if(et)console[et](`[${a}]  ${o.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${i})`)};class Logger{constructor(i){this.name=i,this._logLevel=defaultLogLevel,this._logHandler=defaultLogHandler,this._userLogHandler=null,instances.push(this)}get logLevel(){return this._logLevel}set logLevel(i){if(!(i in LogLevel))throw new TypeError(`Invalid value "${i}" assigned to \`logLevel\``);this._logLevel=i}setLogLevel(i){this._logLevel=typeof i=="string"?levelStringToEnum[i]:i}get logHandler(){return this._logHandler}set logHandler(i){if(typeof i!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=i}get userLogHandler(){return this._userLogHandler}set userLogHandler(i){this._userLogHandler=i}debug(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.DEBUG,...i),this._logHandler(this,LogLevel.DEBUG,...i)}log(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.VERBOSE,...i),this._logHandler(this,LogLevel.VERBOSE,...i)}info(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.INFO,...i),this._logHandler(this,LogLevel.INFO,...i)}warn(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.WARN,...i),this._logHandler(this,LogLevel.WARN,...i)}error(...i){this._userLogHandler&&this._userLogHandler(this,LogLevel.ERROR,...i),this._logHandler(this,LogLevel.ERROR,...i)}}function setLogLevel$3(o){instances.forEach(i=>{i.setLogLevel(o)})}function setUserLogHandler(o,i){for(const s of instances){let a=null;i&&i.level&&(a=levelStringToEnum[i.level]),o===null?s.userLogHandler=null:s.userLogHandler=(et,tt,...rt)=>{const nt=rt.map(it=>{if(it==null)return null;if(typeof it=="string")return it;if(typeof it=="number"||typeof it=="boolean")return it.toString();if(it instanceof Error)return it.message;try{return JSON.stringify(it)}catch{return null}}).filter(it=>it).join(" ");tt>=(a??et.logLevel)&&o({level:LogLevel[tt].toLowerCase(),message:nt,args:rt,type:et.name})}}}const instanceOfAny=(o,i)=>i.some(s=>o instanceof s);let idbProxyableTypes,cursorAdvanceMethods;function getIdbProxyableTypes(){return idbProxyableTypes||(idbProxyableTypes=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function getCursorAdvanceMethods(){return cursorAdvanceMethods||(cursorAdvanceMethods=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cursorRequestMap=new WeakMap,transactionDoneMap=new WeakMap,transactionStoreNamesMap=new WeakMap,transformCache=new WeakMap,reverseTransformCache=new WeakMap;function promisifyRequest(o){const i=new Promise((s,a)=>{const et=()=>{o.removeEventListener("success",tt),o.removeEventListener("error",rt)},tt=()=>{s(wrap(o.result)),et()},rt=()=>{a(o.error),et()};o.addEventListener("success",tt),o.addEventListener("error",rt)});return i.then(s=>{s instanceof IDBCursor&&cursorRequestMap.set(s,o)}).catch(()=>{}),reverseTransformCache.set(i,o),i}function cacheDonePromiseForTransaction(o){if(transactionDoneMap.has(o))return;const i=new Promise((s,a)=>{const et=()=>{o.removeEventListener("complete",tt),o.removeEventListener("error",rt),o.removeEventListener("abort",rt)},tt=()=>{s(),et()},rt=()=>{a(o.error||new DOMException("AbortError","AbortError")),et()};o.addEventListener("complete",tt),o.addEventListener("error",rt),o.addEventListener("abort",rt)});transactionDoneMap.set(o,i)}let idbProxyTraps={get(o,i,s){if(o instanceof IDBTransaction){if(i==="done")return transactionDoneMap.get(o);if(i==="objectStoreNames")return o.objectStoreNames||transactionStoreNamesMap.get(o);if(i==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return wrap(o[i])},set(o,i,s){return o[i]=s,!0},has(o,i){return o instanceof IDBTransaction&&(i==="done"||i==="store")?!0:i in o}};function replaceTraps(o){idbProxyTraps=o(idbProxyTraps)}function wrapFunction(o){return o===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(i,...s){const a=o.call(unwrap(this),i,...s);return transactionStoreNamesMap.set(a,i.sort?i.sort():[i]),wrap(a)}:getCursorAdvanceMethods().includes(o)?function(...i){return o.apply(unwrap(this),i),wrap(cursorRequestMap.get(this))}:function(...i){return wrap(o.apply(unwrap(this),i))}}function transformCachableValue(o){return typeof o=="function"?wrapFunction(o):(o instanceof IDBTransaction&&cacheDonePromiseForTransaction(o),instanceOfAny(o,getIdbProxyableTypes())?new Proxy(o,idbProxyTraps):o)}function wrap(o){if(o instanceof IDBRequest)return promisifyRequest(o);if(transformCache.has(o))return transformCache.get(o);const i=transformCachableValue(o);return i!==o&&(transformCache.set(o,i),reverseTransformCache.set(i,o)),i}const unwrap=o=>reverseTransformCache.get(o);function openDB(o,i,{blocked:s,upgrade:a,blocking:et,terminated:tt}={}){const rt=indexedDB.open(o,i),nt=wrap(rt);return a&&rt.addEventListener("upgradeneeded",it=>{a(wrap(rt.result),it.oldVersion,it.newVersion,wrap(rt.transaction),it)}),s&&rt.addEventListener("blocked",it=>s(it.oldVersion,it.newVersion,it)),nt.then(it=>{tt&&it.addEventListener("close",()=>tt()),et&&it.addEventListener("versionchange",ot=>et(ot.oldVersion,ot.newVersion,ot))}).catch(()=>{}),nt}const readMethods=["get","getKey","getAll","getAllKeys","count"],writeMethods=["put","add","delete","clear"],cachedMethods=new Map;function getMethod(o,i){if(!(o instanceof IDBDatabase&&!(i in o)&&typeof i=="string"))return;if(cachedMethods.get(i))return cachedMethods.get(i);const s=i.replace(/FromIndex$/,""),a=i!==s,et=writeMethods.includes(s);if(!(s in(a?IDBIndex:IDBObjectStore).prototype)||!(et||readMethods.includes(s)))return;const tt=async function(rt,...nt){const it=this.transaction(rt,et?"readwrite":"readonly");let ot=it.store;return a&&(ot=ot.index(nt.shift())),(await Promise.all([ot[s](...nt),et&&it.done]))[0]};return cachedMethods.set(i,tt),tt}replaceTraps(o=>({...o,get:(i,s,a)=>getMethod(i,s)||o.get(i,s,a),has:(i,s)=>!!getMethod(i,s)||o.has(i,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PlatformLoggerServiceImpl{constructor(i){this.container=i}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(isVersionServiceProvider(s)){const a=s.getImmediate();return`${a.library}/${a.version}`}else return null}).filter(s=>s).join(" ")}}function isVersionServiceProvider(o){const i=o.getComponent();return(i==null?void 0:i.type)==="VERSION"}const name$o="@firebase/app",version$1$1="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$2=new Logger("@firebase/app"),name$n="@firebase/app-compat",name$m="@firebase/analytics-compat",name$l="@firebase/analytics",name$k="@firebase/app-check-compat",name$j="@firebase/app-check",name$i="@firebase/auth",name$h="@firebase/auth-compat",name$g="@firebase/database",name$f="@firebase/database-compat",name$e="@firebase/functions",name$d="@firebase/functions-compat",name$c="@firebase/installations",name$b="@firebase/installations-compat",name$a="@firebase/messaging",name$9="@firebase/messaging-compat",name$8="@firebase/performance",name$7="@firebase/performance-compat",name$6="@firebase/remote-config",name$5="@firebase/remote-config-compat",name$4$1="@firebase/storage",name$3$1="@firebase/storage-compat",name$2$1="@firebase/firestore",name$1$1="@firebase/firestore-compat",name$p="firebase",version$5="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ENTRY_NAME="[DEFAULT]",PLATFORM_LOG_STRING={[name$o]:"fire-core",[name$n]:"fire-core-compat",[name$l]:"fire-analytics",[name$m]:"fire-analytics-compat",[name$j]:"fire-app-check",[name$k]:"fire-app-check-compat",[name$i]:"fire-auth",[name$h]:"fire-auth-compat",[name$g]:"fire-rtdb",[name$f]:"fire-rtdb-compat",[name$e]:"fire-fn",[name$d]:"fire-fn-compat",[name$c]:"fire-iid",[name$b]:"fire-iid-compat",[name$a]:"fire-fcm",[name$9]:"fire-fcm-compat",[name$8]:"fire-perf",[name$7]:"fire-perf-compat",[name$6]:"fire-rc",[name$5]:"fire-rc-compat",[name$4$1]:"fire-gcs",[name$3$1]:"fire-gcs-compat",[name$2$1]:"fire-fst",[name$1$1]:"fire-fst-compat","fire-js":"fire-js",[name$p]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _apps=new Map,_components=new Map;function _addComponent(o,i){try{o.container.addComponent(i)}catch(s){logger$2.debug(`Component ${i.name} failed to register with FirebaseApp ${o.name}`,s)}}function _addOrOverwriteComponent(o,i){o.container.addOrOverwriteComponent(i)}function _registerComponent(o){const i=o.name;if(_components.has(i))return logger$2.debug(`There were multiple attempts to register component ${i}.`),!1;_components.set(i,o);for(const s of _apps.values())_addComponent(s,o);return!0}function _getProvider(o,i){const s=o.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),o.container.getProvider(i)}function _removeServiceInstance(o,i,s=DEFAULT_ENTRY_NAME){_getProvider(o,i).clearInstance(s)}function _clearComponents(){_components.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS$1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},ERROR_FACTORY$1=new ErrorFactory("app","Firebase",ERRORS$1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FirebaseAppImpl$1=class{constructor(i,s,a){this._isDeleted=!1,this._options=Object.assign({},i),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=a,this.container.addComponent(new Component("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this.checkDestroyed(),this._automaticDataCollectionEnabled=i}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(i){this._isDeleted=i}checkDestroyed(){if(this.isDeleted)throw ERROR_FACTORY$1.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SDK_VERSION=version$5;function initializeApp(o,i={}){let s=o;typeof i!="object"&&(i={name:i});const a=Object.assign({name:DEFAULT_ENTRY_NAME,automaticDataCollectionEnabled:!1},i),et=a.name;if(typeof et!="string"||!et)throw ERROR_FACTORY$1.create("bad-app-name",{appName:String(et)});if(s||(s=getDefaultAppConfig()),!s)throw ERROR_FACTORY$1.create("no-options");const tt=_apps.get(et);if(tt){if(deepEqual$1(s,tt.options)&&deepEqual$1(a,tt.config))return tt;throw ERROR_FACTORY$1.create("duplicate-app",{appName:et})}const rt=new ComponentContainer(et);for(const it of _components.values())rt.addComponent(it);const nt=new FirebaseAppImpl$1(s,a,rt);return _apps.set(et,nt),nt}function getApp(o=DEFAULT_ENTRY_NAME){const i=_apps.get(o);if(!i&&o===DEFAULT_ENTRY_NAME&&getDefaultAppConfig())return initializeApp();if(!i)throw ERROR_FACTORY$1.create("no-app",{appName:o});return i}function getApps(){return Array.from(_apps.values())}async function deleteApp(o){const i=o.name;_apps.has(i)&&(_apps.delete(i),await Promise.all(o.container.getProviders().map(s=>s.delete())),o.isDeleted=!0)}function registerVersion(o,i,s){var a;let et=(a=PLATFORM_LOG_STRING[o])!==null&&a!==void 0?a:o;s&&(et+=`-${s}`);const tt=et.match(/\s|\//),rt=i.match(/\s|\//);if(tt||rt){const nt=[`Unable to register library "${et}" with version "${i}":`];tt&&nt.push(`library name "${et}" contains illegal characters (whitespace or "/")`),tt&&rt&&nt.push("and"),rt&&nt.push(`version name "${i}" contains illegal characters (whitespace or "/")`),logger$2.warn(nt.join(" "));return}_registerComponent(new Component(`${et}-version`,()=>({library:et,version:i}),"VERSION"))}function onLog(o,i){if(o!==null&&typeof o!="function")throw ERROR_FACTORY$1.create("invalid-log-argument");setUserLogHandler(o,i)}function setLogLevel$2(o){setLogLevel$3(o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME$1="firebase-heartbeat-database",DB_VERSION$1=1,STORE_NAME="firebase-heartbeat-store";let dbPromise=null;function getDbPromise(){return dbPromise||(dbPromise=openDB(DB_NAME$1,DB_VERSION$1,{upgrade:(o,i)=>{switch(i){case 0:try{o.createObjectStore(STORE_NAME)}catch(s){console.warn(s)}}}}).catch(o=>{throw ERROR_FACTORY$1.create("idb-open",{originalErrorMessage:o.message})})),dbPromise}async function readHeartbeatsFromIndexedDB(o){try{const s=(await getDbPromise()).transaction(STORE_NAME),a=await s.objectStore(STORE_NAME).get(computeKey(o));return await s.done,a}catch(i){if(i instanceof FirebaseError)logger$2.warn(i.message);else{const s=ERROR_FACTORY$1.create("idb-get",{originalErrorMessage:i==null?void 0:i.message});logger$2.warn(s.message)}}}async function writeHeartbeatsToIndexedDB(o,i){try{const a=(await getDbPromise()).transaction(STORE_NAME,"readwrite");await a.objectStore(STORE_NAME).put(i,computeKey(o)),await a.done}catch(s){if(s instanceof FirebaseError)logger$2.warn(s.message);else{const a=ERROR_FACTORY$1.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});logger$2.warn(a.message)}}}function computeKey(o){return`${o.name}!${o.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MAX_HEADER_BYTES=1024,STORED_HEARTBEAT_RETENTION_MAX_MILLIS=30*24*60*60*1e3;class HeartbeatServiceImpl{constructor(i){this.container=i,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new HeartbeatStorageImpl(s),this._heartbeatsCachePromise=this._storage.read().then(a=>(this._heartbeatsCache=a,a))}async triggerHeartbeat(){var i,s;const et=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),tt=getUTCDateString();if(!(((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===tt||this._heartbeatsCache.heartbeats.some(rt=>rt.date===tt)))return this._heartbeatsCache.heartbeats.push({date:tt,agent:et}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(rt=>{const nt=new Date(rt.date).valueOf();return Date.now()-nt<=STORED_HEARTBEAT_RETENTION_MAX_MILLIS}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var i;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=getUTCDateString(),{heartbeatsToSend:a,unsentEntries:et}=extractHeartbeatsForHeader(this._heartbeatsCache.heartbeats),tt=base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:a}));return this._heartbeatsCache.lastSentHeartbeatDate=s,et.length>0?(this._heartbeatsCache.heartbeats=et,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),tt}}function getUTCDateString(){return new Date().toISOString().substring(0,10)}function extractHeartbeatsForHeader(o,i=MAX_HEADER_BYTES){const s=[];let a=o.slice();for(const et of o){const tt=s.find(rt=>rt.agent===et.agent);if(tt){if(tt.dates.push(et.date),countBytes(s)>i){tt.dates.pop();break}}else if(s.push({agent:et.agent,dates:[et.date]}),countBytes(s)>i){s.pop();break}a=a.slice(1)}return{heartbeatsToSend:s,unsentEntries:a}}class HeartbeatStorageImpl{constructor(i){this.app=i,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return isIndexedDBAvailable()?validateIndexedDBOpenable().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await readHeartbeatsFromIndexedDB(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(i){var s;if(await this._canUseIndexedDBPromise){const et=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=i.lastSentHeartbeatDate)!==null&&s!==void 0?s:et.lastSentHeartbeatDate,heartbeats:i.heartbeats})}else return}async add(i){var s;if(await this._canUseIndexedDBPromise){const et=await this.read();return writeHeartbeatsToIndexedDB(this.app,{lastSentHeartbeatDate:(s=i.lastSentHeartbeatDate)!==null&&s!==void 0?s:et.lastSentHeartbeatDate,heartbeats:[...et.heartbeats,...i.heartbeats]})}else return}}function countBytes(o){return base64urlEncodeWithoutPadding(JSON.stringify({version:2,heartbeats:o})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents$1(o){_registerComponent(new Component("platform-logger",i=>new PlatformLoggerServiceImpl(i),"PRIVATE")),_registerComponent(new Component("heartbeat",i=>new HeartbeatServiceImpl(i),"PRIVATE")),registerVersion(name$o,version$1$1,o),registerVersion(name$o,version$1$1,"esm2017"),registerVersion("fire-js","")}registerCoreComponents$1("");const modularAPIs=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError,SDK_VERSION,_DEFAULT_ENTRY_NAME:DEFAULT_ENTRY_NAME,_addComponent,_addOrOverwriteComponent,_apps,_clearComponents,_components,_getProvider,_registerComponent,_removeServiceInstance,deleteApp,getApp,getApps,initializeApp,onLog,registerVersion,setLogLevel:setLogLevel$2},Symbol.toStringTag,{value:"Module"}));var name$4="firebase",version$4="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */registerVersion(name$4,version$4,"app");function __rest(o,i){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&i.indexOf(a)<0&&(s[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var et=0,a=Object.getOwnPropertySymbols(o);et<a.length;et++)i.indexOf(a[et])<0&&Object.prototype.propertyIsEnumerable.call(o,a[et])&&(s[a[et]]=o[a[et]]);return s}typeof SuppressedError=="function"&&SuppressedError;function _prodErrorMap(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const prodErrorMap=_prodErrorMap,_DEFAULT_AUTH_ERROR_FACTORY=new ErrorFactory("auth","Firebase",_prodErrorMap());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logClient=new Logger("@firebase/auth");function _logWarn(o,...i){logClient.logLevel<=LogLevel.WARN&&logClient.warn(`Auth (${SDK_VERSION}): ${o}`,...i)}function _logError(o,...i){logClient.logLevel<=LogLevel.ERROR&&logClient.error(`Auth (${SDK_VERSION}): ${o}`,...i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _fail(o,...i){throw createErrorInternal(o,...i)}function _createError(o,...i){return createErrorInternal(o,...i)}function _errorWithCustomMessage(o,i,s){const a=Object.assign(Object.assign({},prodErrorMap()),{[i]:s});return new ErrorFactory("auth","Firebase",a).create(i,{appName:o.name})}function createErrorInternal(o,...i){if(typeof o!="string"){const s=i[0],a=[...i.slice(1)];return a[0]&&(a[0].appName=o.name),o._errorFactory.create(s,...a)}return _DEFAULT_AUTH_ERROR_FACTORY.create(o,...i)}function _assert(o,i,...s){if(!o)throw createErrorInternal(i,...s)}function debugFail(o){const i="INTERNAL ASSERTION FAILED: "+o;throw _logError(i),new Error(i)}function debugAssert(o,i){o||debugFail(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getCurrentUrl(){var o;return typeof self<"u"&&((o=self.location)===null||o===void 0?void 0:o.href)||""}function _isHttpOrHttps(){return _getCurrentScheme()==="http:"||_getCurrentScheme()==="https:"}function _getCurrentScheme(){var o;return typeof self<"u"&&((o=self.location)===null||o===void 0?void 0:o.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isOnline(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_isHttpOrHttps()||isBrowserExtension()||"connection"in navigator)?navigator.onLine:!0}function _getUserLanguage(){if(typeof navigator>"u")return null;const o=navigator;return o.languages&&o.languages[0]||o.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Delay{constructor(i,s){this.shortDelay=i,this.longDelay=s,debugAssert(s>i,"Short delay should be less than long delay!"),this.isMobile=isMobileCordova()||isReactNative$1()}get(){return _isOnline()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _emulatorUrl(o,i){debugAssert(o.emulator,"Emulator should always be set here");const{url:s}=o.emulator;return i?`${s}${i.startsWith("/")?i.slice(1):i}`:s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FetchProvider{static initialize(i,s,a){this.fetchImpl=i,s&&(this.headersImpl=s),a&&(this.responseImpl=a)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;debugFail("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;debugFail("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;debugFail("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SERVER_ERROR_MAP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_API_TIMEOUT_MS=new Delay(3e4,6e4);function _addTidIfNecessary(o,i){return o.tenantId&&!i.tenantId?Object.assign(Object.assign({},i),{tenantId:o.tenantId}):i}async function _performApiRequest(o,i,s,a,et={}){return _performFetchWithErrorHandling(o,et,async()=>{let tt={},rt={};a&&(i==="GET"?rt=a:tt={body:JSON.stringify(a)});const nt=querystring(Object.assign({key:o.config.apiKey},rt)).slice(1),it=await o._getAdditionalHeaders();return it["Content-Type"]="application/json",o.languageCode&&(it["X-Firebase-Locale"]=o.languageCode),FetchProvider.fetch()(_getFinalTarget(o,o.config.apiHost,s,nt),Object.assign({method:i,headers:it,referrerPolicy:"no-referrer"},tt))})}async function _performFetchWithErrorHandling(o,i,s){o._canInitEmulator=!1;const a=Object.assign(Object.assign({},SERVER_ERROR_MAP),i);try{const et=new NetworkTimeout(o),tt=await Promise.race([s(),et.promise]);et.clearNetworkTimeout();const rt=await tt.json();if("needConfirmation"in rt)throw _makeTaggedError(o,"account-exists-with-different-credential",rt);if(tt.ok&&!("errorMessage"in rt))return rt;{const nt=tt.ok?rt.errorMessage:rt.error.message,[it,ot]=nt.split(" : ");if(it==="FEDERATED_USER_ID_ALREADY_LINKED")throw _makeTaggedError(o,"credential-already-in-use",rt);if(it==="EMAIL_EXISTS")throw _makeTaggedError(o,"email-already-in-use",rt);if(it==="USER_DISABLED")throw _makeTaggedError(o,"user-disabled",rt);const st=a[it]||it.toLowerCase().replace(/[_\s]+/g,"-");if(ot)throw _errorWithCustomMessage(o,st,ot);_fail(o,st)}}catch(et){if(et instanceof FirebaseError)throw et;_fail(o,"network-request-failed",{message:String(et)})}}async function _performSignInRequest(o,i,s,a,et={}){const tt=await _performApiRequest(o,i,s,a,et);return"mfaPendingCredential"in tt&&_fail(o,"multi-factor-auth-required",{_serverResponse:tt}),tt}function _getFinalTarget(o,i,s,a){const et=`${i}${s}?${a}`;return o.config.emulator?_emulatorUrl(o.config,et):`${o.config.apiScheme}://${et}`}function _parseEnforcementState(o){switch(o){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class NetworkTimeout{constructor(i){this.auth=i,this.timer=null,this.promise=new Promise((s,a)=>{this.timer=setTimeout(()=>a(_createError(this.auth,"network-request-failed")),DEFAULT_API_TIMEOUT_MS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function _makeTaggedError(o,i,s){const a={appName:o.name};s.email&&(a.email=s.email),s.phoneNumber&&(a.phoneNumber=s.phoneNumber);const et=_createError(o,i,a);return et.customData._tokenResponse=s,et}function isEnterprise(o){return o!==void 0&&o.enterprise!==void 0}class RecaptchaConfig{constructor(i){if(this.siteKey="",this.recaptchaEnforcementState=[],i.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=i.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=i.recaptchaEnforcementState}getProviderEnforcementState(i){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const s of this.recaptchaEnforcementState)if(s.provider&&s.provider===i)return _parseEnforcementState(s.enforcementState);return null}isProviderEnabled(i){return this.getProviderEnforcementState(i)==="ENFORCE"||this.getProviderEnforcementState(i)==="AUDIT"}}async function getRecaptchaConfig(o,i){return _performApiRequest(o,"GET","/v2/recaptchaConfig",_addTidIfNecessary(o,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function deleteAccount(o,i){return _performApiRequest(o,"POST","/v1/accounts:delete",i)}async function getAccountInfo(o,i){return _performApiRequest(o,"POST","/v1/accounts:lookup",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function utcTimestampToDateString(o){if(o)try{const i=new Date(Number(o));if(!isNaN(i.getTime()))return i.toUTCString()}catch{}}async function getIdTokenResult(o,i=!1){const s=getModularInstance(o),a=await s.getIdToken(i),et=_parseToken(a);_assert(et&&et.exp&&et.auth_time&&et.iat,s.auth,"internal-error");const tt=typeof et.firebase=="object"?et.firebase:void 0,rt=tt==null?void 0:tt.sign_in_provider;return{claims:et,token:a,authTime:utcTimestampToDateString(secondsStringToMilliseconds(et.auth_time)),issuedAtTime:utcTimestampToDateString(secondsStringToMilliseconds(et.iat)),expirationTime:utcTimestampToDateString(secondsStringToMilliseconds(et.exp)),signInProvider:rt||null,signInSecondFactor:(tt==null?void 0:tt.sign_in_second_factor)||null}}function secondsStringToMilliseconds(o){return Number(o)*1e3}function _parseToken(o){const[i,s,a]=o.split(".");if(i===void 0||s===void 0||a===void 0)return _logError("JWT malformed, contained fewer than 3 sections"),null;try{const et=base64Decode(s);return et?JSON.parse(et):(_logError("Failed to decode base64 JWT payload"),null)}catch(et){return _logError("Caught error parsing JWT payload as JSON",et==null?void 0:et.toString()),null}}function _tokenExpiresIn(o){const i=_parseToken(o);return _assert(i,"internal-error"),_assert(typeof i.exp<"u","internal-error"),_assert(typeof i.iat<"u","internal-error"),Number(i.exp)-Number(i.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _logoutIfInvalidated(o,i,s=!1){if(s)return i;try{return await i}catch(a){throw a instanceof FirebaseError&&isUserInvalidated(a)&&o.auth.currentUser===o&&await o.auth.signOut(),a}}function isUserInvalidated({code:o}){return o==="auth/user-disabled"||o==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ProactiveRefresh{constructor(i){this.user=i,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(i){var s;if(i){const a=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),a}else{this.errorBackoff=3e4;const et=((s=this.user.stsTokenManager.expirationTime)!==null&&s!==void 0?s:0)-Date.now()-3e5;return Math.max(0,et)}}schedule(i=!1){if(!this.isRunning)return;const s=this.getInterval(i);this.timerId=setTimeout(async()=>{await this.iteration()},s)}async iteration(){try{await this.user.getIdToken(!0)}catch(i){(i==null?void 0:i.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserMetadata{constructor(i,s){this.createdAt=i,this.lastLoginAt=s,this._initializeTime()}_initializeTime(){this.lastSignInTime=utcTimestampToDateString(this.lastLoginAt),this.creationTime=utcTimestampToDateString(this.createdAt)}_copy(i){this.createdAt=i.createdAt,this.lastLoginAt=i.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reloadWithoutSaving(o){var i;const s=o.auth,a=await o.getIdToken(),et=await _logoutIfInvalidated(o,getAccountInfo(s,{idToken:a}));_assert(et==null?void 0:et.users.length,s,"internal-error");const tt=et.users[0];o._notifyReloadListener(tt);const rt=!((i=tt.providerUserInfo)===null||i===void 0)&&i.length?extractProviderData(tt.providerUserInfo):[],nt=mergeProviderData(o.providerData,rt),it=o.isAnonymous,ot=!(o.email&&tt.passwordHash)&&!(nt!=null&&nt.length),st=it?ot:!1,lt={uid:tt.localId,displayName:tt.displayName||null,photoURL:tt.photoUrl||null,email:tt.email||null,emailVerified:tt.emailVerified||!1,phoneNumber:tt.phoneNumber||null,tenantId:tt.tenantId||null,providerData:nt,metadata:new UserMetadata(tt.createdAt,tt.lastLoginAt),isAnonymous:st};Object.assign(o,lt)}async function reload(o){const i=getModularInstance(o);await _reloadWithoutSaving(i),await i.auth._persistUserIfCurrent(i),i.auth._notifyListenersIfCurrent(i)}function mergeProviderData(o,i){return[...o.filter(a=>!i.some(et=>et.providerId===a.providerId)),...i]}function extractProviderData(o){return o.map(i=>{var{providerId:s}=i,a=__rest(i,["providerId"]);return{providerId:s,uid:a.rawId||"",displayName:a.displayName||null,email:a.email||null,phoneNumber:a.phoneNumber||null,photoURL:a.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function requestStsToken(o,i){const s=await _performFetchWithErrorHandling(o,{},async()=>{const a=querystring({grant_type:"refresh_token",refresh_token:i}).slice(1),{tokenApiHost:et,apiKey:tt}=o.config,rt=_getFinalTarget(o,et,"/v1/token",`key=${tt}`),nt=await o._getAdditionalHeaders();return nt["Content-Type"]="application/x-www-form-urlencoded",FetchProvider.fetch()(rt,{method:"POST",headers:nt,body:a})});return{accessToken:s.access_token,expiresIn:s.expires_in,refreshToken:s.refresh_token}}async function revokeToken(o,i){return _performApiRequest(o,"POST","/v2/accounts:revokeToken",_addTidIfNecessary(o,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StsTokenManager{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(i){_assert(i.idToken,"internal-error"),_assert(typeof i.idToken<"u","internal-error"),_assert(typeof i.refreshToken<"u","internal-error");const s="expiresIn"in i&&typeof i.expiresIn<"u"?Number(i.expiresIn):_tokenExpiresIn(i.idToken);this.updateTokensAndExpiration(i.idToken,i.refreshToken,s)}async getToken(i,s=!1){return _assert(!this.accessToken||this.refreshToken,i,"user-token-expired"),!s&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(i,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(i,s){const{accessToken:a,refreshToken:et,expiresIn:tt}=await requestStsToken(i,s);this.updateTokensAndExpiration(a,et,Number(tt))}updateTokensAndExpiration(i,s,a){this.refreshToken=s||null,this.accessToken=i||null,this.expirationTime=Date.now()+a*1e3}static fromJSON(i,s){const{refreshToken:a,accessToken:et,expirationTime:tt}=s,rt=new StsTokenManager;return a&&(_assert(typeof a=="string","internal-error",{appName:i}),rt.refreshToken=a),et&&(_assert(typeof et=="string","internal-error",{appName:i}),rt.accessToken=et),tt&&(_assert(typeof tt=="number","internal-error",{appName:i}),rt.expirationTime=tt),rt}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(i){this.accessToken=i.accessToken,this.refreshToken=i.refreshToken,this.expirationTime=i.expirationTime}_clone(){return Object.assign(new StsTokenManager,this.toJSON())}_performRefresh(){return debugFail("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertStringOrUndefined(o,i){_assert(typeof o=="string"||typeof o>"u","internal-error",{appName:i})}class UserImpl{constructor(i){var{uid:s,auth:a,stsTokenManager:et}=i,tt=__rest(i,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ProactiveRefresh(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=s,this.auth=a,this.stsTokenManager=et,this.accessToken=et.accessToken,this.displayName=tt.displayName||null,this.email=tt.email||null,this.emailVerified=tt.emailVerified||!1,this.phoneNumber=tt.phoneNumber||null,this.photoURL=tt.photoURL||null,this.isAnonymous=tt.isAnonymous||!1,this.tenantId=tt.tenantId||null,this.providerData=tt.providerData?[...tt.providerData]:[],this.metadata=new UserMetadata(tt.createdAt||void 0,tt.lastLoginAt||void 0)}async getIdToken(i){const s=await _logoutIfInvalidated(this,this.stsTokenManager.getToken(this.auth,i));return _assert(s,this.auth,"internal-error"),this.accessToken!==s&&(this.accessToken=s,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),s}getIdTokenResult(i){return getIdTokenResult(this,i)}reload(){return reload(this)}_assign(i){this!==i&&(_assert(this.uid===i.uid,this.auth,"internal-error"),this.displayName=i.displayName,this.photoURL=i.photoURL,this.email=i.email,this.emailVerified=i.emailVerified,this.phoneNumber=i.phoneNumber,this.isAnonymous=i.isAnonymous,this.tenantId=i.tenantId,this.providerData=i.providerData.map(s=>Object.assign({},s)),this.metadata._copy(i.metadata),this.stsTokenManager._assign(i.stsTokenManager))}_clone(i){const s=new UserImpl(Object.assign(Object.assign({},this),{auth:i,stsTokenManager:this.stsTokenManager._clone()}));return s.metadata._copy(this.metadata),s}_onReload(i){_assert(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=i,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(i){this.reloadListener?this.reloadListener(i):this.reloadUserInfo=i}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(i,s=!1){let a=!1;i.idToken&&i.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(i),a=!0),s&&await _reloadWithoutSaving(this),await this.auth._persistUserIfCurrent(this),a&&this.auth._notifyListenersIfCurrent(this)}async delete(){const i=await this.getIdToken();return await _logoutIfInvalidated(this,deleteAccount(this.auth,{idToken:i})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(i=>Object.assign({},i)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(i,s){var a,et,tt,rt,nt,it,ot,st;const lt=(a=s.displayName)!==null&&a!==void 0?a:void 0,at=(et=s.email)!==null&&et!==void 0?et:void 0,ut=(tt=s.phoneNumber)!==null&&tt!==void 0?tt:void 0,ft=(rt=s.photoURL)!==null&&rt!==void 0?rt:void 0,mt=(nt=s.tenantId)!==null&&nt!==void 0?nt:void 0,yt=(it=s._redirectEventId)!==null&&it!==void 0?it:void 0,ht=(ot=s.createdAt)!==null&&ot!==void 0?ot:void 0,pt=(st=s.lastLoginAt)!==null&&st!==void 0?st:void 0,{uid:ct,emailVerified:gt,isAnonymous:Et,providerData:bt,stsTokenManager:xt}=s;_assert(ct&&xt,i,"internal-error");const Tt=StsTokenManager.fromJSON(this.name,xt);_assert(typeof ct=="string",i,"internal-error"),assertStringOrUndefined(lt,i.name),assertStringOrUndefined(at,i.name),_assert(typeof gt=="boolean",i,"internal-error"),_assert(typeof Et=="boolean",i,"internal-error"),assertStringOrUndefined(ut,i.name),assertStringOrUndefined(ft,i.name),assertStringOrUndefined(mt,i.name),assertStringOrUndefined(yt,i.name),assertStringOrUndefined(ht,i.name),assertStringOrUndefined(pt,i.name);const wt=new UserImpl({uid:ct,auth:i,email:at,emailVerified:gt,displayName:lt,isAnonymous:Et,photoURL:ft,phoneNumber:ut,tenantId:mt,stsTokenManager:Tt,createdAt:ht,lastLoginAt:pt});return bt&&Array.isArray(bt)&&(wt.providerData=bt.map(It=>Object.assign({},It))),yt&&(wt._redirectEventId=yt),wt}static async _fromIdTokenResponse(i,s,a=!1){const et=new StsTokenManager;et.updateFromServerResponse(s);const tt=new UserImpl({uid:s.localId,auth:i,stsTokenManager:et,isAnonymous:a});return await _reloadWithoutSaving(tt),tt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const instanceCache=new Map;function _getInstance(o){debugAssert(o instanceof Function,"Expected a class definition");let i=instanceCache.get(o);return i?(debugAssert(i instanceof o,"Instance stored in cache mismatched with class"),i):(i=new o,instanceCache.set(o,i),i)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class InMemoryPersistence{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(i,s){this.storage[i]=s}async _get(i){const s=this.storage[i];return s===void 0?null:s}async _remove(i){delete this.storage[i]}_addListener(i,s){}_removeListener(i,s){}}InMemoryPersistence.type="NONE";const inMemoryPersistence=InMemoryPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _persistenceKeyName(o,i,s){return`firebase:${o}:${i}:${s}`}class PersistenceUserManager{constructor(i,s,a){this.persistence=i,this.auth=s,this.userKey=a;const{config:et,name:tt}=this.auth;this.fullUserKey=_persistenceKeyName(this.userKey,et.apiKey,tt),this.fullPersistenceKey=_persistenceKeyName("persistence",et.apiKey,tt),this.boundEventHandler=s._onStorageEvent.bind(s),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(i){return this.persistence._set(this.fullUserKey,i.toJSON())}async getCurrentUser(){const i=await this.persistence._get(this.fullUserKey);return i?UserImpl._fromJSON(this.auth,i):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(i){if(this.persistence===i)return;const s=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=i,s)return this.setCurrentUser(s)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(i,s,a="authUser"){if(!s.length)return new PersistenceUserManager(_getInstance(inMemoryPersistence),i,a);const et=(await Promise.all(s.map(async ot=>{if(await ot._isAvailable())return ot}))).filter(ot=>ot);let tt=et[0]||_getInstance(inMemoryPersistence);const rt=_persistenceKeyName(a,i.config.apiKey,i.name);let nt=null;for(const ot of s)try{const st=await ot._get(rt);if(st){const lt=UserImpl._fromJSON(i,st);ot!==tt&&(nt=lt),tt=ot;break}}catch{}const it=et.filter(ot=>ot._shouldAllowMigration);return!tt._shouldAllowMigration||!it.length?new PersistenceUserManager(tt,i,a):(tt=it[0],nt&&await tt._set(rt,nt.toJSON()),await Promise.all(s.map(async ot=>{if(ot!==tt)try{await ot._remove(rt)}catch{}})),new PersistenceUserManager(tt,i,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getBrowserName(o){const i=o.toLowerCase();if(i.includes("opera/")||i.includes("opr/")||i.includes("opios/"))return"Opera";if(_isIEMobile(i))return"IEMobile";if(i.includes("msie")||i.includes("trident/"))return"IE";if(i.includes("edge/"))return"Edge";if(_isFirefox(i))return"Firefox";if(i.includes("silk/"))return"Silk";if(_isBlackBerry(i))return"Blackberry";if(_isWebOS(i))return"Webos";if(_isSafari(i))return"Safari";if((i.includes("chrome/")||_isChromeIOS(i))&&!i.includes("edge/"))return"Chrome";if(_isAndroid(i))return"Android";{const s=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,a=o.match(s);if((a==null?void 0:a.length)===2)return a[1]}return"Other"}function _isFirefox(o=getUA()){return/firefox\//i.test(o)}function _isSafari(o=getUA()){const i=o.toLowerCase();return i.includes("safari/")&&!i.includes("chrome/")&&!i.includes("crios/")&&!i.includes("android")}function _isChromeIOS(o=getUA()){return/crios\//i.test(o)}function _isIEMobile(o=getUA()){return/iemobile/i.test(o)}function _isAndroid(o=getUA()){return/android/i.test(o)}function _isBlackBerry(o=getUA()){return/blackberry/i.test(o)}function _isWebOS(o=getUA()){return/webos/i.test(o)}function _isIOS(o=getUA()){return/iphone|ipad|ipod/i.test(o)||/macintosh/i.test(o)&&/mobile/i.test(o)}function _isIOSStandalone(o=getUA()){var i;return _isIOS(o)&&!!(!((i=window.navigator)===null||i===void 0)&&i.standalone)}function _isIE10(){return isIE()&&document.documentMode===10}function _isMobileBrowser(o=getUA()){return _isIOS(o)||_isAndroid(o)||_isWebOS(o)||_isBlackBerry(o)||/windows phone/i.test(o)||_isIEMobile(o)}function _isIframe(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _getClientVersion(o,i=[]){let s;switch(o){case"Browser":s=_getBrowserName(getUA());break;case"Worker":s=`${_getBrowserName(getUA())}-${o}`;break;default:s=o}const a=i.length?i.join(","):"FirebaseCore-web";return`${s}/JsCore/${SDK_VERSION}/${a}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthMiddlewareQueue{constructor(i){this.auth=i,this.queue=[]}pushCallback(i,s){const a=tt=>new Promise((rt,nt)=>{try{const it=i(tt);rt(it)}catch(it){nt(it)}});a.onAbort=s,this.queue.push(a);const et=this.queue.length-1;return()=>{this.queue[et]=()=>Promise.resolve()}}async runMiddleware(i){if(this.auth.currentUser===i)return;const s=[];try{for(const a of this.queue)await a(i),a.onAbort&&s.push(a.onAbort)}catch(a){s.reverse();for(const et of s)try{et()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:a==null?void 0:a.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getPasswordPolicy(o,i={}){return _performApiRequest(o,"GET","/v2/passwordPolicy",_addTidIfNecessary(o,i))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MINIMUM_MIN_PASSWORD_LENGTH=6;class PasswordPolicyImpl{constructor(i){var s,a,et,tt;const rt=i.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(s=rt.minPasswordLength)!==null&&s!==void 0?s:MINIMUM_MIN_PASSWORD_LENGTH,rt.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=rt.maxPasswordLength),rt.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=rt.containsLowercaseCharacter),rt.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=rt.containsUppercaseCharacter),rt.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=rt.containsNumericCharacter),rt.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=rt.containsNonAlphanumericCharacter),this.enforcementState=i.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(et=(a=i.allowedNonAlphanumericCharacters)===null||a===void 0?void 0:a.join(""))!==null&&et!==void 0?et:"",this.forceUpgradeOnSignin=(tt=i.forceUpgradeOnSignin)!==null&&tt!==void 0?tt:!1,this.schemaVersion=i.schemaVersion}validatePassword(i){var s,a,et,tt,rt,nt;const it={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(i,it),this.validatePasswordCharacterOptions(i,it),it.isValid&&(it.isValid=(s=it.meetsMinPasswordLength)!==null&&s!==void 0?s:!0),it.isValid&&(it.isValid=(a=it.meetsMaxPasswordLength)!==null&&a!==void 0?a:!0),it.isValid&&(it.isValid=(et=it.containsLowercaseLetter)!==null&&et!==void 0?et:!0),it.isValid&&(it.isValid=(tt=it.containsUppercaseLetter)!==null&&tt!==void 0?tt:!0),it.isValid&&(it.isValid=(rt=it.containsNumericCharacter)!==null&&rt!==void 0?rt:!0),it.isValid&&(it.isValid=(nt=it.containsNonAlphanumericCharacter)!==null&&nt!==void 0?nt:!0),it}validatePasswordLengthOptions(i,s){const a=this.customStrengthOptions.minPasswordLength,et=this.customStrengthOptions.maxPasswordLength;a&&(s.meetsMinPasswordLength=i.length>=a),et&&(s.meetsMaxPasswordLength=i.length<=et)}validatePasswordCharacterOptions(i,s){this.updatePasswordCharacterOptionsStatuses(s,!1,!1,!1,!1);let a;for(let et=0;et<i.length;et++)a=i.charAt(et),this.updatePasswordCharacterOptionsStatuses(s,a>="a"&&a<="z",a>="A"&&a<="Z",a>="0"&&a<="9",this.allowedNonAlphanumericCharacters.includes(a))}updatePasswordCharacterOptionsStatuses(i,s,a,et,tt){this.customStrengthOptions.containsLowercaseLetter&&(i.containsLowercaseLetter||(i.containsLowercaseLetter=s)),this.customStrengthOptions.containsUppercaseLetter&&(i.containsUppercaseLetter||(i.containsUppercaseLetter=a)),this.customStrengthOptions.containsNumericCharacter&&(i.containsNumericCharacter||(i.containsNumericCharacter=et)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(i.containsNonAlphanumericCharacter||(i.containsNonAlphanumericCharacter=tt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthImpl{constructor(i,s,a,et){this.app=i,this.heartbeatServiceProvider=s,this.appCheckServiceProvider=a,this.config=et,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Subscription(this),this.idTokenSubscription=new Subscription(this),this.beforeStateQueue=new AuthMiddlewareQueue(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=_DEFAULT_AUTH_ERROR_FACTORY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=i.name,this.clientVersion=et.sdkClientVersion}_initializeWithPersistence(i,s){return s&&(this._popupRedirectResolver=_getInstance(s)),this._initializationPromise=this.queue(async()=>{var a,et;if(!this._deleted&&(this.persistenceManager=await PersistenceUserManager.create(this,i),!this._deleted)){if(!((a=this._popupRedirectResolver)===null||a===void 0)&&a._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(s),this.lastNotifiedUid=((et=this.currentUser)===null||et===void 0?void 0:et.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const i=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!i)){if(this.currentUser&&i&&this.currentUser.uid===i.uid){this._currentUser._assign(i),await this.currentUser.getIdToken();return}await this._updateCurrentUser(i,!0)}}async initializeCurrentUser(i){var s;const a=await this.assertedPersistence.getCurrentUser();let et=a,tt=!1;if(i&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const rt=(s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId,nt=et==null?void 0:et._redirectEventId,it=await this.tryRedirectSignIn(i);(!rt||rt===nt)&&(it!=null&&it.user)&&(et=it.user,tt=!0)}if(!et)return this.directlySetCurrentUser(null);if(!et._redirectEventId){if(tt)try{await this.beforeStateQueue.runMiddleware(et)}catch(rt){et=a,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(rt))}return et?this.reloadAndSetCurrentUserOrClear(et):this.directlySetCurrentUser(null)}return _assert(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===et._redirectEventId?this.directlySetCurrentUser(et):this.reloadAndSetCurrentUserOrClear(et)}async tryRedirectSignIn(i){let s=null;try{s=await this._popupRedirectResolver._completeRedirectFn(this,i,!0)}catch{await this._setRedirectUser(null)}return s}async reloadAndSetCurrentUserOrClear(i){try{await _reloadWithoutSaving(i)}catch(s){if((s==null?void 0:s.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(i)}useDeviceLanguage(){this.languageCode=_getUserLanguage()}async _delete(){this._deleted=!0}async updateCurrentUser(i){const s=i?getModularInstance(i):null;return s&&_assert(s.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(s&&s._clone(this))}async _updateCurrentUser(i,s=!1){if(!this._deleted)return i&&_assert(this.tenantId===i.tenantId,this,"tenant-id-mismatch"),s||await this.beforeStateQueue.runMiddleware(i),this.queue(async()=>{await this.directlySetCurrentUser(i),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(i){return this.queue(async()=>{await this.assertedPersistence.setPersistence(_getInstance(i))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(i){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const s=this._getPasswordPolicyInternal();return s.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):s.validatePassword(i)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const i=await _getPasswordPolicy(this),s=new PasswordPolicyImpl(i);this.tenantId===null?this._projectPasswordPolicy=s:this._tenantPasswordPolicies[this.tenantId]=s}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(i){this._errorFactory=new ErrorFactory("auth","Firebase",i())}onAuthStateChanged(i,s,a){return this.registerStateListener(this.authStateSubscription,i,s,a)}beforeAuthStateChanged(i,s){return this.beforeStateQueue.pushCallback(i,s)}onIdTokenChanged(i,s,a){return this.registerStateListener(this.idTokenSubscription,i,s,a)}authStateReady(){return new Promise((i,s)=>{if(this.currentUser)i();else{const a=this.onAuthStateChanged(()=>{a(),i()},s)}})}async revokeAccessToken(i){if(this.currentUser){const s=await this.currentUser.getIdToken(),a={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:i,idToken:s};this.tenantId!=null&&(a.tenantId=this.tenantId),await revokeToken(this,a)}}toJSON(){var i;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(i=this._currentUser)===null||i===void 0?void 0:i.toJSON()}}async _setRedirectUser(i,s){const a=await this.getOrInitRedirectPersistenceManager(s);return i===null?a.removeCurrentUser():a.setCurrentUser(i)}async getOrInitRedirectPersistenceManager(i){if(!this.redirectPersistenceManager){const s=i&&_getInstance(i)||this._popupRedirectResolver;_assert(s,this,"argument-error"),this.redirectPersistenceManager=await PersistenceUserManager.create(this,[_getInstance(s._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(i){var s,a;return this._isInitialized&&await this.queue(async()=>{}),((s=this._currentUser)===null||s===void 0?void 0:s._redirectEventId)===i?this._currentUser:((a=this.redirectUser)===null||a===void 0?void 0:a._redirectEventId)===i?this.redirectUser:null}async _persistUserIfCurrent(i){if(i===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(i))}_notifyListenersIfCurrent(i){i===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var i,s;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const a=(s=(i=this.currentUser)===null||i===void 0?void 0:i.uid)!==null&&s!==void 0?s:null;this.lastNotifiedUid!==a&&(this.lastNotifiedUid=a,this.authStateSubscription.next(this.currentUser))}registerStateListener(i,s,a,et){if(this._deleted)return()=>{};const tt=typeof s=="function"?s:s.next.bind(s);let rt=!1;const nt=this._isInitialized?Promise.resolve():this._initializationPromise;if(_assert(nt,this,"internal-error"),nt.then(()=>{rt||tt(this.currentUser)}),typeof s=="function"){const it=i.addObserver(s,a,et);return()=>{rt=!0,it()}}else{const it=i.addObserver(s);return()=>{rt=!0,it()}}}async directlySetCurrentUser(i){this.currentUser&&this.currentUser!==i&&this._currentUser._stopProactiveRefresh(),i&&this.isProactiveRefreshEnabled&&i._startProactiveRefresh(),this.currentUser=i,i?await this.assertedPersistence.setCurrentUser(i):await this.assertedPersistence.removeCurrentUser()}queue(i){return this.operations=this.operations.then(i,i),this.operations}get assertedPersistence(){return _assert(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(i){!i||this.frameworks.includes(i)||(this.frameworks.push(i),this.frameworks.sort(),this.clientVersion=_getClientVersion(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const s={"X-Client-Version":this.clientVersion};this.app.options.appId&&(s["X-Firebase-gmpid"]=this.app.options.appId);const a=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getHeartbeatsHeader());a&&(s["X-Firebase-Client"]=a);const et=await this._getAppCheckToken();return et&&(s["X-Firebase-AppCheck"]=et),s}async _getAppCheckToken(){var i;const s=await((i=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||i===void 0?void 0:i.getToken());return s!=null&&s.error&&_logWarn(`Error while retrieving App Check token: ${s.error}`),s==null?void 0:s.token}}function _castAuth(o){return getModularInstance(o)}class Subscription{constructor(i){this.auth=i,this.observer=null,this.addObserver=createSubscribe(s=>this.observer=s)}get next(){return _assert(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let externalJSProvider={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function _setExternalJSProvider(o){externalJSProvider=o}function _loadJS(o){return externalJSProvider.loadJS(o)}function _recaptchaEnterpriseScriptUrl(){return externalJSProvider.recaptchaEnterpriseScript}function _gapiScriptUrl(){return externalJSProvider.gapiScript}function _generateCallbackName(o){return`__${o}${Math.floor(Math.random()*1e6)}`}const RECAPTCHA_ENTERPRISE_VERIFIER_TYPE="recaptcha-enterprise",FAKE_TOKEN="NO_RECAPTCHA";class RecaptchaEnterpriseVerifier{constructor(i){this.type=RECAPTCHA_ENTERPRISE_VERIFIER_TYPE,this.auth=_castAuth(i)}async verify(i="verify",s=!1){async function a(tt){if(!s){if(tt.tenantId==null&&tt._agentRecaptchaConfig!=null)return tt._agentRecaptchaConfig.siteKey;if(tt.tenantId!=null&&tt._tenantRecaptchaConfigs[tt.tenantId]!==void 0)return tt._tenantRecaptchaConfigs[tt.tenantId].siteKey}return new Promise(async(rt,nt)=>{getRecaptchaConfig(tt,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(it=>{if(it.recaptchaKey===void 0)nt(new Error("recaptcha Enterprise site key undefined"));else{const ot=new RecaptchaConfig(it);return tt.tenantId==null?tt._agentRecaptchaConfig=ot:tt._tenantRecaptchaConfigs[tt.tenantId]=ot,rt(ot.siteKey)}}).catch(it=>{nt(it)})})}function et(tt,rt,nt){const it=window.grecaptcha;isEnterprise(it)?it.enterprise.ready(()=>{it.enterprise.execute(tt,{action:i}).then(ot=>{rt(ot)}).catch(()=>{rt(FAKE_TOKEN)})}):nt(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((tt,rt)=>{a(this.auth).then(nt=>{if(!s&&isEnterprise(window.grecaptcha))et(nt,tt,rt);else{if(typeof window>"u"){rt(new Error("RecaptchaVerifier is only supported in browser"));return}let it=_recaptchaEnterpriseScriptUrl();it.length!==0&&(it+=nt),_loadJS(it).then(()=>{et(nt,tt,rt)}).catch(ot=>{rt(ot)})}}).catch(nt=>{rt(nt)})})}}async function injectRecaptchaFields(o,i,s,a=!1){const et=new RecaptchaEnterpriseVerifier(o);let tt;try{tt=await et.verify(s)}catch{tt=await et.verify(s,!0)}const rt=Object.assign({},i);return a?Object.assign(rt,{captchaResp:tt}):Object.assign(rt,{captchaResponse:tt}),Object.assign(rt,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(rt,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),rt}async function handleRecaptchaFlow(o,i,s,a){var et;if(!((et=o._getRecaptchaConfig())===null||et===void 0)&&et.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const tt=await injectRecaptchaFields(o,i,s,s==="getOobCode");return a(o,tt)}else return a(o,i).catch(async tt=>{if(tt.code==="auth/missing-recaptcha-token"){console.log(`${s} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const rt=await injectRecaptchaFields(o,i,s,s==="getOobCode");return a(o,rt)}else return Promise.reject(tt)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function initializeAuth(o,i){const s=_getProvider(o,"auth");if(s.isInitialized()){const et=s.getImmediate(),tt=s.getOptions();if(deepEqual$1(tt,i??{}))return et;_fail(et,"already-initialized")}return s.initialize({options:i})}function _initializeAuthInstance(o,i){const s=(i==null?void 0:i.persistence)||[],a=(Array.isArray(s)?s:[s]).map(_getInstance);i!=null&&i.errorMap&&o._updateErrorMap(i.errorMap),o._initializeWithPersistence(a,i==null?void 0:i.popupRedirectResolver)}function connectAuthEmulator(o,i,s){const a=_castAuth(o);_assert(a._canInitEmulator,a,"emulator-config-failed"),_assert(/^https?:\/\//.test(i),a,"invalid-emulator-scheme");const et=!!(s!=null&&s.disableWarnings),tt=extractProtocol(i),{host:rt,port:nt}=extractHostAndPort(i),it=nt===null?"":`:${nt}`;a.config.emulator={url:`${tt}//${rt}${it}/`},a.settings.appVerificationDisabledForTesting=!0,a.emulatorConfig=Object.freeze({host:rt,port:nt,protocol:tt.replace(":",""),options:Object.freeze({disableWarnings:et})}),et||emitEmulatorWarning()}function extractProtocol(o){const i=o.indexOf(":");return i<0?"":o.substr(0,i+1)}function extractHostAndPort(o){const i=extractProtocol(o),s=/(\/\/)?([^?#/]+)/.exec(o.substr(i.length));if(!s)return{host:"",port:null};const a=s[2].split("@").pop()||"",et=/^(\[[^\]]+\])(:|$)/.exec(a);if(et){const tt=et[1];return{host:tt,port:parsePort(a.substr(tt.length+1))}}else{const[tt,rt]=a.split(":");return{host:tt,port:parsePort(rt)}}}function parsePort(o){if(!o)return null;const i=Number(o);return isNaN(i)?null:i}function emitEmulatorWarning(){function o(){const i=document.createElement("p"),s=i.style;i.innerText="Running in emulator mode. Do not use with production credentials.",s.position="fixed",s.width="100%",s.backgroundColor="#ffffff",s.border=".1em solid #000000",s.color="#b50000",s.bottom="0px",s.left="0px",s.margin="0px",s.zIndex="10000",s.textAlign="center",i.classList.add("firebase-emulator-warning"),document.body.appendChild(i)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",o):o())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthCredential{constructor(i,s){this.providerId=i,this.signInMethod=s}toJSON(){return debugFail("not implemented")}_getIdTokenResponse(i){return debugFail("not implemented")}_linkToIdToken(i,s){return debugFail("not implemented")}_getReauthenticationResolver(i){return debugFail("not implemented")}}async function linkEmailPassword(o,i){return _performApiRequest(o,"POST","/v1/accounts:signUp",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithPassword(o,i){return _performSignInRequest(o,"POST","/v1/accounts:signInWithPassword",_addTidIfNecessary(o,i))}async function sendOobCode(o,i){return _performApiRequest(o,"POST","/v1/accounts:sendOobCode",_addTidIfNecessary(o,i))}async function sendPasswordResetEmail$1(o,i){return sendOobCode(o,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithEmailLink$1(o,i){return _performSignInRequest(o,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(o,i))}async function signInWithEmailLinkForLinking(o,i){return _performSignInRequest(o,"POST","/v1/accounts:signInWithEmailLink",_addTidIfNecessary(o,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthCredential extends AuthCredential{constructor(i,s,a,et=null){super("password",a),this._email=i,this._password=s,this._tenantId=et}static _fromEmailAndPassword(i,s){return new EmailAuthCredential(i,s,"password")}static _fromEmailAndCode(i,s,a=null){return new EmailAuthCredential(i,s,"emailLink",a)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(i){const s=typeof i=="string"?JSON.parse(i):i;if(s!=null&&s.email&&(s!=null&&s.password)){if(s.signInMethod==="password")return this._fromEmailAndPassword(s.email,s.password);if(s.signInMethod==="emailLink")return this._fromEmailAndCode(s.email,s.password,s.tenantId)}return null}async _getIdTokenResponse(i){switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(i,s,"signInWithPassword",signInWithPassword);case"emailLink":return signInWithEmailLink$1(i,{email:this._email,oobCode:this._password});default:_fail(i,"internal-error")}}async _linkToIdToken(i,s){switch(this.signInMethod){case"password":const a={idToken:s,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return handleRecaptchaFlow(i,a,"signUpPassword",linkEmailPassword);case"emailLink":return signInWithEmailLinkForLinking(i,{idToken:s,email:this._email,oobCode:this._password});default:_fail(i,"internal-error")}}_getReauthenticationResolver(i){return this._getIdTokenResponse(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signInWithIdp(o,i){return _performSignInRequest(o,"POST","/v1/accounts:signInWithIdp",_addTidIfNecessary(o,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IDP_REQUEST_URI$1="http://localhost";class OAuthCredential extends AuthCredential{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(i){const s=new OAuthCredential(i.providerId,i.signInMethod);return i.idToken||i.accessToken?(i.idToken&&(s.idToken=i.idToken),i.accessToken&&(s.accessToken=i.accessToken),i.nonce&&!i.pendingToken&&(s.nonce=i.nonce),i.pendingToken&&(s.pendingToken=i.pendingToken)):i.oauthToken&&i.oauthTokenSecret?(s.accessToken=i.oauthToken,s.secret=i.oauthTokenSecret):_fail("argument-error"),s}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(i){const s=typeof i=="string"?JSON.parse(i):i,{providerId:a,signInMethod:et}=s,tt=__rest(s,["providerId","signInMethod"]);if(!a||!et)return null;const rt=new OAuthCredential(a,et);return rt.idToken=tt.idToken||void 0,rt.accessToken=tt.accessToken||void 0,rt.secret=tt.secret,rt.nonce=tt.nonce,rt.pendingToken=tt.pendingToken||null,rt}_getIdTokenResponse(i){const s=this.buildRequest();return signInWithIdp(i,s)}_linkToIdToken(i,s){const a=this.buildRequest();return a.idToken=s,signInWithIdp(i,a)}_getReauthenticationResolver(i){const s=this.buildRequest();return s.autoCreate=!1,signInWithIdp(i,s)}buildRequest(){const i={requestUri:IDP_REQUEST_URI$1,returnSecureToken:!0};if(this.pendingToken)i.pendingToken=this.pendingToken;else{const s={};this.idToken&&(s.id_token=this.idToken),this.accessToken&&(s.access_token=this.accessToken),this.secret&&(s.oauth_token_secret=this.secret),s.providerId=this.providerId,this.nonce&&!this.pendingToken&&(s.nonce=this.nonce),i.postBody=querystring(s)}return i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parseMode(o){switch(o){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function parseDeepLink(o){const i=querystringDecode(extractQuerystring(o)).link,s=i?querystringDecode(extractQuerystring(i)).deep_link_id:null,a=querystringDecode(extractQuerystring(o)).deep_link_id;return(a?querystringDecode(extractQuerystring(a)).link:null)||a||s||i||o}class ActionCodeURL{constructor(i){var s,a,et,tt,rt,nt;const it=querystringDecode(extractQuerystring(i)),ot=(s=it.apiKey)!==null&&s!==void 0?s:null,st=(a=it.oobCode)!==null&&a!==void 0?a:null,lt=parseMode((et=it.mode)!==null&&et!==void 0?et:null);_assert(ot&&st&&lt,"argument-error"),this.apiKey=ot,this.operation=lt,this.code=st,this.continueUrl=(tt=it.continueUrl)!==null&&tt!==void 0?tt:null,this.languageCode=(rt=it.languageCode)!==null&&rt!==void 0?rt:null,this.tenantId=(nt=it.tenantId)!==null&&nt!==void 0?nt:null}static parseLink(i){const s=parseDeepLink(i);try{return new ActionCodeURL(s)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EmailAuthProvider{constructor(){this.providerId=EmailAuthProvider.PROVIDER_ID}static credential(i,s){return EmailAuthCredential._fromEmailAndPassword(i,s)}static credentialWithLink(i,s){const a=ActionCodeURL.parseLink(s);return _assert(a,"argument-error"),EmailAuthCredential._fromEmailAndCode(i,a.code,a.tenantId)}}EmailAuthProvider.PROVIDER_ID="password";EmailAuthProvider.EMAIL_PASSWORD_SIGN_IN_METHOD="password";EmailAuthProvider.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FederatedAuthProvider{constructor(i){this.providerId=i,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(i){this.defaultLanguageCode=i}setCustomParameters(i){return this.customParameters=i,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BaseOAuthProvider extends FederatedAuthProvider{constructor(){super(...arguments),this.scopes=[]}addScope(i){return this.scopes.includes(i)||this.scopes.push(i),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FacebookAuthProvider extends BaseOAuthProvider{constructor(){super("facebook.com")}static credential(i){return OAuthCredential._fromParams({providerId:FacebookAuthProvider.PROVIDER_ID,signInMethod:FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return FacebookAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return FacebookAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return FacebookAuthProvider.credential(i.oauthAccessToken)}catch{return null}}}FacebookAuthProvider.FACEBOOK_SIGN_IN_METHOD="facebook.com";FacebookAuthProvider.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GoogleAuthProvider extends BaseOAuthProvider{constructor(){super("google.com"),this.addScope("profile")}static credential(i,s){return OAuthCredential._fromParams({providerId:GoogleAuthProvider.PROVIDER_ID,signInMethod:GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD,idToken:i,accessToken:s})}static credentialFromResult(i){return GoogleAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return GoogleAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthIdToken:s,oauthAccessToken:a}=i;if(!s&&!a)return null;try{return GoogleAuthProvider.credential(s,a)}catch{return null}}}GoogleAuthProvider.GOOGLE_SIGN_IN_METHOD="google.com";GoogleAuthProvider.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GithubAuthProvider extends BaseOAuthProvider{constructor(){super("github.com")}static credential(i){return OAuthCredential._fromParams({providerId:GithubAuthProvider.PROVIDER_ID,signInMethod:GithubAuthProvider.GITHUB_SIGN_IN_METHOD,accessToken:i})}static credentialFromResult(i){return GithubAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return GithubAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i||!("oauthAccessToken"in i)||!i.oauthAccessToken)return null;try{return GithubAuthProvider.credential(i.oauthAccessToken)}catch{return null}}}GithubAuthProvider.GITHUB_SIGN_IN_METHOD="github.com";GithubAuthProvider.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TwitterAuthProvider extends BaseOAuthProvider{constructor(){super("twitter.com")}static credential(i,s){return OAuthCredential._fromParams({providerId:TwitterAuthProvider.PROVIDER_ID,signInMethod:TwitterAuthProvider.TWITTER_SIGN_IN_METHOD,oauthToken:i,oauthTokenSecret:s})}static credentialFromResult(i){return TwitterAuthProvider.credentialFromTaggedObject(i)}static credentialFromError(i){return TwitterAuthProvider.credentialFromTaggedObject(i.customData||{})}static credentialFromTaggedObject({_tokenResponse:i}){if(!i)return null;const{oauthAccessToken:s,oauthTokenSecret:a}=i;if(!s||!a)return null;try{return TwitterAuthProvider.credential(s,a)}catch{return null}}}TwitterAuthProvider.TWITTER_SIGN_IN_METHOD="twitter.com";TwitterAuthProvider.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function signUp$1(o,i){return _performSignInRequest(o,"POST","/v1/accounts:signUp",_addTidIfNecessary(o,i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UserCredentialImpl{constructor(i){this.user=i.user,this.providerId=i.providerId,this._tokenResponse=i._tokenResponse,this.operationType=i.operationType}static async _fromIdTokenResponse(i,s,a,et=!1){const tt=await UserImpl._fromIdTokenResponse(i,a,et),rt=providerIdForResponse(a);return new UserCredentialImpl({user:tt,providerId:rt,_tokenResponse:a,operationType:s})}static async _forOperation(i,s,a){await i._updateTokensIfNecessary(a,!0);const et=providerIdForResponse(a);return new UserCredentialImpl({user:i,providerId:et,_tokenResponse:a,operationType:s})}}function providerIdForResponse(o){return o.providerId?o.providerId:"phoneNumber"in o?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MultiFactorError extends FirebaseError{constructor(i,s,a,et){var tt;super(s.code,s.message),this.operationType=a,this.user=et,Object.setPrototypeOf(this,MultiFactorError.prototype),this.customData={appName:i.name,tenantId:(tt=i.tenantId)!==null&&tt!==void 0?tt:void 0,_serverResponse:s.customData._serverResponse,operationType:a}}static _fromErrorAndOperation(i,s,a,et){return new MultiFactorError(i,s,a,et)}}function _processCredentialSavingMfaContextIfNecessary(o,i,s,a){return(i==="reauthenticate"?s._getReauthenticationResolver(o):s._getIdTokenResponse(o)).catch(tt=>{throw tt.code==="auth/multi-factor-auth-required"?MultiFactorError._fromErrorAndOperation(o,tt,i,a):tt})}async function _link$1(o,i,s=!1){const a=await _logoutIfInvalidated(o,i._linkToIdToken(o.auth,await o.getIdToken()),s);return UserCredentialImpl._forOperation(o,"link",a)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _reauthenticate(o,i,s=!1){const{auth:a}=o,et="reauthenticate";try{const tt=await _logoutIfInvalidated(o,_processCredentialSavingMfaContextIfNecessary(a,et,i,o),s);_assert(tt.idToken,a,"internal-error");const rt=_parseToken(tt.idToken);_assert(rt,a,"internal-error");const{sub:nt}=rt;return _assert(o.uid===nt,a,"user-mismatch"),UserCredentialImpl._forOperation(o,et,tt)}catch(tt){throw(tt==null?void 0:tt.code)==="auth/user-not-found"&&_fail(a,"user-mismatch"),tt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _signInWithCredential(o,i,s=!1){const a="signIn",et=await _processCredentialSavingMfaContextIfNecessary(o,a,i),tt=await UserCredentialImpl._fromIdTokenResponse(o,a,et);return s||await o._updateCurrentUser(tt.user),tt}async function signInWithCredential(o,i){return _signInWithCredential(_castAuth(o),i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _setActionCodeSettingsOnRequest(o,i,s){var a;_assert(((a=s.url)===null||a===void 0?void 0:a.length)>0,o,"invalid-continue-uri"),_assert(typeof s.dynamicLinkDomain>"u"||s.dynamicLinkDomain.length>0,o,"invalid-dynamic-link-domain"),i.continueUrl=s.url,i.dynamicLinkDomain=s.dynamicLinkDomain,i.canHandleCodeInApp=s.handleCodeInApp,s.iOS&&(_assert(s.iOS.bundleId.length>0,o,"missing-ios-bundle-id"),i.iOSBundleId=s.iOS.bundleId),s.android&&(_assert(s.android.packageName.length>0,o,"missing-android-pkg-name"),i.androidInstallApp=s.android.installApp,i.androidMinimumVersionCode=s.android.minimumVersion,i.androidPackageName=s.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function recachePasswordPolicy(o){const i=_castAuth(o);i._getPasswordPolicyInternal()&&await i._updatePasswordPolicy()}async function sendPasswordResetEmail(o,i,s){const a=_castAuth(o),et={requestType:"PASSWORD_RESET",email:i,clientType:"CLIENT_TYPE_WEB"};s&&_setActionCodeSettingsOnRequest(a,et,s),await handleRecaptchaFlow(a,et,"getOobCode",sendPasswordResetEmail$1)}async function createUserWithEmailAndPassword(o,i,s){const a=_castAuth(o),rt=await handleRecaptchaFlow(a,{returnSecureToken:!0,email:i,password:s,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",signUp$1).catch(it=>{throw it.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(o),it}),nt=await UserCredentialImpl._fromIdTokenResponse(a,"signIn",rt);return await a._updateCurrentUser(nt.user),nt}function signInWithEmailAndPassword(o,i,s){return signInWithCredential(getModularInstance(o),EmailAuthProvider.credential(i,s)).catch(async a=>{throw a.code==="auth/password-does-not-meet-requirements"&&recachePasswordPolicy(o),a})}function onIdTokenChanged(o,i,s,a){return getModularInstance(o).onIdTokenChanged(i,s,a)}function beforeAuthStateChanged(o,i,s){return getModularInstance(o).beforeAuthStateChanged(i,s)}function onAuthStateChanged(o,i,s,a){return getModularInstance(o).onAuthStateChanged(i,s,a)}function signOut(o){return getModularInstance(o).signOut()}const STORAGE_AVAILABLE_KEY="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserPersistenceClass{constructor(i,s){this.storageRetriever=i,this.type=s}_isAvailable(){try{return this.storage?(this.storage.setItem(STORAGE_AVAILABLE_KEY,"1"),this.storage.removeItem(STORAGE_AVAILABLE_KEY),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(i,s){return this.storage.setItem(i,JSON.stringify(s)),Promise.resolve()}_get(i){const s=this.storage.getItem(i);return Promise.resolve(s?JSON.parse(s):null)}_remove(i){return this.storage.removeItem(i),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _iframeCannotSyncWebStorage(){const o=getUA();return _isSafari(o)||_isIOS(o)}const _POLLING_INTERVAL_MS$1=1e3,IE10_LOCAL_STORAGE_SYNC_DELAY=10;class BrowserLocalPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(i,s)=>this.onStorageEvent(i,s),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=_iframeCannotSyncWebStorage()&&_isIframe(),this.fallbackToPolling=_isMobileBrowser(),this._shouldAllowMigration=!0}forAllChangedKeys(i){for(const s of Object.keys(this.listeners)){const a=this.storage.getItem(s),et=this.localCache[s];a!==et&&i(s,et,a)}}onStorageEvent(i,s=!1){if(!i.key){this.forAllChangedKeys((rt,nt,it)=>{this.notifyListeners(rt,it)});return}const a=i.key;if(s?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const rt=this.storage.getItem(a);if(i.newValue!==rt)i.newValue!==null?this.storage.setItem(a,i.newValue):this.storage.removeItem(a);else if(this.localCache[a]===i.newValue&&!s)return}const et=()=>{const rt=this.storage.getItem(a);!s&&this.localCache[a]===rt||this.notifyListeners(a,rt)},tt=this.storage.getItem(a);_isIE10()&&tt!==i.newValue&&i.newValue!==i.oldValue?setTimeout(et,IE10_LOCAL_STORAGE_SYNC_DELAY):et()}notifyListeners(i,s){this.localCache[i]=s;const a=this.listeners[i];if(a)for(const et of Array.from(a))et(s&&JSON.parse(s))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((i,s,a)=>{this.onStorageEvent(new StorageEvent("storage",{key:i,oldValue:s,newValue:a}),!0)})},_POLLING_INTERVAL_MS$1)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(i,s){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[i]||(this.listeners[i]=new Set,this.localCache[i]=this.storage.getItem(i)),this.listeners[i].add(s)}_removeListener(i,s){this.listeners[i]&&(this.listeners[i].delete(s),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(i,s){await super._set(i,s),this.localCache[i]=JSON.stringify(s)}async _get(i){const s=await super._get(i);return this.localCache[i]=JSON.stringify(s),s}async _remove(i){await super._remove(i),delete this.localCache[i]}}BrowserLocalPersistence.type="LOCAL";const browserLocalPersistence=BrowserLocalPersistence;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BrowserSessionPersistence extends BrowserPersistenceClass{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(i,s){}_removeListener(i,s){}}BrowserSessionPersistence.type="SESSION";const browserSessionPersistence=BrowserSessionPersistence;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _allSettled(o){return Promise.all(o.map(async i=>{try{return{fulfilled:!0,value:await i}}catch(s){return{fulfilled:!1,reason:s}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Receiver{constructor(i){this.eventTarget=i,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(i){const s=this.receivers.find(et=>et.isListeningto(i));if(s)return s;const a=new Receiver(i);return this.receivers.push(a),a}isListeningto(i){return this.eventTarget===i}async handleEvent(i){const s=i,{eventId:a,eventType:et,data:tt}=s.data,rt=this.handlersMap[et];if(!(rt!=null&&rt.size))return;s.ports[0].postMessage({status:"ack",eventId:a,eventType:et});const nt=Array.from(rt).map(async ot=>ot(s.origin,tt)),it=await _allSettled(nt);s.ports[0].postMessage({status:"done",eventId:a,eventType:et,response:it})}_subscribe(i,s){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[i]||(this.handlersMap[i]=new Set),this.handlersMap[i].add(s)}_unsubscribe(i,s){this.handlersMap[i]&&s&&this.handlersMap[i].delete(s),(!s||this.handlersMap[i].size===0)&&delete this.handlersMap[i],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Receiver.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _generateEventId(o="",i=10){let s="";for(let a=0;a<i;a++)s+=Math.floor(Math.random()*10);return o+s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sender{constructor(i){this.target=i,this.handlers=new Set}removeMessageHandler(i){i.messageChannel&&(i.messageChannel.port1.removeEventListener("message",i.onMessage),i.messageChannel.port1.close()),this.handlers.delete(i)}async _send(i,s,a=50){const et=typeof MessageChannel<"u"?new MessageChannel:null;if(!et)throw new Error("connection_unavailable");let tt,rt;return new Promise((nt,it)=>{const ot=_generateEventId("",20);et.port1.start();const st=setTimeout(()=>{it(new Error("unsupported_event"))},a);rt={messageChannel:et,onMessage(lt){const at=lt;if(at.data.eventId===ot)switch(at.data.status){case"ack":clearTimeout(st),tt=setTimeout(()=>{it(new Error("timeout"))},3e3);break;case"done":clearTimeout(tt),nt(at.data.response);break;default:clearTimeout(st),clearTimeout(tt),it(new Error("invalid_response"));break}}},this.handlers.add(rt),et.port1.addEventListener("message",rt.onMessage),this.target.postMessage({eventType:i,eventId:ot,data:s},[et.port2])}).finally(()=>{rt&&this.removeMessageHandler(rt)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _window(){return window}function _setWindowLocation(o){_window().location.href=o}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _isWorker(){return typeof _window().WorkerGlobalScope<"u"&&typeof _window().importScripts=="function"}async function _getActiveServiceWorker(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function _getServiceWorkerController(){var o;return((o=navigator==null?void 0:navigator.serviceWorker)===null||o===void 0?void 0:o.controller)||null}function _getWorkerGlobalScope(){return _isWorker()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DB_NAME="firebaseLocalStorageDb",DB_VERSION=1,DB_OBJECTSTORE_NAME="firebaseLocalStorage",DB_DATA_KEYPATH="fbase_key";class DBPromise{constructor(i){this.request=i}toPromise(){return new Promise((i,s)=>{this.request.addEventListener("success",()=>{i(this.request.result)}),this.request.addEventListener("error",()=>{s(this.request.error)})})}}function getObjectStore(o,i){return o.transaction([DB_OBJECTSTORE_NAME],i?"readwrite":"readonly").objectStore(DB_OBJECTSTORE_NAME)}function _deleteDatabase(){const o=indexedDB.deleteDatabase(DB_NAME);return new DBPromise(o).toPromise()}function _openDatabase(){const o=indexedDB.open(DB_NAME,DB_VERSION);return new Promise((i,s)=>{o.addEventListener("error",()=>{s(o.error)}),o.addEventListener("upgradeneeded",()=>{const a=o.result;try{a.createObjectStore(DB_OBJECTSTORE_NAME,{keyPath:DB_DATA_KEYPATH})}catch(et){s(et)}}),o.addEventListener("success",async()=>{const a=o.result;a.objectStoreNames.contains(DB_OBJECTSTORE_NAME)?i(a):(a.close(),await _deleteDatabase(),i(await _openDatabase()))})})}async function _putObject(o,i,s){const a=getObjectStore(o,!0).put({[DB_DATA_KEYPATH]:i,value:s});return new DBPromise(a).toPromise()}async function getObject(o,i){const s=getObjectStore(o,!1).get(i),a=await new DBPromise(s).toPromise();return a===void 0?null:a.value}function _deleteObject(o,i){const s=getObjectStore(o,!0).delete(i);return new DBPromise(s).toPromise()}const _POLLING_INTERVAL_MS=800,_TRANSACTION_RETRY_COUNT=3;class IndexedDBLocalPersistence{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await _openDatabase(),this.db)}async _withRetries(i){let s=0;for(;;)try{const a=await this._openDb();return await i(a)}catch(a){if(s++>_TRANSACTION_RETRY_COUNT)throw a;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _isWorker()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Receiver._getInstance(_getWorkerGlobalScope()),this.receiver._subscribe("keyChanged",async(i,s)=>({keyProcessed:(await this._poll()).includes(s.key)})),this.receiver._subscribe("ping",async(i,s)=>["keyChanged"])}async initializeSender(){var i,s;if(this.activeServiceWorker=await _getActiveServiceWorker(),!this.activeServiceWorker)return;this.sender=new Sender(this.activeServiceWorker);const a=await this.sender._send("ping",{},800);a&&!((i=a[0])===null||i===void 0)&&i.fulfilled&&!((s=a[0])===null||s===void 0)&&s.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(i){if(!(!this.sender||!this.activeServiceWorker||_getServiceWorkerController()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:i},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const i=await _openDatabase();return await _putObject(i,STORAGE_AVAILABLE_KEY,"1"),await _deleteObject(i,STORAGE_AVAILABLE_KEY),!0}catch{}return!1}async _withPendingWrite(i){this.pendingWrites++;try{await i()}finally{this.pendingWrites--}}async _set(i,s){return this._withPendingWrite(async()=>(await this._withRetries(a=>_putObject(a,i,s)),this.localCache[i]=s,this.notifyServiceWorker(i)))}async _get(i){const s=await this._withRetries(a=>getObject(a,i));return this.localCache[i]=s,s}async _remove(i){return this._withPendingWrite(async()=>(await this._withRetries(s=>_deleteObject(s,i)),delete this.localCache[i],this.notifyServiceWorker(i)))}async _poll(){const i=await this._withRetries(et=>{const tt=getObjectStore(et,!1).getAll();return new DBPromise(tt).toPromise()});if(!i)return[];if(this.pendingWrites!==0)return[];const s=[],a=new Set;if(i.length!==0)for(const{fbase_key:et,value:tt}of i)a.add(et),JSON.stringify(this.localCache[et])!==JSON.stringify(tt)&&(this.notifyListeners(et,tt),s.push(et));for(const et of Object.keys(this.localCache))this.localCache[et]&&!a.has(et)&&(this.notifyListeners(et,null),s.push(et));return s}notifyListeners(i,s){this.localCache[i]=s;const a=this.listeners[i];if(a)for(const et of Array.from(a))et(s)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),_POLLING_INTERVAL_MS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(i,s){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[i]||(this.listeners[i]=new Set,this._get(i)),this.listeners[i].add(s)}_removeListener(i,s){this.listeners[i]&&(this.listeners[i].delete(s),this.listeners[i].size===0&&delete this.listeners[i]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IndexedDBLocalPersistence.type="LOCAL";const indexedDBLocalPersistence=IndexedDBLocalPersistence;new Delay(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _withDefaultResolver(o,i){return i?_getInstance(i):(_assert(o._popupRedirectResolver,o,"argument-error"),o._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IdpCredential extends AuthCredential{constructor(i){super("custom","custom"),this.params=i}_getIdTokenResponse(i){return signInWithIdp(i,this._buildIdpRequest())}_linkToIdToken(i,s){return signInWithIdp(i,this._buildIdpRequest(s))}_getReauthenticationResolver(i){return signInWithIdp(i,this._buildIdpRequest())}_buildIdpRequest(i){const s={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return i&&(s.idToken=i),s}}function _signIn(o){return _signInWithCredential(o.auth,new IdpCredential(o),o.bypassAuthState)}function _reauth(o){const{auth:i,user:s}=o;return _assert(s,i,"internal-error"),_reauthenticate(s,new IdpCredential(o),o.bypassAuthState)}async function _link(o){const{auth:i,user:s}=o;return _assert(s,i,"internal-error"),_link$1(s,new IdpCredential(o),o.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AbstractPopupRedirectOperation{constructor(i,s,a,et,tt=!1){this.auth=i,this.resolver=a,this.user=et,this.bypassAuthState=tt,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(s)?s:[s]}execute(){return new Promise(async(i,s)=>{this.pendingPromise={resolve:i,reject:s};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(a){this.reject(a)}})}async onAuthEvent(i){const{urlResponse:s,sessionId:a,postBody:et,tenantId:tt,error:rt,type:nt}=i;if(rt){this.reject(rt);return}const it={auth:this.auth,requestUri:s,sessionId:a,tenantId:tt||void 0,postBody:et||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(nt)(it))}catch(ot){this.reject(ot)}}onError(i){this.reject(i)}getIdpTask(i){switch(i){case"signInViaPopup":case"signInViaRedirect":return _signIn;case"linkViaPopup":case"linkViaRedirect":return _link;case"reauthViaPopup":case"reauthViaRedirect":return _reauth;default:_fail(this.auth,"internal-error")}}resolve(i){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(i),this.unregisterAndCleanUp()}reject(i){debugAssert(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(i),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _POLL_WINDOW_CLOSE_TIMEOUT=new Delay(2e3,1e4);class PopupOperation extends AbstractPopupRedirectOperation{constructor(i,s,a,et,tt){super(i,s,et,tt),this.provider=a,this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction&&PopupOperation.currentPopupAction.cancel(),PopupOperation.currentPopupAction=this}async executeNotNull(){const i=await this.execute();return _assert(i,this.auth,"internal-error"),i}async onExecution(){debugAssert(this.filter.length===1,"Popup operations only handle one event");const i=_generateEventId();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],i),this.authWindow.associatedEvent=i,this.resolver._originValidation(this.auth).catch(s=>{this.reject(s)}),this.resolver._isIframeWebStorageSupported(this.auth,s=>{s||this.reject(_createError(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var i;return((i=this.authWindow)===null||i===void 0?void 0:i.associatedEvent)||null}cancel(){this.reject(_createError(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,PopupOperation.currentPopupAction=null}pollUserCancellation(){const i=()=>{var s,a;if(!((a=(s=this.authWindow)===null||s===void 0?void 0:s.window)===null||a===void 0)&&a.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(_createError(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(i,_POLL_WINDOW_CLOSE_TIMEOUT.get())};i()}}PopupOperation.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PENDING_REDIRECT_KEY="pendingRedirect",redirectOutcomeMap=new Map;class RedirectAction extends AbstractPopupRedirectOperation{constructor(i,s,a=!1){super(i,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],s,void 0,a),this.eventId=null}async execute(){let i=redirectOutcomeMap.get(this.auth._key());if(!i){try{const a=await _getAndClearPendingRedirectStatus(this.resolver,this.auth)?await super.execute():null;i=()=>Promise.resolve(a)}catch(s){i=()=>Promise.reject(s)}redirectOutcomeMap.set(this.auth._key(),i)}return this.bypassAuthState||redirectOutcomeMap.set(this.auth._key(),()=>Promise.resolve(null)),i()}async onAuthEvent(i){if(i.type==="signInViaRedirect")return super.onAuthEvent(i);if(i.type==="unknown"){this.resolve(null);return}if(i.eventId){const s=await this.auth._redirectUserForId(i.eventId);if(s)return this.user=s,super.onAuthEvent(i);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function _getAndClearPendingRedirectStatus(o,i){const s=pendingRedirectKey(i),a=resolverPersistence(o);if(!await a._isAvailable())return!1;const et=await a._get(s)==="true";return await a._remove(s),et}function _overrideRedirectResult(o,i){redirectOutcomeMap.set(o._key(),i)}function resolverPersistence(o){return _getInstance(o._redirectPersistence)}function pendingRedirectKey(o){return _persistenceKeyName(PENDING_REDIRECT_KEY,o.config.apiKey,o.name)}async function _getRedirectResult(o,i,s=!1){const a=_castAuth(o),et=_withDefaultResolver(a,i),rt=await new RedirectAction(a,et,s).execute();return rt&&!s&&(delete rt.user._redirectEventId,await a._persistUserIfCurrent(rt.user),await a._setRedirectUser(null,i)),rt}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EVENT_DUPLICATION_CACHE_DURATION_MS=10*60*1e3;class AuthEventManager{constructor(i){this.auth=i,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(i){this.consumers.add(i),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,i)&&(this.sendToConsumer(this.queuedRedirectEvent,i),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(i){this.consumers.delete(i)}onEvent(i){if(this.hasEventBeenHandled(i))return!1;let s=!1;return this.consumers.forEach(a=>{this.isEventForConsumer(i,a)&&(s=!0,this.sendToConsumer(i,a),this.saveEventToCache(i))}),this.hasHandledPotentialRedirect||!isRedirectEvent(i)||(this.hasHandledPotentialRedirect=!0,s||(this.queuedRedirectEvent=i,s=!0)),s}sendToConsumer(i,s){var a;if(i.error&&!isNullRedirectEvent(i)){const et=((a=i.error.code)===null||a===void 0?void 0:a.split("auth/")[1])||"internal-error";s.onError(_createError(this.auth,et))}else s.onAuthEvent(i)}isEventForConsumer(i,s){const a=s.eventId===null||!!i.eventId&&i.eventId===s.eventId;return s.filter.includes(i.type)&&a}hasEventBeenHandled(i){return Date.now()-this.lastProcessedEventTime>=EVENT_DUPLICATION_CACHE_DURATION_MS&&this.cachedEventUids.clear(),this.cachedEventUids.has(eventUid(i))}saveEventToCache(i){this.cachedEventUids.add(eventUid(i)),this.lastProcessedEventTime=Date.now()}}function eventUid(o){return[o.type,o.eventId,o.sessionId,o.tenantId].filter(i=>i).join("-")}function isNullRedirectEvent({type:o,error:i}){return o==="unknown"&&(i==null?void 0:i.code)==="auth/no-auth-event"}function isRedirectEvent(o){switch(o.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return isNullRedirectEvent(o);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _getProjectConfig(o,i={}){return _performApiRequest(o,"GET","/v1/projects",i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IP_ADDRESS_REGEX=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,HTTP_REGEX=/^https?/;async function _validateOrigin(o){if(o.config.emulator)return;const{authorizedDomains:i}=await _getProjectConfig(o);for(const s of i)try{if(matchDomain(s))return}catch{}_fail(o,"unauthorized-domain")}function matchDomain(o){const i=_getCurrentUrl(),{protocol:s,hostname:a}=new URL(i);if(o.startsWith("chrome-extension://")){const rt=new URL(o);return rt.hostname===""&&a===""?s==="chrome-extension:"&&o.replace("chrome-extension://","")===i.replace("chrome-extension://",""):s==="chrome-extension:"&&rt.hostname===a}if(!HTTP_REGEX.test(s))return!1;if(IP_ADDRESS_REGEX.test(o))return a===o;const et=o.replace(/\./g,"\\.");return new RegExp("^(.+\\."+et+"|"+et+")$","i").test(a)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NETWORK_TIMEOUT=new Delay(3e4,6e4);function resetUnloadedGapiModules(){const o=_window().___jsl;if(o!=null&&o.H){for(const i of Object.keys(o.H))if(o.H[i].r=o.H[i].r||[],o.H[i].L=o.H[i].L||[],o.H[i].r=[...o.H[i].L],o.CP)for(let s=0;s<o.CP.length;s++)o.CP[s]=null}}function loadGapi(o){return new Promise((i,s)=>{var a,et,tt;function rt(){resetUnloadedGapiModules(),gapi.load("gapi.iframes",{callback:()=>{i(gapi.iframes.getContext())},ontimeout:()=>{resetUnloadedGapiModules(),s(_createError(o,"network-request-failed"))},timeout:NETWORK_TIMEOUT.get()})}if(!((et=(a=_window().gapi)===null||a===void 0?void 0:a.iframes)===null||et===void 0)&&et.Iframe)i(gapi.iframes.getContext());else if(!((tt=_window().gapi)===null||tt===void 0)&&tt.load)rt();else{const nt=_generateCallbackName("iframefcb");return _window()[nt]=()=>{gapi.load?rt():s(_createError(o,"network-request-failed"))},_loadJS(`${_gapiScriptUrl()}?onload=${nt}`).catch(it=>s(it))}}).catch(i=>{throw cachedGApiLoader=null,i})}let cachedGApiLoader=null;function _loadGapi(o){return cachedGApiLoader=cachedGApiLoader||loadGapi(o),cachedGApiLoader}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PING_TIMEOUT=new Delay(5e3,15e3),IFRAME_PATH="__/auth/iframe",EMULATED_IFRAME_PATH="emulator/auth/iframe",IFRAME_ATTRIBUTES={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},EID_FROM_APIHOST=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function getIframeUrl(o){const i=o.config;_assert(i.authDomain,o,"auth-domain-config-required");const s=i.emulator?_emulatorUrl(i,EMULATED_IFRAME_PATH):`https://${o.config.authDomain}/${IFRAME_PATH}`,a={apiKey:i.apiKey,appName:o.name,v:SDK_VERSION},et=EID_FROM_APIHOST.get(o.config.apiHost);et&&(a.eid=et);const tt=o._getFrameworks();return tt.length&&(a.fw=tt.join(",")),`${s}?${querystring(a).slice(1)}`}async function _openIframe(o){const i=await _loadGapi(o),s=_window().gapi;return _assert(s,o,"internal-error"),i.open({where:document.body,url:getIframeUrl(o),messageHandlersFilter:s.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:IFRAME_ATTRIBUTES,dontclear:!0},a=>new Promise(async(et,tt)=>{await a.restyle({setHideOnLeave:!1});const rt=_createError(o,"network-request-failed"),nt=_window().setTimeout(()=>{tt(rt)},PING_TIMEOUT.get());function it(){_window().clearTimeout(nt),et(a)}a.ping(it).then(it,()=>{tt(rt)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BASE_POPUP_OPTIONS={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},DEFAULT_WIDTH=500,DEFAULT_HEIGHT=600,TARGET_BLANK="_blank",FIREFOX_EMPTY_URL="http://localhost";class AuthPopup{constructor(i){this.window=i,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _open(o,i,s,a=DEFAULT_WIDTH,et=DEFAULT_HEIGHT){const tt=Math.max((window.screen.availHeight-et)/2,0).toString(),rt=Math.max((window.screen.availWidth-a)/2,0).toString();let nt="";const it=Object.assign(Object.assign({},BASE_POPUP_OPTIONS),{width:a.toString(),height:et.toString(),top:tt,left:rt}),ot=getUA().toLowerCase();s&&(nt=_isChromeIOS(ot)?TARGET_BLANK:s),_isFirefox(ot)&&(i=i||FIREFOX_EMPTY_URL,it.scrollbars="yes");const st=Object.entries(it).reduce((at,[ut,ft])=>`${at}${ut}=${ft},`,"");if(_isIOSStandalone(ot)&&nt!=="_self")return openAsNewWindowIOS(i||"",nt),new AuthPopup(null);const lt=window.open(i||"",nt,st);_assert(lt,o,"popup-blocked");try{lt.focus()}catch{}return new AuthPopup(lt)}function openAsNewWindowIOS(o,i){const s=document.createElement("a");s.href=o,s.target=i;const a=document.createEvent("MouseEvent");a.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),s.dispatchEvent(a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WIDGET_PATH="__/auth/handler",EMULATOR_WIDGET_PATH="emulator/auth/handler",FIREBASE_APP_CHECK_FRAGMENT_ID=encodeURIComponent("fac");async function _getRedirectUrl(o,i,s,a,et,tt){_assert(o.config.authDomain,o,"auth-domain-config-required"),_assert(o.config.apiKey,o,"invalid-api-key");const rt={apiKey:o.config.apiKey,appName:o.name,authType:s,redirectUrl:a,v:SDK_VERSION,eventId:et};if(i instanceof FederatedAuthProvider){i.setDefaultLanguage(o.languageCode),rt.providerId=i.providerId||"",isEmpty$5(i.getCustomParameters())||(rt.customParameters=JSON.stringify(i.getCustomParameters()));for(const[st,lt]of Object.entries(tt||{}))rt[st]=lt}if(i instanceof BaseOAuthProvider){const st=i.getScopes().filter(lt=>lt!=="");st.length>0&&(rt.scopes=st.join(","))}o.tenantId&&(rt.tid=o.tenantId);const nt=rt;for(const st of Object.keys(nt))nt[st]===void 0&&delete nt[st];const it=await o._getAppCheckToken(),ot=it?`#${FIREBASE_APP_CHECK_FRAGMENT_ID}=${encodeURIComponent(it)}`:"";return`${getHandlerBase(o)}?${querystring(nt).slice(1)}${ot}`}function getHandlerBase({config:o}){return o.emulator?_emulatorUrl(o,EMULATOR_WIDGET_PATH):`https://${o.authDomain}/${WIDGET_PATH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WEB_STORAGE_SUPPORT_KEY="webStorageSupport";class BrowserPopupRedirectResolver{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=browserSessionPersistence,this._completeRedirectFn=_getRedirectResult,this._overrideRedirectResult=_overrideRedirectResult}async _openPopup(i,s,a,et){var tt;debugAssert((tt=this.eventManagers[i._key()])===null||tt===void 0?void 0:tt.manager,"_initialize() not called before _openPopup()");const rt=await _getRedirectUrl(i,s,a,_getCurrentUrl(),et);return _open(i,rt,_generateEventId())}async _openRedirect(i,s,a,et){await this._originValidation(i);const tt=await _getRedirectUrl(i,s,a,_getCurrentUrl(),et);return _setWindowLocation(tt),new Promise(()=>{})}_initialize(i){const s=i._key();if(this.eventManagers[s]){const{manager:et,promise:tt}=this.eventManagers[s];return et?Promise.resolve(et):(debugAssert(tt,"If manager is not set, promise should be"),tt)}const a=this.initAndGetManager(i);return this.eventManagers[s]={promise:a},a.catch(()=>{delete this.eventManagers[s]}),a}async initAndGetManager(i){const s=await _openIframe(i),a=new AuthEventManager(i);return s.register("authEvent",et=>(_assert(et==null?void 0:et.authEvent,i,"invalid-auth-event"),{status:a.onEvent(et.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[i._key()]={manager:a},this.iframes[i._key()]=s,a}_isIframeWebStorageSupported(i,s){this.iframes[i._key()].send(WEB_STORAGE_SUPPORT_KEY,{type:WEB_STORAGE_SUPPORT_KEY},et=>{var tt;const rt=(tt=et==null?void 0:et[0])===null||tt===void 0?void 0:tt[WEB_STORAGE_SUPPORT_KEY];rt!==void 0&&s(!!rt),_fail(i,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(i){const s=i._key();return this.originValidationPromises[s]||(this.originValidationPromises[s]=_validateOrigin(i)),this.originValidationPromises[s]}get _shouldInitProactively(){return _isMobileBrowser()||_isSafari()||_isIOS()}}const browserPopupRedirectResolver=BrowserPopupRedirectResolver;var name$3="@firebase/auth",version$3="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AuthInterop{constructor(i){this.auth=i,this.internalListeners=new Map}getUid(){var i;return this.assertAuthConfigured(),((i=this.auth.currentUser)===null||i===void 0?void 0:i.uid)||null}async getToken(i){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(i)}:null}addAuthTokenListener(i){if(this.assertAuthConfigured(),this.internalListeners.has(i))return;const s=this.auth.onIdTokenChanged(a=>{i((a==null?void 0:a.stsTokenManager.accessToken)||null)});this.internalListeners.set(i,s),this.updateProactiveRefresh()}removeAuthTokenListener(i){this.assertAuthConfigured();const s=this.internalListeners.get(i);s&&(this.internalListeners.delete(i),s(),this.updateProactiveRefresh())}assertAuthConfigured(){_assert(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getVersionForPlatform(o){switch(o){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function registerAuth(o){_registerComponent(new Component("auth",(i,{options:s})=>{const a=i.getProvider("app").getImmediate(),et=i.getProvider("heartbeat"),tt=i.getProvider("app-check-internal"),{apiKey:rt,authDomain:nt}=a.options;_assert(rt&&!rt.includes(":"),"invalid-api-key",{appName:a.name});const it={apiKey:rt,authDomain:nt,clientPlatform:o,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:_getClientVersion(o)},ot=new AuthImpl(a,et,tt,it);return _initializeAuthInstance(ot,s),ot},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((i,s,a)=>{i.getProvider("auth-internal").initialize()})),_registerComponent(new Component("auth-internal",i=>{const s=_castAuth(i.getProvider("auth").getImmediate());return(a=>new AuthInterop(a))(s)},"PRIVATE").setInstantiationMode("EXPLICIT")),registerVersion(name$3,version$3,getVersionForPlatform(o)),registerVersion(name$3,version$3,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_ID_TOKEN_MAX_AGE=5*60,authIdTokenMaxAge=getExperimentalSetting("authIdTokenMaxAge")||DEFAULT_ID_TOKEN_MAX_AGE;let lastPostedIdToken=null;const mintCookieFactory=o=>async i=>{const s=i&&await i.getIdTokenResult(),a=s&&(new Date().getTime()-Date.parse(s.issuedAtTime))/1e3;if(a&&a>authIdTokenMaxAge)return;const et=s==null?void 0:s.token;lastPostedIdToken!==et&&(lastPostedIdToken=et,await fetch(o,{method:et?"POST":"DELETE",headers:et?{Authorization:`Bearer ${et}`}:{}}))};function getAuth(o=getApp()){const i=_getProvider(o,"auth");if(i.isInitialized())return i.getImmediate();const s=initializeAuth(o,{popupRedirectResolver:browserPopupRedirectResolver,persistence:[indexedDBLocalPersistence,browserLocalPersistence,browserSessionPersistence]}),a=getExperimentalSetting("authTokenSyncURL");if(a){const tt=mintCookieFactory(a);beforeAuthStateChanged(s,tt,()=>tt(s.currentUser)),onIdTokenChanged(s,rt=>tt(rt))}const et=getDefaultEmulatorHost("auth");return et&&connectAuthEmulator(s,`http://${et}`),s}function getScriptParentElement(){var o,i;return(i=(o=document.getElementsByTagName("head"))===null||o===void 0?void 0:o[0])!==null&&i!==void 0?i:document}_setExternalJSProvider({loadJS(o){return new Promise((i,s)=>{const a=document.createElement("script");a.setAttribute("src",o),a.onload=i,a.onerror=et=>{const tt=_createError("internal-error");tt.customData=et,s(tt)},a.type="text/javascript",a.charset="UTF-8",getScriptParentElement().appendChild(a)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});registerAuth("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirebaseAppImpl{constructor(i,s){this._delegate=i,this.firebase=s,_addComponent(i,new Component("app-compat",()=>this,"PUBLIC")),this.container=i.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(i){this._delegate.automaticDataCollectionEnabled=i}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(i=>{this._delegate.checkDestroyed(),i()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),deleteApp(this._delegate)))}_getService(i,s=DEFAULT_ENTRY_NAME){var a;this._delegate.checkDestroyed();const et=this._delegate.container.getProvider(i);return!et.isInitialized()&&((a=et.getComponent())===null||a===void 0?void 0:a.instantiationMode)==="EXPLICIT"&&et.initialize(),et.getImmediate({identifier:s})}_removeServiceInstance(i,s=DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(i).clearInstance(s)}_addComponent(i){_addComponent(this._delegate,i)}_addOrOverwriteComponent(i){_addOrOverwriteComponent(this._delegate,i)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ERRORS={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},ERROR_FACTORY=new ErrorFactory("app-compat","Firebase",ERRORS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespaceCore(o){const i={},s={__esModule:!0,initializeApp:tt,app:et,registerVersion,setLogLevel:setLogLevel$2,onLog,apps:null,SDK_VERSION,INTERNAL:{registerComponent:nt,removeApp:a,useAsService:it,modularAPIs}};s.default=s,Object.defineProperty(s,"apps",{get:rt});function a(ot){delete i[ot]}function et(ot){if(ot=ot||DEFAULT_ENTRY_NAME,!contains$2(i,ot))throw ERROR_FACTORY.create("no-app",{appName:ot});return i[ot]}et.App=o;function tt(ot,st={}){const lt=initializeApp(ot,st);if(contains$2(i,lt.name))return i[lt.name];const at=new o(lt,s);return i[lt.name]=at,at}function rt(){return Object.keys(i).map(ot=>i[ot])}function nt(ot){const st=ot.name,lt=st.replace("-compat","");if(_registerComponent(ot)&&ot.type==="PUBLIC"){const at=(ut=et())=>{if(typeof ut[lt]!="function")throw ERROR_FACTORY.create("invalid-app-argument",{appName:st});return ut[lt]()};ot.serviceProps!==void 0&&deepExtend(at,ot.serviceProps),s[lt]=at,o.prototype[lt]=function(...ut){return this._getService.bind(this,st).apply(this,ot.multipleInstances?ut:[])}}return ot.type==="PUBLIC"?s[lt]:null}function it(ot,st){return st==="serverAuth"?null:st}return s}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function createFirebaseNamespace(){const o=createFirebaseNamespaceCore(FirebaseAppImpl);o.INTERNAL=Object.assign(Object.assign({},o.INTERNAL),{createFirebaseNamespace,extendNamespace:i,createSubscribe,ErrorFactory,deepExtend});function i(s){deepExtend(o,s)}return o}const firebase$1=createFirebaseNamespace();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const logger$1=new Logger("@firebase/app-compat"),name$2="@firebase/app-compat",version$2="0.2.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerCoreComponents(o){registerVersion(name$2,version$2,o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(isBrowser$1()&&self.firebase!==void 0){logger$1.warn(`
    Warning: Firebase is already defined in the global scope. Please make sure
    Firebase library is only loaded once.
  `);const o=self.firebase.SDK_VERSION;o&&o.indexOf("LITE")>=0&&logger$1.warn(`
    Warning: You are trying to load Firebase while using Firebase Performance standalone script.
    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
    `)}const firebase=firebase$1;registerCoreComponents();var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k$3,goog=goog||{},l$2=commonjsGlobal||self;function aa(o){var i=typeof o;return i=i!="object"?i:o?Array.isArray(o)?"array":i:"null",i=="array"||i=="object"&&typeof o.length=="number"}function p$2(o){var i=typeof o;return i=="object"&&o!=null||i=="function"}function ba(o){return Object.prototype.hasOwnProperty.call(o,ca)&&o[ca]||(o[ca]=++da)}var ca="closure_uid_"+(1e9*Math.random()>>>0),da=0;function ea(o,i,s){return o.call.apply(o.bind,arguments)}function fa(o,i,s){if(!o)throw Error();if(2<arguments.length){var a=Array.prototype.slice.call(arguments,2);return function(){var et=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(et,a),o.apply(i,et)}}return function(){return o.apply(i,arguments)}}function q$3(o,i,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?q$3=ea:q$3=fa,q$3.apply(null,arguments)}function ha(o,i){var s=Array.prototype.slice.call(arguments,1);return function(){var a=s.slice();return a.push.apply(a,arguments),o.apply(this,a)}}function r$2(o,i){function s(){}s.prototype=i.prototype,o.$=i.prototype,o.prototype=new s,o.prototype.constructor=o,o.ac=function(a,et,tt){for(var rt=Array(arguments.length-2),nt=2;nt<arguments.length;nt++)rt[nt-2]=arguments[nt];return i.prototype[et].apply(a,rt)}}function v$4(){this.s=this.s,this.o=this.o}var ia=0;v$4.prototype.s=!1;v$4.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),ia!=0)&&ba(this)};v$4.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const ka=Array.prototype.indexOf?function(o,i){return Array.prototype.indexOf.call(o,i,void 0)}:function(o,i){if(typeof o=="string")return typeof i!="string"||i.length!=1?-1:o.indexOf(i,0);for(let s=0;s<o.length;s++)if(s in o&&o[s]===i)return s;return-1};function ma(o){const i=o.length;if(0<i){const s=Array(i);for(let a=0;a<i;a++)s[a]=o[a];return s}return[]}function na(o,i){for(let s=1;s<arguments.length;s++){const a=arguments[s];if(aa(a)){const et=o.length||0,tt=a.length||0;o.length=et+tt;for(let rt=0;rt<tt;rt++)o[et+rt]=a[rt]}else o.push(a)}}function w$3(o,i){this.type=o,this.g=this.target=i,this.defaultPrevented=!1}w$3.prototype.h=function(){this.defaultPrevented=!0};var oa=function(){if(!l$2.addEventListener||!Object.defineProperty)return!1;var o=!1,i=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const s=()=>{};l$2.addEventListener("test",s,i),l$2.removeEventListener("test",s,i)}catch{}return o}();function x$2(o){return/^[\s\xa0]*$/.test(o)}function pa(){var o=l$2.navigator;return o&&(o=o.userAgent)?o:""}function y$1(o){return pa().indexOf(o)!=-1}function qa(o){return qa[" "](o),o}qa[" "]=function(){};function ra(o,i){var s=sa;return Object.prototype.hasOwnProperty.call(s,o)?s[o]:s[o]=i(o)}var ta=y$1("Opera"),z$2=y$1("Trident")||y$1("MSIE"),ua=y$1("Edge"),va=ua||z$2,wa=y$1("Gecko")&&!(pa().toLowerCase().indexOf("webkit")!=-1&&!y$1("Edge"))&&!(y$1("Trident")||y$1("MSIE"))&&!y$1("Edge"),xa=pa().toLowerCase().indexOf("webkit")!=-1&&!y$1("Edge");function ya(){var o=l$2.document;return o?o.documentMode:void 0}var za;e:{var Aa="",Ba=function(){var o=pa();if(wa)return/rv:([^\);]+)(\)|;)/.exec(o);if(ua)return/Edge\/([\d\.]+)/.exec(o);if(z$2)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(o);if(xa)return/WebKit\/(\S+)/.exec(o);if(ta)return/(?:Version)[ \/]?(\S+)/.exec(o)}();if(Ba&&(Aa=Ba?Ba[1]:""),z$2){var Ca=ya();if(Ca!=null&&Ca>parseFloat(Aa)){za=String(Ca);break e}}za=Aa}var Da;if(l$2.document&&z$2){var Ea=ya();Da=Ea||parseInt(za,10)||void 0}else Da=void 0;var Fa=Da;function A$1(o,i){if(w$3.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var s=this.type=o.type,a=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=i,i=o.relatedTarget){if(wa){e:{try{qa(i.nodeName);var et=!0;break e}catch{}et=!1}et||(i=null)}}else s=="mouseover"?i=o.fromElement:s=="mouseout"&&(i=o.toElement);this.relatedTarget=i,a?(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Ga[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&A$1.$.h.call(this)}}r$2(A$1,w$3);var Ga={2:"touch",3:"pen",4:"mouse"};A$1.prototype.h=function(){A$1.$.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var Ha="closure_listenable_"+(1e6*Math.random()|0),Ia=0;function Ja(o,i,s,a,et){this.listener=o,this.proxy=null,this.src=i,this.type=s,this.capture=!!a,this.la=et,this.key=++Ia,this.fa=this.ia=!1}function Ma(o){o.fa=!0,o.listener=null,o.proxy=null,o.src=null,o.la=null}function Na(o,i,s){for(const a in o)i.call(s,o[a],a,o)}function Oa(o,i){for(const s in o)i.call(void 0,o[s],s,o)}function Pa(o){const i={};for(const s in o)i[s]=o[s];return i}const Qa="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ra(o,i){let s,a;for(let et=1;et<arguments.length;et++){a=arguments[et];for(s in a)o[s]=a[s];for(let tt=0;tt<Qa.length;tt++)s=Qa[tt],Object.prototype.hasOwnProperty.call(a,s)&&(o[s]=a[s])}}function Sa(o){this.src=o,this.g={},this.h=0}Sa.prototype.add=function(o,i,s,a,et){var tt=o.toString();o=this.g[tt],o||(o=this.g[tt]=[],this.h++);var rt=Ta(o,i,a,et);return-1<rt?(i=o[rt],s||(i.ia=!1)):(i=new Ja(i,this.src,tt,!!a,et),i.ia=s,o.push(i)),i};function Ua(o,i){var s=i.type;if(s in o.g){var a=o.g[s],et=ka(a,i),tt;(tt=0<=et)&&Array.prototype.splice.call(a,et,1),tt&&(Ma(i),o.g[s].length==0&&(delete o.g[s],o.h--))}}function Ta(o,i,s,a){for(var et=0;et<o.length;++et){var tt=o[et];if(!tt.fa&&tt.listener==i&&tt.capture==!!s&&tt.la==a)return et}return-1}var Va="closure_lm_"+(1e6*Math.random()|0),Wa={};function Ya(o,i,s,a,et){if(a&&a.once)return Za(o,i,s,a,et);if(Array.isArray(i)){for(var tt=0;tt<i.length;tt++)Ya(o,i[tt],s,a,et);return null}return s=$a(s),o&&o[Ha]?o.O(i,s,p$2(a)?!!a.capture:!!a,et):ab(o,i,s,!1,a,et)}function ab(o,i,s,a,et,tt){if(!i)throw Error("Invalid event type");var rt=p$2(et)?!!et.capture:!!et,nt=bb(o);if(nt||(o[Va]=nt=new Sa(o)),s=nt.add(i,s,a,rt,tt),s.proxy)return s;if(a=cb(),s.proxy=a,a.src=o,a.listener=s,o.addEventListener)oa||(et=rt),et===void 0&&(et=!1),o.addEventListener(i.toString(),a,et);else if(o.attachEvent)o.attachEvent(db$1(i.toString()),a);else if(o.addListener&&o.removeListener)o.addListener(a);else throw Error("addEventListener and attachEvent are unavailable.");return s}function cb(){function o(s){return i.call(o.src,o.listener,s)}const i=eb;return o}function Za(o,i,s,a,et){if(Array.isArray(i)){for(var tt=0;tt<i.length;tt++)Za(o,i[tt],s,a,et);return null}return s=$a(s),o&&o[Ha]?o.P(i,s,p$2(a)?!!a.capture:!!a,et):ab(o,i,s,!0,a,et)}function fb(o,i,s,a,et){if(Array.isArray(i))for(var tt=0;tt<i.length;tt++)fb(o,i[tt],s,a,et);else a=p$2(a)?!!a.capture:!!a,s=$a(s),o&&o[Ha]?(o=o.i,i=String(i).toString(),i in o.g&&(tt=o.g[i],s=Ta(tt,s,a,et),-1<s&&(Ma(tt[s]),Array.prototype.splice.call(tt,s,1),tt.length==0&&(delete o.g[i],o.h--)))):o&&(o=bb(o))&&(i=o.g[i.toString()],o=-1,i&&(o=Ta(i,s,a,et)),(s=-1<o?i[o]:null)&&gb(s))}function gb(o){if(typeof o!="number"&&o&&!o.fa){var i=o.src;if(i&&i[Ha])Ua(i.i,o);else{var s=o.type,a=o.proxy;i.removeEventListener?i.removeEventListener(s,a,o.capture):i.detachEvent?i.detachEvent(db$1(s),a):i.addListener&&i.removeListener&&i.removeListener(a),(s=bb(i))?(Ua(s,o),s.h==0&&(s.src=null,i[Va]=null)):Ma(o)}}}function db$1(o){return o in Wa?Wa[o]:Wa[o]="on"+o}function eb(o,i){if(o.fa)o=!0;else{i=new A$1(i,this);var s=o.listener,a=o.la||o.src;o.ia&&gb(o),o=s.call(a,i)}return o}function bb(o){return o=o[Va],o instanceof Sa?o:null}var hb="__closure_events_fn_"+(1e9*Math.random()>>>0);function $a(o){return typeof o=="function"?o:(o[hb]||(o[hb]=function(i){return o.handleEvent(i)}),o[hb])}function B$1(){v$4.call(this),this.i=new Sa(this),this.S=this,this.J=null}r$2(B$1,v$4);B$1.prototype[Ha]=!0;B$1.prototype.removeEventListener=function(o,i,s,a){fb(this,o,i,s,a)};function C$1(o,i){var s,a=o.J;if(a)for(s=[];a;a=a.J)s.push(a);if(o=o.S,a=i.type||i,typeof i=="string")i=new w$3(i,o);else if(i instanceof w$3)i.target=i.target||o;else{var et=i;i=new w$3(a,o),Ra(i,et)}if(et=!0,s)for(var tt=s.length-1;0<=tt;tt--){var rt=i.g=s[tt];et=ib(rt,a,!0,i)&&et}if(rt=i.g=o,et=ib(rt,a,!0,i)&&et,et=ib(rt,a,!1,i)&&et,s)for(tt=0;tt<s.length;tt++)rt=i.g=s[tt],et=ib(rt,a,!1,i)&&et}B$1.prototype.N=function(){if(B$1.$.N.call(this),this.i){var o=this.i,i;for(i in o.g){for(var s=o.g[i],a=0;a<s.length;a++)Ma(s[a]);delete o.g[i],o.h--}}this.J=null};B$1.prototype.O=function(o,i,s,a){return this.i.add(String(o),i,!1,s,a)};B$1.prototype.P=function(o,i,s,a){return this.i.add(String(o),i,!0,s,a)};function ib(o,i,s,a){if(i=o.i.g[String(i)],!i)return!0;i=i.concat();for(var et=!0,tt=0;tt<i.length;++tt){var rt=i[tt];if(rt&&!rt.fa&&rt.capture==s){var nt=rt.listener,it=rt.la||rt.src;rt.ia&&Ua(o.i,rt),et=nt.call(it,a)!==!1&&et}}return et&&!a.defaultPrevented}var jb=l$2.JSON.stringify;class kb{constructor(i,s){this.i=i,this.j=s,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}function lb(){var o=mb;let i=null;return o.g&&(i=o.g,o.g=o.g.next,o.g||(o.h=null),i.next=null),i}class nb{constructor(){this.h=this.g=null}add(i,s){const a=ob.get();a.set(i,s),this.h?this.h.next=a:this.g=a,this.h=a}}var ob=new kb(()=>new pb,o=>o.reset());class pb{constructor(){this.next=this.g=this.h=null}set(i,s){this.h=i,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function qb(o){var i=1;o=o.split(":");const s=[];for(;0<i&&o.length;)s.push(o.shift()),i--;return o.length&&s.push(o.join(":")),s}function rb(o){l$2.setTimeout(()=>{throw o},0)}let sb,tb=!1,mb=new nb,vb=()=>{const o=l$2.Promise.resolve(void 0);sb=()=>{o.then(ub)}};var ub=()=>{for(var o;o=lb();){try{o.h.call(o.g)}catch(s){rb(s)}var i=ob;i.j(o),100>i.h&&(i.h++,o.next=i.g,i.g=o)}tb=!1};function wb(o,i){B$1.call(this),this.h=o||1,this.g=i||l$2,this.j=q$3(this.qb,this),this.l=Date.now()}r$2(wb,B$1);k$3=wb.prototype;k$3.ga=!1;k$3.T=null;k$3.qb=function(){if(this.ga){var o=Date.now()-this.l;0<o&&o<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-o):(this.T&&(this.g.clearTimeout(this.T),this.T=null),C$1(this,"tick"),this.ga&&(xb(this),this.start()))}};k$3.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function xb(o){o.ga=!1,o.T&&(o.g.clearTimeout(o.T),o.T=null)}k$3.N=function(){wb.$.N.call(this),xb(this),delete this.g};function yb(o,i,s){if(typeof o=="function")s&&(o=q$3(o,s));else if(o&&typeof o.handleEvent=="function")o=q$3(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(i)?-1:l$2.setTimeout(o,i||0)}function zb(o){o.g=yb(()=>{o.g=null,o.i&&(o.i=!1,zb(o))},o.j);const i=o.h;o.h=null,o.m.apply(null,i)}class Ab extends v$4{constructor(i,s){super(),this.m=i,this.j=s,this.h=null,this.i=!1,this.g=null}l(i){this.h=arguments,this.g?this.i=!0:zb(this)}N(){super.N(),this.g&&(l$2.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bb(o){v$4.call(this),this.h=o,this.g={}}r$2(Bb,v$4);var Cb=[];function Eb(o,i,s,a){Array.isArray(s)||(s&&(Cb[0]=s.toString()),s=Cb);for(var et=0;et<s.length;et++){var tt=Ya(i,s[et],a||o.handleEvent,!1,o.h||o);if(!tt)break;o.g[tt.key]=tt}}function Fb(o){Na(o.g,function(i,s){this.g.hasOwnProperty(s)&&gb(i)},o),o.g={}}Bb.prototype.N=function(){Bb.$.N.call(this),Fb(this)};Bb.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Gb(){this.g=!0}Gb.prototype.Ea=function(){this.g=!1};function Hb(o,i,s,a,et,tt){o.info(function(){if(o.g)if(tt)for(var rt="",nt=tt.split("&"),it=0;it<nt.length;it++){var ot=nt[it].split("=");if(1<ot.length){var st=ot[0];ot=ot[1];var lt=st.split("_");rt=2<=lt.length&&lt[1]=="type"?rt+(st+"="+ot+"&"):rt+(st+"=redacted&")}}else rt=null;else rt=tt;return"XMLHTTP REQ ("+a+") [attempt "+et+"]: "+i+`
`+s+`
`+rt})}function Ib(o,i,s,a,et,tt,rt){o.info(function(){return"XMLHTTP RESP ("+a+") [ attempt "+et+"]: "+i+`
`+s+`
`+tt+" "+rt})}function D$1(o,i,s,a){o.info(function(){return"XMLHTTP TEXT ("+i+"): "+Jb(o,s)+(a?" "+a:"")})}function Kb(o,i){o.info(function(){return"TIMEOUT: "+i})}Gb.prototype.info=function(){};function Jb(o,i){if(!o.g)return i;if(!i)return null;try{var s=JSON.parse(i);if(s){for(o=0;o<s.length;o++)if(Array.isArray(s[o])){var a=s[o];if(!(2>a.length)){var et=a[1];if(Array.isArray(et)&&!(1>et.length)){var tt=et[0];if(tt!="noop"&&tt!="stop"&&tt!="close")for(var rt=1;rt<et.length;rt++)et[rt]=""}}}}return jb(s)}catch{return i}}var E={},Lb=null;function Mb(){return Lb=Lb||new B$1}E.Ta="serverreachability";function Nb(o){w$3.call(this,E.Ta,o)}r$2(Nb,w$3);function Ob(o){const i=Mb();C$1(i,new Nb(i))}E.STAT_EVENT="statevent";function Pb(o,i){w$3.call(this,E.STAT_EVENT,o),this.stat=i}r$2(Pb,w$3);function F$1(o){const i=Mb();C$1(i,new Pb(i,o))}E.Ua="timingevent";function Qb(o,i){w$3.call(this,E.Ua,o),this.size=i}r$2(Qb,w$3);function Rb(o,i){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return l$2.setTimeout(function(){o()},i)}var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Tb={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Ub(){}Ub.prototype.h=null;function Vb(o){return o.h||(o.h=o.i())}function Wb(){}var Xb={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Yb(){w$3.call(this,"d")}r$2(Yb,w$3);function Zb(){w$3.call(this,"c")}r$2(Zb,w$3);var $b;function ac(){}r$2(ac,Ub);ac.prototype.g=function(){return new XMLHttpRequest};ac.prototype.i=function(){return{}};$b=new ac;function bc(o,i,s,a){this.l=o,this.j=i,this.m=s,this.W=a||1,this.U=new Bb(this),this.P=cc,o=va?125:void 0,this.V=new wb(o),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new dc}function dc(){this.i=null,this.g="",this.h=!1}var cc=45e3,ec={},fc={};k$3=bc.prototype;k$3.setTimeout=function(o){this.P=o};function gc(o,i,s){o.L=1,o.A=hc(G$1(i)),o.u=s,o.S=!0,ic(o,null)}function ic(o,i){o.G=Date.now(),jc(o),o.B=G$1(o.A);var s=o.B,a=o.W;Array.isArray(a)||(a=[String(a)]),kc(s.i,"t",a),o.o=0,s=o.l.J,o.h=new dc,o.g=lc(o.l,s?i:null,!o.u),0<o.O&&(o.M=new Ab(q$3(o.Pa,o,o.g),o.O)),Eb(o.U,o.g,"readystatechange",o.nb),i=o.I?Pa(o.I):{},o.u?(o.v||(o.v="POST"),i["Content-Type"]="application/x-www-form-urlencoded",o.g.ha(o.B,o.v,o.u,i)):(o.v="GET",o.g.ha(o.B,o.v,null,i)),Ob(),Hb(o.j,o.v,o.B,o.m,o.W,o.u)}k$3.nb=function(o){o=o.target;const i=this.M;i&&H$1(o)==3?i.l():this.Pa(o)};k$3.Pa=function(o){try{if(o==this.g)e:{const st=H$1(this.g);var i=this.g.Ia();const lt=this.g.da();if(!(3>st)&&(st!=3||va||this.g&&(this.h.h||this.g.ja()||mc(this.g)))){this.J||st!=4||i==7||(i==8||0>=lt?Ob(3):Ob(2)),nc(this);var s=this.g.da();this.ca=s;t:if(oc(this)){var a=mc(this.g);o="";var et=a.length,tt=H$1(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){I(this),pc(this);var rt="";break t}this.h.i=new l$2.TextDecoder}for(i=0;i<et;i++)this.h.h=!0,o+=this.h.i.decode(a[i],{stream:tt&&i==et-1});a.length=0,this.h.g+=o,this.o=0,rt=this.h.g}else rt=this.g.ja();if(this.i=s==200,Ib(this.j,this.v,this.B,this.m,this.W,st,s),this.i){if(this.aa&&!this.K){t:{if(this.g){var nt,it=this.g;if((nt=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x$2(nt)){var ot=nt;break t}}ot=null}if(s=ot)D$1(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,qc(this,s);else{this.i=!1,this.s=3,F$1(12),I(this),pc(this);break e}}this.S?(rc(this,st,rt),va&&this.i&&st==3&&(Eb(this.U,this.V,"tick",this.mb),this.V.start())):(D$1(this.j,this.m,rt,null),qc(this,rt)),st==4&&I(this),this.i&&!this.J&&(st==4?sc(this.l,this):(this.i=!1,jc(this)))}else tc(this.g),s==400&&0<rt.indexOf("Unknown SID")?(this.s=3,F$1(12)):(this.s=0,F$1(13)),I(this),pc(this)}}}catch{}finally{}};function oc(o){return o.g?o.v=="GET"&&o.L!=2&&o.l.Ha:!1}function rc(o,i,s){let a=!0,et;for(;!o.J&&o.o<s.length;)if(et=uc(o,s),et==fc){i==4&&(o.s=4,F$1(14),a=!1),D$1(o.j,o.m,null,"[Incomplete Response]");break}else if(et==ec){o.s=4,F$1(15),D$1(o.j,o.m,s,"[Invalid Chunk]"),a=!1;break}else D$1(o.j,o.m,et,null),qc(o,et);oc(o)&&o.o!=0&&(o.h.g=o.h.g.slice(o.o),o.o=0),i!=4||s.length!=0||o.h.h||(o.s=1,F$1(16),a=!1),o.i=o.i&&a,a?0<s.length&&!o.ba&&(o.ba=!0,i=o.l,i.g==o&&i.ca&&!i.M&&(i.l.info("Great, no buffering proxy detected. Bytes received: "+s.length),vc(i),i.M=!0,F$1(11))):(D$1(o.j,o.m,s,"[Invalid Chunked Response]"),I(o),pc(o))}k$3.mb=function(){if(this.g){var o=H$1(this.g),i=this.g.ja();this.o<i.length&&(nc(this),rc(this,o,i),this.i&&o!=4&&jc(this))}};function uc(o,i){var s=o.o,a=i.indexOf(`
`,s);return a==-1?fc:(s=Number(i.substring(s,a)),isNaN(s)?ec:(a+=1,a+s>i.length?fc:(i=i.slice(a,a+s),o.o=a+s,i)))}k$3.cancel=function(){this.J=!0,I(this)};function jc(o){o.Y=Date.now()+o.P,wc(o,o.P)}function wc(o,i){if(o.C!=null)throw Error("WatchDog timer not null");o.C=Rb(q$3(o.lb,o),i)}function nc(o){o.C&&(l$2.clearTimeout(o.C),o.C=null)}k$3.lb=function(){this.C=null;const o=Date.now();0<=o-this.Y?(Kb(this.j,this.B),this.L!=2&&(Ob(),F$1(17)),I(this),this.s=2,pc(this)):wc(this,this.Y-o)};function pc(o){o.l.H==0||o.J||sc(o.l,o)}function I(o){nc(o);var i=o.M;i&&typeof i.sa=="function"&&i.sa(),o.M=null,xb(o.V),Fb(o.U),o.g&&(i=o.g,o.g=null,i.abort(),i.sa())}function qc(o,i){try{var s=o.l;if(s.H!=0&&(s.g==o||xc(s.i,o))){if(!o.K&&xc(s.i,o)&&s.H==3){try{var a=s.Ja.g.parse(i)}catch{a=null}if(Array.isArray(a)&&a.length==3){var et=a;if(et[0]==0){e:if(!s.u){if(s.g)if(s.g.G+3e3<o.G)yc(s),zc(s);else break e;Ac(s),F$1(18)}}else s.Fa=et[1],0<s.Fa-s.V&&37500>et[2]&&s.G&&s.A==0&&!s.v&&(s.v=Rb(q$3(s.ib,s),6e3));if(1>=Bc(s.i)&&s.oa){try{s.oa()}catch{}s.oa=void 0}}else J$1(s,11)}else if((o.K||s.g==o)&&yc(s),!x$2(i))for(et=s.Ja.g.parse(i),i=0;i<et.length;i++){let ot=et[i];if(s.V=ot[0],ot=ot[1],s.H==2)if(ot[0]=="c"){s.K=ot[1],s.pa=ot[2];const st=ot[3];st!=null&&(s.ra=st,s.l.info("VER="+s.ra));const lt=ot[4];lt!=null&&(s.Ga=lt,s.l.info("SVER="+s.Ga));const at=ot[5];at!=null&&typeof at=="number"&&0<at&&(a=1.5*at,s.L=a,s.l.info("backChannelRequestTimeoutMs_="+a)),a=s;const ut=o.g;if(ut){const ft=ut.g?ut.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ft){var tt=a.i;tt.g||ft.indexOf("spdy")==-1&&ft.indexOf("quic")==-1&&ft.indexOf("h2")==-1||(tt.j=tt.l,tt.g=new Set,tt.h&&(Cc(tt,tt.h),tt.h=null))}if(a.F){const mt=ut.g?ut.g.getResponseHeader("X-HTTP-Session-Id"):null;mt&&(a.Da=mt,K$1(a.I,a.F,mt))}}s.H=3,s.h&&s.h.Ba(),s.ca&&(s.S=Date.now()-o.G,s.l.info("Handshake RTT: "+s.S+"ms")),a=s;var rt=o;if(a.wa=Dc(a,a.J?a.pa:null,a.Y),rt.K){Ec(a.i,rt);var nt=rt,it=a.L;it&&nt.setTimeout(it),nt.C&&(nc(nt),jc(nt)),a.g=rt}else Fc(a);0<s.j.length&&Gc(s)}else ot[0]!="stop"&&ot[0]!="close"||J$1(s,7);else s.H==3&&(ot[0]=="stop"||ot[0]=="close"?ot[0]=="stop"?J$1(s,7):Hc(s):ot[0]!="noop"&&s.h&&s.h.Aa(ot),s.A=0)}}Ob(4)}catch{}}function Ic(o){if(o.Z&&typeof o.Z=="function")return o.Z();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(aa(o)){for(var i=[],s=o.length,a=0;a<s;a++)i.push(o[a]);return i}i=[],s=0;for(a in o)i[s++]=o[a];return i}function Jc(o){if(o.ta&&typeof o.ta=="function")return o.ta();if(!o.Z||typeof o.Z!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(aa(o)||typeof o=="string"){var i=[];o=o.length;for(var s=0;s<o;s++)i.push(s);return i}i=[],s=0;for(const a in o)i[s++]=a;return i}}}function Kc(o,i){if(o.forEach&&typeof o.forEach=="function")o.forEach(i,void 0);else if(aa(o)||typeof o=="string")Array.prototype.forEach.call(o,i,void 0);else for(var s=Jc(o),a=Ic(o),et=a.length,tt=0;tt<et;tt++)i.call(void 0,a[tt],s&&s[tt],o)}var Lc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Mc(o,i){if(o){o=o.split("&");for(var s=0;s<o.length;s++){var a=o[s].indexOf("="),et=null;if(0<=a){var tt=o[s].substring(0,a);et=o[s].substring(a+1)}else tt=o[s];i(tt,et?decodeURIComponent(et.replace(/\+/g," ")):"")}}}function M$1(o){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,o instanceof M$1){this.h=o.h,Nc(this,o.j),this.s=o.s,this.g=o.g,Oc(this,o.m),this.l=o.l;var i=o.i,s=new Pc;s.i=i.i,i.g&&(s.g=new Map(i.g),s.h=i.h),Qc(this,s),this.o=o.o}else o&&(i=String(o).match(Lc))?(this.h=!1,Nc(this,i[1]||"",!0),this.s=Rc(i[2]||""),this.g=Rc(i[3]||"",!0),Oc(this,i[4]),this.l=Rc(i[5]||"",!0),Qc(this,i[6]||"",!0),this.o=Rc(i[7]||"")):(this.h=!1,this.i=new Pc(null,this.h))}M$1.prototype.toString=function(){var o=[],i=this.j;i&&o.push(Sc(i,Tc,!0),":");var s=this.g;return(s||i=="file")&&(o.push("//"),(i=this.s)&&o.push(Sc(i,Tc,!0),"@"),o.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s=this.m,s!=null&&o.push(":",String(s))),(s=this.l)&&(this.g&&s.charAt(0)!="/"&&o.push("/"),o.push(Sc(s,s.charAt(0)=="/"?Uc:Vc,!0))),(s=this.i.toString())&&o.push("?",s),(s=this.o)&&o.push("#",Sc(s,Wc)),o.join("")};function G$1(o){return new M$1(o)}function Nc(o,i,s){o.j=s?Rc(i,!0):i,o.j&&(o.j=o.j.replace(/:$/,""))}function Oc(o,i){if(i){if(i=Number(i),isNaN(i)||0>i)throw Error("Bad port number "+i);o.m=i}else o.m=null}function Qc(o,i,s){i instanceof Pc?(o.i=i,Xc(o.i,o.h)):(s||(i=Sc(i,Yc)),o.i=new Pc(i,o.h))}function K$1(o,i,s){o.i.set(i,s)}function hc(o){return K$1(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function Rc(o,i){return o?i?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Sc(o,i,s){return typeof o=="string"?(o=encodeURI(o).replace(i,Zc),s&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Zc(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Tc=/[#\/\?@]/g,Vc=/[#\?:]/g,Uc=/[#\?]/g,Yc=/[#\?@]/g,Wc=/#/g;function Pc(o,i){this.h=this.g=null,this.i=o||null,this.j=!!i}function N$1(o){o.g||(o.g=new Map,o.h=0,o.i&&Mc(o.i,function(i,s){o.add(decodeURIComponent(i.replace(/\+/g," ")),s)}))}k$3=Pc.prototype;k$3.add=function(o,i){N$1(this),this.i=null,o=O$1(this,o);var s=this.g.get(o);return s||this.g.set(o,s=[]),s.push(i),this.h+=1,this};function $c(o,i){N$1(o),i=O$1(o,i),o.g.has(i)&&(o.i=null,o.h-=o.g.get(i).length,o.g.delete(i))}function ad(o,i){return N$1(o),i=O$1(o,i),o.g.has(i)}k$3.forEach=function(o,i){N$1(this),this.g.forEach(function(s,a){s.forEach(function(et){o.call(i,et,a,this)},this)},this)};k$3.ta=function(){N$1(this);const o=Array.from(this.g.values()),i=Array.from(this.g.keys()),s=[];for(let a=0;a<i.length;a++){const et=o[a];for(let tt=0;tt<et.length;tt++)s.push(i[a])}return s};k$3.Z=function(o){N$1(this);let i=[];if(typeof o=="string")ad(this,o)&&(i=i.concat(this.g.get(O$1(this,o))));else{o=Array.from(this.g.values());for(let s=0;s<o.length;s++)i=i.concat(o[s])}return i};k$3.set=function(o,i){return N$1(this),this.i=null,o=O$1(this,o),ad(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[i]),this.h+=1,this};k$3.get=function(o,i){return o?(o=this.Z(o),0<o.length?String(o[0]):i):i};function kc(o,i,s){$c(o,i),0<s.length&&(o.i=null,o.g.set(O$1(o,i),ma(s)),o.h+=s.length)}k$3.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],i=Array.from(this.g.keys());for(var s=0;s<i.length;s++){var a=i[s];const tt=encodeURIComponent(String(a)),rt=this.Z(a);for(a=0;a<rt.length;a++){var et=tt;rt[a]!==""&&(et+="="+encodeURIComponent(String(rt[a]))),o.push(et)}}return this.i=o.join("&")};function O$1(o,i){return i=String(i),o.j&&(i=i.toLowerCase()),i}function Xc(o,i){i&&!o.j&&(N$1(o),o.i=null,o.g.forEach(function(s,a){var et=a.toLowerCase();a!=et&&($c(this,a),kc(this,et,s))},o)),o.j=i}var bd=class{constructor(o,i){this.g=o,this.map=i}};function cd(o){this.l=o||dd,l$2.PerformanceNavigationTiming?(o=l$2.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(l$2.g&&l$2.g.Ka&&l$2.g.Ka()&&l$2.g.Ka().dc),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var dd=10;function ed(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function Bc(o){return o.h?1:o.g?o.g.size:0}function xc(o,i){return o.h?o.h==i:o.g?o.g.has(i):!1}function Cc(o,i){o.g?o.g.add(i):o.h=i}function Ec(o,i){o.h&&o.h==i?o.h=null:o.g&&o.g.has(i)&&o.g.delete(i)}cd.prototype.cancel=function(){if(this.i=fd(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function fd(o){if(o.h!=null)return o.i.concat(o.h.F);if(o.g!=null&&o.g.size!==0){let i=o.i;for(const s of o.g.values())i=i.concat(s.F);return i}return ma(o.i)}var gd=class{stringify(o){return l$2.JSON.stringify(o,void 0)}parse(o){return l$2.JSON.parse(o,void 0)}};function hd(){this.g=new gd}function id(o,i,s){const a=s||"";try{Kc(o,function(et,tt){let rt=et;p$2(et)&&(rt=jb(et)),i.push(a+tt+"="+encodeURIComponent(rt))})}catch(et){throw i.push(a+"type="+encodeURIComponent("_badmap")),et}}function jd(o,i){const s=new Gb;if(l$2.Image){const a=new Image;a.onload=ha(kd,s,a,"TestLoadImage: loaded",!0,i),a.onerror=ha(kd,s,a,"TestLoadImage: error",!1,i),a.onabort=ha(kd,s,a,"TestLoadImage: abort",!1,i),a.ontimeout=ha(kd,s,a,"TestLoadImage: timeout",!1,i),l$2.setTimeout(function(){a.ontimeout&&a.ontimeout()},1e4),a.src=o}else i(!1)}function kd(o,i,s,a,et){try{i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null,et(a)}catch{}}function ld(o){this.l=o.ec||null,this.j=o.ob||!1}r$2(ld,Ub);ld.prototype.g=function(){return new md(this.l,this.j)};ld.prototype.i=function(o){return function(){return o}}({});function md(o,i){B$1.call(this),this.F=o,this.u=i,this.m=void 0,this.readyState=nd,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}r$2(md,B$1);var nd=0;k$3=md.prototype;k$3.open=function(o,i){if(this.readyState!=nd)throw this.abort(),Error("Error reopening a connection");this.C=o,this.B=i,this.readyState=1,od(this)};k$3.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const i={headers:this.v,method:this.C,credentials:this.m,cache:void 0};o&&(i.body=o),(this.F||l$2).fetch(new Request(this.B,i)).then(this.$a.bind(this),this.ka.bind(this))};k$3.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,pd(this)),this.readyState=nd};k$3.$a=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,od(this)),this.g&&(this.readyState=3,od(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof l$2.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;qd(this)}else o.text().then(this.Za.bind(this),this.ka.bind(this))};function qd(o){o.j.read().then(o.Xa.bind(o)).catch(o.ka.bind(o))}k$3.Xa=function(o){if(this.g){if(this.u&&o.value)this.response.push(o.value);else if(!this.u){var i=o.value?o.value:new Uint8Array(0);(i=this.A.decode(i,{stream:!o.done}))&&(this.response=this.responseText+=i)}o.done?pd(this):od(this),this.readyState==3&&qd(this)}};k$3.Za=function(o){this.g&&(this.response=this.responseText=o,pd(this))};k$3.Ya=function(o){this.g&&(this.response=o,pd(this))};k$3.ka=function(){this.g&&pd(this)};function pd(o){o.readyState=4,o.l=null,o.j=null,o.A=null,od(o)}k$3.setRequestHeader=function(o,i){this.v.append(o,i)};k$3.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""};k$3.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],i=this.h.entries();for(var s=i.next();!s.done;)s=s.value,o.push(s[0]+": "+s[1]),s=i.next();return o.join(`\r
`)};function od(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});var rd=l$2.JSON.parse;function P(o){B$1.call(this),this.headers=new Map,this.u=o||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=sd,this.L=this.M=!1}r$2(P,B$1);var sd="",td=/^https?$/i,ud=["POST","PUT"];k$3=P.prototype;k$3.Oa=function(o){this.M=o};k$3.ha=function(o,i,s,a){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+o);i=i?i.toUpperCase():"GET",this.I=o,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():$b.g(),this.C=this.u?Vb(this.u):Vb($b),this.g.onreadystatechange=q$3(this.La,this);try{this.G=!0,this.g.open(i,String(o),!0),this.G=!1}catch(tt){vd(this,tt);return}if(o=s||"",s=new Map(this.headers),a)if(Object.getPrototypeOf(a)===Object.prototype)for(var et in a)s.set(et,a[et]);else if(typeof a.keys=="function"&&typeof a.get=="function")for(const tt of a.keys())s.set(tt,a.get(tt));else throw Error("Unknown input type for opt_headers: "+String(a));a=Array.from(s.keys()).find(tt=>tt.toLowerCase()=="content-type"),et=l$2.FormData&&o instanceof l$2.FormData,!(0<=ka(ud,i))||a||et||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[tt,rt]of s)this.g.setRequestHeader(tt,rt);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{wd(this),0<this.B&&((this.L=xd(this.g))?(this.g.timeout=this.B,this.g.ontimeout=q$3(this.ua,this)):this.A=yb(this.ua,this.B,this)),this.v=!0,this.g.send(o),this.v=!1}catch(tt){vd(this,tt)}};function xd(o){return z$2&&typeof o.timeout=="number"&&o.ontimeout!==void 0}k$3.ua=function(){typeof goog<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,C$1(this,"timeout"),this.abort(8))};function vd(o,i){o.h=!1,o.g&&(o.l=!0,o.g.abort(),o.l=!1),o.j=i,o.m=5,yd(o),zd(o)}function yd(o){o.F||(o.F=!0,C$1(o,"complete"),C$1(o,"error"))}k$3.abort=function(o){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=o||7,C$1(this,"complete"),C$1(this,"abort"),zd(this))};k$3.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),P.$.N.call(this)};k$3.La=function(){this.s||(this.G||this.v||this.l?Ad(this):this.kb())};k$3.kb=function(){Ad(this)};function Ad(o){if(o.h&&typeof goog<"u"&&(!o.C[1]||H$1(o)!=4||o.da()!=2)){if(o.v&&H$1(o)==4)yb(o.La,0,o);else if(C$1(o,"readystatechange"),H$1(o)==4){o.h=!1;try{const rt=o.da();e:switch(rt){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var i=!0;break e;default:i=!1}var s;if(!(s=i)){var a;if(a=rt===0){var et=String(o.I).match(Lc)[1]||null;!et&&l$2.self&&l$2.self.location&&(et=l$2.self.location.protocol.slice(0,-1)),a=!td.test(et?et.toLowerCase():"")}s=a}if(s)C$1(o,"complete"),C$1(o,"success");else{o.m=6;try{var tt=2<H$1(o)?o.g.statusText:""}catch{tt=""}o.j=tt+" ["+o.da()+"]",yd(o)}}finally{zd(o)}}}}function zd(o,i){if(o.g){wd(o);const s=o.g,a=o.C[0]?()=>{}:null;o.g=null,o.C=null,i||C$1(o,"ready");try{s.onreadystatechange=a}catch{}}}function wd(o){o.g&&o.L&&(o.g.ontimeout=null),o.A&&(l$2.clearTimeout(o.A),o.A=null)}k$3.isActive=function(){return!!this.g};function H$1(o){return o.g?o.g.readyState:0}k$3.da=function(){try{return 2<H$1(this)?this.g.status:-1}catch{return-1}};k$3.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k$3.Wa=function(o){if(this.g){var i=this.g.responseText;return o&&i.indexOf(o)==0&&(i=i.substring(o.length)),rd(i)}};function mc(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.K){case sd:case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function tc(o){const i={};o=(o.g&&2<=H$1(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let a=0;a<o.length;a++){if(x$2(o[a]))continue;var s=qb(o[a]);const et=s[0];if(s=s[1],typeof s!="string")continue;s=s.trim();const tt=i[et]||[];i[et]=tt,tt.push(s)}Oa(i,function(a){return a.join(", ")})}k$3.Ia=function(){return this.m};k$3.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function Bd(o){let i="";return Na(o,function(s,a){i+=a,i+=":",i+=s,i+=`\r
`}),i}function Cd(o,i,s){e:{for(a in s){var a=!1;break e}a=!0}a||(s=Bd(s),typeof o=="string"?s!=null&&encodeURIComponent(String(s)):K$1(o,i,s))}function Dd(o,i,s){return s&&s.internalChannelParams&&s.internalChannelParams[o]||i}function Ed(o){this.Ga=0,this.j=[],this.l=new Gb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Dd("failFast",!1,o),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Dd("baseRetryDelayMs",5e3,o),this.hb=Dd("retryDelaySeedMs",1e4,o),this.eb=Dd("forwardChannelMaxRetries",2,o),this.xa=Dd("forwardChannelRequestTimeoutMs",2e4,o),this.va=o&&o.xmlHttpFactory||void 0,this.Ha=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.i=new cd(o&&o.concurrentRequestLimit),this.Ja=new hd,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=o&&o.bc||!1,o&&o.Ea&&this.l.Ea(),o&&o.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&o&&o.detectBufferingProxy||!1,this.qa=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.qa=o.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k$3=Ed.prototype;k$3.ra=8;k$3.H=1;function Hc(o){if(Fd(o),o.H==3){var i=o.W++,s=G$1(o.I);if(K$1(s,"SID",o.K),K$1(s,"RID",i),K$1(s,"TYPE","terminate"),Gd(o,s),i=new bc(o,o.l,i),i.L=2,i.A=hc(G$1(s)),s=!1,l$2.navigator&&l$2.navigator.sendBeacon)try{s=l$2.navigator.sendBeacon(i.A.toString(),"")}catch{}!s&&l$2.Image&&(new Image().src=i.A,s=!0),s||(i.g=lc(i.l,null),i.g.ha(i.A)),i.G=Date.now(),jc(i)}Hd(o)}function zc(o){o.g&&(vc(o),o.g.cancel(),o.g=null)}function Fd(o){zc(o),o.u&&(l$2.clearTimeout(o.u),o.u=null),yc(o),o.i.cancel(),o.m&&(typeof o.m=="number"&&l$2.clearTimeout(o.m),o.m=null)}function Gc(o){if(!ed(o.i)&&!o.m){o.m=!0;var i=o.Na;sb||vb(),tb||(sb(),tb=!0),mb.add(i,o),o.C=0}}function Id(o,i){return Bc(o.i)>=o.i.j-(o.m?1:0)?!1:o.m?(o.j=i.F.concat(o.j),!0):o.H==1||o.H==2||o.C>=(o.cb?0:o.eb)?!1:(o.m=Rb(q$3(o.Na,o,i),Jd(o,o.C)),o.C++,!0)}k$3.Na=function(o){if(this.m)if(this.m=null,this.H==1){if(!o){this.W=Math.floor(1e5*Math.random()),o=this.W++;const et=new bc(this,this.l,o);let tt=this.s;if(this.U&&(tt?(tt=Pa(tt),Ra(tt,this.U)):tt=this.U),this.o!==null||this.O||(et.I=tt,tt=null),this.P)e:{for(var i=0,s=0;s<this.j.length;s++){t:{var a=this.j[s];if("__data__"in a.map&&(a=a.map.__data__,typeof a=="string")){a=a.length;break t}a=void 0}if(a===void 0)break;if(i+=a,4096<i){i=s;break e}if(i===4096||s===this.j.length-1){i=s+1;break e}}i=1e3}else i=1e3;i=Kd(this,et,i),s=G$1(this.I),K$1(s,"RID",o),K$1(s,"CVER",22),this.F&&K$1(s,"X-HTTP-Session-Id",this.F),Gd(this,s),tt&&(this.O?i="headers="+encodeURIComponent(String(Bd(tt)))+"&"+i:this.o&&Cd(s,this.o,tt)),Cc(this.i,et),this.bb&&K$1(s,"TYPE","init"),this.P?(K$1(s,"$req",i),K$1(s,"SID","null"),et.aa=!0,gc(et,s,null)):gc(et,s,i),this.H=2}}else this.H==3&&(o?Ld(this,o):this.j.length==0||ed(this.i)||Ld(this))};function Ld(o,i){var s;i?s=i.m:s=o.W++;const a=G$1(o.I);K$1(a,"SID",o.K),K$1(a,"RID",s),K$1(a,"AID",o.V),Gd(o,a),o.o&&o.s&&Cd(a,o.o,o.s),s=new bc(o,o.l,s,o.C+1),o.o===null&&(s.I=o.s),i&&(o.j=i.F.concat(o.j)),i=Kd(o,s,1e3),s.setTimeout(Math.round(.5*o.xa)+Math.round(.5*o.xa*Math.random())),Cc(o.i,s),gc(s,a,i)}function Gd(o,i){o.na&&Na(o.na,function(s,a){K$1(i,a,s)}),o.h&&Kc({},function(s,a){K$1(i,a,s)})}function Kd(o,i,s){s=Math.min(o.j.length,s);var a=o.h?q$3(o.h.Va,o.h,o):null;e:{var et=o.j;let tt=-1;for(;;){const rt=["count="+s];tt==-1?0<s?(tt=et[0].g,rt.push("ofs="+tt)):tt=0:rt.push("ofs="+tt);let nt=!0;for(let it=0;it<s;it++){let ot=et[it].g;const st=et[it].map;if(ot-=tt,0>ot)tt=Math.max(0,et[it].g-100),nt=!1;else try{id(st,rt,"req"+ot+"_")}catch{a&&a(st)}}if(nt){a=rt.join("&");break e}}}return o=o.j.splice(0,s),i.F=o,a}function Fc(o){if(!o.g&&!o.u){o.ba=1;var i=o.Ma;sb||vb(),tb||(sb(),tb=!0),mb.add(i,o),o.A=0}}function Ac(o){return o.g||o.u||3<=o.A?!1:(o.ba++,o.u=Rb(q$3(o.Ma,o),Jd(o,o.A)),o.A++,!0)}k$3.Ma=function(){if(this.u=null,Md(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var o=2*this.S;this.l.info("BP detection timer enabled: "+o),this.B=Rb(q$3(this.jb,this),o)}};k$3.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,F$1(10),zc(this),Md(this))};function vc(o){o.B!=null&&(l$2.clearTimeout(o.B),o.B=null)}function Md(o){o.g=new bc(o,o.l,"rpc",o.ba),o.o===null&&(o.g.I=o.s),o.g.O=0;var i=G$1(o.wa);K$1(i,"RID","rpc"),K$1(i,"SID",o.K),K$1(i,"AID",o.V),K$1(i,"CI",o.G?"0":"1"),!o.G&&o.qa&&K$1(i,"TO",o.qa),K$1(i,"TYPE","xmlhttp"),Gd(o,i),o.o&&o.s&&Cd(i,o.o,o.s),o.L&&o.g.setTimeout(o.L);var s=o.g;o=o.pa,s.L=1,s.A=hc(G$1(i)),s.u=null,s.S=!0,ic(s,o)}k$3.ib=function(){this.v!=null&&(this.v=null,zc(this),Ac(this),F$1(19))};function yc(o){o.v!=null&&(l$2.clearTimeout(o.v),o.v=null)}function sc(o,i){var s=null;if(o.g==i){yc(o),vc(o),o.g=null;var a=2}else if(xc(o.i,i))s=i.F,Ec(o.i,i),a=1;else return;if(o.H!=0){if(i.i)if(a==1){s=i.u?i.u.length:0,i=Date.now()-i.G;var et=o.C;a=Mb(),C$1(a,new Qb(a,s)),Gc(o)}else Fc(o);else if(et=i.s,et==3||et==0&&0<i.ca||!(a==1&&Id(o,i)||a==2&&Ac(o)))switch(s&&0<s.length&&(i=o.i,i.i=i.i.concat(s)),et){case 1:J$1(o,5);break;case 4:J$1(o,10);break;case 3:J$1(o,6);break;default:J$1(o,2)}}}function Jd(o,i){let s=o.ab+Math.floor(Math.random()*o.hb);return o.isActive()||(s*=2),s*i}function J$1(o,i){if(o.l.info("Error code "+i),i==2){var s=null;o.h&&(s=null);var a=q$3(o.pb,o);s||(s=new M$1("//www.google.com/images/cleardot.gif"),l$2.location&&l$2.location.protocol=="http"||Nc(s,"https"),hc(s)),jd(s.toString(),a)}else F$1(2);o.H=0,o.h&&o.h.za(i),Hd(o),Fd(o)}k$3.pb=function(o){o?(this.l.info("Successfully pinged google.com"),F$1(2)):(this.l.info("Failed to ping google.com"),F$1(1))};function Hd(o){if(o.H=0,o.ma=[],o.h){const i=fd(o.i);(i.length!=0||o.j.length!=0)&&(na(o.ma,i),na(o.ma,o.j),o.i.i.length=0,ma(o.j),o.j.length=0),o.h.ya()}}function Dc(o,i,s){var a=s instanceof M$1?G$1(s):new M$1(s);if(a.g!="")i&&(a.g=i+"."+a.g),Oc(a,a.m);else{var et=l$2.location;a=et.protocol,i=i?i+"."+et.hostname:et.hostname,et=+et.port;var tt=new M$1(null);a&&Nc(tt,a),i&&(tt.g=i),et&&Oc(tt,et),s&&(tt.l=s),a=tt}return s=o.F,i=o.Da,s&&i&&K$1(a,s,i),K$1(a,"VER",o.ra),Gd(o,a),a}function lc(o,i,s){if(i&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return i=o.Ha&&!o.va?new P(new ld({ob:s})):new P(o.va),i.Oa(o.J),i}k$3.isActive=function(){return!!this.h&&this.h.isActive(this)};function Nd(){}k$3=Nd.prototype;k$3.Ba=function(){};k$3.Aa=function(){};k$3.za=function(){};k$3.ya=function(){};k$3.isActive=function(){return!0};k$3.Va=function(){};function Od(){if(z$2&&!(10<=Number(Fa)))throw Error("Environmental error: no available transport.")}Od.prototype.g=function(o,i){return new Q$1(o,i)};function Q$1(o,i){B$1.call(this),this.g=new Ed(i),this.l=o,this.h=i&&i.messageUrlParams||null,o=i&&i.messageHeaders||null,i&&i.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.s=o,o=i&&i.initMessageHeaders||null,i&&i.messageContentType&&(o?o["X-WebChannel-Content-Type"]=i.messageContentType:o={"X-WebChannel-Content-Type":i.messageContentType}),i&&i.Ca&&(o?o["X-WebChannel-Client-Profile"]=i.Ca:o={"X-WebChannel-Client-Profile":i.Ca}),this.g.U=o,(o=i&&i.cc)&&!x$2(o)&&(this.g.o=o),this.A=i&&i.supportsCrossDomainXhr||!1,this.v=i&&i.sendRawJson||!1,(i=i&&i.httpSessionIdParam)&&!x$2(i)&&(this.g.F=i,o=this.h,o!==null&&i in o&&(o=this.h,i in o&&delete o[i])),this.j=new R(this)}r$2(Q$1,B$1);Q$1.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var o=this.g,i=this.l,s=this.h||void 0;F$1(0),o.Y=i,o.na=s||{},o.G=o.aa,o.I=Dc(o,null,o.Y),Gc(o)};Q$1.prototype.close=function(){Hc(this.g)};Q$1.prototype.u=function(o){var i=this.g;if(typeof o=="string"){var s={};s.__data__=o,o=s}else this.v&&(s={},s.__data__=jb(o),o=s);i.j.push(new bd(i.fb++,o)),i.H==3&&Gc(i)};Q$1.prototype.N=function(){this.g.h=null,delete this.j,Hc(this.g),delete this.g,Q$1.$.N.call(this)};function Pd(o){Yb.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var i=o.__sm__;if(i){e:{for(const s in i){o=s;break e}o=void 0}(this.i=o)&&(o=this.i,i=i!==null&&o in i?i[o]:void 0),this.data=i}else this.data=o}r$2(Pd,Yb);function Qd(){Zb.call(this),this.status=1}r$2(Qd,Zb);function R(o){this.g=o}r$2(R,Nd);R.prototype.Ba=function(){C$1(this.g,"a")};R.prototype.Aa=function(o){C$1(this.g,new Pd(o))};R.prototype.za=function(o){C$1(this.g,new Qd)};R.prototype.ya=function(){C$1(this.g,"b")};function Rd(){this.blockSize=-1}function S$1(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}r$2(S$1,Rd);S$1.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Sd(o,i,s){s||(s=0);var a=Array(16);if(typeof i=="string")for(var et=0;16>et;++et)a[et]=i.charCodeAt(s++)|i.charCodeAt(s++)<<8|i.charCodeAt(s++)<<16|i.charCodeAt(s++)<<24;else for(et=0;16>et;++et)a[et]=i[s++]|i[s++]<<8|i[s++]<<16|i[s++]<<24;i=o.g[0],s=o.g[1],et=o.g[2];var tt=o.g[3],rt=i+(tt^s&(et^tt))+a[0]+3614090360&4294967295;i=s+(rt<<7&4294967295|rt>>>25),rt=tt+(et^i&(s^et))+a[1]+3905402710&4294967295,tt=i+(rt<<12&4294967295|rt>>>20),rt=et+(s^tt&(i^s))+a[2]+606105819&4294967295,et=tt+(rt<<17&4294967295|rt>>>15),rt=s+(i^et&(tt^i))+a[3]+3250441966&4294967295,s=et+(rt<<22&4294967295|rt>>>10),rt=i+(tt^s&(et^tt))+a[4]+4118548399&4294967295,i=s+(rt<<7&4294967295|rt>>>25),rt=tt+(et^i&(s^et))+a[5]+1200080426&4294967295,tt=i+(rt<<12&4294967295|rt>>>20),rt=et+(s^tt&(i^s))+a[6]+2821735955&4294967295,et=tt+(rt<<17&4294967295|rt>>>15),rt=s+(i^et&(tt^i))+a[7]+4249261313&4294967295,s=et+(rt<<22&4294967295|rt>>>10),rt=i+(tt^s&(et^tt))+a[8]+1770035416&4294967295,i=s+(rt<<7&4294967295|rt>>>25),rt=tt+(et^i&(s^et))+a[9]+2336552879&4294967295,tt=i+(rt<<12&4294967295|rt>>>20),rt=et+(s^tt&(i^s))+a[10]+4294925233&4294967295,et=tt+(rt<<17&4294967295|rt>>>15),rt=s+(i^et&(tt^i))+a[11]+2304563134&4294967295,s=et+(rt<<22&4294967295|rt>>>10),rt=i+(tt^s&(et^tt))+a[12]+1804603682&4294967295,i=s+(rt<<7&4294967295|rt>>>25),rt=tt+(et^i&(s^et))+a[13]+4254626195&4294967295,tt=i+(rt<<12&4294967295|rt>>>20),rt=et+(s^tt&(i^s))+a[14]+2792965006&4294967295,et=tt+(rt<<17&4294967295|rt>>>15),rt=s+(i^et&(tt^i))+a[15]+1236535329&4294967295,s=et+(rt<<22&4294967295|rt>>>10),rt=i+(et^tt&(s^et))+a[1]+4129170786&4294967295,i=s+(rt<<5&4294967295|rt>>>27),rt=tt+(s^et&(i^s))+a[6]+3225465664&4294967295,tt=i+(rt<<9&4294967295|rt>>>23),rt=et+(i^s&(tt^i))+a[11]+643717713&4294967295,et=tt+(rt<<14&4294967295|rt>>>18),rt=s+(tt^i&(et^tt))+a[0]+3921069994&4294967295,s=et+(rt<<20&4294967295|rt>>>12),rt=i+(et^tt&(s^et))+a[5]+3593408605&4294967295,i=s+(rt<<5&4294967295|rt>>>27),rt=tt+(s^et&(i^s))+a[10]+38016083&4294967295,tt=i+(rt<<9&4294967295|rt>>>23),rt=et+(i^s&(tt^i))+a[15]+3634488961&4294967295,et=tt+(rt<<14&4294967295|rt>>>18),rt=s+(tt^i&(et^tt))+a[4]+3889429448&4294967295,s=et+(rt<<20&4294967295|rt>>>12),rt=i+(et^tt&(s^et))+a[9]+568446438&4294967295,i=s+(rt<<5&4294967295|rt>>>27),rt=tt+(s^et&(i^s))+a[14]+3275163606&4294967295,tt=i+(rt<<9&4294967295|rt>>>23),rt=et+(i^s&(tt^i))+a[3]+4107603335&4294967295,et=tt+(rt<<14&4294967295|rt>>>18),rt=s+(tt^i&(et^tt))+a[8]+1163531501&4294967295,s=et+(rt<<20&4294967295|rt>>>12),rt=i+(et^tt&(s^et))+a[13]+2850285829&4294967295,i=s+(rt<<5&4294967295|rt>>>27),rt=tt+(s^et&(i^s))+a[2]+4243563512&4294967295,tt=i+(rt<<9&4294967295|rt>>>23),rt=et+(i^s&(tt^i))+a[7]+1735328473&4294967295,et=tt+(rt<<14&4294967295|rt>>>18),rt=s+(tt^i&(et^tt))+a[12]+2368359562&4294967295,s=et+(rt<<20&4294967295|rt>>>12),rt=i+(s^et^tt)+a[5]+4294588738&4294967295,i=s+(rt<<4&4294967295|rt>>>28),rt=tt+(i^s^et)+a[8]+2272392833&4294967295,tt=i+(rt<<11&4294967295|rt>>>21),rt=et+(tt^i^s)+a[11]+1839030562&4294967295,et=tt+(rt<<16&4294967295|rt>>>16),rt=s+(et^tt^i)+a[14]+4259657740&4294967295,s=et+(rt<<23&4294967295|rt>>>9),rt=i+(s^et^tt)+a[1]+2763975236&4294967295,i=s+(rt<<4&4294967295|rt>>>28),rt=tt+(i^s^et)+a[4]+1272893353&4294967295,tt=i+(rt<<11&4294967295|rt>>>21),rt=et+(tt^i^s)+a[7]+4139469664&4294967295,et=tt+(rt<<16&4294967295|rt>>>16),rt=s+(et^tt^i)+a[10]+3200236656&4294967295,s=et+(rt<<23&4294967295|rt>>>9),rt=i+(s^et^tt)+a[13]+681279174&4294967295,i=s+(rt<<4&4294967295|rt>>>28),rt=tt+(i^s^et)+a[0]+3936430074&4294967295,tt=i+(rt<<11&4294967295|rt>>>21),rt=et+(tt^i^s)+a[3]+3572445317&4294967295,et=tt+(rt<<16&4294967295|rt>>>16),rt=s+(et^tt^i)+a[6]+76029189&4294967295,s=et+(rt<<23&4294967295|rt>>>9),rt=i+(s^et^tt)+a[9]+3654602809&4294967295,i=s+(rt<<4&4294967295|rt>>>28),rt=tt+(i^s^et)+a[12]+3873151461&4294967295,tt=i+(rt<<11&4294967295|rt>>>21),rt=et+(tt^i^s)+a[15]+530742520&4294967295,et=tt+(rt<<16&4294967295|rt>>>16),rt=s+(et^tt^i)+a[2]+3299628645&4294967295,s=et+(rt<<23&4294967295|rt>>>9),rt=i+(et^(s|~tt))+a[0]+4096336452&4294967295,i=s+(rt<<6&4294967295|rt>>>26),rt=tt+(s^(i|~et))+a[7]+1126891415&4294967295,tt=i+(rt<<10&4294967295|rt>>>22),rt=et+(i^(tt|~s))+a[14]+2878612391&4294967295,et=tt+(rt<<15&4294967295|rt>>>17),rt=s+(tt^(et|~i))+a[5]+4237533241&4294967295,s=et+(rt<<21&4294967295|rt>>>11),rt=i+(et^(s|~tt))+a[12]+1700485571&4294967295,i=s+(rt<<6&4294967295|rt>>>26),rt=tt+(s^(i|~et))+a[3]+2399980690&4294967295,tt=i+(rt<<10&4294967295|rt>>>22),rt=et+(i^(tt|~s))+a[10]+4293915773&4294967295,et=tt+(rt<<15&4294967295|rt>>>17),rt=s+(tt^(et|~i))+a[1]+2240044497&4294967295,s=et+(rt<<21&4294967295|rt>>>11),rt=i+(et^(s|~tt))+a[8]+1873313359&4294967295,i=s+(rt<<6&4294967295|rt>>>26),rt=tt+(s^(i|~et))+a[15]+4264355552&4294967295,tt=i+(rt<<10&4294967295|rt>>>22),rt=et+(i^(tt|~s))+a[6]+2734768916&4294967295,et=tt+(rt<<15&4294967295|rt>>>17),rt=s+(tt^(et|~i))+a[13]+1309151649&4294967295,s=et+(rt<<21&4294967295|rt>>>11),rt=i+(et^(s|~tt))+a[4]+4149444226&4294967295,i=s+(rt<<6&4294967295|rt>>>26),rt=tt+(s^(i|~et))+a[11]+3174756917&4294967295,tt=i+(rt<<10&4294967295|rt>>>22),rt=et+(i^(tt|~s))+a[2]+718787259&4294967295,et=tt+(rt<<15&4294967295|rt>>>17),rt=s+(tt^(et|~i))+a[9]+3951481745&4294967295,o.g[0]=o.g[0]+i&4294967295,o.g[1]=o.g[1]+(et+(rt<<21&4294967295|rt>>>11))&4294967295,o.g[2]=o.g[2]+et&4294967295,o.g[3]=o.g[3]+tt&4294967295}S$1.prototype.j=function(o,i){i===void 0&&(i=o.length);for(var s=i-this.blockSize,a=this.m,et=this.h,tt=0;tt<i;){if(et==0)for(;tt<=s;)Sd(this,o,tt),tt+=this.blockSize;if(typeof o=="string"){for(;tt<i;)if(a[et++]=o.charCodeAt(tt++),et==this.blockSize){Sd(this,a),et=0;break}}else for(;tt<i;)if(a[et++]=o[tt++],et==this.blockSize){Sd(this,a),et=0;break}}this.h=et,this.i+=i};S$1.prototype.l=function(){var o=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);o[0]=128;for(var i=1;i<o.length-8;++i)o[i]=0;var s=8*this.i;for(i=o.length-8;i<o.length;++i)o[i]=s&255,s/=256;for(this.j(o),o=Array(16),i=s=0;4>i;++i)for(var a=0;32>a;a+=8)o[s++]=this.g[i]>>>a&255;return o};function T(o,i){this.h=i;for(var s=[],a=!0,et=o.length-1;0<=et;et--){var tt=o[et]|0;a&&tt==i||(s[et]=tt,a=!1)}this.g=s}var sa={};function Td(o){return-128<=o&&128>o?ra(o,function(i){return new T([i|0],0>i?-1:0)}):new T([o|0],0>o?-1:0)}function U$1(o){if(isNaN(o)||!isFinite(o))return V;if(0>o)return W$1(U$1(-o));for(var i=[],s=1,a=0;o>=s;a++)i[a]=o/s|0,s*=Ud;return new T(i,0)}function Vd(o,i){if(o.length==0)throw Error("number format error: empty string");if(i=i||10,2>i||36<i)throw Error("radix out of range: "+i);if(o.charAt(0)=="-")return W$1(Vd(o.substring(1),i));if(0<=o.indexOf("-"))throw Error('number format error: interior "-" character');for(var s=U$1(Math.pow(i,8)),a=V,et=0;et<o.length;et+=8){var tt=Math.min(8,o.length-et),rt=parseInt(o.substring(et,et+tt),i);8>tt?(tt=U$1(Math.pow(i,tt)),a=a.R(tt).add(U$1(rt))):(a=a.R(s),a=a.add(U$1(rt)))}return a}var Ud=4294967296,V=Td(0),Wd=Td(1),Xd=Td(16777216);k$3=T.prototype;k$3.ea=function(){if(X$1(this))return-W$1(this).ea();for(var o=0,i=1,s=0;s<this.g.length;s++){var a=this.D(s);o+=(0<=a?a:Ud+a)*i,i*=Ud}return o};k$3.toString=function(o){if(o=o||10,2>o||36<o)throw Error("radix out of range: "+o);if(Y$1(this))return"0";if(X$1(this))return"-"+W$1(this).toString(o);for(var i=U$1(Math.pow(o,6)),s=this,a="";;){var et=Yd(s,i).g;s=Zd(s,et.R(i));var tt=((0<s.g.length?s.g[0]:s.h)>>>0).toString(o);if(s=et,Y$1(s))return tt+a;for(;6>tt.length;)tt="0"+tt;a=tt+a}};k$3.D=function(o){return 0>o?0:o<this.g.length?this.g[o]:this.h};function Y$1(o){if(o.h!=0)return!1;for(var i=0;i<o.g.length;i++)if(o.g[i]!=0)return!1;return!0}function X$1(o){return o.h==-1}k$3.X=function(o){return o=Zd(this,o),X$1(o)?-1:Y$1(o)?0:1};function W$1(o){for(var i=o.g.length,s=[],a=0;a<i;a++)s[a]=~o.g[a];return new T(s,~o.h).add(Wd)}k$3.abs=function(){return X$1(this)?W$1(this):this};k$3.add=function(o){for(var i=Math.max(this.g.length,o.g.length),s=[],a=0,et=0;et<=i;et++){var tt=a+(this.D(et)&65535)+(o.D(et)&65535),rt=(tt>>>16)+(this.D(et)>>>16)+(o.D(et)>>>16);a=rt>>>16,tt&=65535,rt&=65535,s[et]=rt<<16|tt}return new T(s,s[s.length-1]&-2147483648?-1:0)};function Zd(o,i){return o.add(W$1(i))}k$3.R=function(o){if(Y$1(this)||Y$1(o))return V;if(X$1(this))return X$1(o)?W$1(this).R(W$1(o)):W$1(W$1(this).R(o));if(X$1(o))return W$1(this.R(W$1(o)));if(0>this.X(Xd)&&0>o.X(Xd))return U$1(this.ea()*o.ea());for(var i=this.g.length+o.g.length,s=[],a=0;a<2*i;a++)s[a]=0;for(a=0;a<this.g.length;a++)for(var et=0;et<o.g.length;et++){var tt=this.D(a)>>>16,rt=this.D(a)&65535,nt=o.D(et)>>>16,it=o.D(et)&65535;s[2*a+2*et]+=rt*it,$d(s,2*a+2*et),s[2*a+2*et+1]+=tt*it,$d(s,2*a+2*et+1),s[2*a+2*et+1]+=rt*nt,$d(s,2*a+2*et+1),s[2*a+2*et+2]+=tt*nt,$d(s,2*a+2*et+2)}for(a=0;a<i;a++)s[a]=s[2*a+1]<<16|s[2*a];for(a=i;a<2*i;a++)s[a]=0;return new T(s,0)};function $d(o,i){for(;(o[i]&65535)!=o[i];)o[i+1]+=o[i]>>>16,o[i]&=65535,i++}function ae$1(o,i){this.g=o,this.h=i}function Yd(o,i){if(Y$1(i))throw Error("division by zero");if(Y$1(o))return new ae$1(V,V);if(X$1(o))return i=Yd(W$1(o),i),new ae$1(W$1(i.g),W$1(i.h));if(X$1(i))return i=Yd(o,W$1(i)),new ae$1(W$1(i.g),i.h);if(30<o.g.length){if(X$1(o)||X$1(i))throw Error("slowDivide_ only works with positive integers.");for(var s=Wd,a=i;0>=a.X(o);)s=be(s),a=be(a);var et=Z$1(s,1),tt=Z$1(a,1);for(a=Z$1(a,2),s=Z$1(s,2);!Y$1(a);){var rt=tt.add(a);0>=rt.X(o)&&(et=et.add(s),tt=rt),a=Z$1(a,1),s=Z$1(s,1)}return i=Zd(o,et.R(i)),new ae$1(et,i)}for(et=V;0<=o.X(i);){for(s=Math.max(1,Math.floor(o.ea()/i.ea())),a=Math.ceil(Math.log(s)/Math.LN2),a=48>=a?1:Math.pow(2,a-48),tt=U$1(s),rt=tt.R(i);X$1(rt)||0<rt.X(o);)s-=a,tt=U$1(s),rt=tt.R(i);Y$1(tt)&&(tt=Wd),et=et.add(tt),o=Zd(o,rt)}return new ae$1(et,o)}k$3.gb=function(o){return Yd(this,o).h};k$3.and=function(o){for(var i=Math.max(this.g.length,o.g.length),s=[],a=0;a<i;a++)s[a]=this.D(a)&o.D(a);return new T(s,this.h&o.h)};k$3.or=function(o){for(var i=Math.max(this.g.length,o.g.length),s=[],a=0;a<i;a++)s[a]=this.D(a)|o.D(a);return new T(s,this.h|o.h)};k$3.xor=function(o){for(var i=Math.max(this.g.length,o.g.length),s=[],a=0;a<i;a++)s[a]=this.D(a)^o.D(a);return new T(s,this.h^o.h)};function be(o){for(var i=o.g.length+1,s=[],a=0;a<i;a++)s[a]=o.D(a)<<1|o.D(a-1)>>>31;return new T(s,o.h)}function Z$1(o,i){var s=i>>5;i%=32;for(var a=o.g.length-s,et=[],tt=0;tt<a;tt++)et[tt]=0<i?o.D(tt+s)>>>i|o.D(tt+s+1)<<32-i:o.D(tt+s);return new T(et,o.h)}Od.prototype.createWebChannel=Od.prototype.g;Q$1.prototype.send=Q$1.prototype.u;Q$1.prototype.open=Q$1.prototype.m;Q$1.prototype.close=Q$1.prototype.close;Sb.NO_ERROR=0;Sb.TIMEOUT=8;Sb.HTTP_ERROR=6;Tb.COMPLETE="complete";Wb.EventType=Xb;Xb.OPEN="a";Xb.CLOSE="b";Xb.ERROR="c";Xb.MESSAGE="d";B$1.prototype.listen=B$1.prototype.O;P.prototype.listenOnce=P.prototype.P;P.prototype.getLastError=P.prototype.Sa;P.prototype.getLastErrorCode=P.prototype.Ia;P.prototype.getStatus=P.prototype.da;P.prototype.getResponseJson=P.prototype.Wa;P.prototype.getResponseText=P.prototype.ja;P.prototype.send=P.prototype.ha;P.prototype.setWithCredentials=P.prototype.Oa;S$1.prototype.digest=S$1.prototype.l;S$1.prototype.reset=S$1.prototype.reset;S$1.prototype.update=S$1.prototype.j;T.prototype.add=T.prototype.add;T.prototype.multiply=T.prototype.R;T.prototype.modulo=T.prototype.gb;T.prototype.compare=T.prototype.X;T.prototype.toNumber=T.prototype.ea;T.prototype.toString=T.prototype.toString;T.prototype.getBits=T.prototype.D;T.fromNumber=U$1;T.fromString=Vd;var createWebChannelTransport=function(){return new Od},getStatEventTarget=function(){return Mb()},ErrorCode$1=Sb,EventType=Tb,Event$1=E,Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},WebChannel=Wb,XhrIo=P,Md5=S$1,Integer=T;const w$2="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class User{constructor(i){this.uid=i}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(i){return i.uid===this.uid}}User.UNAUTHENTICATED=new User(null),User.GOOGLE_CREDENTIALS=new User("google-credentials-uid"),User.FIRST_PARTY=new User("first-party-uid"),User.MOCK_USER=new User("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let S="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b$3=new Logger("@firebase/firestore");function __PRIVATE_getLogLevel(){return b$3.logLevel}function setLogLevel$1(o){b$3.setLogLevel(o)}function __PRIVATE_logDebug(o,...i){if(b$3.logLevel<=LogLevel.DEBUG){const s=i.map(__PRIVATE_argToString);b$3.debug(`Firestore (${S}): ${o}`,...s)}}function __PRIVATE_logError(o,...i){if(b$3.logLevel<=LogLevel.ERROR){const s=i.map(__PRIVATE_argToString);b$3.error(`Firestore (${S}): ${o}`,...s)}}function __PRIVATE_logWarn(o,...i){if(b$3.logLevel<=LogLevel.WARN){const s=i.map(__PRIVATE_argToString);b$3.warn(`Firestore (${S}): ${o}`,...s)}}function __PRIVATE_argToString(o){if(typeof o=="string")return o;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(o)}catch{return o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fail(o="Unexpected state"){const i=`FIRESTORE (${S}) INTERNAL ASSERTION FAILED: `+o;throw __PRIVATE_logError(i),new Error(i)}function __PRIVATE_hardAssert(o,i){o||fail()}function __PRIVATE_debugAssert(o,i){o||fail()}function __PRIVATE_debugCast(o,i){return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class FirestoreError extends FirebaseError{constructor(i,s){super(i,s),this.code=i,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Deferred{constructor(){this.promise=new Promise((i,s)=>{this.resolve=i,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_OAuthToken{constructor(i,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${i}`)}}class __PRIVATE_EmptyAuthCredentialsProvider{getToken(){return Promise.resolve(null)}invalidateToken(){}start(i,s){i.enqueueRetryable(()=>s(User.UNAUTHENTICATED))}shutdown(){}}class __PRIVATE_EmulatorAuthCredentialsProvider{constructor(i){this.token=i,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(i,s){this.changeListener=s,i.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class __PRIVATE_FirebaseAuthCredentialsProvider{constructor(i){this.t=i,this.currentUser=User.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(i,s){let a=this.i;const et=it=>this.i!==a?(a=this.i,s(it)):Promise.resolve();let tt=new __PRIVATE_Deferred;this.o=()=>{this.i++,this.currentUser=this.u(),tt.resolve(),tt=new __PRIVATE_Deferred,i.enqueueRetryable(()=>et(this.currentUser))};const rt=()=>{const it=tt;i.enqueueRetryable(async()=>{await it.promise,await et(this.currentUser)})},nt=it=>{__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=it,this.auth.addAuthTokenListener(this.o),rt()};this.t.onInit(it=>nt(it)),setTimeout(()=>{if(!this.auth){const it=this.t.getImmediate({optional:!0});it?nt(it):(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","Auth not yet detected"),tt.resolve(),tt=new __PRIVATE_Deferred)}},0),rt()}getToken(){const i=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(a=>this.i!==i?(__PRIVATE_logDebug("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):a?(__PRIVATE_hardAssert(typeof a.accessToken=="string"),new __PRIVATE_OAuthToken(a.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const i=this.auth&&this.auth.getUid();return __PRIVATE_hardAssert(i===null||typeof i=="string"),new User(i)}}class __PRIVATE_FirstPartyToken{constructor(i,s,a){this.l=i,this.h=s,this.P=a,this.type="FirstParty",this.user=User.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const i=this.T();return i&&this.I.set("Authorization",i),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class __PRIVATE_FirstPartyAuthCredentialsProvider{constructor(i,s,a){this.l=i,this.h=s,this.P=a}getToken(){return Promise.resolve(new __PRIVATE_FirstPartyToken(this.l,this.h,this.P))}start(i,s){i.enqueueRetryable(()=>s(User.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AppCheckToken{constructor(i){this.value=i,this.type="AppCheck",this.headers=new Map,i&&i.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class __PRIVATE_FirebaseAppCheckTokenProvider{constructor(i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(i,s){const a=tt=>{tt.error!=null&&__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${tt.error.message}`);const rt=tt.token!==this.R;return this.R=tt.token,__PRIVATE_logDebug("FirebaseAppCheckTokenProvider",`Received ${rt?"new":"existing"} token.`),rt?s(tt.token):Promise.resolve()};this.o=tt=>{i.enqueueRetryable(()=>a(tt))};const et=tt=>{__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=tt,this.appCheck.addTokenListener(this.o)};this.A.onInit(tt=>et(tt)),setTimeout(()=>{if(!this.appCheck){const tt=this.A.getImmediate({optional:!0});tt?et(tt):__PRIVATE_logDebug("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const i=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(i).then(s=>s?(__PRIVATE_hardAssert(typeof s.token=="string"),this.R=s.token,new AppCheckToken(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_randomBytes(o){const i=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(o);if(i&&typeof i.getRandomValues=="function")i.getRandomValues(s);else for(let a=0;a<o;a++)s[a]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AutoId{static newId(){const i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/i.length)*i.length;let a="";for(;a.length<20;){const et=__PRIVATE_randomBytes(40);for(let tt=0;tt<et.length;++tt)a.length<20&&et[tt]<s&&(a+=i.charAt(et[tt]%i.length))}return a}}function __PRIVATE_primitiveComparator(o,i){return o<i?-1:o>i?1:0}function __PRIVATE_arrayEquals(o,i,s){return o.length===i.length&&o.every((a,et)=>s(a,i[et]))}function __PRIVATE_immediateSuccessor(o){return o+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Timestamp{constructor(i,s){if(this.seconds=i,this.nanoseconds=s,s<0)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(i<-62135596800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i);if(i>=253402300800)throw new FirestoreError(D.INVALID_ARGUMENT,"Timestamp seconds out of range: "+i)}static now(){return Timestamp.fromMillis(Date.now())}static fromDate(i){return Timestamp.fromMillis(i.getTime())}static fromMillis(i){const s=Math.floor(i/1e3),a=Math.floor(1e6*(i-1e3*s));return new Timestamp(s,a)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(i){return this.seconds===i.seconds?__PRIVATE_primitiveComparator(this.nanoseconds,i.nanoseconds):__PRIVATE_primitiveComparator(this.seconds,i.seconds)}isEqual(i){return i.seconds===this.seconds&&i.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const i=this.seconds- -62135596800;return String(i).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotVersion{constructor(i){this.timestamp=i}static fromTimestamp(i){return new SnapshotVersion(i)}static min(){return new SnapshotVersion(new Timestamp(0,0))}static max(){return new SnapshotVersion(new Timestamp(253402300799,999999999))}compareTo(i){return this.timestamp._compareTo(i.timestamp)}isEqual(i){return this.timestamp.isEqual(i.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BasePath{constructor(i,s,a){s===void 0?s=0:s>i.length&&fail(),a===void 0?a=i.length-s:a>i.length-s&&fail(),this.segments=i,this.offset=s,this.len=a}get length(){return this.len}isEqual(i){return BasePath.comparator(this,i)===0}child(i){const s=this.segments.slice(this.offset,this.limit());return i instanceof BasePath?i.forEach(a=>{s.push(a)}):s.push(i),this.construct(s)}limit(){return this.offset+this.length}popFirst(i){return i=i===void 0?1:i,this.construct(this.segments,this.offset+i,this.length-i)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(i){return this.segments[this.offset+i]}isEmpty(){return this.length===0}isPrefixOf(i){if(i.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0}isImmediateParentOf(i){if(this.length+1!==i.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==i.get(s))return!1;return!0}forEach(i){for(let s=this.offset,a=this.limit();s<a;s++)i(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(i,s){const a=Math.min(i.length,s.length);for(let et=0;et<a;et++){const tt=i.get(et),rt=s.get(et);if(tt<rt)return-1;if(tt>rt)return 1}return i.length<s.length?-1:i.length>s.length?1:0}}class ResourcePath extends BasePath{construct(i,s,a){return new ResourcePath(i,s,a)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...i){const s=[];for(const a of i){if(a.indexOf("//")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid segment (${a}). Paths must not contain // in them.`);s.push(...a.split("/").filter(et=>et.length>0))}return new ResourcePath(s)}static emptyPath(){return new ResourcePath([])}}const C=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class FieldPath$1 extends BasePath{construct(i,s,a){return new FieldPath$1(i,s,a)}static isValidIdentifier(i){return C.test(i)}canonicalString(){return this.toArray().map(i=>(i=i.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),FieldPath$1.isValidIdentifier(i)||(i="`"+i+"`"),i)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new FieldPath$1(["__name__"])}static fromServerFormat(i){const s=[];let a="",et=0;const tt=()=>{if(a.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(a),a=""};let rt=!1;for(;et<i.length;){const nt=i[et];if(nt==="\\"){if(et+1===i.length)throw new FirestoreError(D.INVALID_ARGUMENT,"Path has trailing escape character: "+i);const it=i[et+1];if(it!=="\\"&&it!=="."&&it!=="`")throw new FirestoreError(D.INVALID_ARGUMENT,"Path has invalid escape sequence: "+i);a+=it,et+=2}else nt==="`"?(rt=!rt,et++):nt!=="."||rt?(a+=nt,et++):(tt(),et++)}if(tt(),rt)throw new FirestoreError(D.INVALID_ARGUMENT,"Unterminated ` in path: "+i);return new FieldPath$1(s)}static emptyPath(){return new FieldPath$1([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentKey{constructor(i){this.path=i}static fromPath(i){return new DocumentKey(ResourcePath.fromString(i))}static fromName(i){return new DocumentKey(ResourcePath.fromString(i).popFirst(5))}static empty(){return new DocumentKey(ResourcePath.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(i){return this.path.length>=2&&this.path.get(this.path.length-2)===i}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(i){return i!==null&&ResourcePath.comparator(this.path,i.path)===0}toString(){return this.path.toString()}static comparator(i,s){return ResourcePath.comparator(i.path,s.path)}static isDocumentKey(i){return i.length%2==0}static fromSegments(i){return new DocumentKey(new ResourcePath(i.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldIndex{constructor(i,s,a,et){this.indexId=i,this.collectionGroup=s,this.fields=a,this.indexState=et}}function __PRIVATE_fieldIndexGetArraySegment(o){return o.fields.find(i=>i.kind===2)}function __PRIVATE_fieldIndexGetDirectionalSegments(o){return o.fields.filter(i=>i.kind!==2)}FieldIndex.UNKNOWN_ID=-1;class IndexSegment{constructor(i,s){this.fieldPath=i,this.kind=s}}class IndexState{constructor(i,s){this.sequenceNumber=i,this.offset=s}static empty(){return new IndexState(0,IndexOffset.min())}}function __PRIVATE_newIndexOffsetSuccessorFromReadTime(o,i){const s=o.toTimestamp().seconds,a=o.toTimestamp().nanoseconds+1,et=SnapshotVersion.fromTimestamp(a===1e9?new Timestamp(s+1,0):new Timestamp(s,a));return new IndexOffset(et,DocumentKey.empty(),i)}function __PRIVATE_newIndexOffsetFromDocument(o){return new IndexOffset(o.readTime,o.key,-1)}class IndexOffset{constructor(i,s,a){this.readTime=i,this.documentKey=s,this.largestBatchId=a}static min(){return new IndexOffset(SnapshotVersion.min(),DocumentKey.empty(),-1)}static max(){return new IndexOffset(SnapshotVersion.max(),DocumentKey.empty(),-1)}}function __PRIVATE_indexOffsetComparator(o,i){let s=o.readTime.compareTo(i.readTime);return s!==0?s:(s=DocumentKey.comparator(o.documentKey,i.documentKey),s!==0?s:__PRIVATE_primitiveComparator(o.largestBatchId,i.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v$3="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class PersistenceTransaction{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(i){this.onCommittedListeners.push(i)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(i=>i())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function __PRIVATE_ignoreIfPrimaryLeaseLoss(o){if(o.code!==D.FAILED_PRECONDITION||o.message!==v$3)throw o;__PRIVATE_logDebug("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PersistencePromise{constructor(i){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,i(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(i){return this.next(void 0,i)}next(i,s){return this.callbackAttached&&fail(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(i,this.result):new PersistencePromise((a,et)=>{this.nextCallback=tt=>{this.wrapSuccess(i,tt).next(a,et)},this.catchCallback=tt=>{this.wrapFailure(s,tt).next(a,et)}})}toPromise(){return new Promise((i,s)=>{this.next(i,s)})}wrapUserFunction(i){try{const s=i();return s instanceof PersistencePromise?s:PersistencePromise.resolve(s)}catch(s){return PersistencePromise.reject(s)}}wrapSuccess(i,s){return i?this.wrapUserFunction(()=>i(s)):PersistencePromise.resolve(s)}wrapFailure(i,s){return i?this.wrapUserFunction(()=>i(s)):PersistencePromise.reject(s)}static resolve(i){return new PersistencePromise((s,a)=>{s(i)})}static reject(i){return new PersistencePromise((s,a)=>{a(i)})}static waitFor(i){return new PersistencePromise((s,a)=>{let et=0,tt=0,rt=!1;i.forEach(nt=>{++et,nt.next(()=>{++tt,rt&&tt===et&&s()},it=>a(it))}),rt=!0,tt===et&&s()})}static or(i){let s=PersistencePromise.resolve(!1);for(const a of i)s=s.next(et=>et?PersistencePromise.resolve(et):a());return s}static forEach(i,s){const a=[];return i.forEach((et,tt)=>{a.push(s.call(this,et,tt))}),this.waitFor(a)}static mapArray(i,s){return new PersistencePromise((a,et)=>{const tt=i.length,rt=new Array(tt);let nt=0;for(let it=0;it<tt;it++){const ot=it;s(i[ot]).next(st=>{rt[ot]=st,++nt,nt===tt&&a(rt)},st=>et(st))}})}static doWhile(i,s){return new PersistencePromise((a,et)=>{const tt=()=>{i()===!0?s().next(()=>{tt()},et):a()};tt()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SimpleDbTransaction{constructor(i,s){this.action=i,this.transaction=s,this.aborted=!1,this.V=new __PRIVATE_Deferred,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{s.error?this.V.reject(new __PRIVATE_IndexedDbTransactionError(i,s.error)):this.V.resolve()},this.transaction.onerror=a=>{const et=__PRIVATE_checkForAndReportiOSError(a.target.error);this.V.reject(new __PRIVATE_IndexedDbTransactionError(i,et))}}static open(i,s,a,et){try{return new __PRIVATE_SimpleDbTransaction(s,i.transaction(et,a))}catch(tt){throw new __PRIVATE_IndexedDbTransactionError(s,tt)}}get m(){return this.V.promise}abort(i){i&&this.V.reject(i),this.aborted||(__PRIVATE_logDebug("SimpleDb","Aborting transaction:",i?i.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const i=this.transaction;this.aborted||typeof i.commit!="function"||i.commit()}store(i){const s=this.transaction.objectStore(i);return new __PRIVATE_SimpleDbStore(s)}}class __PRIVATE_SimpleDb{constructor(i,s,a){this.name=i,this.version=s,this.p=a,__PRIVATE_SimpleDb.S(getUA())===12.2&&__PRIVATE_logError("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(i){return __PRIVATE_logDebug("SimpleDb","Removing database:",i),__PRIVATE_wrapRequest(window.indexedDB.deleteDatabase(i)).toPromise()}static D(){if(!isIndexedDBAvailable())return!1;if(__PRIVATE_SimpleDb.C())return!0;const i=getUA(),s=__PRIVATE_SimpleDb.S(i),a=0<s&&s<10,et=__PRIVATE_SimpleDb.v(i),tt=0<et&&et<4.5;return!(i.indexOf("MSIE ")>0||i.indexOf("Trident/")>0||i.indexOf("Edge/")>0||a||tt)}static C(){var i;return typeof process<"u"&&((i=process.__PRIVATE_env)===null||i===void 0?void 0:i.F)==="YES"}static M(i,s){return i.store(s)}static S(i){const s=i.match(/i(?:phone|pad|pod) os ([\d_]+)/i),a=s?s[1].split("_").slice(0,2).join("."):"-1";return Number(a)}static v(i){const s=i.match(/Android ([\d.]+)/i),a=s?s[1].split(".").slice(0,2).join("."):"-1";return Number(a)}async O(i){return this.db||(__PRIVATE_logDebug("SimpleDb","Opening database:",this.name),this.db=await new Promise((s,a)=>{const et=indexedDB.open(this.name,this.version);et.onsuccess=tt=>{const rt=tt.target.result;s(rt)},et.onblocked=()=>{a(new __PRIVATE_IndexedDbTransactionError(i,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},et.onerror=tt=>{const rt=tt.target.error;rt.name==="VersionError"?a(new FirestoreError(D.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):rt.name==="InvalidStateError"?a(new FirestoreError(D.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+rt)):a(new __PRIVATE_IndexedDbTransactionError(i,rt))},et.onupgradeneeded=tt=>{__PRIVATE_logDebug("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',tt.oldVersion);const rt=tt.target.result;this.p.N(rt,et.transaction,tt.oldVersion,this.version).next(()=>{__PRIVATE_logDebug("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=s=>this.B(s)),this.db}L(i){this.B=i,this.db&&(this.db.onversionchange=s=>i(s))}async runTransaction(i,s,a,et){const tt=s==="readonly";let rt=0;for(;;){++rt;try{this.db=await this.O(i);const nt=__PRIVATE_SimpleDbTransaction.open(this.db,i,tt?"readonly":"readwrite",a),it=et(nt).next(ot=>(nt.g(),ot)).catch(ot=>(nt.abort(ot),PersistencePromise.reject(ot))).toPromise();return it.catch(()=>{}),await nt.m,it}catch(nt){const it=nt,ot=it.name!=="FirebaseError"&&rt<3;if(__PRIVATE_logDebug("SimpleDb","Transaction failed with error:",it.message,"Retrying:",ot),this.close(),!ot)return Promise.reject(it)}}}close(){this.db&&this.db.close(),this.db=void 0}}class __PRIVATE_IterationController{constructor(i){this.k=i,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(i){this.k=i}done(){this.q=!0}U(i){this.K=i}delete(){return __PRIVATE_wrapRequest(this.k.delete())}}class __PRIVATE_IndexedDbTransactionError extends FirestoreError{constructor(i,s){super(D.UNAVAILABLE,`IndexedDB transaction '${i}' failed: ${s}`),this.name="IndexedDbTransactionError"}}function __PRIVATE_isIndexedDbTransactionError(o){return o.name==="IndexedDbTransactionError"}class __PRIVATE_SimpleDbStore{constructor(i){this.store=i}put(i,s){let a;return s!==void 0?(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,i,s),a=this.store.put(s,i)):(__PRIVATE_logDebug("SimpleDb","PUT",this.store.name,"<auto-key>",i),a=this.store.put(i)),__PRIVATE_wrapRequest(a)}add(i){return __PRIVATE_logDebug("SimpleDb","ADD",this.store.name,i,i),__PRIVATE_wrapRequest(this.store.add(i))}get(i){return __PRIVATE_wrapRequest(this.store.get(i)).next(s=>(s===void 0&&(s=null),__PRIVATE_logDebug("SimpleDb","GET",this.store.name,i,s),s))}delete(i){return __PRIVATE_logDebug("SimpleDb","DELETE",this.store.name,i),__PRIVATE_wrapRequest(this.store.delete(i))}count(){return __PRIVATE_logDebug("SimpleDb","COUNT",this.store.name),__PRIVATE_wrapRequest(this.store.count())}W(i,s){const a=this.options(i,s),et=a.index?this.store.index(a.index):this.store;if(typeof et.getAll=="function"){const tt=et.getAll(a.range);return new PersistencePromise((rt,nt)=>{tt.onerror=it=>{nt(it.target.error)},tt.onsuccess=it=>{rt(it.target.result)}})}{const tt=this.cursor(a),rt=[];return this.G(tt,(nt,it)=>{rt.push(it)}).next(()=>rt)}}j(i,s){const a=this.store.getAll(i,s===null?void 0:s);return new PersistencePromise((et,tt)=>{a.onerror=rt=>{tt(rt.target.error)},a.onsuccess=rt=>{et(rt.target.result)}})}H(i,s){__PRIVATE_logDebug("SimpleDb","DELETE ALL",this.store.name);const a=this.options(i,s);a.J=!1;const et=this.cursor(a);return this.G(et,(tt,rt,nt)=>nt.delete())}Y(i,s){let a;s?a=i:(a={},s=i);const et=this.cursor(a);return this.G(et,s)}Z(i){const s=this.cursor({});return new PersistencePromise((a,et)=>{s.onerror=tt=>{const rt=__PRIVATE_checkForAndReportiOSError(tt.target.error);et(rt)},s.onsuccess=tt=>{const rt=tt.target.result;rt?i(rt.primaryKey,rt.value).next(nt=>{nt?rt.continue():a()}):a()}})}G(i,s){const a=[];return new PersistencePromise((et,tt)=>{i.onerror=rt=>{tt(rt.target.error)},i.onsuccess=rt=>{const nt=rt.target.result;if(!nt)return void et();const it=new __PRIVATE_IterationController(nt),ot=s(nt.primaryKey,nt.value,it);if(ot instanceof PersistencePromise){const st=ot.catch(lt=>(it.done(),PersistencePromise.reject(lt)));a.push(st)}it.isDone?et():it.$===null?nt.continue():nt.continue(it.$)}}).next(()=>PersistencePromise.waitFor(a))}options(i,s){let a;return i!==void 0&&(typeof i=="string"?a=i:s=i),{index:a,range:s}}cursor(i){let s="next";if(i.reverse&&(s="prev"),i.index){const a=this.store.index(i.index);return i.J?a.openKeyCursor(i.range,s):a.openCursor(i.range,s)}return this.store.openCursor(i.range,s)}}function __PRIVATE_wrapRequest(o){return new PersistencePromise((i,s)=>{o.onsuccess=a=>{const et=a.target.result;i(et)},o.onerror=a=>{const et=__PRIVATE_checkForAndReportiOSError(a.target.error);s(et)}})}let F=!1;function __PRIVATE_checkForAndReportiOSError(o){const i=__PRIVATE_SimpleDb.S(getUA());if(i>=12.2&&i<13){const s="An internal error was encountered in the Indexed Database server";if(o.message.indexOf(s)>=0){const a=new FirestoreError("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${s}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return F||(F=!0,setTimeout(()=>{throw a},0)),a}}return o}class __PRIVATE_IndexBackfillerScheduler{constructor(i,s){this.asyncQueue=i,this.X=s,this.task=null}start(){this.ee(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ee(i){__PRIVATE_logDebug("IndexBackfiller",`Scheduled in ${i}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",i,async()=>{this.task=null;try{__PRIVATE_logDebug("IndexBackfiller",`Documents written: ${await this.X.te()}`)}catch(s){__PRIVATE_isIndexedDbTransactionError(s)?__PRIVATE_logDebug("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",s):await __PRIVATE_ignoreIfPrimaryLeaseLoss(s)}await this.ee(6e4)})}}class __PRIVATE_IndexBackfiller{constructor(i,s){this.localStore=i,this.persistence=s}async te(i=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",s=>this.ne(s,i))}ne(i,s){const a=new Set;let et=s,tt=!0;return PersistencePromise.doWhile(()=>tt===!0&&et>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(i).next(rt=>{if(rt!==null&&!a.has(rt))return __PRIVATE_logDebug("IndexBackfiller",`Processing collection: ${rt}`),this.re(i,rt,et).next(nt=>{et-=nt,a.add(rt)});tt=!1})).next(()=>s-et)}re(i,s,a){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(i,s).next(et=>this.localStore.localDocuments.getNextDocuments(i,s,et,a).next(tt=>{const rt=tt.changes;return this.localStore.indexManager.updateIndexEntries(i,rt).next(()=>this.ie(et,tt)).next(nt=>(__PRIVATE_logDebug("IndexBackfiller",`Updating offset: ${nt}`),this.localStore.indexManager.updateCollectionGroup(i,s,nt))).next(()=>rt.size)}))}ie(i,s){let a=i;return s.changes.forEach((et,tt)=>{const rt=__PRIVATE_newIndexOffsetFromDocument(tt);__PRIVATE_indexOffsetComparator(rt,a)>0&&(a=rt)}),new IndexOffset(a.readTime,a.documentKey,Math.max(s.batchId,i.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ListenSequence{constructor(i,s){this.previousValue=i,s&&(s.sequenceNumberHandler=a=>this.se(a),this.oe=a=>s.writeSequenceNumber(a))}se(i){return this.previousValue=Math.max(i,this.previousValue),this.previousValue}next(){const i=++this.previousValue;return this.oe&&this.oe(i),i}}__PRIVATE_ListenSequence._e=-1;function __PRIVATE_isNullOrUndefined(o){return o==null}function __PRIVATE_isNegativeZero(o){return o===0&&1/o==-1/0}function isSafeInteger(o){return typeof o=="number"&&Number.isInteger(o)&&!__PRIVATE_isNegativeZero(o)&&o<=Number.MAX_SAFE_INTEGER&&o>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_encodeResourcePath(o){let i="";for(let s=0;s<o.length;s++)i.length>0&&(i=__PRIVATE_encodeSeparator(i)),i=__PRIVATE_encodeSegment(o.get(s),i);return __PRIVATE_encodeSeparator(i)}function __PRIVATE_encodeSegment(o,i){let s=i;const a=o.length;for(let et=0;et<a;et++){const tt=o.charAt(et);switch(tt){case"\0":s+="";break;case"":s+="";break;default:s+=tt}}return s}function __PRIVATE_encodeSeparator(o){return o+""}function __PRIVATE_decodeResourcePath(o){const i=o.length;if(__PRIVATE_hardAssert(i>=2),i===2)return __PRIVATE_hardAssert(o.charAt(0)===""&&o.charAt(1)===""),ResourcePath.emptyPath();const s=i-2,a=[];let et="";for(let tt=0;tt<i;){const rt=o.indexOf("",tt);switch((rt<0||rt>s)&&fail(),o.charAt(rt+1)){case"":const nt=o.substring(tt,rt);let it;et.length===0?it=nt:(et+=nt,it=et,et=""),a.push(it);break;case"":et+=o.substring(tt,rt),et+="\0";break;case"":et+=o.substring(tt,rt+1);break;default:fail()}tt=rt+2}return new ResourcePath(a)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newDbDocumentMutationPrefixForPath(o,i){return[o,__PRIVATE_encodeResourcePath(i)]}function __PRIVATE_newDbDocumentMutationKey(o,i,s){return[o,__PRIVATE_encodeResourcePath(i),s]}const x$1={},O=["prefixPath","collectionGroup","readTime","documentId"],N=["prefixPath","collectionGroup","documentId"],B=["collectionGroup","readTime","prefixPath","documentId"],L=["canonicalId","targetId"],k$2=["targetId","path"],q$2=["path","targetId"],Q=["collectionId","parent"],K=["indexId","uid"],$=["uid","sequenceNumber"],U=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],W=["indexId","uid","orderedDocumentKey"],G=["userId","collectionPath","documentId"],z$1=["userId","collectionPath","largestBatchId"],j=["userId","collectionGroup","largestBatchId"],H=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],J=[...H,"documentOverlays"],Y=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Z=Y,X=[...Z,"indexConfiguration","indexState","indexEntries"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbTransaction extends PersistenceTransaction{constructor(i,s){super(),this.ae=i,this.currentSequenceNumber=s}}function __PRIVATE_getStore(o,i){const s=__PRIVATE_debugCast(o);return __PRIVATE_SimpleDb.M(s.ae,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_objectSize(o){let i=0;for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&i++;return i}function forEach(o,i){for(const s in o)Object.prototype.hasOwnProperty.call(o,s)&&i(s,o[s])}function isEmpty$4(o){for(const i in o)if(Object.prototype.hasOwnProperty.call(o,i))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedMap{constructor(i,s){this.comparator=i,this.root=s||LLRBNode.EMPTY}insert(i,s){return new SortedMap(this.comparator,this.root.insert(i,s,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}remove(i){return new SortedMap(this.comparator,this.root.remove(i,this.comparator).copy(null,null,LLRBNode.BLACK,null,null))}get(i){let s=this.root;for(;!s.isEmpty();){const a=this.comparator(i,s.key);if(a===0)return s.value;a<0?s=s.left:a>0&&(s=s.right)}return null}indexOf(i){let s=0,a=this.root;for(;!a.isEmpty();){const et=this.comparator(i,a.key);if(et===0)return s+a.left.size;et<0?a=a.left:(s+=a.left.size+1,a=a.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(i){return this.root.inorderTraversal(i)}forEach(i){this.inorderTraversal((s,a)=>(i(s,a),!1))}toString(){const i=[];return this.inorderTraversal((s,a)=>(i.push(`${s}:${a}`),!1)),`{${i.join(", ")}}`}reverseTraversal(i){return this.root.reverseTraversal(i)}getIterator(){return new SortedMapIterator(this.root,null,this.comparator,!1)}getIteratorFrom(i){return new SortedMapIterator(this.root,i,this.comparator,!1)}getReverseIterator(){return new SortedMapIterator(this.root,null,this.comparator,!0)}getReverseIteratorFrom(i){return new SortedMapIterator(this.root,i,this.comparator,!0)}}class SortedMapIterator{constructor(i,s,a,et){this.isReverse=et,this.nodeStack=[];let tt=1;for(;!i.isEmpty();)if(tt=s?a(i.key,s):1,s&&et&&(tt*=-1),tt<0)i=this.isReverse?i.left:i.right;else{if(tt===0){this.nodeStack.push(i);break}this.nodeStack.push(i),i=this.isReverse?i.right:i.left}}getNext(){let i=this.nodeStack.pop();const s={key:i.key,value:i.value};if(this.isReverse)for(i=i.left;!i.isEmpty();)this.nodeStack.push(i),i=i.right;else for(i=i.right;!i.isEmpty();)this.nodeStack.push(i),i=i.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const i=this.nodeStack[this.nodeStack.length-1];return{key:i.key,value:i.value}}}class LLRBNode{constructor(i,s,a,et,tt){this.key=i,this.value=s,this.color=a??LLRBNode.RED,this.left=et??LLRBNode.EMPTY,this.right=tt??LLRBNode.EMPTY,this.size=this.left.size+1+this.right.size}copy(i,s,a,et,tt){return new LLRBNode(i??this.key,s??this.value,a??this.color,et??this.left,tt??this.right)}isEmpty(){return!1}inorderTraversal(i){return this.left.inorderTraversal(i)||i(this.key,this.value)||this.right.inorderTraversal(i)}reverseTraversal(i){return this.right.reverseTraversal(i)||i(this.key,this.value)||this.left.reverseTraversal(i)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(i,s,a){let et=this;const tt=a(i,et.key);return et=tt<0?et.copy(null,null,null,et.left.insert(i,s,a),null):tt===0?et.copy(null,s,null,null,null):et.copy(null,null,null,null,et.right.insert(i,s,a)),et.fixUp()}removeMin(){if(this.left.isEmpty())return LLRBNode.EMPTY;let i=this;return i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.removeMin(),null),i.fixUp()}remove(i,s){let a,et=this;if(s(i,et.key)<0)et.left.isEmpty()||et.left.isRed()||et.left.left.isRed()||(et=et.moveRedLeft()),et=et.copy(null,null,null,et.left.remove(i,s),null);else{if(et.left.isRed()&&(et=et.rotateRight()),et.right.isEmpty()||et.right.isRed()||et.right.left.isRed()||(et=et.moveRedRight()),s(i,et.key)===0){if(et.right.isEmpty())return LLRBNode.EMPTY;a=et.right.min(),et=et.copy(a.key,a.value,null,null,et.right.removeMin())}et=et.copy(null,null,null,null,et.right.remove(i,s))}return et.fixUp()}isRed(){return this.color}fixUp(){let i=this;return i.right.isRed()&&!i.left.isRed()&&(i=i.rotateLeft()),i.left.isRed()&&i.left.left.isRed()&&(i=i.rotateRight()),i.left.isRed()&&i.right.isRed()&&(i=i.colorFlip()),i}moveRedLeft(){let i=this.colorFlip();return i.right.left.isRed()&&(i=i.copy(null,null,null,null,i.right.rotateRight()),i=i.rotateLeft(),i=i.colorFlip()),i}moveRedRight(){let i=this.colorFlip();return i.left.left.isRed()&&(i=i.rotateRight(),i=i.colorFlip()),i}rotateLeft(){const i=this.copy(null,null,LLRBNode.RED,null,this.right.left);return this.right.copy(null,null,this.color,i,null)}rotateRight(){const i=this.copy(null,null,LLRBNode.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,i)}colorFlip(){const i=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,i,s)}checkMaxDepth(){const i=this.check();return Math.pow(2,i)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw fail();const i=this.left.check();if(i!==this.right.check())throw fail();return i+(this.isRed()?0:1)}}LLRBNode.EMPTY=null,LLRBNode.RED=!0,LLRBNode.BLACK=!1;LLRBNode.EMPTY=new class{constructor(){this.size=0}get key(){throw fail()}get value(){throw fail()}get color(){throw fail()}get left(){throw fail()}get right(){throw fail()}copy(i,s,a,et,tt){return this}insert(i,s,a){return new LLRBNode(i,s)}remove(i,s){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SortedSet{constructor(i){this.comparator=i,this.data=new SortedMap(this.comparator)}has(i){return this.data.get(i)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(i){return this.data.indexOf(i)}forEach(i){this.data.inorderTraversal((s,a)=>(i(s),!1))}forEachInRange(i,s){const a=this.data.getIteratorFrom(i[0]);for(;a.hasNext();){const et=a.getNext();if(this.comparator(et.key,i[1])>=0)return;s(et.key)}}forEachWhile(i,s){let a;for(a=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();a.hasNext();)if(!i(a.getNext().key))return}firstAfterOrEqual(i){const s=this.data.getIteratorFrom(i);return s.hasNext()?s.getNext().key:null}getIterator(){return new SortedSetIterator(this.data.getIterator())}getIteratorFrom(i){return new SortedSetIterator(this.data.getIteratorFrom(i))}add(i){return this.copy(this.data.remove(i).insert(i,!0))}delete(i){return this.has(i)?this.copy(this.data.remove(i)):this}isEmpty(){return this.data.isEmpty()}unionWith(i){let s=this;return s.size<i.size&&(s=i,i=this),i.forEach(a=>{s=s.add(a)}),s}isEqual(i){if(!(i instanceof SortedSet)||this.size!==i.size)return!1;const s=this.data.getIterator(),a=i.data.getIterator();for(;s.hasNext();){const et=s.getNext().key,tt=a.getNext().key;if(this.comparator(et,tt)!==0)return!1}return!0}toArray(){const i=[];return this.forEach(s=>{i.push(s)}),i}toString(){const i=[];return this.forEach(s=>i.push(s)),"SortedSet("+i.toString()+")"}copy(i){const s=new SortedSet(this.comparator);return s.data=i,s}}class SortedSetIterator{constructor(i){this.iter=i}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function __PRIVATE_advanceIterator(o){return o.hasNext()?o.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldMask{constructor(i){this.fields=i,i.sort(FieldPath$1.comparator)}static empty(){return new FieldMask([])}unionWith(i){let s=new SortedSet(FieldPath$1.comparator);for(const a of this.fields)s=s.add(a);for(const a of i)s=s.add(a);return new FieldMask(s.toArray())}covers(i){for(const s of this.fields)if(s.isPrefixOf(i))return!0;return!1}isEqual(i){return __PRIVATE_arrayEquals(this.fields,i.fields,(s,a)=>s.isEqual(a))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_Base64DecodeError extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isBase64Available(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ByteString{constructor(i){this.binaryString=i}static fromBase64String(i){const s=function(et){try{return atob(et)}catch(tt){throw typeof DOMException<"u"&&tt instanceof DOMException?new __PRIVATE_Base64DecodeError("Invalid base64 string: "+tt):tt}}(i);return new ByteString(s)}static fromUint8Array(i){const s=function(et){let tt="";for(let rt=0;rt<et.length;++rt)tt+=String.fromCharCode(et[rt]);return tt}(i);return new ByteString(s)}[Symbol.iterator](){let i=0;return{next:()=>i<this.binaryString.length?{value:this.binaryString.charCodeAt(i++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const a=new Uint8Array(s.length);for(let et=0;et<s.length;et++)a[et]=s.charCodeAt(et);return a}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(i){return __PRIVATE_primitiveComparator(this.binaryString,i.binaryString)}isEqual(i){return this.binaryString===i.binaryString}}ByteString.EMPTY_BYTE_STRING=new ByteString("");const ee=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function __PRIVATE_normalizeTimestamp(o){if(__PRIVATE_hardAssert(!!o),typeof o=="string"){let i=0;const s=ee.exec(o);if(__PRIVATE_hardAssert(!!s),s[1]){let et=s[1];et=(et+"000000000").substr(0,9),i=Number(et)}const a=new Date(o);return{seconds:Math.floor(a.getTime()/1e3),nanos:i}}return{seconds:__PRIVATE_normalizeNumber(o.seconds),nanos:__PRIVATE_normalizeNumber(o.nanos)}}function __PRIVATE_normalizeNumber(o){return typeof o=="number"?o:typeof o=="string"?Number(o):0}function __PRIVATE_normalizeByteString(o){return typeof o=="string"?ByteString.fromBase64String(o):ByteString.fromUint8Array(o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_isServerTimestamp(o){var i,s;return((s=(((i=o==null?void 0:o.mapValue)===null||i===void 0?void 0:i.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function __PRIVATE_getPreviousValue(o){const i=o.mapValue.fields.__previous_value__;return __PRIVATE_isServerTimestamp(i)?__PRIVATE_getPreviousValue(i):i}function __PRIVATE_getLocalWriteTime(o){const i=__PRIVATE_normalizeTimestamp(o.mapValue.fields.__local_write_time__.timestampValue);return new Timestamp(i.seconds,i.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DatabaseInfo{constructor(i,s,a,et,tt,rt,nt,it,ot){this.databaseId=i,this.appId=s,this.persistenceKey=a,this.host=et,this.ssl=tt,this.forceLongPolling=rt,this.autoDetectLongPolling=nt,this.longPollingOptions=it,this.useFetchStreams=ot}}class DatabaseId{constructor(i,s){this.projectId=i,this.database=s||"(default)"}static empty(){return new DatabaseId("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(i){return i instanceof DatabaseId&&i.projectId===this.projectId&&i.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const te={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},ne={nullValue:"NULL_VALUE"};function __PRIVATE_typeOrder(o){return"nullValue"in o?0:"booleanValue"in o?1:"integerValue"in o||"doubleValue"in o?2:"timestampValue"in o?3:"stringValue"in o?5:"bytesValue"in o?6:"referenceValue"in o?7:"geoPointValue"in o?8:"arrayValue"in o?9:"mapValue"in o?__PRIVATE_isServerTimestamp(o)?4:__PRIVATE_isMaxValue(o)?9007199254740991:10:fail()}function __PRIVATE_valueEquals(o,i){if(o===i)return!0;const s=__PRIVATE_typeOrder(o);if(s!==__PRIVATE_typeOrder(i))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return o.booleanValue===i.booleanValue;case 4:return __PRIVATE_getLocalWriteTime(o).isEqual(__PRIVATE_getLocalWriteTime(i));case 3:return function(et,tt){if(typeof et.timestampValue=="string"&&typeof tt.timestampValue=="string"&&et.timestampValue.length===tt.timestampValue.length)return et.timestampValue===tt.timestampValue;const rt=__PRIVATE_normalizeTimestamp(et.timestampValue),nt=__PRIVATE_normalizeTimestamp(tt.timestampValue);return rt.seconds===nt.seconds&&rt.nanos===nt.nanos}(o,i);case 5:return o.stringValue===i.stringValue;case 6:return function(et,tt){return __PRIVATE_normalizeByteString(et.bytesValue).isEqual(__PRIVATE_normalizeByteString(tt.bytesValue))}(o,i);case 7:return o.referenceValue===i.referenceValue;case 8:return function(et,tt){return __PRIVATE_normalizeNumber(et.geoPointValue.latitude)===__PRIVATE_normalizeNumber(tt.geoPointValue.latitude)&&__PRIVATE_normalizeNumber(et.geoPointValue.longitude)===__PRIVATE_normalizeNumber(tt.geoPointValue.longitude)}(o,i);case 2:return function(et,tt){if("integerValue"in et&&"integerValue"in tt)return __PRIVATE_normalizeNumber(et.integerValue)===__PRIVATE_normalizeNumber(tt.integerValue);if("doubleValue"in et&&"doubleValue"in tt){const rt=__PRIVATE_normalizeNumber(et.doubleValue),nt=__PRIVATE_normalizeNumber(tt.doubleValue);return rt===nt?__PRIVATE_isNegativeZero(rt)===__PRIVATE_isNegativeZero(nt):isNaN(rt)&&isNaN(nt)}return!1}(o,i);case 9:return __PRIVATE_arrayEquals(o.arrayValue.values||[],i.arrayValue.values||[],__PRIVATE_valueEquals);case 10:return function(et,tt){const rt=et.mapValue.fields||{},nt=tt.mapValue.fields||{};if(__PRIVATE_objectSize(rt)!==__PRIVATE_objectSize(nt))return!1;for(const it in rt)if(rt.hasOwnProperty(it)&&(nt[it]===void 0||!__PRIVATE_valueEquals(rt[it],nt[it])))return!1;return!0}(o,i);default:return fail()}}function __PRIVATE_arrayValueContains(o,i){return(o.values||[]).find(s=>__PRIVATE_valueEquals(s,i))!==void 0}function __PRIVATE_valueCompare(o,i){if(o===i)return 0;const s=__PRIVATE_typeOrder(o),a=__PRIVATE_typeOrder(i);if(s!==a)return __PRIVATE_primitiveComparator(s,a);switch(s){case 0:case 9007199254740991:return 0;case 1:return __PRIVATE_primitiveComparator(o.booleanValue,i.booleanValue);case 2:return function(tt,rt){const nt=__PRIVATE_normalizeNumber(tt.integerValue||tt.doubleValue),it=__PRIVATE_normalizeNumber(rt.integerValue||rt.doubleValue);return nt<it?-1:nt>it?1:nt===it?0:isNaN(nt)?isNaN(it)?0:-1:1}(o,i);case 3:return __PRIVATE_compareTimestamps(o.timestampValue,i.timestampValue);case 4:return __PRIVATE_compareTimestamps(__PRIVATE_getLocalWriteTime(o),__PRIVATE_getLocalWriteTime(i));case 5:return __PRIVATE_primitiveComparator(o.stringValue,i.stringValue);case 6:return function(tt,rt){const nt=__PRIVATE_normalizeByteString(tt),it=__PRIVATE_normalizeByteString(rt);return nt.compareTo(it)}(o.bytesValue,i.bytesValue);case 7:return function(tt,rt){const nt=tt.split("/"),it=rt.split("/");for(let ot=0;ot<nt.length&&ot<it.length;ot++){const st=__PRIVATE_primitiveComparator(nt[ot],it[ot]);if(st!==0)return st}return __PRIVATE_primitiveComparator(nt.length,it.length)}(o.referenceValue,i.referenceValue);case 8:return function(tt,rt){const nt=__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(tt.latitude),__PRIVATE_normalizeNumber(rt.latitude));return nt!==0?nt:__PRIVATE_primitiveComparator(__PRIVATE_normalizeNumber(tt.longitude),__PRIVATE_normalizeNumber(rt.longitude))}(o.geoPointValue,i.geoPointValue);case 9:return function(tt,rt){const nt=tt.values||[],it=rt.values||[];for(let ot=0;ot<nt.length&&ot<it.length;++ot){const st=__PRIVATE_valueCompare(nt[ot],it[ot]);if(st)return st}return __PRIVATE_primitiveComparator(nt.length,it.length)}(o.arrayValue,i.arrayValue);case 10:return function(tt,rt){if(tt===te.mapValue&&rt===te.mapValue)return 0;if(tt===te.mapValue)return 1;if(rt===te.mapValue)return-1;const nt=tt.fields||{},it=Object.keys(nt),ot=rt.fields||{},st=Object.keys(ot);it.sort(),st.sort();for(let lt=0;lt<it.length&&lt<st.length;++lt){const at=__PRIVATE_primitiveComparator(it[lt],st[lt]);if(at!==0)return at;const ut=__PRIVATE_valueCompare(nt[it[lt]],ot[st[lt]]);if(ut!==0)return ut}return __PRIVATE_primitiveComparator(it.length,st.length)}(o.mapValue,i.mapValue);default:throw fail()}}function __PRIVATE_compareTimestamps(o,i){if(typeof o=="string"&&typeof i=="string"&&o.length===i.length)return __PRIVATE_primitiveComparator(o,i);const s=__PRIVATE_normalizeTimestamp(o),a=__PRIVATE_normalizeTimestamp(i),et=__PRIVATE_primitiveComparator(s.seconds,a.seconds);return et!==0?et:__PRIVATE_primitiveComparator(s.nanos,a.nanos)}function canonicalId(o){return __PRIVATE_canonifyValue(o)}function __PRIVATE_canonifyValue(o){return"nullValue"in o?"null":"booleanValue"in o?""+o.booleanValue:"integerValue"in o?""+o.integerValue:"doubleValue"in o?""+o.doubleValue:"timestampValue"in o?function(s){const a=__PRIVATE_normalizeTimestamp(s);return`time(${a.seconds},${a.nanos})`}(o.timestampValue):"stringValue"in o?o.stringValue:"bytesValue"in o?function(s){return __PRIVATE_normalizeByteString(s).toBase64()}(o.bytesValue):"referenceValue"in o?function(s){return DocumentKey.fromName(s).toString()}(o.referenceValue):"geoPointValue"in o?function(s){return`geo(${s.latitude},${s.longitude})`}(o.geoPointValue):"arrayValue"in o?function(s){let a="[",et=!0;for(const tt of s.values||[])et?et=!1:a+=",",a+=__PRIVATE_canonifyValue(tt);return a+"]"}(o.arrayValue):"mapValue"in o?function(s){const a=Object.keys(s.fields||{}).sort();let et="{",tt=!0;for(const rt of a)tt?tt=!1:et+=",",et+=`${rt}:${__PRIVATE_canonifyValue(s.fields[rt])}`;return et+"}"}(o.mapValue):fail()}function __PRIVATE_refValue(o,i){return{referenceValue:`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`}}function isInteger(o){return!!o&&"integerValue"in o}function isArray$4(o){return!!o&&"arrayValue"in o}function __PRIVATE_isNullValue(o){return!!o&&"nullValue"in o}function __PRIVATE_isNanValue(o){return!!o&&"doubleValue"in o&&isNaN(Number(o.doubleValue))}function __PRIVATE_isMapValue(o){return!!o&&"mapValue"in o}function __PRIVATE_deepClone(o){if(o.geoPointValue)return{geoPointValue:Object.assign({},o.geoPointValue)};if(o.timestampValue&&typeof o.timestampValue=="object")return{timestampValue:Object.assign({},o.timestampValue)};if(o.mapValue){const i={mapValue:{fields:{}}};return forEach(o.mapValue.fields,(s,a)=>i.mapValue.fields[s]=__PRIVATE_deepClone(a)),i}if(o.arrayValue){const i={arrayValue:{values:[]}};for(let s=0;s<(o.arrayValue.values||[]).length;++s)i.arrayValue.values[s]=__PRIVATE_deepClone(o.arrayValue.values[s]);return i}return Object.assign({},o)}function __PRIVATE_isMaxValue(o){return(((o.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}function __PRIVATE_valuesGetLowerBound(o){return"nullValue"in o?ne:"booleanValue"in o?{booleanValue:!1}:"integerValue"in o||"doubleValue"in o?{doubleValue:NaN}:"timestampValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in o?{stringValue:""}:"bytesValue"in o?{bytesValue:""}:"referenceValue"in o?__PRIVATE_refValue(DatabaseId.empty(),DocumentKey.empty()):"geoPointValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in o?{arrayValue:{}}:"mapValue"in o?{mapValue:{}}:fail()}function __PRIVATE_valuesGetUpperBound(o){return"nullValue"in o?{booleanValue:!1}:"booleanValue"in o?{doubleValue:NaN}:"integerValue"in o||"doubleValue"in o?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in o?{stringValue:""}:"stringValue"in o?{bytesValue:""}:"bytesValue"in o?__PRIVATE_refValue(DatabaseId.empty(),DocumentKey.empty()):"referenceValue"in o?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in o?{arrayValue:{}}:"arrayValue"in o?{mapValue:{}}:"mapValue"in o?te:fail()}function __PRIVATE_lowerBoundCompare(o,i){const s=__PRIVATE_valueCompare(o.value,i.value);return s!==0?s:o.inclusive&&!i.inclusive?-1:!o.inclusive&&i.inclusive?1:0}function __PRIVATE_upperBoundCompare(o,i){const s=__PRIVATE_valueCompare(o.value,i.value);return s!==0?s:o.inclusive&&!i.inclusive?1:!o.inclusive&&i.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectValue{constructor(i){this.value=i}static empty(){return new ObjectValue({mapValue:{}})}field(i){if(i.isEmpty())return this.value;{let s=this.value;for(let a=0;a<i.length-1;++a)if(s=(s.mapValue.fields||{})[i.get(a)],!__PRIVATE_isMapValue(s))return null;return s=(s.mapValue.fields||{})[i.lastSegment()],s||null}}set(i,s){this.getFieldsMap(i.popLast())[i.lastSegment()]=__PRIVATE_deepClone(s)}setAll(i){let s=FieldPath$1.emptyPath(),a={},et=[];i.forEach((rt,nt)=>{if(!s.isImmediateParentOf(nt)){const it=this.getFieldsMap(s);this.applyChanges(it,a,et),a={},et=[],s=nt.popLast()}rt?a[nt.lastSegment()]=__PRIVATE_deepClone(rt):et.push(nt.lastSegment())});const tt=this.getFieldsMap(s);this.applyChanges(tt,a,et)}delete(i){const s=this.field(i.popLast());__PRIVATE_isMapValue(s)&&s.mapValue.fields&&delete s.mapValue.fields[i.lastSegment()]}isEqual(i){return __PRIVATE_valueEquals(this.value,i.value)}getFieldsMap(i){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let a=0;a<i.length;++a){let et=s.mapValue.fields[i.get(a)];__PRIVATE_isMapValue(et)&&et.mapValue.fields||(et={mapValue:{fields:{}}},s.mapValue.fields[i.get(a)]=et),s=et}return s.mapValue.fields}applyChanges(i,s,a){forEach(s,(et,tt)=>i[et]=tt);for(const et of a)delete i[et]}clone(){return new ObjectValue(__PRIVATE_deepClone(this.value))}}function __PRIVATE_extractFieldMask(o){const i=[];return forEach(o.fields,(s,a)=>{const et=new FieldPath$1([s]);if(__PRIVATE_isMapValue(a)){const tt=__PRIVATE_extractFieldMask(a.mapValue).fields;if(tt.length===0)i.push(et);else for(const rt of tt)i.push(et.child(rt))}else i.push(et)}),new FieldMask(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutableDocument{constructor(i,s,a,et,tt,rt,nt){this.key=i,this.documentType=s,this.version=a,this.readTime=et,this.createTime=tt,this.data=rt,this.documentState=nt}static newInvalidDocument(i){return new MutableDocument(i,0,SnapshotVersion.min(),SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newFoundDocument(i,s,a,et){return new MutableDocument(i,1,s,SnapshotVersion.min(),a,et,0)}static newNoDocument(i,s){return new MutableDocument(i,2,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),0)}static newUnknownDocument(i,s){return new MutableDocument(i,3,s,SnapshotVersion.min(),SnapshotVersion.min(),ObjectValue.empty(),2)}convertToFoundDocument(i,s){return!this.createTime.isEqual(SnapshotVersion.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=i),this.version=i,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(i){return this.version=i,this.documentType=2,this.data=ObjectValue.empty(),this.documentState=0,this}convertToUnknownDocument(i){return this.version=i,this.documentType=3,this.data=ObjectValue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=SnapshotVersion.min(),this}setReadTime(i){return this.readTime=i,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(i){return i instanceof MutableDocument&&this.key.isEqual(i.key)&&this.version.isEqual(i.version)&&this.documentType===i.documentType&&this.documentState===i.documentState&&this.data.isEqual(i.data)}mutableCopy(){return new MutableDocument(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bound{constructor(i,s){this.position=i,this.inclusive=s}}function __PRIVATE_boundCompareToDocument(o,i,s){let a=0;for(let et=0;et<o.position.length;et++){const tt=i[et],rt=o.position[et];if(tt.field.isKeyField()?a=DocumentKey.comparator(DocumentKey.fromName(rt.referenceValue),s.key):a=__PRIVATE_valueCompare(rt,s.data.field(tt.field)),tt.dir==="desc"&&(a*=-1),a!==0)break}return a}function __PRIVATE_boundEquals(o,i){if(o===null)return i===null;if(i===null||o.inclusive!==i.inclusive||o.position.length!==i.position.length)return!1;for(let s=0;s<o.position.length;s++)if(!__PRIVATE_valueEquals(o.position[s],i.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OrderBy{constructor(i,s="asc"){this.field=i,this.dir=s}}function __PRIVATE_orderByEquals(o,i){return o.dir===i.dir&&o.field.isEqual(i.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Filter{}class FieldFilter extends Filter{constructor(i,s,a){super(),this.field=i,this.op=s,this.value=a}static create(i,s,a){return i.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(i,s,a):new __PRIVATE_KeyFieldFilter(i,s,a):s==="array-contains"?new __PRIVATE_ArrayContainsFilter(i,a):s==="in"?new __PRIVATE_InFilter(i,a):s==="not-in"?new __PRIVATE_NotInFilter(i,a):s==="array-contains-any"?new __PRIVATE_ArrayContainsAnyFilter(i,a):new FieldFilter(i,s,a)}static createKeyFieldInFilter(i,s,a){return s==="in"?new __PRIVATE_KeyFieldInFilter(i,a):new __PRIVATE_KeyFieldNotInFilter(i,a)}matches(i){const s=i.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value)):s!==null&&__PRIVATE_typeOrder(this.value)===__PRIVATE_typeOrder(s)&&this.matchesComparison(__PRIVATE_valueCompare(s,this.value))}matchesComparison(i){switch(this.op){case"<":return i<0;case"<=":return i<=0;case"==":return i===0;case"!=":return i!==0;case">":return i>0;case">=":return i>=0;default:return fail()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class CompositeFilter extends Filter{constructor(i,s){super(),this.filters=i,this.op=s,this.ue=null}static create(i,s){return new CompositeFilter(i,s)}matches(i){return __PRIVATE_compositeFilterIsConjunction(this)?this.filters.find(s=>!s.matches(i))===void 0:this.filters.find(s=>s.matches(i))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((i,s)=>i.concat(s.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function __PRIVATE_compositeFilterIsConjunction(o){return o.op==="and"}function __PRIVATE_compositeFilterIsDisjunction(o){return o.op==="or"}function __PRIVATE_compositeFilterIsFlatConjunction(o){return __PRIVATE_compositeFilterIsFlat(o)&&__PRIVATE_compositeFilterIsConjunction(o)}function __PRIVATE_compositeFilterIsFlat(o){for(const i of o.filters)if(i instanceof CompositeFilter)return!1;return!0}function __PRIVATE_canonifyFilter(o){if(o instanceof FieldFilter)return o.field.canonicalString()+o.op.toString()+canonicalId(o.value);if(__PRIVATE_compositeFilterIsFlatConjunction(o))return o.filters.map(i=>__PRIVATE_canonifyFilter(i)).join(",");{const i=o.filters.map(s=>__PRIVATE_canonifyFilter(s)).join(",");return`${o.op}(${i})`}}function __PRIVATE_filterEquals(o,i){return o instanceof FieldFilter?function(a,et){return et instanceof FieldFilter&&a.op===et.op&&a.field.isEqual(et.field)&&__PRIVATE_valueEquals(a.value,et.value)}(o,i):o instanceof CompositeFilter?function(a,et){return et instanceof CompositeFilter&&a.op===et.op&&a.filters.length===et.filters.length?a.filters.reduce((tt,rt,nt)=>tt&&__PRIVATE_filterEquals(rt,et.filters[nt]),!0):!1}(o,i):void fail()}function __PRIVATE_compositeFilterWithAddedFilters(o,i){const s=o.filters.concat(i);return CompositeFilter.create(s,o.op)}function __PRIVATE_stringifyFilter(o){return o instanceof FieldFilter?function(s){return`${s.field.canonicalString()} ${s.op} ${canonicalId(s.value)}`}(o):o instanceof CompositeFilter?function(s){return s.op.toString()+" {"+s.getFilters().map(__PRIVATE_stringifyFilter).join(" ,")+"}"}(o):"Filter"}class __PRIVATE_KeyFieldFilter extends FieldFilter{constructor(i,s,a){super(i,s,a),this.key=DocumentKey.fromName(a.referenceValue)}matches(i){const s=DocumentKey.comparator(i.key,this.key);return this.matchesComparison(s)}}class __PRIVATE_KeyFieldInFilter extends FieldFilter{constructor(i,s){super(i,"in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("in",s)}matches(i){return this.keys.some(s=>s.isEqual(i.key))}}class __PRIVATE_KeyFieldNotInFilter extends FieldFilter{constructor(i,s){super(i,"not-in",s),this.keys=__PRIVATE_extractDocumentKeysFromArrayValue("not-in",s)}matches(i){return!this.keys.some(s=>s.isEqual(i.key))}}function __PRIVATE_extractDocumentKeysFromArrayValue(o,i){var s;return(((s=i.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(a=>DocumentKey.fromName(a.referenceValue))}class __PRIVATE_ArrayContainsFilter extends FieldFilter{constructor(i,s){super(i,"array-contains",s)}matches(i){const s=i.data.field(this.field);return isArray$4(s)&&__PRIVATE_arrayValueContains(s.arrayValue,this.value)}}class __PRIVATE_InFilter extends FieldFilter{constructor(i,s){super(i,"in",s)}matches(i){const s=i.data.field(this.field);return s!==null&&__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_NotInFilter extends FieldFilter{constructor(i,s){super(i,"not-in",s)}matches(i){if(__PRIVATE_arrayValueContains(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=i.data.field(this.field);return s!==null&&!__PRIVATE_arrayValueContains(this.value.arrayValue,s)}}class __PRIVATE_ArrayContainsAnyFilter extends FieldFilter{constructor(i,s){super(i,"array-contains-any",s)}matches(i){const s=i.data.field(this.field);return!(!isArray$4(s)||!s.arrayValue.values)&&s.arrayValue.values.some(a=>__PRIVATE_arrayValueContains(this.value.arrayValue,a))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetImpl{constructor(i,s=null,a=[],et=[],tt=null,rt=null,nt=null){this.path=i,this.collectionGroup=s,this.orderBy=a,this.filters=et,this.limit=tt,this.startAt=rt,this.endAt=nt,this.ce=null}}function __PRIVATE_newTarget(o,i=null,s=[],a=[],et=null,tt=null,rt=null){return new __PRIVATE_TargetImpl(o,i,s,a,et,tt,rt)}function __PRIVATE_canonifyTarget(o){const i=__PRIVATE_debugCast(o);if(i.ce===null){let s=i.path.canonicalString();i.collectionGroup!==null&&(s+="|cg:"+i.collectionGroup),s+="|f:",s+=i.filters.map(a=>__PRIVATE_canonifyFilter(a)).join(","),s+="|ob:",s+=i.orderBy.map(a=>function(tt){return tt.field.canonicalString()+tt.dir}(a)).join(","),__PRIVATE_isNullOrUndefined(i.limit)||(s+="|l:",s+=i.limit),i.startAt&&(s+="|lb:",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(a=>canonicalId(a)).join(",")),i.endAt&&(s+="|ub:",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(a=>canonicalId(a)).join(",")),i.ce=s}return i.ce}function __PRIVATE_targetEquals(o,i){if(o.limit!==i.limit||o.orderBy.length!==i.orderBy.length)return!1;for(let s=0;s<o.orderBy.length;s++)if(!__PRIVATE_orderByEquals(o.orderBy[s],i.orderBy[s]))return!1;if(o.filters.length!==i.filters.length)return!1;for(let s=0;s<o.filters.length;s++)if(!__PRIVATE_filterEquals(o.filters[s],i.filters[s]))return!1;return o.collectionGroup===i.collectionGroup&&!!o.path.isEqual(i.path)&&!!__PRIVATE_boundEquals(o.startAt,i.startAt)&&__PRIVATE_boundEquals(o.endAt,i.endAt)}function __PRIVATE_targetIsDocumentTarget(o){return DocumentKey.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}function __PRIVATE_targetGetFieldFiltersForPath(o,i){return o.filters.filter(s=>s instanceof FieldFilter&&s.field.isEqual(i))}function __PRIVATE_targetGetAscendingBound(o,i,s){let a=ne,et=!0;for(const tt of __PRIVATE_targetGetFieldFiltersForPath(o,i)){let rt=ne,nt=!0;switch(tt.op){case"<":case"<=":rt=__PRIVATE_valuesGetLowerBound(tt.value);break;case"==":case"in":case">=":rt=tt.value;break;case">":rt=tt.value,nt=!1;break;case"!=":case"not-in":rt=ne}__PRIVATE_lowerBoundCompare({value:a,inclusive:et},{value:rt,inclusive:nt})<0&&(a=rt,et=nt)}if(s!==null){for(let tt=0;tt<o.orderBy.length;++tt)if(o.orderBy[tt].field.isEqual(i)){const rt=s.position[tt];__PRIVATE_lowerBoundCompare({value:a,inclusive:et},{value:rt,inclusive:s.inclusive})<0&&(a=rt,et=s.inclusive);break}}return{value:a,inclusive:et}}function __PRIVATE_targetGetDescendingBound(o,i,s){let a=te,et=!0;for(const tt of __PRIVATE_targetGetFieldFiltersForPath(o,i)){let rt=te,nt=!0;switch(tt.op){case">=":case">":rt=__PRIVATE_valuesGetUpperBound(tt.value),nt=!1;break;case"==":case"in":case"<=":rt=tt.value;break;case"<":rt=tt.value,nt=!1;break;case"!=":case"not-in":rt=te}__PRIVATE_upperBoundCompare({value:a,inclusive:et},{value:rt,inclusive:nt})>0&&(a=rt,et=nt)}if(s!==null){for(let tt=0;tt<o.orderBy.length;++tt)if(o.orderBy[tt].field.isEqual(i)){const rt=s.position[tt];__PRIVATE_upperBoundCompare({value:a,inclusive:et},{value:rt,inclusive:s.inclusive})>0&&(a=rt,et=s.inclusive);break}}return{value:a,inclusive:et}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryImpl{constructor(i,s=null,a=[],et=[],tt=null,rt="F",nt=null,it=null){this.path=i,this.collectionGroup=s,this.explicitOrderBy=a,this.filters=et,this.limit=tt,this.limitType=rt,this.startAt=nt,this.endAt=it,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function __PRIVATE_newQuery(o,i,s,a,et,tt,rt,nt){return new __PRIVATE_QueryImpl(o,i,s,a,et,tt,rt,nt)}function __PRIVATE_newQueryForPath(o){return new __PRIVATE_QueryImpl(o)}function __PRIVATE_queryMatchesAllDocuments(o){return o.filters.length===0&&o.limit===null&&o.startAt==null&&o.endAt==null&&(o.explicitOrderBy.length===0||o.explicitOrderBy.length===1&&o.explicitOrderBy[0].field.isKeyField())}function __PRIVATE_isCollectionGroupQuery(o){return o.collectionGroup!==null}function __PRIVATE_queryNormalizedOrderBy(o){const i=__PRIVATE_debugCast(o);if(i.le===null){i.le=[];const s=new Set;for(const tt of i.explicitOrderBy)i.le.push(tt),s.add(tt.field.canonicalString());const a=i.explicitOrderBy.length>0?i.explicitOrderBy[i.explicitOrderBy.length-1].dir:"asc";(function(rt){let nt=new SortedSet(FieldPath$1.comparator);return rt.filters.forEach(it=>{it.getFlattenedFilters().forEach(ot=>{ot.isInequality()&&(nt=nt.add(ot.field))})}),nt})(i).forEach(tt=>{s.has(tt.canonicalString())||tt.isKeyField()||i.le.push(new OrderBy(tt,a))}),s.has(FieldPath$1.keyField().canonicalString())||i.le.push(new OrderBy(FieldPath$1.keyField(),a))}return i.le}function __PRIVATE_queryToTarget(o){const i=__PRIVATE_debugCast(o);return i.he||(i.he=__PRIVATE__queryToTarget(i,__PRIVATE_queryNormalizedOrderBy(o))),i.he}function __PRIVATE__queryToTarget(o,i){if(o.limitType==="F")return __PRIVATE_newTarget(o.path,o.collectionGroup,i,o.filters,o.limit,o.startAt,o.endAt);{i=i.map(et=>{const tt=et.dir==="desc"?"asc":"desc";return new OrderBy(et.field,tt)});const s=o.endAt?new Bound(o.endAt.position,o.endAt.inclusive):null,a=o.startAt?new Bound(o.startAt.position,o.startAt.inclusive):null;return __PRIVATE_newTarget(o.path,o.collectionGroup,i,o.filters,o.limit,s,a)}}function __PRIVATE_queryWithAddedFilter(o,i){const s=o.filters.concat([i]);return new __PRIVATE_QueryImpl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),s,o.limit,o.limitType,o.startAt,o.endAt)}function __PRIVATE_queryWithLimit(o,i,s){return new __PRIVATE_QueryImpl(o.path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),i,s,o.startAt,o.endAt)}function __PRIVATE_queryEquals(o,i){return __PRIVATE_targetEquals(__PRIVATE_queryToTarget(o),__PRIVATE_queryToTarget(i))&&o.limitType===i.limitType}function __PRIVATE_canonifyQuery(o){return`${__PRIVATE_canonifyTarget(__PRIVATE_queryToTarget(o))}|lt:${o.limitType}`}function __PRIVATE_stringifyQuery(o){return`Query(target=${function(s){let a=s.path.canonicalString();return s.collectionGroup!==null&&(a+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(a+=`, filters: [${s.filters.map(et=>__PRIVATE_stringifyFilter(et)).join(", ")}]`),__PRIVATE_isNullOrUndefined(s.limit)||(a+=", limit: "+s.limit),s.orderBy.length>0&&(a+=`, orderBy: [${s.orderBy.map(et=>function(rt){return`${rt.field.canonicalString()} (${rt.dir})`}(et)).join(", ")}]`),s.startAt&&(a+=", startAt: ",a+=s.startAt.inclusive?"b:":"a:",a+=s.startAt.position.map(et=>canonicalId(et)).join(",")),s.endAt&&(a+=", endAt: ",a+=s.endAt.inclusive?"a:":"b:",a+=s.endAt.position.map(et=>canonicalId(et)).join(",")),`Target(${a})`}(__PRIVATE_queryToTarget(o))}; limitType=${o.limitType})`}function __PRIVATE_queryMatches(o,i){return i.isFoundDocument()&&function(a,et){const tt=et.key.path;return a.collectionGroup!==null?et.key.hasCollectionId(a.collectionGroup)&&a.path.isPrefixOf(tt):DocumentKey.isDocumentKey(a.path)?a.path.isEqual(tt):a.path.isImmediateParentOf(tt)}(o,i)&&function(a,et){for(const tt of __PRIVATE_queryNormalizedOrderBy(a))if(!tt.field.isKeyField()&&et.data.field(tt.field)===null)return!1;return!0}(o,i)&&function(a,et){for(const tt of a.filters)if(!tt.matches(et))return!1;return!0}(o,i)&&function(a,et){return!(a.startAt&&!function(rt,nt,it){const ot=__PRIVATE_boundCompareToDocument(rt,nt,it);return rt.inclusive?ot<=0:ot<0}(a.startAt,__PRIVATE_queryNormalizedOrderBy(a),et)||a.endAt&&!function(rt,nt,it){const ot=__PRIVATE_boundCompareToDocument(rt,nt,it);return rt.inclusive?ot>=0:ot>0}(a.endAt,__PRIVATE_queryNormalizedOrderBy(a),et))}(o,i)}function __PRIVATE_queryCollectionGroup(o){return o.collectionGroup||(o.path.length%2==1?o.path.lastSegment():o.path.get(o.path.length-2))}function __PRIVATE_newQueryComparator(o){return(i,s)=>{let a=!1;for(const et of __PRIVATE_queryNormalizedOrderBy(o)){const tt=__PRIVATE_compareDocs(et,i,s);if(tt!==0)return tt;a=a||et.field.isKeyField()}return 0}}function __PRIVATE_compareDocs(o,i,s){const a=o.field.isKeyField()?DocumentKey.comparator(i.key,s.key):function(tt,rt,nt){const it=rt.data.field(tt),ot=nt.data.field(tt);return it!==null&&ot!==null?__PRIVATE_valueCompare(it,ot):fail()}(o.field,i,s);switch(o.dir){case"asc":return a;case"desc":return-1*a;default:return fail()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ObjectMap{constructor(i,s){this.mapKeyFn=i,this.equalsFn=s,this.inner={},this.innerSize=0}get(i){const s=this.mapKeyFn(i),a=this.inner[s];if(a!==void 0){for(const[et,tt]of a)if(this.equalsFn(et,i))return tt}}has(i){return this.get(i)!==void 0}set(i,s){const a=this.mapKeyFn(i),et=this.inner[a];if(et===void 0)return this.inner[a]=[[i,s]],void this.innerSize++;for(let tt=0;tt<et.length;tt++)if(this.equalsFn(et[tt][0],i))return void(et[tt]=[i,s]);et.push([i,s]),this.innerSize++}delete(i){const s=this.mapKeyFn(i),a=this.inner[s];if(a===void 0)return!1;for(let et=0;et<a.length;et++)if(this.equalsFn(a[et][0],i))return a.length===1?delete this.inner[s]:a.splice(et,1),this.innerSize--,!0;return!1}forEach(i){forEach(this.inner,(s,a)=>{for(const[et,tt]of a)i(et,tt)})}isEmpty(){return isEmpty$4(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re=new SortedMap(DocumentKey.comparator);function __PRIVATE_mutableDocumentMap(){return re}const ie=new SortedMap(DocumentKey.comparator);function documentMap(...o){let i=ie;for(const s of o)i=i.insert(s.key,s);return i}function __PRIVATE_convertOverlayedDocumentMapToDocumentMap(o){let i=ie;return o.forEach((s,a)=>i=i.insert(s,a.overlayedDocument)),i}function __PRIVATE_newOverlayMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newMutationMap(){return __PRIVATE_newDocumentKeyMap()}function __PRIVATE_newDocumentKeyMap(){return new ObjectMap(o=>o.toString(),(o,i)=>o.isEqual(i))}const se=new SortedMap(DocumentKey.comparator),oe=new SortedSet(DocumentKey.comparator);function __PRIVATE_documentKeySet(...o){let i=oe;for(const s of o)i=i.add(s);return i}const _e=new SortedSet(__PRIVATE_primitiveComparator);function __PRIVATE_targetIdSet(){return _e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toDouble(o,i){if(o.useProto3Json){if(isNaN(i))return{doubleValue:"NaN"};if(i===1/0)return{doubleValue:"Infinity"};if(i===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:__PRIVATE_isNegativeZero(i)?"-0":i}}function __PRIVATE_toInteger(o){return{integerValue:""+o}}function toNumber(o,i){return isSafeInteger(i)?__PRIVATE_toInteger(i):__PRIVATE_toDouble(o,i)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TransformOperation{constructor(){this._=void 0}}function __PRIVATE_applyTransformOperationToLocalView(o,i,s){return o instanceof __PRIVATE_ServerTimestampTransform?function(et,tt){const rt={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:et.seconds,nanos:et.nanoseconds}}}};return tt&&__PRIVATE_isServerTimestamp(tt)&&(tt=__PRIVATE_getPreviousValue(tt)),tt&&(rt.fields.__previous_value__=tt),{mapValue:rt}}(s,i):o instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(o,i):o instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(o,i):function(et,tt){const rt=__PRIVATE_computeTransformOperationBaseValue(et,tt),nt=asNumber(rt)+asNumber(et.Ie);return isInteger(rt)&&isInteger(et.Ie)?__PRIVATE_toInteger(nt):__PRIVATE_toDouble(et.serializer,nt)}(o,i)}function __PRIVATE_applyTransformOperationToRemoteDocument(o,i,s){return o instanceof __PRIVATE_ArrayUnionTransformOperation?__PRIVATE_applyArrayUnionTransformOperation(o,i):o instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_applyArrayRemoveTransformOperation(o,i):s}function __PRIVATE_computeTransformOperationBaseValue(o,i){return o instanceof __PRIVATE_NumericIncrementTransformOperation?function(a){return isInteger(a)||function(tt){return!!tt&&"doubleValue"in tt}(a)}(i)?i:{integerValue:0}:null}class __PRIVATE_ServerTimestampTransform extends TransformOperation{}class __PRIVATE_ArrayUnionTransformOperation extends TransformOperation{constructor(i){super(),this.elements=i}}function __PRIVATE_applyArrayUnionTransformOperation(o,i){const s=__PRIVATE_coercedFieldValuesArray(i);for(const a of o.elements)s.some(et=>__PRIVATE_valueEquals(et,a))||s.push(a);return{arrayValue:{values:s}}}class __PRIVATE_ArrayRemoveTransformOperation extends TransformOperation{constructor(i){super(),this.elements=i}}function __PRIVATE_applyArrayRemoveTransformOperation(o,i){let s=__PRIVATE_coercedFieldValuesArray(i);for(const a of o.elements)s=s.filter(et=>!__PRIVATE_valueEquals(et,a));return{arrayValue:{values:s}}}class __PRIVATE_NumericIncrementTransformOperation extends TransformOperation{constructor(i,s){super(),this.serializer=i,this.Ie=s}}function asNumber(o){return __PRIVATE_normalizeNumber(o.integerValue||o.doubleValue)}function __PRIVATE_coercedFieldValuesArray(o){return isArray$4(o)&&o.arrayValue.values?o.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldTransform{constructor(i,s){this.field=i,this.transform=s}}function __PRIVATE_fieldTransformEquals(o,i){return o.field.isEqual(i.field)&&function(a,et){return a instanceof __PRIVATE_ArrayUnionTransformOperation&&et instanceof __PRIVATE_ArrayUnionTransformOperation||a instanceof __PRIVATE_ArrayRemoveTransformOperation&&et instanceof __PRIVATE_ArrayRemoveTransformOperation?__PRIVATE_arrayEquals(a.elements,et.elements,__PRIVATE_valueEquals):a instanceof __PRIVATE_NumericIncrementTransformOperation&&et instanceof __PRIVATE_NumericIncrementTransformOperation?__PRIVATE_valueEquals(a.Ie,et.Ie):a instanceof __PRIVATE_ServerTimestampTransform&&et instanceof __PRIVATE_ServerTimestampTransform}(o.transform,i.transform)}class MutationResult{constructor(i,s){this.version=i,this.transformResults=s}}class Precondition{constructor(i,s){this.updateTime=i,this.exists=s}static none(){return new Precondition}static exists(i){return new Precondition(void 0,i)}static updateTime(i){return new Precondition(i)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(i){return this.exists===i.exists&&(this.updateTime?!!i.updateTime&&this.updateTime.isEqual(i.updateTime):!i.updateTime)}}function __PRIVATE_preconditionIsValidForDocument(o,i){return o.updateTime!==void 0?i.isFoundDocument()&&i.version.isEqual(o.updateTime):o.exists===void 0||o.exists===i.isFoundDocument()}class Mutation{}function __PRIVATE_calculateOverlayMutation(o,i){if(!o.hasLocalMutations||i&&i.fields.length===0)return null;if(i===null)return o.isNoDocument()?new __PRIVATE_DeleteMutation(o.key,Precondition.none()):new __PRIVATE_SetMutation(o.key,o.data,Precondition.none());{const s=o.data,a=ObjectValue.empty();let et=new SortedSet(FieldPath$1.comparator);for(let tt of i.fields)if(!et.has(tt)){let rt=s.field(tt);rt===null&&tt.length>1&&(tt=tt.popLast(),rt=s.field(tt)),rt===null?a.delete(tt):a.set(tt,rt),et=et.add(tt)}return new __PRIVATE_PatchMutation(o.key,a,new FieldMask(et.toArray()),Precondition.none())}}function __PRIVATE_mutationApplyToRemoteDocument(o,i,s){o instanceof __PRIVATE_SetMutation?function(et,tt,rt){const nt=et.value.clone(),it=__PRIVATE_serverTransformResults(et.fieldTransforms,tt,rt.transformResults);nt.setAll(it),tt.convertToFoundDocument(rt.version,nt).setHasCommittedMutations()}(o,i,s):o instanceof __PRIVATE_PatchMutation?function(et,tt,rt){if(!__PRIVATE_preconditionIsValidForDocument(et.precondition,tt))return void tt.convertToUnknownDocument(rt.version);const nt=__PRIVATE_serverTransformResults(et.fieldTransforms,tt,rt.transformResults),it=tt.data;it.setAll(__PRIVATE_getPatch(et)),it.setAll(nt),tt.convertToFoundDocument(rt.version,it).setHasCommittedMutations()}(o,i,s):function(et,tt,rt){tt.convertToNoDocument(rt.version).setHasCommittedMutations()}(0,i,s)}function __PRIVATE_mutationApplyToLocalView(o,i,s,a){return o instanceof __PRIVATE_SetMutation?function(tt,rt,nt,it){if(!__PRIVATE_preconditionIsValidForDocument(tt.precondition,rt))return nt;const ot=tt.value.clone(),st=__PRIVATE_localTransformResults(tt.fieldTransforms,it,rt);return ot.setAll(st),rt.convertToFoundDocument(rt.version,ot).setHasLocalMutations(),null}(o,i,s,a):o instanceof __PRIVATE_PatchMutation?function(tt,rt,nt,it){if(!__PRIVATE_preconditionIsValidForDocument(tt.precondition,rt))return nt;const ot=__PRIVATE_localTransformResults(tt.fieldTransforms,it,rt),st=rt.data;return st.setAll(__PRIVATE_getPatch(tt)),st.setAll(ot),rt.convertToFoundDocument(rt.version,st).setHasLocalMutations(),nt===null?null:nt.unionWith(tt.fieldMask.fields).unionWith(tt.fieldTransforms.map(lt=>lt.field))}(o,i,s,a):function(tt,rt,nt){return __PRIVATE_preconditionIsValidForDocument(tt.precondition,rt)?(rt.convertToNoDocument(rt.version).setHasLocalMutations(),null):nt}(o,i,s)}function __PRIVATE_mutationExtractBaseValue(o,i){let s=null;for(const a of o.fieldTransforms){const et=i.data.field(a.field),tt=__PRIVATE_computeTransformOperationBaseValue(a.transform,et||null);tt!=null&&(s===null&&(s=ObjectValue.empty()),s.set(a.field,tt))}return s||null}function __PRIVATE_mutationEquals(o,i){return o.type===i.type&&!!o.key.isEqual(i.key)&&!!o.precondition.isEqual(i.precondition)&&!!function(a,et){return a===void 0&&et===void 0||!(!a||!et)&&__PRIVATE_arrayEquals(a,et,(tt,rt)=>__PRIVATE_fieldTransformEquals(tt,rt))}(o.fieldTransforms,i.fieldTransforms)&&(o.type===0?o.value.isEqual(i.value):o.type!==1||o.data.isEqual(i.data)&&o.fieldMask.isEqual(i.fieldMask))}class __PRIVATE_SetMutation extends Mutation{constructor(i,s,a,et=[]){super(),this.key=i,this.value=s,this.precondition=a,this.fieldTransforms=et,this.type=0}getFieldMask(){return null}}class __PRIVATE_PatchMutation extends Mutation{constructor(i,s,a,et,tt=[]){super(),this.key=i,this.data=s,this.fieldMask=a,this.precondition=et,this.fieldTransforms=tt,this.type=1}getFieldMask(){return this.fieldMask}}function __PRIVATE_getPatch(o){const i=new Map;return o.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const a=o.data.field(s);i.set(s,a)}}),i}function __PRIVATE_serverTransformResults(o,i,s){const a=new Map;__PRIVATE_hardAssert(o.length===s.length);for(let et=0;et<s.length;et++){const tt=o[et],rt=tt.transform,nt=i.data.field(tt.field);a.set(tt.field,__PRIVATE_applyTransformOperationToRemoteDocument(rt,nt,s[et]))}return a}function __PRIVATE_localTransformResults(o,i,s){const a=new Map;for(const et of o){const tt=et.transform,rt=s.data.field(et.field);a.set(et.field,__PRIVATE_applyTransformOperationToLocalView(tt,rt,i))}return a}class __PRIVATE_DeleteMutation extends Mutation{constructor(i,s){super(),this.key=i,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class __PRIVATE_VerifyMutation extends Mutation{constructor(i,s){super(),this.key=i,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MutationBatch{constructor(i,s,a,et){this.batchId=i,this.localWriteTime=s,this.baseMutations=a,this.mutations=et}applyToRemoteDocument(i,s){const a=s.mutationResults;for(let et=0;et<this.mutations.length;et++){const tt=this.mutations[et];tt.key.isEqual(i.key)&&__PRIVATE_mutationApplyToRemoteDocument(tt,i,a[et])}}applyToLocalView(i,s){for(const a of this.baseMutations)a.key.isEqual(i.key)&&(s=__PRIVATE_mutationApplyToLocalView(a,i,s,this.localWriteTime));for(const a of this.mutations)a.key.isEqual(i.key)&&(s=__PRIVATE_mutationApplyToLocalView(a,i,s,this.localWriteTime));return s}applyToLocalDocumentSet(i,s){const a=__PRIVATE_newMutationMap();return this.mutations.forEach(et=>{const tt=i.get(et.key),rt=tt.overlayedDocument;let nt=this.applyToLocalView(rt,tt.mutatedFields);nt=s.has(et.key)?null:nt;const it=__PRIVATE_calculateOverlayMutation(rt,nt);it!==null&&a.set(et.key,it),rt.isValidDocument()||rt.convertToNoDocument(SnapshotVersion.min())}),a}keys(){return this.mutations.reduce((i,s)=>i.add(s.key),__PRIVATE_documentKeySet())}isEqual(i){return this.batchId===i.batchId&&__PRIVATE_arrayEquals(this.mutations,i.mutations,(s,a)=>__PRIVATE_mutationEquals(s,a))&&__PRIVATE_arrayEquals(this.baseMutations,i.baseMutations,(s,a)=>__PRIVATE_mutationEquals(s,a))}}class MutationBatchResult{constructor(i,s,a,et){this.batch=i,this.commitVersion=s,this.mutationResults=a,this.docVersions=et}static from(i,s,a){__PRIVATE_hardAssert(i.mutations.length===a.length);let et=function(){return se}();const tt=i.mutations;for(let rt=0;rt<tt.length;rt++)et=et.insert(tt[rt].key,a[rt].version);return new MutationBatchResult(i,s,a,et)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Overlay{constructor(i,s){this.largestBatchId=i,this.mutation=s}getKey(){return this.mutation.key}isEqual(i){return i!==null&&this.mutation===i.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ExistenceFilter{constructor(i,s){this.count=i,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ae,ue;function __PRIVATE_isPermanentError(o){switch(o){default:return fail();case D.CANCELLED:case D.UNKNOWN:case D.DEADLINE_EXCEEDED:case D.RESOURCE_EXHAUSTED:case D.INTERNAL:case D.UNAVAILABLE:case D.UNAUTHENTICATED:return!1;case D.INVALID_ARGUMENT:case D.NOT_FOUND:case D.ALREADY_EXISTS:case D.PERMISSION_DENIED:case D.FAILED_PRECONDITION:case D.ABORTED:case D.OUT_OF_RANGE:case D.UNIMPLEMENTED:case D.DATA_LOSS:return!0}}function __PRIVATE_mapCodeFromRpcCode(o){if(o===void 0)return __PRIVATE_logError("GRPC error has no .code"),D.UNKNOWN;switch(o){case ae.OK:return D.OK;case ae.CANCELLED:return D.CANCELLED;case ae.UNKNOWN:return D.UNKNOWN;case ae.DEADLINE_EXCEEDED:return D.DEADLINE_EXCEEDED;case ae.RESOURCE_EXHAUSTED:return D.RESOURCE_EXHAUSTED;case ae.INTERNAL:return D.INTERNAL;case ae.UNAVAILABLE:return D.UNAVAILABLE;case ae.UNAUTHENTICATED:return D.UNAUTHENTICATED;case ae.INVALID_ARGUMENT:return D.INVALID_ARGUMENT;case ae.NOT_FOUND:return D.NOT_FOUND;case ae.ALREADY_EXISTS:return D.ALREADY_EXISTS;case ae.PERMISSION_DENIED:return D.PERMISSION_DENIED;case ae.FAILED_PRECONDITION:return D.FAILED_PRECONDITION;case ae.ABORTED:return D.ABORTED;case ae.OUT_OF_RANGE:return D.OUT_OF_RANGE;case ae.UNIMPLEMENTED:return D.UNIMPLEMENTED;case ae.DATA_LOSS:return D.DATA_LOSS;default:return fail()}}(ue=ae||(ae={}))[ue.OK=0]="OK",ue[ue.CANCELLED=1]="CANCELLED",ue[ue.UNKNOWN=2]="UNKNOWN",ue[ue.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ue[ue.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ue[ue.NOT_FOUND=5]="NOT_FOUND",ue[ue.ALREADY_EXISTS=6]="ALREADY_EXISTS",ue[ue.PERMISSION_DENIED=7]="PERMISSION_DENIED",ue[ue.UNAUTHENTICATED=16]="UNAUTHENTICATED",ue[ue.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ue[ue.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ue[ue.ABORTED=10]="ABORTED",ue[ue.OUT_OF_RANGE=11]="OUT_OF_RANGE",ue[ue.UNIMPLEMENTED=12]="UNIMPLEMENTED",ue[ue.INTERNAL=13]="INTERNAL",ue[ue.UNAVAILABLE=14]="UNAVAILABLE",ue[ue.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newTextEncoder(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le=new Integer([4294967295,4294967295],0);function __PRIVATE_getMd5HashValue(o){const i=__PRIVATE_newTextEncoder().encode(o),s=new Md5;return s.update(i),new Uint8Array(s.digest())}function __PRIVATE_get64BitUints(o){const i=new DataView(o.buffer),s=i.getUint32(0,!0),a=i.getUint32(4,!0),et=i.getUint32(8,!0),tt=i.getUint32(12,!0);return[new Integer([s,a],0),new Integer([et,tt],0)]}class BloomFilter{constructor(i,s,a){if(this.bitmap=i,this.padding=s,this.hashCount=a,s<0||s>=8)throw new __PRIVATE_BloomFilterError(`Invalid padding: ${s}`);if(a<0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(i.length>0&&this.hashCount===0)throw new __PRIVATE_BloomFilterError(`Invalid hash count: ${a}`);if(i.length===0&&s!==0)throw new __PRIVATE_BloomFilterError(`Invalid padding when bitmap length is 0: ${s}`);this.Te=8*i.length-s,this.Ee=Integer.fromNumber(this.Te)}de(i,s,a){let et=i.add(s.multiply(Integer.fromNumber(a)));return et.compare(le)===1&&(et=new Integer([et.getBits(0),et.getBits(1)],0)),et.modulo(this.Ee).toNumber()}Ae(i){return(this.bitmap[Math.floor(i/8)]&1<<i%8)!=0}mightContain(i){if(this.Te===0)return!1;const s=__PRIVATE_getMd5HashValue(i),[a,et]=__PRIVATE_get64BitUints(s);for(let tt=0;tt<this.hashCount;tt++){const rt=this.de(a,et,tt);if(!this.Ae(rt))return!1}return!0}static create(i,s,a){const et=i%8==0?0:8-i%8,tt=new Uint8Array(Math.ceil(i/8)),rt=new BloomFilter(tt,et,s);return a.forEach(nt=>rt.insert(nt)),rt}insert(i){if(this.Te===0)return;const s=__PRIVATE_getMd5HashValue(i),[a,et]=__PRIVATE_get64BitUints(s);for(let tt=0;tt<this.hashCount;tt++){const rt=this.de(a,et,tt);this.Re(rt)}}Re(i){const s=Math.floor(i/8),a=i%8;this.bitmap[s]|=1<<a}}class __PRIVATE_BloomFilterError extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteEvent{constructor(i,s,a,et,tt){this.snapshotVersion=i,this.targetChanges=s,this.targetMismatches=a,this.documentUpdates=et,this.resolvedLimboDocuments=tt}static createSynthesizedRemoteEventForCurrentChange(i,s,a){const et=new Map;return et.set(i,TargetChange.createSynthesizedTargetChangeForCurrentChange(i,s,a)),new RemoteEvent(SnapshotVersion.min(),et,new SortedMap(__PRIVATE_primitiveComparator),__PRIVATE_mutableDocumentMap(),__PRIVATE_documentKeySet())}}class TargetChange{constructor(i,s,a,et,tt){this.resumeToken=i,this.current=s,this.addedDocuments=a,this.modifiedDocuments=et,this.removedDocuments=tt}static createSynthesizedTargetChangeForCurrentChange(i,s,a){return new TargetChange(a,s,__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet(),__PRIVATE_documentKeySet())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentWatchChange{constructor(i,s,a,et){this.Ve=i,this.removedTargetIds=s,this.key=a,this.me=et}}class __PRIVATE_ExistenceFilterChange{constructor(i,s){this.targetId=i,this.fe=s}}class __PRIVATE_WatchTargetChange{constructor(i,s,a=ByteString.EMPTY_BYTE_STRING,et=null){this.state=i,this.targetIds=s,this.resumeToken=a,this.cause=et}}class __PRIVATE_TargetState{constructor(){this.ge=0,this.pe=__PRIVATE_snapshotChangesMap(),this.ye=ByteString.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(i){i.approximateByteSize()>0&&(this.Se=!0,this.ye=i)}ve(){let i=__PRIVATE_documentKeySet(),s=__PRIVATE_documentKeySet(),a=__PRIVATE_documentKeySet();return this.pe.forEach((et,tt)=>{switch(tt){case 0:i=i.add(et);break;case 2:s=s.add(et);break;case 1:a=a.add(et);break;default:fail()}}),new TargetChange(this.ye,this.we,i,s,a)}Fe(){this.Se=!1,this.pe=__PRIVATE_snapshotChangesMap()}Me(i,s){this.Se=!0,this.pe=this.pe.insert(i,s)}xe(i){this.Se=!0,this.pe=this.pe.remove(i)}Oe(){this.ge+=1}Ne(){this.ge-=1,__PRIVATE_hardAssert(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class __PRIVATE_WatchChangeAggregator{constructor(i){this.Le=i,this.ke=new Map,this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator)}$e(i){for(const s of i.Ve)i.me&&i.me.isFoundDocument()?this.Ue(s,i.me):this.We(s,i.key,i.me);for(const s of i.removedTargetIds)this.We(s,i.key,i.me)}Ge(i){this.forEachTarget(i,s=>{const a=this.ze(s);switch(i.state){case 0:this.je(s)&&a.Ce(i.resumeToken);break;case 1:a.Ne(),a.be||a.Fe(),a.Ce(i.resumeToken);break;case 2:a.Ne(),a.be||this.removeTarget(s);break;case 3:this.je(s)&&(a.Be(),a.Ce(i.resumeToken));break;case 4:this.je(s)&&(this.He(s),a.Ce(i.resumeToken));break;default:fail()}})}forEachTarget(i,s){i.targetIds.length>0?i.targetIds.forEach(s):this.ke.forEach((a,et)=>{this.je(et)&&s(et)})}Je(i){const s=i.targetId,a=i.fe.count,et=this.Ye(s);if(et){const tt=et.target;if(__PRIVATE_targetIsDocumentTarget(tt))if(a===0){const rt=new DocumentKey(tt.path);this.We(s,rt,MutableDocument.newNoDocument(rt,SnapshotVersion.min()))}else __PRIVATE_hardAssert(a===1);else{const rt=this.Ze(s);if(rt!==a){const nt=this.Xe(i),it=nt?this.et(nt,i,rt):1;if(it!==0){this.He(s);const ot=it===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(s,ot)}}}}}Xe(i){const s=i.fe.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:a="",padding:et=0},hashCount:tt=0}=s;let rt,nt;try{rt=__PRIVATE_normalizeByteString(a).toUint8Array()}catch(it){if(it instanceof __PRIVATE_Base64DecodeError)return __PRIVATE_logWarn("Decoding the base64 bloom filter in existence filter failed ("+it.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw it}try{nt=new BloomFilter(rt,et,tt)}catch(it){return __PRIVATE_logWarn(it instanceof __PRIVATE_BloomFilterError?"BloomFilter error: ":"Applying bloom filter failed: ",it),null}return nt.Te===0?null:nt}et(i,s,a){return s.fe.count===a-this.rt(i,s.targetId)?0:2}rt(i,s){const a=this.Le.getRemoteKeysForTarget(s);let et=0;return a.forEach(tt=>{const rt=this.Le.nt(),nt=`projects/${rt.projectId}/databases/${rt.database}/documents/${tt.path.canonicalString()}`;i.mightContain(nt)||(this.We(s,tt,null),et++)}),et}it(i){const s=new Map;this.ke.forEach((tt,rt)=>{const nt=this.Ye(rt);if(nt){if(tt.current&&__PRIVATE_targetIsDocumentTarget(nt.target)){const it=new DocumentKey(nt.target.path);this.qe.get(it)!==null||this.st(rt,it)||this.We(rt,it,MutableDocument.newNoDocument(it,i))}tt.De&&(s.set(rt,tt.ve()),tt.Fe())}});let a=__PRIVATE_documentKeySet();this.Qe.forEach((tt,rt)=>{let nt=!0;rt.forEachWhile(it=>{const ot=this.Ye(it);return!ot||ot.purpose==="TargetPurposeLimboResolution"||(nt=!1,!1)}),nt&&(a=a.add(tt))}),this.qe.forEach((tt,rt)=>rt.setReadTime(i));const et=new RemoteEvent(i,s,this.Ke,this.qe,a);return this.qe=__PRIVATE_mutableDocumentMap(),this.Qe=__PRIVATE_documentTargetMap(),this.Ke=new SortedMap(__PRIVATE_primitiveComparator),et}Ue(i,s){if(!this.je(i))return;const a=this.st(i,s.key)?2:0;this.ze(i).Me(s.key,a),this.qe=this.qe.insert(s.key,s),this.Qe=this.Qe.insert(s.key,this.ot(s.key).add(i))}We(i,s,a){if(!this.je(i))return;const et=this.ze(i);this.st(i,s)?et.Me(s,1):et.xe(s),this.Qe=this.Qe.insert(s,this.ot(s).delete(i)),a&&(this.qe=this.qe.insert(s,a))}removeTarget(i){this.ke.delete(i)}Ze(i){const s=this.ze(i).ve();return this.Le.getRemoteKeysForTarget(i).size+s.addedDocuments.size-s.removedDocuments.size}Oe(i){this.ze(i).Oe()}ze(i){let s=this.ke.get(i);return s||(s=new __PRIVATE_TargetState,this.ke.set(i,s)),s}ot(i){let s=this.Qe.get(i);return s||(s=new SortedSet(__PRIVATE_primitiveComparator),this.Qe=this.Qe.insert(i,s)),s}je(i){const s=this.Ye(i)!==null;return s||__PRIVATE_logDebug("WatchChangeAggregator","Detected inactive target",i),s}Ye(i){const s=this.ke.get(i);return s&&s.be?null:this.Le._t(i)}He(i){this.ke.set(i,new __PRIVATE_TargetState),this.Le.getRemoteKeysForTarget(i).forEach(s=>{this.We(i,s,null)})}st(i,s){return this.Le.getRemoteKeysForTarget(i).has(s)}}function __PRIVATE_documentTargetMap(){return new SortedMap(DocumentKey.comparator)}function __PRIVATE_snapshotChangesMap(){return new SortedMap(DocumentKey.comparator)}const he={asc:"ASCENDING",desc:"DESCENDING"},Pe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ie={and:"AND",or:"OR"};class JsonProtoSerializer{constructor(i,s){this.databaseId=i,this.useProto3Json=s}}function __PRIVATE_toInt32Proto(o,i){return o.useProto3Json||__PRIVATE_isNullOrUndefined(i)?i:{value:i}}function toTimestamp(o,i){return o.useProto3Json?`${new Date(1e3*i.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+i.nanoseconds).slice(-9)}Z`:{seconds:""+i.seconds,nanos:i.nanoseconds}}function __PRIVATE_toBytes(o,i){return o.useProto3Json?i.toBase64():i.toUint8Array()}function __PRIVATE_toVersion(o,i){return toTimestamp(o,i.toTimestamp())}function __PRIVATE_fromVersion(o){return __PRIVATE_hardAssert(!!o),SnapshotVersion.fromTimestamp(function(s){const a=__PRIVATE_normalizeTimestamp(s);return new Timestamp(a.seconds,a.nanos)}(o))}function __PRIVATE_toResourceName(o,i){return __PRIVATE_toResourcePath(o,i).canonicalString()}function __PRIVATE_toResourcePath(o,i){const s=function(et){return new ResourcePath(["projects",et.projectId,"databases",et.database])}(o).child("documents");return i===void 0?s:s.child(i)}function __PRIVATE_fromResourceName(o){const i=ResourcePath.fromString(o);return __PRIVATE_hardAssert(__PRIVATE_isValidResourceName(i)),i}function __PRIVATE_toName(o,i){return __PRIVATE_toResourceName(o.databaseId,i.path)}function fromName(o,i){const s=__PRIVATE_fromResourceName(i);if(s.get(1)!==o.databaseId.projectId)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+o.databaseId.projectId);if(s.get(3)!==o.databaseId.database)throw new FirestoreError(D.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+o.databaseId.database);return new DocumentKey(__PRIVATE_extractLocalPathFromResourceName(s))}function __PRIVATE_toQueryPath(o,i){return __PRIVATE_toResourceName(o.databaseId,i)}function __PRIVATE_fromQueryPath(o){const i=__PRIVATE_fromResourceName(o);return i.length===4?ResourcePath.emptyPath():__PRIVATE_extractLocalPathFromResourceName(i)}function __PRIVATE_getEncodedDatabaseId(o){return new ResourcePath(["projects",o.databaseId.projectId,"databases",o.databaseId.database]).canonicalString()}function __PRIVATE_extractLocalPathFromResourceName(o){return __PRIVATE_hardAssert(o.length>4&&o.get(4)==="documents"),o.popFirst(5)}function __PRIVATE_toMutationDocument(o,i,s){return{name:__PRIVATE_toName(o,i),fields:s.value.mapValue.fields}}function __PRIVATE_fromDocument(o,i,s){const a=fromName(o,i.name),et=__PRIVATE_fromVersion(i.updateTime),tt=i.createTime?__PRIVATE_fromVersion(i.createTime):SnapshotVersion.min(),rt=new ObjectValue({mapValue:{fields:i.fields}}),nt=MutableDocument.newFoundDocument(a,et,tt,rt);return s&&nt.setHasCommittedMutations(),s?nt.setHasCommittedMutations():nt}function __PRIVATE_fromBatchGetDocumentsResponse(o,i){return"found"in i?function(a,et){__PRIVATE_hardAssert(!!et.found),et.found.name,et.found.updateTime;const tt=fromName(a,et.found.name),rt=__PRIVATE_fromVersion(et.found.updateTime),nt=et.found.createTime?__PRIVATE_fromVersion(et.found.createTime):SnapshotVersion.min(),it=new ObjectValue({mapValue:{fields:et.found.fields}});return MutableDocument.newFoundDocument(tt,rt,nt,it)}(o,i):"missing"in i?function(a,et){__PRIVATE_hardAssert(!!et.missing),__PRIVATE_hardAssert(!!et.readTime);const tt=fromName(a,et.missing),rt=__PRIVATE_fromVersion(et.readTime);return MutableDocument.newNoDocument(tt,rt)}(o,i):fail()}function __PRIVATE_fromWatchChange(o,i){let s;if("targetChange"in i){i.targetChange;const a=function(ot){return ot==="NO_CHANGE"?0:ot==="ADD"?1:ot==="REMOVE"?2:ot==="CURRENT"?3:ot==="RESET"?4:fail()}(i.targetChange.targetChangeType||"NO_CHANGE"),et=i.targetChange.targetIds||[],tt=function(ot,st){return ot.useProto3Json?(__PRIVATE_hardAssert(st===void 0||typeof st=="string"),ByteString.fromBase64String(st||"")):(__PRIVATE_hardAssert(st===void 0||st instanceof Uint8Array),ByteString.fromUint8Array(st||new Uint8Array))}(o,i.targetChange.resumeToken),rt=i.targetChange.cause,nt=rt&&function(ot){const st=ot.code===void 0?D.UNKNOWN:__PRIVATE_mapCodeFromRpcCode(ot.code);return new FirestoreError(st,ot.message||"")}(rt);s=new __PRIVATE_WatchTargetChange(a,et,tt,nt||null)}else if("documentChange"in i){i.documentChange;const a=i.documentChange;a.document,a.document.name,a.document.updateTime;const et=fromName(o,a.document.name),tt=__PRIVATE_fromVersion(a.document.updateTime),rt=a.document.createTime?__PRIVATE_fromVersion(a.document.createTime):SnapshotVersion.min(),nt=new ObjectValue({mapValue:{fields:a.document.fields}}),it=MutableDocument.newFoundDocument(et,tt,rt,nt),ot=a.targetIds||[],st=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange(ot,st,it.key,it)}else if("documentDelete"in i){i.documentDelete;const a=i.documentDelete;a.document;const et=fromName(o,a.document),tt=a.readTime?__PRIVATE_fromVersion(a.readTime):SnapshotVersion.min(),rt=MutableDocument.newNoDocument(et,tt),nt=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],nt,rt.key,rt)}else if("documentRemove"in i){i.documentRemove;const a=i.documentRemove;a.document;const et=fromName(o,a.document),tt=a.removedTargetIds||[];s=new __PRIVATE_DocumentWatchChange([],tt,et,null)}else{if(!("filter"in i))return fail();{i.filter;const a=i.filter;a.targetId;const{count:et=0,unchangedNames:tt}=a,rt=new ExistenceFilter(et,tt),nt=a.targetId;s=new __PRIVATE_ExistenceFilterChange(nt,rt)}}return s}function toMutation(o,i){let s;if(i instanceof __PRIVATE_SetMutation)s={update:__PRIVATE_toMutationDocument(o,i.key,i.value)};else if(i instanceof __PRIVATE_DeleteMutation)s={delete:__PRIVATE_toName(o,i.key)};else if(i instanceof __PRIVATE_PatchMutation)s={update:__PRIVATE_toMutationDocument(o,i.key,i.data),updateMask:__PRIVATE_toDocumentMask(i.fieldMask)};else{if(!(i instanceof __PRIVATE_VerifyMutation))return fail();s={verify:__PRIVATE_toName(o,i.key)}}return i.fieldTransforms.length>0&&(s.updateTransforms=i.fieldTransforms.map(a=>function(tt,rt){const nt=rt.transform;if(nt instanceof __PRIVATE_ServerTimestampTransform)return{fieldPath:rt.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(nt instanceof __PRIVATE_ArrayUnionTransformOperation)return{fieldPath:rt.field.canonicalString(),appendMissingElements:{values:nt.elements}};if(nt instanceof __PRIVATE_ArrayRemoveTransformOperation)return{fieldPath:rt.field.canonicalString(),removeAllFromArray:{values:nt.elements}};if(nt instanceof __PRIVATE_NumericIncrementTransformOperation)return{fieldPath:rt.field.canonicalString(),increment:nt.Ie};throw fail()}(0,a))),i.precondition.isNone||(s.currentDocument=function(et,tt){return tt.updateTime!==void 0?{updateTime:__PRIVATE_toVersion(et,tt.updateTime)}:tt.exists!==void 0?{exists:tt.exists}:fail()}(o,i.precondition)),s}function __PRIVATE_fromMutation(o,i){const s=i.currentDocument?function(tt){return tt.updateTime!==void 0?Precondition.updateTime(__PRIVATE_fromVersion(tt.updateTime)):tt.exists!==void 0?Precondition.exists(tt.exists):Precondition.none()}(i.currentDocument):Precondition.none(),a=i.updateTransforms?i.updateTransforms.map(et=>function(rt,nt){let it=null;if("setToServerValue"in nt)__PRIVATE_hardAssert(nt.setToServerValue==="REQUEST_TIME"),it=new __PRIVATE_ServerTimestampTransform;else if("appendMissingElements"in nt){const st=nt.appendMissingElements.values||[];it=new __PRIVATE_ArrayUnionTransformOperation(st)}else if("removeAllFromArray"in nt){const st=nt.removeAllFromArray.values||[];it=new __PRIVATE_ArrayRemoveTransformOperation(st)}else"increment"in nt?it=new __PRIVATE_NumericIncrementTransformOperation(rt,nt.increment):fail();const ot=FieldPath$1.fromServerFormat(nt.fieldPath);return new FieldTransform(ot,it)}(o,et)):[];if(i.update){i.update.name;const et=fromName(o,i.update.name),tt=new ObjectValue({mapValue:{fields:i.update.fields}});if(i.updateMask){const rt=function(it){const ot=it.fieldPaths||[];return new FieldMask(ot.map(st=>FieldPath$1.fromServerFormat(st)))}(i.updateMask);return new __PRIVATE_PatchMutation(et,tt,rt,s,a)}return new __PRIVATE_SetMutation(et,tt,s,a)}if(i.delete){const et=fromName(o,i.delete);return new __PRIVATE_DeleteMutation(et,s)}if(i.verify){const et=fromName(o,i.verify);return new __PRIVATE_VerifyMutation(et,s)}return fail()}function __PRIVATE_fromWriteResults(o,i){return o&&o.length>0?(__PRIVATE_hardAssert(i!==void 0),o.map(s=>function(et,tt){let rt=et.updateTime?__PRIVATE_fromVersion(et.updateTime):__PRIVATE_fromVersion(tt);return rt.isEqual(SnapshotVersion.min())&&(rt=__PRIVATE_fromVersion(tt)),new MutationResult(rt,et.transformResults||[])}(s,i))):[]}function __PRIVATE_toDocumentsTarget(o,i){return{documents:[__PRIVATE_toQueryPath(o,i.path)]}}function __PRIVATE_toQueryTarget(o,i){const s={structuredQuery:{}},a=i.path;let et;i.collectionGroup!==null?(et=a,s.structuredQuery.from=[{collectionId:i.collectionGroup,allDescendants:!0}]):(et=a.popLast(),s.structuredQuery.from=[{collectionId:a.lastSegment()}]),s.parent=__PRIVATE_toQueryPath(o,et);const tt=function(ot){if(ot.length!==0)return __PRIVATE_toFilter(CompositeFilter.create(ot,"and"))}(i.filters);tt&&(s.structuredQuery.where=tt);const rt=function(ot){if(ot.length!==0)return ot.map(st=>function(at){return{field:__PRIVATE_toFieldPathReference(at.field),direction:__PRIVATE_toDirection(at.dir)}}(st))}(i.orderBy);rt&&(s.structuredQuery.orderBy=rt);const nt=__PRIVATE_toInt32Proto(o,i.limit);return nt!==null&&(s.structuredQuery.limit=nt),i.startAt&&(s.structuredQuery.startAt=function(ot){return{before:ot.inclusive,values:ot.position}}(i.startAt)),i.endAt&&(s.structuredQuery.endAt=function(ot){return{before:!ot.inclusive,values:ot.position}}(i.endAt)),{ut:s,parent:et}}function __PRIVATE_convertQueryTargetToQuery(o){let i=__PRIVATE_fromQueryPath(o.parent);const s=o.structuredQuery,a=s.from?s.from.length:0;let et=null;if(a>0){__PRIVATE_hardAssert(a===1);const st=s.from[0];st.allDescendants?et=st.collectionId:i=i.child(st.collectionId)}let tt=[];s.where&&(tt=function(lt){const at=__PRIVATE_fromFilter(lt);return at instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(at)?at.getFilters():[at]}(s.where));let rt=[];s.orderBy&&(rt=function(lt){return lt.map(at=>function(ft){return new OrderBy(__PRIVATE_fromFieldPathReference(ft.field),function(yt){switch(yt){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(ft.direction))}(at))}(s.orderBy));let nt=null;s.limit&&(nt=function(lt){let at;return at=typeof lt=="object"?lt.value:lt,__PRIVATE_isNullOrUndefined(at)?null:at}(s.limit));let it=null;s.startAt&&(it=function(lt){const at=!!lt.before,ut=lt.values||[];return new Bound(ut,at)}(s.startAt));let ot=null;return s.endAt&&(ot=function(lt){const at=!lt.before,ut=lt.values||[];return new Bound(ut,at)}(s.endAt)),__PRIVATE_newQuery(i,et,rt,tt,nt,"F",it,ot)}function __PRIVATE_toListenRequestLabels(o,i){const s=function(et){switch(et){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return fail()}}(i.purpose);return s==null?null:{"goog-listen-tags":s}}function __PRIVATE_fromFilter(o){return o.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const a=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(a,"==",{doubleValue:NaN});case"IS_NULL":const et=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(et,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const tt=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(tt,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const rt=__PRIVATE_fromFieldPathReference(s.unaryFilter.field);return FieldFilter.create(rt,"!=",{nullValue:"NULL_VALUE"});default:return fail()}}(o):o.fieldFilter!==void 0?function(s){return FieldFilter.create(__PRIVATE_fromFieldPathReference(s.fieldFilter.field),function(et){switch(et){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return fail()}}(s.fieldFilter.op),s.fieldFilter.value)}(o):o.compositeFilter!==void 0?function(s){return CompositeFilter.create(s.compositeFilter.filters.map(a=>__PRIVATE_fromFilter(a)),function(et){switch(et){case"AND":return"and";case"OR":return"or";default:return fail()}}(s.compositeFilter.op))}(o):fail()}function __PRIVATE_toDirection(o){return he[o]}function __PRIVATE_toOperatorName(o){return Pe[o]}function __PRIVATE_toCompositeOperatorName(o){return Ie[o]}function __PRIVATE_toFieldPathReference(o){return{fieldPath:o.canonicalString()}}function __PRIVATE_fromFieldPathReference(o){return FieldPath$1.fromServerFormat(o.fieldPath)}function __PRIVATE_toFilter(o){return o instanceof FieldFilter?function(s){if(s.op==="=="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(__PRIVATE_isNanValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NAN"}};if(__PRIVATE_isNullValue(s.value))return{unaryFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:__PRIVATE_toFieldPathReference(s.field),op:__PRIVATE_toOperatorName(s.op),value:s.value}}}(o):o instanceof CompositeFilter?function(s){const a=s.getFilters().map(et=>__PRIVATE_toFilter(et));return a.length===1?a[0]:{compositeFilter:{op:__PRIVATE_toCompositeOperatorName(s.op),filters:a}}}(o):fail()}function __PRIVATE_toDocumentMask(o){const i=[];return o.fields.forEach(s=>i.push(s.canonicalString())),{fieldPaths:i}}function __PRIVATE_isValidResourceName(o){return o.length>=4&&o.get(0)==="projects"&&o.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TargetData{constructor(i,s,a,et,tt=SnapshotVersion.min(),rt=SnapshotVersion.min(),nt=ByteString.EMPTY_BYTE_STRING,it=null){this.target=i,this.targetId=s,this.purpose=a,this.sequenceNumber=et,this.snapshotVersion=tt,this.lastLimboFreeSnapshotVersion=rt,this.resumeToken=nt,this.expectedCount=it}withSequenceNumber(i){return new TargetData(this.target,this.targetId,this.purpose,i,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(i,s){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,i,null)}withExpectedCount(i){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,i)}withLastLimboFreeSnapshotVersion(i){return new TargetData(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,i,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalSerializer{constructor(i){this.ct=i}}function __PRIVATE_fromDbRemoteDocument(o,i){let s;if(i.document)s=__PRIVATE_fromDocument(o.ct,i.document,!!i.hasCommittedMutations);else if(i.noDocument){const a=DocumentKey.fromSegments(i.noDocument.path),et=__PRIVATE_fromDbTimestamp(i.noDocument.readTime);s=MutableDocument.newNoDocument(a,et),i.hasCommittedMutations&&s.setHasCommittedMutations()}else{if(!i.unknownDocument)return fail();{const a=DocumentKey.fromSegments(i.unknownDocument.path),et=__PRIVATE_fromDbTimestamp(i.unknownDocument.version);s=MutableDocument.newUnknownDocument(a,et)}}return i.readTime&&s.setReadTime(function(et){const tt=new Timestamp(et[0],et[1]);return SnapshotVersion.fromTimestamp(tt)}(i.readTime)),s}function __PRIVATE_toDbRemoteDocument(o,i){const s=i.key,a={prefixPath:s.getCollectionPath().popLast().toArray(),collectionGroup:s.collectionGroup,documentId:s.path.lastSegment(),readTime:__PRIVATE_toDbTimestampKey(i.readTime),hasCommittedMutations:i.hasCommittedMutations};if(i.isFoundDocument())a.document=function(tt,rt){return{name:__PRIVATE_toName(tt,rt.key),fields:rt.data.value.mapValue.fields,updateTime:toTimestamp(tt,rt.version.toTimestamp()),createTime:toTimestamp(tt,rt.createTime.toTimestamp())}}(o.ct,i);else if(i.isNoDocument())a.noDocument={path:s.path.toArray(),readTime:__PRIVATE_toDbTimestamp(i.version)};else{if(!i.isUnknownDocument())return fail();a.unknownDocument={path:s.path.toArray(),version:__PRIVATE_toDbTimestamp(i.version)}}return a}function __PRIVATE_toDbTimestampKey(o){const i=o.toTimestamp();return[i.seconds,i.nanoseconds]}function __PRIVATE_toDbTimestamp(o){const i=o.toTimestamp();return{seconds:i.seconds,nanoseconds:i.nanoseconds}}function __PRIVATE_fromDbTimestamp(o){const i=new Timestamp(o.seconds,o.nanoseconds);return SnapshotVersion.fromTimestamp(i)}function __PRIVATE_fromDbMutationBatch(o,i){const s=(i.baseMutations||[]).map(tt=>__PRIVATE_fromMutation(o.ct,tt));for(let tt=0;tt<i.mutations.length-1;++tt){const rt=i.mutations[tt];if(tt+1<i.mutations.length&&i.mutations[tt+1].transform!==void 0){const nt=i.mutations[tt+1];rt.updateTransforms=nt.transform.fieldTransforms,i.mutations.splice(tt+1,1),++tt}}const a=i.mutations.map(tt=>__PRIVATE_fromMutation(o.ct,tt)),et=Timestamp.fromMillis(i.localWriteTimeMs);return new MutationBatch(i.batchId,et,s,a)}function __PRIVATE_fromDbTarget(o){const i=__PRIVATE_fromDbTimestamp(o.readTime),s=o.lastLimboFreeSnapshotVersion!==void 0?__PRIVATE_fromDbTimestamp(o.lastLimboFreeSnapshotVersion):SnapshotVersion.min();let a;return a=function(tt){return tt.documents!==void 0}(o.query)?function(tt){return __PRIVATE_hardAssert(tt.documents.length===1),__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(__PRIVATE_fromQueryPath(tt.documents[0])))}(o.query):function(tt){return __PRIVATE_queryToTarget(__PRIVATE_convertQueryTargetToQuery(tt))}(o.query),new TargetData(a,o.targetId,"TargetPurposeListen",o.lastListenSequenceNumber,i,s,ByteString.fromBase64String(o.resumeToken))}function __PRIVATE_toDbTarget(o,i){const s=__PRIVATE_toDbTimestamp(i.snapshotVersion),a=__PRIVATE_toDbTimestamp(i.lastLimboFreeSnapshotVersion);let et;et=__PRIVATE_targetIsDocumentTarget(i.target)?__PRIVATE_toDocumentsTarget(o.ct,i.target):__PRIVATE_toQueryTarget(o.ct,i.target).ut;const tt=i.resumeToken.toBase64();return{targetId:i.targetId,canonicalId:__PRIVATE_canonifyTarget(i.target),readTime:s,resumeToken:tt,lastListenSequenceNumber:i.sequenceNumber,lastLimboFreeSnapshotVersion:a,query:et}}function __PRIVATE_fromBundledQuery(o){const i=__PRIVATE_convertQueryTargetToQuery({parent:o.parent,structuredQuery:o.structuredQuery});return o.limitType==="LAST"?__PRIVATE_queryWithLimit(i,i.limit,"L"):i}function __PRIVATE_fromDbDocumentOverlay(o,i){return new Overlay(i.largestBatchId,__PRIVATE_fromMutation(o.ct,i.overlayMutation))}function __PRIVATE_toDbDocumentOverlayKey(o,i){const s=i.path.lastSegment();return[o,__PRIVATE_encodeResourcePath(i.path.popLast()),s]}function __PRIVATE_toDbIndexState(o,i,s,a){return{indexId:o,uid:i,sequenceNumber:s,readTime:__PRIVATE_toDbTimestamp(a.readTime),documentKey:__PRIVATE_encodeResourcePath(a.documentKey.path),largestBatchId:a.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbBundleCache{getBundleMetadata(i,s){return __PRIVATE_bundlesStore(i).get(s).next(a=>{if(a)return function(tt){return{id:tt.bundleId,createTime:__PRIVATE_fromDbTimestamp(tt.createTime),version:tt.version}}(a)})}saveBundleMetadata(i,s){return __PRIVATE_bundlesStore(i).put(function(et){return{bundleId:et.id,createTime:__PRIVATE_toDbTimestamp(__PRIVATE_fromVersion(et.createTime)),version:et.version}}(s))}getNamedQuery(i,s){return __PRIVATE_namedQueriesStore(i).get(s).next(a=>{if(a)return function(tt){return{name:tt.name,query:__PRIVATE_fromBundledQuery(tt.bundledQuery),readTime:__PRIVATE_fromDbTimestamp(tt.readTime)}}(a)})}saveNamedQuery(i,s){return __PRIVATE_namedQueriesStore(i).put(function(et){return{name:et.name,readTime:__PRIVATE_toDbTimestamp(__PRIVATE_fromVersion(et.readTime)),bundledQuery:et.bundledQuery}}(s))}}function __PRIVATE_bundlesStore(o){return __PRIVATE_getStore(o,"bundles")}function __PRIVATE_namedQueriesStore(o){return __PRIVATE_getStore(o,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbDocumentOverlayCache{constructor(i,s){this.serializer=i,this.userId=s}static lt(i,s){const a=s.uid||"";return new __PRIVATE_IndexedDbDocumentOverlayCache(i,a)}getOverlay(i,s){return __PRIVATE_documentOverlayStore(i).get(__PRIVATE_toDbDocumentOverlayKey(this.userId,s)).next(a=>a?__PRIVATE_fromDbDocumentOverlay(this.serializer,a):null)}getOverlays(i,s){const a=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(s,et=>this.getOverlay(i,et).next(tt=>{tt!==null&&a.set(et,tt)})).next(()=>a)}saveOverlays(i,s,a){const et=[];return a.forEach((tt,rt)=>{const nt=new Overlay(s,rt);et.push(this.ht(i,nt))}),PersistencePromise.waitFor(et)}removeOverlaysForBatchId(i,s,a){const et=new Set;s.forEach(rt=>et.add(__PRIVATE_encodeResourcePath(rt.getCollectionPath())));const tt=[];return et.forEach(rt=>{const nt=IDBKeyRange.bound([this.userId,rt,a],[this.userId,rt,a+1],!1,!0);tt.push(__PRIVATE_documentOverlayStore(i).H("collectionPathOverlayIndex",nt))}),PersistencePromise.waitFor(tt)}getOverlaysForCollection(i,s,a){const et=__PRIVATE_newOverlayMap(),tt=__PRIVATE_encodeResourcePath(s),rt=IDBKeyRange.bound([this.userId,tt,a],[this.userId,tt,Number.POSITIVE_INFINITY],!0);return __PRIVATE_documentOverlayStore(i).W("collectionPathOverlayIndex",rt).next(nt=>{for(const it of nt){const ot=__PRIVATE_fromDbDocumentOverlay(this.serializer,it);et.set(ot.getKey(),ot)}return et})}getOverlaysForCollectionGroup(i,s,a,et){const tt=__PRIVATE_newOverlayMap();let rt;const nt=IDBKeyRange.bound([this.userId,s,a],[this.userId,s,Number.POSITIVE_INFINITY],!0);return __PRIVATE_documentOverlayStore(i).Y({index:"collectionGroupOverlayIndex",range:nt},(it,ot,st)=>{const lt=__PRIVATE_fromDbDocumentOverlay(this.serializer,ot);tt.size()<et||lt.largestBatchId===rt?(tt.set(lt.getKey(),lt),rt=lt.largestBatchId):st.done()}).next(()=>tt)}ht(i,s){return __PRIVATE_documentOverlayStore(i).put(function(et,tt,rt){const[nt,it,ot]=__PRIVATE_toDbDocumentOverlayKey(tt,rt.mutation.key);return{userId:tt,collectionPath:it,documentId:ot,collectionGroup:rt.mutation.key.getCollectionGroup(),largestBatchId:rt.largestBatchId,overlayMutation:toMutation(et.ct,rt.mutation)}}(this.serializer,this.userId,s))}}function __PRIVATE_documentOverlayStore(o){return __PRIVATE_getStore(o,"documentOverlays")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_FirestoreIndexValueWriter{constructor(){}Pt(i,s){this.It(i,s),s.Tt()}It(i,s){if("nullValue"in i)this.Et(s,5);else if("booleanValue"in i)this.Et(s,10),s.dt(i.booleanValue?1:0);else if("integerValue"in i)this.Et(s,15),s.dt(__PRIVATE_normalizeNumber(i.integerValue));else if("doubleValue"in i){const a=__PRIVATE_normalizeNumber(i.doubleValue);isNaN(a)?this.Et(s,13):(this.Et(s,15),__PRIVATE_isNegativeZero(a)?s.dt(0):s.dt(a))}else if("timestampValue"in i){const a=i.timestampValue;this.Et(s,20),typeof a=="string"?s.At(a):(s.At(`${a.seconds||""}`),s.dt(a.nanos||0))}else if("stringValue"in i)this.Rt(i.stringValue,s),this.Vt(s);else if("bytesValue"in i)this.Et(s,30),s.ft(__PRIVATE_normalizeByteString(i.bytesValue)),this.Vt(s);else if("referenceValue"in i)this.gt(i.referenceValue,s);else if("geoPointValue"in i){const a=i.geoPointValue;this.Et(s,45),s.dt(a.latitude||0),s.dt(a.longitude||0)}else"mapValue"in i?__PRIVATE_isMaxValue(i)?this.Et(s,Number.MAX_SAFE_INTEGER):(this.yt(i.mapValue,s),this.Vt(s)):"arrayValue"in i?(this.wt(i.arrayValue,s),this.Vt(s)):fail()}Rt(i,s){this.Et(s,25),this.St(i,s)}St(i,s){s.At(i)}yt(i,s){const a=i.fields||{};this.Et(s,55);for(const et of Object.keys(a))this.Rt(et,s),this.It(a[et],s)}wt(i,s){const a=i.values||[];this.Et(s,50);for(const et of a)this.It(et,s)}gt(i,s){this.Et(s,37),DocumentKey.fromName(i).path.forEach(a=>{this.Et(s,60),this.St(a,s)})}Et(i,s){i.dt(s)}Vt(i){i.dt(2)}}__PRIVATE_FirestoreIndexValueWriter.bt=new __PRIVATE_FirestoreIndexValueWriter;function __PRIVATE_numberOfLeadingZerosInByte(o){if(o===0)return 8;let i=0;return!(o>>4)&&(i+=4,o<<=4),!(o>>6)&&(i+=2,o<<=2),!(o>>7)&&(i+=1),i}function __PRIVATE_unsignedNumLength(o){const i=64-function(a){let et=0;for(let tt=0;tt<8;++tt){const rt=__PRIVATE_numberOfLeadingZerosInByte(255&a[tt]);if(et+=rt,rt!==8)break}return et}(o);return Math.ceil(i/8)}class __PRIVATE_OrderedCodeWriter{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Dt(i){const s=i[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Ct(a.value),a=s.next();this.vt()}Ft(i){const s=i[Symbol.iterator]();let a=s.next();for(;!a.done;)this.Mt(a.value),a=s.next();this.xt()}Ot(i){for(const s of i){const a=s.charCodeAt(0);if(a<128)this.Ct(a);else if(a<2048)this.Ct(960|a>>>6),this.Ct(128|63&a);else if(s<"\uD800"||"\uDBFF"<s)this.Ct(480|a>>>12),this.Ct(128|63&a>>>6),this.Ct(128|63&a);else{const et=s.codePointAt(0);this.Ct(240|et>>>18),this.Ct(128|63&et>>>12),this.Ct(128|63&et>>>6),this.Ct(128|63&et)}}this.vt()}Nt(i){for(const s of i){const a=s.charCodeAt(0);if(a<128)this.Mt(a);else if(a<2048)this.Mt(960|a>>>6),this.Mt(128|63&a);else if(s<"\uD800"||"\uDBFF"<s)this.Mt(480|a>>>12),this.Mt(128|63&a>>>6),this.Mt(128|63&a);else{const et=s.codePointAt(0);this.Mt(240|et>>>18),this.Mt(128|63&et>>>12),this.Mt(128|63&et>>>6),this.Mt(128|63&et)}}this.xt()}Bt(i){const s=this.Lt(i),a=__PRIVATE_unsignedNumLength(s);this.kt(1+a),this.buffer[this.position++]=255&a;for(let et=s.length-a;et<s.length;++et)this.buffer[this.position++]=255&s[et]}qt(i){const s=this.Lt(i),a=__PRIVATE_unsignedNumLength(s);this.kt(1+a),this.buffer[this.position++]=~(255&a);for(let et=s.length-a;et<s.length;++et)this.buffer[this.position++]=~(255&s[et])}Qt(){this.Kt(255),this.Kt(255)}$t(){this.Ut(255),this.Ut(255)}reset(){this.position=0}seed(i){this.kt(i.length),this.buffer.set(i,this.position),this.position+=i.length}Wt(){return this.buffer.slice(0,this.position)}Lt(i){const s=function(tt){const rt=new DataView(new ArrayBuffer(8));return rt.setFloat64(0,tt,!1),new Uint8Array(rt.buffer)}(i),a=(128&s[0])!=0;s[0]^=a?255:128;for(let et=1;et<s.length;++et)s[et]^=a?255:0;return s}Ct(i){const s=255&i;s===0?(this.Kt(0),this.Kt(255)):s===255?(this.Kt(255),this.Kt(0)):this.Kt(s)}Mt(i){const s=255&i;s===0?(this.Ut(0),this.Ut(255)):s===255?(this.Ut(255),this.Ut(0)):this.Ut(i)}vt(){this.Kt(0),this.Kt(1)}xt(){this.Ut(0),this.Ut(1)}Kt(i){this.kt(1),this.buffer[this.position++]=i}Ut(i){this.kt(1),this.buffer[this.position++]=~i}kt(i){const s=i+this.position;if(s<=this.buffer.length)return;let a=2*this.buffer.length;a<s&&(a=s);const et=new Uint8Array(a);et.set(this.buffer),this.buffer=et}}class __PRIVATE_AscendingIndexByteEncoder{constructor(i){this.Gt=i}ft(i){this.Gt.Dt(i)}At(i){this.Gt.Ot(i)}dt(i){this.Gt.Bt(i)}Tt(){this.Gt.Qt()}}class __PRIVATE_DescendingIndexByteEncoder{constructor(i){this.Gt=i}ft(i){this.Gt.Ft(i)}At(i){this.Gt.Nt(i)}dt(i){this.Gt.qt(i)}Tt(){this.Gt.$t()}}class __PRIVATE_IndexByteEncoder{constructor(){this.Gt=new __PRIVATE_OrderedCodeWriter,this.zt=new __PRIVATE_AscendingIndexByteEncoder(this.Gt),this.jt=new __PRIVATE_DescendingIndexByteEncoder(this.Gt)}seed(i){this.Gt.seed(i)}Ht(i){return i===0?this.zt:this.jt}Wt(){return this.Gt.Wt()}reset(){this.Gt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexEntry{constructor(i,s,a,et){this.indexId=i,this.documentKey=s,this.arrayValue=a,this.directionalValue=et}Jt(){const i=this.directionalValue.length,s=i===0||this.directionalValue[i-1]===255?i+1:i,a=new Uint8Array(s);return a.set(this.directionalValue,0),s!==i?a.set([0],this.directionalValue.length):++a[a.length-1],new __PRIVATE_IndexEntry(this.indexId,this.documentKey,this.arrayValue,a)}}function __PRIVATE_indexEntryComparator(o,i){let s=o.indexId-i.indexId;return s!==0?s:(s=__PRIVATE_compareByteArrays(o.arrayValue,i.arrayValue),s!==0?s:(s=__PRIVATE_compareByteArrays(o.directionalValue,i.directionalValue),s!==0?s:DocumentKey.comparator(o.documentKey,i.documentKey)))}function __PRIVATE_compareByteArrays(o,i){for(let s=0;s<o.length&&s<i.length;++s){const a=o[s]-i[s];if(a!==0)return a}return o.length-i.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIndexMatcher{constructor(i){this.Yt=new SortedSet((s,a)=>FieldPath$1.comparator(s.field,a.field)),this.collectionId=i.collectionGroup!=null?i.collectionGroup:i.path.lastSegment(),this.Zt=i.orderBy,this.Xt=[];for(const s of i.filters){const a=s;a.isInequality()?this.Yt=this.Yt.add(a):this.Xt.push(a)}}get en(){return this.Yt.size>1}tn(i){if(__PRIVATE_hardAssert(i.collectionGroup===this.collectionId),this.en)return!1;const s=__PRIVATE_fieldIndexGetArraySegment(i);if(s!==void 0&&!this.nn(s))return!1;const a=__PRIVATE_fieldIndexGetDirectionalSegments(i);let et=new Set,tt=0,rt=0;for(;tt<a.length&&this.nn(a[tt]);++tt)et=et.add(a[tt].fieldPath.canonicalString());if(tt===a.length)return!0;if(this.Yt.size>0){const nt=this.Yt.getIterator().getNext();if(!et.has(nt.field.canonicalString())){const it=a[tt];if(!this.rn(nt,it)||!this.sn(this.Zt[rt++],it))return!1}++tt}for(;tt<a.length;++tt){const nt=a[tt];if(rt>=this.Zt.length||!this.sn(this.Zt[rt++],nt))return!1}return!0}on(){if(this.en)return null;let i=new SortedSet(FieldPath$1.comparator);const s=[];for(const a of this.Xt)if(!a.field.isKeyField())if(a.op==="array-contains"||a.op==="array-contains-any")s.push(new IndexSegment(a.field,2));else{if(i.has(a.field))continue;i=i.add(a.field),s.push(new IndexSegment(a.field,0))}for(const a of this.Zt)a.field.isKeyField()||i.has(a.field)||(i=i.add(a.field),s.push(new IndexSegment(a.field,a.dir==="asc"?0:1)));return new FieldIndex(FieldIndex.UNKNOWN_ID,this.collectionId,s,IndexState.empty())}nn(i){for(const s of this.Xt)if(this.rn(s,i))return!0;return!1}rn(i,s){if(i===void 0||!i.field.isEqual(s.fieldPath))return!1;const a=i.op==="array-contains"||i.op==="array-contains-any";return s.kind===2===a}sn(i,s){return!!i.field.isEqual(s.fieldPath)&&(s.kind===0&&i.dir==="asc"||s.kind===1&&i.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_computeInExpansion(o){var i,s;if(__PRIVATE_hardAssert(o instanceof FieldFilter||o instanceof CompositeFilter),o instanceof FieldFilter){if(o instanceof __PRIVATE_InFilter){const et=((s=(i=o.value.arrayValue)===null||i===void 0?void 0:i.values)===null||s===void 0?void 0:s.map(tt=>FieldFilter.create(o.field,"==",tt)))||[];return CompositeFilter.create(et,"or")}return o}const a=o.filters.map(et=>__PRIVATE_computeInExpansion(et));return CompositeFilter.create(a,o.op)}function __PRIVATE_getDnfTerms(o){if(o.getFilters().length===0)return[];const i=__PRIVATE_computeDistributedNormalForm(__PRIVATE_computeInExpansion(o));return __PRIVATE_hardAssert(__PRIVATE_isDisjunctiveNormalForm(i)),__PRIVATE_isSingleFieldFilter(i)||__PRIVATE_isFlatConjunction(i)?[i]:i.getFilters()}function __PRIVATE_isSingleFieldFilter(o){return o instanceof FieldFilter}function __PRIVATE_isFlatConjunction(o){return o instanceof CompositeFilter&&__PRIVATE_compositeFilterIsFlatConjunction(o)}function __PRIVATE_isDisjunctiveNormalForm(o){return __PRIVATE_isSingleFieldFilter(o)||__PRIVATE_isFlatConjunction(o)||function(s){if(s instanceof CompositeFilter&&__PRIVATE_compositeFilterIsDisjunction(s)){for(const a of s.getFilters())if(!__PRIVATE_isSingleFieldFilter(a)&&!__PRIVATE_isFlatConjunction(a))return!1;return!0}return!1}(o)}function __PRIVATE_computeDistributedNormalForm(o){if(__PRIVATE_hardAssert(o instanceof FieldFilter||o instanceof CompositeFilter),o instanceof FieldFilter)return o;if(o.filters.length===1)return __PRIVATE_computeDistributedNormalForm(o.filters[0]);const i=o.filters.map(a=>__PRIVATE_computeDistributedNormalForm(a));let s=CompositeFilter.create(i,o.op);return s=__PRIVATE_applyAssociation(s),__PRIVATE_isDisjunctiveNormalForm(s)?s:(__PRIVATE_hardAssert(s instanceof CompositeFilter),__PRIVATE_hardAssert(__PRIVATE_compositeFilterIsConjunction(s)),__PRIVATE_hardAssert(s.filters.length>1),s.filters.reduce((a,et)=>__PRIVATE_applyDistribution(a,et)))}function __PRIVATE_applyDistribution(o,i){let s;return __PRIVATE_hardAssert(o instanceof FieldFilter||o instanceof CompositeFilter),__PRIVATE_hardAssert(i instanceof FieldFilter||i instanceof CompositeFilter),s=o instanceof FieldFilter?i instanceof FieldFilter?function(et,tt){return CompositeFilter.create([et,tt],"and")}(o,i):__PRIVATE_applyDistributionFieldAndCompositeFilters(o,i):i instanceof FieldFilter?__PRIVATE_applyDistributionFieldAndCompositeFilters(i,o):function(et,tt){if(__PRIVATE_hardAssert(et.filters.length>0&&tt.filters.length>0),__PRIVATE_compositeFilterIsConjunction(et)&&__PRIVATE_compositeFilterIsConjunction(tt))return __PRIVATE_compositeFilterWithAddedFilters(et,tt.getFilters());const rt=__PRIVATE_compositeFilterIsDisjunction(et)?et:tt,nt=__PRIVATE_compositeFilterIsDisjunction(et)?tt:et,it=rt.filters.map(ot=>__PRIVATE_applyDistribution(ot,nt));return CompositeFilter.create(it,"or")}(o,i),__PRIVATE_applyAssociation(s)}function __PRIVATE_applyDistributionFieldAndCompositeFilters(o,i){if(__PRIVATE_compositeFilterIsConjunction(i))return __PRIVATE_compositeFilterWithAddedFilters(i,o.getFilters());{const s=i.filters.map(a=>__PRIVATE_applyDistribution(o,a));return CompositeFilter.create(s,"or")}}function __PRIVATE_applyAssociation(o){if(__PRIVATE_hardAssert(o instanceof FieldFilter||o instanceof CompositeFilter),o instanceof FieldFilter)return o;const i=o.getFilters();if(i.length===1)return __PRIVATE_applyAssociation(i[0]);if(__PRIVATE_compositeFilterIsFlat(o))return o;const s=i.map(et=>__PRIVATE_applyAssociation(et)),a=[];return s.forEach(et=>{et instanceof FieldFilter?a.push(et):et instanceof CompositeFilter&&(et.op===o.op?a.push(...et.filters):a.push(et))}),a.length===1?a[0]:CompositeFilter.create(a,o.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryIndexManager{constructor(){this._n=new __PRIVATE_MemoryCollectionParentIndex}addToCollectionParentIndex(i,s){return this._n.add(s),PersistencePromise.resolve()}getCollectionParents(i,s){return PersistencePromise.resolve(this._n.getEntries(s))}addFieldIndex(i,s){return PersistencePromise.resolve()}deleteFieldIndex(i,s){return PersistencePromise.resolve()}deleteAllFieldIndexes(i){return PersistencePromise.resolve()}createTargetIndexes(i,s){return PersistencePromise.resolve()}getDocumentsMatchingTarget(i,s){return PersistencePromise.resolve(null)}getIndexType(i,s){return PersistencePromise.resolve(0)}getFieldIndexes(i,s){return PersistencePromise.resolve([])}getNextCollectionGroupToUpdate(i){return PersistencePromise.resolve(null)}getMinOffset(i,s){return PersistencePromise.resolve(IndexOffset.min())}getMinOffsetFromCollectionGroup(i,s){return PersistencePromise.resolve(IndexOffset.min())}updateCollectionGroup(i,s,a){return PersistencePromise.resolve()}updateIndexEntries(i,s){return PersistencePromise.resolve()}}class __PRIVATE_MemoryCollectionParentIndex{constructor(){this.index={}}add(i){const s=i.lastSegment(),a=i.popLast(),et=this.index[s]||new SortedSet(ResourcePath.comparator),tt=!et.has(a);return this.index[s]=et.add(a),tt}has(i){const s=i.lastSegment(),a=i.popLast(),et=this.index[s];return et&&et.has(a)}getEntries(i){return(this.index[i]||new SortedSet(ResourcePath.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Te=new Uint8Array(0);class __PRIVATE_IndexedDbIndexManager{constructor(i,s){this.databaseId=s,this.an=new __PRIVATE_MemoryCollectionParentIndex,this.un=new ObjectMap(a=>__PRIVATE_canonifyTarget(a),(a,et)=>__PRIVATE_targetEquals(a,et)),this.uid=i.uid||""}addToCollectionParentIndex(i,s){if(!this.an.has(s)){const a=s.lastSegment(),et=s.popLast();i.addOnCommittedListener(()=>{this.an.add(s)});const tt={collectionId:a,parent:__PRIVATE_encodeResourcePath(et)};return __PRIVATE_collectionParentsStore(i).put(tt)}return PersistencePromise.resolve()}getCollectionParents(i,s){const a=[],et=IDBKeyRange.bound([s,""],[__PRIVATE_immediateSuccessor(s),""],!1,!0);return __PRIVATE_collectionParentsStore(i).W(et).next(tt=>{for(const rt of tt){if(rt.collectionId!==s)break;a.push(__PRIVATE_decodeResourcePath(rt.parent))}return a})}addFieldIndex(i,s){const a=__PRIVATE_indexConfigurationStore(i),et=function(nt){return{indexId:nt.indexId,collectionGroup:nt.collectionGroup,fields:nt.fields.map(it=>[it.fieldPath.canonicalString(),it.kind])}}(s);delete et.indexId;const tt=a.add(et);if(s.indexState){const rt=__PRIVATE_indexStateStore(i);return tt.next(nt=>{rt.put(__PRIVATE_toDbIndexState(nt,this.uid,s.indexState.sequenceNumber,s.indexState.offset))})}return tt.next()}deleteFieldIndex(i,s){const a=__PRIVATE_indexConfigurationStore(i),et=__PRIVATE_indexStateStore(i),tt=__PRIVATE_indexEntriesStore(i);return a.delete(s.indexId).next(()=>et.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0))).next(()=>tt.delete(IDBKeyRange.bound([s.indexId],[s.indexId+1],!1,!0)))}deleteAllFieldIndexes(i){const s=__PRIVATE_indexConfigurationStore(i),a=__PRIVATE_indexEntriesStore(i),et=__PRIVATE_indexStateStore(i);return s.H().next(()=>a.H()).next(()=>et.H())}createTargetIndexes(i,s){return PersistencePromise.forEach(this.cn(s),a=>this.getIndexType(i,a).next(et=>{if(et===0||et===1){const tt=new __PRIVATE_TargetIndexMatcher(a).on();if(tt!=null)return this.addFieldIndex(i,tt)}}))}getDocumentsMatchingTarget(i,s){const a=__PRIVATE_indexEntriesStore(i);let et=!0;const tt=new Map;return PersistencePromise.forEach(this.cn(s),rt=>this.ln(i,rt).next(nt=>{et&&(et=!!nt),tt.set(rt,nt)})).next(()=>{if(et){let rt=__PRIVATE_documentKeySet();const nt=[];return PersistencePromise.forEach(tt,(it,ot)=>{__PRIVATE_logDebug("IndexedDbIndexManager",`Using index ${function(ct){return`id=${ct.indexId}|cg=${ct.collectionGroup}|f=${ct.fields.map(gt=>`${gt.fieldPath}:${gt.kind}`).join(",")}`}(it)} to execute ${__PRIVATE_canonifyTarget(s)}`);const st=function(ct,gt){const Et=__PRIVATE_fieldIndexGetArraySegment(gt);if(Et===void 0)return null;for(const bt of __PRIVATE_targetGetFieldFiltersForPath(ct,Et.fieldPath))switch(bt.op){case"array-contains-any":return bt.value.arrayValue.values||[];case"array-contains":return[bt.value]}return null}(ot,it),lt=function(ct,gt){const Et=new Map;for(const bt of __PRIVATE_fieldIndexGetDirectionalSegments(gt))for(const xt of __PRIVATE_targetGetFieldFiltersForPath(ct,bt.fieldPath))switch(xt.op){case"==":case"in":Et.set(bt.fieldPath.canonicalString(),xt.value);break;case"not-in":case"!=":return Et.set(bt.fieldPath.canonicalString(),xt.value),Array.from(Et.values())}return null}(ot,it),at=function(ct,gt){const Et=[];let bt=!0;for(const xt of __PRIVATE_fieldIndexGetDirectionalSegments(gt)){const Tt=xt.kind===0?__PRIVATE_targetGetAscendingBound(ct,xt.fieldPath,ct.startAt):__PRIVATE_targetGetDescendingBound(ct,xt.fieldPath,ct.startAt);Et.push(Tt.value),bt&&(bt=Tt.inclusive)}return new Bound(Et,bt)}(ot,it),ut=function(ct,gt){const Et=[];let bt=!0;for(const xt of __PRIVATE_fieldIndexGetDirectionalSegments(gt)){const Tt=xt.kind===0?__PRIVATE_targetGetDescendingBound(ct,xt.fieldPath,ct.endAt):__PRIVATE_targetGetAscendingBound(ct,xt.fieldPath,ct.endAt);Et.push(Tt.value),bt&&(bt=Tt.inclusive)}return new Bound(Et,bt)}(ot,it),ft=this.hn(it,ot,at),mt=this.hn(it,ot,ut),yt=this.Pn(it,ot,lt),ht=this.In(it.indexId,st,ft,at.inclusive,mt,ut.inclusive,yt);return PersistencePromise.forEach(ht,pt=>a.j(pt,s.limit).next(ct=>{ct.forEach(gt=>{const Et=DocumentKey.fromSegments(gt.documentKey);rt.has(Et)||(rt=rt.add(Et),nt.push(Et))})}))}).next(()=>nt)}return PersistencePromise.resolve(null)})}cn(i){let s=this.un.get(i);return s||(i.filters.length===0?s=[i]:s=__PRIVATE_getDnfTerms(CompositeFilter.create(i.filters,"and")).map(a=>__PRIVATE_newTarget(i.path,i.collectionGroup,i.orderBy,a.getFilters(),i.limit,i.startAt,i.endAt)),this.un.set(i,s),s)}In(i,s,a,et,tt,rt,nt){const it=(s!=null?s.length:1)*Math.max(a.length,tt.length),ot=it/(s!=null?s.length:1),st=[];for(let lt=0;lt<it;++lt){const at=s?this.Tn(s[lt/ot]):Te,ut=this.En(i,at,a[lt%ot],et),ft=this.dn(i,at,tt[lt%ot],rt),mt=nt.map(yt=>this.En(i,at,yt,!0));st.push(...this.createRange(ut,ft,mt))}return st}En(i,s,a,et){const tt=new __PRIVATE_IndexEntry(i,DocumentKey.empty(),s,a);return et?tt:tt.Jt()}dn(i,s,a,et){const tt=new __PRIVATE_IndexEntry(i,DocumentKey.empty(),s,a);return et?tt.Jt():tt}ln(i,s){const a=new __PRIVATE_TargetIndexMatcher(s),et=s.collectionGroup!=null?s.collectionGroup:s.path.lastSegment();return this.getFieldIndexes(i,et).next(tt=>{let rt=null;for(const nt of tt)a.tn(nt)&&(!rt||nt.fields.length>rt.fields.length)&&(rt=nt);return rt})}getIndexType(i,s){let a=2;const et=this.cn(s);return PersistencePromise.forEach(et,tt=>this.ln(i,tt).next(rt=>{rt?a!==0&&rt.fields.length<function(it){let ot=new SortedSet(FieldPath$1.comparator),st=!1;for(const lt of it.filters)for(const at of lt.getFlattenedFilters())at.field.isKeyField()||(at.op==="array-contains"||at.op==="array-contains-any"?st=!0:ot=ot.add(at.field));for(const lt of it.orderBy)lt.field.isKeyField()||(ot=ot.add(lt.field));return ot.size+(st?1:0)}(tt)&&(a=1):a=0})).next(()=>function(rt){return rt.limit!==null}(s)&&et.length>1&&a===2?1:a)}An(i,s){const a=new __PRIVATE_IndexByteEncoder;for(const et of __PRIVATE_fieldIndexGetDirectionalSegments(i)){const tt=s.data.field(et.fieldPath);if(tt==null)return null;const rt=a.Ht(et.kind);__PRIVATE_FirestoreIndexValueWriter.bt.Pt(tt,rt)}return a.Wt()}Tn(i){const s=new __PRIVATE_IndexByteEncoder;return __PRIVATE_FirestoreIndexValueWriter.bt.Pt(i,s.Ht(0)),s.Wt()}Rn(i,s){const a=new __PRIVATE_IndexByteEncoder;return __PRIVATE_FirestoreIndexValueWriter.bt.Pt(__PRIVATE_refValue(this.databaseId,s),a.Ht(function(tt){const rt=__PRIVATE_fieldIndexGetDirectionalSegments(tt);return rt.length===0?0:rt[rt.length-1].kind}(i))),a.Wt()}Pn(i,s,a){if(a===null)return[];let et=[];et.push(new __PRIVATE_IndexByteEncoder);let tt=0;for(const rt of __PRIVATE_fieldIndexGetDirectionalSegments(i)){const nt=a[tt++];for(const it of et)if(this.Vn(s,rt.fieldPath)&&isArray$4(nt))et=this.mn(et,rt,nt);else{const ot=it.Ht(rt.kind);__PRIVATE_FirestoreIndexValueWriter.bt.Pt(nt,ot)}}return this.fn(et)}hn(i,s,a){return this.Pn(i,s,a.position)}fn(i){const s=[];for(let a=0;a<i.length;++a)s[a]=i[a].Wt();return s}mn(i,s,a){const et=[...i],tt=[];for(const rt of a.arrayValue.values||[])for(const nt of et){const it=new __PRIVATE_IndexByteEncoder;it.seed(nt.Wt()),__PRIVATE_FirestoreIndexValueWriter.bt.Pt(rt,it.Ht(s.kind)),tt.push(it)}return tt}Vn(i,s){return!!i.filters.find(a=>a instanceof FieldFilter&&a.field.isEqual(s)&&(a.op==="in"||a.op==="not-in"))}getFieldIndexes(i,s){const a=__PRIVATE_indexConfigurationStore(i),et=__PRIVATE_indexStateStore(i);return(s?a.W("collectionGroupIndex",IDBKeyRange.bound(s,s)):a.W()).next(tt=>{const rt=[];return PersistencePromise.forEach(tt,nt=>et.get([nt.indexId,this.uid]).next(it=>{rt.push(function(st,lt){const at=lt?new IndexState(lt.sequenceNumber,new IndexOffset(__PRIVATE_fromDbTimestamp(lt.readTime),new DocumentKey(__PRIVATE_decodeResourcePath(lt.documentKey)),lt.largestBatchId)):IndexState.empty(),ut=st.fields.map(([ft,mt])=>new IndexSegment(FieldPath$1.fromServerFormat(ft),mt));return new FieldIndex(st.indexId,st.collectionGroup,ut,at)}(nt,it))})).next(()=>rt)})}getNextCollectionGroupToUpdate(i){return this.getFieldIndexes(i).next(s=>s.length===0?null:(s.sort((a,et)=>{const tt=a.indexState.sequenceNumber-et.indexState.sequenceNumber;return tt!==0?tt:__PRIVATE_primitiveComparator(a.collectionGroup,et.collectionGroup)}),s[0].collectionGroup))}updateCollectionGroup(i,s,a){const et=__PRIVATE_indexConfigurationStore(i),tt=__PRIVATE_indexStateStore(i);return this.gn(i).next(rt=>et.W("collectionGroupIndex",IDBKeyRange.bound(s,s)).next(nt=>PersistencePromise.forEach(nt,it=>tt.put(__PRIVATE_toDbIndexState(it.indexId,this.uid,rt,a)))))}updateIndexEntries(i,s){const a=new Map;return PersistencePromise.forEach(s,(et,tt)=>{const rt=a.get(et.collectionGroup);return(rt?PersistencePromise.resolve(rt):this.getFieldIndexes(i,et.collectionGroup)).next(nt=>(a.set(et.collectionGroup,nt),PersistencePromise.forEach(nt,it=>this.pn(i,et,it).next(ot=>{const st=this.yn(tt,it);return ot.isEqual(st)?PersistencePromise.resolve():this.wn(i,tt,it,ot,st)}))))})}Sn(i,s,a,et){return __PRIVATE_indexEntriesStore(i).put({indexId:et.indexId,uid:this.uid,arrayValue:et.arrayValue,directionalValue:et.directionalValue,orderedDocumentKey:this.Rn(a,s.key),documentKey:s.key.path.toArray()})}bn(i,s,a,et){return __PRIVATE_indexEntriesStore(i).delete([et.indexId,this.uid,et.arrayValue,et.directionalValue,this.Rn(a,s.key),s.key.path.toArray()])}pn(i,s,a){const et=__PRIVATE_indexEntriesStore(i);let tt=new SortedSet(__PRIVATE_indexEntryComparator);return et.Y({index:"documentKeyIndex",range:IDBKeyRange.only([a.indexId,this.uid,this.Rn(a,s)])},(rt,nt)=>{tt=tt.add(new __PRIVATE_IndexEntry(a.indexId,s,nt.arrayValue,nt.directionalValue))}).next(()=>tt)}yn(i,s){let a=new SortedSet(__PRIVATE_indexEntryComparator);const et=this.An(s,i);if(et==null)return a;const tt=__PRIVATE_fieldIndexGetArraySegment(s);if(tt!=null){const rt=i.data.field(tt.fieldPath);if(isArray$4(rt))for(const nt of rt.arrayValue.values||[])a=a.add(new __PRIVATE_IndexEntry(s.indexId,i.key,this.Tn(nt),et))}else a=a.add(new __PRIVATE_IndexEntry(s.indexId,i.key,Te,et));return a}wn(i,s,a,et,tt){__PRIVATE_logDebug("IndexedDbIndexManager","Updating index entries for document '%s'",s.key);const rt=[];return function(it,ot,st,lt,at){const ut=it.getIterator(),ft=ot.getIterator();let mt=__PRIVATE_advanceIterator(ut),yt=__PRIVATE_advanceIterator(ft);for(;mt||yt;){let ht=!1,pt=!1;if(mt&&yt){const ct=st(mt,yt);ct<0?pt=!0:ct>0&&(ht=!0)}else mt!=null?pt=!0:ht=!0;ht?(lt(yt),yt=__PRIVATE_advanceIterator(ft)):pt?(at(mt),mt=__PRIVATE_advanceIterator(ut)):(mt=__PRIVATE_advanceIterator(ut),yt=__PRIVATE_advanceIterator(ft))}}(et,tt,__PRIVATE_indexEntryComparator,nt=>{rt.push(this.Sn(i,s,a,nt))},nt=>{rt.push(this.bn(i,s,a,nt))}),PersistencePromise.waitFor(rt)}gn(i){let s=1;return __PRIVATE_indexStateStore(i).Y({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(a,et,tt)=>{tt.done(),s=et.sequenceNumber+1}).next(()=>s)}createRange(i,s,a){a=a.sort((rt,nt)=>__PRIVATE_indexEntryComparator(rt,nt)).filter((rt,nt,it)=>!nt||__PRIVATE_indexEntryComparator(rt,it[nt-1])!==0);const et=[];et.push(i);for(const rt of a){const nt=__PRIVATE_indexEntryComparator(rt,i),it=__PRIVATE_indexEntryComparator(rt,s);if(nt===0)et[0]=i.Jt();else if(nt>0&&it<0)et.push(rt),et.push(rt.Jt());else if(it>0)break}et.push(s);const tt=[];for(let rt=0;rt<et.length;rt+=2){if(this.Dn(et[rt],et[rt+1]))return[];const nt=[et[rt].indexId,this.uid,et[rt].arrayValue,et[rt].directionalValue,Te,[]],it=[et[rt+1].indexId,this.uid,et[rt+1].arrayValue,et[rt+1].directionalValue,Te,[]];tt.push(IDBKeyRange.bound(nt,it))}return tt}Dn(i,s){return __PRIVATE_indexEntryComparator(i,s)>0}getMinOffsetFromCollectionGroup(i,s){return this.getFieldIndexes(i,s).next(__PRIVATE_getMinOffsetFromFieldIndexes)}getMinOffset(i,s){return PersistencePromise.mapArray(this.cn(s),a=>this.ln(i,a).next(et=>et||fail())).next(__PRIVATE_getMinOffsetFromFieldIndexes)}}function __PRIVATE_collectionParentsStore(o){return __PRIVATE_getStore(o,"collectionParents")}function __PRIVATE_indexEntriesStore(o){return __PRIVATE_getStore(o,"indexEntries")}function __PRIVATE_indexConfigurationStore(o){return __PRIVATE_getStore(o,"indexConfiguration")}function __PRIVATE_indexStateStore(o){return __PRIVATE_getStore(o,"indexState")}function __PRIVATE_getMinOffsetFromFieldIndexes(o){__PRIVATE_hardAssert(o.length!==0);let i=o[0].indexState.offset,s=i.largestBatchId;for(let a=1;a<o.length;a++){const et=o[a].indexState.offset;__PRIVATE_indexOffsetComparator(et,i)<0&&(i=et),s<et.largestBatchId&&(s=et.largestBatchId)}return new IndexOffset(i.readTime,i.documentKey,s)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class LruParams{constructor(i,s,a){this.cacheSizeCollectionThreshold=i,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=a}static withCacheSize(i){return new LruParams(i,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function removeMutationBatch(o,i,s){const a=o.store("mutations"),et=o.store("documentMutations"),tt=[],rt=IDBKeyRange.only(s.batchId);let nt=0;const it=a.Y({range:rt},(st,lt,at)=>(nt++,at.delete()));tt.push(it.next(()=>{__PRIVATE_hardAssert(nt===1)}));const ot=[];for(const st of s.mutations){const lt=__PRIVATE_newDbDocumentMutationKey(i,st.key.path,s.batchId);tt.push(et.delete(lt)),ot.push(st.key)}return PersistencePromise.waitFor(tt).next(()=>ot)}function __PRIVATE_dbDocumentSize(o){if(!o)return 0;let i;if(o.document)i=o.document;else if(o.unknownDocument)i=o.unknownDocument;else{if(!o.noDocument)throw fail();i=o.noDocument}return JSON.stringify(i).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */LruParams.DEFAULT_COLLECTION_PERCENTILE=10,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,LruParams.DEFAULT=new LruParams(41943040,LruParams.DEFAULT_COLLECTION_PERCENTILE,LruParams.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),LruParams.DISABLED=new LruParams(-1,0,0);class __PRIVATE_IndexedDbMutationQueue{constructor(i,s,a,et){this.userId=i,this.serializer=s,this.indexManager=a,this.referenceDelegate=et,this.Cn={}}static lt(i,s,a,et){__PRIVATE_hardAssert(i.uid!=="");const tt=i.isAuthenticated()?i.uid:"";return new __PRIVATE_IndexedDbMutationQueue(tt,s,a,et)}checkEmpty(i){let s=!0;const a=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore(i).Y({index:"userMutationsIndex",range:a},(et,tt,rt)=>{s=!1,rt.done()}).next(()=>s)}addMutationBatch(i,s,a,et){const tt=__PRIVATE_documentMutationsStore(i),rt=__PRIVATE_mutationsStore(i);return rt.add({}).next(nt=>{__PRIVATE_hardAssert(typeof nt=="number");const it=new MutationBatch(nt,s,a,et),ot=function(ut,ft,mt){const yt=mt.baseMutations.map(pt=>toMutation(ut.ct,pt)),ht=mt.mutations.map(pt=>toMutation(ut.ct,pt));return{userId:ft,batchId:mt.batchId,localWriteTimeMs:mt.localWriteTime.toMillis(),baseMutations:yt,mutations:ht}}(this.serializer,this.userId,it),st=[];let lt=new SortedSet((at,ut)=>__PRIVATE_primitiveComparator(at.canonicalString(),ut.canonicalString()));for(const at of et){const ut=__PRIVATE_newDbDocumentMutationKey(this.userId,at.key.path,nt);lt=lt.add(at.key.path.popLast()),st.push(rt.put(ot)),st.push(tt.put(ut,x$1))}return lt.forEach(at=>{st.push(this.indexManager.addToCollectionParentIndex(i,at))}),i.addOnCommittedListener(()=>{this.Cn[nt]=it.keys()}),PersistencePromise.waitFor(st).next(()=>it)})}lookupMutationBatch(i,s){return __PRIVATE_mutationsStore(i).get(s).next(a=>a?(__PRIVATE_hardAssert(a.userId===this.userId),__PRIVATE_fromDbMutationBatch(this.serializer,a)):null)}vn(i,s){return this.Cn[s]?PersistencePromise.resolve(this.Cn[s]):this.lookupMutationBatch(i,s).next(a=>{if(a){const et=a.keys();return this.Cn[s]=et,et}return null})}getNextMutationBatchAfterBatchId(i,s){const a=s+1,et=IDBKeyRange.lowerBound([this.userId,a]);let tt=null;return __PRIVATE_mutationsStore(i).Y({index:"userMutationsIndex",range:et},(rt,nt,it)=>{nt.userId===this.userId&&(__PRIVATE_hardAssert(nt.batchId>=a),tt=__PRIVATE_fromDbMutationBatch(this.serializer,nt)),it.done()}).next(()=>tt)}getHighestUnacknowledgedBatchId(i){const s=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let a=-1;return __PRIVATE_mutationsStore(i).Y({index:"userMutationsIndex",range:s,reverse:!0},(et,tt,rt)=>{a=tt.batchId,rt.done()}).next(()=>a)}getAllMutationBatches(i){const s=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return __PRIVATE_mutationsStore(i).W("userMutationsIndex",s).next(a=>a.map(et=>__PRIVATE_fromDbMutationBatch(this.serializer,et)))}getAllMutationBatchesAffectingDocumentKey(i,s){const a=__PRIVATE_newDbDocumentMutationPrefixForPath(this.userId,s.path),et=IDBKeyRange.lowerBound(a),tt=[];return __PRIVATE_documentMutationsStore(i).Y({range:et},(rt,nt,it)=>{const[ot,st,lt]=rt,at=__PRIVATE_decodeResourcePath(st);if(ot===this.userId&&s.path.isEqual(at))return __PRIVATE_mutationsStore(i).get(lt).next(ut=>{if(!ut)throw fail();__PRIVATE_hardAssert(ut.userId===this.userId),tt.push(__PRIVATE_fromDbMutationBatch(this.serializer,ut))});it.done()}).next(()=>tt)}getAllMutationBatchesAffectingDocumentKeys(i,s){let a=new SortedSet(__PRIVATE_primitiveComparator);const et=[];return s.forEach(tt=>{const rt=__PRIVATE_newDbDocumentMutationPrefixForPath(this.userId,tt.path),nt=IDBKeyRange.lowerBound(rt),it=__PRIVATE_documentMutationsStore(i).Y({range:nt},(ot,st,lt)=>{const[at,ut,ft]=ot,mt=__PRIVATE_decodeResourcePath(ut);at===this.userId&&tt.path.isEqual(mt)?a=a.add(ft):lt.done()});et.push(it)}),PersistencePromise.waitFor(et).next(()=>this.Fn(i,a))}getAllMutationBatchesAffectingQuery(i,s){const a=s.path,et=a.length+1,tt=__PRIVATE_newDbDocumentMutationPrefixForPath(this.userId,a),rt=IDBKeyRange.lowerBound(tt);let nt=new SortedSet(__PRIVATE_primitiveComparator);return __PRIVATE_documentMutationsStore(i).Y({range:rt},(it,ot,st)=>{const[lt,at,ut]=it,ft=__PRIVATE_decodeResourcePath(at);lt===this.userId&&a.isPrefixOf(ft)?ft.length===et&&(nt=nt.add(ut)):st.done()}).next(()=>this.Fn(i,nt))}Fn(i,s){const a=[],et=[];return s.forEach(tt=>{et.push(__PRIVATE_mutationsStore(i).get(tt).next(rt=>{if(rt===null)throw fail();__PRIVATE_hardAssert(rt.userId===this.userId),a.push(__PRIVATE_fromDbMutationBatch(this.serializer,rt))}))}),PersistencePromise.waitFor(et).next(()=>a)}removeMutationBatch(i,s){return removeMutationBatch(i.ae,this.userId,s).next(a=>(i.addOnCommittedListener(()=>{this.Mn(s.batchId)}),PersistencePromise.forEach(a,et=>this.referenceDelegate.markPotentiallyOrphaned(i,et))))}Mn(i){delete this.Cn[i]}performConsistencyCheck(i){return this.checkEmpty(i).next(s=>{if(!s)return PersistencePromise.resolve();const a=IDBKeyRange.lowerBound(function(rt){return[rt]}(this.userId)),et=[];return __PRIVATE_documentMutationsStore(i).Y({range:a},(tt,rt,nt)=>{if(tt[0]===this.userId){const it=__PRIVATE_decodeResourcePath(tt[1]);et.push(it)}else nt.done()}).next(()=>{__PRIVATE_hardAssert(et.length===0)})})}containsKey(i,s){return __PRIVATE_mutationQueueContainsKey(i,this.userId,s)}xn(i){return __PRIVATE_mutationQueuesStore(i).get(this.userId).next(s=>s||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function __PRIVATE_mutationQueueContainsKey(o,i,s){const a=__PRIVATE_newDbDocumentMutationPrefixForPath(i,s.path),et=a[1],tt=IDBKeyRange.lowerBound(a);let rt=!1;return __PRIVATE_documentMutationsStore(o).Y({range:tt,J:!0},(nt,it,ot)=>{const[st,lt,at]=nt;st===i&&lt===et&&(rt=!0),ot.done()}).next(()=>rt)}function __PRIVATE_mutationsStore(o){return __PRIVATE_getStore(o,"mutations")}function __PRIVATE_documentMutationsStore(o){return __PRIVATE_getStore(o,"documentMutations")}function __PRIVATE_mutationQueuesStore(o){return __PRIVATE_getStore(o,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TargetIdGenerator{constructor(i){this.On=i}next(){return this.On+=2,this.On}static Nn(){return new __PRIVATE_TargetIdGenerator(0)}static Bn(){return new __PRIVATE_TargetIdGenerator(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbTargetCache{constructor(i,s){this.referenceDelegate=i,this.serializer=s}allocateTargetId(i){return this.Ln(i).next(s=>{const a=new __PRIVATE_TargetIdGenerator(s.highestTargetId);return s.highestTargetId=a.next(),this.kn(i,s).next(()=>s.highestTargetId)})}getLastRemoteSnapshotVersion(i){return this.Ln(i).next(s=>SnapshotVersion.fromTimestamp(new Timestamp(s.lastRemoteSnapshotVersion.seconds,s.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(i){return this.Ln(i).next(s=>s.highestListenSequenceNumber)}setTargetsMetadata(i,s,a){return this.Ln(i).next(et=>(et.highestListenSequenceNumber=s,a&&(et.lastRemoteSnapshotVersion=a.toTimestamp()),s>et.highestListenSequenceNumber&&(et.highestListenSequenceNumber=s),this.kn(i,et)))}addTargetData(i,s){return this.qn(i,s).next(()=>this.Ln(i).next(a=>(a.targetCount+=1,this.Qn(s,a),this.kn(i,a))))}updateTargetData(i,s){return this.qn(i,s)}removeTargetData(i,s){return this.removeMatchingKeysForTargetId(i,s.targetId).next(()=>__PRIVATE_targetsStore(i).delete(s.targetId)).next(()=>this.Ln(i)).next(a=>(__PRIVATE_hardAssert(a.targetCount>0),a.targetCount-=1,this.kn(i,a)))}removeTargets(i,s,a){let et=0;const tt=[];return __PRIVATE_targetsStore(i).Y((rt,nt)=>{const it=__PRIVATE_fromDbTarget(nt);it.sequenceNumber<=s&&a.get(it.targetId)===null&&(et++,tt.push(this.removeTargetData(i,it)))}).next(()=>PersistencePromise.waitFor(tt)).next(()=>et)}forEachTarget(i,s){return __PRIVATE_targetsStore(i).Y((a,et)=>{const tt=__PRIVATE_fromDbTarget(et);s(tt)})}Ln(i){return __PRIVATE_globalTargetStore(i).get("targetGlobalKey").next(s=>(__PRIVATE_hardAssert(s!==null),s))}kn(i,s){return __PRIVATE_globalTargetStore(i).put("targetGlobalKey",s)}qn(i,s){return __PRIVATE_targetsStore(i).put(__PRIVATE_toDbTarget(this.serializer,s))}Qn(i,s){let a=!1;return i.targetId>s.highestTargetId&&(s.highestTargetId=i.targetId,a=!0),i.sequenceNumber>s.highestListenSequenceNumber&&(s.highestListenSequenceNumber=i.sequenceNumber,a=!0),a}getTargetCount(i){return this.Ln(i).next(s=>s.targetCount)}getTargetData(i,s){const a=__PRIVATE_canonifyTarget(s),et=IDBKeyRange.bound([a,Number.NEGATIVE_INFINITY],[a,Number.POSITIVE_INFINITY]);let tt=null;return __PRIVATE_targetsStore(i).Y({range:et,index:"queryTargetsIndex"},(rt,nt,it)=>{const ot=__PRIVATE_fromDbTarget(nt);__PRIVATE_targetEquals(s,ot.target)&&(tt=ot,it.done())}).next(()=>tt)}addMatchingKeys(i,s,a){const et=[],tt=__PRIVATE_documentTargetStore(i);return s.forEach(rt=>{const nt=__PRIVATE_encodeResourcePath(rt.path);et.push(tt.put({targetId:a,path:nt})),et.push(this.referenceDelegate.addReference(i,a,rt))}),PersistencePromise.waitFor(et)}removeMatchingKeys(i,s,a){const et=__PRIVATE_documentTargetStore(i);return PersistencePromise.forEach(s,tt=>{const rt=__PRIVATE_encodeResourcePath(tt.path);return PersistencePromise.waitFor([et.delete([a,rt]),this.referenceDelegate.removeReference(i,a,tt)])})}removeMatchingKeysForTargetId(i,s){const a=__PRIVATE_documentTargetStore(i),et=IDBKeyRange.bound([s],[s+1],!1,!0);return a.delete(et)}getMatchingKeysForTargetId(i,s){const a=IDBKeyRange.bound([s],[s+1],!1,!0),et=__PRIVATE_documentTargetStore(i);let tt=__PRIVATE_documentKeySet();return et.Y({range:a,J:!0},(rt,nt,it)=>{const ot=__PRIVATE_decodeResourcePath(rt[1]),st=new DocumentKey(ot);tt=tt.add(st)}).next(()=>tt)}containsKey(i,s){const a=__PRIVATE_encodeResourcePath(s.path),et=IDBKeyRange.bound([a],[__PRIVATE_immediateSuccessor(a)],!1,!0);let tt=0;return __PRIVATE_documentTargetStore(i).Y({index:"documentTargetsIndex",J:!0,range:et},([rt,nt],it,ot)=>{rt!==0&&(tt++,ot.done())}).next(()=>tt>0)}_t(i,s){return __PRIVATE_targetsStore(i).get(s).next(a=>a?__PRIVATE_fromDbTarget(a):null)}}function __PRIVATE_targetsStore(o){return __PRIVATE_getStore(o,"targets")}function __PRIVATE_globalTargetStore(o){return __PRIVATE_getStore(o,"targetGlobal")}function __PRIVATE_documentTargetStore(o){return __PRIVATE_getStore(o,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_bufferEntryComparator([o,i],[s,a]){const et=__PRIVATE_primitiveComparator(o,s);return et===0?__PRIVATE_primitiveComparator(i,a):et}class __PRIVATE_RollingSequenceNumberBuffer{constructor(i){this.Kn=i,this.buffer=new SortedSet(__PRIVATE_bufferEntryComparator),this.$n=0}Un(){return++this.$n}Wn(i){const s=[i,this.Un()];if(this.buffer.size<this.Kn)this.buffer=this.buffer.add(s);else{const a=this.buffer.last();__PRIVATE_bufferEntryComparator(s,a)<0&&(this.buffer=this.buffer.delete(a).add(s))}}get maxValue(){return this.buffer.last()[0]}}class __PRIVATE_LruScheduler{constructor(i,s,a){this.garbageCollector=i,this.asyncQueue=s,this.localStore=a,this.Gn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.zn(6e4)}stop(){this.Gn&&(this.Gn.cancel(),this.Gn=null)}get started(){return this.Gn!==null}zn(i){__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection scheduled in ${i}ms`),this.Gn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",i,async()=>{this.Gn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){__PRIVATE_isIndexedDbTransactionError(s)?__PRIVATE_logDebug("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",s):await __PRIVATE_ignoreIfPrimaryLeaseLoss(s)}await this.zn(3e5)})}}class __PRIVATE_LruGarbageCollectorImpl{constructor(i,s){this.jn=i,this.params=s}calculateTargetCount(i,s){return this.jn.Hn(i).next(a=>Math.floor(s/100*a))}nthSequenceNumber(i,s){if(s===0)return PersistencePromise.resolve(__PRIVATE_ListenSequence._e);const a=new __PRIVATE_RollingSequenceNumberBuffer(s);return this.jn.forEachTarget(i,et=>a.Wn(et.sequenceNumber)).next(()=>this.jn.Jn(i,et=>a.Wn(et))).next(()=>a.maxValue)}removeTargets(i,s,a){return this.jn.removeTargets(i,s,a)}removeOrphanedDocuments(i,s){return this.jn.removeOrphanedDocuments(i,s)}collect(i,s){return this.params.cacheSizeCollectionThreshold===-1?(__PRIVATE_logDebug("LruGarbageCollector","Garbage collection skipped; disabled"),PersistencePromise.resolve(Ee)):this.getCacheSize(i).next(a=>a<this.params.cacheSizeCollectionThreshold?(__PRIVATE_logDebug("LruGarbageCollector",`Garbage collection skipped; Cache size ${a} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ee):this.Yn(i,s))}getCacheSize(i){return this.jn.getCacheSize(i)}Yn(i,s){let a,et,tt,rt,nt,it,ot;const st=Date.now();return this.calculateTargetCount(i,this.params.percentileToCollect).next(lt=>(lt>this.params.maximumSequenceNumbersToCollect?(__PRIVATE_logDebug("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${lt}`),et=this.params.maximumSequenceNumbersToCollect):et=lt,rt=Date.now(),this.nthSequenceNumber(i,et))).next(lt=>(a=lt,nt=Date.now(),this.removeTargets(i,a,s))).next(lt=>(tt=lt,it=Date.now(),this.removeOrphanedDocuments(i,a))).next(lt=>(ot=Date.now(),__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${rt-st}ms
	Determined least recently used ${et} in `+(nt-rt)+`ms
	Removed ${tt} targets in `+(it-nt)+`ms
	Removed ${lt} documents in `+(ot-it)+`ms
Total Duration: ${ot-st}ms`),PersistencePromise.resolve({didRun:!0,sequenceNumbersCollected:et,targetsRemoved:tt,documentsRemoved:lt})))}}function __PRIVATE_newLruGarbageCollector(o,i){return new __PRIVATE_LruGarbageCollectorImpl(o,i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbLruDelegateImpl{constructor(i,s){this.db=i,this.garbageCollector=__PRIVATE_newLruGarbageCollector(this,s)}Hn(i){const s=this.Zn(i);return this.db.getTargetCache().getTargetCount(i).next(a=>s.next(et=>a+et))}Zn(i){let s=0;return this.Jn(i,a=>{s++}).next(()=>s)}forEachTarget(i,s){return this.db.getTargetCache().forEachTarget(i,s)}Jn(i,s){return this.Xn(i,(a,et)=>s(et))}addReference(i,s,a){return __PRIVATE_writeSentinelKey(i,a)}removeReference(i,s,a){return __PRIVATE_writeSentinelKey(i,a)}removeTargets(i,s,a){return this.db.getTargetCache().removeTargets(i,s,a)}markPotentiallyOrphaned(i,s){return __PRIVATE_writeSentinelKey(i,s)}er(i,s){return function(et,tt){let rt=!1;return __PRIVATE_mutationQueuesStore(et).Z(nt=>__PRIVATE_mutationQueueContainsKey(et,nt,tt).next(it=>(it&&(rt=!0),PersistencePromise.resolve(!it)))).next(()=>rt)}(i,s)}removeOrphanedDocuments(i,s){const a=this.db.getRemoteDocumentCache().newChangeBuffer(),et=[];let tt=0;return this.Xn(i,(rt,nt)=>{if(nt<=s){const it=this.er(i,rt).next(ot=>{if(!ot)return tt++,a.getEntry(i,rt).next(()=>(a.removeEntry(rt,SnapshotVersion.min()),__PRIVATE_documentTargetStore(i).delete(function(lt){return[0,__PRIVATE_encodeResourcePath(lt.path)]}(rt))))});et.push(it)}}).next(()=>PersistencePromise.waitFor(et)).next(()=>a.apply(i)).next(()=>tt)}removeTarget(i,s){const a=s.withSequenceNumber(i.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(i,a)}updateLimboDocument(i,s){return __PRIVATE_writeSentinelKey(i,s)}Xn(i,s){const a=__PRIVATE_documentTargetStore(i);let et,tt=__PRIVATE_ListenSequence._e;return a.Y({index:"documentTargetsIndex"},([rt,nt],{path:it,sequenceNumber:ot})=>{rt===0?(tt!==__PRIVATE_ListenSequence._e&&s(new DocumentKey(__PRIVATE_decodeResourcePath(et)),tt),tt=ot,et=it):tt=__PRIVATE_ListenSequence._e}).next(()=>{tt!==__PRIVATE_ListenSequence._e&&s(new DocumentKey(__PRIVATE_decodeResourcePath(et)),tt)})}getCacheSize(i){return this.db.getRemoteDocumentCache().getSize(i)}}function __PRIVATE_writeSentinelKey(o,i){return __PRIVATE_documentTargetStore(o).put(function(a,et){return{targetId:0,path:__PRIVATE_encodeResourcePath(a.path),sequenceNumber:et}}(i,o.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RemoteDocumentChangeBuffer{constructor(){this.changes=new ObjectMap(i=>i.toString(),(i,s)=>i.isEqual(s)),this.changesApplied=!1}addEntry(i){this.assertNotApplied(),this.changes.set(i.key,i)}removeEntry(i,s){this.assertNotApplied(),this.changes.set(i,MutableDocument.newInvalidDocument(i).setReadTime(s))}getEntry(i,s){this.assertNotApplied();const a=this.changes.get(s);return a!==void 0?PersistencePromise.resolve(a):this.getFromCache(i,s)}getEntries(i,s){return this.getAllFromCache(i,s)}apply(i){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(i)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_IndexedDbRemoteDocumentCacheImpl{constructor(i){this.serializer=i}setIndexManager(i){this.indexManager=i}addEntry(i,s,a){return __PRIVATE_remoteDocumentsStore(i).put(a)}removeEntry(i,s,a){return __PRIVATE_remoteDocumentsStore(i).delete(function(tt,rt){const nt=tt.path.toArray();return[nt.slice(0,nt.length-2),nt[nt.length-2],__PRIVATE_toDbTimestampKey(rt),nt[nt.length-1]]}(s,a))}updateMetadata(i,s){return this.getMetadata(i).next(a=>(a.byteSize+=s,this.tr(i,a)))}getEntry(i,s){let a=MutableDocument.newInvalidDocument(s);return __PRIVATE_remoteDocumentsStore(i).Y({index:"documentKeyIndex",range:IDBKeyRange.only(__PRIVATE_dbKey(s))},(et,tt)=>{a=this.nr(s,tt)}).next(()=>a)}rr(i,s){let a={size:0,document:MutableDocument.newInvalidDocument(s)};return __PRIVATE_remoteDocumentsStore(i).Y({index:"documentKeyIndex",range:IDBKeyRange.only(__PRIVATE_dbKey(s))},(et,tt)=>{a={document:this.nr(s,tt),size:__PRIVATE_dbDocumentSize(tt)}}).next(()=>a)}getEntries(i,s){let a=__PRIVATE_mutableDocumentMap();return this.ir(i,s,(et,tt)=>{const rt=this.nr(et,tt);a=a.insert(et,rt)}).next(()=>a)}sr(i,s){let a=__PRIVATE_mutableDocumentMap(),et=new SortedMap(DocumentKey.comparator);return this.ir(i,s,(tt,rt)=>{const nt=this.nr(tt,rt);a=a.insert(tt,nt),et=et.insert(tt,__PRIVATE_dbDocumentSize(rt))}).next(()=>({documents:a,_r:et}))}ir(i,s,a){if(s.isEmpty())return PersistencePromise.resolve();let et=new SortedSet(__PRIVATE_dbKeyComparator);s.forEach(it=>et=et.add(it));const tt=IDBKeyRange.bound(__PRIVATE_dbKey(et.first()),__PRIVATE_dbKey(et.last())),rt=et.getIterator();let nt=rt.getNext();return __PRIVATE_remoteDocumentsStore(i).Y({index:"documentKeyIndex",range:tt},(it,ot,st)=>{const lt=DocumentKey.fromSegments([...ot.prefixPath,ot.collectionGroup,ot.documentId]);for(;nt&&__PRIVATE_dbKeyComparator(nt,lt)<0;)a(nt,null),nt=rt.getNext();nt&&nt.isEqual(lt)&&(a(nt,ot),nt=rt.hasNext()?rt.getNext():null),nt?st.U(__PRIVATE_dbKey(nt)):st.done()}).next(()=>{for(;nt;)a(nt,null),nt=rt.hasNext()?rt.getNext():null})}getDocumentsMatchingQuery(i,s,a,et,tt){const rt=s.path,nt=[rt.popLast().toArray(),rt.lastSegment(),__PRIVATE_toDbTimestampKey(a.readTime),a.documentKey.path.isEmpty()?"":a.documentKey.path.lastSegment()],it=[rt.popLast().toArray(),rt.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return __PRIVATE_remoteDocumentsStore(i).W(IDBKeyRange.bound(nt,it,!0)).next(ot=>{tt==null||tt.incrementDocumentReadCount(ot.length);let st=__PRIVATE_mutableDocumentMap();for(const lt of ot){const at=this.nr(DocumentKey.fromSegments(lt.prefixPath.concat(lt.collectionGroup,lt.documentId)),lt);at.isFoundDocument()&&(__PRIVATE_queryMatches(s,at)||et.has(at.key))&&(st=st.insert(at.key,at))}return st})}getAllFromCollectionGroup(i,s,a,et){let tt=__PRIVATE_mutableDocumentMap();const rt=__PRIVATE_dbCollectionGroupKey(s,a),nt=__PRIVATE_dbCollectionGroupKey(s,IndexOffset.max());return __PRIVATE_remoteDocumentsStore(i).Y({index:"collectionGroupIndex",range:IDBKeyRange.bound(rt,nt,!0)},(it,ot,st)=>{const lt=this.nr(DocumentKey.fromSegments(ot.prefixPath.concat(ot.collectionGroup,ot.documentId)),ot);tt=tt.insert(lt.key,lt),tt.size===et&&st.done()}).next(()=>tt)}newChangeBuffer(i){return new __PRIVATE_IndexedDbRemoteDocumentChangeBuffer(this,!!i&&i.trackRemovals)}getSize(i){return this.getMetadata(i).next(s=>s.byteSize)}getMetadata(i){return __PRIVATE_documentGlobalStore(i).get("remoteDocumentGlobalKey").next(s=>(__PRIVATE_hardAssert(!!s),s))}tr(i,s){return __PRIVATE_documentGlobalStore(i).put("remoteDocumentGlobalKey",s)}nr(i,s){if(s){const a=__PRIVATE_fromDbRemoteDocument(this.serializer,s);if(!(a.isNoDocument()&&a.version.isEqual(SnapshotVersion.min())))return a}return MutableDocument.newInvalidDocument(i)}}function __PRIVATE_newIndexedDbRemoteDocumentCache(o){return new __PRIVATE_IndexedDbRemoteDocumentCacheImpl(o)}class __PRIVATE_IndexedDbRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(i,s){super(),this.ar=i,this.trackRemovals=s,this.ur=new ObjectMap(a=>a.toString(),(a,et)=>a.isEqual(et))}applyChanges(i){const s=[];let a=0,et=new SortedSet((tt,rt)=>__PRIVATE_primitiveComparator(tt.canonicalString(),rt.canonicalString()));return this.changes.forEach((tt,rt)=>{const nt=this.ur.get(tt);if(s.push(this.ar.removeEntry(i,tt,nt.readTime)),rt.isValidDocument()){const it=__PRIVATE_toDbRemoteDocument(this.ar.serializer,rt);et=et.add(tt.path.popLast());const ot=__PRIVATE_dbDocumentSize(it);a+=ot-nt.size,s.push(this.ar.addEntry(i,tt,it))}else if(a-=nt.size,this.trackRemovals){const it=__PRIVATE_toDbRemoteDocument(this.ar.serializer,rt.convertToNoDocument(SnapshotVersion.min()));s.push(this.ar.addEntry(i,tt,it))}}),et.forEach(tt=>{s.push(this.ar.indexManager.addToCollectionParentIndex(i,tt))}),s.push(this.ar.updateMetadata(i,a)),PersistencePromise.waitFor(s)}getFromCache(i,s){return this.ar.rr(i,s).next(a=>(this.ur.set(s,{size:a.size,readTime:a.document.readTime}),a.document))}getAllFromCache(i,s){return this.ar.sr(i,s).next(({documents:a,_r:et})=>(et.forEach((tt,rt)=>{this.ur.set(tt,{size:rt,readTime:a.get(tt).readTime})}),a))}}function __PRIVATE_documentGlobalStore(o){return __PRIVATE_getStore(o,"remoteDocumentGlobal")}function __PRIVATE_remoteDocumentsStore(o){return __PRIVATE_getStore(o,"remoteDocumentsV14")}function __PRIVATE_dbKey(o){const i=o.path.toArray();return[i.slice(0,i.length-2),i[i.length-2],i[i.length-1]]}function __PRIVATE_dbCollectionGroupKey(o,i){const s=i.documentKey.path.toArray();return[o,__PRIVATE_toDbTimestampKey(i.readTime),s.slice(0,s.length-2),s.length>0?s[s.length-1]:""]}function __PRIVATE_dbKeyComparator(o,i){const s=o.path.toArray(),a=i.path.toArray();let et=0;for(let tt=0;tt<s.length-2&&tt<a.length-2;++tt)if(et=__PRIVATE_primitiveComparator(s[tt],a[tt]),et)return et;return et=__PRIVATE_primitiveComparator(s.length,a.length),et||(et=__PRIVATE_primitiveComparator(s[s.length-2],a[a.length-2]),et||__PRIVATE_primitiveComparator(s[s.length-1],a[a.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OverlayedDocument{constructor(i,s){this.overlayedDocument=i,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LocalDocumentsView{constructor(i,s,a,et){this.remoteDocumentCache=i,this.mutationQueue=s,this.documentOverlayCache=a,this.indexManager=et}getDocument(i,s){let a=null;return this.documentOverlayCache.getOverlay(i,s).next(et=>(a=et,this.remoteDocumentCache.getEntry(i,s))).next(et=>(a!==null&&__PRIVATE_mutationApplyToLocalView(a.mutation,et,FieldMask.empty(),Timestamp.now()),et))}getDocuments(i,s){return this.remoteDocumentCache.getEntries(i,s).next(a=>this.getLocalViewOfDocuments(i,a,__PRIVATE_documentKeySet()).next(()=>a))}getLocalViewOfDocuments(i,s,a=__PRIVATE_documentKeySet()){const et=__PRIVATE_newOverlayMap();return this.populateOverlays(i,et,s).next(()=>this.computeViews(i,s,et,a).next(tt=>{let rt=documentMap();return tt.forEach((nt,it)=>{rt=rt.insert(nt,it.overlayedDocument)}),rt}))}getOverlayedDocuments(i,s){const a=__PRIVATE_newOverlayMap();return this.populateOverlays(i,a,s).next(()=>this.computeViews(i,s,a,__PRIVATE_documentKeySet()))}populateOverlays(i,s,a){const et=[];return a.forEach(tt=>{s.has(tt)||et.push(tt)}),this.documentOverlayCache.getOverlays(i,et).next(tt=>{tt.forEach((rt,nt)=>{s.set(rt,nt)})})}computeViews(i,s,a,et){let tt=__PRIVATE_mutableDocumentMap();const rt=__PRIVATE_newDocumentKeyMap(),nt=function(){return __PRIVATE_newDocumentKeyMap()}();return s.forEach((it,ot)=>{const st=a.get(ot.key);et.has(ot.key)&&(st===void 0||st.mutation instanceof __PRIVATE_PatchMutation)?tt=tt.insert(ot.key,ot):st!==void 0?(rt.set(ot.key,st.mutation.getFieldMask()),__PRIVATE_mutationApplyToLocalView(st.mutation,ot,st.mutation.getFieldMask(),Timestamp.now())):rt.set(ot.key,FieldMask.empty())}),this.recalculateAndSaveOverlays(i,tt).next(it=>(it.forEach((ot,st)=>rt.set(ot,st)),s.forEach((ot,st)=>{var lt;return nt.set(ot,new OverlayedDocument(st,(lt=rt.get(ot))!==null&&lt!==void 0?lt:null))}),nt))}recalculateAndSaveOverlays(i,s){const a=__PRIVATE_newDocumentKeyMap();let et=new SortedMap((rt,nt)=>rt-nt),tt=__PRIVATE_documentKeySet();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(i,s).next(rt=>{for(const nt of rt)nt.keys().forEach(it=>{const ot=s.get(it);if(ot===null)return;let st=a.get(it)||FieldMask.empty();st=nt.applyToLocalView(ot,st),a.set(it,st);const lt=(et.get(nt.batchId)||__PRIVATE_documentKeySet()).add(it);et=et.insert(nt.batchId,lt)})}).next(()=>{const rt=[],nt=et.getReverseIterator();for(;nt.hasNext();){const it=nt.getNext(),ot=it.key,st=it.value,lt=__PRIVATE_newMutationMap();st.forEach(at=>{if(!tt.has(at)){const ut=__PRIVATE_calculateOverlayMutation(s.get(at),a.get(at));ut!==null&&lt.set(at,ut),tt=tt.add(at)}}),rt.push(this.documentOverlayCache.saveOverlays(i,ot,lt))}return PersistencePromise.waitFor(rt)}).next(()=>a)}recalculateAndSaveOverlaysForDocumentKeys(i,s){return this.remoteDocumentCache.getEntries(i,s).next(a=>this.recalculateAndSaveOverlays(i,a))}getDocumentsMatchingQuery(i,s,a,et){return function(rt){return DocumentKey.isDocumentKey(rt.path)&&rt.collectionGroup===null&&rt.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(i,s.path):__PRIVATE_isCollectionGroupQuery(s)?this.getDocumentsMatchingCollectionGroupQuery(i,s,a,et):this.getDocumentsMatchingCollectionQuery(i,s,a,et)}getNextDocuments(i,s,a,et){return this.remoteDocumentCache.getAllFromCollectionGroup(i,s,a,et).next(tt=>{const rt=et-tt.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(i,s,a.largestBatchId,et-tt.size):PersistencePromise.resolve(__PRIVATE_newOverlayMap());let nt=-1,it=tt;return rt.next(ot=>PersistencePromise.forEach(ot,(st,lt)=>(nt<lt.largestBatchId&&(nt=lt.largestBatchId),tt.get(st)?PersistencePromise.resolve():this.remoteDocumentCache.getEntry(i,st).next(at=>{it=it.insert(st,at)}))).next(()=>this.populateOverlays(i,ot,tt)).next(()=>this.computeViews(i,it,ot,__PRIVATE_documentKeySet())).next(st=>({batchId:nt,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(st)})))})}getDocumentsMatchingDocumentQuery(i,s){return this.getDocument(i,new DocumentKey(s)).next(a=>{let et=documentMap();return a.isFoundDocument()&&(et=et.insert(a.key,a)),et})}getDocumentsMatchingCollectionGroupQuery(i,s,a,et){const tt=s.collectionGroup;let rt=documentMap();return this.indexManager.getCollectionParents(i,tt).next(nt=>PersistencePromise.forEach(nt,it=>{const ot=function(lt,at){return new __PRIVATE_QueryImpl(at,null,lt.explicitOrderBy.slice(),lt.filters.slice(),lt.limit,lt.limitType,lt.startAt,lt.endAt)}(s,it.child(tt));return this.getDocumentsMatchingCollectionQuery(i,ot,a,et).next(st=>{st.forEach((lt,at)=>{rt=rt.insert(lt,at)})})}).next(()=>rt))}getDocumentsMatchingCollectionQuery(i,s,a,et){let tt;return this.documentOverlayCache.getOverlaysForCollection(i,s.path,a.largestBatchId).next(rt=>(tt=rt,this.remoteDocumentCache.getDocumentsMatchingQuery(i,s,a,tt,et))).next(rt=>{tt.forEach((it,ot)=>{const st=ot.getKey();rt.get(st)===null&&(rt=rt.insert(st,MutableDocument.newInvalidDocument(st)))});let nt=documentMap();return rt.forEach((it,ot)=>{const st=tt.get(it);st!==void 0&&__PRIVATE_mutationApplyToLocalView(st.mutation,ot,FieldMask.empty(),Timestamp.now()),__PRIVATE_queryMatches(s,ot)&&(nt=nt.insert(it,ot))}),nt})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryBundleCache{constructor(i){this.serializer=i,this.cr=new Map,this.lr=new Map}getBundleMetadata(i,s){return PersistencePromise.resolve(this.cr.get(s))}saveBundleMetadata(i,s){return this.cr.set(s.id,function(et){return{id:et.id,version:et.version,createTime:__PRIVATE_fromVersion(et.createTime)}}(s)),PersistencePromise.resolve()}getNamedQuery(i,s){return PersistencePromise.resolve(this.lr.get(s))}saveNamedQuery(i,s){return this.lr.set(s.name,function(et){return{name:et.name,query:__PRIVATE_fromBundledQuery(et.bundledQuery),readTime:__PRIVATE_fromVersion(et.readTime)}}(s)),PersistencePromise.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryDocumentOverlayCache{constructor(){this.overlays=new SortedMap(DocumentKey.comparator),this.hr=new Map}getOverlay(i,s){return PersistencePromise.resolve(this.overlays.get(s))}getOverlays(i,s){const a=__PRIVATE_newOverlayMap();return PersistencePromise.forEach(s,et=>this.getOverlay(i,et).next(tt=>{tt!==null&&a.set(et,tt)})).next(()=>a)}saveOverlays(i,s,a){return a.forEach((et,tt)=>{this.ht(i,s,tt)}),PersistencePromise.resolve()}removeOverlaysForBatchId(i,s,a){const et=this.hr.get(a);return et!==void 0&&(et.forEach(tt=>this.overlays=this.overlays.remove(tt)),this.hr.delete(a)),PersistencePromise.resolve()}getOverlaysForCollection(i,s,a){const et=__PRIVATE_newOverlayMap(),tt=s.length+1,rt=new DocumentKey(s.child("")),nt=this.overlays.getIteratorFrom(rt);for(;nt.hasNext();){const it=nt.getNext().value,ot=it.getKey();if(!s.isPrefixOf(ot.path))break;ot.path.length===tt&&it.largestBatchId>a&&et.set(it.getKey(),it)}return PersistencePromise.resolve(et)}getOverlaysForCollectionGroup(i,s,a,et){let tt=new SortedMap((ot,st)=>ot-st);const rt=this.overlays.getIterator();for(;rt.hasNext();){const ot=rt.getNext().value;if(ot.getKey().getCollectionGroup()===s&&ot.largestBatchId>a){let st=tt.get(ot.largestBatchId);st===null&&(st=__PRIVATE_newOverlayMap(),tt=tt.insert(ot.largestBatchId,st)),st.set(ot.getKey(),ot)}}const nt=__PRIVATE_newOverlayMap(),it=tt.getIterator();for(;it.hasNext()&&(it.getNext().value.forEach((ot,st)=>nt.set(ot,st)),!(nt.size()>=et)););return PersistencePromise.resolve(nt)}ht(i,s,a){const et=this.overlays.get(a.key);if(et!==null){const rt=this.hr.get(et.largestBatchId).delete(a.key);this.hr.set(et.largestBatchId,rt)}this.overlays=this.overlays.insert(a.key,new Overlay(s,a));let tt=this.hr.get(s);tt===void 0&&(tt=__PRIVATE_documentKeySet(),this.hr.set(s,tt)),this.hr.set(s,tt.add(a.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ReferenceSet{constructor(){this.Pr=new SortedSet(__PRIVATE_DocReference.Ir),this.Tr=new SortedSet(__PRIVATE_DocReference.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(i,s){const a=new __PRIVATE_DocReference(i,s);this.Pr=this.Pr.add(a),this.Tr=this.Tr.add(a)}dr(i,s){i.forEach(a=>this.addReference(a,s))}removeReference(i,s){this.Ar(new __PRIVATE_DocReference(i,s))}Rr(i,s){i.forEach(a=>this.removeReference(a,s))}Vr(i){const s=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(s,i),et=new __PRIVATE_DocReference(s,i+1),tt=[];return this.Tr.forEachInRange([a,et],rt=>{this.Ar(rt),tt.push(rt.key)}),tt}mr(){this.Pr.forEach(i=>this.Ar(i))}Ar(i){this.Pr=this.Pr.delete(i),this.Tr=this.Tr.delete(i)}gr(i){const s=new DocumentKey(new ResourcePath([])),a=new __PRIVATE_DocReference(s,i),et=new __PRIVATE_DocReference(s,i+1);let tt=__PRIVATE_documentKeySet();return this.Tr.forEachInRange([a,et],rt=>{tt=tt.add(rt.key)}),tt}containsKey(i){const s=new __PRIVATE_DocReference(i,0),a=this.Pr.firstAfterOrEqual(s);return a!==null&&i.isEqual(a.key)}}class __PRIVATE_DocReference{constructor(i,s){this.key=i,this.pr=s}static Ir(i,s){return DocumentKey.comparator(i.key,s.key)||__PRIVATE_primitiveComparator(i.pr,s.pr)}static Er(i,s){return __PRIVATE_primitiveComparator(i.pr,s.pr)||DocumentKey.comparator(i.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryMutationQueue{constructor(i,s){this.indexManager=i,this.referenceDelegate=s,this.mutationQueue=[],this.yr=1,this.wr=new SortedSet(__PRIVATE_DocReference.Ir)}checkEmpty(i){return PersistencePromise.resolve(this.mutationQueue.length===0)}addMutationBatch(i,s,a,et){const tt=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const rt=new MutationBatch(tt,s,a,et);this.mutationQueue.push(rt);for(const nt of et)this.wr=this.wr.add(new __PRIVATE_DocReference(nt.key,tt)),this.indexManager.addToCollectionParentIndex(i,nt.key.path.popLast());return PersistencePromise.resolve(rt)}lookupMutationBatch(i,s){return PersistencePromise.resolve(this.Sr(s))}getNextMutationBatchAfterBatchId(i,s){const a=s+1,et=this.br(a),tt=et<0?0:et;return PersistencePromise.resolve(this.mutationQueue.length>tt?this.mutationQueue[tt]:null)}getHighestUnacknowledgedBatchId(){return PersistencePromise.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(i){return PersistencePromise.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(i,s){const a=new __PRIVATE_DocReference(s,0),et=new __PRIVATE_DocReference(s,Number.POSITIVE_INFINITY),tt=[];return this.wr.forEachInRange([a,et],rt=>{const nt=this.Sr(rt.pr);tt.push(nt)}),PersistencePromise.resolve(tt)}getAllMutationBatchesAffectingDocumentKeys(i,s){let a=new SortedSet(__PRIVATE_primitiveComparator);return s.forEach(et=>{const tt=new __PRIVATE_DocReference(et,0),rt=new __PRIVATE_DocReference(et,Number.POSITIVE_INFINITY);this.wr.forEachInRange([tt,rt],nt=>{a=a.add(nt.pr)})}),PersistencePromise.resolve(this.Dr(a))}getAllMutationBatchesAffectingQuery(i,s){const a=s.path,et=a.length+1;let tt=a;DocumentKey.isDocumentKey(tt)||(tt=tt.child(""));const rt=new __PRIVATE_DocReference(new DocumentKey(tt),0);let nt=new SortedSet(__PRIVATE_primitiveComparator);return this.wr.forEachWhile(it=>{const ot=it.key.path;return!!a.isPrefixOf(ot)&&(ot.length===et&&(nt=nt.add(it.pr)),!0)},rt),PersistencePromise.resolve(this.Dr(nt))}Dr(i){const s=[];return i.forEach(a=>{const et=this.Sr(a);et!==null&&s.push(et)}),s}removeMutationBatch(i,s){__PRIVATE_hardAssert(this.Cr(s.batchId,"removed")===0),this.mutationQueue.shift();let a=this.wr;return PersistencePromise.forEach(s.mutations,et=>{const tt=new __PRIVATE_DocReference(et.key,s.batchId);return a=a.delete(tt),this.referenceDelegate.markPotentiallyOrphaned(i,et.key)}).next(()=>{this.wr=a})}Mn(i){}containsKey(i,s){const a=new __PRIVATE_DocReference(s,0),et=this.wr.firstAfterOrEqual(a);return PersistencePromise.resolve(s.isEqual(et&&et.key))}performConsistencyCheck(i){return this.mutationQueue.length,PersistencePromise.resolve()}Cr(i,s){return this.br(i)}br(i){return this.mutationQueue.length===0?0:i-this.mutationQueue[0].batchId}Sr(i){const s=this.br(i);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryRemoteDocumentCacheImpl{constructor(i){this.vr=i,this.docs=function(){return new SortedMap(DocumentKey.comparator)}(),this.size=0}setIndexManager(i){this.indexManager=i}addEntry(i,s){const a=s.key,et=this.docs.get(a),tt=et?et.size:0,rt=this.vr(s);return this.docs=this.docs.insert(a,{document:s.mutableCopy(),size:rt}),this.size+=rt-tt,this.indexManager.addToCollectionParentIndex(i,a.path.popLast())}removeEntry(i){const s=this.docs.get(i);s&&(this.docs=this.docs.remove(i),this.size-=s.size)}getEntry(i,s){const a=this.docs.get(s);return PersistencePromise.resolve(a?a.document.mutableCopy():MutableDocument.newInvalidDocument(s))}getEntries(i,s){let a=__PRIVATE_mutableDocumentMap();return s.forEach(et=>{const tt=this.docs.get(et);a=a.insert(et,tt?tt.document.mutableCopy():MutableDocument.newInvalidDocument(et))}),PersistencePromise.resolve(a)}getDocumentsMatchingQuery(i,s,a,et){let tt=__PRIVATE_mutableDocumentMap();const rt=s.path,nt=new DocumentKey(rt.child("")),it=this.docs.getIteratorFrom(nt);for(;it.hasNext();){const{key:ot,value:{document:st}}=it.getNext();if(!rt.isPrefixOf(ot.path))break;ot.path.length>rt.length+1||__PRIVATE_indexOffsetComparator(__PRIVATE_newIndexOffsetFromDocument(st),a)<=0||(et.has(st.key)||__PRIVATE_queryMatches(s,st))&&(tt=tt.insert(st.key,st.mutableCopy()))}return PersistencePromise.resolve(tt)}getAllFromCollectionGroup(i,s,a,et){fail()}Fr(i,s){return PersistencePromise.forEach(this.docs,a=>s(a))}newChangeBuffer(i){return new __PRIVATE_MemoryRemoteDocumentChangeBuffer(this)}getSize(i){return PersistencePromise.resolve(this.size)}}class __PRIVATE_MemoryRemoteDocumentChangeBuffer extends RemoteDocumentChangeBuffer{constructor(i){super(),this.ar=i}applyChanges(i){const s=[];return this.changes.forEach((a,et)=>{et.isValidDocument()?s.push(this.ar.addEntry(i,et)):this.ar.removeEntry(a)}),PersistencePromise.waitFor(s)}getFromCache(i,s){return this.ar.getEntry(i,s)}getAllFromCache(i,s){return this.ar.getEntries(i,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryTargetCache{constructor(i){this.persistence=i,this.Mr=new ObjectMap(s=>__PRIVATE_canonifyTarget(s),__PRIVATE_targetEquals),this.lastRemoteSnapshotVersion=SnapshotVersion.min(),this.highestTargetId=0,this.Or=0,this.Nr=new __PRIVATE_ReferenceSet,this.targetCount=0,this.Br=__PRIVATE_TargetIdGenerator.Nn()}forEachTarget(i,s){return this.Mr.forEach((a,et)=>s(et)),PersistencePromise.resolve()}getLastRemoteSnapshotVersion(i){return PersistencePromise.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(i){return PersistencePromise.resolve(this.Or)}allocateTargetId(i){return this.highestTargetId=this.Br.next(),PersistencePromise.resolve(this.highestTargetId)}setTargetsMetadata(i,s,a){return a&&(this.lastRemoteSnapshotVersion=a),s>this.Or&&(this.Or=s),PersistencePromise.resolve()}qn(i){this.Mr.set(i.target,i);const s=i.targetId;s>this.highestTargetId&&(this.Br=new __PRIVATE_TargetIdGenerator(s),this.highestTargetId=s),i.sequenceNumber>this.Or&&(this.Or=i.sequenceNumber)}addTargetData(i,s){return this.qn(s),this.targetCount+=1,PersistencePromise.resolve()}updateTargetData(i,s){return this.qn(s),PersistencePromise.resolve()}removeTargetData(i,s){return this.Mr.delete(s.target),this.Nr.Vr(s.targetId),this.targetCount-=1,PersistencePromise.resolve()}removeTargets(i,s,a){let et=0;const tt=[];return this.Mr.forEach((rt,nt)=>{nt.sequenceNumber<=s&&a.get(nt.targetId)===null&&(this.Mr.delete(rt),tt.push(this.removeMatchingKeysForTargetId(i,nt.targetId)),et++)}),PersistencePromise.waitFor(tt).next(()=>et)}getTargetCount(i){return PersistencePromise.resolve(this.targetCount)}getTargetData(i,s){const a=this.Mr.get(s)||null;return PersistencePromise.resolve(a)}addMatchingKeys(i,s,a){return this.Nr.dr(s,a),PersistencePromise.resolve()}removeMatchingKeys(i,s,a){this.Nr.Rr(s,a);const et=this.persistence.referenceDelegate,tt=[];return et&&s.forEach(rt=>{tt.push(et.markPotentiallyOrphaned(i,rt))}),PersistencePromise.waitFor(tt)}removeMatchingKeysForTargetId(i,s){return this.Nr.Vr(s),PersistencePromise.resolve()}getMatchingKeysForTargetId(i,s){const a=this.Nr.gr(s);return PersistencePromise.resolve(a)}containsKey(i,s){return PersistencePromise.resolve(this.Nr.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_MemoryPersistence{constructor(i,s){this.Lr={},this.overlays={},this.kr=new __PRIVATE_ListenSequence(0),this.qr=!1,this.qr=!0,this.referenceDelegate=i(this),this.Qr=new __PRIVATE_MemoryTargetCache(this),this.indexManager=new __PRIVATE_MemoryIndexManager,this.remoteDocumentCache=function(et){return new __PRIVATE_MemoryRemoteDocumentCacheImpl(et)}(a=>this.referenceDelegate.Kr(a)),this.serializer=new __PRIVATE_LocalSerializer(s),this.$r=new __PRIVATE_MemoryBundleCache(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(i){return this.indexManager}getDocumentOverlayCache(i){let s=this.overlays[i.toKey()];return s||(s=new __PRIVATE_MemoryDocumentOverlayCache,this.overlays[i.toKey()]=s),s}getMutationQueue(i,s){let a=this.Lr[i.toKey()];return a||(a=new __PRIVATE_MemoryMutationQueue(s,this.referenceDelegate),this.Lr[i.toKey()]=a),a}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(i,s,a){__PRIVATE_logDebug("MemoryPersistence","Starting transaction:",i);const et=new __PRIVATE_MemoryTransaction(this.kr.next());return this.referenceDelegate.Ur(),a(et).next(tt=>this.referenceDelegate.Wr(et).next(()=>tt)).toPromise().then(tt=>(et.raiseOnCommittedEvent(),tt))}Gr(i,s){return PersistencePromise.or(Object.values(this.Lr).map(a=>()=>a.containsKey(i,s)))}}class __PRIVATE_MemoryTransaction extends PersistenceTransaction{constructor(i){super(),this.currentSequenceNumber=i}}class __PRIVATE_MemoryEagerDelegate{constructor(i){this.persistence=i,this.zr=new __PRIVATE_ReferenceSet,this.jr=null}static Hr(i){return new __PRIVATE_MemoryEagerDelegate(i)}get Jr(){if(this.jr)return this.jr;throw fail()}addReference(i,s,a){return this.zr.addReference(a,s),this.Jr.delete(a.toString()),PersistencePromise.resolve()}removeReference(i,s,a){return this.zr.removeReference(a,s),this.Jr.add(a.toString()),PersistencePromise.resolve()}markPotentiallyOrphaned(i,s){return this.Jr.add(s.toString()),PersistencePromise.resolve()}removeTarget(i,s){this.zr.Vr(s.targetId).forEach(et=>this.Jr.add(et.toString()));const a=this.persistence.getTargetCache();return a.getMatchingKeysForTargetId(i,s.targetId).next(et=>{et.forEach(tt=>this.Jr.add(tt.toString()))}).next(()=>a.removeTargetData(i,s))}Ur(){this.jr=new Set}Wr(i){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return PersistencePromise.forEach(this.Jr,a=>{const et=DocumentKey.fromPath(a);return this.Yr(i,et).next(tt=>{tt||s.removeEntry(et,SnapshotVersion.min())})}).next(()=>(this.jr=null,s.apply(i)))}updateLimboDocument(i,s){return this.Yr(i,s).next(a=>{a?this.Jr.delete(s.toString()):this.Jr.add(s.toString())})}Kr(i){return 0}Yr(i,s){return PersistencePromise.or([()=>PersistencePromise.resolve(this.zr.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(i,s),()=>this.persistence.Gr(i,s)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SchemaConverter{constructor(i){this.serializer=i}N(i,s,a,et){const tt=new __PRIVATE_SimpleDbTransaction("createOrUpgrade",s);a<1&&et>=1&&(function(it){it.createObjectStore("owner")}(i),function(it){it.createObjectStore("mutationQueues",{keyPath:"userId"}),it.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M,{unique:!0}),it.createObjectStore("documentMutations")}(i),__PRIVATE_createQueryCache(i),function(it){it.createObjectStore("remoteDocuments")}(i));let rt=PersistencePromise.resolve();return a<3&&et>=3&&(a!==0&&(function(it){it.deleteObjectStore("targetDocuments"),it.deleteObjectStore("targets"),it.deleteObjectStore("targetGlobal")}(i),__PRIVATE_createQueryCache(i)),rt=rt.next(()=>function(it){const ot=it.store("targetGlobal"),st={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:SnapshotVersion.min().toTimestamp(),targetCount:0};return ot.put("targetGlobalKey",st)}(tt))),a<4&&et>=4&&(a!==0&&(rt=rt.next(()=>function(it,ot){return ot.store("mutations").W().next(st=>{it.deleteObjectStore("mutations"),it.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",M,{unique:!0});const lt=ot.store("mutations"),at=st.map(ut=>lt.put(ut));return PersistencePromise.waitFor(at)})}(i,tt))),rt=rt.next(()=>{(function(it){it.createObjectStore("clientMetadata",{keyPath:"clientId"})})(i)})),a<5&&et>=5&&(rt=rt.next(()=>this.Xr(tt))),a<6&&et>=6&&(rt=rt.next(()=>(function(it){it.createObjectStore("remoteDocumentGlobal")}(i),this.ei(tt)))),a<7&&et>=7&&(rt=rt.next(()=>this.ti(tt))),a<8&&et>=8&&(rt=rt.next(()=>this.ni(i,tt))),a<9&&et>=9&&(rt=rt.next(()=>{(function(it){it.objectStoreNames.contains("remoteDocumentChanges")&&it.deleteObjectStore("remoteDocumentChanges")})(i)})),a<10&&et>=10&&(rt=rt.next(()=>this.ri(tt))),a<11&&et>=11&&(rt=rt.next(()=>{(function(it){it.createObjectStore("bundles",{keyPath:"bundleId"})})(i),function(it){it.createObjectStore("namedQueries",{keyPath:"name"})}(i)})),a<12&&et>=12&&(rt=rt.next(()=>{(function(it){const ot=it.createObjectStore("documentOverlays",{keyPath:G});ot.createIndex("collectionPathOverlayIndex",z$1,{unique:!1}),ot.createIndex("collectionGroupOverlayIndex",j,{unique:!1})})(i)})),a<13&&et>=13&&(rt=rt.next(()=>function(it){const ot=it.createObjectStore("remoteDocumentsV14",{keyPath:O});ot.createIndex("documentKeyIndex",N),ot.createIndex("collectionGroupIndex",B)}(i)).next(()=>this.ii(i,tt)).next(()=>i.deleteObjectStore("remoteDocuments"))),a<14&&et>=14&&(rt=rt.next(()=>this.si(i,tt))),a<15&&et>=15&&(rt=rt.next(()=>function(it){it.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),it.createObjectStore("indexState",{keyPath:K}).createIndex("sequenceNumberIndex",$,{unique:!1}),it.createObjectStore("indexEntries",{keyPath:U}).createIndex("documentKeyIndex",W,{unique:!1})}(i))),rt}ei(i){let s=0;return i.store("remoteDocuments").Y((a,et)=>{s+=__PRIVATE_dbDocumentSize(et)}).next(()=>{const a={byteSize:s};return i.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",a)})}Xr(i){const s=i.store("mutationQueues"),a=i.store("mutations");return s.W().next(et=>PersistencePromise.forEach(et,tt=>{const rt=IDBKeyRange.bound([tt.userId,-1],[tt.userId,tt.lastAcknowledgedBatchId]);return a.W("userMutationsIndex",rt).next(nt=>PersistencePromise.forEach(nt,it=>{__PRIVATE_hardAssert(it.userId===tt.userId);const ot=__PRIVATE_fromDbMutationBatch(this.serializer,it);return removeMutationBatch(i,tt.userId,ot).next(()=>{})}))}))}ti(i){const s=i.store("targetDocuments"),a=i.store("remoteDocuments");return i.store("targetGlobal").get("targetGlobalKey").next(et=>{const tt=[];return a.Y((rt,nt)=>{const it=new ResourcePath(rt),ot=function(lt){return[0,__PRIVATE_encodeResourcePath(lt)]}(it);tt.push(s.get(ot).next(st=>st?PersistencePromise.resolve():(lt=>s.put({targetId:0,path:__PRIVATE_encodeResourcePath(lt),sequenceNumber:et.highestListenSequenceNumber}))(it)))}).next(()=>PersistencePromise.waitFor(tt))})}ni(i,s){i.createObjectStore("collectionParents",{keyPath:Q});const a=s.store("collectionParents"),et=new __PRIVATE_MemoryCollectionParentIndex,tt=rt=>{if(et.add(rt)){const nt=rt.lastSegment(),it=rt.popLast();return a.put({collectionId:nt,parent:__PRIVATE_encodeResourcePath(it)})}};return s.store("remoteDocuments").Y({J:!0},(rt,nt)=>{const it=new ResourcePath(rt);return tt(it.popLast())}).next(()=>s.store("documentMutations").Y({J:!0},([rt,nt,it],ot)=>{const st=__PRIVATE_decodeResourcePath(nt);return tt(st.popLast())}))}ri(i){const s=i.store("targets");return s.Y((a,et)=>{const tt=__PRIVATE_fromDbTarget(et),rt=__PRIVATE_toDbTarget(this.serializer,tt);return s.put(rt)})}ii(i,s){const a=s.store("remoteDocuments"),et=[];return a.Y((tt,rt)=>{const nt=s.store("remoteDocumentsV14"),it=function(lt){return lt.document?new DocumentKey(ResourcePath.fromString(lt.document.name).popFirst(5)):lt.noDocument?DocumentKey.fromSegments(lt.noDocument.path):lt.unknownDocument?DocumentKey.fromSegments(lt.unknownDocument.path):fail()}(rt).path.toArray(),ot={prefixPath:it.slice(0,it.length-2),collectionGroup:it[it.length-2],documentId:it[it.length-1],readTime:rt.readTime||[0,0],unknownDocument:rt.unknownDocument,noDocument:rt.noDocument,document:rt.document,hasCommittedMutations:!!rt.hasCommittedMutations};et.push(nt.put(ot))}).next(()=>PersistencePromise.waitFor(et))}si(i,s){const a=s.store("mutations"),et=__PRIVATE_newIndexedDbRemoteDocumentCache(this.serializer),tt=new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer.ct);return a.W().next(rt=>{const nt=new Map;return rt.forEach(it=>{var ot;let st=(ot=nt.get(it.userId))!==null&&ot!==void 0?ot:__PRIVATE_documentKeySet();__PRIVATE_fromDbMutationBatch(this.serializer,it).keys().forEach(lt=>st=st.add(lt)),nt.set(it.userId,st)}),PersistencePromise.forEach(nt,(it,ot)=>{const st=new User(ot),lt=__PRIVATE_IndexedDbDocumentOverlayCache.lt(this.serializer,st),at=tt.getIndexManager(st),ut=__PRIVATE_IndexedDbMutationQueue.lt(st,this.serializer,at,tt.referenceDelegate);return new LocalDocumentsView(et,ut,lt,at).recalculateAndSaveOverlaysForDocumentKeys(new __PRIVATE_IndexedDbTransaction(s,__PRIVATE_ListenSequence._e),it).next()})})}}function __PRIVATE_createQueryCache(o){o.createObjectStore("targetDocuments",{keyPath:k$2}).createIndex("documentTargetsIndex",q$2,{unique:!0}),o.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",L,{unique:!0}),o.createObjectStore("targetGlobal")}const de="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class __PRIVATE_IndexedDbPersistence{constructor(i,s,a,et,tt,rt,nt,it,ot,st,lt=15){if(this.allowTabSynchronization=i,this.persistenceKey=s,this.clientId=a,this.oi=tt,this.window=rt,this.document=nt,this._i=ot,this.ai=st,this.ui=lt,this.kr=null,this.qr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ci=null,this.inForeground=!1,this.li=null,this.hi=null,this.Pi=Number.NEGATIVE_INFINITY,this.Ii=at=>Promise.resolve(),!__PRIVATE_IndexedDbPersistence.D())throw new FirestoreError(D.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new __PRIVATE_IndexedDbLruDelegateImpl(this,et),this.Ti=s+"main",this.serializer=new __PRIVATE_LocalSerializer(it),this.Ei=new __PRIVATE_SimpleDb(this.Ti,this.ui,new __PRIVATE_SchemaConverter(this.serializer)),this.Qr=new __PRIVATE_IndexedDbTargetCache(this.referenceDelegate,this.serializer),this.remoteDocumentCache=__PRIVATE_newIndexedDbRemoteDocumentCache(this.serializer),this.$r=new __PRIVATE_IndexedDbBundleCache,this.window&&this.window.localStorage?this.di=this.window.localStorage:(this.di=null,st===!1&&__PRIVATE_logError("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ai().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new FirestoreError(D.FAILED_PRECONDITION,de);return this.Ri(),this.Vi(),this.mi(),this.runTransaction("getHighestListenSequenceNumber","readonly",i=>this.Qr.getHighestSequenceNumber(i))}).then(i=>{this.kr=new __PRIVATE_ListenSequence(i,this._i)}).then(()=>{this.qr=!0}).catch(i=>(this.Ei&&this.Ei.close(),Promise.reject(i)))}fi(i){return this.Ii=async s=>{if(this.started)return i(s)},i(this.isPrimary)}setDatabaseDeletedListener(i){this.Ei.L(async s=>{s.newVersion===null&&await i()})}setNetworkEnabled(i){this.networkEnabled!==i&&(this.networkEnabled=i,this.oi.enqueueAndForget(async()=>{this.started&&await this.Ai()}))}Ai(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",i=>__PRIVATE_clientMetadataStore(i).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.gi(i).next(s=>{s||(this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)))})}).next(()=>this.pi(i)).next(s=>this.isPrimary&&!s?this.yi(i).next(()=>!1):!!s&&this.wi(i).next(()=>!0))).catch(i=>{if(__PRIVATE_isIndexedDbTransactionError(i))return __PRIVATE_logDebug("IndexedDbPersistence","Failed to extend owner lease: ",i),this.isPrimary;if(!this.allowTabSynchronization)throw i;return __PRIVATE_logDebug("IndexedDbPersistence","Releasing owner lease after error during lease refresh",i),!1}).then(i=>{this.isPrimary!==i&&this.oi.enqueueRetryable(()=>this.Ii(i)),this.isPrimary=i})}gi(i){return __PRIVATE_primaryClientStore(i).get("owner").next(s=>PersistencePromise.resolve(this.Si(s)))}bi(i){return __PRIVATE_clientMetadataStore(i).delete(this.clientId)}async Di(){if(this.isPrimary&&!this.Ci(this.Pi,18e5)){this.Pi=Date.now();const i=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",s=>{const a=__PRIVATE_getStore(s,"clientMetadata");return a.W().next(et=>{const tt=this.vi(et,18e5),rt=et.filter(nt=>tt.indexOf(nt)===-1);return PersistencePromise.forEach(rt,nt=>a.delete(nt.clientId)).next(()=>rt)})}).catch(()=>[]);if(this.di)for(const s of i)this.di.removeItem(this.Fi(s.clientId))}}mi(){this.hi=this.oi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ai().then(()=>this.Di()).then(()=>this.mi()))}Si(i){return!!i&&i.ownerId===this.clientId}pi(i){return this.ai?PersistencePromise.resolve(!0):__PRIVATE_primaryClientStore(i).get("owner").next(s=>{if(s!==null&&this.Ci(s.leaseTimestampMs,5e3)&&!this.Mi(s.ownerId)){if(this.Si(s)&&this.networkEnabled)return!0;if(!this.Si(s)){if(!s.allowTabSynchronization)throw new FirestoreError(D.FAILED_PRECONDITION,de);return!1}}return!(!this.networkEnabled||!this.inForeground)||__PRIVATE_clientMetadataStore(i).W().next(a=>this.vi(a,5e3).find(et=>{if(this.clientId!==et.clientId){const tt=!this.networkEnabled&&et.networkEnabled,rt=!this.inForeground&&et.inForeground,nt=this.networkEnabled===et.networkEnabled;if(tt||rt&&nt)return!0}return!1})===void 0)}).next(s=>(this.isPrimary!==s&&__PRIVATE_logDebug("IndexedDbPersistence",`Client ${s?"is":"is not"} eligible for a primary lease.`),s))}async shutdown(){this.qr=!1,this.xi(),this.hi&&(this.hi.cancel(),this.hi=null),this.Oi(),this.Ni(),await this.Ei.runTransaction("shutdown","readwrite",["owner","clientMetadata"],i=>{const s=new __PRIVATE_IndexedDbTransaction(i,__PRIVATE_ListenSequence._e);return this.yi(s).next(()=>this.bi(s))}),this.Ei.close(),this.Bi()}vi(i,s){return i.filter(a=>this.Ci(a.updateTimeMs,s)&&!this.Mi(a.clientId))}Li(){return this.runTransaction("getActiveClients","readonly",i=>__PRIVATE_clientMetadataStore(i).W().next(s=>this.vi(s,18e5).map(a=>a.clientId)))}get started(){return this.qr}getMutationQueue(i,s){return __PRIVATE_IndexedDbMutationQueue.lt(i,this.serializer,s,this.referenceDelegate)}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(i){return new __PRIVATE_IndexedDbIndexManager(i,this.serializer.ct.databaseId)}getDocumentOverlayCache(i){return __PRIVATE_IndexedDbDocumentOverlayCache.lt(this.serializer,i)}getBundleCache(){return this.$r}runTransaction(i,s,a){__PRIVATE_logDebug("IndexedDbPersistence","Starting transaction:",i);const et=s==="readonly"?"readonly":"readwrite",tt=function(it){return it===15?X:it===14?Z:it===13?Y:it===12?J:it===11?H:void fail()}(this.ui);let rt;return this.Ei.runTransaction(i,et,tt,nt=>(rt=new __PRIVATE_IndexedDbTransaction(nt,this.kr?this.kr.next():__PRIVATE_ListenSequence._e),s==="readwrite-primary"?this.gi(rt).next(it=>!!it||this.pi(rt)).next(it=>{if(!it)throw __PRIVATE_logError(`Failed to obtain primary lease for action '${i}'.`),this.isPrimary=!1,this.oi.enqueueRetryable(()=>this.Ii(!1)),new FirestoreError(D.FAILED_PRECONDITION,v$3);return a(rt)}).next(it=>this.wi(rt).next(()=>it)):this.ki(rt).next(()=>a(rt)))).then(nt=>(rt.raiseOnCommittedEvent(),nt))}ki(i){return __PRIVATE_primaryClientStore(i).get("owner").next(s=>{if(s!==null&&this.Ci(s.leaseTimestampMs,5e3)&&!this.Mi(s.ownerId)&&!this.Si(s)&&!(this.ai||this.allowTabSynchronization&&s.allowTabSynchronization))throw new FirestoreError(D.FAILED_PRECONDITION,de)})}wi(i){const s={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return __PRIVATE_primaryClientStore(i).put("owner",s)}static D(){return __PRIVATE_SimpleDb.D()}yi(i){const s=__PRIVATE_primaryClientStore(i);return s.get("owner").next(a=>this.Si(a)?(__PRIVATE_logDebug("IndexedDbPersistence","Releasing primary lease."),s.delete("owner")):PersistencePromise.resolve())}Ci(i,s){const a=Date.now();return!(i<a-s)&&(!(i>a)||(__PRIVATE_logError(`Detected an update time that is in the future: ${i} > ${a}`),!1))}Ri(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.li=()=>{this.oi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ai()))},this.document.addEventListener("visibilitychange",this.li),this.inForeground=this.document.visibilityState==="visible")}Oi(){this.li&&(this.document.removeEventListener("visibilitychange",this.li),this.li=null)}Vi(){var i;typeof((i=this.window)===null||i===void 0?void 0:i.addEventListener)=="function"&&(this.ci=()=>{this.xi();const s=/(?:Version|Mobile)\/1[456]/;isSafari()&&(navigator.appVersion.match(s)||navigator.userAgent.match(s))&&this.oi.enterRestrictedMode(!0),this.oi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ci))}Ni(){this.ci&&(this.window.removeEventListener("pagehide",this.ci),this.ci=null)}Mi(i){var s;try{const a=((s=this.di)===null||s===void 0?void 0:s.getItem(this.Fi(i)))!==null;return __PRIVATE_logDebug("IndexedDbPersistence",`Client '${i}' ${a?"is":"is not"} zombied in LocalStorage`),a}catch(a){return __PRIVATE_logError("IndexedDbPersistence","Failed to get zombied client id.",a),!1}}xi(){if(this.di)try{this.di.setItem(this.Fi(this.clientId),String(Date.now()))}catch(i){__PRIVATE_logError("Failed to set zombie client id.",i)}}Bi(){if(this.di)try{this.di.removeItem(this.Fi(this.clientId))}catch{}}Fi(i){return`firestore_zombie_${this.persistenceKey}_${i}`}}function __PRIVATE_primaryClientStore(o){return __PRIVATE_getStore(o,"owner")}function __PRIVATE_clientMetadataStore(o){return __PRIVATE_getStore(o,"clientMetadata")}function __PRIVATE_indexedDbStoragePrefix(o,i){let s=o.projectId;return o.isDefaultDatabase||(s+="."+o.database),"firestore/"+i+"/"+s+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalViewChanges{constructor(i,s,a,et){this.targetId=i,this.fromCache=s,this.qi=a,this.Qi=et}static Ki(i,s){let a=__PRIVATE_documentKeySet(),et=__PRIVATE_documentKeySet();for(const tt of s.docChanges)switch(tt.type){case 0:a=a.add(tt.doc.key);break;case 1:et=et.add(tt.doc.key)}return new __PRIVATE_LocalViewChanges(i,s.fromCache,a,et)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QueryContext{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(i){this._documentReadCount+=i}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryEngine{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return isSafari()?8:__PRIVATE_SimpleDb.v(getUA())>0?6:4}()}initialize(i,s){this.zi=i,this.indexManager=s,this.$i=!0}getDocumentsMatchingQuery(i,s,a,et){const tt={result:null};return this.ji(i,s).next(rt=>{tt.result=rt}).next(()=>{if(!tt.result)return this.Hi(i,s,et,a).next(rt=>{tt.result=rt})}).next(()=>{if(tt.result)return;const rt=new QueryContext;return this.Ji(i,s,rt).next(nt=>{if(tt.result=nt,this.Ui)return this.Yi(i,s,rt,nt.size)})}).next(()=>tt.result)}Yi(i,s,a,et){return a.documentReadCount<this.Wi?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","SDK will not create cache indexes for query:",__PRIVATE_stringifyQuery(s),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),PersistencePromise.resolve()):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Query:",__PRIVATE_stringifyQuery(s),"scans",a.documentReadCount,"local documents and returns",et,"documents as results."),a.documentReadCount>this.Gi*et?(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","The SDK decides to create cache indexes for query:",__PRIVATE_stringifyQuery(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(i,__PRIVATE_queryToTarget(s))):PersistencePromise.resolve())}ji(i,s){if(__PRIVATE_queryMatchesAllDocuments(s))return PersistencePromise.resolve(null);let a=__PRIVATE_queryToTarget(s);return this.indexManager.getIndexType(i,a).next(et=>et===0?null:(s.limit!==null&&et===1&&(s=__PRIVATE_queryWithLimit(s,null,"F"),a=__PRIVATE_queryToTarget(s)),this.indexManager.getDocumentsMatchingTarget(i,a).next(tt=>{const rt=__PRIVATE_documentKeySet(...tt);return this.zi.getDocuments(i,rt).next(nt=>this.indexManager.getMinOffset(i,a).next(it=>{const ot=this.Zi(s,nt);return this.Xi(s,ot,rt,it.readTime)?this.ji(i,__PRIVATE_queryWithLimit(s,null,"F")):this.es(i,ot,s,it)}))})))}Hi(i,s,a,et){return __PRIVATE_queryMatchesAllDocuments(s)||et.isEqual(SnapshotVersion.min())?PersistencePromise.resolve(null):this.zi.getDocuments(i,a).next(tt=>{const rt=this.Zi(s,tt);return this.Xi(s,rt,a,et)?PersistencePromise.resolve(null):(__PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Re-using previous result from %s to execute query: %s",et.toString(),__PRIVATE_stringifyQuery(s)),this.es(i,rt,s,__PRIVATE_newIndexOffsetSuccessorFromReadTime(et,-1)).next(nt=>nt))})}Zi(i,s){let a=new SortedSet(__PRIVATE_newQueryComparator(i));return s.forEach((et,tt)=>{__PRIVATE_queryMatches(i,tt)&&(a=a.add(tt))}),a}Xi(i,s,a,et){if(i.limit===null)return!1;if(a.size!==s.size)return!0;const tt=i.limitType==="F"?s.last():s.first();return!!tt&&(tt.hasPendingWrites||tt.version.compareTo(et)>0)}Ji(i,s,a){return __PRIVATE_getLogLevel()<=LogLevel.DEBUG&&__PRIVATE_logDebug("QueryEngine","Using full collection scan to execute query:",__PRIVATE_stringifyQuery(s)),this.zi.getDocumentsMatchingQuery(i,s,IndexOffset.min(),a)}es(i,s,a,et){return this.zi.getDocumentsMatchingQuery(i,a,et).next(tt=>(s.forEach(rt=>{tt=tt.insert(rt.key,rt)}),tt))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_LocalStoreImpl{constructor(i,s,a,et){this.persistence=i,this.ts=s,this.serializer=et,this.ns=new SortedMap(__PRIVATE_primitiveComparator),this.rs=new ObjectMap(tt=>__PRIVATE_canonifyTarget(tt),__PRIVATE_targetEquals),this.ss=new Map,this.os=i.getRemoteDocumentCache(),this.Qr=i.getTargetCache(),this.$r=i.getBundleCache(),this._s(a)}_s(i){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(i),this.indexManager=this.persistence.getIndexManager(i),this.mutationQueue=this.persistence.getMutationQueue(i,this.indexManager),this.localDocuments=new LocalDocumentsView(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(i){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>i.collect(s,this.ns))}}function __PRIVATE_newLocalStore(o,i,s,a){return new __PRIVATE_LocalStoreImpl(o,i,s,a)}async function __PRIVATE_localStoreHandleUserChange(o,i){const s=__PRIVATE_debugCast(o);return await s.persistence.runTransaction("Handle user change","readonly",a=>{let et;return s.mutationQueue.getAllMutationBatches(a).next(tt=>(et=tt,s._s(i),s.mutationQueue.getAllMutationBatches(a))).next(tt=>{const rt=[],nt=[];let it=__PRIVATE_documentKeySet();for(const ot of et){rt.push(ot.batchId);for(const st of ot.mutations)it=it.add(st.key)}for(const ot of tt){nt.push(ot.batchId);for(const st of ot.mutations)it=it.add(st.key)}return s.localDocuments.getDocuments(a,it).next(ot=>({us:ot,removedBatchIds:rt,addedBatchIds:nt}))})})}function __PRIVATE_localStoreAcknowledgeBatch(o,i){const s=__PRIVATE_debugCast(o);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",a=>{const et=i.batch.keys(),tt=s.os.newChangeBuffer({trackRemovals:!0});return function(nt,it,ot,st){const lt=ot.batch,at=lt.keys();let ut=PersistencePromise.resolve();return at.forEach(ft=>{ut=ut.next(()=>st.getEntry(it,ft)).next(mt=>{const yt=ot.docVersions.get(ft);__PRIVATE_hardAssert(yt!==null),mt.version.compareTo(yt)<0&&(lt.applyToRemoteDocument(mt,ot),mt.isValidDocument()&&(mt.setReadTime(ot.commitVersion),st.addEntry(mt)))})}),ut.next(()=>nt.mutationQueue.removeMutationBatch(it,lt))}(s,a,i,tt).next(()=>tt.apply(a)).next(()=>s.mutationQueue.performConsistencyCheck(a)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(a,et,i.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,function(nt){let it=__PRIVATE_documentKeySet();for(let ot=0;ot<nt.mutationResults.length;++ot)nt.mutationResults[ot].transformResults.length>0&&(it=it.add(nt.batch.mutations[ot].key));return it}(i))).next(()=>s.localDocuments.getDocuments(a,et))})}function __PRIVATE_localStoreGetLastRemoteSnapshotVersion(o){const i=__PRIVATE_debugCast(o);return i.persistence.runTransaction("Get last remote snapshot version","readonly",s=>i.Qr.getLastRemoteSnapshotVersion(s))}function __PRIVATE_localStoreApplyRemoteEventToLocalCache(o,i){const s=__PRIVATE_debugCast(o),a=i.snapshotVersion;let et=s.ns;return s.persistence.runTransaction("Apply remote event","readwrite-primary",tt=>{const rt=s.os.newChangeBuffer({trackRemovals:!0});et=s.ns;const nt=[];i.targetChanges.forEach((st,lt)=>{const at=et.get(lt);if(!at)return;nt.push(s.Qr.removeMatchingKeys(tt,st.removedDocuments,lt).next(()=>s.Qr.addMatchingKeys(tt,st.addedDocuments,lt)));let ut=at.withSequenceNumber(tt.currentSequenceNumber);i.targetMismatches.get(lt)!==null?ut=ut.withResumeToken(ByteString.EMPTY_BYTE_STRING,SnapshotVersion.min()).withLastLimboFreeSnapshotVersion(SnapshotVersion.min()):st.resumeToken.approximateByteSize()>0&&(ut=ut.withResumeToken(st.resumeToken,a)),et=et.insert(lt,ut),function(mt,yt,ht){return mt.resumeToken.approximateByteSize()===0||yt.snapshotVersion.toMicroseconds()-mt.snapshotVersion.toMicroseconds()>=3e8?!0:ht.addedDocuments.size+ht.modifiedDocuments.size+ht.removedDocuments.size>0}(at,ut,st)&&nt.push(s.Qr.updateTargetData(tt,ut))});let it=__PRIVATE_mutableDocumentMap(),ot=__PRIVATE_documentKeySet();if(i.documentUpdates.forEach(st=>{i.resolvedLimboDocuments.has(st)&&nt.push(s.persistence.referenceDelegate.updateLimboDocument(tt,st))}),nt.push(__PRIVATE_populateDocumentChangeBuffer(tt,rt,i.documentUpdates).next(st=>{it=st.cs,ot=st.ls})),!a.isEqual(SnapshotVersion.min())){const st=s.Qr.getLastRemoteSnapshotVersion(tt).next(lt=>s.Qr.setTargetsMetadata(tt,tt.currentSequenceNumber,a));nt.push(st)}return PersistencePromise.waitFor(nt).next(()=>rt.apply(tt)).next(()=>s.localDocuments.getLocalViewOfDocuments(tt,it,ot)).next(()=>it)}).then(tt=>(s.ns=et,tt))}function __PRIVATE_populateDocumentChangeBuffer(o,i,s){let a=__PRIVATE_documentKeySet(),et=__PRIVATE_documentKeySet();return s.forEach(tt=>a=a.add(tt)),i.getEntries(o,a).next(tt=>{let rt=__PRIVATE_mutableDocumentMap();return s.forEach((nt,it)=>{const ot=tt.get(nt);it.isFoundDocument()!==ot.isFoundDocument()&&(et=et.add(nt)),it.isNoDocument()&&it.version.isEqual(SnapshotVersion.min())?(i.removeEntry(nt,it.readTime),rt=rt.insert(nt,it)):!ot.isValidDocument()||it.version.compareTo(ot.version)>0||it.version.compareTo(ot.version)===0&&ot.hasPendingWrites?(i.addEntry(it),rt=rt.insert(nt,it)):__PRIVATE_logDebug("LocalStore","Ignoring outdated watch update for ",nt,". Current version:",ot.version," Watch version:",it.version)}),{cs:rt,ls:et}})}function __PRIVATE_localStoreGetNextMutationBatch(o,i){const s=__PRIVATE_debugCast(o);return s.persistence.runTransaction("Get next mutation batch","readonly",a=>(i===void 0&&(i=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(a,i)))}function __PRIVATE_localStoreAllocateTarget(o,i){const s=__PRIVATE_debugCast(o);return s.persistence.runTransaction("Allocate target","readwrite",a=>{let et;return s.Qr.getTargetData(a,i).next(tt=>tt?(et=tt,PersistencePromise.resolve(et)):s.Qr.allocateTargetId(a).next(rt=>(et=new TargetData(i,rt,"TargetPurposeListen",a.currentSequenceNumber),s.Qr.addTargetData(a,et).next(()=>et))))}).then(a=>{const et=s.ns.get(a.targetId);return(et===null||a.snapshotVersion.compareTo(et.snapshotVersion)>0)&&(s.ns=s.ns.insert(a.targetId,a),s.rs.set(i,a.targetId)),a})}async function __PRIVATE_localStoreReleaseTarget(o,i,s){const a=__PRIVATE_debugCast(o),et=a.ns.get(i),tt=s?"readwrite":"readwrite-primary";try{s||await a.persistence.runTransaction("Release target",tt,rt=>a.persistence.referenceDelegate.removeTarget(rt,et))}catch(rt){if(!__PRIVATE_isIndexedDbTransactionError(rt))throw rt;__PRIVATE_logDebug("LocalStore",`Failed to update sequence numbers for target ${i}: ${rt}`)}a.ns=a.ns.remove(i),a.rs.delete(et.target)}function __PRIVATE_localStoreExecuteQuery(o,i,s){const a=__PRIVATE_debugCast(o);let et=SnapshotVersion.min(),tt=__PRIVATE_documentKeySet();return a.persistence.runTransaction("Execute query","readwrite",rt=>function(it,ot,st){const lt=__PRIVATE_debugCast(it),at=lt.rs.get(st);return at!==void 0?PersistencePromise.resolve(lt.ns.get(at)):lt.Qr.getTargetData(ot,st)}(a,rt,__PRIVATE_queryToTarget(i)).next(nt=>{if(nt)return et=nt.lastLimboFreeSnapshotVersion,a.Qr.getMatchingKeysForTargetId(rt,nt.targetId).next(it=>{tt=it})}).next(()=>a.ts.getDocumentsMatchingQuery(rt,i,s?et:SnapshotVersion.min(),s?tt:__PRIVATE_documentKeySet())).next(nt=>(__PRIVATE_setMaxReadTime(a,__PRIVATE_queryCollectionGroup(i),nt),{documents:nt,hs:tt})))}function __PRIVATE_localStoreGetCachedTarget(o,i){const s=__PRIVATE_debugCast(o),a=__PRIVATE_debugCast(s.Qr),et=s.ns.get(i);return et?Promise.resolve(et.target):s.persistence.runTransaction("Get target data","readonly",tt=>a._t(tt,i).next(rt=>rt?rt.target:null))}function __PRIVATE_localStoreGetNewDocumentChanges(o,i){const s=__PRIVATE_debugCast(o),a=s.ss.get(i)||SnapshotVersion.min();return s.persistence.runTransaction("Get new document changes","readonly",et=>s.os.getAllFromCollectionGroup(et,i,__PRIVATE_newIndexOffsetSuccessorFromReadTime(a,-1),Number.MAX_SAFE_INTEGER)).then(et=>(__PRIVATE_setMaxReadTime(s,i,et),et))}function __PRIVATE_setMaxReadTime(o,i,s){let a=o.ss.get(i)||SnapshotVersion.min();s.forEach((et,tt)=>{tt.readTime.compareTo(a)>0&&(a=tt.readTime)}),o.ss.set(i,a)}async function __PRIVATE_localStoreApplyBundledDocuments(o,i,s,a){const et=__PRIVATE_debugCast(o);let tt=__PRIVATE_documentKeySet(),rt=__PRIVATE_mutableDocumentMap();for(const ot of s){const st=i.Ps(ot.metadata.name);ot.document&&(tt=tt.add(st));const lt=i.Is(ot);lt.setReadTime(i.Ts(ot.metadata.readTime)),rt=rt.insert(st,lt)}const nt=et.os.newChangeBuffer({trackRemovals:!0}),it=await __PRIVATE_localStoreAllocateTarget(et,function(st){return __PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(ResourcePath.fromString(`__bundle__/docs/${st}`)))}(a));return et.persistence.runTransaction("Apply bundle documents","readwrite",ot=>__PRIVATE_populateDocumentChangeBuffer(ot,nt,rt).next(st=>(nt.apply(ot),st)).next(st=>et.Qr.removeMatchingKeysForTargetId(ot,it.targetId).next(()=>et.Qr.addMatchingKeys(ot,tt,it.targetId)).next(()=>et.localDocuments.getLocalViewOfDocuments(ot,st.cs,st.ls)).next(()=>st.cs)))}async function __PRIVATE_localStoreSaveNamedQuery(o,i,s=__PRIVATE_documentKeySet()){const a=await __PRIVATE_localStoreAllocateTarget(o,__PRIVATE_queryToTarget(__PRIVATE_fromBundledQuery(i.bundledQuery))),et=__PRIVATE_debugCast(o);return et.persistence.runTransaction("Save named query","readwrite",tt=>{const rt=__PRIVATE_fromVersion(i.readTime);if(a.snapshotVersion.compareTo(rt)>=0)return et.$r.saveNamedQuery(tt,i);const nt=a.withResumeToken(ByteString.EMPTY_BYTE_STRING,rt);return et.ns=et.ns.insert(nt.targetId,nt),et.Qr.updateTargetData(tt,nt).next(()=>et.Qr.removeMatchingKeysForTargetId(tt,a.targetId)).next(()=>et.Qr.addMatchingKeys(tt,s,a.targetId)).next(()=>et.$r.saveNamedQuery(tt,i))})}function createWebStorageClientStateKey(o,i){return`firestore_clients_${o}_${i}`}function createWebStorageMutationBatchKey(o,i,s){let a=`firestore_mutations_${o}_${s}`;return i.isAuthenticated()&&(a+=`_${i.uid}`),a}function createWebStorageQueryTargetMetadataKey(o,i){return`firestore_targets_${o}_${i}`}class __PRIVATE_MutationMetadata{constructor(i,s,a,et){this.user=i,this.batchId=s,this.state=a,this.error=et}static Es(i,s,a){const et=JSON.parse(a);let tt,rt=typeof et=="object"&&["pending","acknowledged","rejected"].indexOf(et.state)!==-1&&(et.error===void 0||typeof et.error=="object");return rt&&et.error&&(rt=typeof et.error.message=="string"&&typeof et.error.code=="string",rt&&(tt=new FirestoreError(et.error.code,et.error.message))),rt?new __PRIVATE_MutationMetadata(i,s,et.state,tt):(__PRIVATE_logError("SharedClientState",`Failed to parse mutation state for ID '${s}': ${a}`),null)}ds(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class __PRIVATE_QueryTargetMetadata{constructor(i,s,a){this.targetId=i,this.state=s,this.error=a}static Es(i,s){const a=JSON.parse(s);let et,tt=typeof a=="object"&&["not-current","current","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return tt&&a.error&&(tt=typeof a.error.message=="string"&&typeof a.error.code=="string",tt&&(et=new FirestoreError(a.error.code,a.error.message))),tt?new __PRIVATE_QueryTargetMetadata(i,a.state,et):(__PRIVATE_logError("SharedClientState",`Failed to parse target state for ID '${i}': ${s}`),null)}ds(){const i={state:this.state,updateTimeMs:Date.now()};return this.error&&(i.error={code:this.error.code,message:this.error.message}),JSON.stringify(i)}}class __PRIVATE_RemoteClientState{constructor(i,s){this.clientId=i,this.activeTargetIds=s}static Es(i,s){const a=JSON.parse(s);let et=typeof a=="object"&&a.activeTargetIds instanceof Array,tt=__PRIVATE_targetIdSet();for(let rt=0;et&&rt<a.activeTargetIds.length;++rt)et=isSafeInteger(a.activeTargetIds[rt]),tt=tt.add(a.activeTargetIds[rt]);return et?new __PRIVATE_RemoteClientState(i,tt):(__PRIVATE_logError("SharedClientState",`Failed to parse client data for instance '${i}': ${s}`),null)}}class __PRIVATE_SharedOnlineState{constructor(i,s){this.clientId=i,this.onlineState=s}static Es(i){const s=JSON.parse(i);return typeof s=="object"&&["Unknown","Online","Offline"].indexOf(s.onlineState)!==-1&&typeof s.clientId=="string"?new __PRIVATE_SharedOnlineState(s.clientId,s.onlineState):(__PRIVATE_logError("SharedClientState",`Failed to parse online state: ${i}`),null)}}class __PRIVATE_LocalClientState{constructor(){this.activeTargetIds=__PRIVATE_targetIdSet()}As(i){this.activeTargetIds=this.activeTargetIds.add(i)}Rs(i){this.activeTargetIds=this.activeTargetIds.delete(i)}ds(){const i={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(i)}}class __PRIVATE_WebStorageSharedClientState{constructor(i,s,a,et,tt){this.window=i,this.oi=s,this.persistenceKey=a,this.Vs=et,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.fs=this.gs.bind(this),this.ps=new SortedMap(__PRIVATE_primitiveComparator),this.started=!1,this.ys=[];const rt=a.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=tt,this.ws=createWebStorageClientStateKey(this.persistenceKey,this.Vs),this.Ss=function(it){return`firestore_sequence_number_${it}`}(this.persistenceKey),this.ps=this.ps.insert(this.Vs,new __PRIVATE_LocalClientState),this.bs=new RegExp(`^firestore_clients_${rt}_([^_]*)$`),this.Ds=new RegExp(`^firestore_mutations_${rt}_(\\d+)(?:_(.*))?$`),this.Cs=new RegExp(`^firestore_targets_${rt}_(\\d+)$`),this.vs=function(it){return`firestore_online_state_${it}`}(this.persistenceKey),this.Fs=function(it){return`firestore_bundle_loaded_v2_${it}`}(this.persistenceKey),this.window.addEventListener("storage",this.fs)}static D(i){return!(!i||!i.localStorage)}async start(){const i=await this.syncEngine.Li();for(const a of i){if(a===this.Vs)continue;const et=this.getItem(createWebStorageClientStateKey(this.persistenceKey,a));if(et){const tt=__PRIVATE_RemoteClientState.Es(a,et);tt&&(this.ps=this.ps.insert(tt.clientId,tt))}}this.Ms();const s=this.storage.getItem(this.vs);if(s){const a=this.xs(s);a&&this.Os(a)}for(const a of this.ys)this.gs(a);this.ys=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(i){this.setItem(this.Ss,JSON.stringify(i))}getAllActiveQueryTargets(){return this.Ns(this.ps)}isActiveQueryTarget(i){let s=!1;return this.ps.forEach((a,et)=>{et.activeTargetIds.has(i)&&(s=!0)}),s}addPendingMutation(i){this.Bs(i,"pending")}updateMutationState(i,s,a){this.Bs(i,s,a),this.Ls(i)}addLocalQueryTarget(i){let s="not-current";if(this.isActiveQueryTarget(i)){const a=this.storage.getItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,i));if(a){const et=__PRIVATE_QueryTargetMetadata.Es(i,a);et&&(s=et.state)}}return this.ks.As(i),this.Ms(),s}removeLocalQueryTarget(i){this.ks.Rs(i),this.Ms()}isLocalQueryTarget(i){return this.ks.activeTargetIds.has(i)}clearQueryState(i){this.removeItem(createWebStorageQueryTargetMetadataKey(this.persistenceKey,i))}updateQueryState(i,s,a){this.qs(i,s,a)}handleUserChange(i,s,a){s.forEach(et=>{this.Ls(et)}),this.currentUser=i,a.forEach(et=>{this.addPendingMutation(et)})}setOnlineState(i){this.Qs(i)}notifyBundleLoaded(i){this.Ks(i)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.fs),this.removeItem(this.ws),this.started=!1)}getItem(i){const s=this.storage.getItem(i);return __PRIVATE_logDebug("SharedClientState","READ",i,s),s}setItem(i,s){__PRIVATE_logDebug("SharedClientState","SET",i,s),this.storage.setItem(i,s)}removeItem(i){__PRIVATE_logDebug("SharedClientState","REMOVE",i),this.storage.removeItem(i)}gs(i){const s=i;if(s.storageArea===this.storage){if(__PRIVATE_logDebug("SharedClientState","EVENT",s.key,s.newValue),s.key===this.ws)return void __PRIVATE_logError("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.oi.enqueueRetryable(async()=>{if(this.started){if(s.key!==null){if(this.bs.test(s.key)){if(s.newValue==null){const a=this.$s(s.key);return this.Us(a,null)}{const a=this.Ws(s.key,s.newValue);if(a)return this.Us(a.clientId,a)}}else if(this.Ds.test(s.key)){if(s.newValue!==null){const a=this.Gs(s.key,s.newValue);if(a)return this.zs(a)}}else if(this.Cs.test(s.key)){if(s.newValue!==null){const a=this.js(s.key,s.newValue);if(a)return this.Hs(a)}}else if(s.key===this.vs){if(s.newValue!==null){const a=this.xs(s.newValue);if(a)return this.Os(a)}}else if(s.key===this.Ss){const a=function(tt){let rt=__PRIVATE_ListenSequence._e;if(tt!=null)try{const nt=JSON.parse(tt);__PRIVATE_hardAssert(typeof nt=="number"),rt=nt}catch(nt){__PRIVATE_logError("SharedClientState","Failed to read sequence number from WebStorage",nt)}return rt}(s.newValue);a!==__PRIVATE_ListenSequence._e&&this.sequenceNumberHandler(a)}else if(s.key===this.Fs){const a=this.Js(s.newValue);await Promise.all(a.map(et=>this.syncEngine.Ys(et)))}}}else this.ys.push(s)})}}get ks(){return this.ps.get(this.Vs)}Ms(){this.setItem(this.ws,this.ks.ds())}Bs(i,s,a){const et=new __PRIVATE_MutationMetadata(this.currentUser,i,s,a),tt=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,i);this.setItem(tt,et.ds())}Ls(i){const s=createWebStorageMutationBatchKey(this.persistenceKey,this.currentUser,i);this.removeItem(s)}Qs(i){const s={clientId:this.Vs,onlineState:i};this.storage.setItem(this.vs,JSON.stringify(s))}qs(i,s,a){const et=createWebStorageQueryTargetMetadataKey(this.persistenceKey,i),tt=new __PRIVATE_QueryTargetMetadata(i,s,a);this.setItem(et,tt.ds())}Ks(i){const s=JSON.stringify(Array.from(i));this.setItem(this.Fs,s)}$s(i){const s=this.bs.exec(i);return s?s[1]:null}Ws(i,s){const a=this.$s(i);return __PRIVATE_RemoteClientState.Es(a,s)}Gs(i,s){const a=this.Ds.exec(i),et=Number(a[1]),tt=a[2]!==void 0?a[2]:null;return __PRIVATE_MutationMetadata.Es(new User(tt),et,s)}js(i,s){const a=this.Cs.exec(i),et=Number(a[1]);return __PRIVATE_QueryTargetMetadata.Es(et,s)}xs(i){return __PRIVATE_SharedOnlineState.Es(i)}Js(i){return JSON.parse(i)}async zs(i){if(i.user.uid===this.currentUser.uid)return this.syncEngine.Zs(i.batchId,i.state,i.error);__PRIVATE_logDebug("SharedClientState",`Ignoring mutation for non-active user ${i.user.uid}`)}Hs(i){return this.syncEngine.Xs(i.targetId,i.state,i.error)}Us(i,s){const a=s?this.ps.insert(i,s):this.ps.remove(i),et=this.Ns(this.ps),tt=this.Ns(a),rt=[],nt=[];return tt.forEach(it=>{et.has(it)||rt.push(it)}),et.forEach(it=>{tt.has(it)||nt.push(it)}),this.syncEngine.eo(rt,nt).then(()=>{this.ps=a})}Os(i){this.ps.get(i.clientId)&&this.onlineStateHandler(i.onlineState)}Ns(i){let s=__PRIVATE_targetIdSet();return i.forEach((a,et)=>{s=s.unionWith(et.activeTargetIds)}),s}}class __PRIVATE_MemorySharedClientState{constructor(){this.no=new __PRIVATE_LocalClientState,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(i){}updateMutationState(i,s,a){}addLocalQueryTarget(i){return this.no.As(i),this.ro[i]||"not-current"}updateQueryState(i,s,a){this.ro[i]=s}removeLocalQueryTarget(i){this.no.Rs(i)}isLocalQueryTarget(i){return this.no.activeTargetIds.has(i)}clearQueryState(i){delete this.ro[i]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(i){return this.no.activeTargetIds.has(i)}start(){return this.no=new __PRIVATE_LocalClientState,Promise.resolve()}handleUserChange(i,s,a){}setOnlineState(i){}shutdown(){}writeSequenceNumber(i){}notifyBundleLoaded(i){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_NoopConnectivityMonitor{io(i){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BrowserConnectivityMonitor{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(i){this.uo.push(i)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const i of this.uo)i(0)}ao(){__PRIVATE_logDebug("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const i of this.uo)i(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ae=null;function __PRIVATE_generateUniqueDebugId(){return Ae===null?Ae=function(){return 268435456+Math.round(2147483648*Math.random())}():Ae++,"0x"+Ae.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Re={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_StreamBridge{constructor(i){this.lo=i.lo,this.ho=i.ho}Po(i){this.Io=i}To(i){this.Eo=i}onMessage(i){this.Ao=i}close(){this.ho()}send(i){this.lo(i)}Ro(){this.Io()}Vo(i){this.Eo(i)}mo(i){this.Ao(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ve="WebChannelConnection";class __PRIVATE_WebChannelConnection extends class{constructor(s){this.databaseInfo=s,this.databaseId=s.databaseId;const a=s.ssl?"https":"http",et=encodeURIComponent(this.databaseId.projectId),tt=encodeURIComponent(this.databaseId.database);this.fo=a+"://"+s.host,this.po=`projects/${et}/databases/${tt}`,this.yo=this.databaseId.database==="(default)"?`project_id=${et}`:`project_id=${et}&database_id=${tt}`}get wo(){return!1}So(s,a,et,tt,rt){const nt=__PRIVATE_generateUniqueDebugId(),it=this.bo(s,a.toUriEncodedString());__PRIVATE_logDebug("RestConnection",`Sending RPC '${s}' ${nt}:`,it,et);const ot={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(ot,tt,rt),this.Co(s,it,ot,et).then(st=>(__PRIVATE_logDebug("RestConnection",`Received RPC '${s}' ${nt}: `,st),st),st=>{throw __PRIVATE_logWarn("RestConnection",`RPC '${s}' ${nt} failed with error: `,st,"url: ",it,"request:",et),st})}vo(s,a,et,tt,rt,nt){return this.So(s,a,et,tt,rt)}Do(s,a,et){s["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+S}(),s["Content-Type"]="text/plain",this.databaseInfo.appId&&(s["X-Firebase-GMPID"]=this.databaseInfo.appId),a&&a.headers.forEach((tt,rt)=>s[rt]=tt),et&&et.headers.forEach((tt,rt)=>s[rt]=tt)}bo(s,a){const et=Re[s];return`${this.fo}/v1/${a}:${et}`}terminate(){}}{constructor(i){super(i),this.forceLongPolling=i.forceLongPolling,this.autoDetectLongPolling=i.autoDetectLongPolling,this.useFetchStreams=i.useFetchStreams,this.longPollingOptions=i.longPollingOptions}Co(i,s,a,et){const tt=__PRIVATE_generateUniqueDebugId();return new Promise((rt,nt)=>{const it=new XhrIo;it.setWithCredentials(!0),it.listenOnce(EventType.COMPLETE,()=>{try{switch(it.getLastErrorCode()){case ErrorCode$1.NO_ERROR:const st=it.getResponseJson();__PRIVATE_logDebug(Ve,`XHR for RPC '${i}' ${tt} received:`,JSON.stringify(st)),rt(st);break;case ErrorCode$1.TIMEOUT:__PRIVATE_logDebug(Ve,`RPC '${i}' ${tt} timed out`),nt(new FirestoreError(D.DEADLINE_EXCEEDED,"Request time out"));break;case ErrorCode$1.HTTP_ERROR:const lt=it.getStatus();if(__PRIVATE_logDebug(Ve,`RPC '${i}' ${tt} failed with status:`,lt,"response text:",it.getResponseText()),lt>0){let at=it.getResponseJson();Array.isArray(at)&&(at=at[0]);const ut=at==null?void 0:at.error;if(ut&&ut.status&&ut.message){const ft=function(yt){const ht=yt.toLowerCase().replace(/_/g,"-");return Object.values(D).indexOf(ht)>=0?ht:D.UNKNOWN}(ut.status);nt(new FirestoreError(ft,ut.message))}else nt(new FirestoreError(D.UNKNOWN,"Server responded with status "+it.getStatus()))}else nt(new FirestoreError(D.UNAVAILABLE,"Connection failed."));break;default:fail()}}finally{__PRIVATE_logDebug(Ve,`RPC '${i}' ${tt} completed.`)}});const ot=JSON.stringify(et);__PRIVATE_logDebug(Ve,`RPC '${i}' ${tt} sending request:`,et),it.send(s,"POST",ot,a,15)})}Fo(i,s,a){const et=__PRIVATE_generateUniqueDebugId(),tt=[this.fo,"/","google.firestore.v1.Firestore","/",i,"/channel"],rt=createWebChannelTransport(),nt=getStatEventTarget(),it={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},ot=this.longPollingOptions.timeoutSeconds;ot!==void 0&&(it.longPollingTimeout=Math.round(1e3*ot)),this.useFetchStreams&&(it.useFetchStreams=!0),this.Do(it.initMessageHeaders,s,a),it.encodeInitMessageHeaders=!0;const st=tt.join("");__PRIVATE_logDebug(Ve,`Creating RPC '${i}' stream ${et}: ${st}`,it);const lt=rt.createWebChannel(st,it);let at=!1,ut=!1;const ft=new __PRIVATE_StreamBridge({lo:yt=>{ut?__PRIVATE_logDebug(Ve,`Not sending because RPC '${i}' stream ${et} is closed:`,yt):(at||(__PRIVATE_logDebug(Ve,`Opening RPC '${i}' stream ${et} transport.`),lt.open(),at=!0),__PRIVATE_logDebug(Ve,`RPC '${i}' stream ${et} sending:`,yt),lt.send(yt))},ho:()=>lt.close()}),mt=(yt,ht,pt)=>{yt.listen(ht,ct=>{try{pt(ct)}catch(gt){setTimeout(()=>{throw gt},0)}})};return mt(lt,WebChannel.EventType.OPEN,()=>{ut||__PRIVATE_logDebug(Ve,`RPC '${i}' stream ${et} transport opened.`)}),mt(lt,WebChannel.EventType.CLOSE,()=>{ut||(ut=!0,__PRIVATE_logDebug(Ve,`RPC '${i}' stream ${et} transport closed`),ft.Vo())}),mt(lt,WebChannel.EventType.ERROR,yt=>{ut||(ut=!0,__PRIVATE_logWarn(Ve,`RPC '${i}' stream ${et} transport errored:`,yt),ft.Vo(new FirestoreError(D.UNAVAILABLE,"The operation could not be completed")))}),mt(lt,WebChannel.EventType.MESSAGE,yt=>{var ht;if(!ut){const pt=yt.data[0];__PRIVATE_hardAssert(!!pt);const ct=pt,gt=ct.error||((ht=ct[0])===null||ht===void 0?void 0:ht.error);if(gt){__PRIVATE_logDebug(Ve,`RPC '${i}' stream ${et} received error:`,gt);const Et=gt.status;let bt=function(wt){const It=ae[wt];if(It!==void 0)return __PRIVATE_mapCodeFromRpcCode(It)}(Et),xt=gt.message;bt===void 0&&(bt=D.INTERNAL,xt="Unknown error status: "+Et+" with message "+gt.message),ut=!0,ft.Vo(new FirestoreError(bt,xt)),lt.close()}else __PRIVATE_logDebug(Ve,`RPC '${i}' stream ${et} received:`,pt),ft.mo(pt)}}),mt(nt,Event$1.STAT_EVENT,yt=>{yt.stat===Stat.PROXY?__PRIVATE_logDebug(Ve,`RPC '${i}' stream ${et} detected buffering proxy`):yt.stat===Stat.NOPROXY&&__PRIVATE_logDebug(Ve,`RPC '${i}' stream ${et} detected no buffering proxy`)}),setTimeout(()=>{ft.Ro()},0),ft}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_getWindow(){return typeof window<"u"?window:null}function getDocument(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_newSerializer(o){return new JsonProtoSerializer(o,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_ExponentialBackoff{constructor(i,s,a=1e3,et=1.5,tt=6e4){this.oi=i,this.timerId=s,this.Mo=a,this.xo=et,this.Oo=tt,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(i){this.cancel();const s=Math.floor(this.No+this.Qo()),a=Math.max(0,Date.now()-this.Lo),et=Math.max(0,s-a);et>0&&__PRIVATE_logDebug("ExponentialBackoff",`Backing off for ${et} ms (base delay: ${this.No} ms, delay with jitter: ${s} ms, last attempt: ${a} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,et,()=>(this.Lo=Date.now(),i())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_PersistentStream{constructor(i,s,a,et,tt,rt,nt,it){this.oi=i,this.$o=a,this.Uo=et,this.connection=tt,this.authCredentialsProvider=rt,this.appCheckCredentialsProvider=nt,this.listener=it,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new __PRIVATE_ExponentialBackoff(i,s)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(i){this.n_(),this.stream.send(i)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(i,s){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,i!==4?this.jo.reset():s&&s.code===D.RESOURCE_EXHAUSTED?(__PRIVATE_logError(s.toString()),__PRIVATE_logError("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):s&&s.code===D.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=i,await this.listener.To(s)}i_(){}auth(){this.state=1;const i=this.s_(this.Wo),s=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([a,et])=>{this.Wo===s&&this.o_(a,et)},a=>{i(()=>{const et=new FirestoreError(D.UNKNOWN,"Fetching auth token failed: "+a.message);return this.__(et)})})}o_(i,s){const a=this.s_(this.Wo);this.stream=this.a_(i,s),this.stream.Po(()=>{a(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(et=>{a(()=>this.__(et))}),this.stream.onMessage(et=>{a(()=>this.onMessage(et))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(i){return __PRIVATE_logDebug("PersistentStream",`close with error: ${i}`),this.stream=null,this.close(4,i)}s_(i){return s=>{this.oi.enqueueAndForget(()=>this.Wo===i?s():(__PRIVATE_logDebug("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class __PRIVATE_PersistentListenStream extends __PRIVATE_PersistentStream{constructor(i,s,a,et,tt,rt){super(i,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,a,et,rt),this.serializer=tt}a_(i,s){return this.connection.Fo("Listen",i,s)}onMessage(i){this.jo.reset();const s=__PRIVATE_fromWatchChange(this.serializer,i),a=function(tt){if(!("targetChange"in tt))return SnapshotVersion.min();const rt=tt.targetChange;return rt.targetIds&&rt.targetIds.length?SnapshotVersion.min():rt.readTime?__PRIVATE_fromVersion(rt.readTime):SnapshotVersion.min()}(i);return this.listener.u_(s,a)}c_(i){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.addTarget=function(tt,rt){let nt;const it=rt.target;if(nt=__PRIVATE_targetIsDocumentTarget(it)?{documents:__PRIVATE_toDocumentsTarget(tt,it)}:{query:__PRIVATE_toQueryTarget(tt,it).ut},nt.targetId=rt.targetId,rt.resumeToken.approximateByteSize()>0){nt.resumeToken=__PRIVATE_toBytes(tt,rt.resumeToken);const ot=__PRIVATE_toInt32Proto(tt,rt.expectedCount);ot!==null&&(nt.expectedCount=ot)}else if(rt.snapshotVersion.compareTo(SnapshotVersion.min())>0){nt.readTime=toTimestamp(tt,rt.snapshotVersion.toTimestamp());const ot=__PRIVATE_toInt32Proto(tt,rt.expectedCount);ot!==null&&(nt.expectedCount=ot)}return nt}(this.serializer,i);const a=__PRIVATE_toListenRequestLabels(this.serializer,i);a&&(s.labels=a),this.t_(s)}l_(i){const s={};s.database=__PRIVATE_getEncodedDatabaseId(this.serializer),s.removeTarget=i,this.t_(s)}}class __PRIVATE_PersistentWriteStream extends __PRIVATE_PersistentStream{constructor(i,s,a,et,tt,rt){super(i,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,a,et,rt),this.serializer=tt,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(i,s){return this.connection.Fo("Write",i,s)}onMessage(i){if(__PRIVATE_hardAssert(!!i.streamToken),this.lastStreamToken=i.streamToken,this.h_){this.jo.reset();const s=__PRIVATE_fromWriteResults(i.writeResults,i.commitTime),a=__PRIVATE_fromVersion(i.commitTime);return this.listener.T_(a,s)}return __PRIVATE_hardAssert(!i.writeResults||i.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const i={};i.database=__PRIVATE_getEncodedDatabaseId(this.serializer),this.t_(i)}I_(i){const s={streamToken:this.lastStreamToken,writes:i.map(a=>toMutation(this.serializer,a))};this.t_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DatastoreImpl extends class{}{constructor(i,s,a,et){super(),this.authCredentials=i,this.appCheckCredentials=s,this.connection=a,this.serializer=et,this.A_=!1}R_(){if(this.A_)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}So(i,s,a,et){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([tt,rt])=>this.connection.So(i,__PRIVATE_toResourcePath(s,a),et,tt,rt)).catch(tt=>{throw tt.name==="FirebaseError"?(tt.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),tt):new FirestoreError(D.UNKNOWN,tt.toString())})}vo(i,s,a,et,tt){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([rt,nt])=>this.connection.vo(i,__PRIVATE_toResourcePath(s,a),et,rt,nt,tt)).catch(rt=>{throw rt.name==="FirebaseError"?(rt.code===D.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),rt):new FirestoreError(D.UNKNOWN,rt.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class __PRIVATE_OnlineStateTracker{constructor(i,s){this.asyncQueue=i,this.onlineStateHandler=s,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(i){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${i.toString()}`),this.y_("Offline")))}set(i){this.b_(),this.m_=0,i==="Online"&&(this.g_=!1),this.y_(i)}y_(i){i!==this.state&&(this.state=i,this.onlineStateHandler(i))}w_(i){const s=`Could not reach Cloud Firestore backend. ${i}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(__PRIVATE_logError(s),this.g_=!1):__PRIVATE_logDebug("OnlineStateTracker",s)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_RemoteStoreImpl{constructor(i,s,a,et,tt){this.localStore=i,this.datastore=s,this.asyncQueue=a,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=tt,this.M_.io(rt=>{a.enqueueAndForget(async()=>{__PRIVATE_canUseNetwork(this)&&(__PRIVATE_logDebug("RemoteStore","Restarting streams for network reachability change."),await async function(it){const ot=__PRIVATE_debugCast(it);ot.v_.add(4),await __PRIVATE_disableNetworkInternal(ot),ot.x_.set("Unknown"),ot.v_.delete(4),await __PRIVATE_enableNetworkInternal(ot)}(this))})}),this.x_=new __PRIVATE_OnlineStateTracker(a,et)}}async function __PRIVATE_enableNetworkInternal(o){if(__PRIVATE_canUseNetwork(o))for(const i of o.F_)await i(!0)}async function __PRIVATE_disableNetworkInternal(o){for(const i of o.F_)await i(!1)}function __PRIVATE_remoteStoreListen(o,i){const s=__PRIVATE_debugCast(o);s.C_.has(i.targetId)||(s.C_.set(i.targetId,i),__PRIVATE_shouldStartWatchStream(s)?__PRIVATE_startWatchStream(s):__PRIVATE_ensureWatchStream(s).Jo()&&__PRIVATE_sendWatchRequest(s,i))}function __PRIVATE_remoteStoreUnlisten(o,i){const s=__PRIVATE_debugCast(o),a=__PRIVATE_ensureWatchStream(s);s.C_.delete(i),a.Jo()&&__PRIVATE_sendUnwatchRequest(s,i),s.C_.size===0&&(a.Jo()?a.Xo():__PRIVATE_canUseNetwork(s)&&s.x_.set("Unknown"))}function __PRIVATE_sendWatchRequest(o,i){if(o.O_.Oe(i.targetId),i.resumeToken.approximateByteSize()>0||i.snapshotVersion.compareTo(SnapshotVersion.min())>0){const s=o.remoteSyncer.getRemoteKeysForTarget(i.targetId).size;i=i.withExpectedCount(s)}__PRIVATE_ensureWatchStream(o).c_(i)}function __PRIVATE_sendUnwatchRequest(o,i){o.O_.Oe(i),__PRIVATE_ensureWatchStream(o).l_(i)}function __PRIVATE_startWatchStream(o){o.O_=new __PRIVATE_WatchChangeAggregator({getRemoteKeysForTarget:i=>o.remoteSyncer.getRemoteKeysForTarget(i),_t:i=>o.C_.get(i)||null,nt:()=>o.datastore.serializer.databaseId}),__PRIVATE_ensureWatchStream(o).start(),o.x_.p_()}function __PRIVATE_shouldStartWatchStream(o){return __PRIVATE_canUseNetwork(o)&&!__PRIVATE_ensureWatchStream(o).Ho()&&o.C_.size>0}function __PRIVATE_canUseNetwork(o){return __PRIVATE_debugCast(o).v_.size===0}function __PRIVATE_cleanUpWatchStreamState(o){o.O_=void 0}async function __PRIVATE_onWatchStreamOpen(o){o.C_.forEach((i,s)=>{__PRIVATE_sendWatchRequest(o,i)})}async function __PRIVATE_onWatchStreamClose(o,i){__PRIVATE_cleanUpWatchStreamState(o),__PRIVATE_shouldStartWatchStream(o)?(o.x_.S_(i),__PRIVATE_startWatchStream(o)):o.x_.set("Unknown")}async function __PRIVATE_onWatchStreamChange(o,i,s){if(o.x_.set("Online"),i instanceof __PRIVATE_WatchTargetChange&&i.state===2&&i.cause)try{await async function(et,tt){const rt=tt.cause;for(const nt of tt.targetIds)et.C_.has(nt)&&(await et.remoteSyncer.rejectListen(nt,rt),et.C_.delete(nt),et.O_.removeTarget(nt))}(o,i)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to remove targets %s: %s ",i.targetIds.join(","),a),await __PRIVATE_disableNetworkUntilRecovery(o,a)}else if(i instanceof __PRIVATE_DocumentWatchChange?o.O_.$e(i):i instanceof __PRIVATE_ExistenceFilterChange?o.O_.Je(i):o.O_.Ge(i),!s.isEqual(SnapshotVersion.min()))try{const a=await __PRIVATE_localStoreGetLastRemoteSnapshotVersion(o.localStore);s.compareTo(a)>=0&&await function(tt,rt){const nt=tt.O_.it(rt);return nt.targetChanges.forEach((it,ot)=>{if(it.resumeToken.approximateByteSize()>0){const st=tt.C_.get(ot);st&&tt.C_.set(ot,st.withResumeToken(it.resumeToken,rt))}}),nt.targetMismatches.forEach((it,ot)=>{const st=tt.C_.get(it);if(!st)return;tt.C_.set(it,st.withResumeToken(ByteString.EMPTY_BYTE_STRING,st.snapshotVersion)),__PRIVATE_sendUnwatchRequest(tt,it);const lt=new TargetData(st.target,it,ot,st.sequenceNumber);__PRIVATE_sendWatchRequest(tt,lt)}),tt.remoteSyncer.applyRemoteEvent(nt)}(o,s)}catch(a){__PRIVATE_logDebug("RemoteStore","Failed to raise snapshot:",a),await __PRIVATE_disableNetworkUntilRecovery(o,a)}}async function __PRIVATE_disableNetworkUntilRecovery(o,i,s){if(!__PRIVATE_isIndexedDbTransactionError(i))throw i;o.v_.add(1),await __PRIVATE_disableNetworkInternal(o),o.x_.set("Offline"),s||(s=()=>__PRIVATE_localStoreGetLastRemoteSnapshotVersion(o.localStore)),o.asyncQueue.enqueueRetryable(async()=>{__PRIVATE_logDebug("RemoteStore","Retrying IndexedDB access"),await s(),o.v_.delete(1),await __PRIVATE_enableNetworkInternal(o)})}function __PRIVATE_executeWithRecovery(o,i){return i().catch(s=>__PRIVATE_disableNetworkUntilRecovery(o,s,i))}async function __PRIVATE_fillWritePipeline(o){const i=__PRIVATE_debugCast(o),s=__PRIVATE_ensureWriteStream(i);let a=i.D_.length>0?i.D_[i.D_.length-1].batchId:-1;for(;__PRIVATE_canAddToWritePipeline(i);)try{const et=await __PRIVATE_localStoreGetNextMutationBatch(i.localStore,a);if(et===null){i.D_.length===0&&s.Xo();break}a=et.batchId,__PRIVATE_addToWritePipeline(i,et)}catch(et){await __PRIVATE_disableNetworkUntilRecovery(i,et)}__PRIVATE_shouldStartWriteStream(i)&&__PRIVATE_startWriteStream(i)}function __PRIVATE_canAddToWritePipeline(o){return __PRIVATE_canUseNetwork(o)&&o.D_.length<10}function __PRIVATE_addToWritePipeline(o,i){o.D_.push(i);const s=__PRIVATE_ensureWriteStream(o);s.Jo()&&s.P_&&s.I_(i.mutations)}function __PRIVATE_shouldStartWriteStream(o){return __PRIVATE_canUseNetwork(o)&&!__PRIVATE_ensureWriteStream(o).Ho()&&o.D_.length>0}function __PRIVATE_startWriteStream(o){__PRIVATE_ensureWriteStream(o).start()}async function __PRIVATE_onWriteStreamOpen(o){__PRIVATE_ensureWriteStream(o).d_()}async function __PRIVATE_onWriteHandshakeComplete(o){const i=__PRIVATE_ensureWriteStream(o);for(const s of o.D_)i.I_(s.mutations)}async function __PRIVATE_onMutationResult(o,i,s){const a=o.D_.shift(),et=MutationBatchResult.from(a,i,s);await __PRIVATE_executeWithRecovery(o,()=>o.remoteSyncer.applySuccessfulWrite(et)),await __PRIVATE_fillWritePipeline(o)}async function __PRIVATE_onWriteStreamClose(o,i){i&&__PRIVATE_ensureWriteStream(o).P_&&await async function(a,et){if(function(rt){return __PRIVATE_isPermanentError(rt)&&rt!==D.ABORTED}(et.code)){const tt=a.D_.shift();__PRIVATE_ensureWriteStream(a).Zo(),await __PRIVATE_executeWithRecovery(a,()=>a.remoteSyncer.rejectFailedWrite(tt.batchId,et)),await __PRIVATE_fillWritePipeline(a)}}(o,i),__PRIVATE_shouldStartWriteStream(o)&&__PRIVATE_startWriteStream(o)}async function __PRIVATE_remoteStoreHandleCredentialChange(o,i){const s=__PRIVATE_debugCast(o);s.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("RemoteStore","RemoteStore received new credentials");const a=__PRIVATE_canUseNetwork(s);s.v_.add(3),await __PRIVATE_disableNetworkInternal(s),a&&s.x_.set("Unknown"),await s.remoteSyncer.handleCredentialChange(i),s.v_.delete(3),await __PRIVATE_enableNetworkInternal(s)}async function __PRIVATE_remoteStoreApplyPrimaryState(o,i){const s=__PRIVATE_debugCast(o);i?(s.v_.delete(2),await __PRIVATE_enableNetworkInternal(s)):i||(s.v_.add(2),await __PRIVATE_disableNetworkInternal(s),s.x_.set("Unknown"))}function __PRIVATE_ensureWatchStream(o){return o.N_||(o.N_=function(s,a,et){const tt=__PRIVATE_debugCast(s);return tt.R_(),new __PRIVATE_PersistentListenStream(a,tt.connection,tt.authCredentials,tt.appCheckCredentials,tt.serializer,et)}(o.datastore,o.asyncQueue,{Po:__PRIVATE_onWatchStreamOpen.bind(null,o),To:__PRIVATE_onWatchStreamClose.bind(null,o),u_:__PRIVATE_onWatchStreamChange.bind(null,o)}),o.F_.push(async i=>{i?(o.N_.Zo(),__PRIVATE_shouldStartWatchStream(o)?__PRIVATE_startWatchStream(o):o.x_.set("Unknown")):(await o.N_.stop(),__PRIVATE_cleanUpWatchStreamState(o))})),o.N_}function __PRIVATE_ensureWriteStream(o){return o.B_||(o.B_=function(s,a,et){const tt=__PRIVATE_debugCast(s);return tt.R_(),new __PRIVATE_PersistentWriteStream(a,tt.connection,tt.authCredentials,tt.appCheckCredentials,tt.serializer,et)}(o.datastore,o.asyncQueue,{Po:__PRIVATE_onWriteStreamOpen.bind(null,o),To:__PRIVATE_onWriteStreamClose.bind(null,o),E_:__PRIVATE_onWriteHandshakeComplete.bind(null,o),T_:__PRIVATE_onMutationResult.bind(null,o)}),o.F_.push(async i=>{i?(o.B_.Zo(),await __PRIVATE_fillWritePipeline(o)):(await o.B_.stop(),o.D_.length>0&&(__PRIVATE_logDebug("RemoteStore",`Stopping write stream with ${o.D_.length} pending writes`),o.D_=[]))})),o.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DelayedOperation{constructor(i,s,a,et,tt){this.asyncQueue=i,this.timerId=s,this.targetTimeMs=a,this.op=et,this.removalCallback=tt,this.deferred=new __PRIVATE_Deferred,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(rt=>{})}get promise(){return this.deferred.promise}static createAndSchedule(i,s,a,et,tt){const rt=Date.now()+a,nt=new DelayedOperation(i,s,rt,et,tt);return nt.start(a),nt}start(i){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),i)}skipDelay(){return this.handleDelayElapsed()}cancel(i){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new FirestoreError(D.CANCELLED,"Operation cancelled"+(i?": "+i:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(i=>this.deferred.resolve(i))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function __PRIVATE_wrapInUserErrorIfRecoverable(o,i){if(__PRIVATE_logError("AsyncQueue",`${i}: ${o}`),__PRIVATE_isIndexedDbTransactionError(o))return new FirestoreError(D.UNAVAILABLE,`${i}: ${o}`);throw o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSet{constructor(i){this.comparator=i?(s,a)=>i(s,a)||DocumentKey.comparator(s.key,a.key):(s,a)=>DocumentKey.comparator(s.key,a.key),this.keyedMap=documentMap(),this.sortedSet=new SortedMap(this.comparator)}static emptySet(i){return new DocumentSet(i.comparator)}has(i){return this.keyedMap.get(i)!=null}get(i){return this.keyedMap.get(i)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(i){const s=this.keyedMap.get(i);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(i){this.sortedSet.inorderTraversal((s,a)=>(i(s),!1))}add(i){const s=this.delete(i.key);return s.copy(s.keyedMap.insert(i.key,i),s.sortedSet.insert(i,null))}delete(i){const s=this.get(i);return s?this.copy(this.keyedMap.remove(i),this.sortedSet.remove(s)):this}isEqual(i){if(!(i instanceof DocumentSet)||this.size!==i.size)return!1;const s=this.sortedSet.getIterator(),a=i.sortedSet.getIterator();for(;s.hasNext();){const et=s.getNext().key,tt=a.getNext().key;if(!et.isEqual(tt))return!1}return!0}toString(){const i=[];return this.forEach(s=>{i.push(s.toString())}),i.length===0?"DocumentSet ()":`DocumentSet (
  `+i.join(`  
`)+`
)`}copy(i,s){const a=new DocumentSet;return a.comparator=this.comparator,a.keyedMap=i,a.sortedSet=s,a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_DocumentChangeSet{constructor(){this.L_=new SortedMap(DocumentKey.comparator)}track(i){const s=i.doc.key,a=this.L_.get(s);a?i.type!==0&&a.type===3?this.L_=this.L_.insert(s,i):i.type===3&&a.type!==1?this.L_=this.L_.insert(s,{type:a.type,doc:i.doc}):i.type===2&&a.type===2?this.L_=this.L_.insert(s,{type:2,doc:i.doc}):i.type===2&&a.type===0?this.L_=this.L_.insert(s,{type:0,doc:i.doc}):i.type===1&&a.type===0?this.L_=this.L_.remove(s):i.type===1&&a.type===2?this.L_=this.L_.insert(s,{type:1,doc:a.doc}):i.type===0&&a.type===1?this.L_=this.L_.insert(s,{type:2,doc:i.doc}):fail():this.L_=this.L_.insert(s,i)}k_(){const i=[];return this.L_.inorderTraversal((s,a)=>{i.push(a)}),i}}class ViewSnapshot{constructor(i,s,a,et,tt,rt,nt,it,ot){this.query=i,this.docs=s,this.oldDocs=a,this.docChanges=et,this.mutatedKeys=tt,this.fromCache=rt,this.syncStateChanged=nt,this.excludesMetadataChanges=it,this.hasCachedResults=ot}static fromInitialDocuments(i,s,a,et,tt){const rt=[];return s.forEach(nt=>{rt.push({type:0,doc:nt})}),new ViewSnapshot(i,s,DocumentSet.emptySet(s),rt,a,et,!0,!1,tt)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(i){if(!(this.fromCache===i.fromCache&&this.hasCachedResults===i.hasCachedResults&&this.syncStateChanged===i.syncStateChanged&&this.mutatedKeys.isEqual(i.mutatedKeys)&&__PRIVATE_queryEquals(this.query,i.query)&&this.docs.isEqual(i.docs)&&this.oldDocs.isEqual(i.oldDocs)))return!1;const s=this.docChanges,a=i.docChanges;if(s.length!==a.length)return!1;for(let et=0;et<s.length;et++)if(s[et].type!==a[et].type||!s[et].doc.isEqual(a[et].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_QueryListenersInfo{constructor(){this.q_=void 0,this.Q_=[]}}class __PRIVATE_EventManagerImpl{constructor(){this.queries=new ObjectMap(i=>__PRIVATE_canonifyQuery(i),__PRIVATE_queryEquals),this.onlineState="Unknown",this.K_=new Set}}async function __PRIVATE_eventManagerListen(o,i){const s=__PRIVATE_debugCast(o),a=i.query;let et=!1,tt=s.queries.get(a);if(tt||(et=!0,tt=new __PRIVATE_QueryListenersInfo),et)try{tt.q_=await s.onListen(a)}catch(rt){const nt=__PRIVATE_wrapInUserErrorIfRecoverable(rt,`Initialization of query '${__PRIVATE_stringifyQuery(i.query)}' failed`);return void i.onError(nt)}s.queries.set(a,tt),tt.Q_.push(i),i.U_(s.onlineState),tt.q_&&i.W_(tt.q_)&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}async function __PRIVATE_eventManagerUnlisten(o,i){const s=__PRIVATE_debugCast(o),a=i.query;let et=!1;const tt=s.queries.get(a);if(tt){const rt=tt.Q_.indexOf(i);rt>=0&&(tt.Q_.splice(rt,1),et=tt.Q_.length===0)}if(et)return s.queries.delete(a),s.onUnlisten(a)}function __PRIVATE_eventManagerOnWatchChange(o,i){const s=__PRIVATE_debugCast(o);let a=!1;for(const et of i){const tt=et.query,rt=s.queries.get(tt);if(rt){for(const nt of rt.Q_)nt.W_(et)&&(a=!0);rt.q_=et}}a&&__PRIVATE_raiseSnapshotsInSyncEvent(s)}function __PRIVATE_eventManagerOnWatchError(o,i,s){const a=__PRIVATE_debugCast(o),et=a.queries.get(i);if(et)for(const tt of et.Q_)tt.onError(s);a.queries.delete(i)}function __PRIVATE_raiseSnapshotsInSyncEvent(o){o.K_.forEach(i=>{i.next()})}class __PRIVATE_QueryListener{constructor(i,s,a){this.query=i,this.G_=s,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=a||{}}W_(i){if(!this.options.includeMetadataChanges){const a=[];for(const et of i.docChanges)et.type!==3&&a.push(et);i=new ViewSnapshot(i.query,i.docs,i.oldDocs,a,i.mutatedKeys,i.fromCache,i.syncStateChanged,!0,i.hasCachedResults)}let s=!1;return this.z_?this.H_(i)&&(this.G_.next(i),s=!0):this.J_(i,this.onlineState)&&(this.Y_(i),s=!0),this.j_=i,s}onError(i){this.G_.error(i)}U_(i){this.onlineState=i;let s=!1;return this.j_&&!this.z_&&this.J_(this.j_,i)&&(this.Y_(this.j_),s=!0),s}J_(i,s){if(!i.fromCache)return!0;const a=s!=="Offline";return(!this.options.Z_||!a)&&(!i.docs.isEmpty()||i.hasCachedResults||s==="Offline")}H_(i){if(i.docChanges.length>0)return!0;const s=this.j_&&this.j_.hasPendingWrites!==i.hasPendingWrites;return!(!i.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}Y_(i){i=ViewSnapshot.fromInitialDocuments(i.query,i.docs,i.mutatedKeys,i.fromCache,i.hasCachedResults),this.z_=!0,this.G_.next(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_SizedBundleElement{constructor(i,s){this.X_=i,this.byteLength=s}ea(){return"metadata"in this.X_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BundleConverterImpl{constructor(i){this.serializer=i}Ps(i){return fromName(this.serializer,i)}Is(i){return i.metadata.exists?__PRIVATE_fromDocument(this.serializer,i.document,!1):MutableDocument.newNoDocument(this.Ps(i.metadata.name),this.Ts(i.metadata.readTime))}Ts(i){return __PRIVATE_fromVersion(i)}}class __PRIVATE_BundleLoader{constructor(i,s,a){this.ta=i,this.localStore=s,this.serializer=a,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=__PRIVATE_bundleInitialProgress(i)}na(i){this.progress.bytesLoaded+=i.byteLength;let s=this.progress.documentsLoaded;if(i.X_.namedQuery)this.queries.push(i.X_.namedQuery);else if(i.X_.documentMetadata){this.documents.push({metadata:i.X_.documentMetadata}),i.X_.documentMetadata.exists||++s;const a=ResourcePath.fromString(i.X_.documentMetadata.name);this.collectionGroups.add(a.get(a.length-2))}else i.X_.document&&(this.documents[this.documents.length-1].document=i.X_.document,++s);return s!==this.progress.documentsLoaded?(this.progress.documentsLoaded=s,Object.assign({},this.progress)):null}ra(i){const s=new Map,a=new __PRIVATE_BundleConverterImpl(this.serializer);for(const et of i)if(et.metadata.queries){const tt=a.Ps(et.metadata.name);for(const rt of et.metadata.queries){const nt=(s.get(rt)||__PRIVATE_documentKeySet()).add(tt);s.set(rt,nt)}}return s}async complete(){const i=await __PRIVATE_localStoreApplyBundledDocuments(this.localStore,new __PRIVATE_BundleConverterImpl(this.serializer),this.documents,this.ta.id),s=this.ra(this.documents);for(const a of this.queries)await __PRIVATE_localStoreSaveNamedQuery(this.localStore,a,s.get(a.name));return this.progress.taskState="Success",{progress:this.progress,ia:this.collectionGroups,sa:i}}}function __PRIVATE_bundleInitialProgress(o){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:o.totalDocuments,totalBytes:o.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AddedLimboDocument{constructor(i){this.key=i}}class __PRIVATE_RemovedLimboDocument{constructor(i){this.key=i}}class __PRIVATE_View{constructor(i,s){this.query=i,this.oa=s,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=__PRIVATE_documentKeySet(),this.mutatedKeys=__PRIVATE_documentKeySet(),this.ua=__PRIVATE_newQueryComparator(i),this.ca=new DocumentSet(this.ua)}get la(){return this.oa}ha(i,s){const a=s?s.Pa:new __PRIVATE_DocumentChangeSet,et=s?s.ca:this.ca;let tt=s?s.mutatedKeys:this.mutatedKeys,rt=et,nt=!1;const it=this.query.limitType==="F"&&et.size===this.query.limit?et.last():null,ot=this.query.limitType==="L"&&et.size===this.query.limit?et.first():null;if(i.inorderTraversal((st,lt)=>{const at=et.get(st),ut=__PRIVATE_queryMatches(this.query,lt)?lt:null,ft=!!at&&this.mutatedKeys.has(at.key),mt=!!ut&&(ut.hasLocalMutations||this.mutatedKeys.has(ut.key)&&ut.hasCommittedMutations);let yt=!1;at&&ut?at.data.isEqual(ut.data)?ft!==mt&&(a.track({type:3,doc:ut}),yt=!0):this.Ia(at,ut)||(a.track({type:2,doc:ut}),yt=!0,(it&&this.ua(ut,it)>0||ot&&this.ua(ut,ot)<0)&&(nt=!0)):!at&&ut?(a.track({type:0,doc:ut}),yt=!0):at&&!ut&&(a.track({type:1,doc:at}),yt=!0,(it||ot)&&(nt=!0)),yt&&(ut?(rt=rt.add(ut),tt=mt?tt.add(st):tt.delete(st)):(rt=rt.delete(st),tt=tt.delete(st)))}),this.query.limit!==null)for(;rt.size>this.query.limit;){const st=this.query.limitType==="F"?rt.last():rt.first();rt=rt.delete(st.key),tt=tt.delete(st.key),a.track({type:1,doc:st})}return{ca:rt,Pa:a,Xi:nt,mutatedKeys:tt}}Ia(i,s){return i.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(i,s,a,et){const tt=this.ca;this.ca=i.ca,this.mutatedKeys=i.mutatedKeys;const rt=i.Pa.k_();rt.sort((st,lt)=>function(ut,ft){const mt=yt=>{switch(yt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return fail()}};return mt(ut)-mt(ft)}(st.type,lt.type)||this.ua(st.doc,lt.doc)),this.Ta(a),et=et!=null&&et;const nt=s&&!et?this.Ea():[],it=this.aa.size===0&&this.current&&!et?1:0,ot=it!==this._a;return this._a=it,rt.length!==0||ot?{snapshot:new ViewSnapshot(this.query,i.ca,tt,rt,i.mutatedKeys,it===0,ot,!1,!!a&&a.resumeToken.approximateByteSize()>0),da:nt}:{da:nt}}U_(i){return this.current&&i==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new __PRIVATE_DocumentChangeSet,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(i){return!this.oa.has(i)&&!!this.ca.has(i)&&!this.ca.get(i).hasLocalMutations}Ta(i){i&&(i.addedDocuments.forEach(s=>this.oa=this.oa.add(s)),i.modifiedDocuments.forEach(s=>{}),i.removedDocuments.forEach(s=>this.oa=this.oa.delete(s)),this.current=i.current)}Ea(){if(!this.current)return[];const i=this.aa;this.aa=__PRIVATE_documentKeySet(),this.ca.forEach(a=>{this.Aa(a.key)&&(this.aa=this.aa.add(a.key))});const s=[];return i.forEach(a=>{this.aa.has(a)||s.push(new __PRIVATE_RemovedLimboDocument(a))}),this.aa.forEach(a=>{i.has(a)||s.push(new __PRIVATE_AddedLimboDocument(a))}),s}Ra(i){this.oa=i.hs,this.aa=__PRIVATE_documentKeySet();const s=this.ha(i.documents);return this.applyChanges(s,!0)}Va(){return ViewSnapshot.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class __PRIVATE_QueryView{constructor(i,s,a){this.query=i,this.targetId=s,this.view=a}}class LimboResolution{constructor(i){this.key=i,this.ma=!1}}class __PRIVATE_SyncEngineImpl{constructor(i,s,a,et,tt,rt){this.localStore=i,this.remoteStore=s,this.eventManager=a,this.sharedClientState=et,this.currentUser=tt,this.maxConcurrentLimboResolutions=rt,this.fa={},this.ga=new ObjectMap(nt=>__PRIVATE_canonifyQuery(nt),__PRIVATE_queryEquals),this.pa=new Map,this.ya=new Set,this.wa=new SortedMap(DocumentKey.comparator),this.Sa=new Map,this.ba=new __PRIVATE_ReferenceSet,this.Da={},this.Ca=new Map,this.va=__PRIVATE_TargetIdGenerator.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function __PRIVATE_syncEngineListen(o,i){const s=__PRIVATE_ensureWatchCallbacks(o);let a,et;const tt=s.ga.get(i);if(tt)a=tt.targetId,s.sharedClientState.addLocalQueryTarget(a),et=tt.view.Va();else{const rt=await __PRIVATE_localStoreAllocateTarget(s.localStore,__PRIVATE_queryToTarget(i)),nt=s.sharedClientState.addLocalQueryTarget(rt.targetId);a=rt.targetId,et=await __PRIVATE_initializeViewAndComputeSnapshot(s,i,a,nt==="current",rt.resumeToken),s.isPrimaryClient&&__PRIVATE_remoteStoreListen(s.remoteStore,rt)}return et}async function __PRIVATE_initializeViewAndComputeSnapshot(o,i,s,a,et){o.Ma=(lt,at,ut)=>async function(mt,yt,ht,pt){let ct=yt.view.ha(ht);ct.Xi&&(ct=await __PRIVATE_localStoreExecuteQuery(mt.localStore,yt.query,!1).then(({documents:xt})=>yt.view.ha(xt,ct)));const gt=pt&&pt.targetChanges.get(yt.targetId),Et=pt&&pt.targetMismatches.get(yt.targetId)!=null,bt=yt.view.applyChanges(ct,mt.isPrimaryClient,gt,Et);return __PRIVATE_updateTrackedLimbos(mt,yt.targetId,bt.da),bt.snapshot}(o,lt,at,ut);const tt=await __PRIVATE_localStoreExecuteQuery(o.localStore,i,!0),rt=new __PRIVATE_View(i,tt.hs),nt=rt.ha(tt.documents),it=TargetChange.createSynthesizedTargetChangeForCurrentChange(s,a&&o.onlineState!=="Offline",et),ot=rt.applyChanges(nt,o.isPrimaryClient,it);__PRIVATE_updateTrackedLimbos(o,s,ot.da);const st=new __PRIVATE_QueryView(i,s,rt);return o.ga.set(i,st),o.pa.has(s)?o.pa.get(s).push(i):o.pa.set(s,[i]),ot.snapshot}async function __PRIVATE_syncEngineUnlisten(o,i){const s=__PRIVATE_debugCast(o),a=s.ga.get(i),et=s.pa.get(a.targetId);if(et.length>1)return s.pa.set(a.targetId,et.filter(tt=>!__PRIVATE_queryEquals(tt,i))),void s.ga.delete(i);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await __PRIVATE_localStoreReleaseTarget(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),__PRIVATE_remoteStoreUnlisten(s.remoteStore,a.targetId),__PRIVATE_removeAndCleanupTarget(s,a.targetId)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)):(__PRIVATE_removeAndCleanupTarget(s,a.targetId),await __PRIVATE_localStoreReleaseTarget(s.localStore,a.targetId,!0))}async function __PRIVATE_syncEngineWrite(o,i,s){const a=__PRIVATE_syncEngineEnsureWriteCallbacks(o);try{const et=await function(rt,nt){const it=__PRIVATE_debugCast(rt),ot=Timestamp.now(),st=nt.reduce((ut,ft)=>ut.add(ft.key),__PRIVATE_documentKeySet());let lt,at;return it.persistence.runTransaction("Locally write mutations","readwrite",ut=>{let ft=__PRIVATE_mutableDocumentMap(),mt=__PRIVATE_documentKeySet();return it.os.getEntries(ut,st).next(yt=>{ft=yt,ft.forEach((ht,pt)=>{pt.isValidDocument()||(mt=mt.add(ht))})}).next(()=>it.localDocuments.getOverlayedDocuments(ut,ft)).next(yt=>{lt=yt;const ht=[];for(const pt of nt){const ct=__PRIVATE_mutationExtractBaseValue(pt,lt.get(pt.key).overlayedDocument);ct!=null&&ht.push(new __PRIVATE_PatchMutation(pt.key,ct,__PRIVATE_extractFieldMask(ct.value.mapValue),Precondition.exists(!0)))}return it.mutationQueue.addMutationBatch(ut,ot,ht,nt)}).next(yt=>{at=yt;const ht=yt.applyToLocalDocumentSet(lt,mt);return it.documentOverlayCache.saveOverlays(ut,yt.batchId,ht)})}).then(()=>({batchId:at.batchId,changes:__PRIVATE_convertOverlayedDocumentMapToDocumentMap(lt)}))}(a.localStore,i);a.sharedClientState.addPendingMutation(et.batchId),function(rt,nt,it){let ot=rt.Da[rt.currentUser.toKey()];ot||(ot=new SortedMap(__PRIVATE_primitiveComparator)),ot=ot.insert(nt,it),rt.Da[rt.currentUser.toKey()]=ot}(a,et.batchId,s),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,et.changes),await __PRIVATE_fillWritePipeline(a.remoteStore)}catch(et){const tt=__PRIVATE_wrapInUserErrorIfRecoverable(et,"Failed to persist write");s.reject(tt)}}async function __PRIVATE_syncEngineApplyRemoteEvent(o,i){const s=__PRIVATE_debugCast(o);try{const a=await __PRIVATE_localStoreApplyRemoteEventToLocalCache(s.localStore,i);i.targetChanges.forEach((et,tt)=>{const rt=s.Sa.get(tt);rt&&(__PRIVATE_hardAssert(et.addedDocuments.size+et.modifiedDocuments.size+et.removedDocuments.size<=1),et.addedDocuments.size>0?rt.ma=!0:et.modifiedDocuments.size>0?__PRIVATE_hardAssert(rt.ma):et.removedDocuments.size>0&&(__PRIVATE_hardAssert(rt.ma),rt.ma=!1))}),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,a,i)}catch(a){await __PRIVATE_ignoreIfPrimaryLeaseLoss(a)}}function __PRIVATE_syncEngineApplyOnlineStateChange(o,i,s){const a=__PRIVATE_debugCast(o);if(a.isPrimaryClient&&s===0||!a.isPrimaryClient&&s===1){const et=[];a.ga.forEach((tt,rt)=>{const nt=rt.view.U_(i);nt.snapshot&&et.push(nt.snapshot)}),function(rt,nt){const it=__PRIVATE_debugCast(rt);it.onlineState=nt;let ot=!1;it.queries.forEach((st,lt)=>{for(const at of lt.Q_)at.U_(nt)&&(ot=!0)}),ot&&__PRIVATE_raiseSnapshotsInSyncEvent(it)}(a.eventManager,i),et.length&&a.fa.u_(et),a.onlineState=i,a.isPrimaryClient&&a.sharedClientState.setOnlineState(i)}}async function __PRIVATE_syncEngineRejectListen(o,i,s){const a=__PRIVATE_debugCast(o);a.sharedClientState.updateQueryState(i,"rejected",s);const et=a.Sa.get(i),tt=et&&et.key;if(tt){let rt=new SortedMap(DocumentKey.comparator);rt=rt.insert(tt,MutableDocument.newNoDocument(tt,SnapshotVersion.min()));const nt=__PRIVATE_documentKeySet().add(tt),it=new RemoteEvent(SnapshotVersion.min(),new Map,new SortedMap(__PRIVATE_primitiveComparator),rt,nt);await __PRIVATE_syncEngineApplyRemoteEvent(a,it),a.wa=a.wa.remove(tt),a.Sa.delete(i),__PRIVATE_pumpEnqueuedLimboResolutions(a)}else await __PRIVATE_localStoreReleaseTarget(a.localStore,i,!1).then(()=>__PRIVATE_removeAndCleanupTarget(a,i,s)).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}async function __PRIVATE_syncEngineApplySuccessfulWrite(o,i){const s=__PRIVATE_debugCast(o),a=i.batch.batchId;try{const et=await __PRIVATE_localStoreAcknowledgeBatch(s.localStore,i);__PRIVATE_processUserCallback(s,a,null),__PRIVATE_triggerPendingWritesCallbacks(s,a),s.sharedClientState.updateMutationState(a,"acknowledged"),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,et)}catch(et){await __PRIVATE_ignoreIfPrimaryLeaseLoss(et)}}async function __PRIVATE_syncEngineRejectFailedWrite(o,i,s){const a=__PRIVATE_debugCast(o);try{const et=await function(rt,nt){const it=__PRIVATE_debugCast(rt);return it.persistence.runTransaction("Reject batch","readwrite-primary",ot=>{let st;return it.mutationQueue.lookupMutationBatch(ot,nt).next(lt=>(__PRIVATE_hardAssert(lt!==null),st=lt.keys(),it.mutationQueue.removeMutationBatch(ot,lt))).next(()=>it.mutationQueue.performConsistencyCheck(ot)).next(()=>it.documentOverlayCache.removeOverlaysForBatchId(ot,st,nt)).next(()=>it.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(ot,st)).next(()=>it.localDocuments.getDocuments(ot,st))})}(a.localStore,i);__PRIVATE_processUserCallback(a,i,s),__PRIVATE_triggerPendingWritesCallbacks(a,i),a.sharedClientState.updateMutationState(i,"rejected",s),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(a,et)}catch(et){await __PRIVATE_ignoreIfPrimaryLeaseLoss(et)}}async function __PRIVATE_syncEngineRegisterPendingWritesCallback(o,i){const s=__PRIVATE_debugCast(o);__PRIVATE_canUseNetwork(s.remoteStore)||__PRIVATE_logDebug("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const a=await function(rt){const nt=__PRIVATE_debugCast(rt);return nt.persistence.runTransaction("Get highest unacknowledged batch id","readonly",it=>nt.mutationQueue.getHighestUnacknowledgedBatchId(it))}(s.localStore);if(a===-1)return void i.resolve();const et=s.Ca.get(a)||[];et.push(i),s.Ca.set(a,et)}catch(a){const et=__PRIVATE_wrapInUserErrorIfRecoverable(a,"Initialization of waitForPendingWrites() operation failed");i.reject(et)}}function __PRIVATE_triggerPendingWritesCallbacks(o,i){(o.Ca.get(i)||[]).forEach(s=>{s.resolve()}),o.Ca.delete(i)}function __PRIVATE_processUserCallback(o,i,s){const a=__PRIVATE_debugCast(o);let et=a.Da[a.currentUser.toKey()];if(et){const tt=et.get(i);tt&&(s?tt.reject(s):tt.resolve(),et=et.remove(i)),a.Da[a.currentUser.toKey()]=et}}function __PRIVATE_removeAndCleanupTarget(o,i,s=null){o.sharedClientState.removeLocalQueryTarget(i);for(const a of o.pa.get(i))o.ga.delete(a),s&&o.fa.xa(a,s);o.pa.delete(i),o.isPrimaryClient&&o.ba.Vr(i).forEach(a=>{o.ba.containsKey(a)||__PRIVATE_removeLimboTarget(o,a)})}function __PRIVATE_removeLimboTarget(o,i){o.ya.delete(i.path.canonicalString());const s=o.wa.get(i);s!==null&&(__PRIVATE_remoteStoreUnlisten(o.remoteStore,s),o.wa=o.wa.remove(i),o.Sa.delete(s),__PRIVATE_pumpEnqueuedLimboResolutions(o))}function __PRIVATE_updateTrackedLimbos(o,i,s){for(const a of s)a instanceof __PRIVATE_AddedLimboDocument?(o.ba.addReference(a.key,i),__PRIVATE_trackLimboChange(o,a)):a instanceof __PRIVATE_RemovedLimboDocument?(__PRIVATE_logDebug("SyncEngine","Document no longer in limbo: "+a.key),o.ba.removeReference(a.key,i),o.ba.containsKey(a.key)||__PRIVATE_removeLimboTarget(o,a.key)):fail()}function __PRIVATE_trackLimboChange(o,i){const s=i.key,a=s.path.canonicalString();o.wa.get(s)||o.ya.has(a)||(__PRIVATE_logDebug("SyncEngine","New document in limbo: "+s),o.ya.add(a),__PRIVATE_pumpEnqueuedLimboResolutions(o))}function __PRIVATE_pumpEnqueuedLimboResolutions(o){for(;o.ya.size>0&&o.wa.size<o.maxConcurrentLimboResolutions;){const i=o.ya.values().next().value;o.ya.delete(i);const s=new DocumentKey(ResourcePath.fromString(i)),a=o.va.next();o.Sa.set(a,new LimboResolution(s)),o.wa=o.wa.insert(s,a),__PRIVATE_remoteStoreListen(o.remoteStore,new TargetData(__PRIVATE_queryToTarget(__PRIVATE_newQueryForPath(s.path)),a,"TargetPurposeLimboResolution",__PRIVATE_ListenSequence._e))}}async function __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(o,i,s){const a=__PRIVATE_debugCast(o),et=[],tt=[],rt=[];a.ga.isEmpty()||(a.ga.forEach((nt,it)=>{rt.push(a.Ma(it,i,s).then(ot=>{if((ot||s)&&a.isPrimaryClient&&a.sharedClientState.updateQueryState(it.targetId,ot!=null&&ot.fromCache?"not-current":"current"),ot){et.push(ot);const st=__PRIVATE_LocalViewChanges.Ki(it.targetId,ot);tt.push(st)}}))}),await Promise.all(rt),a.fa.u_(et),await async function(it,ot){const st=__PRIVATE_debugCast(it);try{await st.persistence.runTransaction("notifyLocalViewChanges","readwrite",lt=>PersistencePromise.forEach(ot,at=>PersistencePromise.forEach(at.qi,ut=>st.persistence.referenceDelegate.addReference(lt,at.targetId,ut)).next(()=>PersistencePromise.forEach(at.Qi,ut=>st.persistence.referenceDelegate.removeReference(lt,at.targetId,ut)))))}catch(lt){if(!__PRIVATE_isIndexedDbTransactionError(lt))throw lt;__PRIVATE_logDebug("LocalStore","Failed to update sequence numbers: "+lt)}for(const lt of ot){const at=lt.targetId;if(!lt.fromCache){const ut=st.ns.get(at),ft=ut.snapshotVersion,mt=ut.withLastLimboFreeSnapshotVersion(ft);st.ns=st.ns.insert(at,mt)}}}(a.localStore,tt))}async function __PRIVATE_syncEngineHandleCredentialChange(o,i){const s=__PRIVATE_debugCast(o);if(!s.currentUser.isEqual(i)){__PRIVATE_logDebug("SyncEngine","User change. New user:",i.toKey());const a=await __PRIVATE_localStoreHandleUserChange(s.localStore,i);s.currentUser=i,function(tt,rt){tt.Ca.forEach(nt=>{nt.forEach(it=>{it.reject(new FirestoreError(D.CANCELLED,rt))})}),tt.Ca.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(i,a.removedBatchIds,a.addedBatchIds),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,a.us)}}function __PRIVATE_syncEngineGetRemoteKeysForTarget(o,i){const s=__PRIVATE_debugCast(o),a=s.Sa.get(i);if(a&&a.ma)return __PRIVATE_documentKeySet().add(a.key);{let et=__PRIVATE_documentKeySet();const tt=s.pa.get(i);if(!tt)return et;for(const rt of tt){const nt=s.ga.get(rt);et=et.unionWith(nt.view.la)}return et}}async function __PRIVATE_synchronizeViewAndComputeSnapshot(o,i){const s=__PRIVATE_debugCast(o),a=await __PRIVATE_localStoreExecuteQuery(s.localStore,i.query,!0),et=i.view.Ra(a);return s.isPrimaryClient&&__PRIVATE_updateTrackedLimbos(s,i.targetId,et.da),et}async function __PRIVATE_syncEngineSynchronizeWithChangedDocuments(o,i){const s=__PRIVATE_debugCast(o);return __PRIVATE_localStoreGetNewDocumentChanges(s.localStore,i).then(a=>__PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(s,a))}async function __PRIVATE_syncEngineApplyBatchState(o,i,s,a){const et=__PRIVATE_debugCast(o),tt=await function(nt,it){const ot=__PRIVATE_debugCast(nt),st=__PRIVATE_debugCast(ot.mutationQueue);return ot.persistence.runTransaction("Lookup mutation documents","readonly",lt=>st.vn(lt,it).next(at=>at?ot.localDocuments.getDocuments(lt,at):PersistencePromise.resolve(null)))}(et.localStore,i);tt!==null?(s==="pending"?await __PRIVATE_fillWritePipeline(et.remoteStore):s==="acknowledged"||s==="rejected"?(__PRIVATE_processUserCallback(et,i,a||null),__PRIVATE_triggerPendingWritesCallbacks(et,i),function(nt,it){__PRIVATE_debugCast(__PRIVATE_debugCast(nt).mutationQueue).Mn(it)}(et.localStore,i)):fail(),await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(et,tt)):__PRIVATE_logDebug("SyncEngine","Cannot apply mutation batch with id: "+i)}async function __PRIVATE_syncEngineApplyPrimaryState(o,i){const s=__PRIVATE_debugCast(o);if(__PRIVATE_ensureWatchCallbacks(s),__PRIVATE_syncEngineEnsureWriteCallbacks(s),i===!0&&s.Fa!==!0){const a=s.sharedClientState.getAllActiveQueryTargets(),et=await __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots(s,a.toArray());s.Fa=!0,await __PRIVATE_remoteStoreApplyPrimaryState(s.remoteStore,!0);for(const tt of et)__PRIVATE_remoteStoreListen(s.remoteStore,tt)}else if(i===!1&&s.Fa!==!1){const a=[];let et=Promise.resolve();s.pa.forEach((tt,rt)=>{s.sharedClientState.isLocalQueryTarget(rt)?a.push(rt):et=et.then(()=>(__PRIVATE_removeAndCleanupTarget(s,rt),__PRIVATE_localStoreReleaseTarget(s.localStore,rt,!0))),__PRIVATE_remoteStoreUnlisten(s.remoteStore,rt)}),await et,await __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots(s,a),function(rt){const nt=__PRIVATE_debugCast(rt);nt.Sa.forEach((it,ot)=>{__PRIVATE_remoteStoreUnlisten(nt.remoteStore,ot)}),nt.ba.mr(),nt.Sa=new Map,nt.wa=new SortedMap(DocumentKey.comparator)}(s),s.Fa=!1,await __PRIVATE_remoteStoreApplyPrimaryState(s.remoteStore,!1)}}async function __PRIVATE_synchronizeQueryViewsAndRaiseSnapshots(o,i,s){const a=__PRIVATE_debugCast(o),et=[],tt=[];for(const rt of i){let nt;const it=a.pa.get(rt);if(it&&it.length!==0){nt=await __PRIVATE_localStoreAllocateTarget(a.localStore,__PRIVATE_queryToTarget(it[0]));for(const ot of it){const st=a.ga.get(ot),lt=await __PRIVATE_synchronizeViewAndComputeSnapshot(a,st);lt.snapshot&&tt.push(lt.snapshot)}}else{const ot=await __PRIVATE_localStoreGetCachedTarget(a.localStore,rt);nt=await __PRIVATE_localStoreAllocateTarget(a.localStore,ot),await __PRIVATE_initializeViewAndComputeSnapshot(a,__PRIVATE_synthesizeTargetToQuery(ot),rt,!1,nt.resumeToken)}et.push(nt)}return a.fa.u_(tt),et}function __PRIVATE_synthesizeTargetToQuery(o){return __PRIVATE_newQuery(o.path,o.collectionGroup,o.orderBy,o.filters,o.limit,"F",o.startAt,o.endAt)}function __PRIVATE_syncEngineGetActiveClients(o){return function(s){return __PRIVATE_debugCast(__PRIVATE_debugCast(s).persistence).Li()}(__PRIVATE_debugCast(o).localStore)}async function __PRIVATE_syncEngineApplyTargetState(o,i,s,a){const et=__PRIVATE_debugCast(o);if(et.Fa)return void __PRIVATE_logDebug("SyncEngine","Ignoring unexpected query state notification.");const tt=et.pa.get(i);if(tt&&tt.length>0)switch(s){case"current":case"not-current":{const rt=await __PRIVATE_localStoreGetNewDocumentChanges(et.localStore,__PRIVATE_queryCollectionGroup(tt[0])),nt=RemoteEvent.createSynthesizedRemoteEventForCurrentChange(i,s==="current",ByteString.EMPTY_BYTE_STRING);await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(et,rt,nt);break}case"rejected":await __PRIVATE_localStoreReleaseTarget(et.localStore,i,!0),__PRIVATE_removeAndCleanupTarget(et,i,a);break;default:fail()}}async function __PRIVATE_syncEngineApplyActiveTargetsChange(o,i,s){const a=__PRIVATE_ensureWatchCallbacks(o);if(a.Fa){for(const et of i){if(a.pa.has(et)){__PRIVATE_logDebug("SyncEngine","Adding an already active target "+et);continue}const tt=await __PRIVATE_localStoreGetCachedTarget(a.localStore,et),rt=await __PRIVATE_localStoreAllocateTarget(a.localStore,tt);await __PRIVATE_initializeViewAndComputeSnapshot(a,__PRIVATE_synthesizeTargetToQuery(tt),rt.targetId,!1,rt.resumeToken),__PRIVATE_remoteStoreListen(a.remoteStore,rt)}for(const et of s)a.pa.has(et)&&await __PRIVATE_localStoreReleaseTarget(a.localStore,et,!1).then(()=>{__PRIVATE_remoteStoreUnlisten(a.remoteStore,et),__PRIVATE_removeAndCleanupTarget(a,et)}).catch(__PRIVATE_ignoreIfPrimaryLeaseLoss)}}function __PRIVATE_ensureWatchCallbacks(o){const i=__PRIVATE_debugCast(o);return i.remoteStore.remoteSyncer.applyRemoteEvent=__PRIVATE_syncEngineApplyRemoteEvent.bind(null,i),i.remoteStore.remoteSyncer.getRemoteKeysForTarget=__PRIVATE_syncEngineGetRemoteKeysForTarget.bind(null,i),i.remoteStore.remoteSyncer.rejectListen=__PRIVATE_syncEngineRejectListen.bind(null,i),i.fa.u_=__PRIVATE_eventManagerOnWatchChange.bind(null,i.eventManager),i.fa.xa=__PRIVATE_eventManagerOnWatchError.bind(null,i.eventManager),i}function __PRIVATE_syncEngineEnsureWriteCallbacks(o){const i=__PRIVATE_debugCast(o);return i.remoteStore.remoteSyncer.applySuccessfulWrite=__PRIVATE_syncEngineApplySuccessfulWrite.bind(null,i),i.remoteStore.remoteSyncer.rejectFailedWrite=__PRIVATE_syncEngineRejectFailedWrite.bind(null,i),i}function __PRIVATE_syncEngineLoadBundle(o,i,s){const a=__PRIVATE_debugCast(o);(async function(tt,rt,nt){try{const it=await rt.getMetadata();if(await function(ut,ft){const mt=__PRIVATE_debugCast(ut),yt=__PRIVATE_fromVersion(ft.createTime);return mt.persistence.runTransaction("hasNewerBundle","readonly",ht=>mt.$r.getBundleMetadata(ht,ft.id)).then(ht=>!!ht&&ht.createTime.compareTo(yt)>=0)}(tt.localStore,it))return await rt.close(),nt._completeWith(function(ut){return{taskState:"Success",documentsLoaded:ut.totalDocuments,bytesLoaded:ut.totalBytes,totalDocuments:ut.totalDocuments,totalBytes:ut.totalBytes}}(it)),Promise.resolve(new Set);nt._updateProgress(__PRIVATE_bundleInitialProgress(it));const ot=new __PRIVATE_BundleLoader(it,tt.localStore,rt.serializer);let st=await rt.Oa();for(;st;){const at=await ot.na(st);at&&nt._updateProgress(at),st=await rt.Oa()}const lt=await ot.complete();return await __PRIVATE_syncEngineEmitNewSnapsAndNotifyLocalStore(tt,lt.sa,void 0),await function(ut,ft){const mt=__PRIVATE_debugCast(ut);return mt.persistence.runTransaction("Save bundle","readwrite",yt=>mt.$r.saveBundleMetadata(yt,ft))}(tt.localStore,it),nt._completeWith(lt.progress),Promise.resolve(lt.ia)}catch(it){return __PRIVATE_logWarn("SyncEngine",`Loading bundle failed with ${it}`),nt._failWith(it),Promise.resolve(new Set)}})(a,i,s).then(et=>{a.sharedClientState.notifyBundleLoaded(et)})}class MemoryOfflineComponentProvider{constructor(){this.synchronizeTabs=!1}async initialize(i){this.serializer=__PRIVATE_newSerializer(i.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(i),this.persistence=this.createPersistence(i),await this.persistence.start(),this.localStore=this.createLocalStore(i),this.gcScheduler=this.createGarbageCollectionScheduler(i,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(i,this.localStore)}createGarbageCollectionScheduler(i,s){return null}createIndexBackfillerScheduler(i,s){return null}createLocalStore(i){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,i.initialUser,this.serializer)}createPersistence(i){return new __PRIVATE_MemoryPersistence(__PRIVATE_MemoryEagerDelegate.Hr,this.serializer)}createSharedClientState(i){return new __PRIVATE_MemorySharedClientState}async terminate(){var i,s;(i=this.gcScheduler)===null||i===void 0||i.stop(),(s=this.indexBackfillerScheduler)===null||s===void 0||s.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class __PRIVATE_IndexedDbOfflineComponentProvider extends MemoryOfflineComponentProvider{constructor(i,s,a){super(),this.Na=i,this.cacheSizeBytes=s,this.forceOwnership=a,this.synchronizeTabs=!1}async initialize(i){await super.initialize(i),await this.Na.initialize(this,i),await __PRIVATE_syncEngineEnsureWriteCallbacks(this.Na.syncEngine),await __PRIVATE_fillWritePipeline(this.Na.remoteStore),await this.persistence.fi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}createLocalStore(i){return __PRIVATE_newLocalStore(this.persistence,new __PRIVATE_QueryEngine,i.initialUser,this.serializer)}createGarbageCollectionScheduler(i,s){const a=this.persistence.referenceDelegate.garbageCollector;return new __PRIVATE_LruScheduler(a,i.asyncQueue,s)}createIndexBackfillerScheduler(i,s){const a=new __PRIVATE_IndexBackfiller(s,this.persistence);return new __PRIVATE_IndexBackfillerScheduler(i.asyncQueue,a)}createPersistence(i){const s=__PRIVATE_indexedDbStoragePrefix(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey),a=this.cacheSizeBytes!==void 0?LruParams.withCacheSize(this.cacheSizeBytes):LruParams.DEFAULT;return new __PRIVATE_IndexedDbPersistence(this.synchronizeTabs,s,i.clientId,a,i.asyncQueue,__PRIVATE_getWindow(),getDocument(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(i){return new __PRIVATE_MemorySharedClientState}}class __PRIVATE_MultiTabOfflineComponentProvider extends __PRIVATE_IndexedDbOfflineComponentProvider{constructor(i,s){super(i,s,!1),this.Na=i,this.cacheSizeBytes=s,this.synchronizeTabs=!0}async initialize(i){await super.initialize(i);const s=this.Na.syncEngine;this.sharedClientState instanceof __PRIVATE_WebStorageSharedClientState&&(this.sharedClientState.syncEngine={Zs:__PRIVATE_syncEngineApplyBatchState.bind(null,s),Xs:__PRIVATE_syncEngineApplyTargetState.bind(null,s),eo:__PRIVATE_syncEngineApplyActiveTargetsChange.bind(null,s),Li:__PRIVATE_syncEngineGetActiveClients.bind(null,s),Ys:__PRIVATE_syncEngineSynchronizeWithChangedDocuments.bind(null,s)},await this.sharedClientState.start()),await this.persistence.fi(async a=>{await __PRIVATE_syncEngineApplyPrimaryState(this.Na.syncEngine,a),this.gcScheduler&&(a&&!this.gcScheduler.started?this.gcScheduler.start():a||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(a&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():a||this.indexBackfillerScheduler.stop())})}createSharedClientState(i){const s=__PRIVATE_getWindow();if(!__PRIVATE_WebStorageSharedClientState.D(s))throw new FirestoreError(D.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const a=__PRIVATE_indexedDbStoragePrefix(i.databaseInfo.databaseId,i.databaseInfo.persistenceKey);return new __PRIVATE_WebStorageSharedClientState(s,i.asyncQueue,a,i.clientId,i.initialUser)}}class OnlineComponentProvider{async initialize(i,s){this.localStore||(this.localStore=i.localStore,this.sharedClientState=i.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!i.synchronizeTabs),this.sharedClientState.onlineStateHandler=a=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,a,1),this.remoteStore.remoteSyncer.handleCredentialChange=__PRIVATE_syncEngineHandleCredentialChange.bind(null,this.syncEngine),await __PRIVATE_remoteStoreApplyPrimaryState(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(i){return function(){return new __PRIVATE_EventManagerImpl}()}createDatastore(i){const s=__PRIVATE_newSerializer(i.databaseInfo.databaseId),a=function(tt){return new __PRIVATE_WebChannelConnection(tt)}(i.databaseInfo);return function(tt,rt,nt,it){return new __PRIVATE_DatastoreImpl(tt,rt,nt,it)}(i.authCredentials,i.appCheckCredentials,a,s)}createRemoteStore(i){return function(a,et,tt,rt,nt){return new __PRIVATE_RemoteStoreImpl(a,et,tt,rt,nt)}(this.localStore,this.datastore,i.asyncQueue,s=>__PRIVATE_syncEngineApplyOnlineStateChange(this.syncEngine,s,0),function(){return __PRIVATE_BrowserConnectivityMonitor.D()?new __PRIVATE_BrowserConnectivityMonitor:new __PRIVATE_NoopConnectivityMonitor}())}createSyncEngine(i,s){return function(et,tt,rt,nt,it,ot,st){const lt=new __PRIVATE_SyncEngineImpl(et,tt,rt,nt,it,ot);return st&&(lt.Fa=!0),lt}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,i.initialUser,i.maxConcurrentLimboResolutions,s)}async terminate(){var i;await async function(a){const et=__PRIVATE_debugCast(a);__PRIVATE_logDebug("RemoteStore","RemoteStore shutting down."),et.v_.add(5),await __PRIVATE_disableNetworkInternal(et),et.M_.shutdown(),et.x_.set("Unknown")}(this.remoteStore),(i=this.datastore)===null||i===void 0||i.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_toByteStreamReaderHelper(o,i=10240){let s=0;return{async read(){if(s<o.byteLength){const a={value:o.slice(s,s+i),done:!1};return s+=i,a}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncObserver{constructor(i){this.observer=i,this.muted=!1}next(i){this.observer.next&&this.Ba(this.observer.next,i)}error(i){this.observer.error?this.Ba(this.observer.error,i):__PRIVATE_logError("Uncaught Error in snapshot listener:",i.toString())}La(){this.muted=!0}Ba(i,s){this.muted||setTimeout(()=>{this.muted||i(s)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_BundleReaderImpl{constructor(i,s){this.ka=i,this.serializer=s,this.metadata=new __PRIVATE_Deferred,this.buffer=new Uint8Array,this.qa=function(){return new TextDecoder("utf-8")}(),this.Qa().then(a=>{a&&a.ea()?this.metadata.resolve(a.X_.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(a==null?void 0:a.X_)}`))},a=>this.metadata.reject(a))}close(){return this.ka.cancel()}async getMetadata(){return this.metadata.promise}async Oa(){return await this.getMetadata(),this.Qa()}async Qa(){const i=await this.Ka();if(i===null)return null;const s=this.qa.decode(i),a=Number(s);isNaN(a)&&this.$a(`length string (${s}) is not valid number`);const et=await this.Ua(a);return new __PRIVATE_SizedBundleElement(JSON.parse(et),i.length+a)}Wa(){return this.buffer.findIndex(i=>i===123)}async Ka(){for(;this.Wa()<0&&!await this.Ga(););if(this.buffer.length===0)return null;const i=this.Wa();i<0&&this.$a("Reached the end of bundle when a length string is expected.");const s=this.buffer.slice(0,i);return this.buffer=this.buffer.slice(i),s}async Ua(i){for(;this.buffer.length<i;)await this.Ga()&&this.$a("Reached the end of bundle when more is expected.");const s=this.qa.decode(this.buffer.slice(0,i));return this.buffer=this.buffer.slice(i),s}$a(i){throw this.ka.cancel(),new Error(`Invalid bundle format: ${i}`)}async Ga(){const i=await this.ka.read();if(!i.done){const s=new Uint8Array(this.buffer.length+i.value.length);s.set(this.buffer),s.set(i.value,this.buffer.length),this.buffer=s}return i.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Transaction$2{constructor(i){this.datastore=i,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(i){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new FirestoreError(D.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const s=await async function(et,tt){const rt=__PRIVATE_debugCast(et),nt={documents:tt.map(lt=>__PRIVATE_toName(rt.serializer,lt))},it=await rt.vo("BatchGetDocuments",rt.serializer.databaseId,ResourcePath.emptyPath(),nt,tt.length),ot=new Map;it.forEach(lt=>{const at=__PRIVATE_fromBatchGetDocumentsResponse(rt.serializer,lt);ot.set(at.key.toString(),at)});const st=[];return tt.forEach(lt=>{const at=ot.get(lt.toString());__PRIVATE_hardAssert(!!at),st.push(at)}),st}(this.datastore,i);return s.forEach(a=>this.recordVersion(a)),s}set(i,s){this.write(s.toMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}update(i,s){try{this.write(s.toMutation(i,this.preconditionForUpdate(i)))}catch(a){this.lastTransactionError=a}this.writtenDocs.add(i.toString())}delete(i){this.write(new __PRIVATE_DeleteMutation(i,this.precondition(i))),this.writtenDocs.add(i.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const i=this.readVersions;this.mutations.forEach(s=>{i.delete(s.key.toString())}),i.forEach((s,a)=>{const et=DocumentKey.fromPath(a);this.mutations.push(new __PRIVATE_VerifyMutation(et,this.precondition(et)))}),await async function(a,et){const tt=__PRIVATE_debugCast(a),rt={writes:et.map(nt=>toMutation(tt.serializer,nt))};await tt.So("Commit",tt.serializer.databaseId,ResourcePath.emptyPath(),rt)}(this.datastore,this.mutations),this.committed=!0}recordVersion(i){let s;if(i.isFoundDocument())s=i.version;else{if(!i.isNoDocument())throw fail();s=SnapshotVersion.min()}const a=this.readVersions.get(i.key.toString());if(a){if(!s.isEqual(a))throw new FirestoreError(D.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(i.key.toString(),s)}precondition(i){const s=this.readVersions.get(i.toString());return!this.writtenDocs.has(i.toString())&&s?s.isEqual(SnapshotVersion.min())?Precondition.exists(!1):Precondition.updateTime(s):Precondition.none()}preconditionForUpdate(i){const s=this.readVersions.get(i.toString());if(!this.writtenDocs.has(i.toString())&&s){if(s.isEqual(SnapshotVersion.min()))throw new FirestoreError(D.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Precondition.updateTime(s)}return Precondition.exists(!0)}write(i){this.ensureCommitNotCalled(),this.mutations.push(i)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_TransactionRunner{constructor(i,s,a,et,tt){this.asyncQueue=i,this.datastore=s,this.options=a,this.updateFunction=et,this.deferred=tt,this.za=a.maxAttempts,this.jo=new __PRIVATE_ExponentialBackoff(this.asyncQueue,"transaction_retry")}ja(){this.za-=1,this.Ha()}Ha(){this.jo.qo(async()=>{const i=new Transaction$2(this.datastore),s=this.Ja(i);s&&s.then(a=>{this.asyncQueue.enqueueAndForget(()=>i.commit().then(()=>{this.deferred.resolve(a)}).catch(et=>{this.Ya(et)}))}).catch(a=>{this.Ya(a)})})}Ja(i){try{const s=this.updateFunction(i);return!__PRIVATE_isNullOrUndefined(s)&&s.catch&&s.then?s:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(s){return this.deferred.reject(s),null}}Ya(i){this.za>0&&this.Za(i)?(this.za-=1,this.asyncQueue.enqueueAndForget(()=>(this.Ha(),Promise.resolve()))):this.deferred.reject(i)}Za(i){if(i.name==="FirebaseError"){const s=i.code;return s==="aborted"||s==="failed-precondition"||s==="already-exists"||!__PRIVATE_isPermanentError(s)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreClient{constructor(i,s,a,et){this.authCredentials=i,this.appCheckCredentials=s,this.asyncQueue=a,this.databaseInfo=et,this.user=User.UNAUTHENTICATED,this.clientId=__PRIVATE_AutoId.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(a,async tt=>{__PRIVATE_logDebug("FirestoreClient","Received user=",tt.uid),await this.authCredentialListener(tt),this.user=tt}),this.appCheckCredentials.start(a,tt=>(__PRIVATE_logDebug("FirestoreClient","Received new app check token=",tt),this.appCheckCredentialListener(tt,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(i){this.authCredentialListener=i}setAppCheckTokenChangeListener(i){this.appCheckCredentialListener=i}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new FirestoreError(D.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const i=new __PRIVATE_Deferred;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),i.resolve()}catch(s){const a=__PRIVATE_wrapInUserErrorIfRecoverable(s,"Failed to shutdown persistence");i.reject(a)}}),i.promise}}async function __PRIVATE_setOfflineComponentProvider(o,i){o.asyncQueue.verifyOperationInProgress(),__PRIVATE_logDebug("FirestoreClient","Initializing OfflineComponentProvider");const s=o.configuration;await i.initialize(s);let a=s.initialUser;o.setCredentialChangeListener(async et=>{a.isEqual(et)||(await __PRIVATE_localStoreHandleUserChange(i.localStore,et),a=et)}),i.persistence.setDatabaseDeletedListener(()=>o.terminate()),o._offlineComponents=i}async function __PRIVATE_setOnlineComponentProvider(o,i){o.asyncQueue.verifyOperationInProgress();const s=await __PRIVATE_ensureOfflineComponents(o);__PRIVATE_logDebug("FirestoreClient","Initializing OnlineComponentProvider"),await i.initialize(s,o.configuration),o.setCredentialChangeListener(a=>__PRIVATE_remoteStoreHandleCredentialChange(i.remoteStore,a)),o.setAppCheckTokenChangeListener((a,et)=>__PRIVATE_remoteStoreHandleCredentialChange(i.remoteStore,et)),o._onlineComponents=i}function __PRIVATE_canFallbackFromIndexedDbError(o){return o.name==="FirebaseError"?o.code===D.FAILED_PRECONDITION||o.code===D.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}async function __PRIVATE_ensureOfflineComponents(o){if(!o._offlineComponents)if(o._uninitializedComponentsProvider){__PRIVATE_logDebug("FirestoreClient","Using user provided OfflineComponentProvider");try{await __PRIVATE_setOfflineComponentProvider(o,o._uninitializedComponentsProvider._offline)}catch(i){const s=i;if(!__PRIVATE_canFallbackFromIndexedDbError(s))throw s;__PRIVATE_logWarn("Error using user provided cache. Falling back to memory cache: "+s),await __PRIVATE_setOfflineComponentProvider(o,new MemoryOfflineComponentProvider)}}else __PRIVATE_logDebug("FirestoreClient","Using default OfflineComponentProvider"),await __PRIVATE_setOfflineComponentProvider(o,new MemoryOfflineComponentProvider);return o._offlineComponents}async function __PRIVATE_ensureOnlineComponents(o){return o._onlineComponents||(o._uninitializedComponentsProvider?(__PRIVATE_logDebug("FirestoreClient","Using user provided OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(o,o._uninitializedComponentsProvider._online)):(__PRIVATE_logDebug("FirestoreClient","Using default OnlineComponentProvider"),await __PRIVATE_setOnlineComponentProvider(o,new OnlineComponentProvider))),o._onlineComponents}function __PRIVATE_getPersistence(o){return __PRIVATE_ensureOfflineComponents(o).then(i=>i.persistence)}function __PRIVATE_getLocalStore(o){return __PRIVATE_ensureOfflineComponents(o).then(i=>i.localStore)}function __PRIVATE_getRemoteStore(o){return __PRIVATE_ensureOnlineComponents(o).then(i=>i.remoteStore)}function __PRIVATE_getSyncEngine(o){return __PRIVATE_ensureOnlineComponents(o).then(i=>i.syncEngine)}function __PRIVATE_getDatastore(o){return __PRIVATE_ensureOnlineComponents(o).then(i=>i.datastore)}async function __PRIVATE_getEventManager(o){const i=await __PRIVATE_ensureOnlineComponents(o),s=i.eventManager;return s.onListen=__PRIVATE_syncEngineListen.bind(null,i.syncEngine),s.onUnlisten=__PRIVATE_syncEngineUnlisten.bind(null,i.syncEngine),s}function __PRIVATE_firestoreClientEnableNetwork(o){return o.asyncQueue.enqueue(async()=>{const i=await __PRIVATE_getPersistence(o),s=await __PRIVATE_getRemoteStore(o);return i.setNetworkEnabled(!0),function(et){const tt=__PRIVATE_debugCast(et);return tt.v_.delete(0),__PRIVATE_enableNetworkInternal(tt)}(s)})}function __PRIVATE_firestoreClientDisableNetwork(o){return o.asyncQueue.enqueue(async()=>{const i=await __PRIVATE_getPersistence(o),s=await __PRIVATE_getRemoteStore(o);return i.setNetworkEnabled(!1),async function(et){const tt=__PRIVATE_debugCast(et);tt.v_.add(0),await __PRIVATE_disableNetworkInternal(tt),tt.x_.set("Offline")}(s)})}function __PRIVATE_firestoreClientGetDocumentFromLocalCache(o,i){const s=new __PRIVATE_Deferred;return o.asyncQueue.enqueueAndForget(async()=>async function(et,tt,rt){try{const nt=await function(ot,st){const lt=__PRIVATE_debugCast(ot);return lt.persistence.runTransaction("read document","readonly",at=>lt.localDocuments.getDocument(at,st))}(et,tt);nt.isFoundDocument()?rt.resolve(nt):nt.isNoDocument()?rt.resolve(null):rt.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(nt){const it=__PRIVATE_wrapInUserErrorIfRecoverable(nt,`Failed to get document '${tt} from cache`);rt.reject(it)}}(await __PRIVATE_getLocalStore(o),i,s)),s.promise}function __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(o,i,s={}){const a=new __PRIVATE_Deferred;return o.asyncQueue.enqueueAndForget(async()=>function(tt,rt,nt,it,ot){const st=new __PRIVATE_AsyncObserver({next:at=>{rt.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(tt,lt));const ut=at.docs.has(nt);!ut&&at.fromCache?ot.reject(new FirestoreError(D.UNAVAILABLE,"Failed to get document because the client is offline.")):ut&&at.fromCache&&it&&it.source==="server"?ot.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):ot.resolve(at)},error:at=>ot.reject(at)}),lt=new __PRIVATE_QueryListener(__PRIVATE_newQueryForPath(nt.path),st,{includeMetadataChanges:!0,Z_:!0});return __PRIVATE_eventManagerListen(tt,lt)}(await __PRIVATE_getEventManager(o),o.asyncQueue,i,s,a)),a.promise}function __PRIVATE_firestoreClientGetDocumentsFromLocalCache(o,i){const s=new __PRIVATE_Deferred;return o.asyncQueue.enqueueAndForget(async()=>async function(et,tt,rt){try{const nt=await __PRIVATE_localStoreExecuteQuery(et,tt,!0),it=new __PRIVATE_View(tt,nt.hs),ot=it.ha(nt.documents),st=it.applyChanges(ot,!1);rt.resolve(st.snapshot)}catch(nt){const it=__PRIVATE_wrapInUserErrorIfRecoverable(nt,`Failed to execute query '${tt} against cache`);rt.reject(it)}}(await __PRIVATE_getLocalStore(o),i,s)),s.promise}function __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(o,i,s={}){const a=new __PRIVATE_Deferred;return o.asyncQueue.enqueueAndForget(async()=>function(tt,rt,nt,it,ot){const st=new __PRIVATE_AsyncObserver({next:at=>{rt.enqueueAndForget(()=>__PRIVATE_eventManagerUnlisten(tt,lt)),at.fromCache&&it.source==="server"?ot.reject(new FirestoreError(D.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):ot.resolve(at)},error:at=>ot.reject(at)}),lt=new __PRIVATE_QueryListener(nt,st,{includeMetadataChanges:!0,Z_:!0});return __PRIVATE_eventManagerListen(tt,lt)}(await __PRIVATE_getEventManager(o),o.asyncQueue,i,s,a)),a.promise}function __PRIVATE_firestoreClientAddSnapshotsInSyncListener(o,i){const s=new __PRIVATE_AsyncObserver(i);return o.asyncQueue.enqueueAndForget(async()=>function(et,tt){__PRIVATE_debugCast(et).K_.add(tt),tt.next()}(await __PRIVATE_getEventManager(o),s)),()=>{s.La(),o.asyncQueue.enqueueAndForget(async()=>function(et,tt){__PRIVATE_debugCast(et).K_.delete(tt)}(await __PRIVATE_getEventManager(o),s))}}function __PRIVATE_firestoreClientLoadBundle(o,i,s,a){const et=function(rt,nt){let it;return it=typeof rt=="string"?__PRIVATE_newTextEncoder().encode(rt):rt,function(st,lt){return new __PRIVATE_BundleReaderImpl(st,lt)}(function(st,lt){if(st instanceof Uint8Array)return __PRIVATE_toByteStreamReaderHelper(st,lt);if(st instanceof ArrayBuffer)return __PRIVATE_toByteStreamReaderHelper(new Uint8Array(st),lt);if(st instanceof ReadableStream)return st.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(it),nt)}(s,__PRIVATE_newSerializer(i));o.asyncQueue.enqueueAndForget(async()=>{__PRIVATE_syncEngineLoadBundle(await __PRIVATE_getSyncEngine(o),et,a)})}function __PRIVATE_firestoreClientGetNamedQuery(o,i){return o.asyncQueue.enqueue(async()=>function(a,et){const tt=__PRIVATE_debugCast(a);return tt.persistence.runTransaction("Get named query","readonly",rt=>tt.$r.getNamedQuery(rt,et))}(await __PRIVATE_getLocalStore(o),i))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_cloneLongPollingOptions(o){const i={};return o.timeoutSeconds!==void 0&&(i.timeoutSeconds=o.timeoutSeconds),i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const me=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateNonEmptyArgument(o,i,s){if(!s)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${o}() cannot be called with an empty ${i}.`)}function __PRIVATE_validateIsNotUsedTogether(o,i,s,a){if(i===!0&&a===!0)throw new FirestoreError(D.INVALID_ARGUMENT,`${o} and ${s} cannot be used together.`)}function __PRIVATE_validateDocumentPath(o){if(!DocumentKey.isDocumentKey(o))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${o} has ${o.length}.`)}function __PRIVATE_validateCollectionPath(o){if(DocumentKey.isDocumentKey(o))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${o} has ${o.length}.`)}function __PRIVATE_valueDescription(o){if(o===void 0)return"undefined";if(o===null)return"null";if(typeof o=="string")return o.length>20&&(o=`${o.substring(0,20)}...`),JSON.stringify(o);if(typeof o=="number"||typeof o=="boolean")return""+o;if(typeof o=="object"){if(o instanceof Array)return"an array";{const i=function(a){return a.constructor?a.constructor.name:null}(o);return i?`a custom ${i} object`:"an object"}}return typeof o=="function"?"a function":fail()}function __PRIVATE_cast(o,i){if("_delegate"in o&&(o=o._delegate),!(o instanceof i)){if(i.name===o.constructor.name)throw new FirestoreError(D.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=__PRIVATE_valueDescription(o);throw new FirestoreError(D.INVALID_ARGUMENT,`Expected type '${i.name}', but it was: ${s}`)}}return o}function __PRIVATE_validatePositiveNumber(o,i){if(i<=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${o}() requires a positive number, but it was: ${i}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FirestoreSettingsImpl{constructor(i){var s,a;if(i.host===void 0){if(i.ssl!==void 0)throw new FirestoreError(D.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=i.host,this.ssl=(s=i.ssl)===null||s===void 0||s;if(this.credentials=i.credentials,this.ignoreUndefinedProperties=!!i.ignoreUndefinedProperties,this.localCache=i.localCache,i.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(i.cacheSizeBytes!==-1&&i.cacheSizeBytes<1048576)throw new FirestoreError(D.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=i.cacheSizeBytes}__PRIVATE_validateIsNotUsedTogether("experimentalForceLongPolling",i.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",i.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!i.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:i.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!i.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=__PRIVATE_cloneLongPollingOptions((a=i.experimentalLongPollingOptions)!==null&&a!==void 0?a:{}),function(tt){if(tt.timeoutSeconds!==void 0){if(isNaN(tt.timeoutSeconds))throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${tt.timeoutSeconds} (must not be NaN)`);if(tt.timeoutSeconds<5)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${tt.timeoutSeconds} (minimum allowed value is 5)`);if(tt.timeoutSeconds>30)throw new FirestoreError(D.INVALID_ARGUMENT,`invalid long polling timeout: ${tt.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!i.useFetchStreams}isEqual(i){return this.host===i.host&&this.ssl===i.ssl&&this.credentials===i.credentials&&this.cacheSizeBytes===i.cacheSizeBytes&&this.experimentalForceLongPolling===i.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===i.experimentalAutoDetectLongPolling&&function(a,et){return a.timeoutSeconds===et.timeoutSeconds}(this.experimentalLongPollingOptions,i.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===i.ignoreUndefinedProperties&&this.useFetchStreams===i.useFetchStreams}}class Firestore$1{constructor(i,s,a,et){this._authCredentials=i,this._appCheckCredentials=s,this._databaseId=a,this._app=et,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new FirestoreSettingsImpl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(i){if(this._settingsFrozen)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new FirestoreSettingsImpl(i),i.credentials!==void 0&&(this._authCredentials=function(a){if(!a)return new __PRIVATE_EmptyAuthCredentialsProvider;switch(a.type){case"firstParty":return new __PRIVATE_FirstPartyAuthCredentialsProvider(a.sessionIndex||"0",a.iamToken||null,a.authTokenFactory||null);case"provider":return a.client;default:throw new FirestoreError(D.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(i.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const a=me.get(s);a&&(__PRIVATE_logDebug("ComponentProvider","Removing Datastore"),me.delete(s),a.terminate())}(this),Promise.resolve()}}function connectFirestoreEmulator(o,i,s,a={}){var et;const tt=(o=__PRIVATE_cast(o,Firestore$1))._getSettings(),rt=`${i}:${s}`;if(tt.host!=="firestore.googleapis.com"&&tt.host!==rt&&__PRIVATE_logWarn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),o._setSettings(Object.assign(Object.assign({},tt),{host:rt,ssl:!1})),a.mockUserToken){let nt,it;if(typeof a.mockUserToken=="string")nt=a.mockUserToken,it=User.MOCK_USER;else{nt=createMockUserToken(a.mockUserToken,(et=o._app)===null||et===void 0?void 0:et.options.projectId);const ot=a.mockUserToken.sub||a.mockUserToken.user_id;if(!ot)throw new FirestoreError(D.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");it=new User(ot)}o._authCredentials=new __PRIVATE_EmulatorAuthCredentialsProvider(new __PRIVATE_OAuthToken(nt,it))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Query$1=class Ly{constructor(i,s,a){this.converter=s,this._query=a,this.type="query",this.firestore=i}withConverter(i){return new Ly(this.firestore,i,this._query)}},DocumentReference$1=class jy{constructor(i,s,a){this.converter=s,this._key=a,this.type="document",this.firestore=i}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new CollectionReference$1(this.firestore,this.converter,this._key.path.popLast())}withConverter(i){return new jy(this.firestore,i,this._key)}},CollectionReference$1=class Ny extends Query$1{constructor(i,s,a){super(i,s,__PRIVATE_newQueryForPath(a)),this._path=a,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const i=this._path.popLast();return i.isEmpty()?null:new DocumentReference$1(this.firestore,null,new DocumentKey(i))}withConverter(i){return new Ny(this.firestore,i,this._path)}};function collection(o,i,...s){if(o=getModularInstance(o),__PRIVATE_validateNonEmptyArgument("collection","path",i),o instanceof Firestore$1){const a=ResourcePath.fromString(i,...s);return __PRIVATE_validateCollectionPath(a),new CollectionReference$1(o,null,a)}{if(!(o instanceof DocumentReference$1||o instanceof CollectionReference$1))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=o._path.child(ResourcePath.fromString(i,...s));return __PRIVATE_validateCollectionPath(a),new CollectionReference$1(o.firestore,null,a)}}function collectionGroup(o,i){if(o=__PRIVATE_cast(o,Firestore$1),__PRIVATE_validateNonEmptyArgument("collectionGroup","collection id",i),i.indexOf("/")>=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid collection ID '${i}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Query$1(o,null,function(a){return new __PRIVATE_QueryImpl(ResourcePath.emptyPath(),a)}(i))}function doc(o,i,...s){if(o=getModularInstance(o),arguments.length===1&&(i=__PRIVATE_AutoId.newId()),__PRIVATE_validateNonEmptyArgument("doc","path",i),o instanceof Firestore$1){const a=ResourcePath.fromString(i,...s);return __PRIVATE_validateDocumentPath(a),new DocumentReference$1(o,null,new DocumentKey(a))}{if(!(o instanceof DocumentReference$1||o instanceof CollectionReference$1))throw new FirestoreError(D.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const a=o._path.child(ResourcePath.fromString(i,...s));return __PRIVATE_validateDocumentPath(a),new DocumentReference$1(o.firestore,o instanceof CollectionReference$1?o.converter:null,new DocumentKey(a))}}function refEqual(o,i){return o=getModularInstance(o),i=getModularInstance(i),(o instanceof DocumentReference$1||o instanceof CollectionReference$1)&&(i instanceof DocumentReference$1||i instanceof CollectionReference$1)&&o.firestore===i.firestore&&o.path===i.path&&o.converter===i.converter}function queryEqual(o,i){return o=getModularInstance(o),i=getModularInstance(i),o instanceof Query$1&&i instanceof Query$1&&o.firestore===i.firestore&&__PRIVATE_queryEquals(o._query,i._query)&&o.converter===i.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __PRIVATE_AsyncQueueImpl{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new __PRIVATE_ExponentialBackoff(this,"async_queue_retry"),this._u=()=>{const s=getDocument();s&&__PRIVATE_logDebug("AsyncQueue","Visibility state changed to "+s.visibilityState),this.jo.Ko()};const i=getDocument();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(i){this.enqueue(i)}enqueueAndForgetEvenWhileRestricted(i){this.au(),this.uu(i)}enterRestrictedMode(i){if(!this.tu){this.tu=!0,this.su=i||!1;const s=getDocument();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._u)}}enqueue(i){if(this.au(),this.tu)return new Promise(()=>{});const s=new __PRIVATE_Deferred;return this.uu(()=>this.tu&&this.su?Promise.resolve():(i().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(i){this.enqueueAndForget(()=>(this.eu.push(i),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(i){if(!__PRIVATE_isIndexedDbTransactionError(i))throw i;__PRIVATE_logDebug("AsyncQueue","Operation failed with retryable error: "+i)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(i){const s=this.Xa.then(()=>(this.iu=!0,i().catch(a=>{this.ru=a,this.iu=!1;const et=function(rt){let nt=rt.message||"";return rt.stack&&(nt=rt.stack.includes(rt.message)?rt.stack:rt.message+`
`+rt.stack),nt}(a);throw __PRIVATE_logError("INTERNAL UNHANDLED ERROR: ",et),a}).then(a=>(this.iu=!1,a))));return this.Xa=s,s}enqueueAfterDelay(i,s,a){this.au(),this.ou.indexOf(i)>-1&&(s=0);const et=DelayedOperation.createAndSchedule(this,i,s,a,tt=>this.lu(tt));return this.nu.push(et),et}au(){this.ru&&fail()}verifyOperationInProgress(){}async hu(){let i;do i=this.Xa,await i;while(i!==this.Xa)}Pu(i){for(const s of this.nu)if(s.timerId===i)return!0;return!1}Iu(i){return this.hu().then(()=>{this.nu.sort((s,a)=>s.targetTimeMs-a.targetTimeMs);for(const s of this.nu)if(s.skipDelay(),i!=="all"&&s.timerId===i)break;return this.hu()})}Tu(i){this.ou.push(i)}lu(i){const s=this.nu.indexOf(i);this.nu.splice(s,1)}}function __PRIVATE_isPartialObserver(o){return function(s,a){if(typeof s!="object"||s===null)return!1;const et=s;for(const tt of a)if(tt in et&&typeof et[tt]=="function")return!0;return!1}(o,["next","error","complete"])}class LoadBundleTask{constructor(){this._progressObserver={},this._taskCompletionResolver=new __PRIVATE_Deferred,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(i,s,a){this._progressObserver={next:i,error:s,complete:a}}catch(i){return this._taskCompletionResolver.promise.catch(i)}then(i,s){return this._taskCompletionResolver.promise.then(i,s)}_completeWith(i){this._updateProgress(i),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(i)}_failWith(i){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(i),this._taskCompletionResolver.reject(i)}_updateProgress(i){this._lastProgress=i,this._progressObserver.next&&this._progressObserver.next(i)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fe=-1;let Firestore$2=class extends Firestore$1{constructor(i,s,a,et){super(i,s,a,et),this.type="firestore",this._queue=function(){return new __PRIVATE_AsyncQueueImpl}(),this._persistenceKey=(et==null?void 0:et.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||__PRIVATE_configureFirestore(this),this._firestoreClient.terminate()}};function getFirestore(o,i){const s=typeof o=="object"?o:getApp(),a=typeof o=="string"?o:i||"(default)",et=_getProvider(s,"firestore").getImmediate({identifier:a});if(!et._initialized){const tt=getDefaultEmulatorHostnameAndPort("firestore");tt&&connectFirestoreEmulator(et,...tt)}return et}function ensureFirestoreConfigured(o){return o._firestoreClient||__PRIVATE_configureFirestore(o),o._firestoreClient.verifyNotTerminated(),o._firestoreClient}function __PRIVATE_configureFirestore(o){var i,s,a;const et=o._freezeSettings(),tt=function(nt,it,ot,st){return new DatabaseInfo(nt,it,ot,st.host,st.ssl,st.experimentalForceLongPolling,st.experimentalAutoDetectLongPolling,__PRIVATE_cloneLongPollingOptions(st.experimentalLongPollingOptions),st.useFetchStreams)}(o._databaseId,((i=o._app)===null||i===void 0?void 0:i.options.appId)||"",o._persistenceKey,et);o._firestoreClient=new FirestoreClient(o._authCredentials,o._appCheckCredentials,o._queue,tt),!((s=et.localCache)===null||s===void 0)&&s._offlineComponentProvider&&(!((a=et.localCache)===null||a===void 0)&&a._onlineComponentProvider)&&(o._firestoreClient._uninitializedComponentsProvider={_offlineKind:et.localCache.kind,_offline:et.localCache._offlineComponentProvider,_online:et.localCache._onlineComponentProvider})}function enableIndexedDbPersistence(o,i){__PRIVATE_verifyNotInitialized(o=__PRIVATE_cast(o,Firestore$2));const s=ensureFirestoreConfigured(o);if(s._uninitializedComponentsProvider)throw new FirestoreError(D.FAILED_PRECONDITION,"SDK cache is already specified.");__PRIVATE_logWarn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const a=o._freezeSettings(),et=new OnlineComponentProvider;return __PRIVATE_setPersistenceProviders(s,et,new __PRIVATE_IndexedDbOfflineComponentProvider(et,a.cacheSizeBytes,i==null?void 0:i.forceOwnership))}function enableMultiTabIndexedDbPersistence(o){__PRIVATE_verifyNotInitialized(o=__PRIVATE_cast(o,Firestore$2));const i=ensureFirestoreConfigured(o);if(i._uninitializedComponentsProvider)throw new FirestoreError(D.FAILED_PRECONDITION,"SDK cache is already specified.");__PRIVATE_logWarn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const s=o._freezeSettings(),a=new OnlineComponentProvider;return __PRIVATE_setPersistenceProviders(i,a,new __PRIVATE_MultiTabOfflineComponentProvider(a,s.cacheSizeBytes))}function __PRIVATE_setPersistenceProviders(o,i,s){const a=new __PRIVATE_Deferred;return o.asyncQueue.enqueue(async()=>{try{await __PRIVATE_setOfflineComponentProvider(o,s),await __PRIVATE_setOnlineComponentProvider(o,i),a.resolve()}catch(et){const tt=et;if(!__PRIVATE_canFallbackFromIndexedDbError(tt))throw tt;__PRIVATE_logWarn("Error enabling indexeddb cache. Falling back to memory cache: "+tt),a.reject(tt)}}).then(()=>a.promise)}function clearIndexedDbPersistence(o){if(o._initialized&&!o._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const i=new __PRIVATE_Deferred;return o._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(a){if(!__PRIVATE_SimpleDb.D())return Promise.resolve();const et=a+"main";await __PRIVATE_SimpleDb.delete(et)}(__PRIVATE_indexedDbStoragePrefix(o._databaseId,o._persistenceKey)),i.resolve()}catch(s){i.reject(s)}}),i.promise}function waitForPendingWrites(o){return function(s){const a=new __PRIVATE_Deferred;return s.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineRegisterPendingWritesCallback(await __PRIVATE_getSyncEngine(s),a)),a.promise}(ensureFirestoreConfigured(o=__PRIVATE_cast(o,Firestore$2)))}function enableNetwork(o){return __PRIVATE_firestoreClientEnableNetwork(ensureFirestoreConfigured(o=__PRIVATE_cast(o,Firestore$2)))}function disableNetwork(o){return __PRIVATE_firestoreClientDisableNetwork(ensureFirestoreConfigured(o=__PRIVATE_cast(o,Firestore$2)))}function loadBundle(o,i){const s=ensureFirestoreConfigured(o=__PRIVATE_cast(o,Firestore$2)),a=new LoadBundleTask;return __PRIVATE_firestoreClientLoadBundle(s,o._databaseId,i,a),a}function namedQuery(o,i){return __PRIVATE_firestoreClientGetNamedQuery(ensureFirestoreConfigured(o=__PRIVATE_cast(o,Firestore$2)),i).then(s=>s?new Query$1(o,null,s.query):null)}function __PRIVATE_verifyNotInitialized(o){if(o._initialized||o._terminated)throw new FirestoreError(D.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bytes{constructor(i){this._byteString=i}static fromBase64String(i){try{return new Bytes(ByteString.fromBase64String(i))}catch(s){throw new FirestoreError(D.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(i){return new Bytes(ByteString.fromUint8Array(i))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(i){return this._byteString.isEqual(i._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldPath$2=class{constructor(...i){for(let s=0;s<i.length;++s)if(i[s].length===0)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new FieldPath$1(i)}isEqual(i){return this._internalPath.isEqual(i._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FieldValue$1=class{constructor(i){this._methodName=i}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GeoPoint{constructor(i,s){if(!isFinite(i)||i<-90||i>90)throw new FirestoreError(D.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+i);if(!isFinite(s)||s<-180||s>180)throw new FirestoreError(D.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=i,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(i){return this._lat===i._lat&&this._long===i._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(i){return __PRIVATE_primitiveComparator(this._lat,i._lat)||__PRIVATE_primitiveComparator(this._long,i._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ge=/^__.*__$/;class ParsedSetData{constructor(i,s,a){this.data=i,this.fieldMask=s,this.fieldTransforms=a}toMutation(i,s){return this.fieldMask!==null?new __PRIVATE_PatchMutation(i,this.data,this.fieldMask,s,this.fieldTransforms):new __PRIVATE_SetMutation(i,this.data,s,this.fieldTransforms)}}class ParsedUpdateData{constructor(i,s,a){this.data=i,this.fieldMask=s,this.fieldTransforms=a}toMutation(i,s){return new __PRIVATE_PatchMutation(i,this.data,this.fieldMask,s,this.fieldTransforms)}}function __PRIVATE_isWrite(o){switch(o){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw fail()}}class __PRIVATE_ParseContextImpl{constructor(i,s,a,et,tt,rt){this.settings=i,this.databaseId=s,this.serializer=a,this.ignoreUndefinedProperties=et,tt===void 0&&this.Eu(),this.fieldTransforms=tt||[],this.fieldMask=rt||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(i){return new __PRIVATE_ParseContextImpl(Object.assign(Object.assign({},this.settings),i),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(i){var s;const a=(s=this.path)===null||s===void 0?void 0:s.child(i),et=this.Au({path:a,Vu:!1});return et.mu(i),et}fu(i){var s;const a=(s=this.path)===null||s===void 0?void 0:s.child(i),et=this.Au({path:a,Vu:!1});return et.Eu(),et}gu(i){return this.Au({path:void 0,Vu:!0})}pu(i){return __PRIVATE_createError(i,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(i){return this.fieldMask.find(s=>i.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>i.isPrefixOf(s.field))!==void 0}Eu(){if(this.path)for(let i=0;i<this.path.length;i++)this.mu(this.path.get(i))}mu(i){if(i.length===0)throw this.pu("Document fields must not be empty");if(__PRIVATE_isWrite(this.du)&&ge.test(i))throw this.pu('Document fields cannot begin and end with "__"')}}class __PRIVATE_UserDataReader{constructor(i,s,a){this.databaseId=i,this.ignoreUndefinedProperties=s,this.serializer=a||__PRIVATE_newSerializer(i)}Su(i,s,a,et=!1){return new __PRIVATE_ParseContextImpl({du:i,methodName:s,wu:a,path:FieldPath$1.emptyPath(),Vu:!1,yu:et},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function __PRIVATE_newUserDataReader(o){const i=o._freezeSettings(),s=__PRIVATE_newSerializer(o._databaseId);return new __PRIVATE_UserDataReader(o._databaseId,!!i.ignoreUndefinedProperties,s)}function __PRIVATE_parseSetData(o,i,s,a,et,tt={}){const rt=o.Su(tt.merge||tt.mergeFields?2:0,i,s,et);__PRIVATE_validatePlainObject("Data must be an object, but it was:",rt,a);const nt=__PRIVATE_parseObject(a,rt);let it,ot;if(tt.merge)it=new FieldMask(rt.fieldMask),ot=rt.fieldTransforms;else if(tt.mergeFields){const st=[];for(const lt of tt.mergeFields){const at=__PRIVATE_fieldPathFromArgument$1(i,lt,s);if(!rt.contains(at))throw new FirestoreError(D.INVALID_ARGUMENT,`Field '${at}' is specified in your field mask but missing from your input data.`);__PRIVATE_fieldMaskContains(st,at)||st.push(at)}it=new FieldMask(st),ot=rt.fieldTransforms.filter(lt=>it.covers(lt.field))}else it=null,ot=rt.fieldTransforms;return new ParsedSetData(new ObjectValue(nt),it,ot)}class __PRIVATE_DeleteFieldValueImpl extends FieldValue$1{_toFieldTransform(i){if(i.du!==2)throw i.du===1?i.pu(`${this._methodName}() can only appear at the top level of your update data`):i.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return i.fieldMask.push(i.path),null}isEqual(i){return i instanceof __PRIVATE_DeleteFieldValueImpl}}function __PRIVATE_createSentinelChildContext(o,i,s){return new __PRIVATE_ParseContextImpl({du:3,wu:i.settings.wu,methodName:o._methodName,Vu:s},i.databaseId,i.serializer,i.ignoreUndefinedProperties)}class __PRIVATE_ServerTimestampFieldValueImpl extends FieldValue$1{_toFieldTransform(i){return new FieldTransform(i.path,new __PRIVATE_ServerTimestampTransform)}isEqual(i){return i instanceof __PRIVATE_ServerTimestampFieldValueImpl}}class __PRIVATE_ArrayUnionFieldValueImpl extends FieldValue$1{constructor(i,s){super(i),this.bu=s}_toFieldTransform(i){const s=__PRIVATE_createSentinelChildContext(this,i,!0),a=this.bu.map(tt=>__PRIVATE_parseData(tt,s)),et=new __PRIVATE_ArrayUnionTransformOperation(a);return new FieldTransform(i.path,et)}isEqual(i){return i instanceof __PRIVATE_ArrayUnionFieldValueImpl&&deepEqual$1(this.bu,i.bu)}}class __PRIVATE_ArrayRemoveFieldValueImpl extends FieldValue$1{constructor(i,s){super(i),this.bu=s}_toFieldTransform(i){const s=__PRIVATE_createSentinelChildContext(this,i,!0),a=this.bu.map(tt=>__PRIVATE_parseData(tt,s)),et=new __PRIVATE_ArrayRemoveTransformOperation(a);return new FieldTransform(i.path,et)}isEqual(i){return i instanceof __PRIVATE_ArrayRemoveFieldValueImpl&&deepEqual$1(this.bu,i.bu)}}class __PRIVATE_NumericIncrementFieldValueImpl extends FieldValue$1{constructor(i,s){super(i),this.Du=s}_toFieldTransform(i){const s=new __PRIVATE_NumericIncrementTransformOperation(i.serializer,toNumber(i.serializer,this.Du));return new FieldTransform(i.path,s)}isEqual(i){return i instanceof __PRIVATE_NumericIncrementFieldValueImpl&&this.Du===i.Du}}function __PRIVATE_parseUpdateData(o,i,s,a){const et=o.Su(1,i,s);__PRIVATE_validatePlainObject("Data must be an object, but it was:",et,a);const tt=[],rt=ObjectValue.empty();forEach(a,(it,ot)=>{const st=__PRIVATE_fieldPathFromDotSeparatedString(i,it,s);ot=getModularInstance(ot);const lt=et.fu(st);if(ot instanceof __PRIVATE_DeleteFieldValueImpl)tt.push(st);else{const at=__PRIVATE_parseData(ot,lt);at!=null&&(tt.push(st),rt.set(st,at))}});const nt=new FieldMask(tt);return new ParsedUpdateData(rt,nt,et.fieldTransforms)}function __PRIVATE_parseUpdateVarargs(o,i,s,a,et,tt){const rt=o.Su(1,i,s),nt=[__PRIVATE_fieldPathFromArgument$1(i,a,s)],it=[et];if(tt.length%2!=0)throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${i}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let at=0;at<tt.length;at+=2)nt.push(__PRIVATE_fieldPathFromArgument$1(i,tt[at])),it.push(tt[at+1]);const ot=[],st=ObjectValue.empty();for(let at=nt.length-1;at>=0;--at)if(!__PRIVATE_fieldMaskContains(ot,nt[at])){const ut=nt[at];let ft=it[at];ft=getModularInstance(ft);const mt=rt.fu(ut);if(ft instanceof __PRIVATE_DeleteFieldValueImpl)ot.push(ut);else{const yt=__PRIVATE_parseData(ft,mt);yt!=null&&(ot.push(ut),st.set(ut,yt))}}const lt=new FieldMask(ot);return new ParsedUpdateData(st,lt,rt.fieldTransforms)}function __PRIVATE_parseQueryValue(o,i,s,a=!1){return __PRIVATE_parseData(s,o.Su(a?4:3,i))}function __PRIVATE_parseData(o,i){if(__PRIVATE_looksLikeJsonObject(o=getModularInstance(o)))return __PRIVATE_validatePlainObject("Unsupported field value:",i,o),__PRIVATE_parseObject(o,i);if(o instanceof FieldValue$1)return function(a,et){if(!__PRIVATE_isWrite(et.du))throw et.pu(`${a._methodName}() can only be used with update() and set()`);if(!et.path)throw et.pu(`${a._methodName}() is not currently supported inside arrays`);const tt=a._toFieldTransform(et);tt&&et.fieldTransforms.push(tt)}(o,i),null;if(o===void 0&&i.ignoreUndefinedProperties)return null;if(i.path&&i.fieldMask.push(i.path),o instanceof Array){if(i.settings.Vu&&i.du!==4)throw i.pu("Nested arrays are not supported");return function(a,et){const tt=[];let rt=0;for(const nt of a){let it=__PRIVATE_parseData(nt,et.gu(rt));it==null&&(it={nullValue:"NULL_VALUE"}),tt.push(it),rt++}return{arrayValue:{values:tt}}}(o,i)}return function(a,et){if((a=getModularInstance(a))===null)return{nullValue:"NULL_VALUE"};if(typeof a=="number")return toNumber(et.serializer,a);if(typeof a=="boolean")return{booleanValue:a};if(typeof a=="string")return{stringValue:a};if(a instanceof Date){const tt=Timestamp.fromDate(a);return{timestampValue:toTimestamp(et.serializer,tt)}}if(a instanceof Timestamp){const tt=new Timestamp(a.seconds,1e3*Math.floor(a.nanoseconds/1e3));return{timestampValue:toTimestamp(et.serializer,tt)}}if(a instanceof GeoPoint)return{geoPointValue:{latitude:a.latitude,longitude:a.longitude}};if(a instanceof Bytes)return{bytesValue:__PRIVATE_toBytes(et.serializer,a._byteString)};if(a instanceof DocumentReference$1){const tt=et.databaseId,rt=a.firestore._databaseId;if(!rt.isEqual(tt))throw et.pu(`Document reference is for database ${rt.projectId}/${rt.database} but should be for database ${tt.projectId}/${tt.database}`);return{referenceValue:__PRIVATE_toResourceName(a.firestore._databaseId||et.databaseId,a._key.path)}}throw et.pu(`Unsupported field value: ${__PRIVATE_valueDescription(a)}`)}(o,i)}function __PRIVATE_parseObject(o,i){const s={};return isEmpty$4(o)?i.path&&i.path.length>0&&i.fieldMask.push(i.path):forEach(o,(a,et)=>{const tt=__PRIVATE_parseData(et,i.Ru(a));tt!=null&&(s[a]=tt)}),{mapValue:{fields:s}}}function __PRIVATE_looksLikeJsonObject(o){return!(typeof o!="object"||o===null||o instanceof Array||o instanceof Date||o instanceof Timestamp||o instanceof GeoPoint||o instanceof Bytes||o instanceof DocumentReference$1||o instanceof FieldValue$1)}function __PRIVATE_validatePlainObject(o,i,s){if(!__PRIVATE_looksLikeJsonObject(s)||!function(et){return typeof et=="object"&&et!==null&&(Object.getPrototypeOf(et)===Object.prototype||Object.getPrototypeOf(et)===null)}(s)){const a=__PRIVATE_valueDescription(s);throw a==="an object"?i.pu(o+" a custom object"):i.pu(o+" "+a)}}function __PRIVATE_fieldPathFromArgument$1(o,i,s){if((i=getModularInstance(i))instanceof FieldPath$2)return i._internalPath;if(typeof i=="string")return __PRIVATE_fieldPathFromDotSeparatedString(o,i);throw __PRIVATE_createError("Field path arguments must be of type string or ",o,!1,void 0,s)}const pe=new RegExp("[~\\*/\\[\\]]");function __PRIVATE_fieldPathFromDotSeparatedString(o,i,s){if(i.search(pe)>=0)throw __PRIVATE_createError(`Invalid field path (${i}). Paths must not contain '~', '*', '/', '[', or ']'`,o,!1,void 0,s);try{return new FieldPath$2(...i.split("."))._internalPath}catch{throw __PRIVATE_createError(`Invalid field path (${i}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,o,!1,void 0,s)}}function __PRIVATE_createError(o,i,s,a,et){const tt=a&&!a.isEmpty(),rt=et!==void 0;let nt=`Function ${i}() called with invalid data`;s&&(nt+=" (via `toFirestore()`)"),nt+=". ";let it="";return(tt||rt)&&(it+=" (found",tt&&(it+=` in field ${a}`),rt&&(it+=` in document ${et}`),it+=")"),new FirestoreError(D.INVALID_ARGUMENT,nt+o+it)}function __PRIVATE_fieldMaskContains(o,i){return o.some(s=>s.isEqual(i))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DocumentSnapshot$1{constructor(i,s,a,et,tt){this._firestore=i,this._userDataWriter=s,this._key=a,this._document=et,this._converter=tt}get id(){return this._key.path.lastSegment()}get ref(){return new DocumentReference$1(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const i=new QueryDocumentSnapshot$1(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(i)}return this._userDataWriter.convertValue(this._document.data.value)}}get(i){if(this._document){const s=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",i));if(s!==null)return this._userDataWriter.convertValue(s)}}}class QueryDocumentSnapshot$1 extends DocumentSnapshot$1{data(){return super.data()}}function __PRIVATE_fieldPathFromArgument(o,i){return typeof i=="string"?__PRIVATE_fieldPathFromDotSeparatedString(o,i):i instanceof FieldPath$2?i._internalPath:i._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_validateHasExplicitOrderByForLimitToLast(o){if(o.limitType==="L"&&o.explicitOrderBy.length===0)throw new FirestoreError(D.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class AppliableConstraint{}class QueryConstraint extends AppliableConstraint{}function query(o,i,...s){let a=[];i instanceof AppliableConstraint&&a.push(i),a=a.concat(s),function(tt){const rt=tt.filter(it=>it instanceof QueryCompositeFilterConstraint).length,nt=tt.filter(it=>it instanceof QueryFieldFilterConstraint).length;if(rt>1||rt>0&&nt>0)throw new FirestoreError(D.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(a);for(const et of a)o=et._apply(o);return o}class QueryFieldFilterConstraint extends QueryConstraint{constructor(i,s,a){super(),this._field=i,this._op=s,this._value=a,this.type="where"}static _create(i,s,a){return new QueryFieldFilterConstraint(i,s,a)}_apply(i){const s=this._parse(i);return __PRIVATE_validateNewFieldFilter(i._query,s),new Query$1(i.firestore,i.converter,__PRIVATE_queryWithAddedFilter(i._query,s))}_parse(i){const s=__PRIVATE_newUserDataReader(i.firestore);return function(tt,rt,nt,it,ot,st,lt){let at;if(ot.isKeyField()){if(st==="array-contains"||st==="array-contains-any")throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid Query. You can't perform '${st}' queries on documentId().`);if(st==="in"||st==="not-in"){__PRIVATE_validateDisjunctiveFilterElements(lt,st);const ut=[];for(const ft of lt)ut.push(__PRIVATE_parseDocumentIdValue(it,tt,ft));at={arrayValue:{values:ut}}}else at=__PRIVATE_parseDocumentIdValue(it,tt,lt)}else st!=="in"&&st!=="not-in"&&st!=="array-contains-any"||__PRIVATE_validateDisjunctiveFilterElements(lt,st),at=__PRIVATE_parseQueryValue(nt,rt,lt,st==="in"||st==="not-in");return FieldFilter.create(ot,st,at)}(i._query,"where",s,i.firestore._databaseId,this._field,this._op,this._value)}}function where(o,i,s){const a=i,et=__PRIVATE_fieldPathFromArgument("where",o);return QueryFieldFilterConstraint._create(et,a,s)}class QueryCompositeFilterConstraint extends AppliableConstraint{constructor(i,s){super(),this.type=i,this._queryConstraints=s}static _create(i,s){return new QueryCompositeFilterConstraint(i,s)}_parse(i){const s=this._queryConstraints.map(a=>a._parse(i)).filter(a=>a.getFilters().length>0);return s.length===1?s[0]:CompositeFilter.create(s,this._getOperator())}_apply(i){const s=this._parse(i);return s.getFilters().length===0?i:(function(et,tt){let rt=et;const nt=tt.getFlattenedFilters();for(const it of nt)__PRIVATE_validateNewFieldFilter(rt,it),rt=__PRIVATE_queryWithAddedFilter(rt,it)}(i._query,s),new Query$1(i.firestore,i.converter,__PRIVATE_queryWithAddedFilter(i._query,s)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function or(...o){return o.forEach(i=>__PRIVATE_validateQueryFilterConstraint("or",i)),QueryCompositeFilterConstraint._create("or",o)}function and(...o){return o.forEach(i=>__PRIVATE_validateQueryFilterConstraint("and",i)),QueryCompositeFilterConstraint._create("and",o)}class QueryOrderByConstraint extends QueryConstraint{constructor(i,s){super(),this._field=i,this._direction=s,this.type="orderBy"}static _create(i,s){return new QueryOrderByConstraint(i,s)}_apply(i){const s=function(et,tt,rt){if(et.startAt!==null)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(et.endAt!==null)throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new OrderBy(tt,rt)}(i._query,this._field,this._direction);return new Query$1(i.firestore,i.converter,function(et,tt){const rt=et.explicitOrderBy.concat([tt]);return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,rt,et.filters.slice(),et.limit,et.limitType,et.startAt,et.endAt)}(i._query,s))}}function orderBy(o,i="asc"){const s=i,a=__PRIVATE_fieldPathFromArgument("orderBy",o);return QueryOrderByConstraint._create(a,s)}class QueryLimitConstraint extends QueryConstraint{constructor(i,s,a){super(),this.type=i,this._limit=s,this._limitType=a}static _create(i,s,a){return new QueryLimitConstraint(i,s,a)}_apply(i){return new Query$1(i.firestore,i.converter,__PRIVATE_queryWithLimit(i._query,this._limit,this._limitType))}}function limit$1(o){return __PRIVATE_validatePositiveNumber("limit",o),QueryLimitConstraint._create("limit",o,"F")}function limitToLast(o){return __PRIVATE_validatePositiveNumber("limitToLast",o),QueryLimitConstraint._create("limitToLast",o,"L")}class QueryStartAtConstraint extends QueryConstraint{constructor(i,s,a){super(),this.type=i,this._docOrFields=s,this._inclusive=a}static _create(i,s,a){return new QueryStartAtConstraint(i,s,a)}_apply(i){const s=__PRIVATE_newQueryBoundFromDocOrFields(i,this.type,this._docOrFields,this._inclusive);return new Query$1(i.firestore,i.converter,function(et,tt){return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,et.explicitOrderBy.slice(),et.filters.slice(),et.limit,et.limitType,tt,et.endAt)}(i._query,s))}}function startAt(...o){return QueryStartAtConstraint._create("startAt",o,!0)}function startAfter(...o){return QueryStartAtConstraint._create("startAfter",o,!1)}class QueryEndAtConstraint extends QueryConstraint{constructor(i,s,a){super(),this.type=i,this._docOrFields=s,this._inclusive=a}static _create(i,s,a){return new QueryEndAtConstraint(i,s,a)}_apply(i){const s=__PRIVATE_newQueryBoundFromDocOrFields(i,this.type,this._docOrFields,this._inclusive);return new Query$1(i.firestore,i.converter,function(et,tt){return new __PRIVATE_QueryImpl(et.path,et.collectionGroup,et.explicitOrderBy.slice(),et.filters.slice(),et.limit,et.limitType,et.startAt,tt)}(i._query,s))}}function endBefore(...o){return QueryEndAtConstraint._create("endBefore",o,!1)}function endAt(...o){return QueryEndAtConstraint._create("endAt",o,!0)}function __PRIVATE_newQueryBoundFromDocOrFields(o,i,s,a){if(s[0]=getModularInstance(s[0]),s[0]instanceof DocumentSnapshot$1)return function(tt,rt,nt,it,ot){if(!it)throw new FirestoreError(D.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${nt}().`);const st=[];for(const lt of __PRIVATE_queryNormalizedOrderBy(tt))if(lt.field.isKeyField())st.push(__PRIVATE_refValue(rt,it.key));else{const at=it.data.field(lt.field);if(__PRIVATE_isServerTimestamp(at))throw new FirestoreError(D.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+lt.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(at===null){const ut=lt.field.canonicalString();throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${ut}' (used as the orderBy) does not exist.`)}st.push(at)}return new Bound(st,ot)}(o._query,o.firestore._databaseId,i,s[0]._document,a);{const et=__PRIVATE_newUserDataReader(o.firestore);return function(rt,nt,it,ot,st,lt){const at=rt.explicitOrderBy;if(st.length>at.length)throw new FirestoreError(D.INVALID_ARGUMENT,`Too many arguments provided to ${ot}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const ut=[];for(let ft=0;ft<st.length;ft++){const mt=st[ft];if(at[ft].field.isKeyField()){if(typeof mt!="string")throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${ot}(), but got a ${typeof mt}`);if(!__PRIVATE_isCollectionGroupQuery(rt)&&mt.indexOf("/")!==-1)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${ot}() must be a plain document ID, but '${mt}' contains a slash.`);const yt=rt.path.child(ResourcePath.fromString(mt));if(!DocumentKey.isDocumentKey(yt))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${ot}() must result in a valid document path, but '${yt}' is not because it contains an odd number of segments.`);const ht=new DocumentKey(yt);ut.push(__PRIVATE_refValue(nt,ht))}else{const yt=__PRIVATE_parseQueryValue(it,ot,mt);ut.push(yt)}}return new Bound(ut,lt)}(o._query,o.firestore._databaseId,et,i,s,a)}}function __PRIVATE_parseDocumentIdValue(o,i,s){if(typeof(s=getModularInstance(s))=="string"){if(s==="")throw new FirestoreError(D.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!__PRIVATE_isCollectionGroupQuery(i)&&s.indexOf("/")!==-1)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${s}' contains a '/' character.`);const a=i.path.child(ResourcePath.fromString(s));if(!DocumentKey.isDocumentKey(a))throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${a}' is not because it has an odd number of segments (${a.length}).`);return __PRIVATE_refValue(o,new DocumentKey(a))}if(s instanceof DocumentReference$1)return __PRIVATE_refValue(o,s._key);throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${__PRIVATE_valueDescription(s)}.`)}function __PRIVATE_validateDisjunctiveFilterElements(o,i){if(!Array.isArray(o)||o.length===0)throw new FirestoreError(D.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${i.toString()}' filters.`)}function __PRIVATE_validateNewFieldFilter(o,i){const s=function(et,tt){for(const rt of et)for(const nt of rt.getFlattenedFilters())if(tt.indexOf(nt.op)>=0)return nt.op;return null}(o.filters,function(et){switch(et){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(i.op));if(s!==null)throw s===i.op?new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${i.op.toString()}' filter.`):new FirestoreError(D.INVALID_ARGUMENT,`Invalid query. You cannot use '${i.op.toString()}' filters with '${s.toString()}' filters.`)}function __PRIVATE_validateQueryFilterConstraint(o,i){if(!(i instanceof QueryFieldFilterConstraint||i instanceof QueryCompositeFilterConstraint))throw new FirestoreError(D.INVALID_ARGUMENT,`Function ${o}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class AbstractUserDataWriter{convertValue(i,s="none"){switch(__PRIVATE_typeOrder(i)){case 0:return null;case 1:return i.booleanValue;case 2:return __PRIVATE_normalizeNumber(i.integerValue||i.doubleValue);case 3:return this.convertTimestamp(i.timestampValue);case 4:return this.convertServerTimestamp(i,s);case 5:return i.stringValue;case 6:return this.convertBytes(__PRIVATE_normalizeByteString(i.bytesValue));case 7:return this.convertReference(i.referenceValue);case 8:return this.convertGeoPoint(i.geoPointValue);case 9:return this.convertArray(i.arrayValue,s);case 10:return this.convertObject(i.mapValue,s);default:throw fail()}}convertObject(i,s){return this.convertObjectMap(i.fields,s)}convertObjectMap(i,s="none"){const a={};return forEach(i,(et,tt)=>{a[et]=this.convertValue(tt,s)}),a}convertGeoPoint(i){return new GeoPoint(__PRIVATE_normalizeNumber(i.latitude),__PRIVATE_normalizeNumber(i.longitude))}convertArray(i,s){return(i.values||[]).map(a=>this.convertValue(a,s))}convertServerTimestamp(i,s){switch(s){case"previous":const a=__PRIVATE_getPreviousValue(i);return a==null?null:this.convertValue(a,s);case"estimate":return this.convertTimestamp(__PRIVATE_getLocalWriteTime(i));default:return null}}convertTimestamp(i){const s=__PRIVATE_normalizeTimestamp(i);return new Timestamp(s.seconds,s.nanos)}convertDocumentKey(i,s){const a=ResourcePath.fromString(i);__PRIVATE_hardAssert(__PRIVATE_isValidResourceName(a));const et=new DatabaseId(a.get(1),a.get(3)),tt=new DocumentKey(a.popFirst(5));return et.isEqual(s)||__PRIVATE_logError(`Document ${tt} contains a document reference within a different database (${et.projectId}/${et.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),tt}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __PRIVATE_applyFirestoreDataConverter(o,i,s){let a;return a=o?s&&(s.merge||s.mergeFields)?o.toFirestore(i,s):o.toFirestore(i):i,a}class __PRIVATE_LiteUserDataWriter extends AbstractUserDataWriter{constructor(i){super(),this.firestore=i}convertBytes(i){return new Bytes(i)}convertReference(i){const s=this.convertDocumentKey(i,this.firestore._databaseId);return new DocumentReference$1(this.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SnapshotMetadata{constructor(i,s){this.hasPendingWrites=i,this.fromCache=s}isEqual(i){return this.hasPendingWrites===i.hasPendingWrites&&this.fromCache===i.fromCache}}let DocumentSnapshot$2=class extends DocumentSnapshot$1{constructor(i,s,a,et,tt,rt){super(i,s,a,et,rt),this._firestore=i,this._firestoreImpl=i,this.metadata=tt}exists(){return super.exists()}data(i={}){if(this._document){if(this._converter){const s=new QueryDocumentSnapshot$2(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,i)}return this._userDataWriter.convertValue(this._document.data.value,i.serverTimestamps)}}get(i,s={}){if(this._document){const a=this._document.data.field(__PRIVATE_fieldPathFromArgument("DocumentSnapshot.get",i));if(a!==null)return this._userDataWriter.convertValue(a,s.serverTimestamps)}}},QueryDocumentSnapshot$2=class extends DocumentSnapshot$2{data(i={}){return super.data(i)}},QuerySnapshot$1=class{constructor(i,s,a,et){this._firestore=i,this._userDataWriter=s,this._snapshot=et,this.metadata=new SnapshotMetadata(et.hasPendingWrites,et.fromCache),this.query=a}get docs(){const i=[];return this.forEach(s=>i.push(s)),i}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(i,s){this._snapshot.docs.forEach(a=>{i.call(s,new QueryDocumentSnapshot$2(this._firestore,this._userDataWriter,a.key,a,new SnapshotMetadata(this._snapshot.mutatedKeys.has(a.key),this._snapshot.fromCache),this.query.converter))})}docChanges(i={}){const s=!!i.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new FirestoreError(D.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(et,tt){if(et._snapshot.oldDocs.isEmpty()){let rt=0;return et._snapshot.docChanges.map(nt=>{const it=new QueryDocumentSnapshot$2(et._firestore,et._userDataWriter,nt.doc.key,nt.doc,new SnapshotMetadata(et._snapshot.mutatedKeys.has(nt.doc.key),et._snapshot.fromCache),et.query.converter);return nt.doc,{type:"added",doc:it,oldIndex:-1,newIndex:rt++}})}{let rt=et._snapshot.oldDocs;return et._snapshot.docChanges.filter(nt=>tt||nt.type!==3).map(nt=>{const it=new QueryDocumentSnapshot$2(et._firestore,et._userDataWriter,nt.doc.key,nt.doc,new SnapshotMetadata(et._snapshot.mutatedKeys.has(nt.doc.key),et._snapshot.fromCache),et.query.converter);let ot=-1,st=-1;return nt.type!==0&&(ot=rt.indexOf(nt.doc.key),rt=rt.delete(nt.doc.key)),nt.type!==1&&(rt=rt.add(nt.doc),st=rt.indexOf(nt.doc.key)),{type:__PRIVATE_resultChangeType(nt.type),doc:it,oldIndex:ot,newIndex:st}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}};function __PRIVATE_resultChangeType(o){switch(o){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return fail()}}function snapshotEqual(o,i){return o instanceof DocumentSnapshot$2&&i instanceof DocumentSnapshot$2?o._firestore===i._firestore&&o._key.isEqual(i._key)&&(o._document===null?i._document===null:o._document.isEqual(i._document))&&o._converter===i._converter:o instanceof QuerySnapshot$1&&i instanceof QuerySnapshot$1&&o._firestore===i._firestore&&queryEqual(o.query,i.query)&&o.metadata.isEqual(i.metadata)&&o._snapshot.isEqual(i._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getDoc(o){o=__PRIVATE_cast(o,DocumentReference$1);const i=__PRIVATE_cast(o.firestore,Firestore$2);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(i),o._key).then(s=>__PRIVATE_convertToDocSnapshot(i,o,s))}class __PRIVATE_ExpUserDataWriter extends AbstractUserDataWriter{constructor(i){super(),this.firestore=i}convertBytes(i){return new Bytes(i)}convertReference(i){const s=this.convertDocumentKey(i,this.firestore._databaseId);return new DocumentReference$1(this.firestore,null,s)}}function getDocFromCache(o){o=__PRIVATE_cast(o,DocumentReference$1);const i=__PRIVATE_cast(o.firestore,Firestore$2),s=ensureFirestoreConfigured(i),a=new __PRIVATE_ExpUserDataWriter(i);return __PRIVATE_firestoreClientGetDocumentFromLocalCache(s,o._key).then(et=>new DocumentSnapshot$2(i,a,o._key,et,new SnapshotMetadata(et!==null&&et.hasLocalMutations,!0),o.converter))}function getDocFromServer(o){o=__PRIVATE_cast(o,DocumentReference$1);const i=__PRIVATE_cast(o.firestore,Firestore$2);return __PRIVATE_firestoreClientGetDocumentViaSnapshotListener(ensureFirestoreConfigured(i),o._key,{source:"server"}).then(s=>__PRIVATE_convertToDocSnapshot(i,o,s))}function getDocs(o){o=__PRIVATE_cast(o,Query$1);const i=__PRIVATE_cast(o.firestore,Firestore$2),s=ensureFirestoreConfigured(i),a=new __PRIVATE_ExpUserDataWriter(i);return __PRIVATE_validateHasExplicitOrderByForLimitToLast(o._query),__PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(s,o._query).then(et=>new QuerySnapshot$1(i,a,o,et))}function getDocsFromCache(o){o=__PRIVATE_cast(o,Query$1);const i=__PRIVATE_cast(o.firestore,Firestore$2),s=ensureFirestoreConfigured(i),a=new __PRIVATE_ExpUserDataWriter(i);return __PRIVATE_firestoreClientGetDocumentsFromLocalCache(s,o._query).then(et=>new QuerySnapshot$1(i,a,o,et))}function getDocsFromServer(o){o=__PRIVATE_cast(o,Query$1);const i=__PRIVATE_cast(o.firestore,Firestore$2),s=ensureFirestoreConfigured(i),a=new __PRIVATE_ExpUserDataWriter(i);return __PRIVATE_firestoreClientGetDocumentsViaSnapshotListener(s,o._query,{source:"server"}).then(et=>new QuerySnapshot$1(i,a,o,et))}function setDoc(o,i,s){o=__PRIVATE_cast(o,DocumentReference$1);const a=__PRIVATE_cast(o.firestore,Firestore$2),et=__PRIVATE_applyFirestoreDataConverter(o.converter,i,s);return executeWrite(a,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(a),"setDoc",o._key,et,o.converter!==null,s).toMutation(o._key,Precondition.none())])}function updateDoc(o,i,s,...a){o=__PRIVATE_cast(o,DocumentReference$1);const et=__PRIVATE_cast(o.firestore,Firestore$2),tt=__PRIVATE_newUserDataReader(et);let rt;return rt=typeof(i=getModularInstance(i))=="string"||i instanceof FieldPath$2?__PRIVATE_parseUpdateVarargs(tt,"updateDoc",o._key,i,s,a):__PRIVATE_parseUpdateData(tt,"updateDoc",o._key,i),executeWrite(et,[rt.toMutation(o._key,Precondition.exists(!0))])}function deleteDoc(o){return executeWrite(__PRIVATE_cast(o.firestore,Firestore$2),[new __PRIVATE_DeleteMutation(o._key,Precondition.none())])}function addDoc(o,i){const s=__PRIVATE_cast(o.firestore,Firestore$2),a=doc(o),et=__PRIVATE_applyFirestoreDataConverter(o.converter,i);return executeWrite(s,[__PRIVATE_parseSetData(__PRIVATE_newUserDataReader(o.firestore),"addDoc",a._key,et,o.converter!==null,{}).toMutation(a._key,Precondition.exists(!1))]).then(()=>a)}function onSnapshot(o,...i){var s,a,et;o=getModularInstance(o);let tt={includeMetadataChanges:!1},rt=0;typeof i[rt]!="object"||__PRIVATE_isPartialObserver(i[rt])||(tt=i[rt],rt++);const nt={includeMetadataChanges:tt.includeMetadataChanges};if(__PRIVATE_isPartialObserver(i[rt])){const lt=i[rt];i[rt]=(s=lt.next)===null||s===void 0?void 0:s.bind(lt),i[rt+1]=(a=lt.error)===null||a===void 0?void 0:a.bind(lt),i[rt+2]=(et=lt.complete)===null||et===void 0?void 0:et.bind(lt)}let it,ot,st;if(o instanceof DocumentReference$1)ot=__PRIVATE_cast(o.firestore,Firestore$2),st=__PRIVATE_newQueryForPath(o._key.path),it={next:lt=>{i[rt]&&i[rt](__PRIVATE_convertToDocSnapshot(ot,o,lt))},error:i[rt+1],complete:i[rt+2]};else{const lt=__PRIVATE_cast(o,Query$1);ot=__PRIVATE_cast(lt.firestore,Firestore$2),st=lt._query;const at=new __PRIVATE_ExpUserDataWriter(ot);it={next:ut=>{i[rt]&&i[rt](new QuerySnapshot$1(ot,at,lt,ut))},error:i[rt+1],complete:i[rt+2]},__PRIVATE_validateHasExplicitOrderByForLimitToLast(o._query)}return function(at,ut,ft,mt){const yt=new __PRIVATE_AsyncObserver(mt),ht=new __PRIVATE_QueryListener(ut,yt,ft);return at.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerListen(await __PRIVATE_getEventManager(at),ht)),()=>{yt.La(),at.asyncQueue.enqueueAndForget(async()=>__PRIVATE_eventManagerUnlisten(await __PRIVATE_getEventManager(at),ht))}}(ensureFirestoreConfigured(ot),st,nt,it)}function onSnapshotsInSync(o,i){return __PRIVATE_firestoreClientAddSnapshotsInSyncListener(ensureFirestoreConfigured(o=__PRIVATE_cast(o,Firestore$2)),__PRIVATE_isPartialObserver(i)?i:{next:i})}function executeWrite(o,i){return function(a,et){const tt=new __PRIVATE_Deferred;return a.asyncQueue.enqueueAndForget(async()=>__PRIVATE_syncEngineWrite(await __PRIVATE_getSyncEngine(a),et,tt)),tt.promise}(ensureFirestoreConfigured(o),i)}function __PRIVATE_convertToDocSnapshot(o,i,s){const a=s.docs.get(i._key),et=new __PRIVATE_ExpUserDataWriter(o);return new DocumentSnapshot$2(o,et,i._key,a,new SnapshotMetadata(s.hasPendingWrites,s.fromCache),i.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ye={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WriteBatch$1=class{constructor(i,s){this._firestore=i,this._commitHandler=s,this._mutations=[],this._committed=!1,this._dataReader=__PRIVATE_newUserDataReader(i)}set(i,s,a){this._verifyNotCommitted();const et=__PRIVATE_validateReference(i,this._firestore),tt=__PRIVATE_applyFirestoreDataConverter(et.converter,s,a),rt=__PRIVATE_parseSetData(this._dataReader,"WriteBatch.set",et._key,tt,et.converter!==null,a);return this._mutations.push(rt.toMutation(et._key,Precondition.none())),this}update(i,s,a,...et){this._verifyNotCommitted();const tt=__PRIVATE_validateReference(i,this._firestore);let rt;return rt=typeof(s=getModularInstance(s))=="string"||s instanceof FieldPath$2?__PRIVATE_parseUpdateVarargs(this._dataReader,"WriteBatch.update",tt._key,s,a,et):__PRIVATE_parseUpdateData(this._dataReader,"WriteBatch.update",tt._key,s),this._mutations.push(rt.toMutation(tt._key,Precondition.exists(!0))),this}delete(i){this._verifyNotCommitted();const s=__PRIVATE_validateReference(i,this._firestore);return this._mutations=this._mutations.concat(new __PRIVATE_DeleteMutation(s._key,Precondition.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new FirestoreError(D.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function __PRIVATE_validateReference(o,i){if((o=getModularInstance(o)).firestore!==i)throw new FirestoreError(D.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Transaction$1=class extends class{constructor(s,a){this._firestore=s,this._transaction=a,this._dataReader=__PRIVATE_newUserDataReader(s)}get(s){const a=__PRIVATE_validateReference(s,this._firestore),et=new __PRIVATE_LiteUserDataWriter(this._firestore);return this._transaction.lookup([a._key]).then(tt=>{if(!tt||tt.length!==1)return fail();const rt=tt[0];if(rt.isFoundDocument())return new DocumentSnapshot$1(this._firestore,et,rt.key,rt,a.converter);if(rt.isNoDocument())return new DocumentSnapshot$1(this._firestore,et,a._key,null,a.converter);throw fail()})}set(s,a,et){const tt=__PRIVATE_validateReference(s,this._firestore),rt=__PRIVATE_applyFirestoreDataConverter(tt.converter,a,et),nt=__PRIVATE_parseSetData(this._dataReader,"Transaction.set",tt._key,rt,tt.converter!==null,et);return this._transaction.set(tt._key,nt),this}update(s,a,et,...tt){const rt=__PRIVATE_validateReference(s,this._firestore);let nt;return nt=typeof(a=getModularInstance(a))=="string"||a instanceof FieldPath$2?__PRIVATE_parseUpdateVarargs(this._dataReader,"Transaction.update",rt._key,a,et,tt):__PRIVATE_parseUpdateData(this._dataReader,"Transaction.update",rt._key,a),this._transaction.update(rt._key,nt),this}delete(s){const a=__PRIVATE_validateReference(s,this._firestore);return this._transaction.delete(a._key),this}}{constructor(i,s){super(i,s),this._firestore=i}get(i){const s=__PRIVATE_validateReference(i,this._firestore),a=new __PRIVATE_ExpUserDataWriter(this._firestore);return super.get(i).then(et=>new DocumentSnapshot$2(this._firestore,a,s._key,et._document,new SnapshotMetadata(!1,!1),s.converter))}};function runTransaction(o,i,s){o=__PRIVATE_cast(o,Firestore$2);const a=Object.assign(Object.assign({},ye),s);return function(tt){if(tt.maxAttempts<1)throw new FirestoreError(D.INVALID_ARGUMENT,"Max attempts must be at least 1")}(a),function(tt,rt,nt){const it=new __PRIVATE_Deferred;return tt.asyncQueue.enqueueAndForget(async()=>{const ot=await __PRIVATE_getDatastore(tt);new __PRIVATE_TransactionRunner(tt.asyncQueue,ot,nt,rt,it).ja()}),it.promise}(ensureFirestoreConfigured(o),et=>i(new Transaction$1(o,et)),a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function deleteField(){return new __PRIVATE_DeleteFieldValueImpl("deleteField")}function serverTimestamp(){return new __PRIVATE_ServerTimestampFieldValueImpl("serverTimestamp")}function arrayUnion(...o){return new __PRIVATE_ArrayUnionFieldValueImpl("arrayUnion",o)}function arrayRemove(...o){return new __PRIVATE_ArrayRemoveFieldValueImpl("arrayRemove",o)}function increment(o){return new __PRIVATE_NumericIncrementFieldValueImpl("increment",o)}(function(i,s=!0){(function(et){S=et})(SDK_VERSION),_registerComponent(new Component("firestore",(a,{instanceIdentifier:et,options:tt})=>{const rt=a.getProvider("app").getImmediate(),nt=new Firestore$2(new __PRIVATE_FirebaseAuthCredentialsProvider(a.getProvider("auth-internal")),new __PRIVATE_FirebaseAppCheckTokenProvider(a.getProvider("app-check-internal")),function(ot,st){if(!Object.prototype.hasOwnProperty.apply(ot.options,["projectId"]))throw new FirestoreError(D.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new DatabaseId(ot.options.projectId,st)}(rt,et),rt);return tt=Object.assign({useFetchStreams:s},tt),nt._setSettings(tt),nt},"PUBLIC").setMultipleInstances(!0)),registerVersion(w$2,"4.4.2",i),registerVersion(w$2,"4.4.2","esm2017")})();const name$1="@firebase/firestore-compat",version$1="0.3.25";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function validateSetOptions(o,i){if(i===void 0)return{merge:!1};if(i.mergeFields!==void 0&&i.merge!==void 0)throw new FirestoreError("invalid-argument",`Invalid options passed to function ${o}(): You cannot specify both "merge" and "mergeFields".`);return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function assertUint8ArrayAvailable(){if(typeof Uint8Array>"u")throw new FirestoreError("unimplemented","Uint8Arrays are not available in this environment.")}function assertBase64Available(){if(!__PRIVATE_isBase64Available())throw new FirestoreError("unimplemented","Blobs are unavailable in Firestore in this environment.")}let Blob$1=class Sp{constructor(i){this._delegate=i}static fromBase64String(i){return assertBase64Available(),new Sp(Bytes.fromBase64String(i))}static fromUint8Array(i){return assertUint8ArrayAvailable(),new Sp(Bytes.fromUint8Array(i))}toBase64(){return assertBase64Available(),this._delegate.toBase64()}toUint8Array(){return assertUint8ArrayAvailable(),this._delegate.toUint8Array()}isEqual(i){return this._delegate.isEqual(i._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isPartialObserver(o){return implementsAnyMethods(o,["next","error","complete"])}function implementsAnyMethods(o,i){if(typeof o!="object"||o===null)return!1;const s=o;for(const a of i)if(a in s&&typeof s[a]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IndexedDbPersistenceProvider{enableIndexedDbPersistence(i,s){return enableIndexedDbPersistence(i._delegate,{forceOwnership:s})}enableMultiTabIndexedDbPersistence(i){return enableMultiTabIndexedDbPersistence(i._delegate)}clearIndexedDbPersistence(i){return clearIndexedDbPersistence(i._delegate)}}class Firestore{constructor(i,s,a){this._delegate=s,this._persistenceProvider=a,this.INTERNAL={delete:()=>this.terminate()},i instanceof DatabaseId||(this._appCompat=i)}get _databaseId(){return this._delegate._databaseId}settings(i){const s=this._delegate._getSettings();!i.merge&&s.host!==i.host&&__PRIVATE_logWarn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),i.merge&&(i=Object.assign(Object.assign({},s),i),delete i.merge),this._delegate._setSettings(i)}useEmulator(i,s,a={}){connectFirestoreEmulator(this._delegate,i,s,a)}enableNetwork(){return enableNetwork(this._delegate)}disableNetwork(){return disableNetwork(this._delegate)}enablePersistence(i){let s=!1,a=!1;return i&&(s=!!i.synchronizeTabs,a=!!i.experimentalForceOwningTab,__PRIVATE_validateIsNotUsedTogether("synchronizeTabs",s,"experimentalForceOwningTab",a)),s?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,a)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return waitForPendingWrites(this._delegate)}onSnapshotsInSync(i){return onSnapshotsInSync(this._delegate,i)}get app(){if(!this._appCompat)throw new FirestoreError("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(i){try{return new CollectionReference(this,collection(this._delegate,i))}catch(s){throw replaceFunctionName(s,"collection()","Firestore.collection()")}}doc(i){try{return new DocumentReference(this,doc(this._delegate,i))}catch(s){throw replaceFunctionName(s,"doc()","Firestore.doc()")}}collectionGroup(i){try{return new Query(this,collectionGroup(this._delegate,i))}catch(s){throw replaceFunctionName(s,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(i){return runTransaction(this._delegate,s=>i(new Transaction(this,s)))}batch(){return ensureFirestoreConfigured(this._delegate),new WriteBatch(new WriteBatch$1(this._delegate,i=>executeWrite(this._delegate,i)))}loadBundle(i){return loadBundle(this._delegate,i)}namedQuery(i){return namedQuery(this._delegate,i).then(s=>s?new Query(this,s):null)}}class UserDataWriter extends AbstractUserDataWriter{constructor(i){super(),this.firestore=i}convertBytes(i){return new Blob$1(new Bytes(i))}convertReference(i){const s=this.convertDocumentKey(i,this.firestore._databaseId);return DocumentReference.forKey(s,this.firestore,null)}}function setLogLevel(o){setLogLevel$1(o)}class Transaction{constructor(i,s){this._firestore=i,this._delegate=s,this._userDataWriter=new UserDataWriter(i)}get(i){const s=castReference(i);return this._delegate.get(s).then(a=>new DocumentSnapshot(this._firestore,new DocumentSnapshot$2(this._firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,s.converter)))}set(i,s,a){const et=castReference(i);return a?(validateSetOptions("Transaction.set",a),this._delegate.set(et,s,a)):this._delegate.set(et,s),this}update(i,s,a,...et){const tt=castReference(i);return arguments.length===2?this._delegate.update(tt,s):this._delegate.update(tt,s,a,...et),this}delete(i){const s=castReference(i);return this._delegate.delete(s),this}}class WriteBatch{constructor(i){this._delegate=i}set(i,s,a){const et=castReference(i);return a?(validateSetOptions("WriteBatch.set",a),this._delegate.set(et,s,a)):this._delegate.set(et,s),this}update(i,s,a,...et){const tt=castReference(i);return arguments.length===2?this._delegate.update(tt,s):this._delegate.update(tt,s,a,...et),this}delete(i){const s=castReference(i);return this._delegate.delete(s),this}commit(){return this._delegate.commit()}}class FirestoreDataConverter{constructor(i,s,a){this._firestore=i,this._userDataWriter=s,this._delegate=a}fromFirestore(i,s){const a=new QueryDocumentSnapshot$2(this._firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,null);return this._delegate.fromFirestore(new QueryDocumentSnapshot(this._firestore,a),s??{})}toFirestore(i,s){return s?this._delegate.toFirestore(i,s):this._delegate.toFirestore(i)}static getInstance(i,s){const a=FirestoreDataConverter.INSTANCES;let et=a.get(i);et||(et=new WeakMap,a.set(i,et));let tt=et.get(s);return tt||(tt=new FirestoreDataConverter(i,new UserDataWriter(i),s),et.set(s,tt)),tt}}FirestoreDataConverter.INSTANCES=new WeakMap;class DocumentReference{constructor(i,s){this.firestore=i,this._delegate=s,this._userDataWriter=new UserDataWriter(i)}static forPath(i,s,a){if(i.length%2!==0)throw new FirestoreError("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${i.canonicalString()} has ${i.length}`);return new DocumentReference(s,new DocumentReference$1(s._delegate,a,new DocumentKey(i)))}static forKey(i,s,a){return new DocumentReference(s,new DocumentReference$1(s._delegate,a,i))}get id(){return this._delegate.id}get parent(){return new CollectionReference(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(i){try{return new CollectionReference(this.firestore,collection(this._delegate,i))}catch(s){throw replaceFunctionName(s,"collection()","DocumentReference.collection()")}}isEqual(i){return i=getModularInstance(i),i instanceof DocumentReference$1?refEqual(this._delegate,i):!1}set(i,s){s=validateSetOptions("DocumentReference.set",s);try{return s?setDoc(this._delegate,i,s):setDoc(this._delegate,i)}catch(a){throw replaceFunctionName(a,"setDoc()","DocumentReference.set()")}}update(i,s,...a){try{return arguments.length===1?updateDoc(this._delegate,i):updateDoc(this._delegate,i,s,...a)}catch(et){throw replaceFunctionName(et,"updateDoc()","DocumentReference.update()")}}delete(){return deleteDoc(this._delegate)}onSnapshot(...i){const s=extractSnapshotOptions(i),a=wrapObserver(i,et=>new DocumentSnapshot(this.firestore,new DocumentSnapshot$2(this.firestore._delegate,this._userDataWriter,et._key,et._document,et.metadata,this._delegate.converter)));return onSnapshot(this._delegate,s,a)}get(i){let s;return(i==null?void 0:i.source)==="cache"?s=getDocFromCache(this._delegate):(i==null?void 0:i.source)==="server"?s=getDocFromServer(this._delegate):s=getDoc(this._delegate),s.then(a=>new DocumentSnapshot(this.firestore,new DocumentSnapshot$2(this.firestore._delegate,this._userDataWriter,a._key,a._document,a.metadata,this._delegate.converter)))}withConverter(i){return new DocumentReference(this.firestore,i?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,i)):this._delegate.withConverter(null))}}function replaceFunctionName(o,i,s){return o.message=o.message.replace(i,s),o}function extractSnapshotOptions(o){for(const i of o)if(typeof i=="object"&&!isPartialObserver(i))return i;return{}}function wrapObserver(o,i){var s,a;let et;return isPartialObserver(o[0])?et=o[0]:isPartialObserver(o[1])?et=o[1]:typeof o[0]=="function"?et={next:o[0],error:o[1],complete:o[2]}:et={next:o[1],error:o[2],complete:o[3]},{next:tt=>{et.next&&et.next(i(tt))},error:(s=et.error)===null||s===void 0?void 0:s.bind(et),complete:(a=et.complete)===null||a===void 0?void 0:a.bind(et)}}class DocumentSnapshot{constructor(i,s){this._firestore=i,this._delegate=s}get ref(){return new DocumentReference(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(i){return this._delegate.data(i)}get(i,s){return this._delegate.get(i,s)}isEqual(i){return snapshotEqual(this._delegate,i._delegate)}}class QueryDocumentSnapshot extends DocumentSnapshot{data(i){const s=this._delegate.data(i);return this._delegate._converter||__PRIVATE_debugAssert(s!==void 0),s}}class Query{constructor(i,s){this.firestore=i,this._delegate=s,this._userDataWriter=new UserDataWriter(i)}where(i,s,a){try{return new Query(this.firestore,query(this._delegate,where(i,s,a)))}catch(et){throw replaceFunctionName(et,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(i,s){try{return new Query(this.firestore,query(this._delegate,orderBy(i,s)))}catch(a){throw replaceFunctionName(a,/(orderBy|where)\(\)/,"Query.$1()")}}limit(i){try{return new Query(this.firestore,query(this._delegate,limit$1(i)))}catch(s){throw replaceFunctionName(s,"limit()","Query.limit()")}}limitToLast(i){try{return new Query(this.firestore,query(this._delegate,limitToLast(i)))}catch(s){throw replaceFunctionName(s,"limitToLast()","Query.limitToLast()")}}startAt(...i){try{return new Query(this.firestore,query(this._delegate,startAt(...i)))}catch(s){throw replaceFunctionName(s,"startAt()","Query.startAt()")}}startAfter(...i){try{return new Query(this.firestore,query(this._delegate,startAfter(...i)))}catch(s){throw replaceFunctionName(s,"startAfter()","Query.startAfter()")}}endBefore(...i){try{return new Query(this.firestore,query(this._delegate,endBefore(...i)))}catch(s){throw replaceFunctionName(s,"endBefore()","Query.endBefore()")}}endAt(...i){try{return new Query(this.firestore,query(this._delegate,endAt(...i)))}catch(s){throw replaceFunctionName(s,"endAt()","Query.endAt()")}}isEqual(i){return queryEqual(this._delegate,i._delegate)}get(i){let s;return(i==null?void 0:i.source)==="cache"?s=getDocsFromCache(this._delegate):(i==null?void 0:i.source)==="server"?s=getDocsFromServer(this._delegate):s=getDocs(this._delegate),s.then(a=>new QuerySnapshot(this.firestore,new QuerySnapshot$1(this.firestore._delegate,this._userDataWriter,this._delegate,a._snapshot)))}onSnapshot(...i){const s=extractSnapshotOptions(i),a=wrapObserver(i,et=>new QuerySnapshot(this.firestore,new QuerySnapshot$1(this.firestore._delegate,this._userDataWriter,this._delegate,et._snapshot)));return onSnapshot(this._delegate,s,a)}withConverter(i){return new Query(this.firestore,i?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,i)):this._delegate.withConverter(null))}}class DocumentChange{constructor(i,s){this._firestore=i,this._delegate=s}get type(){return this._delegate.type}get doc(){return new QueryDocumentSnapshot(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class QuerySnapshot{constructor(i,s){this._firestore=i,this._delegate=s}get query(){return new Query(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(i=>new QueryDocumentSnapshot(this._firestore,i))}docChanges(i){return this._delegate.docChanges(i).map(s=>new DocumentChange(this._firestore,s))}forEach(i,s){this._delegate.forEach(a=>{i.call(s,new QueryDocumentSnapshot(this._firestore,a))})}isEqual(i){return snapshotEqual(this._delegate,i._delegate)}}class CollectionReference extends Query{constructor(i,s){super(i,s),this.firestore=i,this._delegate=s}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const i=this._delegate.parent;return i?new DocumentReference(this.firestore,i):null}doc(i){try{return i===void 0?new DocumentReference(this.firestore,doc(this._delegate)):new DocumentReference(this.firestore,doc(this._delegate,i))}catch(s){throw replaceFunctionName(s,"doc()","CollectionReference.doc()")}}add(i){return addDoc(this._delegate,i).then(s=>new DocumentReference(this.firestore,s))}isEqual(i){return refEqual(this._delegate,i._delegate)}withConverter(i){return new CollectionReference(this.firestore,i?this._delegate.withConverter(FirestoreDataConverter.getInstance(this.firestore,i)):this._delegate.withConverter(null))}}function castReference(o){return __PRIVATE_cast(o,DocumentReference$1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldPath{constructor(...i){this._delegate=new FieldPath$2(...i)}static documentId(){return new FieldPath(FieldPath$1.keyField().canonicalString())}isEqual(i){return i=getModularInstance(i),i instanceof FieldPath$2?this._delegate._internalPath.isEqual(i._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FieldValue{constructor(i){this._delegate=i}static serverTimestamp(){const i=serverTimestamp();return i._methodName="FieldValue.serverTimestamp",new FieldValue(i)}static delete(){const i=deleteField();return i._methodName="FieldValue.delete",new FieldValue(i)}static arrayUnion(...i){const s=arrayUnion(...i);return s._methodName="FieldValue.arrayUnion",new FieldValue(s)}static arrayRemove(...i){const s=arrayRemove(...i);return s._methodName="FieldValue.arrayRemove",new FieldValue(s)}static increment(i){const s=increment(i);return s._methodName="FieldValue.increment",new FieldValue(s)}isEqual(i){return this._delegate.isEqual(i._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const firestoreNamespace={Firestore,GeoPoint,Timestamp,Blob:Blob$1,Transaction,WriteBatch,DocumentReference,DocumentSnapshot,Query,QueryDocumentSnapshot,QuerySnapshot,CollectionReference,FieldPath,FieldValue,setLogLevel,CACHE_SIZE_UNLIMITED:fe};function configureForFirebase(o,i){o.INTERNAL.registerComponent(new Component("firestore-compat",s=>{const a=s.getProvider("app-compat").getImmediate(),et=s.getProvider("firestore").getImmediate();return i(a,et)},"PUBLIC").setServiceProps(Object.assign({},firestoreNamespace)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function registerFirestore(o){configureForFirebase(o,(i,s)=>new Firestore(i,s,new IndexedDbPersistenceProvider)),o.registerVersion(name$1,version$1)}registerFirestore(firebase);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DEFAULT_HOST="firebasestorage.googleapis.com",CONFIG_STORAGE_BUCKET_KEY="storageBucket",DEFAULT_MAX_OPERATION_RETRY_TIME=2*60*1e3,DEFAULT_MAX_UPLOAD_RETRY_TIME=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class StorageError extends FirebaseError{constructor(i,s,a=0){super(prependCode(i),`Firebase Storage: ${s} (${prependCode(i)})`),this.status_=a,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,StorageError.prototype)}get status(){return this.status_}set status(i){this.status_=i}_codeEquals(i){return prependCode(i)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(i){this.customData.serverResponse=i,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var StorageErrorCode;(function(o){o.UNKNOWN="unknown",o.OBJECT_NOT_FOUND="object-not-found",o.BUCKET_NOT_FOUND="bucket-not-found",o.PROJECT_NOT_FOUND="project-not-found",o.QUOTA_EXCEEDED="quota-exceeded",o.UNAUTHENTICATED="unauthenticated",o.UNAUTHORIZED="unauthorized",o.UNAUTHORIZED_APP="unauthorized-app",o.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",o.INVALID_CHECKSUM="invalid-checksum",o.CANCELED="canceled",o.INVALID_EVENT_NAME="invalid-event-name",o.INVALID_URL="invalid-url",o.INVALID_DEFAULT_BUCKET="invalid-default-bucket",o.NO_DEFAULT_BUCKET="no-default-bucket",o.CANNOT_SLICE_BLOB="cannot-slice-blob",o.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",o.NO_DOWNLOAD_URL="no-download-url",o.INVALID_ARGUMENT="invalid-argument",o.INVALID_ARGUMENT_COUNT="invalid-argument-count",o.APP_DELETED="app-deleted",o.INVALID_ROOT_OPERATION="invalid-root-operation",o.INVALID_FORMAT="invalid-format",o.INTERNAL_ERROR="internal-error",o.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(StorageErrorCode||(StorageErrorCode={}));function prependCode(o){return"storage/"+o}function unknown(){const o="An unknown error occurred, please check the error payload for server response.";return new StorageError(StorageErrorCode.UNKNOWN,o)}function objectNotFound(o){return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND,"Object '"+o+"' does not exist.")}function quotaExceeded(o){return new StorageError(StorageErrorCode.QUOTA_EXCEEDED,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function unauthenticated(){const o="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new StorageError(StorageErrorCode.UNAUTHENTICATED,o)}function unauthorizedApp(){return new StorageError(StorageErrorCode.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function unauthorized(o){return new StorageError(StorageErrorCode.UNAUTHORIZED,"User does not have permission to access '"+o+"'.")}function retryLimitExceeded(){return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function canceled(){return new StorageError(StorageErrorCode.CANCELED,"User canceled the upload/download.")}function invalidUrl(o){return new StorageError(StorageErrorCode.INVALID_URL,"Invalid URL '"+o+"'.")}function invalidDefaultBucket(o){return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+o+"'.")}function noDefaultBucket(){return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+CONFIG_STORAGE_BUCKET_KEY+"' property when initializing the app?")}function cannotSliceBlob(){return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function noDownloadURL(){return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function missingPolyFill(o){return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,`${o} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function invalidArgument(o){return new StorageError(StorageErrorCode.INVALID_ARGUMENT,o)}function appDeleted(){return new StorageError(StorageErrorCode.APP_DELETED,"The Firebase app was deleted.")}function invalidRootOperation(o){return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION,"The operation '"+o+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function invalidFormat(o,i){return new StorageError(StorageErrorCode.INVALID_FORMAT,"String does not match format '"+o+"': "+i)}function internalError(o){throw new StorageError(StorageErrorCode.INTERNAL_ERROR,"Internal error: "+o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Location{constructor(i,s){this.bucket=i,this.path_=s}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const i=encodeURIComponent;return"/b/"+i(this.bucket)+"/o/"+i(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(i,s){let a;try{a=Location.makeFromUrl(i,s)}catch{return new Location(i,"")}if(a.path==="")return a;throw invalidDefaultBucket(i)}static makeFromUrl(i,s){let a=null;const et="([A-Za-z0-9.\\-_]+)";function tt(gt){gt.path.charAt(gt.path.length-1)==="/"&&(gt.path_=gt.path_.slice(0,-1))}const rt="(/(.*))?$",nt=new RegExp("^gs://"+et+rt,"i"),it={bucket:1,path:3};function ot(gt){gt.path_=decodeURIComponent(gt.path)}const st="v[A-Za-z0-9_]+",lt=s.replace(/[.]/g,"\\."),at="(/([^?#]*).*)?$",ut=new RegExp(`^https?://${lt}/${st}/b/${et}/o${at}`,"i"),ft={bucket:1,path:3},mt=s===DEFAULT_HOST?"(?:storage.googleapis.com|storage.cloud.google.com)":s,yt="([^?#]*)",ht=new RegExp(`^https?://${mt}/${et}/${yt}`,"i"),ct=[{regex:nt,indices:it,postModify:tt},{regex:ut,indices:ft,postModify:ot},{regex:ht,indices:{bucket:1,path:2},postModify:ot}];for(let gt=0;gt<ct.length;gt++){const Et=ct[gt],bt=Et.regex.exec(i);if(bt){const xt=bt[Et.indices.bucket];let Tt=bt[Et.indices.path];Tt||(Tt=""),a=new Location(xt,Tt),Et.postModify(a);break}}if(a==null)throw invalidUrl(i);return a}}class FailRequest{constructor(i){this.promise_=Promise.reject(i)}getPromise(){return this.promise_}cancel(i=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function start$1(o,i,s){let a=1,et=null,tt=null,rt=!1,nt=0;function it(){return nt===2}let ot=!1;function st(...yt){ot||(ot=!0,i.apply(null,yt))}function lt(yt){et=setTimeout(()=>{et=null,o(ut,it())},yt)}function at(){tt&&clearTimeout(tt)}function ut(yt,...ht){if(ot){at();return}if(yt){at(),st.call(null,yt,...ht);return}if(it()||rt){at(),st.call(null,yt,...ht);return}a<64&&(a*=2);let ct;nt===1?(nt=2,ct=0):ct=(a+Math.random())*1e3,lt(ct)}let ft=!1;function mt(yt){ft||(ft=!0,at(),!ot&&(et!==null?(yt||(nt=2),clearTimeout(et),lt(0)):yt||(nt=1)))}return lt(0),tt=setTimeout(()=>{rt=!0,mt(!0)},s),mt}function stop(o){o(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isJustDef(o){return o!==void 0}function isNonArrayObject(o){return typeof o=="object"&&!Array.isArray(o)}function isString(o){return typeof o=="string"||o instanceof String}function isNativeBlob(o){return isNativeBlobDefined()&&o instanceof Blob}function isNativeBlobDefined(){return typeof Blob<"u"}function validateNumber(o,i,s,a){if(a<i)throw invalidArgument(`Invalid value for '${o}'. Expected ${i} or greater.`);if(a>s)throw invalidArgument(`Invalid value for '${o}'. Expected ${s} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function makeUrl(o,i,s){let a=i;return s==null&&(a=`https://${i}`),`${s}://${a}/v0${o}`}function makeQueryString(o){const i=encodeURIComponent;let s="?";for(const a in o)if(o.hasOwnProperty(a)){const et=i(a)+"="+i(o[a]);s=s+et+"&"}return s=s.slice(0,-1),s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ErrorCode;(function(o){o[o.NO_ERROR=0]="NO_ERROR",o[o.NETWORK_ERROR=1]="NETWORK_ERROR",o[o.ABORT=2]="ABORT"})(ErrorCode||(ErrorCode={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isRetryStatusCode(o,i){const s=o>=500&&o<600,et=[408,429].indexOf(o)!==-1,tt=i.indexOf(o)!==-1;return s||et||tt}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NetworkRequest{constructor(i,s,a,et,tt,rt,nt,it,ot,st,lt,at=!0){this.url_=i,this.method_=s,this.headers_=a,this.body_=et,this.successCodes_=tt,this.additionalRetryCodes_=rt,this.callback_=nt,this.errorCallback_=it,this.timeout_=ot,this.progressCallback_=st,this.connectionFactory_=lt,this.retry=at,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((ut,ft)=>{this.resolve_=ut,this.reject_=ft,this.start_()})}start_(){const i=(a,et)=>{if(et){a(!1,new RequestEndStatus(!1,null,!0));return}const tt=this.connectionFactory_();this.pendingConnection_=tt;const rt=nt=>{const it=nt.loaded,ot=nt.lengthComputable?nt.total:-1;this.progressCallback_!==null&&this.progressCallback_(it,ot)};this.progressCallback_!==null&&tt.addUploadProgressListener(rt),tt.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&tt.removeUploadProgressListener(rt),this.pendingConnection_=null;const nt=tt.getErrorCode()===ErrorCode.NO_ERROR,it=tt.getStatus();if(!nt||isRetryStatusCode(it,this.additionalRetryCodes_)&&this.retry){const st=tt.getErrorCode()===ErrorCode.ABORT;a(!1,new RequestEndStatus(!1,null,st));return}const ot=this.successCodes_.indexOf(it)!==-1;a(!0,new RequestEndStatus(ot,tt))})},s=(a,et)=>{const tt=this.resolve_,rt=this.reject_,nt=et.connection;if(et.wasSuccessCode)try{const it=this.callback_(nt,nt.getResponse());isJustDef(it)?tt(it):tt()}catch(it){rt(it)}else if(nt!==null){const it=unknown();it.serverResponse=nt.getErrorText(),this.errorCallback_?rt(this.errorCallback_(nt,it)):rt(it)}else if(et.canceled){const it=this.appDelete_?appDeleted():canceled();rt(it)}else{const it=retryLimitExceeded();rt(it)}};this.canceled_?s(!1,new RequestEndStatus(!1,null,!0)):this.backoffId_=start$1(i,s,this.timeout_)}getPromise(){return this.promise_}cancel(i){this.canceled_=!0,this.appDelete_=i||!1,this.backoffId_!==null&&stop(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class RequestEndStatus{constructor(i,s,a){this.wasSuccessCode=i,this.connection=s,this.canceled=!!a}}function addAuthHeader_(o,i){i!==null&&i.length>0&&(o.Authorization="Firebase "+i)}function addVersionHeader_(o,i){o["X-Firebase-Storage-Version"]="webjs/"+(i??"AppManager")}function addGmpidHeader_(o,i){i&&(o["X-Firebase-GMPID"]=i)}function addAppCheckHeader_(o,i){i!==null&&(o["X-Firebase-AppCheck"]=i)}function makeRequest(o,i,s,a,et,tt,rt=!0){const nt=makeQueryString(o.urlParams),it=o.url+nt,ot=Object.assign({},o.headers);return addGmpidHeader_(ot,i),addAuthHeader_(ot,s),addVersionHeader_(ot,tt),addAppCheckHeader_(ot,a),new NetworkRequest(it,o.method,ot,o.body,o.successCodes,o.additionalRetryCodes,o.handler,o.errorHandler,o.timeout,o.progressCallback,et,rt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function getBlobBuilder(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function getBlob$1(...o){const i=getBlobBuilder();if(i!==void 0){const s=new i;for(let a=0;a<o.length;a++)s.append(o[a]);return s.getBlob()}else{if(isNativeBlobDefined())return new Blob(o);throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function sliceBlob(o,i,s){return o.webkitSlice?o.webkitSlice(i,s):o.mozSlice?o.mozSlice(i,s):o.slice?o.slice(i,s):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function decodeBase64(o){if(typeof atob>"u")throw missingPolyFill("base-64");return atob(o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const StringFormat={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class StringData{constructor(i,s){this.data=i,this.contentType=s||null}}function dataFromString(o,i){switch(o){case StringFormat.RAW:return new StringData(utf8Bytes_(i));case StringFormat.BASE64:case StringFormat.BASE64URL:return new StringData(base64Bytes_(o,i));case StringFormat.DATA_URL:return new StringData(dataURLBytes_(i),dataURLContentType_(i))}throw unknown()}function utf8Bytes_(o){const i=[];for(let s=0;s<o.length;s++){let a=o.charCodeAt(s);if(a<=127)i.push(a);else if(a<=2047)i.push(192|a>>6,128|a&63);else if((a&64512)===55296)if(!(s<o.length-1&&(o.charCodeAt(s+1)&64512)===56320))i.push(239,191,189);else{const tt=a,rt=o.charCodeAt(++s);a=65536|(tt&1023)<<10|rt&1023,i.push(240|a>>18,128|a>>12&63,128|a>>6&63,128|a&63)}else(a&64512)===56320?i.push(239,191,189):i.push(224|a>>12,128|a>>6&63,128|a&63)}return new Uint8Array(i)}function percentEncodedBytes_(o){let i;try{i=decodeURIComponent(o)}catch{throw invalidFormat(StringFormat.DATA_URL,"Malformed data URL.")}return utf8Bytes_(i)}function base64Bytes_(o,i){switch(o){case StringFormat.BASE64:{const et=i.indexOf("-")!==-1,tt=i.indexOf("_")!==-1;if(et||tt)throw invalidFormat(o,"Invalid character '"+(et?"-":"_")+"' found: is it base64url encoded?");break}case StringFormat.BASE64URL:{const et=i.indexOf("+")!==-1,tt=i.indexOf("/")!==-1;if(et||tt)throw invalidFormat(o,"Invalid character '"+(et?"+":"/")+"' found: is it base64 encoded?");i=i.replace(/-/g,"+").replace(/_/g,"/");break}}let s;try{s=decodeBase64(i)}catch(et){throw et.message.includes("polyfill")?et:invalidFormat(o,"Invalid character found")}const a=new Uint8Array(s.length);for(let et=0;et<s.length;et++)a[et]=s.charCodeAt(et);return a}class DataURLParts{constructor(i){this.base64=!1,this.contentType=null;const s=i.match(/^data:([^,]+)?,/);if(s===null)throw invalidFormat(StringFormat.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const a=s[1]||null;a!=null&&(this.base64=endsWith(a,";base64"),this.contentType=this.base64?a.substring(0,a.length-7):a),this.rest=i.substring(i.indexOf(",")+1)}}function dataURLBytes_(o){const i=new DataURLParts(o);return i.base64?base64Bytes_(StringFormat.BASE64,i.rest):percentEncodedBytes_(i.rest)}function dataURLContentType_(o){return new DataURLParts(o).contentType}function endsWith(o,i){return o.length>=i.length?o.substring(o.length-i.length)===i:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FbsBlob{constructor(i,s){let a=0,et="";isNativeBlob(i)?(this.data_=i,a=i.size,et=i.type):i instanceof ArrayBuffer?(s?this.data_=new Uint8Array(i):(this.data_=new Uint8Array(i.byteLength),this.data_.set(new Uint8Array(i))),a=this.data_.length):i instanceof Uint8Array&&(s?this.data_=i:(this.data_=new Uint8Array(i.length),this.data_.set(i)),a=i.length),this.size_=a,this.type_=et}size(){return this.size_}type(){return this.type_}slice(i,s){if(isNativeBlob(this.data_)){const a=this.data_,et=sliceBlob(a,i,s);return et===null?null:new FbsBlob(et)}else{const a=new Uint8Array(this.data_.buffer,i,s-i);return new FbsBlob(a,!0)}}static getBlob(...i){if(isNativeBlobDefined()){const s=i.map(a=>a instanceof FbsBlob?a.data_:a);return new FbsBlob(getBlob$1.apply(null,s))}else{const s=i.map(rt=>isString(rt)?dataFromString(StringFormat.RAW,rt).data:rt.data_);let a=0;s.forEach(rt=>{a+=rt.byteLength});const et=new Uint8Array(a);let tt=0;return s.forEach(rt=>{for(let nt=0;nt<rt.length;nt++)et[tt++]=rt[nt]}),new FbsBlob(et,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jsonObjectOrNull(o){let i;try{i=JSON.parse(o)}catch{return null}return isNonArrayObject(i)?i:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function parent(o){if(o.length===0)return null;const i=o.lastIndexOf("/");return i===-1?"":o.slice(0,i)}function child(o,i){const s=i.split("/").filter(a=>a.length>0).join("/");return o.length===0?s:o+"/"+s}function lastComponent(o){const i=o.lastIndexOf("/",o.length-2);return i===-1?o:o.slice(i+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function noXform_(o,i){return i}class Mapping{constructor(i,s,a,et){this.server=i,this.local=s||i,this.writable=!!a,this.xform=et||noXform_}}let mappings_=null;function xformPath(o){return!isString(o)||o.length<2?o:lastComponent(o)}function getMappings(){if(mappings_)return mappings_;const o=[];o.push(new Mapping("bucket")),o.push(new Mapping("generation")),o.push(new Mapping("metageneration")),o.push(new Mapping("name","fullPath",!0));function i(tt,rt){return xformPath(rt)}const s=new Mapping("name");s.xform=i,o.push(s);function a(tt,rt){return rt!==void 0?Number(rt):rt}const et=new Mapping("size");return et.xform=a,o.push(et),o.push(new Mapping("timeCreated")),o.push(new Mapping("updated")),o.push(new Mapping("md5Hash",null,!0)),o.push(new Mapping("cacheControl",null,!0)),o.push(new Mapping("contentDisposition",null,!0)),o.push(new Mapping("contentEncoding",null,!0)),o.push(new Mapping("contentLanguage",null,!0)),o.push(new Mapping("contentType",null,!0)),o.push(new Mapping("metadata","customMetadata",!0)),mappings_=o,mappings_}function addRef(o,i){function s(){const a=o.bucket,et=o.fullPath,tt=new Location(a,et);return i._makeStorageReference(tt)}Object.defineProperty(o,"ref",{get:s})}function fromResource(o,i,s){const a={};a.type="file";const et=s.length;for(let tt=0;tt<et;tt++){const rt=s[tt];a[rt.local]=rt.xform(a,i[rt.server])}return addRef(a,o),a}function fromResourceString(o,i,s){const a=jsonObjectOrNull(i);return a===null?null:fromResource(o,a,s)}function downloadUrlFromResourceString(o,i,s,a){const et=jsonObjectOrNull(i);if(et===null||!isString(et.downloadTokens))return null;const tt=et.downloadTokens;if(tt.length===0)return null;const rt=encodeURIComponent;return tt.split(",").map(ot=>{const st=o.bucket,lt=o.fullPath,at="/b/"+rt(st)+"/o/"+rt(lt),ut=makeUrl(at,s,a),ft=makeQueryString({alt:"media",token:ot});return ut+ft})[0]}function toResourceString(o,i){const s={},a=i.length;for(let et=0;et<a;et++){const tt=i[et];tt.writable&&(s[tt.server]=o[tt.local])}return JSON.stringify(s)}class RequestInfo{constructor(i,s,a,et){this.url=i,this.method=s,this.handler=a,this.timeout=et,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function handlerCheck(o){if(!o)throw unknown()}function metadataHandler(o,i){function s(a,et){const tt=fromResourceString(o,et,i);return handlerCheck(tt!==null),tt}return s}function downloadUrlHandler(o,i){function s(a,et){const tt=fromResourceString(o,et,i);return handlerCheck(tt!==null),downloadUrlFromResourceString(tt,et,o.host,o._protocol)}return s}function sharedErrorHandler(o){function i(s,a){let et;return s.getStatus()===401?s.getErrorText().includes("Firebase App Check token is invalid")?et=unauthorizedApp():et=unauthenticated():s.getStatus()===402?et=quotaExceeded(o.bucket):s.getStatus()===403?et=unauthorized(o.path):et=a,et.status=s.getStatus(),et.serverResponse=a.serverResponse,et}return i}function objectErrorHandler(o){const i=sharedErrorHandler(o);function s(a,et){let tt=i(a,et);return a.getStatus()===404&&(tt=objectNotFound(o.path)),tt.serverResponse=et.serverResponse,tt}return s}function getDownloadUrl(o,i,s){const a=i.fullServerUrl(),et=makeUrl(a,o.host,o._protocol),tt="GET",rt=o.maxOperationRetryTime,nt=new RequestInfo(et,tt,downloadUrlHandler(o,s),rt);return nt.errorHandler=objectErrorHandler(i),nt}function determineContentType_(o,i){return o&&o.contentType||i&&i.type()||"application/octet-stream"}function metadataForUpload_(o,i,s){const a=Object.assign({},s);return a.fullPath=o.path,a.size=i.size(),a.contentType||(a.contentType=determineContentType_(null,i)),a}function multipartUpload(o,i,s,a,et){const tt=i.bucketOnlyServerUrl(),rt={"X-Goog-Upload-Protocol":"multipart"};function nt(){let ct="";for(let gt=0;gt<2;gt++)ct=ct+Math.random().toString().slice(2);return ct}const it=nt();rt["Content-Type"]="multipart/related; boundary="+it;const ot=metadataForUpload_(i,a,et),st=toResourceString(ot,s),lt="--"+it+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+st+`\r
--`+it+`\r
Content-Type: `+ot.contentType+`\r
\r
`,at=`\r
--`+it+"--",ut=FbsBlob.getBlob(lt,a,at);if(ut===null)throw cannotSliceBlob();const ft={name:ot.fullPath},mt=makeUrl(tt,o.host,o._protocol),yt="POST",ht=o.maxUploadRetryTime,pt=new RequestInfo(mt,yt,metadataHandler(o,s),ht);return pt.urlParams=ft,pt.headers=rt,pt.body=ut.uploadData(),pt.errorHandler=sharedErrorHandler(i),pt}class XhrConnection{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=ErrorCode.NO_ERROR,this.sendPromise_=new Promise(i=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=ErrorCode.ABORT,i()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=ErrorCode.NETWORK_ERROR,i()}),this.xhr_.addEventListener("load",()=>{i()})})}send(i,s,a,et){if(this.sent_)throw internalError("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(s,i,!0),et!==void 0)for(const tt in et)et.hasOwnProperty(tt)&&this.xhr_.setRequestHeader(tt,et[tt].toString());return a!==void 0?this.xhr_.send(a):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw internalError("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw internalError("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw internalError("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw internalError("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(i){return this.xhr_.getResponseHeader(i)}addUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",i)}removeUploadProgressListener(i){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",i)}}class XhrTextConnection extends XhrConnection{initXhr(){this.xhr_.responseType="text"}}function newTextConnection(){return new XhrTextConnection}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Reference{constructor(i,s){this._service=i,s instanceof Location?this._location=s:this._location=Location.makeFromUrl(s,i.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(i,s){return new Reference(i,s)}get root(){const i=new Location(this._location.bucket,"");return this._newRef(this._service,i)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return lastComponent(this._location.path)}get storage(){return this._service}get parent(){const i=parent(this._location.path);if(i===null)return null;const s=new Location(this._location.bucket,i);return new Reference(this._service,s)}_throwIfRoot(i){if(this._location.path==="")throw invalidRootOperation(i)}}function uploadBytes$1(o,i,s){o._throwIfRoot("uploadBytes");const a=multipartUpload(o.storage,o._location,getMappings(),new FbsBlob(i,!0),s);return o.storage.makeRequestWithTokens(a,newTextConnection).then(et=>({metadata:et,ref:o}))}function getDownloadURL$1(o){o._throwIfRoot("getDownloadURL");const i=getDownloadUrl(o.storage,o._location,getMappings());return o.storage.makeRequestWithTokens(i,newTextConnection).then(s=>{if(s===null)throw noDownloadURL();return s})}function _getChild$1(o,i){const s=child(o._location.path,i),a=new Location(o._location.bucket,s);return new Reference(o.storage,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function isUrl(o){return/^[A-Za-z]+:\/\//.test(o)}function refFromURL(o,i){return new Reference(o,i)}function refFromPath(o,i){if(o instanceof FirebaseStorageImpl){const s=o;if(s._bucket==null)throw noDefaultBucket();const a=new Reference(s,s._bucket);return i!=null?refFromPath(a,i):a}else return i!==void 0?_getChild$1(o,i):o}function ref$1(o,i){if(i&&isUrl(i)){if(o instanceof FirebaseStorageImpl)return refFromURL(o,i);throw invalidArgument("To use ref(service, url), the first argument must be a Storage instance.")}else return refFromPath(o,i)}function extractBucket(o,i){const s=i==null?void 0:i[CONFIG_STORAGE_BUCKET_KEY];return s==null?null:Location.makeFromBucketSpec(s,o)}function connectStorageEmulator$1(o,i,s,a={}){o.host=`${i}:${s}`,o._protocol="http";const{mockUserToken:et}=a;et&&(o._overrideAuthToken=typeof et=="string"?et:createMockUserToken(et,o.app.options.projectId))}class FirebaseStorageImpl{constructor(i,s,a,et,tt){this.app=i,this._authProvider=s,this._appCheckProvider=a,this._url=et,this._firebaseVersion=tt,this._bucket=null,this._host=DEFAULT_HOST,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=DEFAULT_MAX_OPERATION_RETRY_TIME,this._maxUploadRetryTime=DEFAULT_MAX_UPLOAD_RETRY_TIME,this._requests=new Set,et!=null?this._bucket=Location.makeFromBucketSpec(et,this._host):this._bucket=extractBucket(this._host,this.app.options)}get host(){return this._host}set host(i){this._host=i,this._url!=null?this._bucket=Location.makeFromBucketSpec(this._url,i):this._bucket=extractBucket(i,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxUploadRetryTime=i}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(i){validateNumber("time",0,Number.POSITIVE_INFINITY,i),this._maxOperationRetryTime=i}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const i=this._authProvider.getImmediate({optional:!0});if(i){const s=await i.getToken();if(s!==null)return s.accessToken}return null}async _getAppCheckToken(){const i=this._appCheckProvider.getImmediate({optional:!0});return i?(await i.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(i=>i.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(i){return new Reference(this,i)}_makeRequest(i,s,a,et,tt=!0){if(this._deleted)return new FailRequest(appDeleted());{const rt=makeRequest(i,this._appId,a,et,s,this._firebaseVersion,tt);return this._requests.add(rt),rt.getPromise().then(()=>this._requests.delete(rt),()=>this._requests.delete(rt)),rt}}async makeRequestWithTokens(i,s){const[a,et]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(i,s,a,et).getPromise()}}const name="@firebase/storage",version="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const STORAGE_TYPE="storage";function uploadBytes(o,i,s){return o=getModularInstance(o),uploadBytes$1(o,i,s)}function getDownloadURL(o){return o=getModularInstance(o),getDownloadURL$1(o)}function ref(o,i){return o=getModularInstance(o),ref$1(o,i)}function getStorage(o=getApp(),i){o=getModularInstance(o);const a=_getProvider(o,STORAGE_TYPE).getImmediate({identifier:i}),et=getDefaultEmulatorHostnameAndPort("storage");return et&&connectStorageEmulator(a,...et),a}function connectStorageEmulator(o,i,s,a={}){connectStorageEmulator$1(o,i,s,a)}function factory(o,{instanceIdentifier:i}){const s=o.getProvider("app").getImmediate(),a=o.getProvider("auth-internal"),et=o.getProvider("app-check-internal");return new FirebaseStorageImpl(s,a,et,i,SDK_VERSION)}function registerStorage(){_registerComponent(new Component(STORAGE_TYPE,factory,"PUBLIC").setMultipleInstances(!0)),registerVersion(name,version,""),registerVersion(name,version,"esm2017")}registerStorage();var algoliasearch_umd={exports:{}};/*! algoliasearch.umd.js | 4.22.1 | © Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(o,i){(function(s,a){o.exports=a()})(commonjsGlobal$1,function(){function s(qt,Jt,Zt){return Jt in qt?Object.defineProperty(qt,Jt,{value:Zt,enumerable:!0,configurable:!0,writable:!0}):qt[Jt]=Zt,qt}function a(qt,Jt){var Zt=Object.keys(qt);if(Object.getOwnPropertySymbols){var rr=Object.getOwnPropertySymbols(qt);Jt&&(rr=rr.filter(function(gr){return Object.getOwnPropertyDescriptor(qt,gr).enumerable})),Zt.push.apply(Zt,rr)}return Zt}function et(qt){for(var Jt=1;Jt<arguments.length;Jt++){var Zt=arguments[Jt]!=null?arguments[Jt]:{};Jt%2?a(Object(Zt),!0).forEach(function(rr){s(qt,rr,Zt[rr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qt,Object.getOwnPropertyDescriptors(Zt)):a(Object(Zt)).forEach(function(rr){Object.defineProperty(qt,rr,Object.getOwnPropertyDescriptor(Zt,rr))})}return qt}function tt(qt,Jt){if(qt==null)return{};var Zt,rr,gr=function(Cr,Tr){if(Cr==null)return{};var $r,jr,kr={},Kr=Object.keys(Cr);for(jr=0;jr<Kr.length;jr++)$r=Kr[jr],Tr.indexOf($r)>=0||(kr[$r]=Cr[$r]);return kr}(qt,Jt);if(Object.getOwnPropertySymbols){var Ir=Object.getOwnPropertySymbols(qt);for(rr=0;rr<Ir.length;rr++)Zt=Ir[rr],Jt.indexOf(Zt)>=0||Object.prototype.propertyIsEnumerable.call(qt,Zt)&&(gr[Zt]=qt[Zt])}return gr}function rt(qt,Jt){return function(Zt){if(Array.isArray(Zt))return Zt}(qt)||function(Zt,rr){if(Symbol.iterator in Object(Zt)||Object.prototype.toString.call(Zt)==="[object Arguments]"){var gr=[],Ir=!0,Cr=!1,Tr=void 0;try{for(var $r,jr=Zt[Symbol.iterator]();!(Ir=($r=jr.next()).done)&&(gr.push($r.value),!rr||gr.length!==rr);Ir=!0);}catch(kr){Cr=!0,Tr=kr}finally{try{Ir||jr.return==null||jr.return()}finally{if(Cr)throw Tr}}return gr}}(qt,Jt)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function nt(qt){return function(Jt){if(Array.isArray(Jt)){for(var Zt=0,rr=new Array(Jt.length);Zt<Jt.length;Zt++)rr[Zt]=Jt[Zt];return rr}}(qt)||function(Jt){if(Symbol.iterator in Object(Jt)||Object.prototype.toString.call(Jt)==="[object Arguments]")return Array.from(Jt)}(qt)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function it(qt){var Jt,Zt="algoliasearch-client-js-".concat(qt.key),rr=function(){return Jt===void 0&&(Jt=qt.localStorage||window.localStorage),Jt},gr=function(){return JSON.parse(rr().getItem(Zt)||"{}")},Ir=function(Tr){rr().setItem(Zt,JSON.stringify(Tr))},Cr=function(){var Tr=qt.timeToLive?1e3*qt.timeToLive:null,$r=gr(),jr=Object.fromEntries(Object.entries($r).filter(function(Kr){return rt(Kr,2)[1].timestamp!==void 0}));if(Ir(jr),Tr){var kr=Object.fromEntries(Object.entries(jr).filter(function(Kr){var Gr=rt(Kr,2)[1],rn=new Date().getTime();return!(Gr.timestamp+Tr<rn)}));Ir(kr)}};return{get:function(Tr,$r){var jr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){Cr();var kr=JSON.stringify(Tr);return gr()[kr]}).then(function(kr){return Promise.all([kr?kr.value:$r(),kr!==void 0])}).then(function(kr){var Kr=rt(kr,2),Gr=Kr[0],rn=Kr[1];return Promise.all([Gr,rn||jr.miss(Gr)])}).then(function(kr){return rt(kr,1)[0]})},set:function(Tr,$r){return Promise.resolve().then(function(){var jr=gr();return jr[JSON.stringify(Tr)]={timestamp:new Date().getTime(),value:$r},rr().setItem(Zt,JSON.stringify(jr)),$r})},delete:function(Tr){return Promise.resolve().then(function(){var $r=gr();delete $r[JSON.stringify(Tr)],rr().setItem(Zt,JSON.stringify($r))})},clear:function(){return Promise.resolve().then(function(){rr().removeItem(Zt)})}}}function ot(qt){var Jt=nt(qt.caches),Zt=Jt.shift();return Zt===void 0?{get:function(rr,gr){var Ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},Cr=gr();return Cr.then(function(Tr){return Promise.all([Tr,Ir.miss(Tr)])}).then(function(Tr){return rt(Tr,1)[0]})},set:function(rr,gr){return Promise.resolve(gr)},delete:function(rr){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(rr,gr){var Ir=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Zt.get(rr,gr,Ir).catch(function(){return ot({caches:Jt}).get(rr,gr,Ir)})},set:function(rr,gr){return Zt.set(rr,gr).catch(function(){return ot({caches:Jt}).set(rr,gr)})},delete:function(rr){return Zt.delete(rr).catch(function(){return ot({caches:Jt}).delete(rr)})},clear:function(){return Zt.clear().catch(function(){return ot({caches:Jt}).clear()})}}}function st(){var qt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},Jt={};return{get:function(Zt,rr){var gr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},Ir=JSON.stringify(Zt);if(Ir in Jt)return Promise.resolve(qt.serializable?JSON.parse(Jt[Ir]):Jt[Ir]);var Cr=rr(),Tr=gr&&gr.miss||function(){return Promise.resolve()};return Cr.then(function($r){return Tr($r)}).then(function(){return Cr})},set:function(Zt,rr){return Jt[JSON.stringify(Zt)]=qt.serializable?JSON.stringify(rr):rr,Promise.resolve(rr)},delete:function(Zt){return delete Jt[JSON.stringify(Zt)],Promise.resolve()},clear:function(){return Jt={},Promise.resolve()}}}function lt(qt,Jt,Zt){var rr={"x-algolia-api-key":Zt,"x-algolia-application-id":Jt};return{headers:function(){return qt===ht.WithinHeaders?rr:{}},queryParameters:function(){return qt===ht.WithinQueryParameters?rr:{}}}}function at(qt){var Jt=0;return qt(function Zt(){return Jt++,new Promise(function(rr){setTimeout(function(){rr(qt(Zt))},Math.min(100*Jt,1e3))})})}function ut(qt){var Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(Zt,rr){return Promise.resolve()};return Object.assign(qt,{wait:function(Zt){return ut(qt.then(function(rr){return Promise.all([Jt(rr,Zt),rr])}).then(function(rr){return rr[1]}))}})}function ft(qt){for(var Jt=qt.length-1;Jt>0;Jt--){var Zt=Math.floor(Math.random()*(Jt+1)),rr=qt[Jt];qt[Jt]=qt[Zt],qt[Zt]=rr}return qt}function mt(qt,Jt){return Jt&&Object.keys(Jt).forEach(function(Zt){qt[Zt]=Jt[Zt](qt)}),qt}function yt(qt){for(var Jt=arguments.length,Zt=new Array(Jt>1?Jt-1:0),rr=1;rr<Jt;rr++)Zt[rr-1]=arguments[rr];var gr=0;return qt.replace(/%s/g,function(){return encodeURIComponent(Zt[gr++])})}var ht={WithinQueryParameters:0,WithinHeaders:1};function pt(qt,Jt){var Zt=qt||{},rr=Zt.data||{};return Object.keys(Zt).forEach(function(gr){["timeout","headers","queryParameters","data","cacheable"].indexOf(gr)===-1&&(rr[gr]=Zt[gr])}),{data:Object.entries(rr).length>0?rr:void 0,timeout:Zt.timeout||Jt,headers:Zt.headers||{},queryParameters:Zt.queryParameters||{},cacheable:Zt.cacheable}}var ct={Read:1,Write:2,Any:3},gt=1,Et=2,bt=3;function xt(qt){var Jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:gt;return et(et({},qt),{},{status:Jt,lastUpdate:Date.now()})}function Tt(qt){return typeof qt=="string"?{protocol:"https",url:qt,accept:ct.Any}:{protocol:qt.protocol||"https",url:qt.url,accept:qt.accept||ct.Any}}var wt="DELETE",It="GET",At="POST",kt="PUT";function Vt(qt,Jt){return Promise.all(Jt.map(function(Zt){return qt.get(Zt,function(){return Promise.resolve(xt(Zt))})})).then(function(Zt){var rr=Zt.filter(function(Cr){return function(Tr){return Tr.status===gt||Date.now()-Tr.lastUpdate>12e4}(Cr)}),gr=Zt.filter(function(Cr){return function(Tr){return Tr.status===bt&&Date.now()-Tr.lastUpdate<=12e4}(Cr)}),Ir=[].concat(nt(rr),nt(gr));return{getTimeout:function(Cr,Tr){return(gr.length===0&&Cr===0?1:gr.length+3+Cr)*Tr},statelessHosts:Ir.length>0?Ir.map(function(Cr){return Tt(Cr)}):Jt}})}function Mt(qt,Jt,Zt,rr){var gr=[],Ir=function(Gr,rn){if(!(Gr.method===It||Gr.data===void 0&&rn.data===void 0)){var Xr=Array.isArray(Gr.data)?Gr.data:et(et({},Gr.data),rn.data);return JSON.stringify(Xr)}}(Zt,rr),Cr=function(Gr,rn){var Xr=et(et({},Gr.headers),rn.headers),hn={};return Object.keys(Xr).forEach(function(gn){var $n=Xr[gn];hn[gn.toLowerCase()]=$n}),hn}(qt,rr),Tr=Zt.method,$r=Zt.method!==It?{}:et(et({},Zt.data),rr.data),jr=et(et(et({"x-algolia-agent":qt.userAgent.value},qt.queryParameters),$r),rr.queryParameters),kr=0,Kr=function Gr(rn,Xr){var hn=rn.pop();if(hn===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, contact support@algolia.com.",transporterStackTrace:$t(gr)};var gn={data:Ir,headers:Cr,method:Tr,url:Ct(hn,Zt.path,jr),connectTimeout:Xr(kr,qt.timeouts.connect),responseTimeout:Xr(kr,rr.timeout)},$n=function(On){var Sn={request:gn,response:On,host:hn,triesLeft:rn.length};return gr.push(Sn),Sn},Go={onSuccess:function(On){return function(Sn){try{return JSON.parse(Sn.content)}catch(_o){throw function(Xn,Co){return{name:"DeserializationError",message:Xn,response:Co}}(_o.message,Sn)}}(On)},onRetry:function(On){var Sn=$n(On);return On.isTimedOut&&kr++,Promise.all([qt.logger.info("Retryable failure",Lt(Sn)),qt.hostsCache.set(hn,xt(hn,On.isTimedOut?bt:Et))]).then(function(){return Gr(rn,Xr)})},onFail:function(On){throw $n(On),function(Sn,_o){var Xn=Sn.content,Co=Sn.status,Ko=Xn;try{Ko=JSON.parse(Xn).message}catch{}return function(_s,qs,Iu){return{name:"ApiError",message:_s,status:qs,transporterStackTrace:Iu}}(Ko,Co,_o)}(On,$t(gr))}};return qt.requester.send(gn).then(function(On){return function(Sn,_o){return function(Xn){var Co=Xn.status;return Xn.isTimedOut||function(Ko){var _s=Ko.isTimedOut,qs=Ko.status;return!_s&&~~qs==0}(Xn)||~~(Co/100)!=2&&~~(Co/100)!=4}(Sn)?_o.onRetry(Sn):~~(Sn.status/100)==2?_o.onSuccess(Sn):_o.onFail(Sn)}(On,Go)})};return Vt(qt.hostsCache,Jt).then(function(Gr){return Kr(nt(Gr.statelessHosts).reverse(),Gr.getTimeout)})}function Ot(qt){var Jt=qt.hostsCache,Zt=qt.logger,rr=qt.requester,gr=qt.requestsCache,Ir=qt.responsesCache,Cr=qt.timeouts,Tr=qt.userAgent,$r=qt.hosts,jr=qt.queryParameters,kr={hostsCache:Jt,logger:Zt,requester:rr,requestsCache:gr,responsesCache:Ir,timeouts:Cr,userAgent:Tr,headers:qt.headers,queryParameters:jr,hosts:$r.map(function(Kr){return Tt(Kr)}),read:function(Kr,Gr){var rn=pt(Gr,kr.timeouts.read),Xr=function(){return Mt(kr,kr.hosts.filter(function(gn){return(gn.accept&ct.Read)!=0}),Kr,rn)};if((rn.cacheable!==void 0?rn.cacheable:Kr.cacheable)!==!0)return Xr();var hn={request:Kr,mappedRequestOptions:rn,transporter:{queryParameters:kr.queryParameters,headers:kr.headers}};return kr.responsesCache.get(hn,function(){return kr.requestsCache.get(hn,function(){return kr.requestsCache.set(hn,Xr()).then(function(gn){return Promise.all([kr.requestsCache.delete(hn),gn])},function(gn){return Promise.all([kr.requestsCache.delete(hn),Promise.reject(gn)])}).then(function(gn){var $n=rt(gn,2);return $n[0],$n[1]})})},{miss:function(gn){return kr.responsesCache.set(hn,gn)}})},write:function(Kr,Gr){return Mt(kr,kr.hosts.filter(function(rn){return(rn.accept&ct.Write)!=0}),Kr,pt(Gr,kr.timeouts.write))}};return kr}function Dt(qt){var Jt={value:"Algolia for JavaScript (".concat(qt,")"),add:function(Zt){var rr="; ".concat(Zt.segment).concat(Zt.version!==void 0?" (".concat(Zt.version,")"):"");return Jt.value.indexOf(rr)===-1&&(Jt.value="".concat(Jt.value).concat(rr)),Jt}};return Jt}function Ct(qt,Jt,Zt){var rr=St(Zt),gr="".concat(qt.protocol,"://").concat(qt.url,"/").concat(Jt.charAt(0)==="/"?Jt.substr(1):Jt);return rr.length&&(gr+="?".concat(rr)),gr}function St(qt){return Object.keys(qt).map(function(Jt){return yt("%s=%s",Jt,(Zt=qt[Jt],Object.prototype.toString.call(Zt)==="[object Object]"||Object.prototype.toString.call(Zt)==="[object Array]"?JSON.stringify(qt[Jt]):qt[Jt]));var Zt}).join("&")}function $t(qt){return qt.map(function(Jt){return Lt(Jt)})}function Lt(qt){var Jt=qt.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return et(et({},qt),{},{request:et(et({},qt.request),{},{headers:et(et({},qt.request.headers),Jt)})})}var Rt=function(qt){return function(Jt,Zt){return qt.transporter.write({method:At,path:"2/abtests",data:Jt},Zt)}},jt=function(qt){return function(Jt,Zt){return qt.transporter.write({method:wt,path:yt("2/abtests/%s",Jt)},Zt)}},Ft=function(qt){return function(Jt,Zt){return qt.transporter.read({method:It,path:yt("2/abtests/%s",Jt)},Zt)}},zt=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"2/abtests"},Jt)}},Gt=function(qt){return function(Jt,Zt){return qt.transporter.write({method:At,path:yt("2/abtests/%s/stop",Jt)},Zt)}},Bt=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"1/strategies/personalization"},Jt)}},Wt=function(qt){return function(Jt,Zt){return qt.transporter.write({method:At,path:"1/strategies/personalization",data:Jt},Zt)}};function Kt(qt){return function Jt(Zt){return qt.request(Zt).then(function(rr){if(qt.batch!==void 0&&qt.batch(rr.hits),!qt.shouldStop(rr))return rr.cursor?Jt({cursor:rr.cursor}):Jt({page:(Zt.page||0)+1})})}({})}var Qt=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.queryParameters,Ir=tt(rr,["queryParameters"]),Cr=et({acl:Jt},gr!==void 0?{queryParameters:gr}:{});return ut(qt.transporter.write({method:At,path:"1/keys",data:Cr},Ir),function(Tr,$r){return at(function(jr){return pr(qt)(Tr.key,$r).catch(function(kr){if(kr.status!==404)throw kr;return jr()})})})}},Xt=function(qt){return function(Jt,Zt,rr){var gr=pt(rr);return gr.queryParameters["X-Algolia-User-ID"]=Jt,qt.transporter.write({method:At,path:"1/clusters/mapping",data:{cluster:Zt}},gr)}},er=function(qt){return function(Jt,Zt,rr){return qt.transporter.write({method:At,path:"1/clusters/mapping/batch",data:{users:Jt,cluster:Zt}},rr)}},sr=function(qt){return function(Jt,Zt){return ut(qt.transporter.write({method:At,path:yt("/1/dictionaries/%s/batch",Jt),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},Zt),function(rr,gr){return so(qt)(rr.taskID,gr)})}},ur=function(qt){return function(Jt,Zt,rr){return ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/operation",Jt),data:{operation:"copy",destination:Zt}},rr),function(gr,Ir){return zr(qt)(Jt,{methods:{waitTask:vn}}).waitTask(gr.taskID,Ir)})}},nr=function(qt){return function(Jt,Zt,rr){return ur(qt)(Jt,Zt,et(et({},rr),{},{scope:[ys.Rules]}))}},yr=function(qt){return function(Jt,Zt,rr){return ur(qt)(Jt,Zt,et(et({},rr),{},{scope:[ys.Settings]}))}},Ar=function(qt){return function(Jt,Zt,rr){return ur(qt)(Jt,Zt,et(et({},rr),{},{scope:[ys.Synonyms]}))}},Er=function(qt){return function(Jt,Zt){return Jt.method===It?qt.transporter.read(Jt,Zt):qt.transporter.write(Jt,Zt)}},lr=function(qt){return function(Jt,Zt){return ut(qt.transporter.write({method:wt,path:yt("1/keys/%s",Jt)},Zt),function(rr,gr){return at(function(Ir){return pr(qt)(Jt,gr).then(Ir).catch(function(Cr){if(Cr.status!==404)throw Cr})})})}},dr=function(qt){return function(Jt,Zt,rr){var gr=Zt.map(function(Ir){return{action:"deleteEntry",body:{objectID:Ir}}});return ut(qt.transporter.write({method:At,path:yt("/1/dictionaries/%s/batch",Jt),data:{clearExistingDictionaryEntries:!1,requests:gr}},rr),function(Ir,Cr){return so(qt)(Ir.taskID,Cr)})}},pr=function(qt){return function(Jt,Zt){return qt.transporter.read({method:It,path:yt("1/keys/%s",Jt)},Zt)}},ar=function(qt){return function(Jt,Zt){return qt.transporter.read({method:It,path:yt("1/task/%s",Jt.toString())},Zt)}},mr=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"/1/dictionaries/*/settings"},Jt)}},wr=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"1/logs"},Jt)}},Sr=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"1/clusters/mapping/top"},Jt)}},Or=function(qt){return function(Jt,Zt){return qt.transporter.read({method:It,path:yt("1/clusters/mapping/%s",Jt)},Zt)}},Ur=function(qt){return function(Jt){var Zt=Jt||{},rr=Zt.retrieveMappings,gr=tt(Zt,["retrieveMappings"]);return rr===!0&&(gr.getClusters=!0),qt.transporter.read({method:It,path:"1/clusters/mapping/pending"},gr)}},zr=function(qt){return function(Jt){var Zt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rr={transporter:qt.transporter,appId:qt.appId,indexName:Jt};return mt(rr,Zt.methods)}},Vr=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"1/keys"},Jt)}},Mr=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"1/clusters"},Jt)}},Br=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"1/indexes"},Jt)}},fn=function(qt){return function(Jt){return qt.transporter.read({method:It,path:"1/clusters/mapping"},Jt)}},In=function(qt){return function(Jt,Zt,rr){return ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/operation",Jt),data:{operation:"move",destination:Zt}},rr),function(gr,Ir){return zr(qt)(Jt,{methods:{waitTask:vn}}).waitTask(gr.taskID,Ir)})}},Nr=function(qt){return function(Jt,Zt){return ut(qt.transporter.write({method:At,path:"1/indexes/*/batch",data:{requests:Jt}},Zt),function(rr,gr){return Promise.all(Object.keys(rr.taskID).map(function(Ir){return zr(qt)(Ir,{methods:{waitTask:vn}}).waitTask(rr.taskID[Ir],gr)}))})}},on=function(qt){return function(Jt,Zt){return qt.transporter.read({method:At,path:"1/indexes/*/objects",data:{requests:Jt}},Zt)}},ln=function(qt){return function(Jt,Zt){var rr=Jt.map(function(gr){return et(et({},gr),{},{params:St(gr.params||{})})});return qt.transporter.read({method:At,path:"1/indexes/*/queries",data:{requests:rr},cacheable:!0},Zt)}},Rn=function(qt){return function(Jt,Zt){return Promise.all(Jt.map(function(rr){var gr=rr.params,Ir=gr.facetName,Cr=gr.facetQuery,Tr=tt(gr,["facetName","facetQuery"]);return zr(qt)(rr.indexName,{methods:{searchForFacetValues:Sl}}).searchForFacetValues(Ir,Cr,et(et({},Zt),Tr))}))}},oo=function(qt){return function(Jt,Zt){var rr=pt(Zt);return rr.queryParameters["X-Algolia-User-ID"]=Jt,qt.transporter.write({method:wt,path:"1/clusters/mapping"},rr)}},os=function(qt){return function(Jt,Zt,rr){var gr=Zt.map(function(Ir){return{action:"addEntry",body:Ir}});return ut(qt.transporter.write({method:At,path:yt("/1/dictionaries/%s/batch",Jt),data:{clearExistingDictionaryEntries:!0,requests:gr}},rr),function(Ir,Cr){return so(qt)(Ir.taskID,Cr)})}},Ds=function(qt){return function(Jt,Zt){return ut(qt.transporter.write({method:At,path:yt("1/keys/%s/restore",Jt)},Zt),function(rr,gr){return at(function(Ir){return pr(qt)(Jt,gr).catch(function(Cr){if(Cr.status!==404)throw Cr;return Ir()})})})}},Os=function(qt){return function(Jt,Zt,rr){var gr=Zt.map(function(Ir){return{action:"addEntry",body:Ir}});return ut(qt.transporter.write({method:At,path:yt("/1/dictionaries/%s/batch",Jt),data:{clearExistingDictionaryEntries:!1,requests:gr}},rr),function(Ir,Cr){return so(qt)(Ir.taskID,Cr)})}},ss=function(qt){return function(Jt,Zt,rr){return qt.transporter.read({method:At,path:yt("/1/dictionaries/%s/search",Jt),data:{query:Zt},cacheable:!0},rr)}},Fo=function(qt){return function(Jt,Zt){return qt.transporter.read({method:At,path:"1/clusters/mapping/search",data:{query:Jt}},Zt)}},as=function(qt){return function(Jt,Zt){return ut(qt.transporter.write({method:kt,path:"/1/dictionaries/*/settings",data:Jt},Zt),function(rr,gr){return so(qt)(rr.taskID,gr)})}},ls=function(qt){return function(Jt,Zt){var rr=Object.assign({},Zt),gr=Zt||{},Ir=gr.queryParameters,Cr=tt(gr,["queryParameters"]),Tr=Ir?{queryParameters:Ir}:{},$r=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return ut(qt.transporter.write({method:kt,path:yt("1/keys/%s",Jt),data:Tr},Cr),function(jr,kr){return at(function(Kr){return pr(qt)(Jt,kr).then(function(Gr){return function(rn){return Object.keys(rr).filter(function(Xr){return $r.indexOf(Xr)!==-1}).every(function(Xr){if(Array.isArray(rn[Xr])&&Array.isArray(rr[Xr])){var hn=rn[Xr];return hn.length===rr[Xr].length&&hn.every(function(gn,$n){return gn===rr[Xr][$n]})}return rn[Xr]===rr[Xr]})}(Gr)?Promise.resolve():Kr()})})})}},so=function(qt){return function(Jt,Zt){return at(function(rr){return ar(qt)(Jt,Zt).then(function(gr){return gr.status!=="published"?rr():void 0})})}},Bo=function(qt){return function(Jt,Zt){return ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/batch",qt.indexName),data:{requests:Jt}},Zt),function(rr,gr){return vn(qt)(rr.taskID,gr)})}},Uo=function(qt){return function(Jt){return Kt(et(et({shouldStop:function(Zt){return Zt.cursor===void 0}},Jt),{},{request:function(Zt){return qt.transporter.read({method:At,path:yt("1/indexes/%s/browse",qt.indexName),data:Zt},Jt)}}))}},Vs=function(qt){return function(Jt){var Zt=et({hitsPerPage:1e3},Jt);return Kt(et(et({shouldStop:function(rr){return rr.hits.length<Zt.hitsPerPage}},Zt),{},{request:function(rr){return Us(qt)("",et(et({},Zt),rr)).then(function(gr){return et(et({},gr),{},{hits:gr.hits.map(function(Ir){return delete Ir._highlightResult,Ir})})})}}))}},Ms=function(qt){return function(Jt){var Zt=et({hitsPerPage:1e3},Jt);return Kt(et(et({shouldStop:function(rr){return rr.hits.length<Zt.hitsPerPage}},Zt),{},{request:function(rr){return zs(qt)("",et(et({},Zt),rr)).then(function(gr){return et(et({},gr),{},{hits:gr.hits.map(function(Ir){return delete Ir._highlightResult,Ir})})})}}))}},zo=function(qt){return function(Jt,Zt,rr){var gr=rr||{},Ir=gr.batchSize,Cr=tt(gr,["batchSize"]),Tr={taskIDs:[],objectIDs:[]};return ut(function $r(){var jr,kr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Kr=[];for(jr=kr;jr<Jt.length&&(Kr.push(Jt[jr]),Kr.length!==(Ir||1e3));jr++);return Kr.length===0?Promise.resolve(Tr):Bo(qt)(Kr.map(function(Gr){return{action:Zt,body:Gr}}),Cr).then(function(Gr){return Tr.objectIDs=Tr.objectIDs.concat(Gr.objectIDs),Tr.taskIDs.push(Gr.taskID),jr++,$r(jr)})}(),function($r,jr){return Promise.all($r.taskIDs.map(function(kr){return vn(qt)(kr,jr)}))})}},go=function(qt){return function(Jt){return ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/clear",qt.indexName)},Jt),function(Zt,rr){return vn(qt)(Zt.taskID,rr)})}},Ls=function(qt){return function(Jt){var Zt=Jt||{},rr=Zt.forwardToReplicas,gr=pt(tt(Zt,["forwardToReplicas"]));return rr&&(gr.queryParameters.forwardToReplicas=1),ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/rules/clear",qt.indexName)},gr),function(Ir,Cr){return vn(qt)(Ir.taskID,Cr)})}},ao=function(qt){return function(Jt){var Zt=Jt||{},rr=Zt.forwardToReplicas,gr=pt(tt(Zt,["forwardToReplicas"]));return rr&&(gr.queryParameters.forwardToReplicas=1),ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/synonyms/clear",qt.indexName)},gr),function(Ir,Cr){return vn(qt)(Ir.taskID,Cr)})}},Wo=function(qt){return function(Jt,Zt){return ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/deleteByQuery",qt.indexName),data:Jt},Zt),function(rr,gr){return vn(qt)(rr.taskID,gr)})}},Ln=function(qt){return function(Jt){return ut(qt.transporter.write({method:wt,path:yt("1/indexes/%s",qt.indexName)},Jt),function(Zt,rr){return vn(qt)(Zt.taskID,rr)})}},yo=function(qt){return function(Jt,Zt){return ut(us(qt)([Jt],Zt).then(function(rr){return{taskID:rr.taskIDs[0]}}),function(rr,gr){return vn(qt)(rr.taskID,gr)})}},us=function(qt){return function(Jt,Zt){var rr=Jt.map(function(gr){return{objectID:gr}});return zo(qt)(rr,So.DeleteObject,Zt)}},vo=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.forwardToReplicas,Ir=pt(tt(rr,["forwardToReplicas"]));return gr&&(Ir.queryParameters.forwardToReplicas=1),ut(qt.transporter.write({method:wt,path:yt("1/indexes/%s/rules/%s",qt.indexName,Jt)},Ir),function(Cr,Tr){return vn(qt)(Cr.taskID,Tr)})}},qo=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.forwardToReplicas,Ir=pt(tt(rr,["forwardToReplicas"]));return gr&&(Ir.queryParameters.forwardToReplicas=1),ut(qt.transporter.write({method:wt,path:yt("1/indexes/%s/synonyms/%s",qt.indexName,Jt)},Ir),function(Cr,Tr){return vn(qt)(Cr.taskID,Tr)})}},cs=function(qt){return function(Jt){return hs(qt)(Jt).then(function(){return!0}).catch(function(Zt){if(Zt.status!==404)throw Zt;return!1})}},ds=function(qt){return function(Jt,Zt,rr){return qt.transporter.read({method:At,path:yt("1/answers/%s/prediction",qt.indexName),data:{query:Jt,queryLanguages:Zt},cacheable:!0},rr)}},Ho=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.query,Ir=rr.paginate,Cr=tt(rr,["query","paginate"]),Tr=0;return function $r(){return Al(qt)(gr||"",et(et({},Cr),{},{page:Tr})).then(function(jr){for(var kr=0,Kr=Object.entries(jr.hits);kr<Kr.length;kr++){var Gr=rt(Kr[kr],2),rn=Gr[0],Xr=Gr[1];if(Jt(Xr))return{object:Xr,position:parseInt(rn,10),page:Tr}}if(Tr++,Ir===!1||Tr>=jr.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return $r()})}()}},fs=function(qt){return function(Jt,Zt){return qt.transporter.read({method:It,path:yt("1/indexes/%s/%s",qt.indexName,Jt)},Zt)}},js=function(){return function(qt,Jt){for(var Zt=0,rr=Object.entries(qt.hits);Zt<rr.length;Zt++){var gr=rt(rr[Zt],2),Ir=gr[0];if(gr[1].objectID===Jt)return parseInt(Ir,10)}return-1}},Ns=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.attributesToRetrieve,Ir=tt(rr,["attributesToRetrieve"]),Cr=Jt.map(function(Tr){return et({indexName:qt.indexName,objectID:Tr},gr?{attributesToRetrieve:gr}:{})});return qt.transporter.read({method:At,path:"1/indexes/*/objects",data:{requests:Cr}},Ir)}},Fs=function(qt){return function(Jt,Zt){return qt.transporter.read({method:It,path:yt("1/indexes/%s/rules/%s",qt.indexName,Jt)},Zt)}},hs=function(qt){return function(Jt){return qt.transporter.read({method:It,path:yt("1/indexes/%s/settings",qt.indexName),data:{getVersion:2}},Jt)}},Zr=function(qt){return function(Jt,Zt){return qt.transporter.read({method:It,path:yt("1/indexes/%s/synonyms/%s",qt.indexName,Jt)},Zt)}},Pn=function(qt){return function(Jt,Zt){return ut(Il(qt)([Jt],Zt).then(function(rr){return{objectID:rr.objectIDs[0],taskID:rr.taskIDs[0]}}),function(rr,gr){return vn(qt)(rr.taskID,gr)})}},Il=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.createIfNotExists,Ir=tt(rr,["createIfNotExists"]),Cr=gr?So.PartialUpdateObject:So.PartialUpdateObjectNoCreate;return zo(qt)(Jt,Cr,Ir)}},ps=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.safe,Ir=rr.autoGenerateObjectIDIfNotExist,Cr=rr.batchSize,Tr=tt(rr,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),$r=function(Xr,hn,gn,$n){return ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/operation",Xr),data:{operation:gn,destination:hn}},$n),function(Go,On){return vn(qt)(Go.taskID,On)})},jr=Math.random().toString(36).substring(7),kr="".concat(qt.indexName,"_tmp_").concat(jr),Kr=ms({appId:qt.appId,transporter:qt.transporter,indexName:kr}),Gr=[],rn=$r(qt.indexName,kr,"copy",et(et({},Tr),{},{scope:["settings","synonyms","rules"]}));return Gr.push(rn),ut((gr?rn.wait(Tr):rn).then(function(){var Xr=Kr(Jt,et(et({},Tr),{},{autoGenerateObjectIDIfNotExist:Ir,batchSize:Cr}));return Gr.push(Xr),gr?Xr.wait(Tr):Xr}).then(function(){var Xr=$r(kr,qt.indexName,"move",Tr);return Gr.push(Xr),gr?Xr.wait(Tr):Xr}).then(function(){return Promise.all(Gr)}).then(function(Xr){var hn=rt(Xr,3),gn=hn[0],$n=hn[1],Go=hn[2];return{objectIDs:$n.objectIDs,taskIDs:[gn.taskID].concat(nt($n.taskIDs),[Go.taskID])}}),function(Xr,hn){return Promise.all(Gr.map(function(gn){return gn.wait(hn)}))})}},Eu=function(qt){return function(Jt,Zt){return gs(qt)(Jt,et(et({},Zt),{},{clearExistingRules:!0}))}},xu=function(qt){return function(Jt,Zt){return Bs(qt)(Jt,et(et({},Zt),{},{clearExistingSynonyms:!0}))}},bu=function(qt){return function(Jt,Zt){return ut(ms(qt)([Jt],Zt).then(function(rr){return{objectID:rr.objectIDs[0],taskID:rr.taskIDs[0]}}),function(rr,gr){return vn(qt)(rr.taskID,gr)})}},ms=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.autoGenerateObjectIDIfNotExist,Ir=tt(rr,["autoGenerateObjectIDIfNotExist"]),Cr=gr?So.AddObject:So.UpdateObject;if(Cr===So.UpdateObject){var Tr=!0,$r=!1,jr=void 0;try{for(var kr,Kr=Jt[Symbol.iterator]();!(Tr=(kr=Kr.next()).done);Tr=!0)if(kr.value.objectID===void 0)return ut(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(Gr){$r=!0,jr=Gr}finally{try{Tr||Kr.return==null||Kr.return()}finally{if($r)throw jr}}}return zo(qt)(Jt,Cr,Ir)}},Rl=function(qt){return function(Jt,Zt){return gs(qt)([Jt],Zt)}},gs=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.forwardToReplicas,Ir=rr.clearExistingRules,Cr=pt(tt(rr,["forwardToReplicas","clearExistingRules"]));return gr&&(Cr.queryParameters.forwardToReplicas=1),Ir&&(Cr.queryParameters.clearExistingRules=1),ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/rules/batch",qt.indexName),data:Jt},Cr),function(Tr,$r){return vn(qt)(Tr.taskID,$r)})}},Tu=function(qt){return function(Jt,Zt){return Bs(qt)([Jt],Zt)}},Bs=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.forwardToReplicas,Ir=rr.clearExistingSynonyms,Cr=rr.replaceExistingSynonyms,Tr=pt(tt(rr,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return gr&&(Tr.queryParameters.forwardToReplicas=1),(Cr||Ir)&&(Tr.queryParameters.replaceExistingSynonyms=1),ut(qt.transporter.write({method:At,path:yt("1/indexes/%s/synonyms/batch",qt.indexName),data:Jt},Tr),function($r,jr){return vn(qt)($r.taskID,jr)})}},Al=function(qt){return function(Jt,Zt){return qt.transporter.read({method:At,path:yt("1/indexes/%s/query",qt.indexName),data:{query:Jt},cacheable:!0},Zt)}},Sl=function(qt){return function(Jt,Zt,rr){return qt.transporter.read({method:At,path:yt("1/indexes/%s/facets/%s/query",qt.indexName,Jt),data:{facetQuery:Zt},cacheable:!0},rr)}},Us=function(qt){return function(Jt,Zt){return qt.transporter.read({method:At,path:yt("1/indexes/%s/rules/search",qt.indexName),data:{query:Jt}},Zt)}},zs=function(qt){return function(Jt,Zt){return qt.transporter.read({method:At,path:yt("1/indexes/%s/synonyms/search",qt.indexName),data:{query:Jt}},Zt)}},Cl=function(qt){return function(Jt,Zt){var rr=Zt||{},gr=rr.forwardToReplicas,Ir=pt(tt(rr,["forwardToReplicas"]));return gr&&(Ir.queryParameters.forwardToReplicas=1),ut(qt.transporter.write({method:kt,path:yt("1/indexes/%s/settings",qt.indexName),data:Jt},Ir),function(Cr,Tr){return vn(qt)(Cr.taskID,Tr)})}},vn=function(qt){return function(Jt,Zt){return at(function(rr){return function(gr){return function(Ir,Cr){return gr.transporter.read({method:It,path:yt("1/indexes/%s/task/%s",gr.indexName,Ir.toString())},Cr)}}(qt)(Jt,Zt).then(function(gr){return gr.status!=="published"?rr():void 0})})}},So={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ys={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},vs=1,$l=2,Pu=3;function Ws(qt,Jt,Zt){var rr,gr={appId:qt,apiKey:Jt,timeouts:{connect:1,read:2,write:30},requester:{send:function(Tr){return new Promise(function($r){var jr=new XMLHttpRequest;jr.open(Tr.method,Tr.url,!0),Object.keys(Tr.headers).forEach(function(rn){return jr.setRequestHeader(rn,Tr.headers[rn])});var kr,Kr=function(rn,Xr){return setTimeout(function(){jr.abort(),$r({status:0,content:Xr,isTimedOut:!0})},1e3*rn)},Gr=Kr(Tr.connectTimeout,"Connection timeout");jr.onreadystatechange=function(){jr.readyState>jr.OPENED&&kr===void 0&&(clearTimeout(Gr),kr=Kr(Tr.responseTimeout,"Socket timeout"))},jr.onerror=function(){jr.status===0&&(clearTimeout(Gr),clearTimeout(kr),$r({content:jr.responseText||"Network request failed",status:jr.status,isTimedOut:!1}))},jr.onload=function(){clearTimeout(Gr),clearTimeout(kr),$r({content:jr.responseText,status:jr.status,isTimedOut:!1})},jr.send(Tr.data)})}},logger:(rr=Pu,{debug:function(Tr,$r){return vs>=rr&&console.debug(Tr,$r),Promise.resolve()},info:function(Tr,$r){return $l>=rr&&console.info(Tr,$r),Promise.resolve()},error:function(Tr,$r){return console.error(Tr,$r),Promise.resolve()}}),responsesCache:st(),requestsCache:st({serializable:!1}),hostsCache:ot({caches:[it({key:"".concat("4.22.1","-").concat(qt)}),st()]}),userAgent:Dt("4.22.1").add({segment:"Browser"})},Ir=et(et({},gr),Zt),Cr=function(){return function(Tr){return function($r){var jr=$r.region||"us",kr=lt(ht.WithinHeaders,$r.appId,$r.apiKey),Kr=Ot(et(et({hosts:[{url:"personalization.".concat(jr,".algolia.com")}]},$r),{},{headers:et(et(et({},kr.headers()),{"content-type":"application/json"}),$r.headers),queryParameters:et(et({},kr.queryParameters()),$r.queryParameters)}));return mt({appId:$r.appId,transporter:Kr},$r.methods)}(et(et(et({},gr),Tr),{},{methods:{getPersonalizationStrategy:Bt,setPersonalizationStrategy:Wt}}))}};return function(Tr){var $r=Tr.appId,jr=lt(Tr.authMode!==void 0?Tr.authMode:ht.WithinHeaders,$r,Tr.apiKey),kr=Ot(et(et({hosts:[{url:"".concat($r,"-dsn.algolia.net"),accept:ct.Read},{url:"".concat($r,".algolia.net"),accept:ct.Write}].concat(ft([{url:"".concat($r,"-1.algolianet.com")},{url:"".concat($r,"-2.algolianet.com")},{url:"".concat($r,"-3.algolianet.com")}]))},Tr),{},{headers:et(et(et({},jr.headers()),{"content-type":"application/x-www-form-urlencoded"}),Tr.headers),queryParameters:et(et({},jr.queryParameters()),Tr.queryParameters)}));return mt({transporter:kr,appId:$r,addAlgoliaAgent:function(Kr,Gr){kr.userAgent.add({segment:Kr,version:Gr})},clearCache:function(){return Promise.all([kr.requestsCache.clear(),kr.responsesCache.clear()]).then(function(){})}},Tr.methods)}(et(et({},Ir),{},{methods:{search:ln,searchForFacetValues:Rn,multipleBatch:Nr,multipleGetObjects:on,multipleQueries:ln,copyIndex:ur,copySettings:yr,copySynonyms:Ar,copyRules:nr,moveIndex:In,listIndices:Br,getLogs:wr,listClusters:Mr,multipleSearchForFacetValues:Rn,getApiKey:pr,addApiKey:Qt,listApiKeys:Vr,updateApiKey:ls,deleteApiKey:lr,restoreApiKey:Ds,assignUserID:Xt,assignUserIDs:er,getUserID:Or,searchUserIDs:Fo,listUserIDs:fn,getTopUserIDs:Sr,removeUserID:oo,hasPendingMappings:Ur,clearDictionaryEntries:sr,deleteDictionaryEntries:dr,getDictionarySettings:mr,getAppTask:ar,replaceDictionaryEntries:os,saveDictionaryEntries:Os,searchDictionaryEntries:ss,setDictionarySettings:as,waitAppTask:so,customRequest:Er,initIndex:function(Tr){return function($r){return zr(Tr)($r,{methods:{batch:Bo,delete:Ln,findAnswers:ds,getObject:fs,getObjects:Ns,saveObject:bu,saveObjects:ms,search:Al,searchForFacetValues:Sl,waitTask:vn,setSettings:Cl,getSettings:hs,partialUpdateObject:Pn,partialUpdateObjects:Il,deleteObject:yo,deleteObjects:us,deleteBy:Wo,clearObjects:go,browseObjects:Uo,getObjectPosition:js,findObject:Ho,exists:cs,saveSynonym:Tu,saveSynonyms:Bs,getSynonym:Zr,searchSynonyms:zs,browseSynonyms:Ms,deleteSynonym:qo,clearSynonyms:ao,replaceAllObjects:ps,replaceAllSynonyms:xu,searchRules:Us,getRule:Fs,deleteRule:vo,saveRule:Rl,saveRules:gs,replaceAllRules:Eu,browseRules:Vs,clearRules:Ls}})}},initAnalytics:function(){return function(Tr){return function($r){var jr=$r.region||"us",kr=lt(ht.WithinHeaders,$r.appId,$r.apiKey),Kr=Ot(et(et({hosts:[{url:"analytics.".concat(jr,".algolia.com")}]},$r),{},{headers:et(et(et({},kr.headers()),{"content-type":"application/json"}),$r.headers),queryParameters:et(et({},kr.queryParameters()),$r.queryParameters)}));return mt({appId:$r.appId,transporter:Kr},$r.methods)}(et(et(et({},gr),Tr),{},{methods:{addABTest:Rt,getABTest:Ft,getABTests:zt,stopABTest:Gt,deleteABTest:jt}}))}},initPersonalization:Cr,initRecommendation:function(){return function(Tr){return Ir.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),Cr()(Tr)}}}}))}return Ws.version="4.22.1",Ws})})(algoliasearch_umd);var algoliasearch_umdExports=algoliasearch_umd.exports;const algoliasearch=getDefaultExportFromCjs(algoliasearch_umdExports),client=algoliasearch("C1NZHMZ4PV","d566696a4ab509a6a282a4ae748e8ec5"),config$1={apiKey:"AIzaSyA5dbbXycGHFt1kx8gB_S12qos8vDBwnSE",authDomain:"pb-android-2725a.firebaseapp.com",databaseURL:"https://pb-android-2725a-default-rtdb.firebaseio.com",projectId:"pb-android-2725a",storageBucket:"pb-android-2725a.appspot.com",messagingSenderId:"468885270519",appId:"1:468885270519:web:354a97057557eec2ec48f2",measurementId:"G-SQMQDYSVKN"},firebaseConfig=config$1,app=initializeApp(firebaseConfig),auth=getAuth(app),storage=getStorage(app),db=getFirestore(app);class Contributors{constructor(i=[],s=[],a=[],et=[]){Rr(this,"readers");Rr(this,"writers");Rr(this,"editors");Rr(this,"commenters");this.commenters=i,this.readers=s,this.writers=a,this.editors=et}}class Story{constructor(i,s,a,et,tt,rt,nt,it){Rr(this,"id");Rr(this,"title");Rr(this,"profileId");Rr(this,"userId");Rr(this,"readers");Rr(this,"writers");Rr(this,"editors");Rr(this,"commenters");this.id=i,this.title=s,this.profileId=a,this.userId=et,this.readers=tt,this.writers=rt,this.editors=nt,this.commenters=it}}class Page extends Story{constructor(s,a,et,tt,rt,nt=0,it,ot,st,lt=new Contributors,at=Timestamp.now(),ut){super(s,a,tt,rt,lt.readers,lt.writers,lt.editors,lt.commenters);Rr(this,"data");Rr(this,"approvalScore");Rr(this,"privacy");Rr(this,"type");Rr(this,"created");Rr(this,"ref");this.data=et,this.title=a,this.profileId=tt,this.approvalScore=nt,this.commentable=ot,this.privacy=it,this.type=st,this.created=at,this.ref=ut}}Rr(Page,"className","page");class PageComment{constructor(i,s,a,et,tt,rt=0,nt=Timestamp.now()){Rr(this,"id");Rr(this,"text");Rr(this,"pageId");Rr(this,"profileId");Rr(this,"parentCommentId");Rr(this,"approvalScore");Rr(this,"created");this.id=i,this.text=s,this.pageId=a,this.profileId=et,this.parentCommentId=tt,this.approvalScore=rt,this.created=nt}}Rr(PageComment,"className","comment");function formatProdErrorMessage$1(o){return`Minified Redux error #${o}; visit https://redux.js.org/Errors?code=${o} for the full message or use the non-minified dev environment for full errors. `}var $$observable=typeof Symbol=="function"&&Symbol.observable||"@@observable",symbol_observable_default=$$observable,randomString=()=>Math.random().toString(36).substring(7).split("").join("."),ActionTypes={INIT:`@@redux/INIT${randomString()}`,REPLACE:`@@redux/REPLACE${randomString()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${randomString()}`},actionTypes_default=ActionTypes;function isPlainObject$2(o){if(typeof o!="object"||o===null)return!1;let i=o;for(;Object.getPrototypeOf(i)!==null;)i=Object.getPrototypeOf(i);return Object.getPrototypeOf(o)===i||Object.getPrototypeOf(o)===null}function createStore(o,i,s){if(typeof o!="function")throw new Error(formatProdErrorMessage$1(2));if(typeof i=="function"&&typeof s=="function"||typeof s=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage$1(0));if(typeof i=="function"&&typeof s>"u"&&(s=i,i=void 0),typeof s<"u"){if(typeof s!="function")throw new Error(formatProdErrorMessage$1(1));return s(createStore)(o,i)}let a=o,et=i,tt=new Map,rt=tt,nt=0,it=!1;function ot(){rt===tt&&(rt=new Map,tt.forEach((yt,ht)=>{rt.set(ht,yt)}))}function st(){if(it)throw new Error(formatProdErrorMessage$1(3));return et}function lt(yt){if(typeof yt!="function")throw new Error(formatProdErrorMessage$1(4));if(it)throw new Error(formatProdErrorMessage$1(5));let ht=!0;ot();const pt=nt++;return rt.set(pt,yt),function(){if(ht){if(it)throw new Error(formatProdErrorMessage$1(6));ht=!1,ot(),rt.delete(pt),tt=null}}}function at(yt){if(!isPlainObject$2(yt))throw new Error(formatProdErrorMessage$1(7));if(typeof yt.type>"u")throw new Error(formatProdErrorMessage$1(8));if(typeof yt.type!="string")throw new Error(formatProdErrorMessage$1(17));if(it)throw new Error(formatProdErrorMessage$1(9));try{it=!0,et=a(et,yt)}finally{it=!1}return(tt=rt).forEach(pt=>{pt()}),yt}function ut(yt){if(typeof yt!="function")throw new Error(formatProdErrorMessage$1(10));a=yt,at({type:actionTypes_default.REPLACE})}function ft(){const yt=lt;return{subscribe(ht){if(typeof ht!="object"||ht===null)throw new Error(formatProdErrorMessage$1(11));function pt(){const gt=ht;gt.next&&gt.next(st())}return pt(),{unsubscribe:yt(pt)}},[symbol_observable_default](){return this}}}return at({type:actionTypes_default.INIT}),{dispatch:at,subscribe:lt,getState:st,replaceReducer:ut,[symbol_observable_default]:ft}}function assertReducerShape(o){Object.keys(o).forEach(i=>{const s=o[i];if(typeof s(void 0,{type:actionTypes_default.INIT})>"u")throw new Error(formatProdErrorMessage$1(12));if(typeof s(void 0,{type:actionTypes_default.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage$1(13))})}function combineReducers(o){const i=Object.keys(o),s={};for(let tt=0;tt<i.length;tt++){const rt=i[tt];typeof o[rt]=="function"&&(s[rt]=o[rt])}const a=Object.keys(s);let et;try{assertReducerShape(s)}catch(tt){et=tt}return function(rt={},nt){if(et)throw et;let it=!1;const ot={};for(let st=0;st<a.length;st++){const lt=a[st],at=s[lt],ut=rt[lt],ft=at(ut,nt);if(typeof ft>"u")throw nt&&nt.type,new Error(formatProdErrorMessage$1(14));ot[lt]=ft,it=it||ft!==ut}return it=it||a.length!==Object.keys(rt).length,it?ot:rt}}function compose$1(...o){return o.length===0?i=>i:o.length===1?o[0]:o.reduce((i,s)=>(...a)=>i(s(...a)))}function applyMiddleware(...o){return i=>(s,a)=>{const et=i(s,a);let tt=()=>{throw new Error(formatProdErrorMessage$1(15))};const rt={getState:et.getState,dispatch:(it,...ot)=>tt(it,...ot)},nt=o.map(it=>it(rt));return tt=compose$1(...nt)(et.dispatch),{...et,dispatch:tt}}}function isAction(o){return isPlainObject$2(o)&&"type"in o&&typeof o.type=="string"}var NOTHING=Symbol.for("immer-nothing"),DRAFTABLE=Symbol.for("immer-draftable"),DRAFT_STATE=Symbol.for("immer-state");function die(o,...i){throw new Error(`[Immer] minified error nr: ${o}. Full error at: https://bit.ly/3cXEKWf`)}var getPrototypeOf=Object.getPrototypeOf;function isDraft(o){return!!o&&!!o[DRAFT_STATE]}function isDraftable(o){var i;return o?isPlainObject$1(o)||Array.isArray(o)||!!o[DRAFTABLE]||!!((i=o.constructor)!=null&&i[DRAFTABLE])||isMap(o)||isSet(o):!1}var objectCtorString=Object.prototype.constructor.toString();function isPlainObject$1(o){if(!o||typeof o!="object")return!1;const i=getPrototypeOf(o);if(i===null)return!0;const s=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return s===Object?!0:typeof s=="function"&&Function.toString.call(s)===objectCtorString}function each(o,i){getArchtype(o)===0?Object.entries(o).forEach(([s,a])=>{i(s,a,o)}):o.forEach((s,a)=>i(a,s,o))}function getArchtype(o){const i=o[DRAFT_STATE];return i?i.type_:Array.isArray(o)?1:isMap(o)?2:isSet(o)?3:0}function has$1(o,i){return getArchtype(o)===2?o.has(i):Object.prototype.hasOwnProperty.call(o,i)}function set(o,i,s){const a=getArchtype(o);a===2?o.set(i,s):a===3?o.add(s):o[i]=s}function is(o,i){return o===i?o!==0||1/o===1/i:o!==o&&i!==i}function isMap(o){return o instanceof Map}function isSet(o){return o instanceof Set}function latest(o){return o.copy_||o.base_}function shallowCopy(o,i){if(isMap(o))return new Map(o);if(isSet(o))return new Set(o);if(Array.isArray(o))return Array.prototype.slice.call(o);if(!i&&isPlainObject$1(o))return getPrototypeOf(o)?{...o}:Object.assign(Object.create(null),o);const s=Object.getOwnPropertyDescriptors(o);delete s[DRAFT_STATE];let a=Reflect.ownKeys(s);for(let et=0;et<a.length;et++){const tt=a[et],rt=s[tt];rt.writable===!1&&(rt.writable=!0,rt.configurable=!0),(rt.get||rt.set)&&(s[tt]={configurable:!0,writable:!0,enumerable:rt.enumerable,value:o[tt]})}return Object.create(getPrototypeOf(o),s)}function freeze(o,i=!1){return isFrozen(o)||isDraft(o)||!isDraftable(o)||(getArchtype(o)>1&&(o.set=o.add=o.clear=o.delete=dontMutateFrozenCollections),Object.freeze(o),i&&each(o,(s,a)=>freeze(a,!0))),o}function dontMutateFrozenCollections(){die(2)}function isFrozen(o){return Object.isFrozen(o)}var plugins={};function getPlugin(o){const i=plugins[o];return i||die(0,o),i}var currentScope;function getCurrentScope(){return currentScope}function createScope(o,i){return{drafts_:[],parent_:o,immer_:i,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function usePatchesInScope(o,i){i&&(getPlugin("Patches"),o.patches_=[],o.inversePatches_=[],o.patchListener_=i)}function revokeScope(o){leaveScope(o),o.drafts_.forEach(revokeDraft),o.drafts_=null}function leaveScope(o){o===currentScope&&(currentScope=o.parent_)}function enterScope(o){return currentScope=createScope(currentScope,o)}function revokeDraft(o){const i=o[DRAFT_STATE];i.type_===0||i.type_===1?i.revoke_():i.revoked_=!0}function processResult(o,i){i.unfinalizedDrafts_=i.drafts_.length;const s=i.drafts_[0];return o!==void 0&&o!==s?(s[DRAFT_STATE].modified_&&(revokeScope(i),die(4)),isDraftable(o)&&(o=finalize(i,o),i.parent_||maybeFreeze(i,o)),i.patches_&&getPlugin("Patches").generateReplacementPatches_(s[DRAFT_STATE].base_,o,i.patches_,i.inversePatches_)):o=finalize(i,s,[]),revokeScope(i),i.patches_&&i.patchListener_(i.patches_,i.inversePatches_),o!==NOTHING?o:void 0}function finalize(o,i,s){if(isFrozen(i))return i;const a=i[DRAFT_STATE];if(!a)return each(i,(et,tt)=>finalizeProperty(o,a,i,et,tt,s)),i;if(a.scope_!==o)return i;if(!a.modified_)return maybeFreeze(o,a.base_,!0),a.base_;if(!a.finalized_){a.finalized_=!0,a.scope_.unfinalizedDrafts_--;const et=a.copy_;let tt=et,rt=!1;a.type_===3&&(tt=new Set(et),et.clear(),rt=!0),each(tt,(nt,it)=>finalizeProperty(o,a,et,nt,it,s,rt)),maybeFreeze(o,et,!1),s&&o.patches_&&getPlugin("Patches").generatePatches_(a,s,o.patches_,o.inversePatches_)}return a.copy_}function finalizeProperty(o,i,s,a,et,tt,rt){if(isDraft(et)){const nt=tt&&i&&i.type_!==3&&!has$1(i.assigned_,a)?tt.concat(a):void 0,it=finalize(o,et,nt);if(set(s,a,it),isDraft(it))o.canAutoFreeze_=!1;else return}else rt&&s.add(et);if(isDraftable(et)&&!isFrozen(et)){if(!o.immer_.autoFreeze_&&o.unfinalizedDrafts_<1)return;finalize(o,et),(!i||!i.scope_.parent_)&&maybeFreeze(o,et)}}function maybeFreeze(o,i,s=!1){!o.parent_&&o.immer_.autoFreeze_&&o.canAutoFreeze_&&freeze(i,s)}function createProxyProxy(o,i){const s=Array.isArray(o),a={type_:s?1:0,scope_:i?i.scope_:getCurrentScope(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:o,draft_:null,copy_:null,revoke_:null,isManual_:!1};let et=a,tt=objectTraps;s&&(et=[a],tt=arrayTraps);const{revoke:rt,proxy:nt}=Proxy.revocable(et,tt);return a.draft_=nt,a.revoke_=rt,nt}var objectTraps={get(o,i){if(i===DRAFT_STATE)return o;const s=latest(o);if(!has$1(s,i))return readPropFromProto(o,s,i);const a=s[i];return o.finalized_||!isDraftable(a)?a:a===peek$1(o.base_,i)?(prepareCopy(o),o.copy_[i]=createProxy(a,o)):a},has(o,i){return i in latest(o)},ownKeys(o){return Reflect.ownKeys(latest(o))},set(o,i,s){const a=getDescriptorFromProto(latest(o),i);if(a!=null&&a.set)return a.set.call(o.draft_,s),!0;if(!o.modified_){const et=peek$1(latest(o),i),tt=et==null?void 0:et[DRAFT_STATE];if(tt&&tt.base_===s)return o.copy_[i]=s,o.assigned_[i]=!1,!0;if(is(s,et)&&(s!==void 0||has$1(o.base_,i)))return!0;prepareCopy(o),markChanged(o)}return o.copy_[i]===s&&(s!==void 0||i in o.copy_)||Number.isNaN(s)&&Number.isNaN(o.copy_[i])||(o.copy_[i]=s,o.assigned_[i]=!0),!0},deleteProperty(o,i){return peek$1(o.base_,i)!==void 0||i in o.base_?(o.assigned_[i]=!1,prepareCopy(o),markChanged(o)):delete o.assigned_[i],o.copy_&&delete o.copy_[i],!0},getOwnPropertyDescriptor(o,i){const s=latest(o),a=Reflect.getOwnPropertyDescriptor(s,i);return a&&{writable:!0,configurable:o.type_!==1||i!=="length",enumerable:a.enumerable,value:s[i]}},defineProperty(){die(11)},getPrototypeOf(o){return getPrototypeOf(o.base_)},setPrototypeOf(){die(12)}},arrayTraps={};each(objectTraps,(o,i)=>{arrayTraps[o]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}});arrayTraps.deleteProperty=function(o,i){return arrayTraps.set.call(this,o,i,void 0)};arrayTraps.set=function(o,i,s){return objectTraps.set.call(this,o[0],i,s,o[0])};function peek$1(o,i){const s=o[DRAFT_STATE];return(s?latest(s):o)[i]}function readPropFromProto(o,i,s){var et;const a=getDescriptorFromProto(i,s);return a?"value"in a?a.value:(et=a.get)==null?void 0:et.call(o.draft_):void 0}function getDescriptorFromProto(o,i){if(!(i in o))return;let s=getPrototypeOf(o);for(;s;){const a=Object.getOwnPropertyDescriptor(s,i);if(a)return a;s=getPrototypeOf(s)}}function markChanged(o){o.modified_||(o.modified_=!0,o.parent_&&markChanged(o.parent_))}function prepareCopy(o){o.copy_||(o.copy_=shallowCopy(o.base_,o.scope_.immer_.useStrictShallowCopy_))}var Immer2=class{constructor(o){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(i,s,a)=>{if(typeof i=="function"&&typeof s!="function"){const tt=s;s=i;const rt=this;return function(it=tt,...ot){return rt.produce(it,st=>s.call(this,st,...ot))}}typeof s!="function"&&die(6),a!==void 0&&typeof a!="function"&&die(7);let et;if(isDraftable(i)){const tt=enterScope(this),rt=createProxy(i,void 0);let nt=!0;try{et=s(rt),nt=!1}finally{nt?revokeScope(tt):leaveScope(tt)}return usePatchesInScope(tt,a),processResult(et,tt)}else if(!i||typeof i!="object"){if(et=s(i),et===void 0&&(et=i),et===NOTHING&&(et=void 0),this.autoFreeze_&&freeze(et,!0),a){const tt=[],rt=[];getPlugin("Patches").generateReplacementPatches_(i,et,tt,rt),a(tt,rt)}return et}else die(1,i)},this.produceWithPatches=(i,s)=>{if(typeof i=="function")return(rt,...nt)=>this.produceWithPatches(rt,it=>i(it,...nt));let a,et;return[this.produce(i,s,(rt,nt)=>{a=rt,et=nt}),a,et]},typeof(o==null?void 0:o.autoFreeze)=="boolean"&&this.setAutoFreeze(o.autoFreeze),typeof(o==null?void 0:o.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(o.useStrictShallowCopy)}createDraft(o){isDraftable(o)||die(8),isDraft(o)&&(o=current(o));const i=enterScope(this),s=createProxy(o,void 0);return s[DRAFT_STATE].isManual_=!0,leaveScope(i),s}finishDraft(o,i){const s=o&&o[DRAFT_STATE];(!s||!s.isManual_)&&die(9);const{scope_:a}=s;return usePatchesInScope(a,i),processResult(void 0,a)}setAutoFreeze(o){this.autoFreeze_=o}setUseStrictShallowCopy(o){this.useStrictShallowCopy_=o}applyPatches(o,i){let s;for(s=i.length-1;s>=0;s--){const et=i[s];if(et.path.length===0&&et.op==="replace"){o=et.value;break}}s>-1&&(i=i.slice(s+1));const a=getPlugin("Patches").applyPatches_;return isDraft(o)?a(o,i):this.produce(o,et=>a(et,i))}};function createProxy(o,i){const s=isMap(o)?getPlugin("MapSet").proxyMap_(o,i):isSet(o)?getPlugin("MapSet").proxySet_(o,i):createProxyProxy(o,i);return(i?i.scope_:getCurrentScope()).drafts_.push(s),s}function current(o){return isDraft(o)||die(10,o),currentImpl(o)}function currentImpl(o){if(!isDraftable(o)||isFrozen(o))return o;const i=o[DRAFT_STATE];let s;if(i){if(!i.modified_)return i.base_;i.finalized_=!0,s=shallowCopy(o,i.scope_.immer_.useStrictShallowCopy_)}else s=shallowCopy(o,!0);return each(s,(a,et)=>{set(s,a,currentImpl(et))}),i&&(i.finalized_=!1),s}var immer=new Immer2,produce=immer.produce;immer.produceWithPatches.bind(immer);immer.setAutoFreeze.bind(immer);immer.setUseStrictShallowCopy.bind(immer);immer.applyPatches.bind(immer);immer.createDraft.bind(immer);immer.finishDraft.bind(immer);function assertIsFunction(o,i=`expected a function, instead received ${typeof o}`){if(typeof o!="function")throw new TypeError(i)}function assertIsObject(o,i=`expected an object, instead received ${typeof o}`){if(typeof o!="object")throw new TypeError(i)}function assertIsArrayOfFunctions(o,i="expected all items to be functions, instead received the following types: "){if(!o.every(s=>typeof s=="function")){const s=o.map(a=>typeof a=="function"?`function ${a.name||"unnamed"}()`:typeof a).join(", ");throw new TypeError(`${i}[${s}]`)}}var ensureIsArray=o=>Array.isArray(o)?o:[o];function getDependencies(o){const i=Array.isArray(o[0])?o[0]:o;return assertIsArrayOfFunctions(i,"createSelector expects all input-selectors to be functions, but received the following types: "),i}function collectInputSelectorResults(o,i){const s=[],{length:a}=o;for(let et=0;et<a;et++)s.push(o[et].apply(null,i));return s}var StrongRef=class{constructor(o){this.value=o}deref(){return this.value}},Ref=typeof WeakRef<"u"?WeakRef:StrongRef,UNTERMINATED=0,TERMINATED=1;function createCacheNode(){return{s:UNTERMINATED,v:void 0,o:null,p:null}}function weakMapMemoize(o,i={}){let s=createCacheNode();const{resultEqualityCheck:a}=i;let et,tt=0;function rt(){var lt;let nt=s;const{length:it}=arguments;for(let at=0,ut=it;at<ut;at++){const ft=arguments[at];if(typeof ft=="function"||typeof ft=="object"&&ft!==null){let mt=nt.o;mt===null&&(nt.o=mt=new WeakMap);const yt=mt.get(ft);yt===void 0?(nt=createCacheNode(),mt.set(ft,nt)):nt=yt}else{let mt=nt.p;mt===null&&(nt.p=mt=new Map);const yt=mt.get(ft);yt===void 0?(nt=createCacheNode(),mt.set(ft,nt)):nt=yt}}const ot=nt;let st;if(nt.s===TERMINATED?st=nt.v:(st=o.apply(null,arguments),tt++),ot.s=TERMINATED,a){const at=((lt=et==null?void 0:et.deref)==null?void 0:lt.call(et))??et;at!=null&&a(at,st)&&(st=at,tt!==0&&tt--),et=typeof st=="object"&&st!==null||typeof st=="function"?new Ref(st):st}return ot.v=st,st}return rt.clearCache=()=>{s=createCacheNode(),rt.resetResultsCount()},rt.resultsCount=()=>tt,rt.resetResultsCount=()=>{tt=0},rt}function createSelectorCreator(o,...i){const s=typeof o=="function"?{memoize:o,memoizeOptions:i}:o,a=(...et)=>{let tt=0,rt=0,nt,it={},ot=et.pop();typeof ot=="object"&&(it=ot,ot=et.pop()),assertIsFunction(ot,`createSelector expects an output function after the inputs, but received: [${typeof ot}]`);const st={...s,...it},{memoize:lt,memoizeOptions:at=[],argsMemoize:ut=weakMapMemoize,argsMemoizeOptions:ft=[],devModeChecks:mt={}}=st,yt=ensureIsArray(at),ht=ensureIsArray(ft),pt=getDependencies(et),ct=lt(function(){return tt++,ot.apply(null,arguments)},...yt),gt=ut(function(){rt++;const bt=collectInputSelectorResults(pt,arguments);return nt=ct.apply(null,bt),nt},...ht);return Object.assign(gt,{resultFunc:ot,memoizedResultFunc:ct,dependencies:pt,dependencyRecomputations:()=>rt,resetDependencyRecomputations:()=>{rt=0},lastResult:()=>nt,recomputations:()=>tt,resetRecomputations:()=>{tt=0},memoize:lt,argsMemoize:ut})};return Object.assign(a,{withTypes:()=>a}),a}var createSelector=createSelectorCreator(weakMapMemoize),createStructuredSelector=Object.assign((o,i=createSelector)=>{assertIsObject(o,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof o}`);const s=Object.keys(o),a=s.map(tt=>o[tt]);return i(a,(...tt)=>tt.reduce((rt,nt,it)=>(rt[s[it]]=nt,rt),{}))},{withTypes:()=>createStructuredSelector});function createThunkMiddleware(o){return({dispatch:s,getState:a})=>et=>tt=>typeof tt=="function"?tt(s,a,o):et(tt)}var thunk=createThunkMiddleware(),withExtraArgument=createThunkMiddleware,createDraftSafeSelectorCreator=(...o)=>{const i=createSelectorCreator(...o),s=Object.assign((...a)=>{const et=i(...a),tt=(rt,...nt)=>et(isDraft(rt)?current(rt):rt,...nt);return Object.assign(tt,et),tt},{withTypes:()=>s});return s};createDraftSafeSelectorCreator(weakMapMemoize);var composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$1:compose$1.apply(null,arguments)},hasMatchFunction=o=>o&&typeof o.match=="function";function createAction(o,i){function s(...a){if(i){let et=i(...a);if(!et)throw new Error(formatProdErrorMessage(0));return{type:o,payload:et.payload,..."meta"in et&&{meta:et.meta},..."error"in et&&{error:et.error}}}return{type:o,payload:a[0]}}return s.toString=()=>`${o}`,s.type=o,s.match=a=>isAction(a)&&a.type===o,s}var Tuple=class Pl extends Array{constructor(...i){super(...i),Object.setPrototypeOf(this,Pl.prototype)}static get[Symbol.species](){return Pl}concat(...i){return super.concat.apply(this,i)}prepend(...i){return i.length===1&&Array.isArray(i[0])?new Pl(...i[0].concat(this)):new Pl(...i.concat(this))}};function freezeDraftable(o){return isDraftable(o)?produce(o,()=>{}):o}function emplace(o,i,s){if(o.has(i)){let et=o.get(i);return s.update&&(et=s.update(et,i,o),o.set(i,et)),et}if(!s.insert)throw new Error(formatProdErrorMessage(10));const a=s.insert(i,o);return o.set(i,a),a}function isBoolean(o){return typeof o=="boolean"}var buildGetDefaultMiddleware=()=>function(i){const{thunk:s=!0,immutableCheck:a=!0,serializableCheck:et=!0,actionCreatorCheck:tt=!0}=i??{};let rt=new Tuple;return s&&(isBoolean(s)?rt.push(thunk):rt.push(withExtraArgument(s.extraArgument))),rt},SHOULD_AUTOBATCH="RTK_autoBatch",createQueueWithTimer=o=>i=>{setTimeout(i,o)},rAF=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:createQueueWithTimer(10),autoBatchEnhancer=(o={type:"raf"})=>i=>(...s)=>{const a=i(...s);let et=!0,tt=!1,rt=!1;const nt=new Set,it=o.type==="tick"?queueMicrotask:o.type==="raf"?rAF:o.type==="callback"?o.queueNotification:createQueueWithTimer(o.timeout),ot=()=>{rt=!1,tt&&(tt=!1,nt.forEach(st=>st()))};return Object.assign({},a,{subscribe(st){const lt=()=>et&&st(),at=a.subscribe(lt);return nt.add(st),()=>{at(),nt.delete(st)}},dispatch(st){var lt;try{return et=!((lt=st==null?void 0:st.meta)!=null&&lt[SHOULD_AUTOBATCH]),tt=!et,tt&&(rt||(rt=!0,it(ot))),a.dispatch(st)}finally{et=!0}}})},buildGetDefaultEnhancers=o=>function(s){const{autoBatch:a=!0}=s??{};let et=new Tuple(o);return a&&et.push(autoBatchEnhancer(typeof a=="object"?a:void 0)),et},IS_PRODUCTION=!0;function configureStore(o){const i=buildGetDefaultMiddleware(),{reducer:s=void 0,middleware:a,devTools:et=!0,preloadedState:tt=void 0,enhancers:rt=void 0}=o||{};let nt;if(typeof s=="function")nt=s;else if(isPlainObject$2(s))nt=combineReducers(s);else throw new Error(formatProdErrorMessage(1));let it;typeof a=="function"?it=a(i):it=i();let ot=compose$1;et&&(ot=composeWithDevTools({trace:!IS_PRODUCTION,...typeof et=="object"&&et}));const st=applyMiddleware(...it),lt=buildGetDefaultEnhancers(st);let at=typeof rt=="function"?rt(lt):lt();const ut=ot(...at);return createStore(nt,tt,ut)}function executeReducerBuilderCallback(o){const i={},s=[];let a;const et={addCase(tt,rt){const nt=typeof tt=="string"?tt:tt.type;if(!nt)throw new Error(formatProdErrorMessage(28));if(nt in i)throw new Error(formatProdErrorMessage(29));return i[nt]=rt,et},addMatcher(tt,rt){return s.push({matcher:tt,reducer:rt}),et},addDefaultCase(tt){return a=tt,et}};return o(et),[i,s,a]}function isStateFunction(o){return typeof o=="function"}function createReducer(o,i){let[s,a,et]=executeReducerBuilderCallback(i),tt;if(isStateFunction(o))tt=()=>freezeDraftable(o());else{const nt=freezeDraftable(o);tt=()=>nt}function rt(nt=tt(),it){let ot=[s[it.type],...a.filter(({matcher:st})=>st(it)).map(({reducer:st})=>st)];return ot.filter(st=>!!st).length===0&&(ot=[et]),ot.reduce((st,lt)=>{if(lt)if(isDraft(st)){const ut=lt(st,it);return ut===void 0?st:ut}else{if(isDraftable(st))return produce(st,at=>lt(at,it));{const at=lt(st,it);if(at===void 0){if(st===null)return st;throw new Error(formatProdErrorMessage(9))}return at}}return st},nt)}return rt.getInitialState=tt,rt}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=(o=21)=>{let i="",s=o;for(;s--;)i+=urlAlphabet[Math.random()*64|0];return i},matches=(o,i)=>hasMatchFunction(o)?o.match(i):o(i);function isAnyOf(...o){return i=>o.some(s=>matches(s,i))}var commonProperties=["name","message","stack","code"],RejectWithValue=class{constructor(o,i){Rr(this,"_type");this.payload=o,this.meta=i}},FulfillWithMeta=class{constructor(o,i){Rr(this,"_type");this.payload=o,this.meta=i}},miniSerializeError=o=>{if(typeof o=="object"&&o!==null){const i={};for(const s of commonProperties)typeof o[s]=="string"&&(i[s]=o[s]);return i}return{message:String(o)}},createAsyncThunk=(()=>{function o(i,s,a){const et=createAction(i+"/fulfilled",(it,ot,st,lt)=>({payload:it,meta:{...lt||{},arg:st,requestId:ot,requestStatus:"fulfilled"}})),tt=createAction(i+"/pending",(it,ot,st)=>({payload:void 0,meta:{...st||{},arg:ot,requestId:it,requestStatus:"pending"}})),rt=createAction(i+"/rejected",(it,ot,st,lt,at)=>({payload:lt,error:(a&&a.serializeError||miniSerializeError)(it||"Rejected"),meta:{...at||{},arg:st,requestId:ot,rejectedWithValue:!!lt,requestStatus:"rejected",aborted:(it==null?void 0:it.name)==="AbortError",condition:(it==null?void 0:it.name)==="ConditionError"}}));function nt(it){return(ot,st,lt)=>{const at=a!=null&&a.idGenerator?a.idGenerator(it):nanoid(),ut=new AbortController;let ft,mt;function yt(pt){mt=pt,ut.abort()}const ht=async function(){var gt,Et;let pt;try{let bt=(gt=a==null?void 0:a.condition)==null?void 0:gt.call(a,it,{getState:st,extra:lt});if(isThenable(bt)&&(bt=await bt),bt===!1||ut.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const xt=new Promise((Tt,wt)=>{ft=()=>{wt({name:"AbortError",message:mt||"Aborted"})},ut.signal.addEventListener("abort",ft)});ot(tt(at,it,(Et=a==null?void 0:a.getPendingMeta)==null?void 0:Et.call(a,{requestId:at,arg:it},{getState:st,extra:lt}))),pt=await Promise.race([xt,Promise.resolve(s(it,{dispatch:ot,getState:st,extra:lt,requestId:at,signal:ut.signal,abort:yt,rejectWithValue:(Tt,wt)=>new RejectWithValue(Tt,wt),fulfillWithValue:(Tt,wt)=>new FulfillWithMeta(Tt,wt)})).then(Tt=>{if(Tt instanceof RejectWithValue)throw Tt;return Tt instanceof FulfillWithMeta?et(Tt.payload,at,it,Tt.meta):et(Tt,at,it)})])}catch(bt){pt=bt instanceof RejectWithValue?rt(null,at,it,bt.payload,bt.meta):rt(bt,at,it)}finally{ft&&ut.signal.removeEventListener("abort",ft)}return a&&!a.dispatchConditionRejection&&rt.match(pt)&&pt.meta.condition||ot(pt),pt}();return Object.assign(ht,{abort:yt,requestId:at,arg:it,unwrap(){return ht.then(unwrapResult)}})}}return Object.assign(nt,{pending:tt,rejected:rt,fulfilled:et,settled:isAnyOf(rt,et),typePrefix:i})}return o.withTypes=()=>o,o})();function unwrapResult(o){if(o.meta&&o.meta.rejectedWithValue)throw o.payload;if(o.error)throw o.error;return o.payload}function isThenable(o){return o!==null&&typeof o=="object"&&typeof o.then=="function"}var asyncThunkSymbol=Symbol.for("rtk-slice-createasyncthunk");function getType(o,i){return`${o}/${i}`}function buildCreateSlice({creators:o}={}){var s;const i=(s=o==null?void 0:o.asyncThunk)==null?void 0:s[asyncThunkSymbol];return function(et){const{name:tt,reducerPath:rt=tt}=et;if(!tt)throw new Error(formatProdErrorMessage(11));typeof process<"u";const nt=(typeof et.reducers=="function"?et.reducers(buildReducerCreators()):et.reducers)||{},it=Object.keys(nt),ot={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},st={addCase(ct,gt){const Et=typeof ct=="string"?ct:ct.type;if(!Et)throw new Error(formatProdErrorMessage(12));if(Et in ot.sliceCaseReducersByType)throw new Error(formatProdErrorMessage(13));return ot.sliceCaseReducersByType[Et]=gt,st},addMatcher(ct,gt){return ot.sliceMatchers.push({matcher:ct,reducer:gt}),st},exposeAction(ct,gt){return ot.actionCreators[ct]=gt,st},exposeCaseReducer(ct,gt){return ot.sliceCaseReducersByName[ct]=gt,st}};it.forEach(ct=>{const gt=nt[ct],Et={reducerName:ct,type:getType(tt,ct),createNotation:typeof et.reducers=="function"};isAsyncThunkSliceReducerDefinition(gt)?handleThunkCaseReducerDefinition(Et,gt,st,i):handleNormalReducerDefinition(Et,gt,st)});function lt(){const[ct={},gt=[],Et=void 0]=typeof et.extraReducers=="function"?executeReducerBuilderCallback(et.extraReducers):[et.extraReducers],bt={...ct,...ot.sliceCaseReducersByType};return createReducer(et.initialState,xt=>{for(let Tt in bt)xt.addCase(Tt,bt[Tt]);for(let Tt of ot.sliceMatchers)xt.addMatcher(Tt.matcher,Tt.reducer);for(let Tt of gt)xt.addMatcher(Tt.matcher,Tt.reducer);Et&&xt.addDefaultCase(Et)})}const at=ct=>ct,ut=new Map;let ft;function mt(ct,gt){return ft||(ft=lt()),ft(ct,gt)}function yt(){return ft||(ft=lt()),ft.getInitialState()}function ht(ct,gt=!1){function Et(xt){let Tt=xt[ct];return typeof Tt>"u"&&gt&&(Tt=yt()),Tt}function bt(xt=at){const Tt=emplace(ut,gt,{insert:()=>new WeakMap});return emplace(Tt,xt,{insert:()=>{const wt={};for(const[It,At]of Object.entries(et.selectors??{}))wt[It]=wrapSelector(At,xt,yt,gt);return wt}})}return{reducerPath:ct,getSelectors:bt,get selectors(){return bt(Et)},selectSlice:Et}}const pt={name:tt,reducer:mt,actions:ot.actionCreators,caseReducers:ot.sliceCaseReducersByName,getInitialState:yt,...ht(rt),injectInto(ct,{reducerPath:gt,...Et}={}){const bt=gt??rt;return ct.inject({reducerPath:bt,reducer:mt},Et),{...pt,...ht(bt,!0)}}};return pt}}function wrapSelector(o,i,s,a){function et(tt,...rt){let nt=i(tt);return typeof nt>"u"&&a&&(nt=s()),o(nt,...rt)}return et.unwrapped=o,et}var createSlice=buildCreateSlice();function buildReducerCreators(){function o(i,s){return{_reducerDefinitionType:"asyncThunk",payloadCreator:i,...s}}return o.withTypes=()=>o,{reducer(i){return Object.assign({[i.name](...s){return i(...s)}}[i.name],{_reducerDefinitionType:"reducer"})},preparedReducer(i,s){return{_reducerDefinitionType:"reducerWithPrepare",prepare:i,reducer:s}},asyncThunk:o}}function handleNormalReducerDefinition({type:o,reducerName:i,createNotation:s},a,et){let tt,rt;if("reducer"in a){if(s&&!isCaseReducerWithPrepareDefinition(a))throw new Error(formatProdErrorMessage(17));tt=a.reducer,rt=a.prepare}else tt=a;et.addCase(o,tt).exposeCaseReducer(i,tt).exposeAction(i,rt?createAction(o,rt):createAction(o))}function isAsyncThunkSliceReducerDefinition(o){return o._reducerDefinitionType==="asyncThunk"}function isCaseReducerWithPrepareDefinition(o){return o._reducerDefinitionType==="reducerWithPrepare"}function handleThunkCaseReducerDefinition({type:o,reducerName:i},s,a,et){if(!et)throw new Error(formatProdErrorMessage(18));const{payloadCreator:tt,fulfilled:rt,pending:nt,rejected:it,settled:ot,options:st}=s,lt=et(o,tt,st);a.exposeAction(i,lt),rt&&a.addCase(lt.fulfilled,rt),nt&&a.addCase(lt.pending,nt),it&&a.addCase(lt.rejected,it),ot&&a.addMatcher(lt.settled,ot),a.exposeCaseReducer(i,{fulfilled:rt||noop$4,pending:nt||noop$4,rejected:it||noop$4,settled:ot||noop$4})}function noop$4(){}var assertFunction=(o,i)=>{if(typeof o!="function")throw new Error(formatProdErrorMessage(32))},alm="listenerMiddleware",getListenerEntryPropsFrom=o=>{let{type:i,actionCreator:s,matcher:a,predicate:et,effect:tt}=o;if(i)et=createAction(i).match;else if(s)i=s.type,et=s.match;else if(a)et=a;else if(!et)throw new Error(formatProdErrorMessage(21));return assertFunction(tt),{predicate:et,type:i,effect:tt}},createListenerEntry=Object.assign(o=>{const{type:i,predicate:s,effect:a}=getListenerEntryPropsFrom(o);return{id:nanoid(),effect:a,type:i,predicate:s,pending:new Set,unsubscribe:()=>{throw new Error(formatProdErrorMessage(22))}}},{withTypes:()=>createListenerEntry}),addListener=Object.assign(createAction(`${alm}/add`),{withTypes:()=>addListener});createAction(`${alm}/removeAll`);var removeListener=Object.assign(createAction(`${alm}/remove`),{withTypes:()=>removeListener});function formatProdErrorMessage(o){return`Minified Redux Toolkit error #${o}; visit https://redux-toolkit.js.org/Errors?code=${o} for the full message or use the non-minified dev environment for full errors. `}class UserApproval{constructor(i,s,a,et=2){Rr(this,"id");Rr(this,"pageId");Rr(this,"profileId");Rr(this,"score");this.id=i,this.pageId=s,this.profileId=a,this.score=et}}Rr(UserApproval,"className","user_approval");const getPublicPages=createAsyncThunk("pages/getPublicPages",async o=>{let i=[];try{let s=collection(db,"page");const a=query(s,where("privacy","==",!1),orderBy("created","desc"));return(await getDocs(a)).docs.forEach(tt=>{const rt=unpackPageDoc(tt);i=[...i,rt]}),{pageList:i}}catch(s){return{error:s}}}),setHtmlContent=createAction("pages/setHtmlContent",o=>({payload:{html:o}})),updatePage=createAsyncThunk("pages/updatePage",async(o,i)=>{try{const{page:s,title:a,data:et,commentable:tt,privacy:rt}=o;let nt=doc(db,"page",s.id);await updateDoc(nt,{title:a,data:et,privacy:rt,approvalScore:s.approvalScore}),rt||client.initIndex("page").partialUpdateObject({objectID:s.id,title:a},{createIfNotExists:!0}).wait();const it=new Contributors(s.commenters,s.readers,s.writers,s.editors);return{page:new Page(s.id,a,et,s.profileId,s.userId,s.approvalScore,rt,tt,s.type,it,s.created)}}catch(s){return{error:new Error("Error: UDATE PAGE-"+s.message)}}}),getProfilePages=createAsyncThunk("pages/getProfilePages",async(o,i)=>{let s=[];const a=o.profile,et=collection(db,"page");let tt=query(et,where("profileId","==",a.id),where("privacy","==",!1));if(auth.currentUser&&auth.currentUser.uid==a.userId)tt=query(et,where("profileId","==",a.id));else if(auth.currentUser&&auth.currentUser.uid!=a.userId){let rt=query(et,where("profileId","==",a.id),where("commenters","array-contains",auth.currentUser.uid)),nt=query(et,where("profileId","==",a.id,where("writers","array-contains",auth.currentUser.uid))),it=query(et,where("profileId","==",a.id),where("editors","array-contains",auth.currentUser.uid)),ot=query(et,where("profileId","==",a.id),where("readers","array-contains",auth.currentUser.uid));try{(await getDocs(rt)).docs.forEach(lt=>{const at=unpackPageDoc(lt);s=[...s,at]})}catch(st){console.error(`Page Query Where Commenter Error: ${st.message}`)}try{(await getDocs(tt)).docs.forEach(lt=>{const at=unpackPageDoc(lt);s=[...s,at]})}catch(st){console.error(`Page Query Where Req Error: ${st.message}`)}try{(await getDocs(ot)).docs.forEach(lt=>{const at=unpackPageDoc(lt);s=[...s,at]})}catch(st){console.error(`Page Query Where Reader Error: ${st.message}`)}try{(await getDocs(it)).docs.forEach(lt=>{const at=unpackPageDoc(lt);s=[...s,at]})}catch(st){console.error(`Page Query Where Editor Error: ${st.message}`)}try{(await getDocs(nt)).docs.forEach(lt=>{const at=unpackPageDoc(lt);s=[...s,at]})}catch(st){console.error(`Page Query Where Writer Error: ${st.message}`)}return{pageList:s}}try{const rt=await getDocs(tt);s=[],rt.docs.forEach(nt=>{const it=unpackPageDoc(nt);s=[...s,it]})}catch(rt){console.error(`Page Query Where Error: ${rt.message}`)}return{pageList:s}}),createPage=createAsyncThunk("pages/createPage",async function(o,i){const s=collection(db,"page"),a=doc(s).id,{profileId:et,data:tt,privacy:rt,approvalScore:nt,type:it,title:ot,readers:st,commentable:lt,writers:at,commenters:ut,editors:ft}=o,mt=Timestamp.now();try{await setDoc(doc(db,"page",a),{id:a,title:ot,data:tt,profileId:et,approvalScore:nt,privacy:rt,commentable:lt,type:it,readers:st,writers:at,commenters:ut,editors:ft,created:mt});const yt=new Contributors(ut,st,at,ft);return rt||client.initIndex("page").saveObject({objectID:a,title:ot}).wait(),{page:new Page(a,ot,tt,et,auth.currentUser.uid,nt,rt,lt,it,yt,mt)}}catch(yt){return{error:new Error(`Error: SavePage ${yt.message}`)}}}),fetchPage=createAsyncThunk("pages/fetchPage",async function(o,i){let s=o.id;try{const a=await getDoc(doc(db,"page",s));return{page:unpackPageDoc(a)}}catch(a){return{error:a}}}),fetchEditingPage=createAsyncThunk("pages/fetchEditingPage",async function(o,i){let s=o.id;try{const a=await getDoc(doc(db,"page",s));return{page:unpackPageDoc(a)}}catch(a){return{error:a}}}),saveRolesForPage=createAsyncThunk("books/saveRolesForPage",async(o,i)=>{try{const{page:s,readers:a,commenters:et,editors:tt,writers:rt}=o;let nt=doc(db,"page",s.id);await updateDoc(nt,{editors:tt,commenters:et,writers:rt,readers:a});const it=new Contributors(et,a,rt,tt);return{page:new Page(s.id,s.title,s.data,s.profileId,auth.currentUser.uid,s.approvalScore,s.privacy,s.commentable,s.type,it,s.created)}}catch(s){return{error:s??new Error("Error: CREATE PAGE ROLES")}}}),appendSaveRolesForPage=createAsyncThunk("pages/appendSaveRolesForPages",async(o,i)=>{try{const{pageIdList:s,readers:a}=o;return s.forEach(et=>{let tt=doc(db,"page",et);updateDoc(tt,{readers:arrayUnion(...a)})}),{readers:a}}catch(s){return{error:new Error(`Error:APPEND SAVE PAGE ROLES ${s.message}`)}}}),fetchAppendPagesOfProfile=createAsyncThunk("pages/fetchAppendPagesOfProfile",async(o,i)=>{const{id:s}=o;if(s){const a=collection(db,"page");let et=query(a,and(where("profileId","==",s),where("privacy","==",!1)));auth.currentUser.emailVerified?et=query(a,and(where("profileId","==",s),or(where("commenters","array-contains",auth.currentUser.uid),where("readers","array-contains",auth.currentUser.uid),where("editors","array-contains",auth.currentUser.uid),where("writers","array-contains",auth.currentUser.uid),where("privacy","==",!1)))):et=query(a,and(where("profileId","==",s),where("privacy","==",!1)));let tt=[];return(await getDocs(et)).docs.forEach(nt=>{const it=unpackPageDoc(nt);tt=[...tt,it]}),{pageList:tt}}else return{pageList:[]}}),fetchArrayOfPages=createAsyncThunk("pages/fetchArrayOfPages",async(o,i)=>{try{const s=o.pageIdList,a=o.profile,et=s.map(nt=>{const it=doc(db,"page",nt);return getDoc(it)});return{pageList:(await Promise.all(et)).map(nt=>unpackPageDoc(nt))}}catch(s){return{error:s??new Error("Error: Fetch Array of Pages")}}}),setPageInView=createAction("pages/setPageInView",o=>{const{page:i}=o;return{payload:i}}),setEditingPage=createAction("pages/setEditingPage",o=>{const{page:i}=o;return{payload:i}}),clearEditingPage=createAction("pages/clearEditingPage",o=>({payload:null})),setPagesToBeAdded=createAction("pages/setPagesToBeAdded",o=>{let{pageList:i}=o;return{payload:i}}),clearPagesInView=createAction("pages/clearPagesInView"),fetchArrayOfPagesAppened=createAsyncThunk("pages/fetchArrayOfPagesAppend",async(o,i)=>{try{const s=collection(db,"page"),a=o.pageIdList;if(a.length==0)return{pageList:[]};{let et=query(s,and(where("id","in",a),where("privacy","==",!1)));auth.currentUser&&(et=query(s,and(where("id","in",a),or(where("privacy","==",!1),where("commenters","array-contains",auth.currentUser.uid),where("readers","array-contains",auth.currentUser.uid),where("editors","array-contains",auth.currentUser.uid),where("writers","array-contains",auth.currentUser.uid),where("privacy","==",!1)))));const tt=await getDocs(et);let rt=[];return tt.docs.forEach(nt=>{const it=unpackPageDoc(nt);rt=[...rt,it]}),{pageList:rt}}}catch(s){return{error:s??new Error("Error: Fetch Array of Pages")}}}),createComment=createAsyncThunk("pages/createComment",async function(o,i){try{const{profileId:s,text:a,pageId:et,parentCommentId:tt}=o,rt=collection(db,"page_comment"),nt=doc(rt).id,it=Timestamp.now();return await setDoc(doc(db,"page_comment",nt),{id:nt,profileId:s,text:a,pageId:et,parentCommentId:tt,approvalScore:0,created:it}),{comment:new PageComment(nt,a,et,s,tt,0)}}catch(s){return{error:new Error(`Error: Create Comment ${s.message}`)}}}),appendComment=createAction("pages/appendComment",o=>{const{comment:i}=o;return{payload:i}}),fetchCommentsOfPage=createAsyncThunk("pages/fetchCommentsOfPages",async(o,i)=>{try{const{page:s}=o,a=collection(db,"page_comment");let et=query(a,where("pageId","==",s.id));const tt=await getDocs(et);let rt=[];return tt.docs.forEach(nt=>{const it=nt.data(),{id:ot,profileId:st,text:lt,pageId:at,parentCommentId:ut,approvalScore:ft,created:mt}=it,yt=new PageComment(ot,lt,at,st,ut,ft,mt);rt=[...rt,yt]}),{comments:rt}}catch(s){return{error:s??new Error("Error: Fetch Comments"+s.message)}}}),deleteComment=createAsyncThunk("pages/deleteComment",async(o,i)=>{const{comment:s}=o;try{return await deleteDoc(doc(db,"page_comment",s.id)),{comment:s}}catch(a){return{error:new Error("Error Deleteing comment"+a.message)}}});createAction("PAGES_LOADING",function(){return{payload:{loading:!0}}});const deletePage=createAsyncThunk("pages/deletePage",async(o,i)=>{try{const{page:s}=o;return await deleteDoc(doc(db,"page",s.id)),client.initIndex("page").deleteObject(s.id).wait(),{page:s}}catch(s){return{error:new Error("Error: Delete Page"+s.message)}}}),updateComment=createAsyncThunk("pages/updateComment",async(o,i)=>{const{comment:s,newText:a}=o;let et=doc(db,"page_comment",s.id);return await updateDoc(et,{text:a}),{comment:new PageComment(s.id,a,s.pageId,s.profileId,s.parentCommentId,s.approvalScore,s.created)}});createAction("books/fetchBooksWhereProfileEditor",(o,i)=>{try{const s=collection(db,"page");let a=query(s,where("writers","array-contains",auth.currentUser.uid)),et=[];return a.docs.forEach(tt=>{const rt=unpackPageDoc(tt);et=[...et,rt]}),{pageList:et}}catch(s){return{error:s}}});createAsyncThunk("pages/fetchBooksWhereProfileEditor",(o,i)=>{try{const s=collection(db,"page");let a=query(s,where("editors","array-contains",auth.currentUser.uid)),et=[];return a.docs.forEach(tt=>{const rt=tt.data(),{id:nt}=tt,it=rt.title,ot=rt.data,st=rt.profileId,lt=rt.approvalScore,at=rt.privacy,ut=rt.type,ft=rt.created;let mt=rt.commentable,yt=rt.commenters,ht=rt.editors,pt=rt.readers,ct=rt.writers;ht||(ht=[]),yt||(yt=[]),pt||(pt=[]),ct||(ct=[]),mt==null&&(mt=!0);const gt=new Contributors(yt,pt,ct,ht),Et=new Page(nt,it,ot,st,auth.currentUser.uid,lt,at,mt,ut,gt,ft);et=[...et,Et]}),{pageList:et}}catch(s){return{error:s}}});const fetchPagesWhereProfileCommenters=createAsyncThunk("pages/fetchPagesWhereProfileEditor",(o,i)=>{try{const s=collection(db,"page");let a=query(s,where("commenters","array-contains",auth.currentUser.uid)),et=[];return a.docs.forEach(tt=>{const rt=tt.data(),{id:nt}=tt,it=rt.title,ot=rt.data,st=rt.profileId,lt=rt.approvalScore,at=rt.privacy,ut=rt.type,ft=rt.created;let mt=rt.commentable,yt=rt.commenters,ht=rt.editors,pt=rt.readers,ct=rt.writers;ht||(ht=[]),yt||(yt=[]),pt||(pt=[]),ct||(ct=[]),mt==null&&(mt=!0);const gt=new Contributors(yt,pt,ct,ht),Et=new Page(nt,it,ot,st,auth.currentUser.uid,lt,at,mt,ut,gt,ft);et=[...et,Et]}),{pageList:et}}catch(s){return{error:s}}}),createPageApproval=createAsyncThunk("users/createPageApproval",async(o,i)=>{try{const{pageId:s,profileId:a,score:et}=o,tt=`${a}_${s}`;return await setDoc(doc(db,UserApproval.className,tt),{id:tt,pageId:s,profileId:a,score:et}),{userApproval:new UserApproval(tt,s,a,et)}}catch(s){return{error:s}}}),deletePageApproval=createAsyncThunk("users/deletePageApproval",async(o,i)=>{const{userApproval:s}=o;await deleteDoc(doc(db,UserApproval.className,s.id));try{return{userApproval:s}}catch(a){return{error:a}}}),unpackPageDoc=o=>{const i=o.data(),{id:s}=o,a=i.title,et=i.data,tt=i.profileId,rt=i.privacy,nt=i.approvalScore,it=i.type,ot=i.created,st=i.userId;let lt=i.commentable,at=i.commenters,ut=i.editors,ft=i.readers,mt=i.writers;const yt=new Contributors(at,ft,mt,ut);return new Page(s,a,et,tt,st,nt,rt,lt,it,yt,ot)},PageType={text:"html/text",picture:"image",video:"video",link:"link"},RoleType={reader:"reader",writer:"writer",commenter:"commenter",editor:"editor"},colors={grey:{50:"#FBFCFE",100:"#F0F4F8",200:"#DDE7EE",300:"#CDD7E1",400:"#9FA6AD",500:"#636B74",600:"#555E68",700:"#32383E",800:"#171A1C",900:"#0B0D0E"},blue:{50:"#EDF5FD",100:"#E3EFFB",200:"#C7DFF7",300:"#97C3F0",400:"#4393E4",500:"#0B6BCB",600:"#185EA5",700:"#12467B",800:"#0A2744",900:"#051423"},yellow:{50:"#FEFAF6",100:"#FDF0E1",200:"#FCE1C2",300:"#F3C896",400:"#EA9A3E",500:"#9A5B13",600:"#72430D",700:"#492B08",800:"#2E1B05",900:"#1D1002"},red:{50:"#FEF6F6",100:"#FCE4E4",200:"#F7C5C5",300:"#F09898",400:"#E47474",500:"#C41C1C",600:"#A51818",700:"#7D1212",800:"#430A0A",900:"#240505"},green:{50:"#F6FEF6",100:"#E3FBE3",200:"#C7F7C7",300:"#A1E8A1",400:"#51BC51",500:"#1F7A1F",600:"#136C13",700:"#0A470A",800:"#042F04",900:"#021D02"}},THEME_ID$1="$$joy";function formatMuiErrorMessage(o){let i="https://mui.com/production-error/?code="+o;for(let s=1;s<arguments.length;s+=1)i+="&args[]="+encodeURIComponent(arguments[s]);return"Minified MUI error #"+o+"; visit "+i+" for the full message."}function _extends$1(){return _extends$1=Object.assign?Object.assign.bind():function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},_extends$1.apply(this,arguments)}function memoize$1(o){var i=Object.create(null);return function(s){return i[s]===void 0&&(i[s]=o(s)),i[s]}}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$1(function(o){return reactPropsRegex.test(o)||o.charCodeAt(0)===111&&o.charCodeAt(1)===110&&o.charCodeAt(2)<91});function sheetForTag(o){if(o.sheet)return o.sheet;for(var i=0;i<document.styleSheets.length;i++)if(document.styleSheets[i].ownerNode===o)return document.styleSheets[i]}function createStyleElement(o){var i=document.createElement("style");return i.setAttribute("data-emotion",o.key),o.nonce!==void 0&&i.setAttribute("nonce",o.nonce),i.appendChild(document.createTextNode("")),i.setAttribute("data-s",""),i}var StyleSheet=function(){function o(s){var a=this;this._insertTag=function(et){var tt;a.tags.length===0?a.insertionPoint?tt=a.insertionPoint.nextSibling:a.prepend?tt=a.container.firstChild:tt=a.before:tt=a.tags[a.tags.length-1].nextSibling,a.container.insertBefore(et,tt),a.tags.push(et)},this.isSpeedy=s.speedy===void 0?!0:s.speedy,this.tags=[],this.ctr=0,this.nonce=s.nonce,this.key=s.key,this.container=s.container,this.prepend=s.prepend,this.insertionPoint=s.insertionPoint,this.before=null}var i=o.prototype;return i.hydrate=function(a){a.forEach(this._insertTag)},i.insert=function(a){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var et=this.tags[this.tags.length-1];if(this.isSpeedy){var tt=sheetForTag(et);try{tt.insertRule(a,tt.cssRules.length)}catch{}}else et.appendChild(document.createTextNode(a));this.ctr++},i.flush=function(){this.tags.forEach(function(a){return a.parentNode&&a.parentNode.removeChild(a)}),this.tags=[],this.ctr=0},o}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",LAYER="@layer",abs=Math.abs,from=String.fromCharCode,assign=Object.assign;function hash$2(o,i){return charat(o,0)^45?(((i<<2^charat(o,0))<<2^charat(o,1))<<2^charat(o,2))<<2^charat(o,3):0}function trim(o){return o.trim()}function match(o,i){return(o=i.exec(o))?o[0]:o}function replace(o,i,s){return o.replace(i,s)}function indexof(o,i){return o.indexOf(i)}function charat(o,i){return o.charCodeAt(i)|0}function substr(o,i,s){return o.slice(i,s)}function strlen(o){return o.length}function sizeof(o){return o.length}function append(o,i){return i.push(o),o}function combine(o,i){return o.map(i).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node(o,i,s,a,et,tt,rt){return{value:o,root:i,parent:s,type:a,props:et,children:tt,line,column,length:rt,return:""}}function copy(o,i){return assign(node("",null,null,"",null,null,0),o,{length:-o.length},i)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice(o,i){return substr(characters,o,i)}function token(o){switch(o){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(o){return line=column=1,length=strlen(characters=o),position=0,[]}function dealloc(o){return characters="",o}function delimit(o){return trim(slice(position-1,delimiter(o===91?o+2:o===40?o+1:o)))}function whitespace(o){for(;(character=peek())&&character<33;)next();return token(o)>2||token(character)>3?"":" "}function escaping(o,i){for(;--i&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice(o,caret()+(i<6&&peek()==32&&next()==32))}function delimiter(o){for(;next();)switch(character){case o:return position;case 34:case 39:o!==34&&o!==39&&delimiter(character);break;case 40:o===41&&delimiter(o);break;case 92:next();break}return position}function commenter(o,i){for(;next()&&o+character!==57;)if(o+character===84&&peek()===47)break;return"/*"+slice(i,position-1)+"*"+from(o===47?o:next())}function identifier(o){for(;!token(peek());)next();return slice(o,position)}function compile(o){return dealloc(parse("",null,null,null,[""],o=alloc(o),0,[0],o))}function parse(o,i,s,a,et,tt,rt,nt,it){for(var ot=0,st=0,lt=rt,at=0,ut=0,ft=0,mt=1,yt=1,ht=1,pt=0,ct="",gt=et,Et=tt,bt=a,xt=ct;yt;)switch(ft=pt,pt=next()){case 40:if(ft!=108&&charat(xt,lt-1)==58){indexof(xt+=replace(delimit(pt),"&","&\f"),"&\f")!=-1&&(ht=-1);break}case 34:case 39:case 91:xt+=delimit(pt);break;case 9:case 10:case 13:case 32:xt+=whitespace(ft);break;case 92:xt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),i,s),it);break;default:xt+="/"}break;case 123*mt:nt[ot++]=strlen(xt)*ht;case 125*mt:case 59:case 0:switch(pt){case 0:case 125:yt=0;case 59+st:ht==-1&&(xt=replace(xt,/\f/g,"")),ut>0&&strlen(xt)-lt&&append(ut>32?declaration(xt+";",a,s,lt-1):declaration(replace(xt," ","")+";",a,s,lt-2),it);break;case 59:xt+=";";default:if(append(bt=ruleset(xt,i,s,ot,st,et,nt,ct,gt=[],Et=[],lt),tt),pt===123)if(st===0)parse(xt,i,bt,bt,gt,tt,lt,nt,Et);else switch(at===99&&charat(xt,3)===110?100:at){case 100:case 108:case 109:case 115:parse(o,bt,bt,a&&append(ruleset(o,bt,bt,0,0,et,nt,ct,et,gt=[],lt),Et),et,Et,lt,nt,a?gt:Et);break;default:parse(xt,bt,bt,bt,[""],Et,0,nt,Et)}}ot=st=ut=0,mt=ht=1,ct=xt="",lt=rt;break;case 58:lt=1+strlen(xt),ut=ft;default:if(mt<1){if(pt==123)--mt;else if(pt==125&&mt++==0&&prev()==125)continue}switch(xt+=from(pt),pt*mt){case 38:ht=st>0?1:(xt+="\f",-1);break;case 44:nt[ot++]=(strlen(xt)-1)*ht,ht=1;break;case 64:peek()===45&&(xt+=delimit(next())),at=peek(),st=lt=strlen(ct=xt+=identifier(caret())),pt++;break;case 45:ft===45&&strlen(xt)==2&&(mt=0)}}return tt}function ruleset(o,i,s,a,et,tt,rt,nt,it,ot,st){for(var lt=et-1,at=et===0?tt:[""],ut=sizeof(at),ft=0,mt=0,yt=0;ft<a;++ft)for(var ht=0,pt=substr(o,lt+1,lt=abs(mt=rt[ft])),ct=o;ht<ut;++ht)(ct=trim(mt>0?at[ht]+" "+pt:replace(pt,/&\f/g,at[ht])))&&(it[yt++]=ct);return node(o,i,s,et===0?RULESET:nt,it,ot,st)}function comment(o,i,s){return node(o,i,s,COMMENT,from(char()),substr(o,2,-2),0)}function declaration(o,i,s,a){return node(o,i,s,DECLARATION,substr(o,0,a),substr(o,a+1,-1),a)}function serialize(o,i){for(var s="",a=sizeof(o),et=0;et<a;et++)s+=i(o[et],et,o,i)||"";return s}function stringify(o,i,s,a){switch(o.type){case LAYER:if(o.children.length)break;case IMPORT:case DECLARATION:return o.return=o.return||o.value;case COMMENT:return"";case KEYFRAMES:return o.return=o.value+"{"+serialize(o.children,a)+"}";case RULESET:o.value=o.props.join(",")}return strlen(s=serialize(o.children,a))?o.return=o.value+"{"+s+"}":""}function middleware(o){var i=sizeof(o);return function(s,a,et,tt){for(var rt="",nt=0;nt<i;nt++)rt+=o[nt](s,a,et,tt)||"";return rt}}function rulesheet(o){return function(i){i.root||(i=i.return)&&o(i)}}var identifierWithPointTracking=function(i,s,a){for(var et=0,tt=0;et=tt,tt=peek(),et===38&&tt===12&&(s[a]=1),!token(tt);)next();return slice(i,position)},toRules=function(i,s){var a=-1,et=44;do switch(token(et)){case 0:et===38&&peek()===12&&(s[a]=1),i[a]+=identifierWithPointTracking(position-1,s,a);break;case 2:i[a]+=delimit(et);break;case 4:if(et===44){i[++a]=peek()===58?"&\f":"",s[a]=i[a].length;break}default:i[a]+=from(et)}while(et=next());return i},getRules=function(i,s){return dealloc(toRules(alloc(i),s))},fixedElements=new WeakMap,compat=function(i){if(!(i.type!=="rule"||!i.parent||i.length<1)){for(var s=i.value,a=i.parent,et=i.column===a.column&&i.line===a.line;a.type!=="rule";)if(a=a.parent,!a)return;if(!(i.props.length===1&&s.charCodeAt(0)!==58&&!fixedElements.get(a))&&!et){fixedElements.set(i,!0);for(var tt=[],rt=getRules(s,tt),nt=a.props,it=0,ot=0;it<rt.length;it++)for(var st=0;st<nt.length;st++,ot++)i.props[ot]=tt[it]?rt[it].replace(/&\f/g,nt[st]):nt[st]+" "+rt[it]}}},removeLabel=function(i){if(i.type==="decl"){var s=i.value;s.charCodeAt(0)===108&&s.charCodeAt(2)===98&&(i.return="",i.value="")}};function prefix(o,i){switch(hash$2(o,i)){case 5103:return WEBKIT+"print-"+o+o;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+o+o;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+o+MOZ+o+MS+o+o;case 6828:case 4268:return WEBKIT+o+MS+o+o;case 6165:return WEBKIT+o+MS+"flex-"+o+o;case 5187:return WEBKIT+o+replace(o,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+o;case 5443:return WEBKIT+o+MS+"flex-item-"+replace(o,/flex-|-self/,"")+o;case 4675:return WEBKIT+o+MS+"flex-line-pack"+replace(o,/align-content|flex-|-self/,"")+o;case 5548:return WEBKIT+o+MS+replace(o,"shrink","negative")+o;case 5292:return WEBKIT+o+MS+replace(o,"basis","preferred-size")+o;case 6060:return WEBKIT+"box-"+replace(o,"-grow","")+WEBKIT+o+MS+replace(o,"grow","positive")+o;case 4554:return WEBKIT+replace(o,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+o;case 6187:return replace(replace(replace(o,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),o,"")+o;case 5495:case 3959:return replace(o,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace(replace(o,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+o+o;case 4095:case 3583:case 4068:case 2532:return replace(o,/(.+)-inline(.+)/,WEBKIT+"$1$2")+o;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(o)-1-i>6)switch(charat(o,i+1)){case 109:if(charat(o,i+4)!==45)break;case 102:return replace(o,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(o,i+3)==108?"$3":"$2-$3"))+o;case 115:return~indexof(o,"stretch")?prefix(replace(o,"stretch","fill-available"),i)+o:o}break;case 4949:if(charat(o,i+1)!==115)break;case 6444:switch(charat(o,strlen(o)-3-(~indexof(o,"!important")&&10))){case 107:return replace(o,":",":"+WEBKIT)+o;case 101:return replace(o,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(o,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+o}break;case 5936:switch(charat(o,i+11)){case 114:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb")+o;case 108:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"tb-rl")+o;case 45:return WEBKIT+o+MS+replace(o,/[svh]\w+-[tblr]{2}/,"lr")+o}return WEBKIT+o+MS+o+o}return o}var prefixer=function(i,s,a,et){if(i.length>-1&&!i.return)switch(i.type){case DECLARATION:i.return=prefix(i.value,i.length);break;case KEYFRAMES:return serialize([copy(i,{value:replace(i.value,"@","@"+WEBKIT)})],et);case RULESET:if(i.length)return combine(i.props,function(tt){switch(match(tt,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy(i,{props:[replace(tt,/:(read-\w+)/,":"+MOZ+"$1")]})],et);case"::placeholder":return serialize([copy(i,{props:[replace(tt,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy(i,{props:[replace(tt,/:(plac\w+)/,":"+MOZ+"$1")]}),copy(i,{props:[replace(tt,/:(plac\w+)/,MS+"input-$1")]})],et)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(i){var s=i.key;if(s==="css"){var a=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(a,function(mt){var yt=mt.getAttribute("data-emotion");yt.indexOf(" ")!==-1&&(document.head.appendChild(mt),mt.setAttribute("data-s",""))})}var et=i.stylisPlugins||defaultStylisPlugins,tt={},rt,nt=[];rt=i.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+s+' "]'),function(mt){for(var yt=mt.getAttribute("data-emotion").split(" "),ht=1;ht<yt.length;ht++)tt[yt[ht]]=!0;nt.push(mt)});var it,ot=[compat,removeLabel];{var st,lt=[stringify,rulesheet(function(mt){st.insert(mt)})],at=middleware(ot.concat(et,lt)),ut=function(yt){return serialize(compile(yt),at)};it=function(yt,ht,pt,ct){st=pt,ut(yt?yt+"{"+ht.styles+"}":ht.styles),ct&&(ft.inserted[ht.name]=!0)}}var ft={key:s,sheet:new StyleSheet({key:s,container:rt,nonce:i.nonce,speedy:i.speedy,prepend:i.prepend,insertionPoint:i.insertionPoint}),nonce:i.nonce,inserted:tt,registered:{},insert:it};return ft.sheet.hydrate(nt),ft},reactIs$1={exports:{}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$2=typeof Symbol=="function"&&Symbol.for,c$1=b$2?Symbol.for("react.element"):60103,d$1=b$2?Symbol.for("react.portal"):60106,e$1=b$2?Symbol.for("react.fragment"):60107,f$1=b$2?Symbol.for("react.strict_mode"):60108,g$1=b$2?Symbol.for("react.profiler"):60114,h$2=b$2?Symbol.for("react.provider"):60109,k$1=b$2?Symbol.for("react.context"):60110,l$1=b$2?Symbol.for("react.async_mode"):60111,m$1=b$2?Symbol.for("react.concurrent_mode"):60111,n$1=b$2?Symbol.for("react.forward_ref"):60112,p$1=b$2?Symbol.for("react.suspense"):60113,q$1=b$2?Symbol.for("react.suspense_list"):60120,r$1=b$2?Symbol.for("react.memo"):60115,t$1=b$2?Symbol.for("react.lazy"):60116,v$2=b$2?Symbol.for("react.block"):60121,w$1=b$2?Symbol.for("react.fundamental"):60117,x=b$2?Symbol.for("react.responder"):60118,y=b$2?Symbol.for("react.scope"):60119;function z(o){if(typeof o=="object"&&o!==null){var i=o.$$typeof;switch(i){case c$1:switch(o=o.type,o){case l$1:case m$1:case e$1:case g$1:case f$1:case p$1:return o;default:switch(o=o&&o.$$typeof,o){case k$1:case n$1:case t$1:case r$1:case h$2:return o;default:return i}}case d$1:return i}}}function A(o){return z(o)===m$1}reactIs_production_min$1.AsyncMode=l$1;reactIs_production_min$1.ConcurrentMode=m$1;reactIs_production_min$1.ContextConsumer=k$1;reactIs_production_min$1.ContextProvider=h$2;reactIs_production_min$1.Element=c$1;reactIs_production_min$1.ForwardRef=n$1;reactIs_production_min$1.Fragment=e$1;reactIs_production_min$1.Lazy=t$1;reactIs_production_min$1.Memo=r$1;reactIs_production_min$1.Portal=d$1;reactIs_production_min$1.Profiler=g$1;reactIs_production_min$1.StrictMode=f$1;reactIs_production_min$1.Suspense=p$1;reactIs_production_min$1.isAsyncMode=function(o){return A(o)||z(o)===l$1};reactIs_production_min$1.isConcurrentMode=A;reactIs_production_min$1.isContextConsumer=function(o){return z(o)===k$1};reactIs_production_min$1.isContextProvider=function(o){return z(o)===h$2};reactIs_production_min$1.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===c$1};reactIs_production_min$1.isForwardRef=function(o){return z(o)===n$1};reactIs_production_min$1.isFragment=function(o){return z(o)===e$1};reactIs_production_min$1.isLazy=function(o){return z(o)===t$1};reactIs_production_min$1.isMemo=function(o){return z(o)===r$1};reactIs_production_min$1.isPortal=function(o){return z(o)===d$1};reactIs_production_min$1.isProfiler=function(o){return z(o)===g$1};reactIs_production_min$1.isStrictMode=function(o){return z(o)===f$1};reactIs_production_min$1.isSuspense=function(o){return z(o)===p$1};reactIs_production_min$1.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===e$1||o===m$1||o===g$1||o===f$1||o===p$1||o===q$1||typeof o=="object"&&o!==null&&(o.$$typeof===t$1||o.$$typeof===r$1||o.$$typeof===h$2||o.$$typeof===k$1||o.$$typeof===n$1||o.$$typeof===w$1||o.$$typeof===x||o.$$typeof===y||o.$$typeof===v$2)};reactIs_production_min$1.typeOf=z;reactIs$1.exports=reactIs_production_min$1;var reactIsExports=reactIs$1.exports,reactIs=reactIsExports,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs.Memo]=MEMO_STATICS;var isBrowser=!0;function getRegisteredStyles(o,i,s){var a="";return s.split(" ").forEach(function(et){o[et]!==void 0?i.push(o[et]+";"):a+=et+" "}),a}var registerStyles=function(i,s,a){var et=i.key+"-"+s.name;(a===!1||isBrowser===!1)&&i.registered[et]===void 0&&(i.registered[et]=s.styles)},insertStyles=function(i,s,a){registerStyles(i,s,a);var et=i.key+"-"+s.name;if(i.inserted[s.name]===void 0){var tt=s;do i.insert(s===tt?"."+et:"",tt,i.sheet,!0),tt=tt.next;while(tt!==void 0)}};function murmur2(o){for(var i=0,s,a=0,et=o.length;et>=4;++a,et-=4)s=o.charCodeAt(a)&255|(o.charCodeAt(++a)&255)<<8|(o.charCodeAt(++a)&255)<<16|(o.charCodeAt(++a)&255)<<24,s=(s&65535)*1540483477+((s>>>16)*59797<<16),s^=s>>>24,i=(s&65535)*1540483477+((s>>>16)*59797<<16)^(i&65535)*1540483477+((i>>>16)*59797<<16);switch(et){case 3:i^=(o.charCodeAt(a+2)&255)<<16;case 2:i^=(o.charCodeAt(a+1)&255)<<8;case 1:i^=o.charCodeAt(a)&255,i=(i&65535)*1540483477+((i>>>16)*59797<<16)}return i^=i>>>13,i=(i&65535)*1540483477+((i>>>16)*59797<<16),((i^i>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(i){return i.charCodeAt(1)===45},isProcessableValue=function(i){return i!=null&&typeof i!="boolean"},processStyleName=memoize$1(function(o){return isCustomProperty(o)?o:o.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(i,s){switch(i){case"animation":case"animationName":if(typeof s=="string")return s.replace(animationRegex,function(a,et,tt){return cursor={name:et,styles:tt,next:cursor},et})}return unitlessKeys[i]!==1&&!isCustomProperty(i)&&typeof s=="number"&&s!==0?s+"px":s},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(o,i,s){if(s==null)return"";if(s.__emotion_styles!==void 0)return s;switch(typeof s){case"boolean":return"";case"object":{if(s.anim===1)return cursor={name:s.name,styles:s.styles,next:cursor},s.name;if(s.styles!==void 0){var a=s.next;if(a!==void 0)for(;a!==void 0;)cursor={name:a.name,styles:a.styles,next:cursor},a=a.next;var et=s.styles+";";return et}return createStringFromObject(o,i,s)}case"function":{if(o!==void 0){var tt=cursor,rt=s(o);return cursor=tt,handleInterpolation(o,i,rt)}break}}if(i==null)return s;var nt=i[s];return nt!==void 0?nt:s}function createStringFromObject(o,i,s){var a="";if(Array.isArray(s))for(var et=0;et<s.length;et++)a+=handleInterpolation(o,i,s[et])+";";else for(var tt in s){var rt=s[tt];if(typeof rt!="object")i!=null&&i[rt]!==void 0?a+=tt+"{"+i[rt]+"}":isProcessableValue(rt)&&(a+=processStyleName(tt)+":"+processStyleValue(tt,rt)+";");else if(Array.isArray(rt)&&typeof rt[0]=="string"&&(i==null||i[rt[0]]===void 0))for(var nt=0;nt<rt.length;nt++)isProcessableValue(rt[nt])&&(a+=processStyleName(tt)+":"+processStyleValue(tt,rt[nt])+";");else{var it=handleInterpolation(o,i,rt);switch(tt){case"animation":case"animationName":{a+=processStyleName(tt)+":"+it+";";break}default:a+=tt+"{"+it+"}"}}}return a}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(i,s,a){if(i.length===1&&typeof i[0]=="object"&&i[0]!==null&&i[0].styles!==void 0)return i[0];var et=!0,tt="";cursor=void 0;var rt=i[0];rt==null||rt.raw===void 0?(et=!1,tt+=handleInterpolation(a,s,rt)):tt+=rt[0];for(var nt=1;nt<i.length;nt++)tt+=handleInterpolation(a,s,i[nt]),et&&(tt+=rt[nt]);labelPattern.lastIndex=0;for(var it="",ot;(ot=labelPattern.exec(tt))!==null;)it+="-"+ot[1];var st=murmur2(tt)+it;return{name:st,styles:tt,next:cursor}},syncFallback=function(i){return i()},useInsertionEffect=React$3.useInsertionEffect?React$3.useInsertionEffect:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(i){return reactExports.forwardRef(function(s,a){var et=reactExports.useContext(EmotionCacheContext);return i(s,et,a)})},ThemeContext$1=reactExports.createContext({}),Global=withEmotionCache(function(o,i){var s=o.styles,a=serializeStyles([s],void 0,reactExports.useContext(ThemeContext$1)),et=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var tt=i.key+"-global",rt=new i.sheet.constructor({key:tt,nonce:i.sheet.nonce,container:i.sheet.container,speedy:i.sheet.isSpeedy}),nt=!1,it=document.querySelector('style[data-emotion="'+tt+" "+a.name+'"]');return i.sheet.tags.length&&(rt.before=i.sheet.tags[0]),it!==null&&(nt=!0,it.setAttribute("data-emotion",tt),rt.hydrate([it])),et.current=[rt,nt],function(){rt.flush()}},[i]),useInsertionEffectWithLayoutFallback(function(){var tt=et.current,rt=tt[0],nt=tt[1];if(nt){tt[1]=!1;return}if(a.next!==void 0&&insertStyles(i,a.next,!0),rt.tags.length){var it=rt.tags[rt.tags.length-1].nextElementSibling;rt.before=it,rt.flush()}i.insert("",a,rt,!1)},[i,a.name]),null});function css(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return serializeStyles(i)}var keyframes=function(){var i=css.apply(void 0,arguments),s="animation-"+i.name;return{name:s,styles:"@keyframes "+s+"{"+i.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(i){return i!=="theme"},getDefaultShouldForwardProp=function(i){return typeof i=="string"&&i.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(i,s,a){var et;if(s){var tt=s.shouldForwardProp;et=i.__emotion_forwardProp&&tt?function(rt){return i.__emotion_forwardProp(rt)&&tt(rt)}:tt}return typeof et!="function"&&a&&(et=i.__emotion_forwardProp),et},Insertion=function(i){var s=i.cache,a=i.serialized,et=i.isStringTag;return registerStyles(s,a,et),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(s,a,et)}),null},createStyled$1=function o(i,s){var a=i.__emotion_real===i,et=a&&i.__emotion_base||i,tt,rt;s!==void 0&&(tt=s.label,rt=s.target);var nt=composeShouldForwardProps(i,s,a),it=nt||getDefaultShouldForwardProp(et),ot=!it("as");return function(){var st=arguments,lt=a&&i.__emotion_styles!==void 0?i.__emotion_styles.slice(0):[];if(tt!==void 0&&lt.push("label:"+tt+";"),st[0]==null||st[0].raw===void 0)lt.push.apply(lt,st);else{lt.push(st[0][0]);for(var at=st.length,ut=1;ut<at;ut++)lt.push(st[ut],st[0][ut])}var ft=withEmotionCache(function(mt,yt,ht){var pt=ot&&mt.as||et,ct="",gt=[],Et=mt;if(mt.theme==null){Et={};for(var bt in mt)Et[bt]=mt[bt];Et.theme=reactExports.useContext(ThemeContext$1)}typeof mt.className=="string"?ct=getRegisteredStyles(yt.registered,gt,mt.className):mt.className!=null&&(ct=mt.className+" ");var xt=serializeStyles(lt.concat(gt),yt.registered,Et);ct+=yt.key+"-"+xt.name,rt!==void 0&&(ct+=" "+rt);var Tt=ot&&nt===void 0?getDefaultShouldForwardProp(pt):it,wt={};for(var It in mt)ot&&It==="as"||Tt(It)&&(wt[It]=mt[It]);return wt.className=ct,wt.ref=ht,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:yt,serialized:xt,isStringTag:typeof pt=="string"}),reactExports.createElement(pt,wt))});return ft.displayName=tt!==void 0?tt:"Styled("+(typeof et=="string"?et:et.displayName||et.name||"Component")+")",ft.defaultProps=i.defaultProps,ft.__emotion_real=ft,ft.__emotion_base=et,ft.__emotion_styles=lt,ft.__emotion_forwardProp=nt,Object.defineProperty(ft,"toString",{value:function(){return"."+rt}}),ft.withComponent=function(mt,yt){return o(mt,_extends$1({},s,yt,{shouldForwardProp:composeShouldForwardProps(ft,yt,!0)})).apply(void 0,lt)},ft}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(o){newStyled[o]=newStyled(o)});var propTypes$2={exports:{}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function o(a,et,tt,rt,nt,it){if(it!==ReactPropTypesSecret){var ot=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ot.name="Invariant Violation",ot}}o.isRequired=o;function i(){return o}var s={array:o,bigint:o,bool:o,func:o,number:o,object:o,string:o,symbol:o,any:o,arrayOf:i,element:o,elementType:o,instanceOf:i,node:o,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return s.PropTypes=s,s};propTypes$2.exports=factoryWithThrowingShims();var propTypesExports=propTypes$2.exports;const PropTypes=getDefaultExportFromCjs(propTypesExports);function isEmpty$3(o){return o==null||Object.keys(o).length===0}function GlobalStyles$2(o){const{styles:i,defaultTheme:s={}}=o,a=typeof i=="function"?et=>i(isEmpty$3(et)?s:et):i;return jsxRuntimeExports.jsx(Global,{styles:a})}function styled$3(o,i){return newStyled(o,i)}const internal_processStyles=(o,i)=>{Array.isArray(o.__emotion_styles)&&(o.__emotion_styles=i(o.__emotion_styles))};function _objectWithoutPropertiesLoose$6(o,i){if(o==null)return{};var s={},a=Object.keys(o),et,tt;for(tt=0;tt<a.length;tt++)et=a[tt],!(i.indexOf(et)>=0)&&(s[et]=o[et]);return s}function isPlainObject(o){if(typeof o!="object"||o===null)return!1;const i=Object.getPrototypeOf(o);return(i===null||i===Object.prototype||Object.getPrototypeOf(i)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)}function deepClone(o){if(!isPlainObject(o))return o;const i={};return Object.keys(o).forEach(s=>{i[s]=deepClone(o[s])}),i}function deepmerge(o,i,s={clone:!0}){const a=s.clone?_extends$1({},o):o;return isPlainObject(o)&&isPlainObject(i)&&Object.keys(i).forEach(et=>{et!=="__proto__"&&(isPlainObject(i[et])&&et in o&&isPlainObject(o[et])?a[et]=deepmerge(o[et],i[et],s):s.clone?a[et]=isPlainObject(i[et])?deepClone(i[et]):i[et]:a[et]=i[et])}),a}function capitalize(o){if(typeof o!="string")throw new Error(formatMuiErrorMessage(7));return o.charAt(0).toUpperCase()+o.slice(1)}function createChainedFunction(...o){return o.reduce((i,s)=>s==null?i:function(...et){i.apply(this,et),s.apply(this,et)},()=>{})}function debounce$2(o,i=166){let s;function a(...et){const tt=()=>{o.apply(this,et)};clearTimeout(s),s=setTimeout(tt,i)}return a.clear=()=>{clearTimeout(s)},a}function deprecatedPropType(o,i){return()=>null}function isMuiElement(o,i){var s,a;return reactExports.isValidElement(o)&&i.indexOf((s=o.type.muiName)!=null?s:(a=o.type)==null||(a=a._payload)==null||(a=a.value)==null?void 0:a.muiName)!==-1}function ownerDocument$1(o){return o&&o.ownerDocument||document}function ownerWindow(o){return ownerDocument$1(o).defaultView||window}function requirePropFactory(o,i){return()=>null}function setRef(o,i){typeof o=="function"?o(i):o&&(o.current=i)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;let globalId=0;function useGlobalId(o){const[i,s]=reactExports.useState(o),a=o||i;return reactExports.useEffect(()=>{i==null&&(globalId+=1,s(`mui-${globalId}`))},[i]),a}const maybeReactUseId=React$3.useId;function useId(o){if(maybeReactUseId!==void 0){const i=maybeReactUseId();return o??i}return useGlobalId(o)}function unsupportedProp(o,i,s,a,et){return null}function useControlled({controlled:o,default:i,name:s,state:a="value"}){const{current:et}=reactExports.useRef(o!==void 0),[tt,rt]=reactExports.useState(i),nt=et?o:tt,it=reactExports.useCallback(ot=>{et||rt(ot)},[]);return[nt,it]}function useEventCallback$1(o){const i=reactExports.useRef(o);return useEnhancedEffect(()=>{i.current=o}),reactExports.useRef((...s)=>(0,i.current)(...s)).current}function useForkRef(...o){return reactExports.useMemo(()=>o.every(i=>i==null)?null:i=>{o.forEach(s=>{setRef(s,i)})},o)}const UNINITIALIZED={};function useLazyRef(o,i){const s=reactExports.useRef(UNINITIALIZED);return s.current===UNINITIALIZED&&(s.current=o(i)),s}const EMPTY=[];function useOnMount(o){reactExports.useEffect(o,EMPTY)}class Timeout{constructor(){this.currentId=0,this.clear=()=>{this.currentId!==0&&(clearTimeout(this.currentId),this.currentId=0)},this.disposeEffect=()=>this.clear}static create(){return new Timeout}start(i,s){this.clear(),this.currentId=setTimeout(()=>{this.currentId=0,s()},i)}}function useTimeout(){const o=useLazyRef(Timeout.create).current;return useOnMount(o.disposeEffect),o}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1;const hadFocusVisibleRecentlyTimeout=new Timeout,inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(o){const{type:i,tagName:s}=o;return!!(s==="INPUT"&&inputTypesWhitelist[i]&&!o.readOnly||s==="TEXTAREA"&&!o.readOnly||o.isContentEditable)}function handleKeyDown$1(o){o.metaKey||o.altKey||o.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare(o){o.addEventListener("keydown",handleKeyDown$1,!0),o.addEventListener("mousedown",handlePointerDown,!0),o.addEventListener("pointerdown",handlePointerDown,!0),o.addEventListener("touchstart",handlePointerDown,!0),o.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(o){const{target:i}=o;try{return i.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(i)}function useIsFocusVisible(){const o=reactExports.useCallback(et=>{et!=null&&prepare(et.ownerDocument)},[]),i=reactExports.useRef(!1);function s(){return i.current?(hadFocusVisibleRecently=!0,hadFocusVisibleRecentlyTimeout.start(100,()=>{hadFocusVisibleRecently=!1}),i.current=!1,!0):!1}function a(et){return isFocusVisible(et)?(i.current=!0,!0):!1}return{isFocusVisibleRef:i,onFocus:a,onBlur:s,ref:o}}function getScrollbarSize(o){const i=o.documentElement.clientWidth;return Math.abs(window.innerWidth-i)}function resolveProps(o,i){const s=_extends$1({},i);return Object.keys(o).forEach(a=>{if(a.toString().match(/^(components|slots)$/))s[a]=_extends$1({},o[a],s[a]);else if(a.toString().match(/^(componentsProps|slotProps)$/)){const et=o[a]||{},tt=i[a];s[a]={},!tt||!Object.keys(tt)?s[a]=et:!et||!Object.keys(et)?s[a]=tt:(s[a]=_extends$1({},tt),Object.keys(et).forEach(rt=>{s[a][rt]=resolveProps(et[rt],tt[rt])}))}else s[a]===void 0&&(s[a]=o[a])}),s}function composeClasses(o,i,s=void 0){const a={};return Object.keys(o).forEach(et=>{a[et]=o[et].reduce((tt,rt)=>{if(rt){const nt=i(rt);nt!==""&&tt.push(nt),s&&s[rt]&&tt.push(s[rt])}return tt},[]).join(" ")}),a}const defaultGenerator=o=>o,createClassNameGenerator=()=>{let o=defaultGenerator;return{configure(i){o=i},generate(i){return o(i)},reset(){o=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),globalStateClasses={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function generateUtilityClass$2(o,i,s="Mui"){const a=globalStateClasses[i];return a?`${s}-${a}`:`${ClassNameGenerator.generate(o)}-${i}`}function generateUtilityClasses$2(o,i,s="Mui"){const a={};return i.forEach(et=>{a[et]=generateUtilityClass$2(o,et,s)}),a}function clamp$1(o,i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER){return Math.max(i,Math.min(o,s))}const _excluded$1j=["values","unit","step"],sortBreakpointsValues=o=>{const i=Object.keys(o).map(s=>({key:s,val:o[s]}))||[];return i.sort((s,a)=>s.val-a.val),i.reduce((s,a)=>_extends$1({},s,{[a.key]:a.val}),{})};function createBreakpoints(o){const{values:i={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:s="px",step:a=5}=o,et=_objectWithoutPropertiesLoose$6(o,_excluded$1j),tt=sortBreakpointsValues(i),rt=Object.keys(tt);function nt(at){return`@media (min-width:${typeof i[at]=="number"?i[at]:at}${s})`}function it(at){return`@media (max-width:${(typeof i[at]=="number"?i[at]:at)-a/100}${s})`}function ot(at,ut){const ft=rt.indexOf(ut);return`@media (min-width:${typeof i[at]=="number"?i[at]:at}${s}) and (max-width:${(ft!==-1&&typeof i[rt[ft]]=="number"?i[rt[ft]]:ut)-a/100}${s})`}function st(at){return rt.indexOf(at)+1<rt.length?ot(at,rt[rt.indexOf(at)+1]):nt(at)}function lt(at){const ut=rt.indexOf(at);return ut===0?nt(rt[1]):ut===rt.length-1?it(rt[ut]):ot(at,rt[rt.indexOf(at)+1]).replace("@media","@media not all and")}return _extends$1({keys:rt,values:tt,up:nt,down:it,between:ot,only:st,not:lt,unit:s},et)}const shape={borderRadius:4},shape$1=shape;function merge(o,i){return i?deepmerge(o,i,{clone:!1}):o}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:o=>`@media (min-width:${values$1[o]}px)`};function handleBreakpoints(o,i,s){const a=o.theme||{};if(Array.isArray(i)){const tt=a.breakpoints||defaultBreakpoints;return i.reduce((rt,nt,it)=>(rt[tt.up(tt.keys[it])]=s(i[it]),rt),{})}if(typeof i=="object"){const tt=a.breakpoints||defaultBreakpoints;return Object.keys(i).reduce((rt,nt)=>{if(Object.keys(tt.values||values$1).indexOf(nt)!==-1){const it=tt.up(nt);rt[it]=s(i[nt],nt)}else{const it=nt;rt[it]=i[it]}return rt},{})}return s(i)}function createEmptyBreakpointObject(o={}){var i;return((i=o.keys)==null?void 0:i.reduce((a,et)=>{const tt=o.up(et);return a[tt]={},a},{}))||{}}function removeUnusedBreakpoints(o,i){return o.reduce((s,a)=>{const et=s[a];return(!et||Object.keys(et).length===0)&&delete s[a],s},i)}function mergeBreakpointsInOrder(o,...i){const s=createEmptyBreakpointObject(o),a=[s,...i].reduce((et,tt)=>deepmerge(et,tt),{});return removeUnusedBreakpoints(Object.keys(s),a)}function computeBreakpointsBase(o,i){if(typeof o!="object")return{};const s={},a=Object.keys(i);return Array.isArray(o)?a.forEach((et,tt)=>{tt<o.length&&(s[et]=!0)}):a.forEach(et=>{o[et]!=null&&(s[et]=!0)}),s}function resolveBreakpointValues({values:o,breakpoints:i,base:s}){const a=s||computeBreakpointsBase(o,i),et=Object.keys(a);if(et.length===0)return o;let tt;return et.reduce((rt,nt,it)=>(Array.isArray(o)?(rt[nt]=o[it]!=null?o[it]:o[tt],tt=it):typeof o=="object"?(rt[nt]=o[nt]!=null?o[nt]:o[tt],tt=nt):rt[nt]=o,rt),{})}function getPath(o,i,s=!0){if(!i||typeof i!="string")return null;if(o&&o.vars&&s){const a=`vars.${i}`.split(".").reduce((et,tt)=>et&&et[tt]?et[tt]:null,o);if(a!=null)return a}return i.split(".").reduce((a,et)=>a&&a[et]!=null?a[et]:null,o)}function getStyleValue$1(o,i,s,a=s){let et;return typeof o=="function"?et=o(s):Array.isArray(o)?et=o[s]||a:et=getPath(o,s)||a,i&&(et=i(et,a,o)),et}function style$2(o){const{prop:i,cssProperty:s=o.prop,themeKey:a,transform:et}=o,tt=rt=>{if(rt[i]==null)return null;const nt=rt[i],it=rt.theme,ot=getPath(it,a)||{};return handleBreakpoints(rt,nt,lt=>{let at=getStyleValue$1(ot,et,lt);return lt===at&&typeof lt=="string"&&(at=getStyleValue$1(ot,et,`${i}${lt==="default"?"":capitalize(lt)}`,lt)),s===!1?at:{[s]:at}})};return tt.propTypes={},tt.filterProps=[i],tt}function memoize(o){const i={};return s=>(i[s]===void 0&&(i[s]=o(s)),i[s])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize(o=>{if(o.length>2)if(aliases[o])o=aliases[o];else return[o];const[i,s]=o.split(""),a=properties[i],et=directions[s]||"";return Array.isArray(et)?et.map(tt=>a+tt):[a+et]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(o,i,s,a){var et;const tt=(et=getPath(o,i,!1))!=null?et:s;return typeof tt=="number"?rt=>typeof rt=="string"?rt:tt*rt:Array.isArray(tt)?rt=>typeof rt=="string"?rt:tt[rt]:typeof tt=="function"?tt:()=>{}}function createUnarySpacing(o){return createUnaryUnit(o,"spacing",8)}function getValue$2(o,i){if(typeof i=="string"||i==null)return i;const s=Math.abs(i),a=o(s);return i>=0?a:typeof a=="number"?-a:`-${a}`}function getStyleFromPropValue(o,i){return s=>o.reduce((a,et)=>(a[et]=getValue$2(i,s),a),{})}function resolveCssProperty(o,i,s,a){if(i.indexOf(s)===-1)return null;const et=getCssProperties(s),tt=getStyleFromPropValue(et,a),rt=o[s];return handleBreakpoints(o,rt,tt)}function style$1(o,i){const s=createUnarySpacing(o.theme);return Object.keys(o).map(a=>resolveCssProperty(o,i,a,s)).reduce(merge,{})}function margin(o){return style$1(o,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(o){return style$1(o,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function createSpacing(o=8){if(o.mui)return o;const i=createUnarySpacing({spacing:o}),s=(...a)=>(a.length===0?[1]:a).map(tt=>{const rt=i(tt);return typeof rt=="number"?`${rt}px`:rt}).join(" ");return s.mui=!0,s}function compose(...o){const i=o.reduce((a,et)=>(et.filterProps.forEach(tt=>{a[tt]=et}),a),{}),s=a=>Object.keys(a).reduce((et,tt)=>i[tt]?merge(et,i[tt](a)):et,{});return s.propTypes={},s.filterProps=o.reduce((a,et)=>a.concat(et.filterProps),[]),s}function borderTransform(o){return typeof o!="number"?o:`${o}px solid`}function createBorderStyle(o,i){return style$2({prop:o,themeKey:"borders",transform:i})}const border=createBorderStyle("border",borderTransform),borderTop=createBorderStyle("borderTop",borderTransform),borderRight=createBorderStyle("borderRight",borderTransform),borderBottom=createBorderStyle("borderBottom",borderTransform),borderLeft=createBorderStyle("borderLeft",borderTransform),borderColor=createBorderStyle("borderColor"),borderTopColor=createBorderStyle("borderTopColor"),borderRightColor=createBorderStyle("borderRightColor"),borderBottomColor=createBorderStyle("borderBottomColor"),borderLeftColor=createBorderStyle("borderLeftColor"),outline=createBorderStyle("outline",borderTransform),outlineColor=createBorderStyle("outlineColor"),borderRadius=o=>{if(o.borderRadius!==void 0&&o.borderRadius!==null){const i=createUnaryUnit(o.theme,"shape.borderRadius",4),s=a=>({borderRadius:getValue$2(i,a)});return handleBreakpoints(o,o.borderRadius,s)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius,outline,outlineColor);const gap=o=>{if(o.gap!==void 0&&o.gap!==null){const i=createUnaryUnit(o.theme,"spacing",8),s=a=>({gap:getValue$2(i,a)});return handleBreakpoints(o,o.gap,s)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=o=>{if(o.columnGap!==void 0&&o.columnGap!==null){const i=createUnaryUnit(o.theme,"spacing",8),s=a=>({columnGap:getValue$2(i,a)});return handleBreakpoints(o,o.columnGap,s)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=o=>{if(o.rowGap!==void 0&&o.rowGap!==null){const i=createUnaryUnit(o.theme,"spacing",8),s=a=>({rowGap:getValue$2(i,a)});return handleBreakpoints(o,o.rowGap,s)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$2({prop:"gridColumn"}),gridRow=style$2({prop:"gridRow"}),gridAutoFlow=style$2({prop:"gridAutoFlow"}),gridAutoColumns=style$2({prop:"gridAutoColumns"}),gridAutoRows=style$2({prop:"gridAutoRows"}),gridTemplateColumns=style$2({prop:"gridTemplateColumns"}),gridTemplateRows=style$2({prop:"gridTemplateRows"}),gridTemplateAreas=style$2({prop:"gridTemplateAreas"}),gridArea=style$2({prop:"gridArea"});compose(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(o,i){return i==="grey"?i:o}const color=style$2({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$2({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$2({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose(color,bgcolor,backgroundColor);function sizingTransform(o){return o<=1&&o!==0?`${o*100}%`:o}const width=style$2({prop:"width",transform:sizingTransform}),maxWidth=o=>{if(o.maxWidth!==void 0&&o.maxWidth!==null){const i=s=>{var a,et;const tt=((a=o.theme)==null||(a=a.breakpoints)==null||(a=a.values)==null?void 0:a[s])||values$1[s];return tt?((et=o.theme)==null||(et=et.breakpoints)==null?void 0:et.unit)!=="px"?{maxWidth:`${tt}${o.theme.breakpoints.unit}`}:{maxWidth:tt}:{maxWidth:sizingTransform(s)}};return handleBreakpoints(o,o.maxWidth,i)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$2({prop:"minWidth",transform:sizingTransform}),height=style$2({prop:"height",transform:sizingTransform}),maxHeight=style$2({prop:"maxHeight",transform:sizingTransform}),minHeight=style$2({prop:"minHeight",transform:sizingTransform});style$2({prop:"size",cssProperty:"width",transform:sizingTransform});style$2({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$2({prop:"boxSizing"});compose(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig$1={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:borderTransform},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:o=>({"@media print":{display:o}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$2=defaultSxConfig$1;function objectsHaveSameKeys(...o){const i=o.reduce((a,et)=>a.concat(Object.keys(et)),[]),s=new Set(i);return o.every(a=>s.size===Object.keys(a).length)}function callIfFn(o,i){return typeof o=="function"?o(i):o}function unstable_createStyleFunctionSx(){function o(s,a,et,tt){const rt={[s]:a,theme:et},nt=tt[s];if(!nt)return{[s]:a};const{cssProperty:it=s,themeKey:ot,transform:st,style:lt}=nt;if(a==null)return null;if(ot==="typography"&&a==="inherit")return{[s]:a};const at=getPath(et,ot)||{};return lt?lt(rt):handleBreakpoints(rt,a,ft=>{let mt=getStyleValue$1(at,st,ft);return ft===mt&&typeof ft=="string"&&(mt=getStyleValue$1(at,st,`${s}${ft==="default"?"":capitalize(ft)}`,ft)),it===!1?mt:{[it]:mt}})}function i(s){var a;const{sx:et,theme:tt={}}=s||{};if(!et)return null;const rt=(a=tt.unstable_sxConfig)!=null?a:defaultSxConfig$2;function nt(it){let ot=it;if(typeof it=="function")ot=it(tt);else if(typeof it!="object")return it;if(!ot)return null;const st=createEmptyBreakpointObject(tt.breakpoints),lt=Object.keys(st);let at=st;return Object.keys(ot).forEach(ut=>{const ft=callIfFn(ot[ut],tt);if(ft!=null)if(typeof ft=="object")if(rt[ut])at=merge(at,o(ut,ft,tt,rt));else{const mt=handleBreakpoints({theme:tt},ft,yt=>({[ut]:yt}));objectsHaveSameKeys(mt,ft)?at[ut]=i({sx:ft,theme:tt}):at=merge(at,mt)}else at=merge(at,o(ut,ft,tt,rt))}),removeUnusedBreakpoints(lt,at)}return Array.isArray(et)?et.map(nt):nt(et)}return i}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];function applyStyles$2(o,i){const s=this;return s.vars&&typeof s.getColorSchemeSelector=="function"?{[s.getColorSchemeSelector(o).replace(/(\[[^\]]+\])/,"*:where($1)")]:i}:s.palette.mode===o?i:{}}const _excluded$1i=["breakpoints","palette","spacing","shape"];function createTheme$1(o={},...i){const{breakpoints:s={},palette:a={},spacing:et,shape:tt={}}=o,rt=_objectWithoutPropertiesLoose$6(o,_excluded$1i),nt=createBreakpoints(s),it=createSpacing(et);let ot=deepmerge({breakpoints:nt,direction:"ltr",components:{},palette:_extends$1({mode:"light"},a),spacing:it,shape:_extends$1({},shape$1,tt)},rt);return ot.applyStyles=applyStyles$2,ot=i.reduce((st,lt)=>deepmerge(st,lt),ot),ot.unstable_sxConfig=_extends$1({},defaultSxConfig$2,rt==null?void 0:rt.unstable_sxConfig),ot.unstable_sx=function(lt){return styleFunctionSx({sx:lt,theme:this})},ot}function isObjectEmpty(o){return Object.keys(o).length===0}function useTheme$2(o=null){const i=reactExports.useContext(ThemeContext$1);return!i||isObjectEmpty(i)?o:i}const systemDefaultTheme$1=createTheme$1();function useTheme$1(o=systemDefaultTheme$1){return useTheme$2(o)}function GlobalStyles$1({styles:o,themeId:i,defaultTheme:s={}}){const a=useTheme$1(s),et=typeof o=="function"?o(i&&a[i]||a):o;return jsxRuntimeExports.jsx(GlobalStyles$2,{styles:et})}const _excluded$1h=["sx"],splitProps=o=>{var i,s;const a={systemProps:{},otherProps:{}},et=(i=o==null||(s=o.theme)==null?void 0:s.unstable_sxConfig)!=null?i:defaultSxConfig$2;return Object.keys(o).forEach(tt=>{et[tt]?a.systemProps[tt]=o[tt]:a.otherProps[tt]=o[tt]}),a};function extendSxProp(o){const{sx:i}=o,s=_objectWithoutPropertiesLoose$6(o,_excluded$1h),{systemProps:a,otherProps:et}=splitProps(s);let tt;return Array.isArray(i)?tt=[a,...i]:typeof i=="function"?tt=(...rt)=>{const nt=i(...rt);return isPlainObject(nt)?_extends$1({},a,nt):a}:tt=_extends$1({},a,i),_extends$1({},et,{sx:tt})}function r(o){var i,s,a="";if(typeof o=="string"||typeof o=="number")a+=o;else if(typeof o=="object")if(Array.isArray(o)){var et=o.length;for(i=0;i<et;i++)o[i]&&(s=r(o[i]))&&(a&&(a+=" "),a+=s)}else for(s in o)o[s]&&(a&&(a+=" "),a+=s);return a}function clsx(){for(var o,i,s=0,a="",et=arguments.length;s<et;s++)(o=arguments[s])&&(i=r(o))&&(a&&(a+=" "),a+=i);return a}const _excluded$1g=["className","component"];function createBox(o={}){const{themeId:i,defaultTheme:s,defaultClassName:a="MuiBox-root",generateClassName:et}=o,tt=styled$3("div",{shouldForwardProp:nt=>nt!=="theme"&&nt!=="sx"&&nt!=="as"})(styleFunctionSx);return reactExports.forwardRef(function(it,ot){const st=useTheme$1(s),lt=extendSxProp(it),{className:at,component:ut="div"}=lt,ft=_objectWithoutPropertiesLoose$6(lt,_excluded$1g);return jsxRuntimeExports.jsx(tt,_extends$1({as:ut,ref:ot,className:clsx(at,et?et(a):a),theme:i&&st[i]||st},ft))})}const _excluded$1f=["ownerState"],_excluded2$9=["variants"],_excluded3$2=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function isEmpty$2(o){return Object.keys(o).length===0}function isStringTag(o){return typeof o=="string"&&o.charCodeAt(0)>96}function shouldForwardProp(o){return o!=="ownerState"&&o!=="theme"&&o!=="sx"&&o!=="as"}const systemDefaultTheme=createTheme$1(),lowercaseFirstLetter=o=>o&&o.charAt(0).toLowerCase()+o.slice(1);function resolveTheme({defaultTheme:o,theme:i,themeId:s}){return isEmpty$2(i)?o:i[s]||i}function defaultOverridesResolver(o){return o?(i,s)=>s[o]:null}function processStyleArg(o,i){let{ownerState:s}=i,a=_objectWithoutPropertiesLoose$6(i,_excluded$1f);const et=typeof o=="function"?o(_extends$1({ownerState:s},a)):o;if(Array.isArray(et))return et.flatMap(tt=>processStyleArg(tt,_extends$1({ownerState:s},a)));if(et&&typeof et=="object"&&Array.isArray(et.variants)){const{variants:tt=[]}=et;let nt=_objectWithoutPropertiesLoose$6(et,_excluded2$9);return tt.forEach(it=>{let ot=!0;typeof it.props=="function"?ot=it.props(_extends$1({ownerState:s},a)):Object.keys(it.props).forEach(st=>{(s==null?void 0:s[st])!==it.props[st]&&a[st]!==it.props[st]&&(ot=!1)}),ot&&(Array.isArray(nt)||(nt=[nt]),nt.push(typeof it.style=="function"?it.style(_extends$1({ownerState:s},a)):it.style))}),nt}return et}function createStyled(o={}){const{themeId:i,defaultTheme:s=systemDefaultTheme,rootShouldForwardProp:a=shouldForwardProp,slotShouldForwardProp:et=shouldForwardProp}=o,tt=rt=>styleFunctionSx(_extends$1({},rt,{theme:resolveTheme(_extends$1({},rt,{defaultTheme:s,themeId:i}))}));return tt.__mui_systemSx=!0,(rt,nt={})=>{internal_processStyles(rt,Et=>Et.filter(bt=>!(bt!=null&&bt.__mui_systemSx)));const{name:it,slot:ot,skipVariantsResolver:st,skipSx:lt,overridesResolver:at=defaultOverridesResolver(lowercaseFirstLetter(ot))}=nt,ut=_objectWithoutPropertiesLoose$6(nt,_excluded3$2),ft=st!==void 0?st:ot&&ot!=="Root"&&ot!=="root"||!1,mt=lt||!1;let yt,ht=shouldForwardProp;ot==="Root"||ot==="root"?ht=a:ot?ht=et:isStringTag(rt)&&(ht=void 0);const pt=styled$3(rt,_extends$1({shouldForwardProp:ht,label:yt},ut)),ct=Et=>typeof Et=="function"&&Et.__emotion_real!==Et||isPlainObject(Et)?bt=>processStyleArg(Et,_extends$1({},bt,{theme:resolveTheme({theme:bt.theme,defaultTheme:s,themeId:i})})):Et,gt=(Et,...bt)=>{let xt=ct(Et);const Tt=bt?bt.map(ct):[];it&&at&&Tt.push(At=>{const kt=resolveTheme(_extends$1({},At,{defaultTheme:s,themeId:i}));if(!kt.components||!kt.components[it]||!kt.components[it].styleOverrides)return null;const Vt=kt.components[it].styleOverrides,Mt={};return Object.entries(Vt).forEach(([Ot,Dt])=>{Mt[Ot]=processStyleArg(Dt,_extends$1({},At,{theme:kt}))}),at(At,Mt)}),it&&!ft&&Tt.push(At=>{var kt;const Vt=resolveTheme(_extends$1({},At,{defaultTheme:s,themeId:i})),Mt=Vt==null||(kt=Vt.components)==null||(kt=kt[it])==null?void 0:kt.variants;return processStyleArg({variants:Mt},_extends$1({},At,{theme:Vt}))}),mt||Tt.push(tt);const wt=Tt.length-bt.length;if(Array.isArray(Et)&&wt>0){const At=new Array(wt).fill("");xt=[...Et,...At],xt.raw=[...Et.raw,...At]}const It=pt(xt,...Tt);return rt.muiName&&(It.muiName=rt.muiName),It};return pt.withConfig&&(gt.withConfig=pt.withConfig),gt}}const styled$2=createStyled();function getThemeProps(o){const{theme:i,name:s,props:a}=o;return!i||!i.components||!i.components[s]||!i.components[s].defaultProps?a:resolveProps(i.components[s].defaultProps,a)}function useThemeProps$2({props:o,name:i,defaultTheme:s,themeId:a}){let et=useTheme$1(s);return a&&(et=et[a]||et),getThemeProps({theme:et,name:i,props:o})}function clampWrapper(o,i=0,s=1){return clamp$1(o,i,s)}function hexToRgb(o){o=o.slice(1);const i=new RegExp(`.{1,${o.length>=6?2:1}}`,"g");let s=o.match(i);return s&&s[0].length===1&&(s=s.map(a=>a+a)),s?`rgb${s.length===4?"a":""}(${s.map((a,et)=>et<3?parseInt(a,16):Math.round(parseInt(a,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(o){if(o.type)return o;if(o.charAt(0)==="#")return decomposeColor(hexToRgb(o));const i=o.indexOf("("),s=o.substring(0,i);if(["rgb","rgba","hsl","hsla","color"].indexOf(s)===-1)throw new Error(formatMuiErrorMessage(9,o));let a=o.substring(i+1,o.length-1),et;if(s==="color"){if(a=a.split(" "),et=a.shift(),a.length===4&&a[3].charAt(0)==="/"&&(a[3]=a[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(et)===-1)throw new Error(formatMuiErrorMessage(10,et))}else a=a.split(",");return a=a.map(tt=>parseFloat(tt)),{type:s,values:a,colorSpace:et}}const colorChannel=o=>{const i=decomposeColor(o);return i.values.slice(0,3).map((s,a)=>i.type.indexOf("hsl")!==-1&&a!==0?`${s}%`:s).join(" ")};function recomposeColor(o){const{type:i,colorSpace:s}=o;let{values:a}=o;return i.indexOf("rgb")!==-1?a=a.map((et,tt)=>tt<3?parseInt(et,10):et):i.indexOf("hsl")!==-1&&(a[1]=`${a[1]}%`,a[2]=`${a[2]}%`),i.indexOf("color")!==-1?a=`${s} ${a.join(" ")}`:a=`${a.join(", ")}`,`${i}(${a})`}function hslToRgb(o){o=decomposeColor(o);const{values:i}=o,s=i[0],a=i[1]/100,et=i[2]/100,tt=a*Math.min(et,1-et),rt=(ot,st=(ot+s/30)%12)=>et-tt*Math.max(Math.min(st-3,9-st,1),-1);let nt="rgb";const it=[Math.round(rt(0)*255),Math.round(rt(8)*255),Math.round(rt(4)*255)];return o.type==="hsla"&&(nt+="a",it.push(i[3])),recomposeColor({type:nt,values:it})}function getLuminance(o){o=decomposeColor(o);let i=o.type==="hsl"||o.type==="hsla"?decomposeColor(hslToRgb(o)).values:o.values;return i=i.map(s=>(o.type!=="color"&&(s/=255),s<=.03928?s/12.92:((s+.055)/1.055)**2.4)),Number((.2126*i[0]+.7152*i[1]+.0722*i[2]).toFixed(3))}function getContrastRatio(o,i){const s=getLuminance(o),a=getLuminance(i);return(Math.max(s,a)+.05)/(Math.min(s,a)+.05)}function alpha(o,i){return o=decomposeColor(o),i=clampWrapper(i),(o.type==="rgb"||o.type==="hsl")&&(o.type+="a"),o.type==="color"?o.values[3]=`/${i}`:o.values[3]=i,recomposeColor(o)}function darken(o,i){if(o=decomposeColor(o),i=clampWrapper(i),o.type.indexOf("hsl")!==-1)o.values[2]*=1-i;else if(o.type.indexOf("rgb")!==-1||o.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)o.values[s]*=1-i;return recomposeColor(o)}function lighten(o,i){if(o=decomposeColor(o),i=clampWrapper(i),o.type.indexOf("hsl")!==-1)o.values[2]+=(100-o.values[2])*i;else if(o.type.indexOf("rgb")!==-1)for(let s=0;s<3;s+=1)o.values[s]+=(255-o.values[s])*i;else if(o.type.indexOf("color")!==-1)for(let s=0;s<3;s+=1)o.values[s]+=(1-o.values[s])*i;return recomposeColor(o)}function createGetCssVar$1(o=""){function i(...a){if(!a.length)return"";const et=a[0];return typeof et=="string"&&!et.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${o?`${o}-`:""}${et}${i(...a.slice(1))})`:`, ${et}`}return(a,...et)=>`var(--${o?`${o}-`:""}${a}${i(...et)})`}const assignNestedKeys=(o,i,s,a=[])=>{let et=o;i.forEach((tt,rt)=>{rt===i.length-1?Array.isArray(et)?et[Number(tt)]=s:et&&typeof et=="object"&&(et[tt]=s):et&&typeof et=="object"&&(et[tt]||(et[tt]=a.includes(tt)?[]:{}),et=et[tt])})},walkObjectDeep=(o,i,s)=>{function a(et,tt=[],rt=[]){Object.entries(et).forEach(([nt,it])=>{(!s||s&&!s([...tt,nt]))&&it!=null&&(typeof it=="object"&&Object.keys(it).length>0?a(it,[...tt,nt],Array.isArray(it)?[...rt,nt]:rt):i([...tt,nt],it,rt))})}a(o)},getCssValue=(o,i)=>typeof i=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(a=>o.includes(a))||o[o.length-1].toLowerCase().indexOf("opacity")>=0?i:`${i}px`:i;function cssVarsParser(o,i){const{prefix:s,shouldSkipGeneratingVar:a}=i||{},et={},tt={},rt={};return walkObjectDeep(o,(nt,it,ot)=>{if((typeof it=="string"||typeof it=="number")&&(!a||!a(nt,it))){const st=`--${s?`${s}-`:""}${nt.join("-")}`;Object.assign(et,{[st]:getCssValue(nt,it)}),assignNestedKeys(tt,nt,`var(${st})`,ot),assignNestedKeys(rt,nt,`var(${st}, ${it})`,ot)}},nt=>nt[0]==="vars"),{css:et,vars:tt,varsWithDefaults:rt}}const _excluded$1e=["colorSchemes","components"],_excluded2$8=["light"];function prepareCssVars(o,i){const{colorSchemes:s={}}=o,a=_objectWithoutPropertiesLoose$6(o,_excluded$1e),{vars:et,css:tt,varsWithDefaults:rt}=cssVarsParser(a,i);let nt=rt;const it={},{light:ot}=s,st=_objectWithoutPropertiesLoose$6(s,_excluded2$8);if(Object.entries(st||{}).forEach(([at,ut])=>{const{vars:ft,css:mt,varsWithDefaults:yt}=cssVarsParser(ut,i);nt=deepmerge(nt,yt),it[at]={css:mt,vars:ft}}),ot){const{css:at,vars:ut,varsWithDefaults:ft}=cssVarsParser(ot,i);nt=deepmerge(nt,ft),it.light={css:at,vars:ut}}return{vars:nt,generateCssVars:at=>at?{css:_extends$1({},it[at].css),vars:it[at].vars}:{css:_extends$1({},tt),vars:et}}}const _excluded$1d=["className","component","disableGutters","fixed","maxWidth","classes"],defaultTheme$6=createTheme$1(),defaultCreateStyledComponent$1=styled$2("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,i[`maxWidth${capitalize(String(s.maxWidth))}`],s.fixed&&i.fixed,s.disableGutters&&i.disableGutters]}}),useThemePropsDefault$1=o=>useThemeProps$2({props:o,name:"MuiContainer",defaultTheme:defaultTheme$6}),useUtilityClasses$T=(o,i)=>{const s=it=>generateUtilityClass$2(i,it),{classes:a,fixed:et,disableGutters:tt,maxWidth:rt}=o,nt={root:["root",rt&&`maxWidth${capitalize(String(rt))}`,et&&"fixed",tt&&"disableGutters"]};return composeClasses(nt,s,a)};function createContainer(o={}){const{createStyledComponent:i=defaultCreateStyledComponent$1,useThemeProps:s=useThemePropsDefault$1,componentName:a="MuiContainer"}=o,et=i(({theme:rt,ownerState:nt})=>_extends$1({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!nt.disableGutters&&{paddingLeft:rt.spacing(2),paddingRight:rt.spacing(2),[rt.breakpoints.up("sm")]:{paddingLeft:rt.spacing(3),paddingRight:rt.spacing(3)}}),({theme:rt,ownerState:nt})=>nt.fixed&&Object.keys(rt.breakpoints.values).reduce((it,ot)=>{const st=ot,lt=rt.breakpoints.values[st];return lt!==0&&(it[rt.breakpoints.up(st)]={maxWidth:`${lt}${rt.breakpoints.unit}`}),it},{}),({theme:rt,ownerState:nt})=>_extends$1({},nt.maxWidth==="xs"&&{[rt.breakpoints.up("xs")]:{maxWidth:Math.max(rt.breakpoints.values.xs,444)}},nt.maxWidth&&nt.maxWidth!=="xs"&&{[rt.breakpoints.up(nt.maxWidth)]:{maxWidth:`${rt.breakpoints.values[nt.maxWidth]}${rt.breakpoints.unit}`}}));return reactExports.forwardRef(function(nt,it){const ot=s(nt),{className:st,component:lt="div",disableGutters:at=!1,fixed:ut=!1,maxWidth:ft="lg"}=ot,mt=_objectWithoutPropertiesLoose$6(ot,_excluded$1d),yt=_extends$1({},ot,{component:lt,disableGutters:at,fixed:ut,maxWidth:ft}),ht=useUtilityClasses$T(yt,a);return jsxRuntimeExports.jsx(et,_extends$1({as:lt,ownerState:yt,className:clsx(ht.root,st),ref:it},mt))})}const _excluded$1c=["component","direction","spacing","divider","children","className","useFlexGap"],defaultTheme$5=createTheme$1(),defaultCreateStyledComponent=styled$2("div",{name:"MuiStack",slot:"Root",overridesResolver:(o,i)=>i.root});function useThemePropsDefault(o){return useThemeProps$2({props:o,name:"MuiStack",defaultTheme:defaultTheme$5})}function joinChildren(o,i){const s=reactExports.Children.toArray(o).filter(Boolean);return s.reduce((a,et,tt)=>(a.push(et),tt<s.length-1&&a.push(reactExports.cloneElement(i,{key:`separator-${tt}`})),a),[])}const getSideFromDirection=o=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[o],style=({ownerState:o,theme:i})=>{let s=_extends$1({display:"flex",flexDirection:"column"},handleBreakpoints({theme:i},resolveBreakpointValues({values:o.direction,breakpoints:i.breakpoints.values}),a=>({flexDirection:a})));if(o.spacing){const a=createUnarySpacing(i),et=Object.keys(i.breakpoints.values).reduce((it,ot)=>((typeof o.spacing=="object"&&o.spacing[ot]!=null||typeof o.direction=="object"&&o.direction[ot]!=null)&&(it[ot]=!0),it),{}),tt=resolveBreakpointValues({values:o.direction,base:et}),rt=resolveBreakpointValues({values:o.spacing,base:et});typeof tt=="object"&&Object.keys(tt).forEach((it,ot,st)=>{if(!tt[it]){const at=ot>0?tt[st[ot-1]]:"column";tt[it]=at}}),s=deepmerge(s,handleBreakpoints({theme:i},rt,(it,ot)=>o.useFlexGap?{gap:getValue$2(a,it)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${getSideFromDirection(ot?tt[ot]:o.direction)}`]:getValue$2(a,it)}}))}return s=mergeBreakpointsInOrder(i.breakpoints,s),s};function createStack(o={}){const{createStyledComponent:i=defaultCreateStyledComponent,useThemeProps:s=useThemePropsDefault,componentName:a="MuiStack"}=o,et=()=>composeClasses({root:["root"]},it=>generateUtilityClass$2(a,it),{}),tt=i(style);return reactExports.forwardRef(function(it,ot){const st=s(it),lt=extendSxProp(st),{component:at="div",direction:ut="column",spacing:ft=0,divider:mt,children:yt,className:ht,useFlexGap:pt=!1}=lt,ct=_objectWithoutPropertiesLoose$6(lt,_excluded$1c),gt={direction:ut,spacing:ft,useFlexGap:pt},Et=et();return jsxRuntimeExports.jsx(tt,_extends$1({as:at,ownerState:gt,ref:ot,className:clsx(Et.root,ht)},ct,{children:mt?joinChildren(yt,mt):yt}))})}const sxConfig=_extends$1({},defaultSxConfig$2,{borderRadius:{themeKey:"radius"},boxShadow:{themeKey:"shadow"},fontFamily:{themeKey:"fontFamily"},fontSize:{themeKey:"fontSize"},fontWeight:{themeKey:"fontWeight"},letterSpacing:{themeKey:"letterSpacing"},lineHeight:{themeKey:"lineHeight"}}),defaultSxConfig=sxConfig;function shouldSkipGeneratingVar(o){var i;return!!o[0].match(/^(typography|variants|breakpoints)$/)||!!o[0].match(/sxConfig$/)||o[0]==="palette"&&!!((i=o[1])!=null&&i.match(/^(mode)$/))||o[0]==="focus"&&o[1]!=="thickness"}const generateUtilityClass$1=(o,i)=>generateUtilityClass$2(o,i,"Mui"),generateUtilityClasses$1=(o,i)=>generateUtilityClasses$2(o,i,"Mui"),isVariantPalette=o=>o&&typeof o=="object"&&Object.keys(o).some(i=>{var s;return(s=i.match)==null?void 0:s.call(i,/^(plain(Hover|Active|Disabled)?(Color|Bg)|outlined(Hover|Active|Disabled)?(Color|Border|Bg)|soft(Hover|Active|Disabled)?(Color|Bg)|solid(Hover|Active|Disabled)?(Color|Bg))$/)}),assignCss=(o,i,s)=>{i.includes("Color")&&(o.color=s),i.includes("Bg")&&(o.backgroundColor=s),i.includes("Border")&&(o.borderColor=s)},createVariantStyle=(o,i,s)=>{const a={};return Object.entries(i||{}).forEach(([et,tt])=>{if(et.match(new RegExp(`${o}(color|bg|border)`,"i"))&&tt){const rt=s?s(et):tt;et.includes("Disabled")&&(a.pointerEvents="none",a.cursor="default",a["--Icon-color"]="currentColor"),et.match(/(Hover|Active|Disabled)/)||(a["--variant-borderWidth"]||(a["--variant-borderWidth"]="0px"),et.includes("Border")&&(a["--variant-borderWidth"]="1px",a.border="var(--variant-borderWidth) solid")),assignCss(a,et,rt)}}),a},createVariant=(o,i)=>{let s={};if(i){const{getCssVar:a,palette:et}=i;Object.entries(et).forEach(tt=>{const[rt,nt]=tt;isVariantPalette(nt)&&typeof nt=="object"&&(s=_extends$1({},s,{[rt]:createVariantStyle(o,nt,it=>`var(--variant-${it}, ${a(`palette-${rt}-${it}`,et[rt][it])})`)}))})}return s.context=createVariantStyle(o,{plainColor:"var(--variant-plainColor)",plainHoverColor:"var(--variant-plainHoverColor)",plainHoverBg:"var(--variant-plainHoverBg)",plainActiveBg:"var(--variant-plainActiveBg)",plainDisabledColor:"var(--variant-plainDisabledColor)",outlinedColor:"var(--variant-outlinedColor)",outlinedBorder:"var(--variant-outlinedBorder)",outlinedHoverColor:"var(--variant-outlinedHoverColor)",outlinedHoverBorder:"var(--variant-outlinedHoverBorder)",outlinedHoverBg:"var(--variant-outlinedHoverBg)",outlinedActiveBg:"var(--variant-outlinedActiveBg)",outlinedDisabledColor:"var(--variant-outlinedDisabledColor)",outlinedDisabledBorder:"var(--variant-outlinedDisabledBorder)",softColor:"var(--variant-softColor)",softBg:"var(--variant-softBg)",softHoverColor:"var(--variant-softHoverColor)",softHoverBg:"var(--variant-softHoverBg)",softActiveBg:"var(--variant-softActiveBg)",softDisabledColor:"var(--variant-softDisabledColor)",softDisabledBg:"var(--variant-softDisabledBg)",solidColor:"var(--variant-solidColor)",solidBg:"var(--variant-solidBg)",solidHoverBg:"var(--variant-solidHoverBg)",solidActiveBg:"var(--variant-solidActiveBg)",solidDisabledColor:"var(--variant-solidDisabledColor)",solidDisabledBg:"var(--variant-solidDisabledBg)"}),s},_excluded$1b=["cssVarPrefix","breakpoints","spacing","components","variants","shouldSkipGeneratingVar"],_excluded2$7=["colorSchemes"],createGetCssVar=(o="joy")=>createGetCssVar$1(o);function extendTheme(o){var i,s,a,et,tt,rt,nt,it,ot,st;const lt=o||{},{cssVarPrefix:at="joy",breakpoints:ut,spacing:ft,components:mt,variants:yt,shouldSkipGeneratingVar:ht=shouldSkipGeneratingVar}=lt,pt=_objectWithoutPropertiesLoose$6(lt,_excluded$1b),ct=createGetCssVar(at),gt={primary:colors.blue,neutral:colors.grey,danger:colors.red,success:colors.green,warning:colors.yellow,common:{white:"#FFF",black:"#000"}},Et=Kt=>{var Qt;const Xt=Kt.split("-"),er=Xt[1],sr=Xt[2];return ct(Kt,(Qt=gt[er])==null?void 0:Qt[sr])},bt=Kt=>({plainColor:Et(`palette-${Kt}-500`),plainHoverBg:Et(`palette-${Kt}-100`),plainActiveBg:Et(`palette-${Kt}-200`),plainDisabledColor:Et("palette-neutral-400"),outlinedColor:Et(`palette-${Kt}-500`),outlinedBorder:Et(`palette-${Kt}-300`),outlinedHoverBg:Et(`palette-${Kt}-100`),outlinedActiveBg:Et(`palette-${Kt}-200`),outlinedDisabledColor:Et("palette-neutral-400"),outlinedDisabledBorder:Et("palette-neutral-200"),softColor:Et(`palette-${Kt}-700`),softBg:Et(`palette-${Kt}-100`),softHoverBg:Et(`palette-${Kt}-200`),softActiveColor:Et(`palette-${Kt}-800`),softActiveBg:Et(`palette-${Kt}-300`),softDisabledColor:Et("palette-neutral-400"),softDisabledBg:Et("palette-neutral-50"),solidColor:Et("palette-common-white"),solidBg:Et(`palette-${Kt}-500`),solidHoverBg:Et(`palette-${Kt}-600`),solidActiveBg:Et(`palette-${Kt}-700`),solidDisabledColor:Et("palette-neutral-400"),solidDisabledBg:Et("palette-neutral-100")}),xt=Kt=>({plainColor:Et(`palette-${Kt}-300`),plainHoverBg:Et(`palette-${Kt}-800`),plainActiveBg:Et(`palette-${Kt}-700`),plainDisabledColor:Et("palette-neutral-500"),outlinedColor:Et(`palette-${Kt}-200`),outlinedBorder:Et(`palette-${Kt}-700`),outlinedHoverBg:Et(`palette-${Kt}-800`),outlinedActiveBg:Et(`palette-${Kt}-700`),outlinedDisabledColor:Et("palette-neutral-500"),outlinedDisabledBorder:Et("palette-neutral-800"),softColor:Et(`palette-${Kt}-200`),softBg:Et(`palette-${Kt}-800`),softHoverBg:Et(`palette-${Kt}-700`),softActiveColor:Et(`palette-${Kt}-100`),softActiveBg:Et(`palette-${Kt}-600`),softDisabledColor:Et("palette-neutral-500"),softDisabledBg:Et("palette-neutral-800"),solidColor:Et("palette-common-white"),solidBg:Et(`palette-${Kt}-500`),solidHoverBg:Et(`palette-${Kt}-600`),solidActiveBg:Et(`palette-${Kt}-700`),solidDisabledColor:Et("palette-neutral-500"),solidDisabledBg:Et("palette-neutral-800")}),Tt={palette:{mode:"light",primary:_extends$1({},gt.primary,bt("primary")),neutral:_extends$1({},gt.neutral,bt("neutral"),{plainColor:Et("palette-neutral-700"),plainHoverColor:Et("palette-neutral-900"),outlinedColor:Et("palette-neutral-700")}),danger:_extends$1({},gt.danger,bt("danger")),success:_extends$1({},gt.success,bt("success")),warning:_extends$1({},gt.warning,bt("warning")),common:{white:"#FFF",black:"#000"},text:{primary:Et("palette-neutral-800"),secondary:Et("palette-neutral-700"),tertiary:Et("palette-neutral-600"),icon:Et("palette-neutral-500")},background:{body:Et("palette-common-white"),surface:Et("palette-neutral-50"),popup:Et("palette-common-white"),level1:Et("palette-neutral-100"),level2:Et("palette-neutral-200"),level3:Et("palette-neutral-300"),tooltip:Et("palette-neutral-500"),backdrop:`rgba(${ct("palette-neutral-darkChannel",colorChannel(gt.neutral[900]))} / 0.25)`},divider:`rgba(${ct("palette-neutral-mainChannel",colorChannel(gt.neutral[500]))} / 0.2)`,focusVisible:Et("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"21 21 21",shadowOpacity:"0.08"},wt={palette:{mode:"dark",primary:_extends$1({},gt.primary,xt("primary")),neutral:_extends$1({},gt.neutral,xt("neutral"),{plainColor:Et("palette-neutral-300"),plainHoverColor:Et("palette-neutral-300")}),danger:_extends$1({},gt.danger,xt("danger")),success:_extends$1({},gt.success,xt("success")),warning:_extends$1({},gt.warning,xt("warning")),common:{white:"#FFF",black:"#000"},text:{primary:Et("palette-neutral-100"),secondary:Et("palette-neutral-300"),tertiary:Et("palette-neutral-400"),icon:Et("palette-neutral-400")},background:{body:Et("palette-common-black"),surface:Et("palette-neutral-900"),popup:Et("palette-common-black"),level1:Et("palette-neutral-800"),level2:Et("palette-neutral-700"),level3:Et("palette-neutral-600"),tooltip:Et("palette-neutral-600"),backdrop:`rgba(${ct("palette-neutral-darkChannel",colorChannel(gt.neutral[50]))} / 0.25)`},divider:`rgba(${ct("palette-neutral-mainChannel",colorChannel(gt.neutral[500]))} / 0.16)`,focusVisible:Et("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"0 0 0",shadowOpacity:"0.6"},It='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',At=_extends$1({body:`"Inter", ${ct(`fontFamily-fallback, ${It}`)}`,display:`"Inter", ${ct(`fontFamily-fallback, ${It}`)}`,code:"Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",fallback:It},pt.fontFamily),kt=_extends$1({sm:300,md:500,lg:600,xl:700},pt.fontWeight),Vt=_extends$1({xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem",xl2:"1.5rem",xl3:"1.875rem",xl4:"2.25rem"},pt.fontSize),Mt=_extends$1({xs:"1.33334",sm:"1.42858",md:"1.5",lg:"1.55556",xl:"1.66667"},pt.lineHeight),Ot=(i=(s=pt.colorSchemes)==null||(s=s.light)==null?void 0:s.shadowRing)!=null?i:Tt.shadowRing,Dt=(a=(et=pt.colorSchemes)==null||(et=et.light)==null?void 0:et.shadowChannel)!=null?a:Tt.shadowChannel,Ct=(tt=(rt=pt.colorSchemes)==null||(rt=rt.light)==null?void 0:rt.shadowOpacity)!=null?tt:Tt.shadowOpacity,St={colorSchemes:{light:Tt,dark:wt},fontSize:Vt,fontFamily:At,fontWeight:kt,focus:{thickness:"2px",selector:`&.${generateUtilityClass$1("","focusVisible")}, &:focus-visible`,default:{outlineOffset:`var(--focus-outline-offset, ${ct("focus-thickness",(nt=(it=pt.focus)==null?void 0:it.thickness)!=null?nt:"2px")})`,outline:`${ct("focus-thickness",(ot=(st=pt.focus)==null?void 0:st.thickness)!=null?ot:"2px")} solid ${ct("palette-focusVisible",gt.primary[500])}`}},lineHeight:Mt,radius:{xs:"2px",sm:"6px",md:"8px",lg:"12px",xl:"16px"},shadow:{xs:`${ct("shadowRing",Ot)}, 0px 1px 2px 0px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)})`,sm:`${ct("shadowRing",Ot)}, 0px 1px 2px 0px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)}), 0px 2px 4px 0px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)})`,md:`${ct("shadowRing",Ot)}, 0px 2px 8px -2px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)}), 0px 6px 12px -2px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)})`,lg:`${ct("shadowRing",Ot)}, 0px 2px 8px -2px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)}), 0px 12px 16px -4px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)})`,xl:`${ct("shadowRing",Ot)}, 0px 2px 8px -2px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)}), 0px 20px 24px -4px rgba(${ct("shadowChannel",Dt)} / ${ct("shadowOpacity",Ct)})`},zIndex:{badge:1,table:10,popup:1e3,modal:1300,snackbar:1400,tooltip:1500},typography:{h1:{fontFamily:ct(`fontFamily-display, ${At.display}`),fontWeight:ct(`fontWeight-xl, ${kt.xl}`),fontSize:ct(`fontSize-xl4, ${Vt.xl4}`),lineHeight:ct(`lineHeight-xs, ${Mt.xs}`),letterSpacing:"-0.025em",color:ct(`palette-text-primary, ${Tt.palette.text.primary}`)},h2:{fontFamily:ct(`fontFamily-display, ${At.display}`),fontWeight:ct(`fontWeight-xl, ${kt.xl}`),fontSize:ct(`fontSize-xl3, ${Vt.xl3}`),lineHeight:ct(`lineHeight-xs, ${Mt.xs}`),letterSpacing:"-0.025em",color:ct(`palette-text-primary, ${Tt.palette.text.primary}`)},h3:{fontFamily:ct(`fontFamily-display, ${At.display}`),fontWeight:ct(`fontWeight-lg, ${kt.lg}`),fontSize:ct(`fontSize-xl2, ${Vt.xl2}`),lineHeight:ct(`lineHeight-xs, ${Mt.xs}`),letterSpacing:"-0.025em",color:ct(`palette-text-primary, ${Tt.palette.text.primary}`)},h4:{fontFamily:ct(`fontFamily-display, ${At.display}`),fontWeight:ct(`fontWeight-lg, ${kt.lg}`),fontSize:ct(`fontSize-xl, ${Vt.xl}`),lineHeight:ct(`lineHeight-md, ${Mt.md}`),letterSpacing:"-0.025em",color:ct(`palette-text-primary, ${Tt.palette.text.primary}`)},"title-lg":{fontFamily:ct(`fontFamily-body, ${At.body}`),fontWeight:ct(`fontWeight-lg, ${kt.lg}`),fontSize:ct(`fontSize-lg, ${Vt.lg}`),lineHeight:ct(`lineHeight-xs, ${Mt.xs}`),color:ct(`palette-text-primary, ${Tt.palette.text.primary}`)},"title-md":{fontFamily:ct(`fontFamily-body, ${At.body}`),fontWeight:ct(`fontWeight-md, ${kt.md}`),fontSize:ct(`fontSize-md, ${Vt.md}`),lineHeight:ct(`lineHeight-md, ${Mt.md}`),color:ct(`palette-text-primary, ${Tt.palette.text.primary}`)},"title-sm":{fontFamily:ct(`fontFamily-body, ${At.body}`),fontWeight:ct(`fontWeight-md, ${kt.md}`),fontSize:ct(`fontSize-sm, ${Vt.sm}`),lineHeight:ct(`lineHeight-sm, ${Mt.sm}`),color:ct(`palette-text-primary, ${Tt.palette.text.primary}`)},"body-lg":{fontFamily:ct(`fontFamily-body, ${At.body}`),fontSize:ct(`fontSize-lg, ${Vt.lg}`),lineHeight:ct(`lineHeight-md, ${Mt.md}`),color:ct(`palette-text-secondary, ${Tt.palette.text.secondary}`)},"body-md":{fontFamily:ct(`fontFamily-body, ${At.body}`),fontSize:ct(`fontSize-md, ${Vt.md}`),lineHeight:ct(`lineHeight-md, ${Mt.md}`),color:ct(`palette-text-secondary, ${Tt.palette.text.secondary}`)},"body-sm":{fontFamily:ct(`fontFamily-body, ${At.body}`),fontSize:ct(`fontSize-sm, ${Vt.sm}`),lineHeight:ct(`lineHeight-md, ${Mt.md}`),color:ct(`palette-text-tertiary, ${Tt.palette.text.tertiary}`)},"body-xs":{fontFamily:ct(`fontFamily-body, ${At.body}`),fontWeight:ct(`fontWeight-md, ${kt.md}`),fontSize:ct(`fontSize-xs, ${Vt.xs}`),lineHeight:ct(`lineHeight-md, ${Mt.md}`),color:ct(`palette-text-tertiary, ${Tt.palette.text.tertiary}`)}}},$t=pt?deepmerge(St,pt):St,{colorSchemes:Lt}=$t,Rt=_objectWithoutPropertiesLoose$6($t,_excluded2$7),jt=_extends$1({colorSchemes:Lt},Rt,{breakpoints:createBreakpoints(ut??{}),components:deepmerge({MuiSvgIcon:{defaultProps:{fontSize:"xl2"},styleOverrides:{root:({ownerState:Kt,theme:Qt})=>{var Xt;const er=Kt.instanceFontSize;return _extends$1({margin:"var(--Icon-margin)"},Kt.fontSize&&Kt.fontSize!=="inherit"&&{fontSize:`var(--Icon-fontSize, ${Qt.vars.fontSize[Kt.fontSize]})`},!Kt.htmlColor&&_extends$1({color:`var(--Icon-color, ${jt.vars.palette.text.icon})`},Kt.color&&Kt.color!=="inherit"&&Qt.vars.palette[Kt.color]&&{color:`rgba(${(Xt=Qt.vars.palette[Kt.color])==null?void 0:Xt.mainChannel} / 1)`}),er&&er!=="inherit"&&{"--Icon-fontSize":Qt.vars.fontSize[er]})}}}},mt),cssVarPrefix:at,getCssVar:ct,spacing:createSpacing(ft)});function Ft(Kt,Qt){Object.keys(Qt).forEach(Xt=>{const er={main:"500",light:"200",dark:"700"};Kt==="dark"&&(er.main=400),!Qt[Xt].mainChannel&&Qt[Xt][er.main]&&(Qt[Xt].mainChannel=colorChannel(Qt[Xt][er.main])),!Qt[Xt].lightChannel&&Qt[Xt][er.light]&&(Qt[Xt].lightChannel=colorChannel(Qt[Xt][er.light])),!Qt[Xt].darkChannel&&Qt[Xt][er.dark]&&(Qt[Xt].darkChannel=colorChannel(Qt[Xt][er.dark]))})}Object.entries(jt.colorSchemes).forEach(([Kt,Qt])=>{Ft(Kt,Qt.palette)});const zt={prefix:at,shouldSkipGeneratingVar:ht},{vars:Gt,generateCssVars:Bt}=prepareCssVars(_extends$1({colorSchemes:Lt},Rt),zt);jt.vars=Gt,jt.generateCssVars=Bt,jt.unstable_sxConfig=_extends$1({},defaultSxConfig,o==null?void 0:o.unstable_sxConfig),jt.unstable_sx=function(Qt){return styleFunctionSx({sx:Qt,theme:this})},jt.getColorSchemeSelector=Kt=>Kt==="light"?"&":`&[data-joy-color-scheme="${Kt}"], [data-joy-color-scheme="${Kt}"] &`;const Wt={getCssVar:ct,palette:jt.colorSchemes.light.palette};return jt.variants=deepmerge({plain:createVariant("plain",Wt),plainHover:createVariant("plainHover",Wt),plainActive:createVariant("plainActive",Wt),plainDisabled:createVariant("plainDisabled",Wt),outlined:createVariant("outlined",Wt),outlinedHover:createVariant("outlinedHover",Wt),outlinedActive:createVariant("outlinedActive",Wt),outlinedDisabled:createVariant("outlinedDisabled",Wt),soft:createVariant("soft",Wt),softHover:createVariant("softHover",Wt),softActive:createVariant("softActive",Wt),softDisabled:createVariant("softDisabled",Wt),solid:createVariant("solid",Wt),solidHover:createVariant("solidHover",Wt),solidActive:createVariant("solidActive",Wt),solidDisabled:createVariant("solidDisabled",Wt)},yt),jt.palette=_extends$1({},jt.colorSchemes.light.palette,{colorScheme:"light"}),jt.shouldSkipGeneratingVar=ht,jt.applyStyles=applyStyles$2,jt}const defaultTheme$3=extendTheme(),defaultTheme$4=defaultTheme$3,styled$1=createStyled({defaultTheme:defaultTheme$4,themeId:THEME_ID$1});function useThemeProps$1({props:o,name:i}){return useThemeProps$2({props:o,name:i,defaultTheme:_extends$1({},defaultTheme$4,{components:{}}),themeId:THEME_ID$1})}function isHostComponent(o){return typeof o=="string"}function appendOwnerState(o,i,s){return o===void 0||isHostComponent(o)?i:_extends$1({},i,{ownerState:_extends$1({},i.ownerState,s)})}function areArraysEqual(o,i,s=(a,et)=>a===et){return o.length===i.length&&o.every((a,et)=>s(a,i[et]))}const defaultContextValue={disableDefaultClasses:!1},ClassNameConfiguratorContext=reactExports.createContext(defaultContextValue);function useClassNamesOverride(o){const{disableDefaultClasses:i}=reactExports.useContext(ClassNameConfiguratorContext);return s=>i?"":o(s)}function extractEventHandlers(o,i=[]){if(o===void 0)return{};const s={};return Object.keys(o).filter(a=>a.match(/^on[A-Z]/)&&typeof o[a]=="function"&&!i.includes(a)).forEach(a=>{s[a]=o[a]}),s}function resolveComponentProps(o,i,s){return typeof o=="function"?o(i,s):o}function useRootElementName(o){const{rootElementName:i="",componentName:s}=o,[a,et]=reactExports.useState(i.toUpperCase()),tt=reactExports.useCallback(rt=>{var nt;et((nt=rt==null?void 0:rt.tagName)!=null?nt:"")},[]);return[a,tt]}function omitEventHandlers(o){if(o===void 0)return{};const i={};return Object.keys(o).filter(s=>!(s.match(/^on[A-Z]/)&&typeof o[s]=="function")).forEach(s=>{i[s]=o[s]}),i}function mergeSlotProps(o){const{getSlotProps:i,additionalProps:s,externalSlotProps:a,externalForwardedProps:et,className:tt}=o;if(!i){const ut=clsx(s==null?void 0:s.className,tt,et==null?void 0:et.className,a==null?void 0:a.className),ft=_extends$1({},s==null?void 0:s.style,et==null?void 0:et.style,a==null?void 0:a.style),mt=_extends$1({},s,et,a);return ut.length>0&&(mt.className=ut),Object.keys(ft).length>0&&(mt.style=ft),{props:mt,internalRef:void 0}}const rt=extractEventHandlers(_extends$1({},et,a)),nt=omitEventHandlers(a),it=omitEventHandlers(et),ot=i(rt),st=clsx(ot==null?void 0:ot.className,s==null?void 0:s.className,tt,et==null?void 0:et.className,a==null?void 0:a.className),lt=_extends$1({},ot==null?void 0:ot.style,s==null?void 0:s.style,et==null?void 0:et.style,a==null?void 0:a.style),at=_extends$1({},ot,s,it,nt);return st.length>0&&(at.className=st),Object.keys(lt).length>0&&(at.style=lt),{props:at,internalRef:ot.ref}}const _excluded$1a=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function useSlotProps(o){var i;const{elementType:s,externalSlotProps:a,ownerState:et,skipResolvingSlotProps:tt=!1}=o,rt=_objectWithoutPropertiesLoose$6(o,_excluded$1a),nt=tt?{}:resolveComponentProps(a,et),{props:it,internalRef:ot}=mergeSlotProps(_extends$1({},rt,{externalSlotProps:nt})),st=useForkRef(ot,nt==null?void 0:nt.ref,(i=o.additionalProps)==null?void 0:i.ref);return appendOwnerState(s,_extends$1({},it,{ref:st}),et)}const GLOBAL_CLASS_PREFIX="base";function buildStateClass(o){return`${GLOBAL_CLASS_PREFIX}--${o}`}function buildSlotClass(o,i){return`${GLOBAL_CLASS_PREFIX}-${o}-${i}`}function generateUtilityClass(o,i){const s=globalStateClasses[i];return s?buildStateClass(s):buildSlotClass(o,i)}function generateUtilityClasses(o,i){const s={};return i.forEach(a=>{s[a]=generateUtilityClass(o,a)}),s}function useButton(o={}){const{disabled:i=!1,focusableWhenDisabled:s,href:a,rootRef:et,tabIndex:tt,to:rt,type:nt,rootElementName:it}=o,ot=reactExports.useRef(),[st,lt]=reactExports.useState(!1),{isFocusVisibleRef:at,onFocus:ut,onBlur:ft,ref:mt}=useIsFocusVisible(),[yt,ht]=reactExports.useState(!1);i&&!s&&yt&&ht(!1),reactExports.useEffect(()=>{at.current=yt},[yt,at]);const[pt,ct]=useRootElementName({rootElementName:it??(a||rt?"a":void 0),componentName:"Button"}),gt=Ot=>Dt=>{var Ct;yt&&Dt.preventDefault(),(Ct=Ot.onMouseLeave)==null||Ct.call(Ot,Dt)},Et=Ot=>Dt=>{var Ct;ft(Dt),at.current===!1&&ht(!1),(Ct=Ot.onBlur)==null||Ct.call(Ot,Dt)},bt=Ot=>Dt=>{var Ct;if(ot.current||(ot.current=Dt.currentTarget),ut(Dt),at.current===!0){var St;ht(!0),(St=Ot.onFocusVisible)==null||St.call(Ot,Dt)}(Ct=Ot.onFocus)==null||Ct.call(Ot,Dt)},xt=()=>{const Ot=ot.current;return pt==="BUTTON"||pt==="INPUT"&&["button","submit","reset"].includes(Ot==null?void 0:Ot.type)||pt==="A"&&(Ot==null?void 0:Ot.href)},Tt=Ot=>Dt=>{if(!i){var Ct;(Ct=Ot.onClick)==null||Ct.call(Ot,Dt)}},wt=Ot=>Dt=>{var Ct;i||(lt(!0),document.addEventListener("mouseup",()=>{lt(!1)},{once:!0})),(Ct=Ot.onMouseDown)==null||Ct.call(Ot,Dt)},It=Ot=>Dt=>{var Ct;if((Ct=Ot.onKeyDown)==null||Ct.call(Ot,Dt),!Dt.defaultMuiPrevented&&(Dt.target===Dt.currentTarget&&!xt()&&Dt.key===" "&&Dt.preventDefault(),Dt.target===Dt.currentTarget&&Dt.key===" "&&!i&&lt(!0),Dt.target===Dt.currentTarget&&!xt()&&Dt.key==="Enter"&&!i)){var St;(St=Ot.onClick)==null||St.call(Ot,Dt),Dt.preventDefault()}},At=Ot=>Dt=>{var Ct;if(Dt.target===Dt.currentTarget&&lt(!1),(Ct=Ot.onKeyUp)==null||Ct.call(Ot,Dt),Dt.target===Dt.currentTarget&&!xt()&&!i&&Dt.key===" "&&!Dt.defaultMuiPrevented){var St;(St=Ot.onClick)==null||St.call(Ot,Dt)}},kt=useForkRef(ct,et,mt,ot),Vt={};return tt!==void 0&&(Vt.tabIndex=tt),pt==="BUTTON"?(Vt.type=nt??"button",s?Vt["aria-disabled"]=i:Vt.disabled=i):pt==="INPUT"?nt&&["button","submit","reset"].includes(nt)&&(s?Vt["aria-disabled"]=i:Vt.disabled=i):pt!==""&&(!a&&!rt&&(Vt.role="button",Vt.tabIndex=tt??0),i&&(Vt["aria-disabled"]=i,Vt.tabIndex=s?tt??0:-1)),{getRootProps:(Ot={})=>{const Dt=_extends$1({},extractEventHandlers(o),extractEventHandlers(Ot)),Ct=_extends$1({type:nt},Dt,Vt,Ot,{onBlur:Et(Dt),onClick:Tt(Dt),onFocus:bt(Dt),onKeyDown:It(Dt),onKeyUp:At(Dt),onMouseDown:wt(Dt),onMouseLeave:gt(Dt),ref:kt});return delete Ct.onFocusVisible,Ct},focusVisible:yt,setFocusVisible:ht,active:st,rootRef:kt}}const DropdownContext$4=reactExports.createContext(null);function areEqual(o,i){return o===i}const EMPTY_OBJECT$1={},NOOP$1=()=>{};function getControlledState(o,i){const s=_extends$1({},o);return Object.keys(i).forEach(a=>{i[a]!==void 0&&(s[a]=i[a])}),s}function useStateChangeDetection(o){const{nextState:i,initialState:s,stateComparers:a,onStateChange:et,controlledProps:tt,lastActionRef:rt}=o,nt=reactExports.useRef(s);reactExports.useEffect(()=>{if(rt.current===null)return;const it=getControlledState(nt.current,tt);Object.keys(i).forEach(ot=>{var st;const lt=(st=a[ot])!=null?st:areEqual,at=i[ot],ut=it[ot];if(ut==null&&at!=null||ut!=null&&at==null||ut!=null&&at!=null&&!lt(at,ut)){var ft,mt;et==null||et((ft=rt.current.event)!=null?ft:null,ot,at,(mt=rt.current.type)!=null?mt:"",i)}}),nt.current=i,rt.current=null},[nt,i,rt,et,a,tt])}function useControllableReducer(o){const i=reactExports.useRef(null),{reducer:s,initialState:a,controlledProps:et=EMPTY_OBJECT$1,stateComparers:tt=EMPTY_OBJECT$1,onStateChange:rt=NOOP$1,actionContext:nt,componentName:it=""}=o;reactExports.useRef(et);const ot=reactExports.useCallback((ut,ft)=>{i.current=ft;const mt=getControlledState(ut,et);return s(mt,ft)},[et,s]),[st,lt]=reactExports.useReducer(ot,a),at=reactExports.useCallback(ut=>{lt(_extends$1({},ut,{context:nt}))},[nt]);return useStateChangeDetection({nextState:st,initialState:a,stateComparers:tt??EMPTY_OBJECT$1,onStateChange:rt??NOOP$1,controlledProps:et,lastActionRef:i}),[getControlledState(st,et),at]}const DropdownActionTypes={blur:"dropdown:blur",escapeKeyDown:"dropdown:escapeKeyDown",toggle:"dropdown:toggle",open:"dropdown:open",close:"dropdown:close"};function dropdownReducer(o,i){switch(i.type){case DropdownActionTypes.blur:return{open:!1,changeReason:i.event};case DropdownActionTypes.escapeKeyDown:return{open:!1,changeReason:i.event};case DropdownActionTypes.toggle:return{open:!o.open,changeReason:i.event};case DropdownActionTypes.open:return{open:!0,changeReason:i.event};case DropdownActionTypes.close:return{open:!1,changeReason:i.event};default:throw new Error("Unhandled action")}}function useDropdown(o={}){const{defaultOpen:i,onOpenChange:s,open:a,componentName:et="useDropdown"}=o,[tt,rt]=reactExports.useState(""),[nt,it]=reactExports.useState(null),ot=reactExports.useRef(null),st=reactExports.useCallback((mt,yt,ht,pt)=>{yt==="open"&&(s==null||s(mt,ht)),ot.current=pt},[s]),lt=reactExports.useMemo(()=>a!==void 0?{open:a}:{},[a]),[at,ut]=useControllableReducer({controlledProps:lt,initialState:i?{open:!0,changeReason:null}:{open:!1,changeReason:null},onStateChange:st,reducer:dropdownReducer,componentName:et});return reactExports.useEffect(()=>{!at.open&&ot.current!==null&&ot.current!==DropdownActionTypes.blur&&(nt==null||nt.focus())},[at.open,nt]),{contextValue:{state:at,dispatch:ut,popupId:tt,registerPopup:rt,registerTrigger:it,triggerElement:nt},open:at.open}}function Dropdown$3(o){const{children:i,open:s,defaultOpen:a,onOpenChange:et}=o,{contextValue:tt}=useDropdown({defaultOpen:a,onOpenChange:et,open:s});return jsxRuntimeExports.jsx(DropdownContext$4.Provider,{value:tt,children:i})}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(o){const i=parseInt(o.getAttribute("tabindex")||"",10);return Number.isNaN(i)?o.contentEditable==="true"||(o.nodeName==="AUDIO"||o.nodeName==="VIDEO"||o.nodeName==="DETAILS")&&o.getAttribute("tabindex")===null?0:o.tabIndex:i}function isNonTabbableRadio(o){if(o.tagName!=="INPUT"||o.type!=="radio"||!o.name)return!1;const i=a=>o.ownerDocument.querySelector(`input[type="radio"]${a}`);let s=i(`[name="${o.name}"]:checked`);return s||(s=i(`[name="${o.name}"]`)),s!==o}function isNodeMatchingSelectorFocusable(o){return!(o.disabled||o.tagName==="INPUT"&&o.type==="hidden"||isNonTabbableRadio(o))}function defaultGetTabbable(o){const i=[],s=[];return Array.from(o.querySelectorAll(candidatesSelector)).forEach((a,et)=>{const tt=getTabIndex(a);tt===-1||!isNodeMatchingSelectorFocusable(a)||(tt===0?i.push(a):s.push({documentOrder:et,tabIndex:tt,node:a}))}),s.sort((a,et)=>a.tabIndex===et.tabIndex?a.documentOrder-et.documentOrder:a.tabIndex-et.tabIndex).map(a=>a.node).concat(i)}function defaultIsEnabled(){return!0}function FocusTrap(o){const{children:i,disableAutoFocus:s=!1,disableEnforceFocus:a=!1,disableRestoreFocus:et=!1,getTabbable:tt=defaultGetTabbable,isEnabled:rt=defaultIsEnabled,open:nt}=o,it=reactExports.useRef(!1),ot=reactExports.useRef(null),st=reactExports.useRef(null),lt=reactExports.useRef(null),at=reactExports.useRef(null),ut=reactExports.useRef(!1),ft=reactExports.useRef(null),mt=useForkRef(i.ref,ft),yt=reactExports.useRef(null);reactExports.useEffect(()=>{!nt||!ft.current||(ut.current=!s)},[s,nt]),reactExports.useEffect(()=>{if(!nt||!ft.current)return;const ct=ownerDocument$1(ft.current);return ft.current.contains(ct.activeElement)||(ft.current.hasAttribute("tabIndex")||ft.current.setAttribute("tabIndex","-1"),ut.current&&ft.current.focus()),()=>{et||(lt.current&&lt.current.focus&&(it.current=!0,lt.current.focus()),lt.current=null)}},[nt]),reactExports.useEffect(()=>{if(!nt||!ft.current)return;const ct=ownerDocument$1(ft.current),gt=xt=>{yt.current=xt,!(a||!rt()||xt.key!=="Tab")&&ct.activeElement===ft.current&&xt.shiftKey&&(it.current=!0,st.current&&st.current.focus())},Et=()=>{const xt=ft.current;if(xt===null)return;if(!ct.hasFocus()||!rt()||it.current){it.current=!1;return}if(xt.contains(ct.activeElement)||a&&ct.activeElement!==ot.current&&ct.activeElement!==st.current)return;if(ct.activeElement!==at.current)at.current=null;else if(at.current!==null)return;if(!ut.current)return;let Tt=[];if((ct.activeElement===ot.current||ct.activeElement===st.current)&&(Tt=tt(ft.current)),Tt.length>0){var wt,It;const At=!!((wt=yt.current)!=null&&wt.shiftKey&&((It=yt.current)==null?void 0:It.key)==="Tab"),kt=Tt[0],Vt=Tt[Tt.length-1];typeof kt!="string"&&typeof Vt!="string"&&(At?Vt.focus():kt.focus())}else xt.focus()};ct.addEventListener("focusin",Et),ct.addEventListener("keydown",gt,!0);const bt=setInterval(()=>{ct.activeElement&&ct.activeElement.tagName==="BODY"&&Et()},50);return()=>{clearInterval(bt),ct.removeEventListener("focusin",Et),ct.removeEventListener("keydown",gt,!0)}},[s,a,et,rt,nt,tt]);const ht=ct=>{lt.current===null&&(lt.current=ct.relatedTarget),ut.current=!0,at.current=ct.target;const gt=i.props.onFocus;gt&&gt(ct)},pt=ct=>{lt.current===null&&(lt.current=ct.relatedTarget),ut.current=!0};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("div",{tabIndex:nt?0:-1,onFocus:pt,ref:ot,"data-testid":"sentinelStart"}),reactExports.cloneElement(i,{ref:mt,onFocus:ht}),jsxRuntimeExports.jsx("div",{tabIndex:nt?0:-1,onFocus:pt,ref:st,"data-testid":"sentinelEnd"})]})}const FormControlContext$4=reactExports.createContext(void 0);function useFormControlContext(){return reactExports.useContext(FormControlContext$4)}function useInput(o={}){const{defaultValue:i,disabled:s=!1,error:a=!1,onBlur:et,onChange:tt,onFocus:rt,required:nt=!1,value:it,inputRef:ot}=o,st=useFormControlContext();let lt,at,ut,ft,mt;if(st){var yt,ht,pt;lt=void 0,at=(yt=st.disabled)!=null?yt:!1,ut=(ht=st.error)!=null?ht:!1,ft=(pt=st.required)!=null?pt:!1,mt=st.value}else lt=i,at=s,ut=a,ft=nt,mt=it;const{current:ct}=reactExports.useRef(mt!=null),gt=reactExports.useCallback(Ot=>{},[]),Et=reactExports.useRef(null),bt=useForkRef(Et,ot,gt),[xt,Tt]=reactExports.useState(!1);reactExports.useEffect(()=>{!st&&at&&xt&&(Tt(!1),et==null||et())},[st,at,xt,et]);const wt=Ot=>Dt=>{var Ct;if(st!=null&&st.disabled){Dt.stopPropagation();return}if((Ct=Ot.onFocus)==null||Ct.call(Ot,Dt),st&&st.onFocus){var St;st==null||(St=st.onFocus)==null||St.call(st)}else Tt(!0)},It=Ot=>Dt=>{var Ct;(Ct=Ot.onBlur)==null||Ct.call(Ot,Dt),st&&st.onBlur?st.onBlur():Tt(!1)},At=Ot=>(Dt,...Ct)=>{var St,$t;if(!ct&&(Dt.target||Et.current)==null)throw new Error(formatMuiErrorMessage(17));st==null||(St=st.onChange)==null||St.call(st,Dt),($t=Ot.onChange)==null||$t.call(Ot,Dt,...Ct)},kt=Ot=>Dt=>{var Ct;Et.current&&Dt.currentTarget===Dt.target&&Et.current.focus(),(Ct=Ot.onClick)==null||Ct.call(Ot,Dt)};return{disabled:at,error:ut,focused:xt,formControlContext:st,getInputProps:(Ot={})=>{const Ct=_extends$1({},{onBlur:et,onChange:tt,onFocus:rt},extractEventHandlers(Ot)),St=_extends$1({},Ct,{onBlur:It(Ct),onChange:At(Ct),onFocus:wt(Ct)});return _extends$1({},St,{"aria-invalid":ut||void 0,defaultValue:lt,value:mt,required:ft,disabled:at},Ot,{ref:bt},St)},getRootProps:(Ot={})=>{const Dt=extractEventHandlers(o,["onBlur","onChange","onFocus"]),Ct=_extends$1({},Dt,extractEventHandlers(Ot));return _extends$1({},Ot,Ct,{onClick:kt(Ct)})},inputRef:bt,required:ft,value:mt}}const COMPONENT_NAME$4="Menu";function getMenuUtilityClass$2(o){return generateUtilityClass(COMPONENT_NAME$4,o)}generateUtilityClasses(COMPONENT_NAME$4,["root","listbox","expanded"]);const ListActionTypes={blur:"list:blur",focus:"list:focus",itemClick:"list:itemClick",itemHover:"list:itemHover",itemsChange:"list:itemsChange",keyDown:"list:keyDown",resetHighlight:"list:resetHighlight",highlightLast:"list:highlightLast",textNavigation:"list:textNavigation",clearSelection:"list:clearSelection"};function findValidItemToHighlight(o,i,s,a,et,tt){if(s.length===0||!a&&s.every((nt,it)=>et(nt,it)))return-1;let rt=o;for(;;){if(!tt&&i==="next"&&rt===s.length||!tt&&i==="previous"&&rt===-1)return-1;if(a?!1:et(s[rt],rt))rt+=i==="next"?1:-1,tt&&(rt=(rt+s.length)%s.length);else return rt}}function moveHighlight(o,i,s){var a;const{items:et,isItemDisabled:tt,disableListWrap:rt,disabledItemsFocusable:nt,itemComparer:it,focusManagement:ot}=s,st=ot==="DOM"?0:-1,lt=et.length-1,at=o==null?-1:et.findIndex(ht=>it(ht,o));let ut,ft,mt=!rt;switch(i){case"reset":if(st===-1)return null;ut=0,ft="next",mt=!1;break;case"start":ut=0,ft="next",mt=!1;break;case"end":ut=lt,ft="previous",mt=!1;break;default:{const ht=at+i;ht<0?!mt&&at!==-1||Math.abs(i)>1?(ut=0,ft="next"):(ut=lt,ft="previous"):ht>lt?!mt||Math.abs(i)>1?(ut=lt,ft="previous"):(ut=0,ft="next"):(ut=ht,ft=i>=0?"next":"previous")}}const yt=findValidItemToHighlight(ut,ft,et,nt,tt,mt);return yt===-1&&o!==null&&!tt(o,at)?o:(a=et[yt])!=null?a:null}function toggleSelection(o,i,s,a){return s==="none"?[]:s==="single"?a(i[0],o)?i:[o]:i.some(et=>a(et,o))?i.filter(et=>!a(et,o)):[...i,o]}function handleItemSelection(o,i,s){const{itemComparer:a,isItemDisabled:et,selectionMode:tt,items:rt}=s,{selectedValues:nt}=i,it=rt.findIndex(st=>a(o,st));if(et(o,it))return i;const ot=toggleSelection(o,nt,tt,a);return _extends$1({},i,{selectedValues:ot,highlightedValue:o})}function handleKeyDown(o,i,s){const a=i.highlightedValue,{orientation:et,pageSize:tt}=s;switch(o){case"Home":return _extends$1({},i,{highlightedValue:moveHighlight(a,"start",s)});case"End":return _extends$1({},i,{highlightedValue:moveHighlight(a,"end",s)});case"PageUp":return _extends$1({},i,{highlightedValue:moveHighlight(a,-tt,s)});case"PageDown":return _extends$1({},i,{highlightedValue:moveHighlight(a,tt,s)});case"ArrowUp":if(et!=="vertical")break;return _extends$1({},i,{highlightedValue:moveHighlight(a,-1,s)});case"ArrowDown":if(et!=="vertical")break;return _extends$1({},i,{highlightedValue:moveHighlight(a,1,s)});case"ArrowLeft":{if(et==="vertical")break;return _extends$1({},i,{highlightedValue:moveHighlight(a,et==="horizontal-ltr"?-1:1,s)})}case"ArrowRight":{if(et==="vertical")break;return _extends$1({},i,{highlightedValue:moveHighlight(a,et==="horizontal-ltr"?1:-1,s)})}case"Enter":case" ":return i.highlightedValue===null?i:handleItemSelection(i.highlightedValue,i,s)}return i}function handleBlur(o,i){return i.focusManagement==="DOM"?o:_extends$1({},o,{highlightedValue:null})}function textCriteriaMatches$1(o,i,s){var a;const et=(a=s(o))==null?void 0:a.trim().toLowerCase();return!et||et.length===0?!1:et.indexOf(i)===0}function handleTextNavigation(o,i,s){const{items:a,isItemDisabled:et,disabledItemsFocusable:tt,getItemAsString:rt}=s,nt=i.length>1;let it=nt?o.highlightedValue:moveHighlight(o.highlightedValue,1,s);for(let ot=0;ot<a.length;ot+=1){if(!it||!nt&&o.highlightedValue===it)return o;if(textCriteriaMatches$1(it,i,rt)&&(!et(it,a.indexOf(it))||tt))return _extends$1({},o,{highlightedValue:it});it=moveHighlight(it,1,s)}return o}function handleItemsChange(o,i,s,a){var et;const{itemComparer:tt,focusManagement:rt}=a;let nt=null;if(s.highlightedValue!=null){var it;nt=(it=o.find(lt=>tt(lt,s.highlightedValue)))!=null?it:null}else rt==="DOM"&&i.length===0&&(nt=moveHighlight(null,"reset",a));const st=((et=s.selectedValues)!=null?et:[]).filter(lt=>o.some(at=>tt(at,lt)));return _extends$1({},s,{highlightedValue:nt,selectedValues:st})}function handleResetHighlight(o,i){return _extends$1({},o,{highlightedValue:moveHighlight(null,"reset",i)})}function handleHighlightLast(o,i){return _extends$1({},o,{highlightedValue:moveHighlight(null,"end",i)})}function handleClearSelection(o,i){return _extends$1({},o,{selectedValues:[],highlightedValue:moveHighlight(null,"reset",i)})}function listReducer(o,i){const{type:s,context:a}=i;switch(s){case ListActionTypes.keyDown:return handleKeyDown(i.key,o,a);case ListActionTypes.itemClick:return handleItemSelection(i.item,o,a);case ListActionTypes.blur:return handleBlur(o,a);case ListActionTypes.textNavigation:return handleTextNavigation(o,i.searchString,a);case ListActionTypes.itemsChange:return handleItemsChange(i.items,i.previousItems,o,a);case ListActionTypes.resetHighlight:return handleResetHighlight(o,a);case ListActionTypes.highlightLast:return handleHighlightLast(o,a);case ListActionTypes.clearSelection:return handleClearSelection(o,a);default:return o}}const TEXT_NAVIGATION_RESET_TIMEOUT=500;function useTextNavigation(o){const i=reactExports.useRef({searchString:"",lastTime:null});return reactExports.useCallback(s=>{if(s.key.length===1&&s.key!==" "){const a=i.current,et=s.key.toLowerCase(),tt=performance.now();a.searchString.length>0&&a.lastTime&&tt-a.lastTime>TEXT_NAVIGATION_RESET_TIMEOUT?a.searchString=et:(a.searchString.length!==1||et!==a.searchString)&&(a.searchString+=et),a.lastTime=tt,o(a.searchString,s)}},[o])}const EMPTY_OBJECT={},NOOP=()=>{},defaultItemComparer=(o,i)=>o===i,defaultIsItemDisabled=()=>!1,defaultItemStringifier=o=>typeof o=="string"?o:String(o),defaultGetInitialState=()=>({highlightedValue:null,selectedValues:[]});function useList(o){const{controlledProps:i=EMPTY_OBJECT,disabledItemsFocusable:s=!1,disableListWrap:a=!1,focusManagement:et="activeDescendant",getInitialState:tt=defaultGetInitialState,getItemDomElement:rt,getItemId:nt,isItemDisabled:it=defaultIsItemDisabled,rootRef:ot,onStateChange:st=NOOP,items:lt,itemComparer:at=defaultItemComparer,getItemAsString:ut=defaultItemStringifier,onChange:ft,onHighlightChange:mt,onItemsChange:yt,orientation:ht="vertical",pageSize:pt=5,reducerActionContext:ct=EMPTY_OBJECT,selectionMode:gt="single",stateReducer:Et,componentName:bt="useList"}=o,xt=reactExports.useRef(null),Tt=useForkRef(ot,xt),wt=reactExports.useCallback((Wt,Kt,Qt)=>{if(mt==null||mt(Wt,Kt,Qt),et==="DOM"&&Kt!=null&&(Qt===ListActionTypes.itemClick||Qt===ListActionTypes.keyDown||Qt===ListActionTypes.textNavigation)){var Xt;rt==null||(Xt=rt(Kt))==null||Xt.focus()}},[rt,mt,et]),It=reactExports.useMemo(()=>({highlightedValue:at,selectedValues:(Wt,Kt)=>areArraysEqual(Wt,Kt,at)}),[at]),At=reactExports.useCallback((Wt,Kt,Qt,Xt,er)=>{switch(st==null||st(Wt,Kt,Qt,Xt,er),Kt){case"highlightedValue":wt(Wt,Qt,Xt);break;case"selectedValues":ft==null||ft(Wt,Qt,Xt);break}},[wt,ft,st]),kt=reactExports.useMemo(()=>({disabledItemsFocusable:s,disableListWrap:a,focusManagement:et,isItemDisabled:it,itemComparer:at,items:lt,getItemAsString:ut,onHighlightChange:wt,orientation:ht,pageSize:pt,selectionMode:gt,stateComparers:It}),[s,a,et,it,at,lt,ut,wt,ht,pt,gt,It]),Vt=tt(),Mt=Et??listReducer,Ot=reactExports.useMemo(()=>_extends$1({},ct,kt),[ct,kt]),[Dt,Ct]=useControllableReducer({reducer:Mt,actionContext:Ot,initialState:Vt,controlledProps:i,stateComparers:It,onStateChange:At,componentName:bt}),{highlightedValue:St,selectedValues:$t}=Dt,Lt=useTextNavigation((Wt,Kt)=>Ct({type:ListActionTypes.textNavigation,event:Kt,searchString:Wt})),Rt=reactExports.useRef([]);reactExports.useEffect(()=>{areArraysEqual(Rt.current,lt,at)||(Ct({type:ListActionTypes.itemsChange,event:null,items:lt,previousItems:Rt.current}),Rt.current=lt,yt==null||yt(lt))},[lt,at,Ct,yt]);const jt=Wt=>Kt=>{var Qt;if((Qt=Wt.onKeyDown)==null||Qt.call(Wt,Kt),Kt.defaultMuiPrevented)return;const Xt=["Home","End","PageUp","PageDown"];ht==="vertical"?Xt.push("ArrowUp","ArrowDown"):Xt.push("ArrowLeft","ArrowRight"),et==="activeDescendant"&&Xt.push(" ","Enter"),Xt.includes(Kt.key)&&Kt.preventDefault(),Ct({type:ListActionTypes.keyDown,key:Kt.key,event:Kt}),Lt(Kt)},Ft=Wt=>Kt=>{var Qt,Xt;(Qt=Wt.onBlur)==null||Qt.call(Wt,Kt),!Kt.defaultMuiPrevented&&((Xt=xt.current)!=null&&Xt.contains(Kt.relatedTarget)||Ct({type:ListActionTypes.blur,event:Kt}))},zt=(Wt={})=>{const Kt=extractEventHandlers(Wt);return _extends$1({},Wt,{"aria-activedescendant":et==="activeDescendant"&&St!=null?nt(St):void 0,tabIndex:et==="DOM"?-1:0,ref:Tt},Kt,{onBlur:Ft(Kt),onKeyDown:jt(Kt)})},Gt=reactExports.useCallback(Wt=>{const Kt=($t??[]).some(er=>er!=null&&at(Wt,er)),Qt=St!=null&&at(Wt,St);return{focusable:et==="DOM",highlighted:Qt,selected:Kt}},[at,$t,St,et]),Bt=reactExports.useMemo(()=>({dispatch:Ct,getItemState:Gt}),[Ct,Gt]);return reactExports.useDebugValue({state:Dt}),{contextValue:Bt,dispatch:Ct,getRootProps:zt,rootRef:Tt,state:Dt}}const ListContext$2=reactExports.createContext(null);function useListItem(o){const{handlePointerOverEvents:i=!1,item:s}=o,a=reactExports.useContext(ListContext$2);if(!a)throw new Error("useListItem must be used within a ListProvider");const{dispatch:et,getItemState:tt}=a,{highlighted:rt,selected:nt,focusable:it}=tt(s),ot=reactExports.useCallback(ut=>ft=>{var mt;(mt=ut.onClick)==null||mt.call(ut,ft),!ft.defaultPrevented&&et({type:ListActionTypes.itemClick,item:s,event:ft})},[et,s]),st=reactExports.useCallback(ut=>ft=>{var mt;(mt=ut.onMouseOver)==null||mt.call(ut,ft),!ft.defaultPrevented&&et({type:ListActionTypes.itemHover,item:s,event:ft})},[et,s]);let lt;return it&&(lt=rt?0:-1),{getRootProps:(ut={})=>{const ft=extractEventHandlers(ut);return _extends$1({},ut,{onClick:ot(ft),onPointerOver:i?st(ft):void 0,tabIndex:lt})},highlighted:rt,selected:nt}}function menuReducer(o,i){if(i.type===ListActionTypes.itemHover)return _extends$1({},o,{highlightedValue:i.item});const s=listReducer(o,i);if(s.highlightedValue===null&&i.context.items.length>0)return _extends$1({},s,{highlightedValue:i.context.items[0]});if(i.type===ListActionTypes.keyDown&&i.event.key==="Escape")return _extends$1({},s,{open:!1});if(i.type===ListActionTypes.blur){var a;if(!((a=i.context.listboxRef.current)!=null&&a.contains(i.event.relatedTarget))){var et,tt;const rt=(et=i.context.listboxRef.current)==null?void 0:et.getAttribute("id"),nt=(tt=i.event.relatedTarget)==null?void 0:tt.getAttribute("aria-controls");return rt&&nt&&rt===nt?s:_extends$1({},s,{open:!1,highlightedValue:i.context.items[0]})}}return s}const CompoundComponentContext=reactExports.createContext(null);CompoundComponentContext.displayName="CompoundComponentContext";function sortSubitems(o){const i=Array.from(o.keys()).map(s=>{const a=o.get(s);return{key:s,subitem:a}});return i.sort((s,a)=>{const et=s.subitem.ref.current,tt=a.subitem.ref.current;return et===null||tt===null||et===tt?0:et.compareDocumentPosition(tt)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}),new Map(i.map(s=>[s.key,s.subitem]))}function useCompoundParent(){const[o,i]=reactExports.useState(new Map),s=reactExports.useRef(new Set),a=reactExports.useCallback(function(ot){s.current.delete(ot),i(st=>{const lt=new Map(st);return lt.delete(ot),lt})},[]),et=reactExports.useCallback(function(ot,st){let lt;return typeof ot=="function"?lt=ot(s.current):lt=ot,s.current.add(lt),i(at=>{const ut=new Map(at);return ut.set(lt,st),ut}),{id:lt,deregister:()=>a(lt)}},[a]),tt=reactExports.useMemo(()=>sortSubitems(o),[o]),rt=reactExports.useCallback(function(ot){return Array.from(tt.keys()).indexOf(ot)},[tt]);return{contextValue:reactExports.useMemo(()=>({getItemIndex:rt,registerItem:et,totalSubitemCount:o.size}),[rt,et,o.size]),subitems:tt}}function useCompoundItem(o,i){const s=reactExports.useContext(CompoundComponentContext);if(s===null)throw new Error("useCompoundItem must be used within a useCompoundParent");const{registerItem:a}=s,[et,tt]=reactExports.useState(typeof o=="function"?void 0:o);return useEnhancedEffect(()=>{const{id:rt,deregister:nt}=a(o,i);return tt(rt),nt},[a,i,o]),{id:et,index:et!==void 0?s.getItemIndex(et):-1,totalItemCount:s.totalSubitemCount}}function combineHooksSlotProps(o,i){return function(a={}){const et=_extends$1({},a,o(a));return _extends$1({},et,i(et))}}const FALLBACK_MENU_CONTEXT$1={dispatch:()=>{},popupId:"",registerPopup:()=>{},registerTrigger:()=>{},state:{open:!0,changeReason:null},triggerElement:null};function useMenu(o={}){var i,s;const{listboxRef:a,onItemsChange:et,id:tt,disabledItemsFocusable:rt=!0,disableListWrap:nt=!1,autoFocus:it=!0,componentName:ot="useMenu"}=o,st=reactExports.useRef(null),lt=useForkRef(st,a),at=(i=useId(tt))!=null?i:"",{state:{open:ut,changeReason:ft},dispatch:mt,triggerElement:yt,registerPopup:ht}=(s=reactExports.useContext(DropdownContext$4))!=null?s:FALLBACK_MENU_CONTEXT$1,pt=reactExports.useRef(ut),{subitems:ct,contextValue:gt}=useCompoundParent(),Et=reactExports.useMemo(()=>Array.from(ct.keys()),[ct]),bt=reactExports.useCallback($t=>{var Lt,Rt;return $t==null?null:(Lt=(Rt=ct.get($t))==null?void 0:Rt.ref.current)!=null?Lt:null},[ct]),xt=reactExports.useCallback($t=>{var Lt;return(ct==null||(Lt=ct.get($t))==null?void 0:Lt.disabled)||!1},[ct]),Tt=reactExports.useCallback($t=>{var Lt,Rt;return((Lt=ct.get($t))==null?void 0:Lt.label)||((Rt=ct.get($t))==null||(Rt=Rt.ref.current)==null?void 0:Rt.innerText)},[ct]),wt=reactExports.useMemo(()=>({listboxRef:st}),[st]),{dispatch:It,getRootProps:At,contextValue:kt,state:{highlightedValue:Vt},rootRef:Mt}=useList({disabledItemsFocusable:rt,disableListWrap:nt,focusManagement:"DOM",getItemDomElement:bt,getInitialState:()=>({selectedValues:[],highlightedValue:null}),isItemDisabled:xt,items:Et,getItemAsString:Tt,rootRef:lt,onItemsChange:et,reducerActionContext:wt,selectionMode:"none",stateReducer:menuReducer,componentName:ot});useEnhancedEffect(()=>{ht(at)},[at,ht]),useEnhancedEffect(()=>{ut&&(ft==null?void 0:ft.type)==="keydown"&&ft.key==="ArrowUp"&&It({type:ListActionTypes.highlightLast,event:ft})},[ut,ft,It]),reactExports.useEffect(()=>{if(ut&&it&&Vt&&!pt.current){var $t;($t=ct.get(Vt))==null||($t=$t.ref)==null||($t=$t.current)==null||$t.focus()}},[ut,it,Vt,ct,Et]),reactExports.useEffect(()=>{var $t;if(($t=st.current)!=null&&$t.contains(document.activeElement)&&Vt!==null){var Lt;ct==null||(Lt=ct.get(Vt))==null||(Lt=Lt.ref.current)==null||Lt.focus()}},[Vt,ct]);const Ot=$t=>Lt=>{var Rt,jt;(Rt=$t.onBlur)==null||Rt.call($t,Lt),!Lt.defaultMuiPrevented&&((jt=st.current)!=null&&jt.contains(Lt.relatedTarget)||Lt.relatedTarget===yt||mt({type:DropdownActionTypes.blur,event:Lt}))},Dt=$t=>Lt=>{var Rt;(Rt=$t.onKeyDown)==null||Rt.call($t,Lt),!Lt.defaultMuiPrevented&&Lt.key==="Escape"&&mt({type:DropdownActionTypes.escapeKeyDown,event:Lt})},Ct=($t={})=>({onBlur:Ot($t),onKeyDown:Dt($t)}),St=($t={})=>{const Lt=combineHooksSlotProps(Ct,At),Rt=extractEventHandlers($t);return _extends$1({},$t,Rt,Lt(Rt),{id:at,role:"menu"})};return reactExports.useDebugValue({subitems:ct,highlightedValue:Vt}),{contextValue:_extends$1({},gt,kt),dispatch:It,getListboxProps:St,highlightedValue:Vt,listboxRef:Mt,menuItems:ct,open:ut,triggerElement:yt}}function MenuProvider(o){const{value:i,children:s}=o,{dispatch:a,getItemIndex:et,getItemState:tt,registerItem:rt,totalSubitemCount:nt}=i,it=reactExports.useMemo(()=>({dispatch:a,getItemState:tt,getItemIndex:et}),[a,et,tt]),ot=reactExports.useMemo(()=>({getItemIndex:et,registerItem:rt,totalSubitemCount:nt}),[rt,et,nt]);return jsxRuntimeExports.jsx(CompoundComponentContext.Provider,{value:ot,children:jsxRuntimeExports.jsx(ListContext$2.Provider,{value:it,children:s})})}const min$1=Math.min,max$1=Math.max,round$3=Math.round,floor=Math.floor,createCoords=o=>({x:o,y:o}),oppositeSideMap={left:"right",right:"left",bottom:"top",top:"bottom"},oppositeAlignmentMap={start:"end",end:"start"};function clamp(o,i,s){return max$1(o,min$1(i,s))}function evaluate(o,i){return typeof o=="function"?o(i):o}function getSide(o){return o.split("-")[0]}function getAlignment(o){return o.split("-")[1]}function getOppositeAxis(o){return o==="x"?"y":"x"}function getAxisLength(o){return o==="y"?"height":"width"}function getSideAxis(o){return["top","bottom"].includes(getSide(o))?"y":"x"}function getAlignmentAxis(o){return getOppositeAxis(getSideAxis(o))}function getAlignmentSides(o,i,s){s===void 0&&(s=!1);const a=getAlignment(o),et=getAlignmentAxis(o),tt=getAxisLength(et);let rt=et==="x"?a===(s?"end":"start")?"right":"left":a==="start"?"bottom":"top";return i.reference[tt]>i.floating[tt]&&(rt=getOppositePlacement$1(rt)),[rt,getOppositePlacement$1(rt)]}function getExpandedPlacements(o){const i=getOppositePlacement$1(o);return[getOppositeAlignmentPlacement(o),i,getOppositeAlignmentPlacement(i)]}function getOppositeAlignmentPlacement(o){return o.replace(/start|end/g,i=>oppositeAlignmentMap[i])}function getSideList(o,i,s){const a=["left","right"],et=["right","left"],tt=["top","bottom"],rt=["bottom","top"];switch(o){case"top":case"bottom":return s?i?et:a:i?a:et;case"left":case"right":return i?tt:rt;default:return[]}}function getOppositeAxisPlacements(o,i,s,a){const et=getAlignment(o);let tt=getSideList(getSide(o),s==="start",a);return et&&(tt=tt.map(rt=>rt+"-"+et),i&&(tt=tt.concat(tt.map(getOppositeAlignmentPlacement)))),tt}function getOppositePlacement$1(o){return o.replace(/left|right|bottom|top/g,i=>oppositeSideMap[i])}function expandPaddingObject(o){return{top:0,right:0,bottom:0,left:0,...o}}function getPaddingObject(o){return typeof o!="number"?expandPaddingObject(o):{top:o,right:o,bottom:o,left:o}}function rectToClientRect$1(o){return{...o,top:o.y,left:o.x,right:o.x+o.width,bottom:o.y+o.height}}function computeCoordsFromPlacement(o,i,s){let{reference:a,floating:et}=o;const tt=getSideAxis(i),rt=getAlignmentAxis(i),nt=getAxisLength(rt),it=getSide(i),ot=tt==="y",st=a.x+a.width/2-et.width/2,lt=a.y+a.height/2-et.height/2,at=a[nt]/2-et[nt]/2;let ut;switch(it){case"top":ut={x:st,y:a.y-et.height};break;case"bottom":ut={x:st,y:a.y+a.height};break;case"right":ut={x:a.x+a.width,y:lt};break;case"left":ut={x:a.x-et.width,y:lt};break;default:ut={x:a.x,y:a.y}}switch(getAlignment(i)){case"start":ut[rt]-=at*(s&&ot?-1:1);break;case"end":ut[rt]+=at*(s&&ot?-1:1);break}return ut}const computePosition$1=async(o,i,s)=>{const{placement:a="bottom",strategy:et="absolute",middleware:tt=[],platform:rt}=s,nt=tt.filter(Boolean),it=await(rt.isRTL==null?void 0:rt.isRTL(i));let ot=await rt.getElementRects({reference:o,floating:i,strategy:et}),{x:st,y:lt}=computeCoordsFromPlacement(ot,a,it),at=a,ut={},ft=0;for(let mt=0;mt<nt.length;mt++){const{name:yt,fn:ht}=nt[mt],{x:pt,y:ct,data:gt,reset:Et}=await ht({x:st,y:lt,initialPlacement:a,placement:at,strategy:et,middlewareData:ut,rects:ot,platform:rt,elements:{reference:o,floating:i}});st=pt??st,lt=ct??lt,ut={...ut,[yt]:{...ut[yt],...gt}},Et&&ft<=50&&(ft++,typeof Et=="object"&&(Et.placement&&(at=Et.placement),Et.rects&&(ot=Et.rects===!0?await rt.getElementRects({reference:o,floating:i,strategy:et}):Et.rects),{x:st,y:lt}=computeCoordsFromPlacement(ot,at,it)),mt=-1)}return{x:st,y:lt,placement:at,strategy:et,middlewareData:ut}};async function detectOverflow$1(o,i){var s;i===void 0&&(i={});const{x:a,y:et,platform:tt,rects:rt,elements:nt,strategy:it}=o,{boundary:ot="clippingAncestors",rootBoundary:st="viewport",elementContext:lt="floating",altBoundary:at=!1,padding:ut=0}=evaluate(i,o),ft=getPaddingObject(ut),yt=nt[at?lt==="floating"?"reference":"floating":lt],ht=rectToClientRect$1(await tt.getClippingRect({element:(s=await(tt.isElement==null?void 0:tt.isElement(yt)))==null||s?yt:yt.contextElement||await(tt.getDocumentElement==null?void 0:tt.getDocumentElement(nt.floating)),boundary:ot,rootBoundary:st,strategy:it})),pt=lt==="floating"?{...rt.floating,x:a,y:et}:rt.reference,ct=await(tt.getOffsetParent==null?void 0:tt.getOffsetParent(nt.floating)),gt=await(tt.isElement==null?void 0:tt.isElement(ct))?await(tt.getScale==null?void 0:tt.getScale(ct))||{x:1,y:1}:{x:1,y:1},Et=rectToClientRect$1(tt.convertOffsetParentRelativeRectToViewportRelativeRect?await tt.convertOffsetParentRelativeRectToViewportRelativeRect({elements:nt,rect:pt,offsetParent:ct,strategy:it}):pt);return{top:(ht.top-Et.top+ft.top)/gt.y,bottom:(Et.bottom-ht.bottom+ft.bottom)/gt.y,left:(ht.left-Et.left+ft.left)/gt.x,right:(Et.right-ht.right+ft.right)/gt.x}}const flip$3=function(o){return o===void 0&&(o={}),{name:"flip",options:o,async fn(i){var s,a;const{placement:et,middlewareData:tt,rects:rt,initialPlacement:nt,platform:it,elements:ot}=i,{mainAxis:st=!0,crossAxis:lt=!0,fallbackPlacements:at,fallbackStrategy:ut="bestFit",fallbackAxisSideDirection:ft="none",flipAlignment:mt=!0,...yt}=evaluate(o,i);if((s=tt.arrow)!=null&&s.alignmentOffset)return{};const ht=getSide(et),pt=getSide(nt)===nt,ct=await(it.isRTL==null?void 0:it.isRTL(ot.floating)),gt=at||(pt||!mt?[getOppositePlacement$1(nt)]:getExpandedPlacements(nt));!at&&ft!=="none"&&gt.push(...getOppositeAxisPlacements(nt,mt,ft,ct));const Et=[nt,...gt],bt=await detectOverflow$1(i,yt),xt=[];let Tt=((a=tt.flip)==null?void 0:a.overflows)||[];if(st&&xt.push(bt[ht]),lt){const kt=getAlignmentSides(et,rt,ct);xt.push(bt[kt[0]],bt[kt[1]])}if(Tt=[...Tt,{placement:et,overflows:xt}],!xt.every(kt=>kt<=0)){var wt,It;const kt=(((wt=tt.flip)==null?void 0:wt.index)||0)+1,Vt=Et[kt];if(Vt)return{data:{index:kt,overflows:Tt},reset:{placement:Vt}};let Mt=(It=Tt.filter(Ot=>Ot.overflows[0]<=0).sort((Ot,Dt)=>Ot.overflows[1]-Dt.overflows[1])[0])==null?void 0:It.placement;if(!Mt)switch(ut){case"bestFit":{var At;const Ot=(At=Tt.map(Dt=>[Dt.placement,Dt.overflows.filter(Ct=>Ct>0).reduce((Ct,St)=>Ct+St,0)]).sort((Dt,Ct)=>Dt[1]-Ct[1])[0])==null?void 0:At[0];Ot&&(Mt=Ot);break}case"initialPlacement":Mt=nt;break}if(et!==Mt)return{reset:{placement:Mt}}}return{}}}};async function convertValueToCoords(o,i){const{placement:s,platform:a,elements:et}=o,tt=await(a.isRTL==null?void 0:a.isRTL(et.floating)),rt=getSide(s),nt=getAlignment(s),it=getSideAxis(s)==="y",ot=["left","top"].includes(rt)?-1:1,st=tt&&it?-1:1,lt=evaluate(i,o);let{mainAxis:at,crossAxis:ut,alignmentAxis:ft}=typeof lt=="number"?{mainAxis:lt,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...lt};return nt&&typeof ft=="number"&&(ut=nt==="end"?ft*-1:ft),it?{x:ut*st,y:at*ot}:{x:at*ot,y:ut*st}}const offset$2=function(o){return o===void 0&&(o=0),{name:"offset",options:o,async fn(i){var s,a;const{x:et,y:tt,placement:rt,middlewareData:nt}=i,it=await convertValueToCoords(i,o);return rt===((s=nt.offset)==null?void 0:s.placement)&&(a=nt.arrow)!=null&&a.alignmentOffset?{}:{x:et+it.x,y:tt+it.y,data:{...it,placement:rt}}}}},shift$1=function(o){return o===void 0&&(o={}),{name:"shift",options:o,async fn(i){const{x:s,y:a,placement:et}=i,{mainAxis:tt=!0,crossAxis:rt=!1,limiter:nt={fn:yt=>{let{x:ht,y:pt}=yt;return{x:ht,y:pt}}},...it}=evaluate(o,i),ot={x:s,y:a},st=await detectOverflow$1(i,it),lt=getSideAxis(getSide(et)),at=getOppositeAxis(lt);let ut=ot[at],ft=ot[lt];if(tt){const yt=at==="y"?"top":"left",ht=at==="y"?"bottom":"right",pt=ut+st[yt],ct=ut-st[ht];ut=clamp(pt,ut,ct)}if(rt){const yt=lt==="y"?"top":"left",ht=lt==="y"?"bottom":"right",pt=ft+st[yt],ct=ft-st[ht];ft=clamp(pt,ft,ct)}const mt=nt.fn({...i,[at]:ut,[lt]:ft});return{...mt,data:{x:mt.x-s,y:mt.y-a}}}}};function getNodeName$1(o){return isNode(o)?(o.nodeName||"").toLowerCase():"#document"}function getWindow$1(o){var i;return(o==null||(i=o.ownerDocument)==null?void 0:i.defaultView)||window}function getDocumentElement$1(o){var i;return(i=(isNode(o)?o.ownerDocument:o.document)||window.document)==null?void 0:i.documentElement}function isNode(o){return o instanceof Node||o instanceof getWindow$1(o).Node}function isElement$1(o){return o instanceof Element||o instanceof getWindow$1(o).Element}function isHTMLElement$2(o){return o instanceof HTMLElement||o instanceof getWindow$1(o).HTMLElement}function isShadowRoot$1(o){return typeof ShadowRoot>"u"?!1:o instanceof ShadowRoot||o instanceof getWindow$1(o).ShadowRoot}function isOverflowElement(o){const{overflow:i,overflowX:s,overflowY:a,display:et}=getComputedStyle$1(o);return/auto|scroll|overlay|hidden|clip/.test(i+a+s)&&!["inline","contents"].includes(et)}function isTableElement$1(o){return["table","td","th"].includes(getNodeName$1(o))}function isContainingBlock(o){const i=isWebKit(),s=getComputedStyle$1(o);return s.transform!=="none"||s.perspective!=="none"||(s.containerType?s.containerType!=="normal":!1)||!i&&(s.backdropFilter?s.backdropFilter!=="none":!1)||!i&&(s.filter?s.filter!=="none":!1)||["transform","perspective","filter"].some(a=>(s.willChange||"").includes(a))||["paint","layout","strict","content"].some(a=>(s.contain||"").includes(a))}function getContainingBlock$1(o){let i=getParentNode$1(o);for(;isHTMLElement$2(i)&&!isLastTraversableNode(i);){if(isContainingBlock(i))return i;i=getParentNode$1(i)}return null}function isWebKit(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function isLastTraversableNode(o){return["html","body","#document"].includes(getNodeName$1(o))}function getComputedStyle$1(o){return getWindow$1(o).getComputedStyle(o)}function getNodeScroll$1(o){return isElement$1(o)?{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}:{scrollLeft:o.pageXOffset,scrollTop:o.pageYOffset}}function getParentNode$1(o){if(getNodeName$1(o)==="html")return o;const i=o.assignedSlot||o.parentNode||isShadowRoot$1(o)&&o.host||getDocumentElement$1(o);return isShadowRoot$1(i)?i.host:i}function getNearestOverflowAncestor(o){const i=getParentNode$1(o);return isLastTraversableNode(i)?o.ownerDocument?o.ownerDocument.body:o.body:isHTMLElement$2(i)&&isOverflowElement(i)?i:getNearestOverflowAncestor(i)}function getOverflowAncestors(o,i,s){var a;i===void 0&&(i=[]),s===void 0&&(s=!0);const et=getNearestOverflowAncestor(o),tt=et===((a=o.ownerDocument)==null?void 0:a.body),rt=getWindow$1(et);return tt?i.concat(rt,rt.visualViewport||[],isOverflowElement(et)?et:[],rt.frameElement&&s?getOverflowAncestors(rt.frameElement):[]):i.concat(et,getOverflowAncestors(et,[],s))}function getCssDimensions(o){const i=getComputedStyle$1(o);let s=parseFloat(i.width)||0,a=parseFloat(i.height)||0;const et=isHTMLElement$2(o),tt=et?o.offsetWidth:s,rt=et?o.offsetHeight:a,nt=round$3(s)!==tt||round$3(a)!==rt;return nt&&(s=tt,a=rt),{width:s,height:a,$:nt}}function unwrapElement(o){return isElement$1(o)?o:o.contextElement}function getScale$1(o){const i=unwrapElement(o);if(!isHTMLElement$2(i))return createCoords(1);const s=i.getBoundingClientRect(),{width:a,height:et,$:tt}=getCssDimensions(i);let rt=(tt?round$3(s.width):s.width)/a,nt=(tt?round$3(s.height):s.height)/et;return(!rt||!Number.isFinite(rt))&&(rt=1),(!nt||!Number.isFinite(nt))&&(nt=1),{x:rt,y:nt}}const noOffsets=createCoords(0);function getVisualOffsets(o){const i=getWindow$1(o);return!isWebKit()||!i.visualViewport?noOffsets:{x:i.visualViewport.offsetLeft,y:i.visualViewport.offsetTop}}function shouldAddVisualOffsets(o,i,s){return i===void 0&&(i=!1),!s||i&&s!==getWindow$1(o)?!1:i}function getBoundingClientRect$1(o,i,s,a){i===void 0&&(i=!1),s===void 0&&(s=!1);const et=o.getBoundingClientRect(),tt=unwrapElement(o);let rt=createCoords(1);i&&(a?isElement$1(a)&&(rt=getScale$1(a)):rt=getScale$1(o));const nt=shouldAddVisualOffsets(tt,s,a)?getVisualOffsets(tt):createCoords(0);let it=(et.left+nt.x)/rt.x,ot=(et.top+nt.y)/rt.y,st=et.width/rt.x,lt=et.height/rt.y;if(tt){const at=getWindow$1(tt),ut=a&&isElement$1(a)?getWindow$1(a):a;let ft=at.frameElement;for(;ft&&a&&ut!==at;){const mt=getScale$1(ft),yt=ft.getBoundingClientRect(),ht=getComputedStyle$1(ft),pt=yt.left+(ft.clientLeft+parseFloat(ht.paddingLeft))*mt.x,ct=yt.top+(ft.clientTop+parseFloat(ht.paddingTop))*mt.y;it*=mt.x,ot*=mt.y,st*=mt.x,lt*=mt.y,it+=pt,ot+=ct,ft=getWindow$1(ft).frameElement}}return rectToClientRect$1({width:st,height:lt,x:it,y:ot})}const topLayerSelectors=[":popover-open",":modal"];function topLayer(o){let i=!1,s=0,a=0;function et(tt){try{i=i||o.matches(tt)}catch{}}if(topLayerSelectors.forEach(tt=>{et(tt)}),i){const tt=getContainingBlock$1(o);if(tt){const rt=tt.getBoundingClientRect();s=rt.x,a=rt.y}}return[i,s,a]}function convertOffsetParentRelativeRectToViewportRelativeRect(o){let{elements:i,rect:s,offsetParent:a,strategy:et}=o;const tt=getDocumentElement$1(a),[rt]=i?topLayer(i.floating):[!1];if(a===tt||rt)return s;let nt={scrollLeft:0,scrollTop:0},it=createCoords(1);const ot=createCoords(0),st=isHTMLElement$2(a);if((st||!st&&et!=="fixed")&&((getNodeName$1(a)!=="body"||isOverflowElement(tt))&&(nt=getNodeScroll$1(a)),isHTMLElement$2(a))){const lt=getBoundingClientRect$1(a);it=getScale$1(a),ot.x=lt.x+a.clientLeft,ot.y=lt.y+a.clientTop}return{width:s.width*it.x,height:s.height*it.y,x:s.x*it.x-nt.scrollLeft*it.x+ot.x,y:s.y*it.y-nt.scrollTop*it.y+ot.y}}function getClientRects(o){return Array.from(o.getClientRects())}function getWindowScrollBarX$1(o){return getBoundingClientRect$1(getDocumentElement$1(o)).left+getNodeScroll$1(o).scrollLeft}function getDocumentRect$1(o){const i=getDocumentElement$1(o),s=getNodeScroll$1(o),a=o.ownerDocument.body,et=max$1(i.scrollWidth,i.clientWidth,a.scrollWidth,a.clientWidth),tt=max$1(i.scrollHeight,i.clientHeight,a.scrollHeight,a.clientHeight);let rt=-s.scrollLeft+getWindowScrollBarX$1(o);const nt=-s.scrollTop;return getComputedStyle$1(a).direction==="rtl"&&(rt+=max$1(i.clientWidth,a.clientWidth)-et),{width:et,height:tt,x:rt,y:nt}}function getViewportRect$1(o,i){const s=getWindow$1(o),a=getDocumentElement$1(o),et=s.visualViewport;let tt=a.clientWidth,rt=a.clientHeight,nt=0,it=0;if(et){tt=et.width,rt=et.height;const ot=isWebKit();(!ot||ot&&i==="fixed")&&(nt=et.offsetLeft,it=et.offsetTop)}return{width:tt,height:rt,x:nt,y:it}}function getInnerBoundingClientRect$1(o,i){const s=getBoundingClientRect$1(o,!0,i==="fixed"),a=s.top+o.clientTop,et=s.left+o.clientLeft,tt=isHTMLElement$2(o)?getScale$1(o):createCoords(1),rt=o.clientWidth*tt.x,nt=o.clientHeight*tt.y,it=et*tt.x,ot=a*tt.y;return{width:rt,height:nt,x:it,y:ot}}function getClientRectFromClippingAncestor(o,i,s){let a;if(i==="viewport")a=getViewportRect$1(o,s);else if(i==="document")a=getDocumentRect$1(getDocumentElement$1(o));else if(isElement$1(i))a=getInnerBoundingClientRect$1(i,s);else{const et=getVisualOffsets(o);a={...i,x:i.x-et.x,y:i.y-et.y}}return rectToClientRect$1(a)}function hasFixedPositionAncestor(o,i){const s=getParentNode$1(o);return s===i||!isElement$1(s)||isLastTraversableNode(s)?!1:getComputedStyle$1(s).position==="fixed"||hasFixedPositionAncestor(s,i)}function getClippingElementAncestors(o,i){const s=i.get(o);if(s)return s;let a=getOverflowAncestors(o,[],!1).filter(nt=>isElement$1(nt)&&getNodeName$1(nt)!=="body"),et=null;const tt=getComputedStyle$1(o).position==="fixed";let rt=tt?getParentNode$1(o):o;for(;isElement$1(rt)&&!isLastTraversableNode(rt);){const nt=getComputedStyle$1(rt),it=isContainingBlock(rt);!it&&nt.position==="fixed"&&(et=null),(tt?!it&&!et:!it&&nt.position==="static"&&!!et&&["absolute","fixed"].includes(et.position)||isOverflowElement(rt)&&!it&&hasFixedPositionAncestor(o,rt))?a=a.filter(st=>st!==rt):et=nt,rt=getParentNode$1(rt)}return i.set(o,a),a}function getClippingRect$1(o){let{element:i,boundary:s,rootBoundary:a,strategy:et}=o;const rt=[...s==="clippingAncestors"?getClippingElementAncestors(i,this._c):[].concat(s),a],nt=rt[0],it=rt.reduce((ot,st)=>{const lt=getClientRectFromClippingAncestor(i,st,et);return ot.top=max$1(lt.top,ot.top),ot.right=min$1(lt.right,ot.right),ot.bottom=min$1(lt.bottom,ot.bottom),ot.left=max$1(lt.left,ot.left),ot},getClientRectFromClippingAncestor(i,nt,et));return{width:it.right-it.left,height:it.bottom-it.top,x:it.left,y:it.top}}function getDimensions(o){const{width:i,height:s}=getCssDimensions(o);return{width:i,height:s}}function getRectRelativeToOffsetParent(o,i,s,a){const et=isHTMLElement$2(i),tt=getDocumentElement$1(i),rt=s==="fixed",nt=getBoundingClientRect$1(o,!0,rt,i);let it={scrollLeft:0,scrollTop:0};const ot=createCoords(0);if(et||!et&&!rt)if((getNodeName$1(i)!=="body"||isOverflowElement(tt))&&(it=getNodeScroll$1(i)),et){const mt=getBoundingClientRect$1(i,!0,rt,i);ot.x=mt.x+i.clientLeft,ot.y=mt.y+i.clientTop}else tt&&(ot.x=getWindowScrollBarX$1(tt));let st=nt.left+it.scrollLeft-ot.x,lt=nt.top+it.scrollTop-ot.y;const[at,ut,ft]=topLayer(a);return at&&(st+=ut,lt+=ft,et&&(st+=i.clientLeft,lt+=i.clientTop)),{x:st,y:lt,width:nt.width,height:nt.height}}function getTrueOffsetParent$1(o,i){return!isHTMLElement$2(o)||getComputedStyle$1(o).position==="fixed"?null:i?i(o):o.offsetParent}function getOffsetParent$1(o,i){const s=getWindow$1(o);if(!isHTMLElement$2(o))return s;let a=getTrueOffsetParent$1(o,i);for(;a&&isTableElement$1(a)&&getComputedStyle$1(a).position==="static";)a=getTrueOffsetParent$1(a,i);return a&&(getNodeName$1(a)==="html"||getNodeName$1(a)==="body"&&getComputedStyle$1(a).position==="static"&&!isContainingBlock(a))?s:a||getContainingBlock$1(o)||s}const getElementRects=async function(o){const i=this.getOffsetParent||getOffsetParent$1,s=this.getDimensions;return{reference:getRectRelativeToOffsetParent(o.reference,await i(o.floating),o.strategy,o.floating),floating:{x:0,y:0,...await s(o.floating)}}};function isRTL(o){return getComputedStyle$1(o).direction==="rtl"}const platform={convertOffsetParentRelativeRectToViewportRelativeRect,getDocumentElement:getDocumentElement$1,getClippingRect:getClippingRect$1,getOffsetParent:getOffsetParent$1,getElementRects,getClientRects,getDimensions,getScale:getScale$1,isElement:isElement$1,isRTL};function observeMove(o,i){let s=null,a;const et=getDocumentElement$1(o);function tt(){var nt;clearTimeout(a),(nt=s)==null||nt.disconnect(),s=null}function rt(nt,it){nt===void 0&&(nt=!1),it===void 0&&(it=1),tt();const{left:ot,top:st,width:lt,height:at}=o.getBoundingClientRect();if(nt||i(),!lt||!at)return;const ut=floor(st),ft=floor(et.clientWidth-(ot+lt)),mt=floor(et.clientHeight-(st+at)),yt=floor(ot),pt={rootMargin:-ut+"px "+-ft+"px "+-mt+"px "+-yt+"px",threshold:max$1(0,min$1(1,it))||1};let ct=!0;function gt(Et){const bt=Et[0].intersectionRatio;if(bt!==it){if(!ct)return rt();bt?rt(!1,bt):a=setTimeout(()=>{rt(!1,1e-7)},100)}ct=!1}try{s=new IntersectionObserver(gt,{...pt,root:et.ownerDocument})}catch{s=new IntersectionObserver(gt,pt)}s.observe(o)}return rt(!0),tt}function autoUpdate(o,i,s,a){a===void 0&&(a={});const{ancestorScroll:et=!0,ancestorResize:tt=!0,elementResize:rt=typeof ResizeObserver=="function",layoutShift:nt=typeof IntersectionObserver=="function",animationFrame:it=!1}=a,ot=unwrapElement(o),st=et||tt?[...ot?getOverflowAncestors(ot):[],...getOverflowAncestors(i)]:[];st.forEach(ht=>{et&&ht.addEventListener("scroll",s,{passive:!0}),tt&&ht.addEventListener("resize",s)});const lt=ot&&nt?observeMove(ot,s):null;let at=-1,ut=null;rt&&(ut=new ResizeObserver(ht=>{let[pt]=ht;pt&&pt.target===ot&&ut&&(ut.unobserve(i),cancelAnimationFrame(at),at=requestAnimationFrame(()=>{var ct;(ct=ut)==null||ct.observe(i)})),s()}),ot&&!it&&ut.observe(ot),ut.observe(i));let ft,mt=it?getBoundingClientRect$1(o):null;it&&yt();function yt(){const ht=getBoundingClientRect$1(o);mt&&(ht.x!==mt.x||ht.y!==mt.y||ht.width!==mt.width||ht.height!==mt.height)&&s(),mt=ht,ft=requestAnimationFrame(yt)}return s(),()=>{var ht;st.forEach(pt=>{et&&pt.removeEventListener("scroll",s),tt&&pt.removeEventListener("resize",s)}),lt==null||lt(),(ht=ut)==null||ht.disconnect(),ut=null,it&&cancelAnimationFrame(ft)}}const shift=shift$1,flip$2=flip$3,computePosition=(o,i,s)=>{const a=new Map,et={platform,...s},tt={...et.platform,_c:a};return computePosition$1(o,i,{...et,platform:tt})};var index=typeof document<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function deepEqual(o,i){if(o===i)return!0;if(typeof o!=typeof i)return!1;if(typeof o=="function"&&o.toString()===i.toString())return!0;let s,a,et;if(o&&i&&typeof o=="object"){if(Array.isArray(o)){if(s=o.length,s!==i.length)return!1;for(a=s;a--!==0;)if(!deepEqual(o[a],i[a]))return!1;return!0}if(et=Object.keys(o),s=et.length,s!==Object.keys(i).length)return!1;for(a=s;a--!==0;)if(!{}.hasOwnProperty.call(i,et[a]))return!1;for(a=s;a--!==0;){const tt=et[a];if(!(tt==="_owner"&&o.$$typeof)&&!deepEqual(o[tt],i[tt]))return!1}return!0}return o!==o&&i!==i}function getDPR(o){return typeof window>"u"?1:(o.ownerDocument.defaultView||window).devicePixelRatio||1}function roundByDPR(o,i){const s=getDPR(o);return Math.round(i*s)/s}function useLatestRef(o){const i=reactExports.useRef(o);return index(()=>{i.current=o}),i}function useFloating(o){o===void 0&&(o={});const{placement:i="bottom",strategy:s="absolute",middleware:a=[],platform:et,elements:{reference:tt,floating:rt}={},transform:nt=!0,whileElementsMounted:it,open:ot}=o,[st,lt]=reactExports.useState({x:0,y:0,strategy:s,placement:i,middlewareData:{},isPositioned:!1}),[at,ut]=reactExports.useState(a);deepEqual(at,a)||ut(a);const[ft,mt]=reactExports.useState(null),[yt,ht]=reactExports.useState(null),pt=reactExports.useCallback(Ct=>{Ct!==bt.current&&(bt.current=Ct,mt(Ct))},[]),ct=reactExports.useCallback(Ct=>{Ct!==xt.current&&(xt.current=Ct,ht(Ct))},[]),gt=tt||ft,Et=rt||yt,bt=reactExports.useRef(null),xt=reactExports.useRef(null),Tt=reactExports.useRef(st),wt=it!=null,It=useLatestRef(it),At=useLatestRef(et),kt=reactExports.useCallback(()=>{if(!bt.current||!xt.current)return;const Ct={placement:i,strategy:s,middleware:at};At.current&&(Ct.platform=At.current),computePosition(bt.current,xt.current,Ct).then(St=>{const $t={...St,isPositioned:!0};Vt.current&&!deepEqual(Tt.current,$t)&&(Tt.current=$t,reactDomExports.flushSync(()=>{lt($t)}))})},[at,i,s,At]);index(()=>{ot===!1&&Tt.current.isPositioned&&(Tt.current.isPositioned=!1,lt(Ct=>({...Ct,isPositioned:!1})))},[ot]);const Vt=reactExports.useRef(!1);index(()=>(Vt.current=!0,()=>{Vt.current=!1}),[]),index(()=>{if(gt&&(bt.current=gt),Et&&(xt.current=Et),gt&&Et){if(It.current)return It.current(gt,Et,kt);kt()}},[gt,Et,kt,It,wt]);const Mt=reactExports.useMemo(()=>({reference:bt,floating:xt,setReference:pt,setFloating:ct}),[pt,ct]),Ot=reactExports.useMemo(()=>({reference:gt,floating:Et}),[gt,Et]),Dt=reactExports.useMemo(()=>{const Ct={position:s,left:0,top:0};if(!Ot.floating)return Ct;const St=roundByDPR(Ot.floating,st.x),$t=roundByDPR(Ot.floating,st.y);return nt?{...Ct,transform:"translate("+St+"px, "+$t+"px)",...getDPR(Ot.floating)>=1.5&&{willChange:"transform"}}:{position:s,left:St,top:$t}},[s,nt,Ot.floating,st.x,st.y]);return reactExports.useMemo(()=>({...st,update:kt,refs:Mt,elements:Ot,floatingStyles:Dt}),[st,kt,Mt,Ot,Dt])}function getContainer$1(o){return typeof o=="function"?o():o}const Portal=reactExports.forwardRef(function(i,s){const{children:a,container:et,disablePortal:tt=!1}=i,[rt,nt]=reactExports.useState(null),it=useForkRef(reactExports.isValidElement(a)?a.ref:null,s);if(useEnhancedEffect(()=>{tt||nt(getContainer$1(et)||document.body)},[et,tt]),useEnhancedEffect(()=>{if(rt&&!tt)return setRef(s,rt),()=>{setRef(s,null)}},[s,rt,tt]),tt){if(reactExports.isValidElement(a)){const ot={ref:it};return reactExports.cloneElement(a,ot)}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:a})}return jsxRuntimeExports.jsx(reactExports.Fragment,{children:rt&&reactDomExports.createPortal(a,rt)})}),COMPONENT_NAME$3="Popup";function getPopupUtilityClass(o){return generateUtilityClass(COMPONENT_NAME$3,o)}generateUtilityClasses(COMPONENT_NAME$3,["root","open"]);const TransitionContext=reactExports.createContext(null);function useTransitionTrigger(o){const[i,s]=reactExports.useState(!0),a=reactExports.useRef(!1),et=reactExports.useRef(0),[tt,rt]=reactExports.useState(!1),nt=reactExports.useRef(o);reactExports.useEffect(()=>{!o&&et.current>0&&nt.current!==o&&(a.current=!0,s(!1)),nt.current=o},[o]);const it=reactExports.useCallback(()=>{a.current=!1,s(!0)},[]),ot=reactExports.useCallback(()=>(et.current+=1,rt(!0),()=>{et.current-=1,et.current===0&&rt(!1)}),[]);let st;return tt?o?st=!1:st=!a.current&&i:st=!o,{contextValue:reactExports.useMemo(()=>({requestedEnter:o,onExited:it,registerTransition:ot,hasExited:st}),[it,o,ot,st]),hasExited:st}}const PopupContext=reactExports.createContext(null),_excluded$19=["anchor","children","container","disablePortal","keepMounted","middleware","offset","open","placement","slotProps","slots","strategy"];function useUtilityClasses$S(o){const{open:i}=o;return composeClasses({root:["root",i&&"open"]},useClassNamesOverride(getPopupUtilityClass))}function resolveAnchor(o){return typeof o=="function"?o():o}const Popup=reactExports.forwardRef(function(i,s){var a;const{anchor:et,children:tt,container:rt,disablePortal:nt=!1,keepMounted:it=!1,middleware:ot,offset:st=0,open:lt=!1,placement:at="bottom",slotProps:ut={},slots:ft={},strategy:mt="absolute"}=i,yt=_objectWithoutPropertiesLoose$6(i,_excluded$19),{refs:ht,elements:pt,floatingStyles:ct,update:gt,placement:Et}=useFloating({elements:{reference:resolveAnchor(et)},open:lt,middleware:ot??[offset$2(st??0),flip$2(),shift()],placement:at,strategy:mt,whileElementsMounted:it?void 0:autoUpdate}),bt=useForkRef(ht.setFloating,s);useEnhancedEffect(()=>{if(it&&lt&&pt.reference&&pt.floating)return autoUpdate(pt.reference,pt.floating,gt)},[it,lt,pt,gt]);const xt=_extends$1({},i,{disablePortal:nt,keepMounted:it,offset:offset$2,open:lt,placement:at,finalPlacement:Et,strategy:mt}),{contextValue:Tt,hasExited:wt}=useTransitionTrigger(lt),It=it&&wt?"hidden":void 0,At=useUtilityClasses$S(xt),kt=(a=ft==null?void 0:ft.root)!=null?a:"div",Vt=useSlotProps({elementType:kt,externalSlotProps:ut.root,externalForwardedProps:yt,ownerState:xt,className:At.root,additionalProps:{ref:bt,role:"tooltip",style:_extends$1({},ct,{visibility:It})}}),Mt=reactExports.useMemo(()=>({placement:Et}),[Et]);return it||!wt?jsxRuntimeExports.jsx(Portal,{disablePortal:nt,container:rt,children:jsxRuntimeExports.jsx(PopupContext.Provider,{value:Mt,children:jsxRuntimeExports.jsx(TransitionContext.Provider,{value:Tt,children:jsxRuntimeExports.jsx(kt,_extends$1({},Vt,{children:tt}))})})}):null}),_excluded$18=["actions","anchor","children","onItemsChange","slotProps","slots"];function useUtilityClasses$R(o){const{open:i}=o;return composeClasses({root:["root",i&&"expanded"],listbox:["listbox",i&&"expanded"]},useClassNamesOverride(getMenuUtilityClass$2))}const Menu$5=reactExports.forwardRef(function(i,s){var a,et;const{actions:tt,anchor:rt,children:nt,onItemsChange:it,slotProps:ot={},slots:st={}}=i,lt=_objectWithoutPropertiesLoose$6(i,_excluded$18),{contextValue:at,getListboxProps:ut,dispatch:ft,open:mt,triggerElement:yt}=useMenu({onItemsChange:it,componentName:"Menu"}),ht=rt??yt;reactExports.useImperativeHandle(tt,()=>({dispatch:ft,resetHighlight:()=>ft({type:ListActionTypes.resetHighlight,event:null})}),[ft]);const pt=_extends$1({},i,{open:mt}),ct=useUtilityClasses$R(pt),gt=(a=st.root)!=null?a:"div",Et=useSlotProps({elementType:gt,externalSlotProps:ot.root,externalForwardedProps:lt,additionalProps:{ref:s,role:void 0},className:ct.root,ownerState:pt}),bt=(et=st.listbox)!=null?et:"ul",xt=useSlotProps({elementType:bt,getSlotProps:ut,externalSlotProps:ot.listbox,className:ct.listbox,ownerState:pt});return mt===!0&&ht==null?jsxRuntimeExports.jsx(gt,_extends$1({},Et,{children:jsxRuntimeExports.jsx(bt,_extends$1({},xt,{children:jsxRuntimeExports.jsx(MenuProvider,{value:at,children:nt})}))})):jsxRuntimeExports.jsx(Popup,_extends$1({keepMounted:!0},Et,{open:mt,anchor:ht,slots:{root:gt},children:jsxRuntimeExports.jsx(bt,_extends$1({},xt,{children:jsxRuntimeExports.jsx(MenuProvider,{value:at,children:nt})}))}))});function useMenuButton(o={}){const{disabled:i=!1,focusableWhenDisabled:s,rootRef:a}=o,et=reactExports.useContext(DropdownContext$4);if(et===null)throw new Error("useMenuButton: no menu context available.");const{state:tt,dispatch:rt,registerTrigger:nt,popupId:it}=et,{getRootProps:ot,rootRef:st,active:lt}=useButton({disabled:i,focusableWhenDisabled:s,rootRef:a}),at=useForkRef(st,nt),ut=ht=>pt=>{var ct;(ct=ht.onClick)==null||ct.call(ht,pt),!pt.defaultMuiPrevented&&rt({type:DropdownActionTypes.toggle,event:pt})},ft=ht=>pt=>{var ct;(ct=ht.onKeyDown)==null||ct.call(ht,pt),!pt.defaultMuiPrevented&&(pt.key==="ArrowDown"||pt.key==="ArrowUp")&&(pt.preventDefault(),rt({type:DropdownActionTypes.open,event:pt}))},mt=(ht={})=>({onClick:ut(ht),onKeyDown:ft(ht)});return{active:lt,getRootProps:(ht={})=>{const pt=extractEventHandlers(ht),ct=combineHooksSlotProps(mt,ot);return _extends$1({"aria-haspopup":"menu","aria-expanded":tt.open,"aria-controls":it},ht,pt,ct(pt),{tabIndex:0,ref:at})},open:tt.open,rootRef:at}}const COMPONENT_NAME$2="MenuButton";function getMenuButtonUtilityClass$1(o){return generateUtilityClass(COMPONENT_NAME$2,o)}generateUtilityClasses(COMPONENT_NAME$2,["root","active","disabled","expanded"]);const _excluded$17=["children","disabled","label","slots","slotProps","focusableWhenDisabled"],useUtilityClasses$Q=o=>{const{active:i,disabled:s,open:a}=o;return composeClasses({root:["root",s&&"disabled",i&&"active",a&&"expanded"]},useClassNamesOverride(getMenuButtonUtilityClass$1))},MenuButton$2=reactExports.forwardRef(function(i,s){const{children:a,disabled:et=!1,slots:tt={},slotProps:rt={},focusableWhenDisabled:nt=!1}=i,it=_objectWithoutPropertiesLoose$6(i,_excluded$17),{getRootProps:ot,open:st,active:lt}=useMenuButton({disabled:et,focusableWhenDisabled:nt,rootRef:s}),at=_extends$1({},i,{open:st,active:lt,disabled:et,focusableWhenDisabled:nt}),ut=useUtilityClasses$Q(at),ft=tt.root||"button",mt=useSlotProps({elementType:ft,getSlotProps:ot,externalForwardedProps:it,externalSlotProps:rt.root,additionalProps:{ref:s,type:"button"},ownerState:at,className:ut.root});return jsxRuntimeExports.jsx(ft,_extends$1({},mt,{children:a}))}),COMPONENT_NAME$1="MenuItem";function getMenuItemUtilityClass$2(o){return generateUtilityClass(COMPONENT_NAME$1,o)}generateUtilityClasses(COMPONENT_NAME$1,["root","disabled","focusVisible"]);function idGenerator(o){return`menu-item-${o.size}`}const FALLBACK_MENU_CONTEXT={dispatch:()=>{},popupId:"",registerPopup:()=>{},registerTrigger:()=>{},state:{open:!0,changeReason:null},triggerElement:null};function useMenuItem(o){var i;const{disabled:s=!1,id:a,rootRef:et,label:tt,disableFocusOnHover:rt=!1}=o,nt=useId(a),it=reactExports.useRef(null),ot=reactExports.useMemo(()=>({disabled:s,id:nt??"",label:tt,ref:it}),[s,nt,tt]),{dispatch:st}=(i=reactExports.useContext(DropdownContext$4))!=null?i:FALLBACK_MENU_CONTEXT,{getRootProps:lt,highlighted:at}=useListItem({item:nt,handlePointerOverEvents:!rt}),{index:ut,totalItemCount:ft}=useCompoundItem(nt??idGenerator,ot),{getRootProps:mt,focusVisible:yt,rootRef:ht}=useButton({disabled:s,focusableWhenDisabled:!0}),pt=useForkRef(ht,et,it);reactExports.useDebugValue({id:nt,highlighted:at,disabled:s,label:tt});const ct=bt=>xt=>{var Tt;(Tt=bt.onClick)==null||Tt.call(bt,xt),!xt.defaultMuiPrevented&&st({type:DropdownActionTypes.close,event:xt})},gt=(bt={})=>_extends$1({},bt,{onClick:ct(bt)});function Et(bt={}){const xt=extractEventHandlers(bt),Tt=combineHooksSlotProps(gt,combineHooksSlotProps(mt,lt));return _extends$1({},bt,xt,Tt(xt),{id:nt,ref:pt,role:"menuitem"})}return nt===void 0?{getRootProps:Et,disabled:!1,focusVisible:yt,highlighted:!1,index:-1,totalItemCount:0,rootRef:pt}:{getRootProps:Et,disabled:s,focusVisible:yt,highlighted:at,index:ut,totalItemCount:ft,rootRef:pt}}function useMenuItemContextStabilizer(o){const i=reactExports.useContext(ListContext$2);if(!i)throw new Error("MenuItem: ListContext was not found.");const s=useId(o),{getItemState:a,dispatch:et}=i;let tt;s!=null?tt=a(s):tt={focusable:!0,highlighted:!1,selected:!1};const{highlighted:rt,selected:nt,focusable:it}=tt,ot=reactExports.useCallback(lt=>{if(lt!==s)throw new Error(["Base UI MenuItem: Tried to access the state of another MenuItem.",`itemValue: ${lt} | id: ${s}`,"This is unsupported when the MenuItem uses the MenuItemContextStabilizer as a performance optimization."].join("/n"));return{highlighted:rt,selected:nt,focusable:it}},[rt,nt,it,s]);return{contextValue:reactExports.useMemo(()=>({dispatch:et,getItemState:ot}),[et,ot]),id:s}}const _excluded$16=["children","disabled","label","id","slotProps","slots"];function useUtilityClasses$P(o){const{disabled:i,focusVisible:s}=o;return composeClasses({root:["root",i&&"disabled",s&&"focusVisible"]},useClassNamesOverride(getMenuItemUtilityClass$2))}const InnerMenuItem=reactExports.memo(reactExports.forwardRef(function(i,s){var a;const{children:et,disabled:tt=!1,label:rt,id:nt,slotProps:it={},slots:ot={}}=i,st=_objectWithoutPropertiesLoose$6(i,_excluded$16),{getRootProps:lt,disabled:at,focusVisible:ut,highlighted:ft}=useMenuItem({id:nt,disabled:tt,rootRef:s,label:rt}),mt=_extends$1({},i,{disabled:at,focusVisible:ut,highlighted:ft}),yt=useUtilityClasses$P(mt),ht=(a=ot.root)!=null?a:"li",pt=useSlotProps({elementType:ht,getSlotProps:lt,externalSlotProps:it.root,externalForwardedProps:st,className:yt.root,ownerState:mt});return jsxRuntimeExports.jsx(ht,_extends$1({},pt,{children:et}))})),MenuItem2=reactExports.forwardRef(function(i,s){const{id:a}=i,{contextValue:et,id:tt}=useMenuItemContextStabilizer(a);return jsxRuntimeExports.jsx(ListContext$2.Provider,{value:et,children:jsxRuntimeExports.jsx(InnerMenuItem,_extends$1({},i,{id:tt,ref:s}))})});function isOverflowing(o){const i=ownerDocument$1(o);return i.body===o?ownerWindow(o).innerWidth>i.documentElement.clientWidth:o.scrollHeight>o.clientHeight}function ariaHidden(o,i){i?o.setAttribute("aria-hidden","true"):o.removeAttribute("aria-hidden")}function getPaddingRight(o){return parseInt(ownerWindow(o).getComputedStyle(o).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(o){const s=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(o.tagName)!==-1,a=o.tagName==="INPUT"&&o.getAttribute("type")==="hidden";return s||a}function ariaHiddenSiblings(o,i,s,a,et){const tt=[i,s,...a];[].forEach.call(o.children,rt=>{const nt=tt.indexOf(rt)===-1,it=!isAriaHiddenForbiddenOnElement(rt);nt&&it&&ariaHidden(rt,et)})}function findIndexOf(o,i){let s=-1;return o.some((a,et)=>i(a)?(s=et,!0):!1),s}function handleContainer(o,i){const s=[],a=o.container;if(!i.disableScrollLock){if(isOverflowing(a)){const rt=getScrollbarSize(ownerDocument$1(a));s.push({value:a.style.paddingRight,property:"padding-right",el:a}),a.style.paddingRight=`${getPaddingRight(a)+rt}px`;const nt=ownerDocument$1(a).querySelectorAll(".mui-fixed");[].forEach.call(nt,it=>{s.push({value:it.style.paddingRight,property:"padding-right",el:it}),it.style.paddingRight=`${getPaddingRight(it)+rt}px`})}let tt;if(a.parentNode instanceof DocumentFragment)tt=ownerDocument$1(a).body;else{const rt=a.parentElement,nt=ownerWindow(a);tt=(rt==null?void 0:rt.nodeName)==="HTML"&&nt.getComputedStyle(rt).overflowY==="scroll"?rt:a}s.push({value:tt.style.overflow,property:"overflow",el:tt},{value:tt.style.overflowX,property:"overflow-x",el:tt},{value:tt.style.overflowY,property:"overflow-y",el:tt}),tt.style.overflow="hidden"}return()=>{s.forEach(({value:tt,el:rt,property:nt})=>{tt?rt.style.setProperty(nt,tt):rt.style.removeProperty(nt)})}}function getHiddenSiblings(o){const i=[];return[].forEach.call(o.children,s=>{s.getAttribute("aria-hidden")==="true"&&i.push(s)}),i}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(i,s){let a=this.modals.indexOf(i);if(a!==-1)return a;a=this.modals.length,this.modals.push(i),i.modalRef&&ariaHidden(i.modalRef,!1);const et=getHiddenSiblings(s);ariaHiddenSiblings(s,i.mount,i.modalRef,et,!0);const tt=findIndexOf(this.containers,rt=>rt.container===s);return tt!==-1?(this.containers[tt].modals.push(i),a):(this.containers.push({modals:[i],container:s,restore:null,hiddenSiblings:et}),a)}mount(i,s){const a=findIndexOf(this.containers,tt=>tt.modals.indexOf(i)!==-1),et=this.containers[a];et.restore||(et.restore=handleContainer(et,s))}remove(i,s=!0){const a=this.modals.indexOf(i);if(a===-1)return a;const et=findIndexOf(this.containers,rt=>rt.modals.indexOf(i)!==-1),tt=this.containers[et];if(tt.modals.splice(tt.modals.indexOf(i),1),this.modals.splice(a,1),tt.modals.length===0)tt.restore&&tt.restore(),i.modalRef&&ariaHidden(i.modalRef,s),ariaHiddenSiblings(tt.container,i.mount,i.modalRef,tt.hiddenSiblings,!1),this.containers.splice(et,1);else{const rt=tt.modals[tt.modals.length-1];rt.modalRef&&ariaHidden(rt.modalRef,!1)}return a}isTopModal(i){return this.modals.length>0&&this.modals[this.modals.length-1]===i}}function getContainer(o){return typeof o=="function"?o():o}function getHasTransition(o){return o?o.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager;function useModal(o){const{container:i,disableEscapeKeyDown:s=!1,disableScrollLock:a=!1,manager:et=defaultManager,closeAfterTransition:tt=!1,onTransitionEnter:rt,onTransitionExited:nt,children:it,onClose:ot,open:st,rootRef:lt}=o,at=reactExports.useRef({}),ut=reactExports.useRef(null),ft=reactExports.useRef(null),mt=useForkRef(ft,lt),[yt,ht]=reactExports.useState(!st),pt=getHasTransition(it);let ct=!0;(o["aria-hidden"]==="false"||o["aria-hidden"]===!1)&&(ct=!1);const gt=()=>ownerDocument$1(ut.current),Et=()=>(at.current.modalRef=ft.current,at.current.mount=ut.current,at.current),bt=()=>{et.mount(Et(),{disableScrollLock:a}),ft.current&&(ft.current.scrollTop=0)},xt=useEventCallback$1(()=>{const Dt=getContainer(i)||gt().body;et.add(Et(),Dt),ft.current&&bt()}),Tt=reactExports.useCallback(()=>et.isTopModal(Et()),[et]),wt=useEventCallback$1(Dt=>{ut.current=Dt,Dt&&(st&&Tt()?bt():ft.current&&ariaHidden(ft.current,ct))}),It=reactExports.useCallback(()=>{et.remove(Et(),ct)},[ct,et]);reactExports.useEffect(()=>()=>{It()},[It]),reactExports.useEffect(()=>{st?xt():(!pt||!tt)&&It()},[st,It,pt,tt,xt]);const At=Dt=>Ct=>{var St;(St=Dt.onKeyDown)==null||St.call(Dt,Ct),!(Ct.key!=="Escape"||Ct.which===229||!Tt())&&(s||(Ct.stopPropagation(),ot&&ot(Ct,"escapeKeyDown")))},kt=Dt=>Ct=>{var St;(St=Dt.onClick)==null||St.call(Dt,Ct),Ct.target===Ct.currentTarget&&ot&&ot(Ct,"backdropClick")};return{getRootProps:(Dt={})=>{const Ct=extractEventHandlers(o);delete Ct.onTransitionEnter,delete Ct.onTransitionExited;const St=_extends$1({},Ct,Dt);return _extends$1({role:"presentation"},St,{onKeyDown:At(St),ref:mt})},getBackdropProps:(Dt={})=>{const Ct=Dt;return _extends$1({"aria-hidden":!0},Ct,{onClick:kt(Ct),open:st})},getTransitionProps:()=>{const Dt=()=>{ht(!1),rt&&rt()},Ct=()=>{ht(!0),nt&&nt(),tt&&It()};return{onEnter:createChainedFunction(Dt,it==null?void 0:it.props.onEnter),onExited:createChainedFunction(Ct,it==null?void 0:it.props.onExited)}},rootRef:mt,portalRef:wt,isTopModal:Tt,exited:yt,hasTransition:pt}}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start="start",end="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(o,i){return o.concat([i+"-"+start,i+"-"+end])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(o,i){return o.concat([i,i+"-"+start,i+"-"+end])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(o){return o?(o.nodeName||"").toLowerCase():null}function getWindow(o){if(o==null)return window;if(o.toString()!=="[object Window]"){var i=o.ownerDocument;return i&&i.defaultView||window}return o}function isElement(o){var i=getWindow(o).Element;return o instanceof i||o instanceof Element}function isHTMLElement$1(o){var i=getWindow(o).HTMLElement;return o instanceof i||o instanceof HTMLElement}function isShadowRoot(o){if(typeof ShadowRoot>"u")return!1;var i=getWindow(o).ShadowRoot;return o instanceof i||o instanceof ShadowRoot}function applyStyles(o){var i=o.state;Object.keys(i.elements).forEach(function(s){var a=i.styles[s]||{},et=i.attributes[s]||{},tt=i.elements[s];!isHTMLElement$1(tt)||!getNodeName(tt)||(Object.assign(tt.style,a),Object.keys(et).forEach(function(rt){var nt=et[rt];nt===!1?tt.removeAttribute(rt):tt.setAttribute(rt,nt===!0?"":nt)}))})}function effect$2(o){var i=o.state,s={popper:{position:i.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(i.elements.popper.style,s.popper),i.styles=s,i.elements.arrow&&Object.assign(i.elements.arrow.style,s.arrow),function(){Object.keys(i.elements).forEach(function(a){var et=i.elements[a],tt=i.attributes[a]||{},rt=Object.keys(i.styles.hasOwnProperty(a)?i.styles[a]:s[a]),nt=rt.reduce(function(it,ot){return it[ot]="",it},{});!isHTMLElement$1(et)||!getNodeName(et)||(Object.assign(et.style,nt),Object.keys(tt).forEach(function(it){et.removeAttribute(it)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(o){return o.split("-")[0]}var max=Math.max,min=Math.min,round$2=Math.round;function getUAString(){var o=navigator.userAgentData;return o!=null&&o.brands&&Array.isArray(o.brands)?o.brands.map(function(i){return i.brand+"/"+i.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(o,i,s){i===void 0&&(i=!1),s===void 0&&(s=!1);var a=o.getBoundingClientRect(),et=1,tt=1;i&&isHTMLElement$1(o)&&(et=o.offsetWidth>0&&round$2(a.width)/o.offsetWidth||1,tt=o.offsetHeight>0&&round$2(a.height)/o.offsetHeight||1);var rt=isElement(o)?getWindow(o):window,nt=rt.visualViewport,it=!isLayoutViewport()&&s,ot=(a.left+(it&&nt?nt.offsetLeft:0))/et,st=(a.top+(it&&nt?nt.offsetTop:0))/tt,lt=a.width/et,at=a.height/tt;return{width:lt,height:at,top:st,right:ot+lt,bottom:st+at,left:ot,x:ot,y:st}}function getLayoutRect(o){var i=getBoundingClientRect(o),s=o.offsetWidth,a=o.offsetHeight;return Math.abs(i.width-s)<=1&&(s=i.width),Math.abs(i.height-a)<=1&&(a=i.height),{x:o.offsetLeft,y:o.offsetTop,width:s,height:a}}function contains$1(o,i){var s=i.getRootNode&&i.getRootNode();if(o.contains(i))return!0;if(s&&isShadowRoot(s)){var a=i;do{if(a&&o.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function getComputedStyle(o){return getWindow(o).getComputedStyle(o)}function isTableElement(o){return["table","td","th"].indexOf(getNodeName(o))>=0}function getDocumentElement(o){return((isElement(o)?o.ownerDocument:o.document)||window.document).documentElement}function getParentNode(o){return getNodeName(o)==="html"?o:o.assignedSlot||o.parentNode||(isShadowRoot(o)?o.host:null)||getDocumentElement(o)}function getTrueOffsetParent(o){return!isHTMLElement$1(o)||getComputedStyle(o).position==="fixed"?null:o.offsetParent}function getContainingBlock(o){var i=/firefox/i.test(getUAString()),s=/Trident/i.test(getUAString());if(s&&isHTMLElement$1(o)){var a=getComputedStyle(o);if(a.position==="fixed")return null}var et=getParentNode(o);for(isShadowRoot(et)&&(et=et.host);isHTMLElement$1(et)&&["html","body"].indexOf(getNodeName(et))<0;){var tt=getComputedStyle(et);if(tt.transform!=="none"||tt.perspective!=="none"||tt.contain==="paint"||["transform","perspective"].indexOf(tt.willChange)!==-1||i&&tt.willChange==="filter"||i&&tt.filter&&tt.filter!=="none")return et;et=et.parentNode}return null}function getOffsetParent(o){for(var i=getWindow(o),s=getTrueOffsetParent(o);s&&isTableElement(s)&&getComputedStyle(s).position==="static";)s=getTrueOffsetParent(s);return s&&(getNodeName(s)==="html"||getNodeName(s)==="body"&&getComputedStyle(s).position==="static")?i:s||getContainingBlock(o)||i}function getMainAxisFromPlacement(o){return["top","bottom"].indexOf(o)>=0?"x":"y"}function within(o,i,s){return max(o,min(i,s))}function withinMaxClamp(o,i,s){var a=within(o,i,s);return a>s?s:a}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(o){return Object.assign({},getFreshSideObject(),o)}function expandToHashMap(o,i){return i.reduce(function(s,a){return s[a]=o,s},{})}var toPaddingObject=function(i,s){return i=typeof i=="function"?i(Object.assign({},s.rects,{placement:s.placement})):i,mergePaddingObject(typeof i!="number"?i:expandToHashMap(i,basePlacements))};function arrow(o){var i,s=o.state,a=o.name,et=o.options,tt=s.elements.arrow,rt=s.modifiersData.popperOffsets,nt=getBasePlacement(s.placement),it=getMainAxisFromPlacement(nt),ot=[left,right].indexOf(nt)>=0,st=ot?"height":"width";if(!(!tt||!rt)){var lt=toPaddingObject(et.padding,s),at=getLayoutRect(tt),ut=it==="y"?top:left,ft=it==="y"?bottom:right,mt=s.rects.reference[st]+s.rects.reference[it]-rt[it]-s.rects.popper[st],yt=rt[it]-s.rects.reference[it],ht=getOffsetParent(tt),pt=ht?it==="y"?ht.clientHeight||0:ht.clientWidth||0:0,ct=mt/2-yt/2,gt=lt[ut],Et=pt-at[st]-lt[ft],bt=pt/2-at[st]/2+ct,xt=within(gt,bt,Et),Tt=it;s.modifiersData[a]=(i={},i[Tt]=xt,i.centerOffset=xt-bt,i)}}function effect$1(o){var i=o.state,s=o.options,a=s.element,et=a===void 0?"[data-popper-arrow]":a;et!=null&&(typeof et=="string"&&(et=i.elements.popper.querySelector(et),!et)||contains$1(i.elements.popper,et)&&(i.elements.arrow=et))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(o){return o.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(o,i){var s=o.x,a=o.y,et=i.devicePixelRatio||1;return{x:round$2(s*et)/et||0,y:round$2(a*et)/et||0}}function mapToStyles(o){var i,s=o.popper,a=o.popperRect,et=o.placement,tt=o.variation,rt=o.offsets,nt=o.position,it=o.gpuAcceleration,ot=o.adaptive,st=o.roundOffsets,lt=o.isFixed,at=rt.x,ut=at===void 0?0:at,ft=rt.y,mt=ft===void 0?0:ft,yt=typeof st=="function"?st({x:ut,y:mt}):{x:ut,y:mt};ut=yt.x,mt=yt.y;var ht=rt.hasOwnProperty("x"),pt=rt.hasOwnProperty("y"),ct=left,gt=top,Et=window;if(ot){var bt=getOffsetParent(s),xt="clientHeight",Tt="clientWidth";if(bt===getWindow(s)&&(bt=getDocumentElement(s),getComputedStyle(bt).position!=="static"&&nt==="absolute"&&(xt="scrollHeight",Tt="scrollWidth")),bt=bt,et===top||(et===left||et===right)&&tt===end){gt=bottom;var wt=lt&&bt===Et&&Et.visualViewport?Et.visualViewport.height:bt[xt];mt-=wt-a.height,mt*=it?1:-1}if(et===left||(et===top||et===bottom)&&tt===end){ct=right;var It=lt&&bt===Et&&Et.visualViewport?Et.visualViewport.width:bt[Tt];ut-=It-a.width,ut*=it?1:-1}}var At=Object.assign({position:nt},ot&&unsetSides),kt=st===!0?roundOffsetsByDPR({x:ut,y:mt},getWindow(s)):{x:ut,y:mt};if(ut=kt.x,mt=kt.y,it){var Vt;return Object.assign({},At,(Vt={},Vt[gt]=pt?"0":"",Vt[ct]=ht?"0":"",Vt.transform=(Et.devicePixelRatio||1)<=1?"translate("+ut+"px, "+mt+"px)":"translate3d("+ut+"px, "+mt+"px, 0)",Vt))}return Object.assign({},At,(i={},i[gt]=pt?mt+"px":"",i[ct]=ht?ut+"px":"",i.transform="",i))}function computeStyles(o){var i=o.state,s=o.options,a=s.gpuAcceleration,et=a===void 0?!0:a,tt=s.adaptive,rt=tt===void 0?!0:tt,nt=s.roundOffsets,it=nt===void 0?!0:nt,ot={placement:getBasePlacement(i.placement),variation:getVariation(i.placement),popper:i.elements.popper,popperRect:i.rects.popper,gpuAcceleration:et,isFixed:i.options.strategy==="fixed"};i.modifiersData.popperOffsets!=null&&(i.styles.popper=Object.assign({},i.styles.popper,mapToStyles(Object.assign({},ot,{offsets:i.modifiersData.popperOffsets,position:i.options.strategy,adaptive:rt,roundOffsets:it})))),i.modifiersData.arrow!=null&&(i.styles.arrow=Object.assign({},i.styles.arrow,mapToStyles(Object.assign({},ot,{offsets:i.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:it})))),i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-placement":i.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(o){var i=o.state,s=o.instance,a=o.options,et=a.scroll,tt=et===void 0?!0:et,rt=a.resize,nt=rt===void 0?!0:rt,it=getWindow(i.elements.popper),ot=[].concat(i.scrollParents.reference,i.scrollParents.popper);return tt&&ot.forEach(function(st){st.addEventListener("scroll",s.update,passive)}),nt&&it.addEventListener("resize",s.update,passive),function(){tt&&ot.forEach(function(st){st.removeEventListener("scroll",s.update,passive)}),nt&&it.removeEventListener("resize",s.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(o){return o.replace(/left|right|bottom|top/g,function(i){return hash$1[i]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(o){return o.replace(/start|end/g,function(i){return hash[i]})}function getWindowScroll(o){var i=getWindow(o),s=i.pageXOffset,a=i.pageYOffset;return{scrollLeft:s,scrollTop:a}}function getWindowScrollBarX(o){return getBoundingClientRect(getDocumentElement(o)).left+getWindowScroll(o).scrollLeft}function getViewportRect(o,i){var s=getWindow(o),a=getDocumentElement(o),et=s.visualViewport,tt=a.clientWidth,rt=a.clientHeight,nt=0,it=0;if(et){tt=et.width,rt=et.height;var ot=isLayoutViewport();(ot||!ot&&i==="fixed")&&(nt=et.offsetLeft,it=et.offsetTop)}return{width:tt,height:rt,x:nt+getWindowScrollBarX(o),y:it}}function getDocumentRect(o){var i,s=getDocumentElement(o),a=getWindowScroll(o),et=(i=o.ownerDocument)==null?void 0:i.body,tt=max(s.scrollWidth,s.clientWidth,et?et.scrollWidth:0,et?et.clientWidth:0),rt=max(s.scrollHeight,s.clientHeight,et?et.scrollHeight:0,et?et.clientHeight:0),nt=-a.scrollLeft+getWindowScrollBarX(o),it=-a.scrollTop;return getComputedStyle(et||s).direction==="rtl"&&(nt+=max(s.clientWidth,et?et.clientWidth:0)-tt),{width:tt,height:rt,x:nt,y:it}}function isScrollParent(o){var i=getComputedStyle(o),s=i.overflow,a=i.overflowX,et=i.overflowY;return/auto|scroll|overlay|hidden/.test(s+et+a)}function getScrollParent(o){return["html","body","#document"].indexOf(getNodeName(o))>=0?o.ownerDocument.body:isHTMLElement$1(o)&&isScrollParent(o)?o:getScrollParent(getParentNode(o))}function listScrollParents(o,i){var s;i===void 0&&(i=[]);var a=getScrollParent(o),et=a===((s=o.ownerDocument)==null?void 0:s.body),tt=getWindow(a),rt=et?[tt].concat(tt.visualViewport||[],isScrollParent(a)?a:[]):a,nt=i.concat(rt);return et?nt:nt.concat(listScrollParents(getParentNode(rt)))}function rectToClientRect(o){return Object.assign({},o,{left:o.x,top:o.y,right:o.x+o.width,bottom:o.y+o.height})}function getInnerBoundingClientRect(o,i){var s=getBoundingClientRect(o,!1,i==="fixed");return s.top=s.top+o.clientTop,s.left=s.left+o.clientLeft,s.bottom=s.top+o.clientHeight,s.right=s.left+o.clientWidth,s.width=o.clientWidth,s.height=o.clientHeight,s.x=s.left,s.y=s.top,s}function getClientRectFromMixedType(o,i,s){return i===viewport?rectToClientRect(getViewportRect(o,s)):isElement(i)?getInnerBoundingClientRect(i,s):rectToClientRect(getDocumentRect(getDocumentElement(o)))}function getClippingParents(o){var i=listScrollParents(getParentNode(o)),s=["absolute","fixed"].indexOf(getComputedStyle(o).position)>=0,a=s&&isHTMLElement$1(o)?getOffsetParent(o):o;return isElement(a)?i.filter(function(et){return isElement(et)&&contains$1(et,a)&&getNodeName(et)!=="body"}):[]}function getClippingRect(o,i,s,a){var et=i==="clippingParents"?getClippingParents(o):[].concat(i),tt=[].concat(et,[s]),rt=tt[0],nt=tt.reduce(function(it,ot){var st=getClientRectFromMixedType(o,ot,a);return it.top=max(st.top,it.top),it.right=min(st.right,it.right),it.bottom=min(st.bottom,it.bottom),it.left=max(st.left,it.left),it},getClientRectFromMixedType(o,rt,a));return nt.width=nt.right-nt.left,nt.height=nt.bottom-nt.top,nt.x=nt.left,nt.y=nt.top,nt}function computeOffsets(o){var i=o.reference,s=o.element,a=o.placement,et=a?getBasePlacement(a):null,tt=a?getVariation(a):null,rt=i.x+i.width/2-s.width/2,nt=i.y+i.height/2-s.height/2,it;switch(et){case top:it={x:rt,y:i.y-s.height};break;case bottom:it={x:rt,y:i.y+i.height};break;case right:it={x:i.x+i.width,y:nt};break;case left:it={x:i.x-s.width,y:nt};break;default:it={x:i.x,y:i.y}}var ot=et?getMainAxisFromPlacement(et):null;if(ot!=null){var st=ot==="y"?"height":"width";switch(tt){case start:it[ot]=it[ot]-(i[st]/2-s[st]/2);break;case end:it[ot]=it[ot]+(i[st]/2-s[st]/2);break}}return it}function detectOverflow(o,i){i===void 0&&(i={});var s=i,a=s.placement,et=a===void 0?o.placement:a,tt=s.strategy,rt=tt===void 0?o.strategy:tt,nt=s.boundary,it=nt===void 0?clippingParents:nt,ot=s.rootBoundary,st=ot===void 0?viewport:ot,lt=s.elementContext,at=lt===void 0?popper:lt,ut=s.altBoundary,ft=ut===void 0?!1:ut,mt=s.padding,yt=mt===void 0?0:mt,ht=mergePaddingObject(typeof yt!="number"?yt:expandToHashMap(yt,basePlacements)),pt=at===popper?reference:popper,ct=o.rects.popper,gt=o.elements[ft?pt:at],Et=getClippingRect(isElement(gt)?gt:gt.contextElement||getDocumentElement(o.elements.popper),it,st,rt),bt=getBoundingClientRect(o.elements.reference),xt=computeOffsets({reference:bt,element:ct,strategy:"absolute",placement:et}),Tt=rectToClientRect(Object.assign({},ct,xt)),wt=at===popper?Tt:bt,It={top:Et.top-wt.top+ht.top,bottom:wt.bottom-Et.bottom+ht.bottom,left:Et.left-wt.left+ht.left,right:wt.right-Et.right+ht.right},At=o.modifiersData.offset;if(at===popper&&At){var kt=At[et];Object.keys(It).forEach(function(Vt){var Mt=[right,bottom].indexOf(Vt)>=0?1:-1,Ot=[top,bottom].indexOf(Vt)>=0?"y":"x";It[Vt]+=kt[Ot]*Mt})}return It}function computeAutoPlacement(o,i){i===void 0&&(i={});var s=i,a=s.placement,et=s.boundary,tt=s.rootBoundary,rt=s.padding,nt=s.flipVariations,it=s.allowedAutoPlacements,ot=it===void 0?placements:it,st=getVariation(a),lt=st?nt?variationPlacements:variationPlacements.filter(function(ft){return getVariation(ft)===st}):basePlacements,at=lt.filter(function(ft){return ot.indexOf(ft)>=0});at.length===0&&(at=lt);var ut=at.reduce(function(ft,mt){return ft[mt]=detectOverflow(o,{placement:mt,boundary:et,rootBoundary:tt,padding:rt})[getBasePlacement(mt)],ft},{});return Object.keys(ut).sort(function(ft,mt){return ut[ft]-ut[mt]})}function getExpandedFallbackPlacements(o){if(getBasePlacement(o)===auto)return[];var i=getOppositePlacement(o);return[getOppositeVariationPlacement(o),i,getOppositeVariationPlacement(i)]}function flip(o){var i=o.state,s=o.options,a=o.name;if(!i.modifiersData[a]._skip){for(var et=s.mainAxis,tt=et===void 0?!0:et,rt=s.altAxis,nt=rt===void 0?!0:rt,it=s.fallbackPlacements,ot=s.padding,st=s.boundary,lt=s.rootBoundary,at=s.altBoundary,ut=s.flipVariations,ft=ut===void 0?!0:ut,mt=s.allowedAutoPlacements,yt=i.options.placement,ht=getBasePlacement(yt),pt=ht===yt,ct=it||(pt||!ft?[getOppositePlacement(yt)]:getExpandedFallbackPlacements(yt)),gt=[yt].concat(ct).reduce(function(zt,Gt){return zt.concat(getBasePlacement(Gt)===auto?computeAutoPlacement(i,{placement:Gt,boundary:st,rootBoundary:lt,padding:ot,flipVariations:ft,allowedAutoPlacements:mt}):Gt)},[]),Et=i.rects.reference,bt=i.rects.popper,xt=new Map,Tt=!0,wt=gt[0],It=0;It<gt.length;It++){var At=gt[It],kt=getBasePlacement(At),Vt=getVariation(At)===start,Mt=[top,bottom].indexOf(kt)>=0,Ot=Mt?"width":"height",Dt=detectOverflow(i,{placement:At,boundary:st,rootBoundary:lt,altBoundary:at,padding:ot}),Ct=Mt?Vt?right:left:Vt?bottom:top;Et[Ot]>bt[Ot]&&(Ct=getOppositePlacement(Ct));var St=getOppositePlacement(Ct),$t=[];if(tt&&$t.push(Dt[kt]<=0),nt&&$t.push(Dt[Ct]<=0,Dt[St]<=0),$t.every(function(zt){return zt})){wt=At,Tt=!1;break}xt.set(At,$t)}if(Tt)for(var Lt=ft?3:1,Rt=function(Gt){var Bt=gt.find(function(Wt){var Kt=xt.get(Wt);if(Kt)return Kt.slice(0,Gt).every(function(Qt){return Qt})});if(Bt)return wt=Bt,"break"},jt=Lt;jt>0;jt--){var Ft=Rt(jt);if(Ft==="break")break}i.placement!==wt&&(i.modifiersData[a]._skip=!0,i.placement=wt,i.reset=!0)}}const flip$1={name:"flip",enabled:!0,phase:"main",fn:flip,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(o,i,s){return s===void 0&&(s={x:0,y:0}),{top:o.top-i.height-s.y,right:o.right-i.width+s.x,bottom:o.bottom-i.height+s.y,left:o.left-i.width-s.x}}function isAnySideFullyClipped(o){return[top,right,bottom,left].some(function(i){return o[i]>=0})}function hide(o){var i=o.state,s=o.name,a=i.rects.reference,et=i.rects.popper,tt=i.modifiersData.preventOverflow,rt=detectOverflow(i,{elementContext:"reference"}),nt=detectOverflow(i,{altBoundary:!0}),it=getSideOffsets(rt,a),ot=getSideOffsets(nt,et,tt),st=isAnySideFullyClipped(it),lt=isAnySideFullyClipped(ot);i.modifiersData[s]={referenceClippingOffsets:it,popperEscapeOffsets:ot,isReferenceHidden:st,hasPopperEscaped:lt},i.attributes.popper=Object.assign({},i.attributes.popper,{"data-popper-reference-hidden":st,"data-popper-escaped":lt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(o,i,s){var a=getBasePlacement(o),et=[left,top].indexOf(a)>=0?-1:1,tt=typeof s=="function"?s(Object.assign({},i,{placement:o})):s,rt=tt[0],nt=tt[1];return rt=rt||0,nt=(nt||0)*et,[left,right].indexOf(a)>=0?{x:nt,y:rt}:{x:rt,y:nt}}function offset(o){var i=o.state,s=o.options,a=o.name,et=s.offset,tt=et===void 0?[0,0]:et,rt=placements.reduce(function(st,lt){return st[lt]=distanceAndSkiddingToXY(lt,i.rects,tt),st},{}),nt=rt[i.placement],it=nt.x,ot=nt.y;i.modifiersData.popperOffsets!=null&&(i.modifiersData.popperOffsets.x+=it,i.modifiersData.popperOffsets.y+=ot),i.modifiersData[a]=rt}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(o){var i=o.state,s=o.name;i.modifiersData[s]=computeOffsets({reference:i.rects.reference,element:i.rects.popper,strategy:"absolute",placement:i.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(o){return o==="x"?"y":"x"}function preventOverflow(o){var i=o.state,s=o.options,a=o.name,et=s.mainAxis,tt=et===void 0?!0:et,rt=s.altAxis,nt=rt===void 0?!1:rt,it=s.boundary,ot=s.rootBoundary,st=s.altBoundary,lt=s.padding,at=s.tether,ut=at===void 0?!0:at,ft=s.tetherOffset,mt=ft===void 0?0:ft,yt=detectOverflow(i,{boundary:it,rootBoundary:ot,padding:lt,altBoundary:st}),ht=getBasePlacement(i.placement),pt=getVariation(i.placement),ct=!pt,gt=getMainAxisFromPlacement(ht),Et=getAltAxis(gt),bt=i.modifiersData.popperOffsets,xt=i.rects.reference,Tt=i.rects.popper,wt=typeof mt=="function"?mt(Object.assign({},i.rects,{placement:i.placement})):mt,It=typeof wt=="number"?{mainAxis:wt,altAxis:wt}:Object.assign({mainAxis:0,altAxis:0},wt),At=i.modifiersData.offset?i.modifiersData.offset[i.placement]:null,kt={x:0,y:0};if(bt){if(tt){var Vt,Mt=gt==="y"?top:left,Ot=gt==="y"?bottom:right,Dt=gt==="y"?"height":"width",Ct=bt[gt],St=Ct+yt[Mt],$t=Ct-yt[Ot],Lt=ut?-Tt[Dt]/2:0,Rt=pt===start?xt[Dt]:Tt[Dt],jt=pt===start?-Tt[Dt]:-xt[Dt],Ft=i.elements.arrow,zt=ut&&Ft?getLayoutRect(Ft):{width:0,height:0},Gt=i.modifiersData["arrow#persistent"]?i.modifiersData["arrow#persistent"].padding:getFreshSideObject(),Bt=Gt[Mt],Wt=Gt[Ot],Kt=within(0,xt[Dt],zt[Dt]),Qt=ct?xt[Dt]/2-Lt-Kt-Bt-It.mainAxis:Rt-Kt-Bt-It.mainAxis,Xt=ct?-xt[Dt]/2+Lt+Kt+Wt+It.mainAxis:jt+Kt+Wt+It.mainAxis,er=i.elements.arrow&&getOffsetParent(i.elements.arrow),sr=er?gt==="y"?er.clientTop||0:er.clientLeft||0:0,ur=(Vt=At==null?void 0:At[gt])!=null?Vt:0,nr=Ct+Qt-ur-sr,yr=Ct+Xt-ur,Ar=within(ut?min(St,nr):St,Ct,ut?max($t,yr):$t);bt[gt]=Ar,kt[gt]=Ar-Ct}if(nt){var Er,lr=gt==="x"?top:left,dr=gt==="x"?bottom:right,pr=bt[Et],ar=Et==="y"?"height":"width",mr=pr+yt[lr],wr=pr-yt[dr],Sr=[top,left].indexOf(ht)!==-1,Or=(Er=At==null?void 0:At[Et])!=null?Er:0,Ur=Sr?mr:pr-xt[ar]-Tt[ar]-Or+It.altAxis,zr=Sr?pr+xt[ar]+Tt[ar]-Or-It.altAxis:wr,Vr=ut&&Sr?withinMaxClamp(Ur,pr,zr):within(ut?Ur:mr,pr,ut?zr:wr);bt[Et]=Vr,kt[Et]=Vr-pr}i.modifiersData[a]=kt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(o){return{scrollLeft:o.scrollLeft,scrollTop:o.scrollTop}}function getNodeScroll(o){return o===getWindow(o)||!isHTMLElement$1(o)?getWindowScroll(o):getHTMLElementScroll(o)}function isElementScaled(o){var i=o.getBoundingClientRect(),s=round$2(i.width)/o.offsetWidth||1,a=round$2(i.height)/o.offsetHeight||1;return s!==1||a!==1}function getCompositeRect(o,i,s){s===void 0&&(s=!1);var a=isHTMLElement$1(i),et=isHTMLElement$1(i)&&isElementScaled(i),tt=getDocumentElement(i),rt=getBoundingClientRect(o,et,s),nt={scrollLeft:0,scrollTop:0},it={x:0,y:0};return(a||!a&&!s)&&((getNodeName(i)!=="body"||isScrollParent(tt))&&(nt=getNodeScroll(i)),isHTMLElement$1(i)?(it=getBoundingClientRect(i,!0),it.x+=i.clientLeft,it.y+=i.clientTop):tt&&(it.x=getWindowScrollBarX(tt))),{x:rt.left+nt.scrollLeft-it.x,y:rt.top+nt.scrollTop-it.y,width:rt.width,height:rt.height}}function order(o){var i=new Map,s=new Set,a=[];o.forEach(function(tt){i.set(tt.name,tt)});function et(tt){s.add(tt.name);var rt=[].concat(tt.requires||[],tt.requiresIfExists||[]);rt.forEach(function(nt){if(!s.has(nt)){var it=i.get(nt);it&&et(it)}}),a.push(tt)}return o.forEach(function(tt){s.has(tt.name)||et(tt)}),a}function orderModifiers(o){var i=order(o);return modifierPhases.reduce(function(s,a){return s.concat(i.filter(function(et){return et.phase===a}))},[])}function debounce$1(o){var i;return function(){return i||(i=new Promise(function(s){Promise.resolve().then(function(){i=void 0,s(o())})})),i}}function mergeByName(o){var i=o.reduce(function(s,a){var et=s[a.name];return s[a.name]=et?Object.assign({},et,a,{options:Object.assign({},et.options,a.options),data:Object.assign({},et.data,a.data)}):a,s},{});return Object.keys(i).map(function(s){return i[s]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var o=arguments.length,i=new Array(o),s=0;s<o;s++)i[s]=arguments[s];return!i.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function popperGenerator(o){o===void 0&&(o={});var i=o,s=i.defaultModifiers,a=s===void 0?[]:s,et=i.defaultOptions,tt=et===void 0?DEFAULT_OPTIONS:et;return function(nt,it,ot){ot===void 0&&(ot=tt);var st={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,tt),modifiersData:{},elements:{reference:nt,popper:it},attributes:{},styles:{}},lt=[],at=!1,ut={state:st,setOptions:function(ht){var pt=typeof ht=="function"?ht(st.options):ht;mt(),st.options=Object.assign({},tt,st.options,pt),st.scrollParents={reference:isElement(nt)?listScrollParents(nt):nt.contextElement?listScrollParents(nt.contextElement):[],popper:listScrollParents(it)};var ct=orderModifiers(mergeByName([].concat(a,st.options.modifiers)));return st.orderedModifiers=ct.filter(function(gt){return gt.enabled}),ft(),ut.update()},forceUpdate:function(){if(!at){var ht=st.elements,pt=ht.reference,ct=ht.popper;if(areValidElements(pt,ct)){st.rects={reference:getCompositeRect(pt,getOffsetParent(ct),st.options.strategy==="fixed"),popper:getLayoutRect(ct)},st.reset=!1,st.placement=st.options.placement,st.orderedModifiers.forEach(function(It){return st.modifiersData[It.name]=Object.assign({},It.data)});for(var gt=0;gt<st.orderedModifiers.length;gt++){if(st.reset===!0){st.reset=!1,gt=-1;continue}var Et=st.orderedModifiers[gt],bt=Et.fn,xt=Et.options,Tt=xt===void 0?{}:xt,wt=Et.name;typeof bt=="function"&&(st=bt({state:st,options:Tt,name:wt,instance:ut})||st)}}}},update:debounce$1(function(){return new Promise(function(yt){ut.forceUpdate(),yt(st)})}),destroy:function(){mt(),at=!0}};if(!areValidElements(nt,it))return ut;ut.setOptions(ot).then(function(yt){!at&&ot.onFirstUpdate&&ot.onFirstUpdate(yt)});function ft(){st.orderedModifiers.forEach(function(yt){var ht=yt.name,pt=yt.options,ct=pt===void 0?{}:pt,gt=yt.effect;if(typeof gt=="function"){var Et=gt({state:st,name:ht,instance:ut,options:ct}),bt=function(){};lt.push(Et||bt)}})}function mt(){lt.forEach(function(yt){return yt()}),lt=[]}return ut}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$1,preventOverflow$1,arrow$1,hide$1],createPopper$1=popperGenerator({defaultModifiers});const COMPONENT_NAME="Popper";function getPopperUtilityClass(o){return generateUtilityClass(COMPONENT_NAME,o)}generateUtilityClasses(COMPONENT_NAME,["root"]);const _excluded$15=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],_excluded2$6=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(o,i){if(i==="ltr")return o;switch(o){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return o}}function resolveAnchorEl$1(o){return typeof o=="function"?o():o}function isHTMLElement(o){return o.nodeType!==void 0}const useUtilityClasses$O=()=>composeClasses({root:["root"]},useClassNamesOverride(getPopperUtilityClass)),defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(i,s){var a;const{anchorEl:et,children:tt,direction:rt,disablePortal:nt,modifiers:it,open:ot,placement:st,popperOptions:lt,popperRef:at,slotProps:ut={},slots:ft={},TransitionProps:mt}=i,yt=_objectWithoutPropertiesLoose$6(i,_excluded$15),ht=reactExports.useRef(null),pt=useForkRef(ht,s),ct=reactExports.useRef(null),gt=useForkRef(ct,at),Et=reactExports.useRef(gt);useEnhancedEffect(()=>{Et.current=gt},[gt]),reactExports.useImperativeHandle(at,()=>ct.current,[]);const bt=flipPlacement(st,rt),[xt,Tt]=reactExports.useState(bt),[wt,It]=reactExports.useState(resolveAnchorEl$1(et));reactExports.useEffect(()=>{ct.current&&ct.current.forceUpdate()}),reactExports.useEffect(()=>{et&&It(resolveAnchorEl$1(et))},[et]),useEnhancedEffect(()=>{if(!wt||!ot)return;const Ot=St=>{Tt(St.placement)};let Dt=[{name:"preventOverflow",options:{altBoundary:nt}},{name:"flip",options:{altBoundary:nt}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:St})=>{Ot(St)}}];it!=null&&(Dt=Dt.concat(it)),lt&&lt.modifiers!=null&&(Dt=Dt.concat(lt.modifiers));const Ct=createPopper$1(wt,ht.current,_extends$1({placement:bt},lt,{modifiers:Dt}));return Et.current(Ct),()=>{Ct.destroy(),Et.current(null)}},[wt,nt,it,ot,lt,bt]);const At={placement:xt};mt!==null&&(At.TransitionProps=mt);const kt=useUtilityClasses$O(),Vt=(a=ft.root)!=null?a:"div",Mt=useSlotProps({elementType:Vt,externalSlotProps:ut.root,externalForwardedProps:yt,additionalProps:{role:"tooltip",ref:pt},ownerState:i,className:kt.root});return jsxRuntimeExports.jsx(Vt,_extends$1({},Mt,{children:typeof tt=="function"?tt(At):tt}))}),Popper$2=reactExports.forwardRef(function(i,s){const{anchorEl:a,children:et,container:tt,direction:rt="ltr",disablePortal:nt=!1,keepMounted:it=!1,modifiers:ot,open:st,placement:lt="bottom",popperOptions:at=defaultPopperOptions,popperRef:ut,style:ft,transition:mt=!1,slotProps:yt={},slots:ht={}}=i,pt=_objectWithoutPropertiesLoose$6(i,_excluded2$6),[ct,gt]=reactExports.useState(!0),Et=()=>{gt(!1)},bt=()=>{gt(!0)};if(!it&&!st&&(!mt||ct))return null;let xt;if(tt)xt=tt;else if(a){const It=resolveAnchorEl$1(a);xt=It&&isHTMLElement(It)?ownerDocument$1(It).body:ownerDocument$1(null).body}const Tt=!st&&it&&(!mt||ct)?"none":void 0,wt=mt?{in:st,onEnter:Et,onExited:bt}:void 0;return jsxRuntimeExports.jsx(Portal,{disablePortal:nt,container:xt,children:jsxRuntimeExports.jsx(PopperTooltip,_extends$1({anchorEl:a,direction:rt,disablePortal:nt,modifiers:ot,ref:s,open:mt?!ct:st,placement:lt,popperOptions:at,popperRef:ut,slotProps:yt,slots:ht},pt,{style:_extends$1({position:"fixed",top:0,left:0,display:Tt},ft),TransitionProps:wt,children:et}))})}),_excluded$14=["onChange","maxRows","minRows","style","value"];function getStyleValue(o){return parseInt(o,10)||0}const styles$2={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$1(o){return o==null||Object.keys(o).length===0||o.outerHeightStyle===0&&!o.overflow}const TextareaAutosize=reactExports.forwardRef(function(i,s){const{onChange:a,maxRows:et,minRows:tt=1,style:rt,value:nt}=i,it=_objectWithoutPropertiesLoose$6(i,_excluded$14),{current:ot}=reactExports.useRef(nt!=null),st=reactExports.useRef(null),lt=useForkRef(s,st),at=reactExports.useRef(null),ut=reactExports.useRef(0),[ft,mt]=reactExports.useState({outerHeightStyle:0}),yt=reactExports.useCallback(()=>{const gt=st.current,bt=ownerWindow(gt).getComputedStyle(gt);if(bt.width==="0px")return{outerHeightStyle:0};const xt=at.current;xt.style.width=bt.width,xt.value=gt.value||i.placeholder||"x",xt.value.slice(-1)===`
`&&(xt.value+=" ");const Tt=bt.boxSizing,wt=getStyleValue(bt.paddingBottom)+getStyleValue(bt.paddingTop),It=getStyleValue(bt.borderBottomWidth)+getStyleValue(bt.borderTopWidth),At=xt.scrollHeight;xt.value="x";const kt=xt.scrollHeight;let Vt=At;tt&&(Vt=Math.max(Number(tt)*kt,Vt)),et&&(Vt=Math.min(Number(et)*kt,Vt)),Vt=Math.max(Vt,kt);const Mt=Vt+(Tt==="border-box"?wt+It:0),Ot=Math.abs(Vt-At)<=1;return{outerHeightStyle:Mt,overflow:Ot}},[et,tt,i.placeholder]),ht=(gt,Et)=>{const{outerHeightStyle:bt,overflow:xt}=Et;return ut.current<20&&(bt>0&&Math.abs((gt.outerHeightStyle||0)-bt)>1||gt.overflow!==xt)?(ut.current+=1,{overflow:xt,outerHeightStyle:bt}):gt},pt=reactExports.useCallback(()=>{const gt=yt();isEmpty$1(gt)||mt(Et=>ht(Et,gt))},[yt]);useEnhancedEffect(()=>{const gt=()=>{const At=yt();isEmpty$1(At)||reactDomExports.flushSync(()=>{mt(kt=>ht(kt,At))})},Et=()=>{ut.current=0,gt()};let bt;const xt=debounce$2(Et),Tt=st.current,wt=ownerWindow(Tt);wt.addEventListener("resize",xt);let It;return typeof ResizeObserver<"u"&&(It=new ResizeObserver(Et),It.observe(Tt)),()=>{xt.clear(),cancelAnimationFrame(bt),wt.removeEventListener("resize",xt),It&&It.disconnect()}},[yt]),useEnhancedEffect(()=>{pt()}),reactExports.useEffect(()=>{ut.current=0},[nt]);const ct=gt=>{ut.current=0,ot||pt(),a&&a(gt)};return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx("textarea",_extends$1({value:nt,onChange:ct,ref:lt,rows:tt,style:_extends$1({height:ft.outerHeightStyle,overflow:ft.overflow?"hidden":void 0},rt)},it)),jsxRuntimeExports.jsx("textarea",{"aria-hidden":!0,className:i.className,readOnly:!0,ref:at,tabIndex:-1,style:_extends$1({},styles$2.shadow,rt,{paddingTop:0,paddingBottom:0})})]})}),_excluded$13=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],_excluded2$5=["component","slots","slotProps"],_excluded3$1=["component"];function useSlot(o,i){const{className:s,elementType:a,ownerState:et,externalForwardedProps:tt,getSlotOwnerState:rt,internalForwardedProps:nt}=i,it=_objectWithoutPropertiesLoose$6(i,_excluded$13),{component:ot,slots:st={[o]:void 0},slotProps:lt={[o]:void 0}}=tt,at=_objectWithoutPropertiesLoose$6(tt,_excluded2$5),ut=st[o]||a,ft=resolveComponentProps(lt[o],et),mt=mergeSlotProps(_extends$1({className:s},it,{externalForwardedProps:o==="root"?at:void 0,externalSlotProps:ft})),{props:{component:yt},internalRef:ht}=mt,pt=_objectWithoutPropertiesLoose$6(mt.props,_excluded3$1),ct=useForkRef(ht,ft==null?void 0:ft.ref,i.ref),gt=rt?rt(pt):{},Et=_extends$1({},et,gt),bt=o==="root"?yt||ot:yt,xt=appendOwnerState(ut,_extends$1({},o==="root"&&!ot&&!st[o]&&nt,o!=="root"&&!st[o]&&nt,pt,bt&&{as:bt},{ref:ct}),Et);return Object.keys(gt).forEach(Tt=>{delete xt[Tt]}),[ut,xt]}const listItemClasses$2=generateUtilityClasses$1("MuiListItem",["root","startAction","endAction","nested","nesting","sticky","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]),listItemClasses$3=listItemClasses$2,NestedListContext=reactExports.createContext(!1),NestedListContext$1=NestedListContext,RowListContext=reactExports.createContext(!1),WrapListContext=reactExports.createContext(!1),WrapListContext$1=WrapListContext,GroupListContext=reactExports.createContext(void 0),scopedVariables={"--NestedList-marginRight":"0px","--NestedList-marginLeft":"0px","--NestedListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px"};function ListProvider(o){const{children:i,nested:s,row:a=!1,wrap:et=!1}=o,tt=jsxRuntimeExports.jsx(RowListContext.Provider,{value:a,children:jsxRuntimeExports.jsx(WrapListContext$1.Provider,{value:et,children:reactExports.Children.map(i,(rt,nt)=>reactExports.isValidElement(rt)?reactExports.cloneElement(rt,_extends$1({},nt===0&&{"data-first-child":""},nt===reactExports.Children.count(i)-1&&{"data-last-child":""})):rt)})});return s===void 0?tt:jsxRuntimeExports.jsx(NestedListContext$1.Provider,{value:s,children:tt})}const resolveSxValue=({theme:o,ownerState:i},s)=>{let a={};function et(tt){if(typeof tt=="function"){const rt=tt(o);et(rt)}else Array.isArray(tt)?tt.forEach(rt=>{typeof rt!="boolean"&&et(rt)}):typeof tt=="object"&&(a=_extends$1({},a,tt))}return i.sx&&(et(i.sx),s.forEach(tt=>{const rt=a[tt];if(typeof rt=="string"||typeof rt=="number")if(tt==="borderRadius")if(typeof rt=="number")a[tt]=`${rt}px`;else{var nt;a[tt]=((nt=o.vars)==null?void 0:nt.radius[rt])||rt}else["p","padding","m","margin"].indexOf(tt)!==-1&&typeof rt=="number"?a[tt]=o.spacing(rt):a[tt]=rt;else typeof rt=="function"?a[tt]=rt(o):a[tt]=void 0})),a},StyledList=styled$1("ul")(({theme:o,ownerState:i})=>{var s;const{p:a,padding:et,borderRadius:tt}=resolveSxValue({theme:o,ownerState:i},["p","padding","borderRadius"]);function rt(nt){return nt==="sm"?{"--ListDivider-gap":"0.25rem","--ListItem-minHeight":"2rem","--ListItem-paddingY":"3px","--ListItem-paddingX":i.marker?"3px":"0.5rem","--ListItem-gap":"0.5rem","--ListItemDecorator-size":i.orientation==="horizontal"?"1.5rem":"2rem","--Icon-fontSize":o.vars.fontSize.lg}:nt==="md"?{"--ListDivider-gap":"0.375rem","--ListItem-minHeight":"2.25rem","--ListItem-paddingY":"0.25rem","--ListItem-paddingX":i.marker?"0.25rem":"0.75rem","--ListItem-gap":"0.625rem","--ListItemDecorator-size":i.orientation==="horizontal"?"1.75rem":"2.5rem","--Icon-fontSize":o.vars.fontSize.xl}:nt==="lg"?{"--ListDivider-gap":"0.5rem","--ListItem-minHeight":"2.75rem","--ListItem-paddingY":"0.375rem","--ListItem-paddingX":i.marker?"0.5rem":"1rem","--ListItem-gap":"0.75rem","--ListItemDecorator-size":i.orientation==="horizontal"?"2.25rem":"3rem","--Icon-fontSize":o.vars.fontSize.xl2}:{}}return[i.nesting&&_extends$1({},rt(i.instanceSize),{"--ListItem-paddingRight":"var(--ListItem-paddingX)","--ListItem-paddingLeft":"var(--NestedListItem-paddingLeft)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px",padding:0},i.marker&&{paddingInlineStart:"calc(3ch - var(--_List-markerDeduct, 0px))"},{marginInlineStart:"var(--NestedList-marginLeft)",marginInlineEnd:"var(--NestedList-marginRight)",marginBlockStart:"var(--List-gap)",marginBlockEnd:"initial"}),!i.nesting&&_extends$1({},rt(i.size),{"--List-gap":"0px","--List-nestedInsetStart":"0px","--ListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItem-paddingRight":"var(--ListItem-paddingX)"},i.marker&&{"--_List-markerDeduct":"1ch"},{"--unstable_List-childRadius":"calc(max(var(--List-radius) - var(--List-padding), min(var(--List-padding) / 2, var(--List-radius) / 2)) - var(--variant-borderWidth, 0px))","--ListItem-radius":"var(--unstable_List-childRadius)","--ListItem-startActionTranslateX":"calc(0.5 * var(--ListItem-paddingLeft))","--ListItem-endActionTranslateX":"calc(-0.5 * var(--ListItem-paddingRight))",margin:"initial"},o.typography[`body-${i.size}`],i.orientation==="horizontal"?_extends$1({},i.wrap?{padding:"var(--List-padding)",marginInlineStart:"calc(-1 * var(--List-gap))",marginBlockStart:"calc(-1 * var(--List-gap))"}:{paddingInline:"var(--List-padding, var(--ListDivider-gap))",paddingBlock:"var(--List-padding)"}):{paddingBlock:"var(--List-padding, var(--ListDivider-gap))",paddingInline:"var(--List-padding)"},i.marker&&{paddingInlineStart:"3ch"}),_extends$1({boxSizing:"border-box",borderRadius:"var(--List-radius)",listStyle:"none",display:"flex",flexDirection:i.orientation==="horizontal"?"row":"column"},i.wrap&&{flexWrap:"wrap"},i.marker&&{"--_List-markerDisplay":"list-item","--_List-markerType":i.marker,lineHeight:"calc(var(--ListItem-minHeight) - 2 * var(--ListItem-paddingY))"},{flexGrow:1,position:"relative"},(s=o.variants[i.variant])==null?void 0:s[i.color],{"--unstable_List-borderWidth":"var(--variant-borderWidth, 0px)"},tt!==void 0&&{"--List-radius":tt},a!==void 0&&{"--List-padding":a},et!==void 0&&{"--List-padding":et})]});styled$1(StyledList,{name:"JoyList",slot:"Root",overridesResolver:(o,i)=>i.root})({});const listItemButtonClasses$2=generateUtilityClasses$1("MuiListItemButton",["root","horizontal","vertical","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","disabled","selected","variantPlain","variantSoft","variantOutlined","variantSolid"]),listItemButtonClasses$3=listItemButtonClasses$2,ListItemButtonOrientationContext=reactExports.createContext("horizontal"),ListItemButtonOrientationContext$1=ListItemButtonOrientationContext,StyledListItemButton=styled$1("div")(({theme:o,ownerState:i})=>{var s,a,et,tt,rt,nt;return _extends$1({"--Icon-margin":"initial","--Icon-color":i.color!=="neutral"||i.variant==="solid"?"currentColor":o.vars.palette.text.icon,WebkitTapHighlightColor:"transparent",boxSizing:"border-box",position:"relative",font:"inherit",display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"stretch",gap:"var(--ListItem-gap)"},i.orientation==="vertical"&&{flexDirection:"column",justifyContent:"center"},{textAlign:"initial",textDecoration:"initial",backgroundColor:"initial",cursor:"pointer",marginInline:"var(--ListItemButton-marginInline)",marginBlock:"var(--ListItemButton-marginBlock)"},i["data-first-child"]===void 0&&{marginInlineStart:i.row?"var(--List-gap)":void 0,marginBlockStart:i.row?void 0:"var(--List-gap)"},{paddingBlock:"calc(var(--ListItem-paddingY) - var(--variant-borderWidth, 0px))",paddingInlineStart:"calc(var(--ListItem-paddingLeft) + var(--ListItem-startActionWidth, var(--unstable_startActionWidth, 0px)))",paddingInlineEnd:"calc(var(--ListItem-paddingRight) + var(--ListItem-endActionWidth, var(--unstable_endActionWidth, 0px)))",minBlockSize:"var(--ListItem-minHeight)",border:"1px solid transparent",borderRadius:"var(--ListItem-radius)",flex:"var(--unstable_ListItem-flex, none)",fontSize:"inherit",lineHeight:"inherit",minInlineSize:0,[o.focus.selector]:_extends$1({},o.focus.default,{zIndex:1})},(s=o.variants[i.variant])==null?void 0:s[i.color],{"&:active":(a=o.variants[`${i.variant}Active`])==null?void 0:a[i.color],[`.${listItemClasses$3.root} > &`]:{"--unstable_ListItem-flex":"1 0 0%"},[`&.${listItemButtonClasses$3.selected}`]:_extends$1({},(et=o.variants[`${i.variant}Active`])==null?void 0:et[i.color],{"--Icon-color":"currentColor"}),[`&:not(.${listItemButtonClasses$3.selected}, [aria-selected="true"])`]:{"&:hover":(tt=o.variants[`${i.variant}Hover`])==null?void 0:tt[i.color],"&:active":(rt=o.variants[`${i.variant}Active`])==null?void 0:rt[i.color]},[`&.${listItemButtonClasses$3.disabled}`]:_extends$1({},(nt=o.variants[`${i.variant}Disabled`])==null?void 0:nt[i.color])})});styled$1(StyledListItemButton,{name:"JoyListItemButton",slot:"Root",overridesResolver:(o,i)=>i.root})(({ownerState:o,theme:i})=>_extends$1({},!o.row&&{[`&.${listItemButtonClasses$3.selected}`]:{fontWeight:i.vars.fontWeight.md}}));const createPrefixVar=o=>i=>`--${o?`${o}-`:""}${i.replace(/^--/,"")}`,INVERTED_COLORS_ATTR="data-skip-inverted-colors",INVERTED_COLORS_SELECTOR=`& :not([${INVERTED_COLORS_ATTR}], [${INVERTED_COLORS_ATTR}] *)`,skipInvertedColors=o=>{var i,s,a,et,tt,rt,nt,it,ot,st,lt,at,ut,ft,mt,yt,ht,pt,ct,gt,Et,bt;const xt=createPrefixVar(o.cssVarPrefix);return{"--variant-plainColor":"var(--variant-plainColor) !important","--variant-plainHoverColor":"var(--variant-plainHoverColor) !important","--variant-plainHoverBg":"var(--variant-plainHoverBg) !important","--variant-plainActiveBg":"var(--variant-plainActiveBg) !important","--variant-plainDisabledColor":"var(--variant-plainDisabledColor) !important","--variant-outlinedColor":"var(--variant-outlinedColor) !important","--variant-outlinedBorder":"var(--variant-outlinedBorder) !important","--variant-outlinedHoverColor":"var(--variant-outlinedHoverColor) !important","--variant-outlinedHoverBorder":"var(--variant-outlinedHoverBorder) !important","--variant-outlinedHoverBg":"var(--variant-outlinedHoverBg) !important","--variant-outlinedActiveBg":"var(--variant-outlinedActiveBg) !important","--variant-outlinedDisabledColor":"var(--variant-outlinedDisabledColor) !important","--variant-outlinedDisabledBorder":"var(--variant-outlinedDisabledBorder) !important","--variant-softColor":"var(--variant-softColor) !important","--variant-softHoverColor":"var(--variant-softHoverColor) !important","--variant-softBg":"var(--variant-softBg) !important","--variant-softHoverBg":"var(--variant-softHoverBg) !important","--variant-softActiveBg":"var(--variant-softActiveBg) !important","--variant-softActiveColor":"var(--variant-softActiveColor) !important","--variant-softDisabledColor":"var(--variant-softDisabledColor) !important","--variant-softDisabledBg":"var(--variant-softDisabledBg) !important","--variant-solidColor":"var(--variant-solidColor) !important","--variant-solidBg":"var(--variant-solidBg) !important","--variant-solidHoverBg":"var(--variant-solidHoverBg) !important","--variant-solidActiveBg":"var(--variant-solidActiveBg) !important","--variant-solidDisabledColor":"var(--variant-solidDisabledColor) !important","--variant-solidDisabledBg":"var(--variant-solidDisabledBg) !important","--Badge-ringColor":"var(--Badge-ringColor) !important",colorScheme:"unset",[o.getColorSchemeSelector("light")]:{[xt("--palette-focusVisible")]:`${(i=o.colorSchemes.light)==null?void 0:i.palette.focusVisible} !important`,[xt("--palette-background-body")]:`${(s=o.colorSchemes.light)==null?void 0:s.palette.background.body} !important`,[xt("--palette-background-surface")]:`${(a=o.colorSchemes.light)==null?void 0:a.palette.background.surface} !important`,[xt("--palette-background-popup")]:`${(et=o.colorSchemes.light)==null?void 0:et.palette.background.popup} !important`,[xt("--palette-background-level1")]:`${(tt=o.colorSchemes.light)==null?void 0:tt.palette.background.level1} !important`,[xt("--palette-background-level2")]:`${(rt=o.colorSchemes.light)==null?void 0:rt.palette.background.level2} !important`,[xt("--palette-background-level3")]:`${(nt=o.colorSchemes.light)==null?void 0:nt.palette.background.level3} !important`,[xt("--palette-text-primary")]:`${(it=o.colorSchemes.light)==null?void 0:it.palette.text.primary} !important`,[xt("--palette-text-secondary")]:`${(ot=o.colorSchemes.light)==null?void 0:ot.palette.text.secondary} !important`,[xt("--palette-text-tertiary")]:`${(st=o.colorSchemes.light)==null?void 0:st.palette.text.tertiary} !important`,[xt("--palette-divider")]:`${(lt=o.colorSchemes.light)==null?void 0:lt.palette.divider} !important`},[o.getColorSchemeSelector("dark")]:{[xt("--palette-focusVisible")]:`${(at=o.colorSchemes.dark)==null?void 0:at.palette.focusVisible} !important`,[xt("--palette-background-body")]:`${(ut=o.colorSchemes.dark)==null?void 0:ut.palette.background.body} !important`,[xt("--palette-background-surface")]:`${(ft=o.colorSchemes.dark)==null?void 0:ft.palette.background.surface} !important`,[xt("--palette-background-popup")]:`${(mt=o.colorSchemes.dark)==null?void 0:mt.palette.background.popup} !important`,[xt("--palette-background-level1")]:`${(yt=o.colorSchemes.dark)==null?void 0:yt.palette.background.level1} !important`,[xt("--palette-background-level2")]:`${(ht=o.colorSchemes.dark)==null?void 0:ht.palette.background.level2} !important`,[xt("--palette-background-level3")]:`${(pt=o.colorSchemes.dark)==null?void 0:pt.palette.background.level3} !important`,[xt("--palette-text-primary")]:`${(ct=o.colorSchemes.dark)==null?void 0:ct.palette.text.primary} !important`,[xt("--palette-text-secondary")]:`${(gt=o.colorSchemes.dark)==null?void 0:gt.palette.text.secondary} !important`,[xt("--palette-text-tertiary")]:`${(Et=o.colorSchemes.dark)==null?void 0:Et.palette.text.tertiary} !important`,[xt("--palette-divider")]:`${(bt=o.colorSchemes.dark)==null?void 0:bt.palette.divider} !important`}}};function isStyledThemeProp(o){return o.theme!==void 0}const applySolidInversion=o=>i=>{const s=isStyledThemeProp(i)?i.theme:i,a=createGetCssVar$1(s.cssVarPrefix),et=createPrefixVar(s.cssVarPrefix),tt=rt=>{const nt=rt.split("-");return a(rt,s.palette[nt[1]][nt[2]])};return{[INVERTED_COLORS_SELECTOR]:{"--Badge-ringColor":tt(`palette-${o}-solidBg`),"--Icon-color":"currentColor",[`${s.getColorSchemeSelector("light")}, ${s.getColorSchemeSelector("dark")}`]:{colorScheme:"dark",[et("--palette-focusVisible")]:tt(`palette-${o}-200`),[et("--palette-background-body")]:"rgba(0 0 0 / 0.1)",[et("--palette-background-surface")]:"rgba(0 0 0 / 0.06)",[et("--palette-background-popup")]:tt(`palette-${o}-700`),[et("--palette-background-level1")]:`rgba(${tt(`palette-${o}-darkChannel`)} / 0.2)`,[et("--palette-background-level2")]:`rgba(${tt(`palette-${o}-darkChannel`)} / 0.36)`,[et("--palette-background-level3")]:`rgba(${tt(`palette-${o}-darkChannel`)} / 0.6)`,[et("--palette-text-primary")]:tt("palette-common-white"),[et("--palette-text-secondary")]:tt(`palette-${o}-200`),[et("--palette-text-tertiary")]:tt(`palette-${o}-300`),[et("--palette-text-icon")]:tt(`palette-${o}-200`),[et("--palette-divider")]:`rgba(${tt(`palette-${o}-lightChannel`)} / 0.32)`,"--variant-plainColor":tt(`palette-${o}-50`),"--variant-plainHoverColor":"#fff","--variant-plainHoverBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.72)`,"--variant-outlinedColor":tt(`palette-${o}-50`),"--variant-outlinedBorder":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.5)`,"--variant-outlinedHoverColor":"#fff","--variant-outlinedHoverBorder":tt(`palette-${o}-300`),"--variant-outlinedHoverBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":"rgba(255 255 255 / 0.2)","--variant-softColor":tt("palette-common-white"),"--variant-softHoverColor":tt("palette-common-white"),"--variant-softBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.24)`,"--variant-softHoverBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.36)`,"--variant-softActiveBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.16)`,"--variant-softActiveColor":"#fff","--variant-softDisabledColor":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.1)`,"--variant-solidColor":tt(`palette-${o}-${o==="neutral"?"600":"500"}`),"--variant-solidBg":tt("palette-common-white"),"--variant-solidHoverBg":tt("palette-common-white"),"--variant-solidActiveBg":tt(`palette-${o}-100`),"--variant-solidDisabledColor":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.1)`}},[`&, & [${INVERTED_COLORS_ATTR}]`]:skipInvertedColors(s)}},applySoftInversion=o=>i=>{const{theme:s=i}=i,a=createGetCssVar$1(s.cssVarPrefix),et=createPrefixVar(s.cssVarPrefix),tt=rt=>{const nt=rt.split("-");return a(rt,s.palette[nt[1]][nt[2]])};return{[INVERTED_COLORS_SELECTOR]:{"--Badge-ringColor":tt(`palette-${o}-softBg`),"--Icon-color":"currentColor",[s.getColorSchemeSelector("dark")]:{[et("--palette-focusVisible")]:tt(`palette-${o}-300`),[et("--palette-background-body")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.1)`,[et("--palette-background-surface")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.08)`,[et("--palette-background-level1")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.2)`,[et("--palette-background-level2")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.4)`,[et("--palette-background-level3")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.6)`,[et("--palette-text-primary")]:tt(`palette-${o}-100`),[et("--palette-text-secondary")]:`rgba(${tt(`palette-${o}-lightChannel`)} / 0.72)`,[et("--palette-text-tertiary")]:`rgba(${tt(`palette-${o}-lightChannel`)} / 0.6)`,[et("--palette-text-icon")]:`rgba(${tt(`palette-${o}-lightChannel`)} / 0.6)`,[et("--palette-divider")]:`rgba(${tt(`palette-${o}-lightChannel`)} / 0.2)`,"--variant-plainColor":`rgba(${tt(`palette-${o}-lightChannel`)} / 1)`,"--variant-plainHoverColor":tt(`palette-${o}-50`),"--variant-plainHoverBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.16)`,"--variant-plainActiveBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.72)`,"--variant-outlinedColor":`rgba(${tt(`palette-${o}-lightChannel`)} / 1)`,"--variant-outlinedHoverColor":tt(`palette-${o}-50`),"--variant-outlinedBg":"initial","--variant-outlinedBorder":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverBorder":tt(`palette-${o}-600`),"--variant-outlinedHoverBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.16)`,"--variant-outlinedActiveBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.2)`,"--variant-softColor":tt(`palette-${o}-200`),"--variant-softBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.24)`,"--variant-softHoverColor":"#fff","--variant-softHoverBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.32)`,"--variant-softActiveBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.48)`,"--variant-softDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.12)`,"--variant-solidColor":"#fff","--variant-solidBg":tt(`palette-${o}-500`),"--variant-solidHoverColor":"#fff","--variant-solidHoverBg":tt(`palette-${o}-600`),"--variant-solidActiveBg":tt(`palette-${o}-600`),"--variant-solidDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.12)`},[s.getColorSchemeSelector("light")]:{[et("--palette-focusVisible")]:tt(`palette-${o}-500`),[et("--palette-background-body")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.1)`,[et("--palette-background-surface")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.08)`,[et("--palette-background-level1")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.2)`,[et("--palette-background-level2")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.32)`,[et("--palette-background-level3")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.48)`,[et("--palette-text-primary")]:tt(`palette-${o}-700`),[et("--palette-text-secondary")]:`rgba(${tt(`palette-${o}-darkChannel`)} / 0.8)`,[et("--palette-text-tertiary")]:`rgba(${tt(`palette-${o}-darkChannel`)} / 0.68)`,[et("--palette-text-icon")]:tt(`palette-${o}-500`),[et("--palette-divider")]:`rgba(${tt(`palette-${o}-mainChannel`)} / 0.32)`,"--variant-plainColor":`rgba(${tt(`palette-${o}-darkChannel`)} / 0.8)`,"--variant-plainHoverColor":`rgba(${tt(`palette-${o}-darkChannel`)} / 1)`,"--variant-plainHoverBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.24)`,"--variant-plainDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.6)`,"--variant-outlinedColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 1)`,"--variant-outlinedBorder":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverColor":tt(`palette-${o}-600`),"--variant-outlinedHoverBorder":tt(`palette-${o}-300`),"--variant-outlinedHoverBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.24)`,"--variant-outlinedDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.6)`,"--variant-outlinedDisabledBorder":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.12)`,"--variant-softColor":tt(`palette-${o}-600`),"--variant-softBg":`rgba(${tt(`palette-${o}-lightChannel`)} / 0.8)`,"--variant-softHoverColor":tt(`palette-${o}-700`),"--variant-softHoverBg":tt(`palette-${o}-200`),"--variant-softActiveBg":tt(`palette-${o}-300`),"--variant-softDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.6)`,"--variant-softDisabledBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.08)`,"--variant-solidColor":tt("palette-common-white"),"--variant-solidBg":tt(`palette-${o}-${o==="neutral"?"700":"500"}`),"--variant-solidHoverColor":tt("palette-common-white"),"--variant-solidHoverBg":tt(`palette-${o}-600`),"--variant-solidActiveBg":tt(`palette-${o}-600`),"--variant-solidDisabledColor":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.6)`,"--variant-solidDisabledBg":`rgba(${tt(`palette-${o}-mainChannel`)} / 0.08)`}},[`&, & [${INVERTED_COLORS_ATTR}]`]:skipInvertedColors(s)}},VariantColorContext=reactExports.createContext(void 0);function getChildVariantAndColor(o,i){let s=i,a=o;return o==="outlined"&&(s="neutral",a="plain"),o==="plain"&&(s="neutral"),{variant:a,color:s}}function useVariantColor(o,i,s=!1){const a=reactExports.useContext(VariantColorContext),[et,tt]=typeof a=="string"?a.split(":"):[],rt=getChildVariantAndColor(et||void 0,tt||void 0);return rt.variant=o||rt.variant,rt.color=i||(s?tt:rt.color),rt}function VariantColorProvider({children:o,color:i,variant:s}){return jsxRuntimeExports.jsx(VariantColorContext.Provider,{value:`${s||""}:${i||""}`,children:o})}function getIconButtonUtilityClass$1(o){return generateUtilityClass$1("MuiIconButton",o)}generateUtilityClasses$1("MuiIconButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg"]);const ButtonGroupContext$2=reactExports.createContext({}),ButtonGroupContext$3=ButtonGroupContext$2,ToggleButtonGroupContext=reactExports.createContext(void 0),ToggleButtonGroupContext$1=ToggleButtonGroupContext,_excluded$12=["children","action","component","color","disabled","variant","size","slots","slotProps"],useUtilityClasses$N=o=>{const{color:i,disabled:s,focusVisible:a,focusVisibleClassName:et,size:tt,variant:rt}=o,nt={root:["root",s&&"disabled",a&&"focusVisible",rt&&`variant${capitalize(rt)}`,i&&`color${capitalize(i)}`,tt&&`size${capitalize(tt)}`]},it=composeClasses(nt,getIconButtonUtilityClass$1,{});return a&&et&&(it.root+=` ${et}`),it},StyledIconButton=styled$1("button")(({theme:o,ownerState:i})=>{var s,a,et,tt;return[_extends$1({"--Icon-margin":"initial","--Icon-color":i.color!=="neutral"||i.variant==="solid"?"currentColor":o.vars.palette.text.icon},i.instanceSize&&{"--IconButton-size":{sm:"2rem",md:"2.25rem",lg:"2.75rem"}[i.instanceSize]},i.size==="sm"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2rem) / 1.6)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2rem)",minHeight:"var(--IconButton-size, 2rem)",fontSize:o.vars.fontSize.sm,paddingInline:"2px"},i.size==="md"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.25rem) / 1.5)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2.25rem)",minHeight:"var(--IconButton-size, 2.25rem)",fontSize:o.vars.fontSize.md,paddingInline:"0.25rem"},i.size==="lg"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.75rem) / 1.571)","--CircularProgress-size":"28px","--CircularProgress-thickness":"4px",minWidth:"var(--IconButton-size, 2.75rem)",minHeight:"var(--IconButton-size, 2.75rem)",fontSize:o.vars.fontSize.lg,paddingInline:"0.375rem"},{WebkitTapHighlightColor:"transparent",paddingBlock:0,fontFamily:o.vars.fontFamily.body,fontWeight:o.vars.fontWeight.md,margin:"var(--IconButton-margin)",borderRadius:`var(--IconButton-radius, ${o.vars.radius.sm})`,border:"none",boxSizing:"border-box",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",[o.focus.selector]:_extends$1({"--Icon-color":"currentColor"},o.focus.default)}),_extends$1({},(s=o.variants[i.variant])==null?void 0:s[i.color],{"&:hover":{"@media (hover: hover)":_extends$1({"--Icon-color":"currentColor"},(a=o.variants[`${i.variant}Hover`])==null?void 0:a[i.color])},'&:active, &[aria-pressed="true"]':_extends$1({"--Icon-color":"currentColor"},(et=o.variants[`${i.variant}Active`])==null?void 0:et[i.color]),"&:disabled":(tt=o.variants[`${i.variant}Disabled`])==null?void 0:tt[i.color]})]}),IconButtonRoot$1=styled$1(StyledIconButton,{name:"JoyIconButton",slot:"Root",overridesResolver:(o,i)=>i.root})({}),IconButton$2=reactExports.forwardRef(function(i,s){var a;const et=useThemeProps$1({props:i,name:"JoyIconButton"}),{children:tt,action:rt,component:nt="button",color:it="neutral",disabled:ot,variant:st="plain",size:lt="md",slots:at={},slotProps:ut={}}=et,ft=_objectWithoutPropertiesLoose$6(et,_excluded$12),mt=reactExports.useContext(ButtonGroupContext$3),yt=reactExports.useContext(ToggleButtonGroupContext$1),ht=i.variant||mt.variant||st,pt=i.size||mt.size||lt,ct=i.color||mt.color||it,gt=(a=i.disabled)!=null?a:mt.disabled||ot,Et=reactExports.useRef(null),bt=useForkRef(Et,s),{focusVisible:xt,setFocusVisible:Tt,getRootProps:wt}=useButton(_extends$1({},et,{disabled:gt,rootRef:bt}));reactExports.useImperativeHandle(rt,()=>({focusVisible:()=>{var Ct;Tt(!0),(Ct=Et.current)==null||Ct.focus()}}),[Tt]);const It=_extends$1({},et,{component:nt,color:ct,disabled:gt,variant:ht,size:pt,focusVisible:xt,instanceSize:i.size}),At=useUtilityClasses$N(It),kt=Ct=>{var St;let $t=et.onClick;if(typeof ut.root=="function"?$t=ut.root(It).onClick:ut.root&&($t=ut.root.onClick),(St=$t)==null||St(Ct),yt){var Lt;(Lt=yt.onClick)==null||Lt.call(yt,Ct,et.value)}};let Vt=et["aria-pressed"];typeof ut.root=="function"?Vt=ut.root(It)["aria-pressed"]:ut.root&&(Vt=ut.root["aria-pressed"]),yt!=null&&yt.value&&(Array.isArray(yt.value)?Vt=yt.value.indexOf(et.value)!==-1:Vt=yt.value===et.value);const Mt=_extends$1({},ft,{component:nt,slots:at,slotProps:ut}),[Ot,Dt]=useSlot("root",{ref:s,className:At.root,elementType:IconButtonRoot$1,getSlotProps:wt,externalForwardedProps:Mt,ownerState:It,additionalProps:{onClick:kt,"aria-pressed":Vt}});return jsxRuntimeExports.jsx(Ot,_extends$1({},Dt,{children:tt}))});IconButton$2.muiName="IconButton";const IconButton$3=IconButton$2,FormControlContext$2=reactExports.createContext(void 0),FormControlContext$3=FormControlContext$2,_excluded$11=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","disabledInProp","error","id","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","type","value"];function useForwardedInput(o,i){var s;const a=reactExports.useContext(FormControlContext$3),{"aria-describedby":et,"aria-label":tt,"aria-labelledby":rt,autoComplete:nt,autoFocus:it,className:ot,defaultValue:st,disabled:lt,disabledInProp:at,error:ut,id:ft,name:mt,onClick:yt,onChange:ht,onKeyDown:pt,onKeyUp:ct,onFocus:gt,onBlur:Et,placeholder:bt,readOnly:xt,required:Tt,type:wt,value:It}=o,At=_objectWithoutPropertiesLoose$6(o,_excluded$11),{getRootProps:kt,getInputProps:Vt,focused:Mt,error:Ot,disabled:Dt}=useInput({disabled:(s=at??(a==null?void 0:a.disabled))!=null?s:lt,defaultValue:st,error:ut,onBlur:Et,onClick:yt,onChange:ht,onFocus:gt,required:Tt??(a==null?void 0:a.required),value:It}),Ct={[i.disabled]:Dt,[i.error]:Ot,[i.focused]:Mt,[i.formControl]:!!a,[ot]:ot},St={[i.disabled]:Dt};return _extends$1({formControl:a,propsToForward:{"aria-describedby":et,"aria-label":tt,"aria-labelledby":rt,autoComplete:nt,autoFocus:it,disabled:Dt,id:ft,onKeyDown:pt,onKeyUp:ct,name:mt,placeholder:bt,readOnly:xt,type:wt},rootStateClasses:Ct,inputStateClasses:St,getRootProps:kt,getInputProps:Vt,focused:Mt,error:Ot,disabled:Dt},At)}function getCircularProgressUtilityClass(o){return generateUtilityClass$1("MuiCircularProgress",o)}generateUtilityClasses$1("MuiCircularProgress",["root","determinate","svg","track","progress","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);let _$1=o=>o,_t$1;const _excluded$10=["color","backgroundColor"],_excluded2$4=["children","className","color","size","variant","thickness","determinate","value","component","slots","slotProps"],circulate=keyframes({"0%":{transform:"rotate(-90deg)"},"100%":{transform:"rotate(270deg)"}}),useUtilityClasses$M=o=>{const{determinate:i,color:s,variant:a,size:et}=o,tt={root:["root",i&&"determinate",s&&`color${capitalize(s)}`,a&&`variant${capitalize(a)}`,et&&`size${capitalize(et)}`],svg:["svg"],track:["track"],progress:["progress"]};return composeClasses(tt,getCircularProgressUtilityClass,{})};function getThickness(o,i){return`var(--CircularProgress-${o}Thickness, var(--CircularProgress-thickness, ${i}))`}const CircularProgressRoot=styled$1("span",{name:"JoyCircularProgress",slot:"Root",overridesResolver:(o,i)=>i.root})(({ownerState:o,theme:i})=>{var s,a,et,tt;const rt=((s=i.variants[o.variant])==null?void 0:s[o.color])||{},{color:nt,backgroundColor:it}=rt,ot=_objectWithoutPropertiesLoose$6(rt,_excluded$10);return _extends$1({"--Icon-fontSize":"calc(0.4 * var(--_root-size))","--CircularProgress-trackColor":it,"--CircularProgress-progressColor":nt,"--CircularProgress-percent":o.value,"--CircularProgress-linecap":"round"},o.size==="sm"&&{"--_root-size":"var(--CircularProgress-size, 24px)","--_track-thickness":getThickness("track","3px"),"--_progress-thickness":getThickness("progress","3px")},o.instanceSize==="sm"&&{"--CircularProgress-size":"24px"},o.size==="md"&&{"--_track-thickness":getThickness("track","6px"),"--_progress-thickness":getThickness("progress","6px"),"--_root-size":"var(--CircularProgress-size, 40px)"},o.instanceSize==="md"&&{"--CircularProgress-size":"40px"},o.size==="lg"&&{"--_track-thickness":getThickness("track","8px"),"--_progress-thickness":getThickness("progress","8px"),"--_root-size":"var(--CircularProgress-size, 64px)"},o.instanceSize==="lg"&&{"--CircularProgress-size":"64px"},o.thickness&&{"--_track-thickness":`${o.thickness}px`,"--_progress-thickness":`${o.thickness}px`},{"--_thickness-diff":"calc(var(--_track-thickness) - var(--_progress-thickness))","--_inner-size":"calc(var(--_root-size) - 2 * var(--variant-borderWidth, 0px))","--_outlined-inset":"max(var(--_track-thickness), var(--_progress-thickness))",width:"var(--_root-size)",height:"var(--_root-size)",borderRadius:"var(--_root-size)",margin:"var(--CircularProgress-margin)",boxSizing:"border-box",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,position:"relative",color:nt},o.children&&{fontFamily:i.vars.fontFamily.body,fontWeight:i.vars.fontWeight.md,fontSize:"calc(0.2 * var(--_root-size))"},ot,o.variant==="outlined"&&{"&::before":_extends$1({content:'""',display:"block",position:"absolute",borderRadius:"inherit",top:"var(--_outlined-inset)",left:"var(--_outlined-inset)",right:"var(--_outlined-inset)",bottom:"var(--_outlined-inset)"},ot)},o.variant==="soft"&&{"--CircularProgress-trackColor":i.variants.soft.neutral.backgroundColor,"--CircularProgress-progressColor":(a=i.variants.solid)==null?void 0:a[o.color].backgroundColor},o.variant==="solid"&&{"--CircularProgress-trackColor":(et=i.variants.softHover)==null?void 0:et[o.color].backgroundColor,"--CircularProgress-progressColor":(tt=i.variants.solid)==null?void 0:tt[o.color].backgroundColor})}),CircularProgressSvg=styled$1("svg",{name:"JoyCircularProgress",slot:"Svg",overridesResolver:(o,i)=>i.svg})({width:"inherit",height:"inherit",display:"inherit",boxSizing:"inherit",position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))"}),CircularProgressTrack=styled$1("circle",{name:"JoyCircularProgress",slot:"track",overridesResolver:(o,i)=>i.track})({cx:"50%",cy:"50%",r:"calc(var(--_inner-size) / 2 - var(--_track-thickness) / 2 + min(0px, var(--_thickness-diff) / 2))",fill:"transparent",strokeWidth:"var(--_track-thickness)",stroke:"var(--CircularProgress-trackColor)"}),CircularProgressProgress=styled$1("circle",{name:"JoyCircularProgress",slot:"progress",overridesResolver:(o,i)=>i.progress})({"--_progress-radius":"calc(var(--_inner-size) / 2 - var(--_progress-thickness) / 2 - max(0px, var(--_thickness-diff) / 2))","--_progress-length":"calc(2 * 3.1415926535 * var(--_progress-radius))",cx:"50%",cy:"50%",r:"var(--_progress-radius)",fill:"transparent",strokeWidth:"var(--_progress-thickness)",stroke:"var(--CircularProgress-progressColor)",strokeLinecap:"var(--CircularProgress-linecap, round)",strokeDasharray:"var(--_progress-length)",strokeDashoffset:"calc(var(--_progress-length) - var(--CircularProgress-percent) * var(--_progress-length) / 100)",transformOrigin:"center",transform:"rotate(-90deg)"},({ownerState:o})=>!o.determinate&&css(_t$1||(_t$1=_$1`
      animation: var(--CircularProgress-circulation, 0.8s linear 0s infinite normal none running)
        ${0};
    `),circulate)),CircularProgress=reactExports.forwardRef(function(i,s){const a=useThemeProps$1({props:i,name:"JoyCircularProgress"}),{children:et,className:tt,color:rt="primary",size:nt="md",variant:it="soft",thickness:ot,determinate:st=!1,value:lt=st?0:25,component:at,slots:ut={},slotProps:ft={}}=a,mt=_objectWithoutPropertiesLoose$6(a,_excluded2$4),yt=_extends$1({},a,{color:rt,size:nt,variant:it,thickness:ot,value:lt,determinate:st,instanceSize:i.size}),ht=useUtilityClasses$M(yt),pt=_extends$1({},mt,{component:at,slots:ut,slotProps:ft}),[ct,gt]=useSlot("root",{ref:s,className:clsx(ht.root,tt),elementType:CircularProgressRoot,externalForwardedProps:pt,ownerState:yt,additionalProps:_extends$1({role:"progressbar",style:{"--CircularProgress-percent":lt}},lt&&st&&{"aria-valuenow":Math.round(typeof lt=="number"?lt:Number(lt||0))})}),[Et,bt]=useSlot("svg",{className:ht.svg,elementType:CircularProgressSvg,externalForwardedProps:pt,ownerState:yt}),[xt,Tt]=useSlot("track",{className:ht.track,elementType:CircularProgressTrack,externalForwardedProps:pt,ownerState:yt}),[wt,It]=useSlot("progress",{className:ht.progress,elementType:CircularProgressProgress,externalForwardedProps:pt,ownerState:yt});return jsxRuntimeExports.jsxs(ct,_extends$1({},gt,{children:[jsxRuntimeExports.jsxs(Et,_extends$1({},bt,{children:[jsxRuntimeExports.jsx(xt,_extends$1({},Tt)),jsxRuntimeExports.jsx(wt,_extends$1({},It))]})),et]}))}),CircularProgress$1=CircularProgress;function getButtonUtilityClass$1(o){return generateUtilityClass$1("MuiButton",o)}const buttonClasses$2=generateUtilityClasses$1("MuiButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]),buttonClasses$3=buttonClasses$2,_excluded$$=["children","action","color","variant","size","fullWidth","startDecorator","endDecorator","loading","loadingPosition","loadingIndicator","disabled","component","slots","slotProps"],useUtilityClasses$L=o=>{const{color:i,disabled:s,focusVisible:a,focusVisibleClassName:et,fullWidth:tt,size:rt,variant:nt,loading:it}=o,ot={root:["root",s&&"disabled",a&&"focusVisible",tt&&"fullWidth",nt&&`variant${capitalize(nt)}`,i&&`color${capitalize(i)}`,rt&&`size${capitalize(rt)}`,it&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},st=composeClasses(ot,getButtonUtilityClass$1,{});return a&&et&&(st.root+=` ${et}`),st},ButtonStartDecorator=styled$1("span",{name:"JoyButton",slot:"StartDecorator",overridesResolver:(o,i)=>i.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),ButtonEndDecorator=styled$1("span",{name:"JoyButton",slot:"EndDecorator",overridesResolver:(o,i)=>i.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),ButtonLoadingCenter=styled$1("span",{name:"JoyButton",slot:"LoadingCenter",overridesResolver:(o,i)=>i.loadingIndicatorCenter})(({theme:o,ownerState:i})=>{var s,a;return _extends$1({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(s=o.variants[i.variant])==null||(s=s[i.color])==null?void 0:s.color},i.disabled&&{color:(a=o.variants[`${i.variant}Disabled`])==null||(a=a[i.color])==null?void 0:a.color})}),getButtonStyles=({theme:o,ownerState:i})=>{var s,a,et,tt;return[_extends$1({"--Icon-margin":"initial","--Icon-color":i.color!=="neutral"||i.variant==="solid"?"currentColor":o.vars.palette.text.icon},i.size==="sm"&&{"--Icon-fontSize":o.vars.fontSize.lg,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.375rem",minHeight:"var(--Button-minHeight, 2rem)",fontSize:o.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.25rem)",paddingInline:"0.75rem"},i.size==="md"&&{"--Icon-fontSize":o.vars.fontSize.xl,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.5rem",minHeight:"var(--Button-minHeight, 2.25rem)",fontSize:o.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.375rem)",paddingInline:"1rem"},i.size==="lg"&&{"--Icon-fontSize":o.vars.fontSize.xl2,"--CircularProgress-size":"28px","--CircularProgress-thickness":"4px","--Button-gap":"0.75rem",minHeight:"var(--Button-minHeight, 2.75rem)",fontSize:o.vars.fontSize.md,paddingBlock:"var(--Button-paddingBlock, 0.5rem)",paddingInline:"1.5rem"},{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",borderRadius:`var(--Button-radius, ${o.vars.radius.sm})`,margin:"var(--Button-margin)",border:"none",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",textDecoration:"none",fontFamily:o.vars.fontFamily.body,fontWeight:o.vars.fontWeight.lg,lineHeight:o.vars.lineHeight.md},i.fullWidth&&{width:"100%"},{[o.focus.selector]:o.focus.default}),_extends$1({},(s=o.variants[i.variant])==null?void 0:s[i.color],{"&:hover":{"@media (hover: hover)":(a=o.variants[`${i.variant}Hover`])==null?void 0:a[i.color]},'&:active, &[aria-pressed="true"]':(et=o.variants[`${i.variant}Active`])==null?void 0:et[i.color],[`&.${buttonClasses$3.disabled}`]:(tt=o.variants[`${i.variant}Disabled`])==null?void 0:tt[i.color]},i.loadingPosition==="center"&&{[`&.${buttonClasses$3.loading}`]:{color:"transparent"}})]},ButtonRoot$1=styled$1("button",{name:"JoyButton",slot:"Root",overridesResolver:(o,i)=>i.root})(getButtonStyles),Button$5=reactExports.forwardRef(function(i,s){var a;const et=useThemeProps$1({props:i,name:"JoyButton"}),{children:tt,action:rt,color:nt="primary",variant:it="solid",size:ot="md",fullWidth:st=!1,startDecorator:lt,endDecorator:at,loading:ut=!1,loadingPosition:ft="center",loadingIndicator:mt,disabled:yt,component:ht,slots:pt={},slotProps:ct={}}=et,gt=_objectWithoutPropertiesLoose$6(et,_excluded$$),Et=reactExports.useContext(ButtonGroupContext$3),bt=reactExports.useContext(ToggleButtonGroupContext$1),xt=i.variant||Et.variant||it,Tt=i.size||Et.size||ot,wt=i.color||Et.color||nt,It=(a=i.disabled||i.loading)!=null?a:Et.disabled||yt||ut,At=reactExports.useRef(null),kt=useForkRef(At,s),{focusVisible:Vt,setFocusVisible:Mt,getRootProps:Ot}=useButton(_extends$1({},et,{disabled:It,rootRef:kt})),Dt=mt??jsxRuntimeExports.jsx(CircularProgress$1,{color:wt,thickness:{sm:2,md:3,lg:4}[Tt]||3});reactExports.useImperativeHandle(rt,()=>({focusVisible:()=>{var Xt;Mt(!0),(Xt=At.current)==null||Xt.focus()}}),[Mt]);const Ct=_extends$1({},et,{color:wt,fullWidth:st,variant:xt,size:Tt,focusVisible:Vt,loading:ut,loadingPosition:ft,disabled:It}),St=useUtilityClasses$L(Ct),$t=Xt=>{var er;let sr=et.onClick;if(typeof ct.root=="function"?sr=ct.root(Ct).onClick:ct.root&&(sr=ct.root.onClick),(er=sr)==null||er(Xt),bt){var ur;(ur=bt.onClick)==null||ur.call(bt,Xt,et.value)}};let Lt=et["aria-pressed"];typeof ct.root=="function"?Lt=ct.root(Ct)["aria-pressed"]:ct.root&&(Lt=ct.root["aria-pressed"]),bt!=null&&bt.value&&(Array.isArray(bt.value)?Lt=bt.value.indexOf(et.value)!==-1:Lt=bt.value===et.value);const Rt=_extends$1({},gt,{component:ht,slots:pt,slotProps:ct}),[jt,Ft]=useSlot("root",{ref:s,className:St.root,elementType:ButtonRoot$1,externalForwardedProps:Rt,getSlotProps:Ot,ownerState:Ct,additionalProps:{onClick:$t,"aria-pressed":Lt}}),[zt,Gt]=useSlot("startDecorator",{className:St.startDecorator,elementType:ButtonStartDecorator,externalForwardedProps:Rt,ownerState:Ct}),[Bt,Wt]=useSlot("endDecorator",{className:St.endDecorator,elementType:ButtonEndDecorator,externalForwardedProps:Rt,ownerState:Ct}),[Kt,Qt]=useSlot("loadingIndicatorCenter",{className:St.loadingIndicatorCenter,elementType:ButtonLoadingCenter,externalForwardedProps:Rt,ownerState:Ct});return jsxRuntimeExports.jsxs(jt,_extends$1({},Ft,{children:[(lt||ut&&ft==="start")&&jsxRuntimeExports.jsx(zt,_extends$1({},Gt,{children:ut&&ft==="start"?Dt:lt})),tt,ut&&ft==="center"&&jsxRuntimeExports.jsx(Kt,_extends$1({},Qt,{children:Dt})),(at||ut&&ft==="end")&&jsxRuntimeExports.jsx(Bt,_extends$1({},Wt,{children:ut&&ft==="end"?Dt:at}))]}))});Button$5.muiName="Button";const Button$6=Button$5;function getModalUtilityClass$1(o){return generateUtilityClass$1("MuiModal",o)}generateUtilityClasses$1("MuiModal",["root","hidden","backdrop"]);const CloseModalContext=reactExports.createContext(void 0),CloseModalContext$1=CloseModalContext,_excluded$_=["children","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onClose","onKeyDown","open","component","slots","slotProps"],useUtilityClasses$K=o=>{const{open:i}=o;return composeClasses({root:["root",!i&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass$1,{})},StyledModalRoot=styled$1("div")(({ownerState:o,theme:i})=>_extends$1({"--unstable_popup-zIndex":`calc(${i.vars.zIndex.modal} + 1)`,'& ~ [role="listbox"]':{"--unstable_popup-zIndex":`calc(${i.vars.zIndex.modal} + 1)`},position:"fixed",zIndex:i.vars.zIndex.modal,right:0,bottom:0,top:0,left:0},!o.open&&{visibility:"hidden"})),ModalRoot$1=styled$1(StyledModalRoot,{name:"JoyModal",slot:"Root",overridesResolver:(o,i)=>i.root})({}),StyledModalBackdrop=styled$1("div")(({theme:o})=>({zIndex:-1,position:"fixed",right:0,bottom:0,top:0,left:0,backgroundColor:o.vars.palette.background.backdrop,WebkitTapHighlightColor:"transparent",backdropFilter:"blur(8px)"})),ModalBackdrop$1=styled$1(StyledModalBackdrop,{name:"JoyModal",slot:"Backdrop",overridesResolver:(o,i)=>i.backdrop})({}),Modal$2=reactExports.forwardRef(function(i,s){const a=useThemeProps$1({props:i,name:"JoyModal"}),{children:et,container:tt,disableAutoFocus:rt=!1,disableEnforceFocus:nt=!1,disableEscapeKeyDown:it=!1,disablePortal:ot=!1,disableRestoreFocus:st=!1,disableScrollLock:lt=!1,hideBackdrop:at=!1,keepMounted:ut=!1,onClose:ft,open:mt,component:yt,slots:ht={},slotProps:pt={}}=a,ct=_objectWithoutPropertiesLoose$6(a,_excluded$_),gt=_extends$1({},a,{disableAutoFocus:rt,disableEnforceFocus:nt,disableEscapeKeyDown:it,disablePortal:ot,disableRestoreFocus:st,disableScrollLock:lt,hideBackdrop:at,keepMounted:ut}),{getRootProps:Et,getBackdropProps:bt,rootRef:xt,portalRef:Tt,isTopModal:wt}=useModal(_extends$1({},gt,{rootRef:s})),It=useUtilityClasses$K(gt),At=_extends$1({},ct,{component:yt,slots:ht,slotProps:pt}),[kt,Vt]=useSlot("root",{ref:xt,className:It.root,elementType:ModalRoot$1,externalForwardedProps:At,getSlotProps:Et,ownerState:gt}),[Mt,Ot]=useSlot("backdrop",{className:It.backdrop,elementType:ModalBackdrop$1,externalForwardedProps:At,getSlotProps:bt,ownerState:gt});return!ut&&!mt?null:jsxRuntimeExports.jsx(CloseModalContext$1.Provider,{value:ft,children:jsxRuntimeExports.jsx(Portal,{ref:Tt,container:tt,disablePortal:ot,children:jsxRuntimeExports.jsxs(kt,_extends$1({},Vt,{children:[at?null:jsxRuntimeExports.jsx(Mt,_extends$1({},Ot)),jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:nt,disableAutoFocus:rt,disableRestoreFocus:st,isEnabled:wt,open:mt,children:reactExports.Children.only(et)&&reactExports.cloneElement(et,_extends$1({},et.props.tabIndex===void 0&&{tabIndex:-1}))})]}))})})}),Modal$3=Modal$2;function getMenuUtilityClass$1(o){return generateUtilityClass$1("MuiMenu",o)}generateUtilityClasses$1("MuiMenu",["root","listbox","expanded","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const _excluded$Z=["actions","children","color","component","disablePortal","keepMounted","id","invertedColors","onItemsChange","modifiers","variant","size","slots","slotProps"],useUtilityClasses$J=o=>{const{open:i,variant:s,color:a,size:et}=o,tt={root:["root",i&&"expanded",s&&`variant${capitalize(s)}`,a&&`color${capitalize(a)}`,et&&`size${capitalize(et)}`],listbox:["listbox"]};return composeClasses(tt,getMenuUtilityClass$1,{})},MenuRoot$1=styled$1(StyledList,{name:"JoyMenu",slot:"Root",overridesResolver:(o,i)=>i.root})(({theme:o,ownerState:i})=>{var s,a;const et=(s=o.variants[i.variant])==null?void 0:s[i.color];return[_extends$1({"--focus-outline-offset":`calc(${o.vars.focus.thickness} * -1)`,"--ListItem-stickyBackground":(et==null?void 0:et.backgroundColor)||(et==null?void 0:et.background)||o.vars.palette.background.popup,"--ListItem-stickyTop":"calc(var(--List-padding, var(--ListDivider-gap)) * -1)"},scopedVariables,{borderRadius:`var(--List-radius, ${o.vars.radius.sm})`,boxShadow:o.shadow.md,overflow:"auto",zIndex:`var(--unstable_popup-zIndex, ${o.vars.zIndex.popup})`},!(et!=null&&et.backgroundColor)&&{backgroundColor:o.vars.palette.background.popup},i.variant==="solid"&&i.color&&i.invertedColors&&applySolidInversion(i.color)(o),i.variant==="soft"&&i.color&&i.invertedColors&&applySoftInversion(i.color)(o),(a=o.variants[i.variant])==null?void 0:a[i.color])]}),Menu$3=reactExports.forwardRef(function(i,s){var a;const et=useThemeProps$1({props:i,name:"JoyMenu"}),{actions:tt,children:rt,color:nt="neutral",component:it,disablePortal:ot=!1,keepMounted:st=!1,id:lt,invertedColors:at=!1,onItemsChange:ut,modifiers:ft,variant:mt="outlined",size:yt="md",slots:ht={},slotProps:pt={}}=et,ct=_objectWithoutPropertiesLoose$6(et,_excluded$Z),{contextValue:gt,getListboxProps:Et,dispatch:bt,open:xt,triggerElement:Tt}=useMenu({onItemsChange:ut,id:lt,listboxRef:s});reactExports.useImperativeHandle(tt,()=>({dispatch:bt,resetHighlight:()=>bt({type:ListActionTypes.resetHighlight,event:null})}),[bt]);const wt=_extends$1({},et,{disablePortal:ot,invertedColors:at,color:nt,variant:mt,size:yt,open:xt,nesting:!1,row:!1}),It=useUtilityClasses$J(wt),At=_extends$1({},ct,{component:it,slots:ht,slotProps:pt}),kt=reactExports.useMemo(()=>[{name:"offset",options:{offset:[0,4]}},...ft||[]],[ft]),Vt=useSlotProps({elementType:MenuRoot$1,getSlotProps:Et,externalForwardedProps:At,externalSlotProps:{},ownerState:wt,additionalProps:{anchorEl:Tt,open:xt&&Tt!==null,disablePortal:ot,keepMounted:st,modifiers:kt},className:It.root});return jsxRuntimeExports.jsx(MenuRoot$1,_extends$1({},Vt,!((a=et.slots)!=null&&a.root)&&{as:Popper$2,slots:{root:it||"ul"}},{children:jsxRuntimeExports.jsx(MenuProvider,{value:gt,children:jsxRuntimeExports.jsx(VariantColorProvider,{variant:at?void 0:mt,color:nt,children:jsxRuntimeExports.jsx(GroupListContext.Provider,{value:"menu",children:jsxRuntimeExports.jsx(ListProvider,{nested:!0,children:rt})})})})}))}),Menu$4=Menu$3;function getMenuButtonUtilityClass(o){return generateUtilityClass$1("MuiMenuButton",o)}generateUtilityClasses$1("MuiMenuButton",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]);const _excluded$Y=["children","color","component","disabled","endDecorator","loading","loadingPosition","loadingIndicator","size","slotProps","slots","startDecorator","variant"],useUtilityClasses$I=o=>{const{color:i,disabled:s,fullWidth:a,size:et,variant:tt,loading:rt}=o,nt={root:["root",s&&"disabled",a&&"fullWidth",tt&&`variant${capitalize(tt)}`,i&&`color${capitalize(i)}`,et&&`size${capitalize(et)}`,rt&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]};return composeClasses(nt,getMenuButtonUtilityClass,{})},MenuButtonRoot=styled$1("button",{name:"JoyMenuButton",slot:"Root",overridesResolver:(o,i)=>i.root})(getButtonStyles),MenuButtonStartDecorator=styled$1("span",{name:"JoyMenuButton",slot:"StartDecorator",overridesResolver:(o,i)=>i.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),MenuButtonEndDecorator=styled$1("span",{name:"JoyMenuButton",slot:"EndDecorator",overridesResolver:(o,i)=>i.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),MenuButtonLoadingCenter=styled$1("span",{name:"JoyMenuButton",slot:"LoadingCenter",overridesResolver:(o,i)=>i.loadingIndicatorCenter})(({theme:o,ownerState:i})=>{var s,a;return _extends$1({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(s=o.variants[i.variant])==null||(s=s[i.color])==null?void 0:s.color},i.disabled&&{color:(a=o.variants[`${i.variant}Disabled`])==null||(a=a[i.color])==null?void 0:a.color})}),MenuButton=reactExports.forwardRef(function(i,s){var a;const et=useThemeProps$1({props:i,name:"JoyMenuButton"}),{children:tt,color:rt="neutral",component:nt,disabled:it=!1,endDecorator:ot,loading:st=!1,loadingPosition:lt="center",loadingIndicator:at,size:ut="md",slotProps:ft={},slots:mt={},startDecorator:yt,variant:ht="outlined"}=et,pt=_objectWithoutPropertiesLoose$6(et,_excluded$Y),ct=reactExports.useContext(ButtonGroupContext$3),gt=i.variant||ct.variant||ht,Et=i.size||ct.size||ut,bt=(a=i.disabled)!=null?a:ct.disabled||it||st,{getRootProps:xt,open:Tt,active:wt}=useMenuButton({rootRef:s,disabled:bt}),It=at??jsxRuntimeExports.jsx(CircularProgress$1,{color:rt,thickness:{sm:2,md:3,lg:4}[Et]||3}),At=_extends$1({},et,{active:wt,color:rt,disabled:bt,open:Tt,size:Et,variant:gt}),kt=useUtilityClasses$I(At),Vt=_extends$1({},pt,{component:nt,slots:mt,slotProps:ft}),[Mt,Ot]=useSlot("root",{elementType:MenuButtonRoot,getSlotProps:xt,externalForwardedProps:Vt,ref:s,ownerState:At,className:kt.root}),[Dt,Ct]=useSlot("startDecorator",{className:kt.startDecorator,elementType:MenuButtonStartDecorator,externalForwardedProps:Vt,ownerState:At}),[St,$t]=useSlot("endDecorator",{className:kt.endDecorator,elementType:MenuButtonEndDecorator,externalForwardedProps:Vt,ownerState:At}),[Lt,Rt]=useSlot("loadingIndicatorCenter",{className:kt.loadingIndicatorCenter,elementType:MenuButtonLoadingCenter,externalForwardedProps:Vt,ownerState:At});return jsxRuntimeExports.jsxs(Mt,_extends$1({},Ot,{children:[(yt||st&&lt==="start")&&jsxRuntimeExports.jsx(Dt,_extends$1({},Ct,{children:st&&lt==="start"?It:yt})),tt,st&&lt==="center"&&jsxRuntimeExports.jsx(Lt,_extends$1({},Rt,{children:It})),(ot||st&&lt==="end")&&jsxRuntimeExports.jsx(St,_extends$1({},$t,{children:st&&lt==="end"?It:ot}))]}))}),MenuButton$1=MenuButton;function getMenuItemUtilityClass$1(o){return generateUtilityClass$1("MuiMenuItem",o)}generateUtilityClasses$1("MuiMenuItem",["root","focusVisible","disabled","selected","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]);const _excluded$X=["children","disabled","component","selected","color","orientation","variant","slots","slotProps","id"],useUtilityClasses$H=o=>{const{focusVisible:i,disabled:s,selected:a,color:et,variant:tt}=o,rt={root:["root",i&&"focusVisible",s&&"disabled",a&&"selected",et&&`color${capitalize(et)}`,tt&&`variant${capitalize(tt)}`]};return composeClasses(rt,getMenuItemUtilityClass$1,{})},MenuItemRoot$1=styled$1(StyledListItemButton,{name:"JoyMenuItem",slot:"Root",overridesResolver:(o,i)=>i.root})({}),MenuItem$2=reactExports.memo(reactExports.forwardRef(function(i,s){const a=useThemeProps$1({props:i,name:"JoyMenuItem"}),et=reactExports.useContext(RowListContext),{children:tt,disabled:rt=!1,component:nt="li",selected:it=!1,color:ot="neutral",orientation:st="horizontal",variant:lt="plain",slots:at={},slotProps:ut={},id:ft}=a,mt=_objectWithoutPropertiesLoose$6(a,_excluded$X),{variant:yt=lt,color:ht=ot}=useVariantColor(i.variant,i.color),{getRootProps:pt,disabled:ct,focusVisible:gt}=useMenuItem({id:ft,disabled:rt,rootRef:s}),Et=_extends$1({},a,{component:nt,color:ht,disabled:ct,focusVisible:gt,orientation:st,selected:it,row:et,variant:yt}),bt=useUtilityClasses$H(Et),xt=_extends$1({},mt,{component:nt,slots:at,slotProps:ut}),[Tt,wt]=useSlot("root",{ref:s,elementType:MenuItemRoot$1,getSlotProps:pt,externalForwardedProps:xt,className:bt.root,ownerState:Et});return jsxRuntimeExports.jsx(ListItemButtonOrientationContext$1.Provider,{value:st,children:jsxRuntimeExports.jsx(Tt,_extends$1({},wt,{children:tt}))})})),StableMenuItem=reactExports.forwardRef(function(i,s){const{contextValue:a,id:et}=useMenuItemContextStabilizer(i.id);return jsxRuntimeExports.jsx(ListContext$2.Provider,{value:a,children:jsxRuntimeExports.jsx(MenuItem$2,_extends$1({},i,{id:et,ref:s}))})}),MenuItem$3=StableMenuItem;function getTextareaUtilityClass(o){return generateUtilityClass$1("MuiTextarea",o)}const textareaClasses=generateUtilityClasses$1("MuiTextarea",["root","textarea","startDecorator","endDecorator","formControl","disabled","error","focused","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft"]),textareaClasses$1=textareaClasses,_excluded$W=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","size","color","variant","startDecorator","endDecorator","minRows","maxRows","component","slots","slotProps"],useUtilityClasses$G=o=>{const{disabled:i,variant:s,color:a,size:et}=o,tt={root:["root",i&&"disabled",s&&`variant${capitalize(s)}`,a&&`color${capitalize(a)}`,et&&`size${capitalize(et)}`],textarea:["textarea"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return composeClasses(tt,getTextareaUtilityClass,{})},TextareaRoot=styled$1("div",{name:"JoyTextarea",slot:"Root",overridesResolver:(o,i)=>i.root})(({theme:o,ownerState:i})=>{var s,a,et,tt,rt,nt;const it=(s=o.variants[`${i.variant}`])==null?void 0:s[i.color];return[_extends$1({"--Textarea-radius":o.vars.radius.sm,"--Textarea-gap":"0.5rem","--Textarea-placeholderColor":"inherit","--Textarea-placeholderOpacity":.64,"--Textarea-decoratorColor":o.vars.palette.text.icon,"--Textarea-focused":"0","--Textarea-focusedThickness":o.vars.focus.thickness,"--Textarea-focusedHighlight":(a=o.vars.palette[i.color==="neutral"?"primary":i.color])==null?void 0:a[500],'&:not([data-inverted-colors="false"])':_extends$1({},i.instanceColor&&{"--_Textarea-focusedHighlight":(et=o.vars.palette[i.instanceColor==="neutral"?"primary":i.instanceColor])==null?void 0:et[500]},{"--Textarea-focusedHighlight":`var(--_Textarea-focusedHighlight, ${o.vars.palette.focusVisible})`})},i.size==="sm"&&{"--Textarea-minHeight":"2rem","--Textarea-paddingBlock":"calc(0.375rem - 0.5px - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.5rem","--Textarea-decoratorChildHeight":"min(1.5rem, var(--Textarea-minHeight))","--Icon-fontSize":o.vars.fontSize.xl},i.size==="md"&&{"--Textarea-minHeight":"2.25rem","--Textarea-paddingBlock":"calc(0.375rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.75rem","--Textarea-decoratorChildHeight":"min(1.75rem, var(--Textarea-minHeight))","--Icon-fontSize":o.vars.fontSize.xl2},i.size==="lg"&&{"--Textarea-minHeight":"3rem","--Textarea-paddingBlock":"calc(0.75rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"1rem","--Textarea-gap":"0.75rem","--Textarea-decoratorChildHeight":"min(2.375rem, var(--Textarea-minHeight))","--Icon-fontSize":o.vars.fontSize.xl2},{"--_Textarea-paddingBlock":"max((var(--Textarea-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Textarea-decoratorChildHeight)) / 2, 0px)","--Textarea-decoratorChildRadius":"max(var(--Textarea-radius) - var(--variant-borderWidth, 0px) - var(--_Textarea-paddingBlock), min(var(--_Textarea-paddingBlock) + var(--variant-borderWidth, 0px), var(--Textarea-radius) / 2))","--Button-minHeight":"var(--Textarea-decoratorChildHeight)","--Button-paddingBlock":"0px","--IconButton-size":"var(--Textarea-decoratorChildHeight)","--Button-radius":"var(--Textarea-decoratorChildRadius)","--IconButton-radius":"var(--Textarea-decoratorChildRadius)",boxSizing:"border-box"},i.variant!=="plain"&&{boxShadow:o.shadow.xs},{minWidth:0,minHeight:"var(--Textarea-minHeight)",cursor:"text",position:"relative",display:"flex",flexDirection:"column",paddingInlineStart:"var(--Textarea-paddingInline)",paddingBlock:"var(--Textarea-paddingBlock)",borderRadius:"var(--Textarea-radius)"},o.typography[`body-${i.size}`],it,{backgroundColor:(tt=it==null?void 0:it.backgroundColor)!=null?tt:o.vars.palette.background.surface,"&::before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)",boxShadow:"var(--Textarea-focusedInset, inset) 0 0 0 calc(var(--Textarea-focused) * var(--Textarea-focusedThickness)) var(--Textarea-focusedHighlight)"}}),{"&:hover":_extends$1({},(rt=o.variants[`${i.variant}Hover`])==null?void 0:rt[i.color],{backgroundColor:null,cursor:"text"}),[`&.${textareaClasses$1.disabled}`]:(nt=o.variants[`${i.variant}Disabled`])==null?void 0:nt[i.color],"&:focus-within::before":{"--Textarea-focused":"1"}}]}),TextareaInput=styled$1(TextareaAutosize,{name:"JoyTextarea",slot:"Textarea",overridesResolver:(o,i)=>i.textarea})({resize:"none",border:"none",minWidth:0,outline:0,padding:0,paddingInlineEnd:"var(--Textarea-paddingInline)",flex:"auto",alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit","&::-webkit-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"}}),TextareaStartDecorator=styled$1("div",{name:"JoyTextarea",slot:"StartDecorator",overridesResolver:(o,i)=>i.startDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockEnd:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),TextareaEndDecorator=styled$1("div",{name:"JoyTextarea",slot:"EndDecorator",overridesResolver:(o,i)=>i.endDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockStart:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),Textarea=reactExports.forwardRef(function(i,s){var a,et,tt,rt,nt,it,ot,st;const lt=useThemeProps$1({props:i,name:"JoyTextarea"}),at=useForwardedInput(lt,textareaClasses$1),{propsToForward:ut,rootStateClasses:ft,inputStateClasses:mt,getRootProps:yt,getInputProps:ht,formControl:pt,focused:ct,error:gt=!1,disabled:Et=!1,size:bt="md",color:xt="neutral",variant:Tt="outlined",startDecorator:wt,endDecorator:It,minRows:At,maxRows:kt,component:Vt,slots:Mt={},slotProps:Ot={}}=at,Dt=_objectWithoutPropertiesLoose$6(at,_excluded$W),Ct=(a=(et=i.disabled)!=null?et:pt==null?void 0:pt.disabled)!=null?a:Et,St=(tt=(rt=i.error)!=null?rt:pt==null?void 0:pt.error)!=null?tt:gt,$t=(nt=(it=i.size)!=null?it:pt==null?void 0:pt.size)!=null?nt:bt,Lt=(ot=i.color)!=null?ot:St?"danger":(st=pt==null?void 0:pt.color)!=null?st:xt,Rt=_extends$1({instanceColor:St?"danger":i.color},lt,{color:Lt,disabled:Ct,error:St,focused:ct,size:$t,variant:Tt}),jt=useUtilityClasses$G(Rt),Ft=_extends$1({},Dt,{component:Vt,slots:Mt,slotProps:Ot}),[zt,Gt]=useSlot("root",{ref:s,className:[jt.root,ft],elementType:TextareaRoot,externalForwardedProps:Ft,getSlotProps:yt,ownerState:Rt}),[Bt,Wt]=useSlot("textarea",{additionalProps:{id:pt==null?void 0:pt.htmlFor,"aria-describedby":pt==null?void 0:pt["aria-describedby"]},className:[jt.textarea,mt],elementType:TextareaInput,internalForwardedProps:_extends$1({},ut,{minRows:At,maxRows:kt}),externalForwardedProps:Ft,getSlotProps:ht,ownerState:Rt}),[Kt,Qt]=useSlot("startDecorator",{className:jt.startDecorator,elementType:TextareaStartDecorator,externalForwardedProps:Ft,ownerState:Rt}),[Xt,er]=useSlot("endDecorator",{className:jt.endDecorator,elementType:TextareaEndDecorator,externalForwardedProps:Ft,ownerState:Rt});return jsxRuntimeExports.jsxs(zt,_extends$1({},Gt,{children:[wt&&jsxRuntimeExports.jsx(Kt,_extends$1({},Qt,{children:wt})),jsxRuntimeExports.jsx(Bt,_extends$1({},Wt)),It&&jsxRuntimeExports.jsx(Xt,_extends$1({},er,{children:It}))]}))}),Textarea$1=Textarea,common={black:"#000",white:"#fff"},common$1=common,red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$1=red,purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$1=purple,blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$1=lightBlue,green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$1=orange,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey,THEME_ID="$$material";function createMixins(o,i){return _extends$1({toolbar:{minHeight:56,[o.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[o.up("sm")]:{minHeight:64}}},i)}const _excluded$V=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$1.white,default:common$1.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$1.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$1.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(o,i,s,a){const et=a.light||a,tt=a.dark||a*1.5;o[i]||(o.hasOwnProperty(s)?o[i]=o[s]:i==="light"?o.light=lighten(o.main,et):i==="dark"&&(o.dark=darken(o.main,tt)))}function getDefaultPrimary(o="light"){return o==="dark"?{main:blue[200],light:blue[50],dark:blue[400]}:{main:blue[700],light:blue[400],dark:blue[800]}}function getDefaultSecondary(o="light"){return o==="dark"?{main:purple$1[200],light:purple$1[50],dark:purple$1[400]}:{main:purple$1[500],light:purple$1[300],dark:purple$1[700]}}function getDefaultError(o="light"){return o==="dark"?{main:red$1[500],light:red$1[300],dark:red$1[700]}:{main:red$1[700],light:red$1[400],dark:red$1[800]}}function getDefaultInfo(o="light"){return o==="dark"?{main:lightBlue$1[400],light:lightBlue$1[300],dark:lightBlue$1[700]}:{main:lightBlue$1[700],light:lightBlue$1[500],dark:lightBlue$1[900]}}function getDefaultSuccess(o="light"){return o==="dark"?{main:green[400],light:green[300],dark:green[700]}:{main:green[800],light:green[500],dark:green[900]}}function getDefaultWarning(o="light"){return o==="dark"?{main:orange$1[400],light:orange$1[300],dark:orange$1[700]}:{main:"#ed6c02",light:orange$1[500],dark:orange$1[900]}}function createPalette(o){const{mode:i="light",contrastThreshold:s=3,tonalOffset:a=.2}=o,et=_objectWithoutPropertiesLoose$6(o,_excluded$V),tt=o.primary||getDefaultPrimary(i),rt=o.secondary||getDefaultSecondary(i),nt=o.error||getDefaultError(i),it=o.info||getDefaultInfo(i),ot=o.success||getDefaultSuccess(i),st=o.warning||getDefaultWarning(i);function lt(mt){return getContrastRatio(mt,dark.text.primary)>=s?dark.text.primary:light.text.primary}const at=({color:mt,name:yt,mainShade:ht=500,lightShade:pt=300,darkShade:ct=700})=>{if(mt=_extends$1({},mt),!mt.main&&mt[ht]&&(mt.main=mt[ht]),!mt.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,yt?` (${yt})`:"",ht));if(typeof mt.main!="string")throw new Error(formatMuiErrorMessage(12,yt?` (${yt})`:"",JSON.stringify(mt.main)));return addLightOrDark(mt,"light",pt,a),addLightOrDark(mt,"dark",ct,a),mt.contrastText||(mt.contrastText=lt(mt.main)),mt},ut={dark,light};return deepmerge(_extends$1({common:_extends$1({},common$1),mode:i,primary:at({color:tt,name:"primary"}),secondary:at({color:rt,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:at({color:nt,name:"error"}),warning:at({color:st,name:"warning"}),info:at({color:it,name:"info"}),success:at({color:ot,name:"success"}),grey:grey$1,contrastThreshold:s,getContrastText:lt,augmentColor:at,tonalOffset:a},ut[i]),et)}const _excluded$U=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$1(o){return Math.round(o*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(o,i){const s=typeof i=="function"?i(o):i,{fontFamily:a=defaultFontFamily,fontSize:et=14,fontWeightLight:tt=300,fontWeightRegular:rt=400,fontWeightMedium:nt=500,fontWeightBold:it=700,htmlFontSize:ot=16,allVariants:st,pxToRem:lt}=s,at=_objectWithoutPropertiesLoose$6(s,_excluded$U),ut=et/14,ft=lt||(ht=>`${ht/ot*ut}rem`),mt=(ht,pt,ct,gt,Et)=>_extends$1({fontFamily:a,fontWeight:ht,fontSize:ft(pt),lineHeight:ct},a===defaultFontFamily?{letterSpacing:`${round$1(gt/pt)}em`}:{},Et,st),yt={h1:mt(tt,96,1.167,-1.5),h2:mt(tt,60,1.2,-.5),h3:mt(rt,48,1.167,0),h4:mt(rt,34,1.235,.25),h5:mt(rt,24,1.334,0),h6:mt(nt,20,1.6,.15),subtitle1:mt(rt,16,1.75,.15),subtitle2:mt(nt,14,1.57,.1),body1:mt(rt,16,1.5,.15),body2:mt(rt,14,1.43,.15),button:mt(nt,14,1.75,.4,caseAllCaps),caption:mt(rt,12,1.66,.4),overline:mt(rt,12,2.66,1,caseAllCaps),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return deepmerge(_extends$1({htmlFontSize:ot,pxToRem:ft,fontFamily:a,fontSize:et,fontWeightLight:tt,fontWeightRegular:rt,fontWeightMedium:nt,fontWeightBold:it},yt),at,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...o){return[`${o[0]}px ${o[1]}px ${o[2]}px ${o[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${o[4]}px ${o[5]}px ${o[6]}px ${o[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${o[8]}px ${o[9]}px ${o[10]}px ${o[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],_excluded$T=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(o){return`${Math.round(o)}ms`}function getAutoHeightDuration(o){if(!o)return 0;const i=o/36;return Math.round((4+15*i**.25+i/5)*10)}function createTransitions(o){const i=_extends$1({},easing,o.easing),s=_extends$1({},duration,o.duration);return _extends$1({getAutoHeightDuration,create:(et=["all"],tt={})=>{const{duration:rt=s.standard,easing:nt=i.easeInOut,delay:it=0}=tt;return _objectWithoutPropertiesLoose$6(tt,_excluded$T),(Array.isArray(et)?et:[et]).map(ot=>`${ot} ${typeof rt=="string"?rt:formatMs(rt)} ${nt} ${typeof it=="string"?it:formatMs(it)}`).join(",")}},o,{easing:i,duration:s})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$S=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(o={},...i){const{mixins:s={},palette:a={},transitions:et={},typography:tt={}}=o,rt=_objectWithoutPropertiesLoose$6(o,_excluded$S);if(o.vars)throw new Error(formatMuiErrorMessage(18));const nt=createPalette(a),it=createTheme$1(o);let ot=deepmerge(it,{mixins:createMixins(it.breakpoints,s),palette:nt,shadows:shadows.slice(),typography:createTypography(nt,tt),transitions:createTransitions(et),zIndex:_extends$1({},zIndex$1)});return ot=deepmerge(ot,rt),ot=i.reduce((st,lt)=>deepmerge(st,lt),ot),ot.unstable_sxConfig=_extends$1({},defaultSxConfig$2,rt==null?void 0:rt.unstable_sxConfig),ot.unstable_sx=function(lt){return styleFunctionSx({sx:lt,theme:this})},ot}const defaultTheme$1=createTheme(),defaultTheme$2=defaultTheme$1;function useTheme(){const o=useTheme$1(defaultTheme$2);return o[THEME_ID]||o}function useThemeProps({props:o,name:i}){return useThemeProps$2({props:o,name:i,defaultTheme:defaultTheme$2,themeId:THEME_ID})}const rootShouldForwardProp=o=>shouldForwardProp(o)&&o!=="classes",slotShouldForwardProp=shouldForwardProp,styled=createStyled({themeId:THEME_ID,defaultTheme:defaultTheme$2,rootShouldForwardProp}),getOverlayAlpha=o=>{let i;return o<1?i=5.11916*o**2:i=4.5*Math.log(o+1)+2,(i/100).toFixed(2)};function getSvgIconUtilityClass(o){return generateUtilityClass$2("MuiSvgIcon",o)}generateUtilityClasses$2("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$R=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$F=o=>{const{color:i,fontSize:s,classes:a}=o,et={root:["root",i!=="inherit"&&`color${capitalize(i)}`,`fontSize${capitalize(s)}`]};return composeClasses(et,getSvgIconUtilityClass,a)},SvgIconRoot=styled("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.color!=="inherit"&&i[`color${capitalize(s.color)}`],i[`fontSize${capitalize(s.fontSize)}`]]}})(({theme:o,ownerState:i})=>{var s,a,et,tt,rt,nt,it,ot,st,lt,at,ut,ft;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:i.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(s=o.transitions)==null||(a=s.create)==null?void 0:a.call(s,"fill",{duration:(et=o.transitions)==null||(et=et.duration)==null?void 0:et.shorter}),fontSize:{inherit:"inherit",small:((tt=o.typography)==null||(rt=tt.pxToRem)==null?void 0:rt.call(tt,20))||"1.25rem",medium:((nt=o.typography)==null||(it=nt.pxToRem)==null?void 0:it.call(nt,24))||"1.5rem",large:((ot=o.typography)==null||(st=ot.pxToRem)==null?void 0:st.call(ot,35))||"2.1875rem"}[i.fontSize],color:(lt=(at=(o.vars||o).palette)==null||(at=at[i.color])==null?void 0:at.main)!=null?lt:{action:(ut=(o.vars||o).palette)==null||(ut=ut.action)==null?void 0:ut.active,disabled:(ft=(o.vars||o).palette)==null||(ft=ft.action)==null?void 0:ft.disabled,inherit:void 0}[i.color]}}),SvgIcon=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiSvgIcon"}),{children:et,className:tt,color:rt="inherit",component:nt="svg",fontSize:it="medium",htmlColor:ot,inheritViewBox:st=!1,titleAccess:lt,viewBox:at="0 0 24 24"}=a,ut=_objectWithoutPropertiesLoose$6(a,_excluded$R),ft=reactExports.isValidElement(et)&&et.type==="svg",mt=_extends$1({},a,{color:rt,component:nt,fontSize:it,instanceFontSize:i.fontSize,inheritViewBox:st,viewBox:at,hasSvgAsChild:ft}),yt={};st||(yt.viewBox=at);const ht=useUtilityClasses$F(mt);return jsxRuntimeExports.jsxs(SvgIconRoot,_extends$1({as:nt,className:clsx(ht.root,tt),focusable:"false",color:ot,"aria-hidden":lt?void 0:!0,role:lt?"img":void 0,ref:s},yt,ut,ft&&et.props,{ownerState:mt,children:[ft?et.props.children:et,lt?jsxRuntimeExports.jsx("title",{children:lt}):null]}))});SvgIcon.muiName="SvgIcon";function createSvgIcon$1(o,i){function s(a,et){return jsxRuntimeExports.jsx(SvgIcon,_extends$1({"data-testid":`${i}Icon`,ref:et},a,{children:o}))}return s.muiName=SvgIcon.muiName,reactExports.memo(reactExports.forwardRef(s))}const unstable_ClassNameGenerator={configure:o=>{ClassNameGenerator.configure(o)}},utils=Object.freeze(Object.defineProperty({__proto__:null,capitalize,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce:debounce$2,deprecatedPropType,isMuiElement,ownerDocument:ownerDocument$1,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback:useEventCallback$1,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));var reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$1=Symbol.for("react.element"),c=Symbol.for("react.portal"),d=Symbol.for("react.fragment"),e=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),g=Symbol.for("react.provider"),h$1=Symbol.for("react.context"),k=Symbol.for("react.server_context"),l=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),n=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),q=Symbol.for("react.lazy"),t=Symbol.for("react.offscreen"),u;u=Symbol.for("react.module.reference");function v$1(o){if(typeof o=="object"&&o!==null){var i=o.$$typeof;switch(i){case b$1:switch(o=o.type,o){case d:case f:case e:case m:case n:return o;default:switch(o=o&&o.$$typeof,o){case k:case h$1:case l:case q:case p:case g:return o;default:return i}}case c:return i}}}reactIs_production_min.ContextConsumer=h$1;reactIs_production_min.ContextProvider=g;reactIs_production_min.Element=b$1;reactIs_production_min.ForwardRef=l;reactIs_production_min.Fragment=d;reactIs_production_min.Lazy=q;reactIs_production_min.Memo=p;reactIs_production_min.Portal=c;reactIs_production_min.Profiler=f;reactIs_production_min.StrictMode=e;reactIs_production_min.Suspense=m;reactIs_production_min.SuspenseList=n;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(o){return v$1(o)===h$1};reactIs_production_min.isContextProvider=function(o){return v$1(o)===g};reactIs_production_min.isElement=function(o){return typeof o=="object"&&o!==null&&o.$$typeof===b$1};reactIs_production_min.isForwardRef=function(o){return v$1(o)===l};reactIs_production_min.isFragment=function(o){return v$1(o)===d};reactIs_production_min.isLazy=function(o){return v$1(o)===q};reactIs_production_min.isMemo=function(o){return v$1(o)===p};reactIs_production_min.isPortal=function(o){return v$1(o)===c};reactIs_production_min.isProfiler=function(o){return v$1(o)===f};reactIs_production_min.isStrictMode=function(o){return v$1(o)===e};reactIs_production_min.isSuspense=function(o){return v$1(o)===m};reactIs_production_min.isSuspenseList=function(o){return v$1(o)===n};reactIs_production_min.isValidElementType=function(o){return typeof o=="string"||typeof o=="function"||o===d||o===f||o===e||o===m||o===n||o===t||typeof o=="object"&&o!==null&&(o.$$typeof===q||o.$$typeof===p||o.$$typeof===g||o.$$typeof===h$1||o.$$typeof===l||o.$$typeof===u||o.getModuleId!==void 0)};reactIs_production_min.typeOf=v$1;function _setPrototypeOf(o,i){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(a,et){return a.__proto__=et,a},_setPrototypeOf(o,i)}function _inheritsLoose$1(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,_setPrototypeOf(o,i)}const config={disabled:!1},TransitionGroupContext=React$2.createContext(null);var forceReflow=function(i){return i.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(o){_inheritsLoose$1(i,o);function i(a,et){var tt;tt=o.call(this,a,et)||this;var rt=et,nt=rt&&!rt.isMounting?a.enter:a.appear,it;return tt.appearStatus=null,a.in?nt?(it=EXITED,tt.appearStatus=ENTERING):it=ENTERED:a.unmountOnExit||a.mountOnEnter?it=UNMOUNTED:it=EXITED,tt.state={status:it},tt.nextCallback=null,tt}i.getDerivedStateFromProps=function(et,tt){var rt=et.in;return rt&&tt.status===UNMOUNTED?{status:EXITED}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(et){var tt=null;if(et!==this.props){var rt=this.state.status;this.props.in?rt!==ENTERING&&rt!==ENTERED&&(tt=ENTERING):(rt===ENTERING||rt===ENTERED)&&(tt=EXITING)}this.updateStatus(!1,tt)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var et=this.props.timeout,tt,rt,nt;return tt=rt=nt=et,et!=null&&typeof et!="number"&&(tt=et.exit,rt=et.enter,nt=et.appear!==void 0?et.appear:rt),{exit:tt,enter:rt,appear:nt}},s.updateStatus=function(et,tt){if(et===void 0&&(et=!1),tt!==null)if(this.cancelNextCallback(),tt===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var rt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);rt&&forceReflow(rt)}this.performEnter(et)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},s.performEnter=function(et){var tt=this,rt=this.props.enter,nt=this.context?this.context.isMounting:et,it=this.props.nodeRef?[nt]:[ReactDOM.findDOMNode(this),nt],ot=it[0],st=it[1],lt=this.getTimeouts(),at=nt?lt.appear:lt.enter;if(!et&&!rt||config.disabled){this.safeSetState({status:ENTERED},function(){tt.props.onEntered(ot)});return}this.props.onEnter(ot,st),this.safeSetState({status:ENTERING},function(){tt.props.onEntering(ot,st),tt.onTransitionEnd(at,function(){tt.safeSetState({status:ENTERED},function(){tt.props.onEntered(ot,st)})})})},s.performExit=function(){var et=this,tt=this.props.exit,rt=this.getTimeouts(),nt=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!tt||config.disabled){this.safeSetState({status:EXITED},function(){et.props.onExited(nt)});return}this.props.onExit(nt),this.safeSetState({status:EXITING},function(){et.props.onExiting(nt),et.onTransitionEnd(rt.exit,function(){et.safeSetState({status:EXITED},function(){et.props.onExited(nt)})})})},s.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(et,tt){tt=this.setNextCallback(tt),this.setState(et,tt)},s.setNextCallback=function(et){var tt=this,rt=!0;return this.nextCallback=function(nt){rt&&(rt=!1,tt.nextCallback=null,et(nt))},this.nextCallback.cancel=function(){rt=!1},this.nextCallback},s.onTransitionEnd=function(et,tt){this.setNextCallback(tt);var rt=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),nt=et==null&&!this.props.addEndListener;if(!rt||nt){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var it=this.props.nodeRef?[this.nextCallback]:[rt,this.nextCallback],ot=it[0],st=it[1];this.props.addEndListener(ot,st)}et!=null&&setTimeout(this.nextCallback,et)},s.render=function(){var et=this.state.status;if(et===UNMOUNTED)return null;var tt=this.props,rt=tt.children;tt.in,tt.mountOnEnter,tt.unmountOnExit,tt.appear,tt.enter,tt.exit,tt.timeout,tt.addEndListener,tt.onEnter,tt.onEntering,tt.onEntered,tt.onExit,tt.onExiting,tt.onExited,tt.nodeRef;var nt=_objectWithoutPropertiesLoose$6(tt,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React$2.createElement(TransitionGroupContext.Provider,{value:null},typeof rt=="function"?rt(et,nt):React$2.cloneElement(React$2.Children.only(rt),nt))},i}(React$2.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$3(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$3,onEntering:noop$3,onEntered:noop$3,onExit:noop$3,onExiting:noop$3,onExited:noop$3};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function getChildMapping(o,i){var s=function(tt){return i&&reactExports.isValidElement(tt)?i(tt):tt},a=Object.create(null);return o&&reactExports.Children.map(o,function(et){return et}).forEach(function(et){a[et.key]=s(et)}),a}function mergeChildMappings(o,i){o=o||{},i=i||{};function s(st){return st in i?i[st]:o[st]}var a=Object.create(null),et=[];for(var tt in o)tt in i?et.length&&(a[tt]=et,et=[]):et.push(tt);var rt,nt={};for(var it in i){if(a[it])for(rt=0;rt<a[it].length;rt++){var ot=a[it][rt];nt[a[it][rt]]=s(ot)}nt[it]=s(it)}for(rt=0;rt<et.length;rt++)nt[et[rt]]=s(et[rt]);return nt}function getProp(o,i,s){return s[i]!=null?s[i]:o.props[i]}function getInitialChildMapping(o,i){return getChildMapping(o.children,function(s){return reactExports.cloneElement(s,{onExited:i.bind(null,s),in:!0,appear:getProp(s,"appear",o),enter:getProp(s,"enter",o),exit:getProp(s,"exit",o)})})}function getNextChildMapping(o,i,s){var a=getChildMapping(o.children),et=mergeChildMappings(i,a);return Object.keys(et).forEach(function(tt){var rt=et[tt];if(reactExports.isValidElement(rt)){var nt=tt in i,it=tt in a,ot=i[tt],st=reactExports.isValidElement(ot)&&!ot.props.in;it&&(!nt||st)?et[tt]=reactExports.cloneElement(rt,{onExited:s.bind(null,rt),in:!0,exit:getProp(rt,"exit",o),enter:getProp(rt,"enter",o)}):!it&&nt&&!st?et[tt]=reactExports.cloneElement(rt,{in:!1}):it&&nt&&reactExports.isValidElement(ot)&&(et[tt]=reactExports.cloneElement(rt,{onExited:s.bind(null,rt),in:ot.props.in,exit:getProp(rt,"exit",o),enter:getProp(rt,"enter",o)}))}}),et}var values=Object.values||function(o){return Object.keys(o).map(function(i){return o[i]})},defaultProps$2={component:"div",childFactory:function(i){return i}},TransitionGroup=function(o){_inheritsLoose$1(i,o);function i(a,et){var tt;tt=o.call(this,a,et)||this;var rt=tt.handleExited.bind(_assertThisInitialized(tt));return tt.state={contextValue:{isMounting:!0},handleExited:rt,firstRender:!0},tt}var s=i.prototype;return s.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},s.componentWillUnmount=function(){this.mounted=!1},i.getDerivedStateFromProps=function(et,tt){var rt=tt.children,nt=tt.handleExited,it=tt.firstRender;return{children:it?getInitialChildMapping(et,nt):getNextChildMapping(et,rt,nt),firstRender:!1}},s.handleExited=function(et,tt){var rt=getChildMapping(this.props.children);et.key in rt||(et.props.onExited&&et.props.onExited(tt),this.mounted&&this.setState(function(nt){var it=_extends$1({},nt.children);return delete it[et.key],{children:it}}))},s.render=function(){var et=this.props,tt=et.component,rt=et.childFactory,nt=_objectWithoutPropertiesLoose$6(et,["component","childFactory"]),it=this.state.contextValue,ot=values(this.state.children).map(rt);return delete nt.appear,delete nt.enter,delete nt.exit,tt===null?React$2.createElement(TransitionGroupContext.Provider,{value:it},ot):React$2.createElement(TransitionGroupContext.Provider,{value:it},React$2.createElement(tt,nt,ot))},i}(React$2.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$2;const TransitionGroup$1=TransitionGroup,reflow=o=>o.scrollTop;function getTransitionProps(o,i){var s,a;const{timeout:et,easing:tt,style:rt={}}=o;return{duration:(s=rt.transitionDuration)!=null?s:typeof et=="number"?et:et[i.mode]||0,easing:(a=rt.transitionTimingFunction)!=null?a:typeof tt=="object"?tt[i.mode]:tt,delay:rt.transitionDelay}}function getPaperUtilityClass(o){return generateUtilityClass$2("MuiPaper",o)}generateUtilityClasses$2("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$Q=["className","component","elevation","square","variant"],useUtilityClasses$E=o=>{const{square:i,elevation:s,variant:a,classes:et}=o,tt={root:["root",a,!i&&"rounded",a==="elevation"&&`elevation${s}`]};return composeClasses(tt,getPaperUtilityClass,et)},PaperRoot=styled("div",{name:"MuiPaper",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,i[s.variant],!s.square&&i.rounded,s.variant==="elevation"&&i[`elevation${s.elevation}`]]}})(({theme:o,ownerState:i})=>{var s;return _extends$1({backgroundColor:(o.vars||o).palette.background.paper,color:(o.vars||o).palette.text.primary,transition:o.transitions.create("box-shadow")},!i.square&&{borderRadius:o.shape.borderRadius},i.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.divider}`},i.variant==="elevation"&&_extends$1({boxShadow:(o.vars||o).shadows[i.elevation]},!o.vars&&o.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha(i.elevation))}, ${alpha("#fff",getOverlayAlpha(i.elevation))})`},o.vars&&{backgroundImage:(s=o.vars.overlays)==null?void 0:s[i.elevation]}))}),Paper=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiPaper"}),{className:et,component:tt="div",elevation:rt=1,square:nt=!1,variant:it="elevation"}=a,ot=_objectWithoutPropertiesLoose$6(a,_excluded$Q),st=_extends$1({},a,{component:tt,elevation:rt,square:nt,variant:it}),lt=useUtilityClasses$E(st);return jsxRuntimeExports.jsx(PaperRoot,_extends$1({as:tt,ownerState:st,className:clsx(lt.root,et),ref:s},ot))}),Paper$1=Paper;function Ripple(o){const{className:i,classes:s,pulsate:a=!1,rippleX:et,rippleY:tt,rippleSize:rt,in:nt,onExited:it,timeout:ot}=o,[st,lt]=reactExports.useState(!1),at=clsx(i,s.ripple,s.rippleVisible,a&&s.ripplePulsate),ut={width:rt,height:rt,top:-(rt/2)+tt,left:-(rt/2)+et},ft=clsx(s.child,st&&s.childLeaving,a&&s.childPulsate);return!nt&&!st&&lt(!0),reactExports.useEffect(()=>{if(!nt&&it!=null){const mt=setTimeout(it,ot);return()=>{clearTimeout(mt)}}},[it,nt,ot]),jsxRuntimeExports.jsx("span",{className:at,style:ut,children:jsxRuntimeExports.jsx("span",{className:ft})})}const touchRippleClasses=generateUtilityClasses$2("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),_excluded$P=["center","classes","className"];let _=o=>o,_t,_t2,_t3,_t4;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t||(_t=_`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2||(_t2=_`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3||(_t3=_`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4||(_t4=_`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses.rippleVisible,enterKeyframe,DURATION,({theme:o})=>o.transitions.easing.easeInOut,touchRippleClasses.ripplePulsate,({theme:o})=>o.transitions.duration.shorter,touchRippleClasses.child,touchRippleClasses.childLeaving,exitKeyframe,DURATION,({theme:o})=>o.transitions.easing.easeInOut,touchRippleClasses.childPulsate,pulsateKeyframe,({theme:o})=>o.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiTouchRipple"}),{center:et=!1,classes:tt={},className:rt}=a,nt=_objectWithoutPropertiesLoose$6(a,_excluded$P),[it,ot]=reactExports.useState([]),st=reactExports.useRef(0),lt=reactExports.useRef(null);reactExports.useEffect(()=>{lt.current&&(lt.current(),lt.current=null)},[it]);const at=reactExports.useRef(!1),ut=useTimeout(),ft=reactExports.useRef(null),mt=reactExports.useRef(null),yt=reactExports.useCallback(gt=>{const{pulsate:Et,rippleX:bt,rippleY:xt,rippleSize:Tt,cb:wt}=gt;ot(It=>[...It,jsxRuntimeExports.jsx(TouchRippleRipple,{classes:{ripple:clsx(tt.ripple,touchRippleClasses.ripple),rippleVisible:clsx(tt.rippleVisible,touchRippleClasses.rippleVisible),ripplePulsate:clsx(tt.ripplePulsate,touchRippleClasses.ripplePulsate),child:clsx(tt.child,touchRippleClasses.child),childLeaving:clsx(tt.childLeaving,touchRippleClasses.childLeaving),childPulsate:clsx(tt.childPulsate,touchRippleClasses.childPulsate)},timeout:DURATION,pulsate:Et,rippleX:bt,rippleY:xt,rippleSize:Tt},st.current)]),st.current+=1,lt.current=wt},[tt]),ht=reactExports.useCallback((gt={},Et={},bt=()=>{})=>{const{pulsate:xt=!1,center:Tt=et||Et.pulsate,fakeElement:wt=!1}=Et;if((gt==null?void 0:gt.type)==="mousedown"&&at.current){at.current=!1;return}(gt==null?void 0:gt.type)==="touchstart"&&(at.current=!0);const It=wt?null:mt.current,At=It?It.getBoundingClientRect():{width:0,height:0,left:0,top:0};let kt,Vt,Mt;if(Tt||gt===void 0||gt.clientX===0&&gt.clientY===0||!gt.clientX&&!gt.touches)kt=Math.round(At.width/2),Vt=Math.round(At.height/2);else{const{clientX:Ot,clientY:Dt}=gt.touches&&gt.touches.length>0?gt.touches[0]:gt;kt=Math.round(Ot-At.left),Vt=Math.round(Dt-At.top)}if(Tt)Mt=Math.sqrt((2*At.width**2+At.height**2)/3),Mt%2===0&&(Mt+=1);else{const Ot=Math.max(Math.abs((It?It.clientWidth:0)-kt),kt)*2+2,Dt=Math.max(Math.abs((It?It.clientHeight:0)-Vt),Vt)*2+2;Mt=Math.sqrt(Ot**2+Dt**2)}gt!=null&&gt.touches?ft.current===null&&(ft.current=()=>{yt({pulsate:xt,rippleX:kt,rippleY:Vt,rippleSize:Mt,cb:bt})},ut.start(DELAY_RIPPLE,()=>{ft.current&&(ft.current(),ft.current=null)})):yt({pulsate:xt,rippleX:kt,rippleY:Vt,rippleSize:Mt,cb:bt})},[et,yt,ut]),pt=reactExports.useCallback(()=>{ht({},{pulsate:!0})},[ht]),ct=reactExports.useCallback((gt,Et)=>{if(ut.clear(),(gt==null?void 0:gt.type)==="touchend"&&ft.current){ft.current(),ft.current=null,ut.start(0,()=>{ct(gt,Et)});return}ft.current=null,ot(bt=>bt.length>0?bt.slice(1):bt),lt.current=Et},[ut]);return reactExports.useImperativeHandle(s,()=>({pulsate:pt,start:ht,stop:ct}),[pt,ht,ct]),jsxRuntimeExports.jsx(TouchRippleRoot,_extends$1({className:clsx(touchRippleClasses.root,tt.root,rt),ref:mt},nt,{children:jsxRuntimeExports.jsx(TransitionGroup$1,{component:null,exit:!0,children:it})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(o){return generateUtilityClass$2("MuiButtonBase",o)}const buttonBaseClasses=generateUtilityClasses$2("MuiButtonBase",["root","disabled","focusVisible"]),_excluded$O=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$D=o=>{const{disabled:i,focusVisible:s,focusVisibleClassName:a,classes:et}=o,rt=composeClasses({root:["root",i&&"disabled",s&&"focusVisible"]},getButtonBaseUtilityClass,et);return s&&a&&(rt.root+=` ${a}`),rt},ButtonBaseRoot=styled("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(o,i)=>i.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiButtonBase"}),{action:et,centerRipple:tt=!1,children:rt,className:nt,component:it="button",disabled:ot=!1,disableRipple:st=!1,disableTouchRipple:lt=!1,focusRipple:at=!1,LinkComponent:ut="a",onBlur:ft,onClick:mt,onContextMenu:yt,onDragLeave:ht,onFocus:pt,onFocusVisible:ct,onKeyDown:gt,onKeyUp:Et,onMouseDown:bt,onMouseLeave:xt,onMouseUp:Tt,onTouchEnd:wt,onTouchMove:It,onTouchStart:At,tabIndex:kt=0,TouchRippleProps:Vt,touchRippleRef:Mt,type:Ot}=a,Dt=_objectWithoutPropertiesLoose$6(a,_excluded$O),Ct=reactExports.useRef(null),St=reactExports.useRef(null),$t=useForkRef(St,Mt),{isFocusVisibleRef:Lt,onFocus:Rt,onBlur:jt,ref:Ft}=useIsFocusVisible(),[zt,Gt]=reactExports.useState(!1);ot&&zt&&Gt(!1),reactExports.useImperativeHandle(et,()=>({focusVisible:()=>{Gt(!0),Ct.current.focus()}}),[]);const[Bt,Wt]=reactExports.useState(!1);reactExports.useEffect(()=>{Wt(!0)},[]);const Kt=Bt&&!st&&!ot;reactExports.useEffect(()=>{zt&&at&&!st&&Bt&&St.current.pulsate()},[st,at,zt,Bt]);function Qt(Mr,Br,fn=lt){return useEventCallback$1(In=>(Br&&Br(In),!fn&&St.current&&St.current[Mr](In),!0))}const Xt=Qt("start",bt),er=Qt("stop",yt),sr=Qt("stop",ht),ur=Qt("stop",Tt),nr=Qt("stop",Mr=>{zt&&Mr.preventDefault(),xt&&xt(Mr)}),yr=Qt("start",At),Ar=Qt("stop",wt),Er=Qt("stop",It),lr=Qt("stop",Mr=>{jt(Mr),Lt.current===!1&&Gt(!1),ft&&ft(Mr)},!1),dr=useEventCallback$1(Mr=>{Ct.current||(Ct.current=Mr.currentTarget),Rt(Mr),Lt.current===!0&&(Gt(!0),ct&&ct(Mr)),pt&&pt(Mr)}),pr=()=>{const Mr=Ct.current;return it&&it!=="button"&&!(Mr.tagName==="A"&&Mr.href)},ar=reactExports.useRef(!1),mr=useEventCallback$1(Mr=>{at&&!ar.current&&zt&&St.current&&Mr.key===" "&&(ar.current=!0,St.current.stop(Mr,()=>{St.current.start(Mr)})),Mr.target===Mr.currentTarget&&pr()&&Mr.key===" "&&Mr.preventDefault(),gt&&gt(Mr),Mr.target===Mr.currentTarget&&pr()&&Mr.key==="Enter"&&!ot&&(Mr.preventDefault(),mt&&mt(Mr))}),wr=useEventCallback$1(Mr=>{at&&Mr.key===" "&&St.current&&zt&&!Mr.defaultPrevented&&(ar.current=!1,St.current.stop(Mr,()=>{St.current.pulsate(Mr)})),Et&&Et(Mr),mt&&Mr.target===Mr.currentTarget&&pr()&&Mr.key===" "&&!Mr.defaultPrevented&&mt(Mr)});let Sr=it;Sr==="button"&&(Dt.href||Dt.to)&&(Sr=ut);const Or={};Sr==="button"?(Or.type=Ot===void 0?"button":Ot,Or.disabled=ot):(!Dt.href&&!Dt.to&&(Or.role="button"),ot&&(Or["aria-disabled"]=ot));const Ur=useForkRef(s,Ft,Ct),zr=_extends$1({},a,{centerRipple:tt,component:it,disabled:ot,disableRipple:st,disableTouchRipple:lt,focusRipple:at,tabIndex:kt,focusVisible:zt}),Vr=useUtilityClasses$D(zr);return jsxRuntimeExports.jsxs(ButtonBaseRoot,_extends$1({as:Sr,className:clsx(Vr.root,nt),ownerState:zr,onBlur:lr,onClick:mt,onContextMenu:er,onFocus:dr,onKeyDown:mr,onKeyUp:wr,onMouseDown:Xt,onMouseLeave:nr,onMouseUp:ur,onDragLeave:sr,onTouchEnd:Ar,onTouchMove:Er,onTouchStart:yr,ref:Ur,tabIndex:ot?-1:kt,type:Ot},Or,Dt,{children:[rt,Kt?jsxRuntimeExports.jsx(TouchRipple$1,_extends$1({ref:$t,center:tt},Vt)):null]}))}),ButtonBase$1=ButtonBase;function getIconButtonUtilityClass(o){return generateUtilityClass$2("MuiIconButton",o)}const iconButtonClasses=generateUtilityClasses$2("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),_excluded$N=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$C=o=>{const{classes:i,disabled:s,color:a,edge:et,size:tt}=o,rt={root:["root",s&&"disabled",a!=="default"&&`color${capitalize(a)}`,et&&`edge${capitalize(et)}`,`size${capitalize(tt)}`]};return composeClasses(rt,getIconButtonUtilityClass,i)},IconButtonRoot=styled(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.color!=="default"&&i[`color${capitalize(s.color)}`],s.edge&&i[`edge${capitalize(s.edge)}`],i[`size${capitalize(s.size)}`]]}})(({theme:o,ownerState:i})=>_extends$1({textAlign:"center",flex:"0 0 auto",fontSize:o.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(o.vars||o).palette.action.active,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest})},!i.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${o.vars.palette.action.activeChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha(o.palette.action.active,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},i.edge==="start"&&{marginLeft:i.size==="small"?-3:-12},i.edge==="end"&&{marginRight:i.size==="small"?-3:-12}),({theme:o,ownerState:i})=>{var s;const a=(s=(o.vars||o).palette)==null?void 0:s[i.color];return _extends$1({},i.color==="inherit"&&{color:"inherit"},i.color!=="inherit"&&i.color!=="default"&&_extends$1({color:a==null?void 0:a.main},!i.disableRipple&&{"&:hover":_extends$1({},a&&{backgroundColor:o.vars?`rgba(${a.mainChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha(a.main,o.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),i.size==="small"&&{padding:5,fontSize:o.typography.pxToRem(18)},i.size==="large"&&{padding:12,fontSize:o.typography.pxToRem(28)},{[`&.${iconButtonClasses.disabled}`]:{backgroundColor:"transparent",color:(o.vars||o).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiIconButton"}),{edge:et=!1,children:tt,className:rt,color:nt="default",disabled:it=!1,disableFocusRipple:ot=!1,size:st="medium"}=a,lt=_objectWithoutPropertiesLoose$6(a,_excluded$N),at=_extends$1({},a,{edge:et,color:nt,disabled:it,disableFocusRipple:ot,size:st}),ut=useUtilityClasses$C(at);return jsxRuntimeExports.jsx(IconButtonRoot,_extends$1({className:clsx(ut.root,rt),centerRipple:!0,focusRipple:!ot,disabled:it,ref:s,ownerState:at},lt,{children:tt}))}),IconButton$1=IconButton;function getTypographyUtilityClass(o){return generateUtilityClass$2("MuiTypography",o)}generateUtilityClasses$2("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$M=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$B=o=>{const{align:i,gutterBottom:s,noWrap:a,paragraph:et,variant:tt,classes:rt}=o,nt={root:["root",tt,o.align!=="inherit"&&`align${capitalize(i)}`,s&&"gutterBottom",a&&"noWrap",et&&"paragraph"]};return composeClasses(nt,getTypographyUtilityClass,rt)},TypographyRoot=styled("span",{name:"MuiTypography",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.variant&&i[s.variant],s.align!=="inherit"&&i[`align${capitalize(s.align)}`],s.noWrap&&i.noWrap,s.gutterBottom&&i.gutterBottom,s.paragraph&&i.paragraph]}})(({theme:o,ownerState:i})=>_extends$1({margin:0},i.variant==="inherit"&&{font:"inherit"},i.variant!=="inherit"&&o.typography[i.variant],i.align!=="inherit"&&{textAlign:i.align},i.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},i.gutterBottom&&{marginBottom:"0.35em"},i.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=o=>colorTransformations[o]||o,Typography=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiTypography"}),et=transformDeprecatedColors(a.color),tt=extendSxProp(_extends$1({},a,{color:et})),{align:rt="inherit",className:nt,component:it,gutterBottom:ot=!1,noWrap:st=!1,paragraph:lt=!1,variant:at="body1",variantMapping:ut=defaultVariantMapping}=tt,ft=_objectWithoutPropertiesLoose$6(tt,_excluded$M),mt=_extends$1({},tt,{align:rt,color:et,className:nt,component:it,gutterBottom:ot,noWrap:st,paragraph:lt,variant:at,variantMapping:ut}),yt=it||(lt?"p":ut[at]||defaultVariantMapping[at])||"span",ht=useUtilityClasses$B(mt);return jsxRuntimeExports.jsx(TypographyRoot,_extends$1({as:yt,ref:s,ownerState:mt,className:clsx(ht.root,nt)},ft))}),Typography$1=Typography;function getAppBarUtilityClass(o){return generateUtilityClass$2("MuiAppBar",o)}generateUtilityClasses$2("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const _excluded$L=["className","color","enableColorOnDark","position"],useUtilityClasses$A=o=>{const{color:i,position:s,classes:a}=o,et={root:["root",`color${capitalize(i)}`,`position${capitalize(s)}`]};return composeClasses(et,getAppBarUtilityClass,a)},joinVars=(o,i)=>o?`${o==null?void 0:o.replace(")","")}, ${i})`:i,AppBarRoot=styled(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,i[`position${capitalize(s.position)}`],i[`color${capitalize(s.color)}`]]}})(({theme:o,ownerState:i})=>{const s=o.palette.mode==="light"?o.palette.grey[100]:o.palette.grey[900];return _extends$1({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},i.position==="fixed"&&{position:"fixed",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},i.position==="absolute"&&{position:"absolute",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},i.position==="sticky"&&{position:"sticky",zIndex:(o.vars||o).zIndex.appBar,top:0,left:"auto",right:0},i.position==="static"&&{position:"static"},i.position==="relative"&&{position:"relative"},!o.vars&&_extends$1({},i.color==="default"&&{backgroundColor:s,color:o.palette.getContrastText(s)},i.color&&i.color!=="default"&&i.color!=="inherit"&&i.color!=="transparent"&&{backgroundColor:o.palette[i.color].main,color:o.palette[i.color].contrastText},i.color==="inherit"&&{color:"inherit"},o.palette.mode==="dark"&&!i.enableColorOnDark&&{backgroundColor:null,color:null},i.color==="transparent"&&_extends$1({backgroundColor:"transparent",color:"inherit"},o.palette.mode==="dark"&&{backgroundImage:"none"})),o.vars&&_extends$1({},i.color==="default"&&{"--AppBar-background":i.enableColorOnDark?o.vars.palette.AppBar.defaultBg:joinVars(o.vars.palette.AppBar.darkBg,o.vars.palette.AppBar.defaultBg),"--AppBar-color":i.enableColorOnDark?o.vars.palette.text.primary:joinVars(o.vars.palette.AppBar.darkColor,o.vars.palette.text.primary)},i.color&&!i.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":i.enableColorOnDark?o.vars.palette[i.color].main:joinVars(o.vars.palette.AppBar.darkBg,o.vars.palette[i.color].main),"--AppBar-color":i.enableColorOnDark?o.vars.palette[i.color].contrastText:joinVars(o.vars.palette.AppBar.darkColor,o.vars.palette[i.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:i.color==="inherit"?"inherit":"var(--AppBar-color)"},i.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiAppBar"}),{className:et,color:tt="primary",enableColorOnDark:rt=!1,position:nt="fixed"}=a,it=_objectWithoutPropertiesLoose$6(a,_excluded$L),ot=_extends$1({},a,{color:tt,position:nt,enableColorOnDark:rt}),st=useUtilityClasses$A(ot);return jsxRuntimeExports.jsx(AppBarRoot,_extends$1({square:!0,component:"header",ownerState:ot,elevation:4,className:clsx(st.root,et,nt==="fixed"&&"mui-fixed"),ref:s},it))}),AppBar$1=AppBar,_excluded$K=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],PopperRoot=styled(Popper$2,{name:"MuiPopper",slot:"Root",overridesResolver:(o,i)=>i.root})({}),Popper=reactExports.forwardRef(function(i,s){var a;const et=useTheme$2(),tt=useThemeProps({props:i,name:"MuiPopper"}),{anchorEl:rt,component:nt,components:it,componentsProps:ot,container:st,disablePortal:lt,keepMounted:at,modifiers:ut,open:ft,placement:mt,popperOptions:yt,popperRef:ht,transition:pt,slots:ct,slotProps:gt}=tt,Et=_objectWithoutPropertiesLoose$6(tt,_excluded$K),bt=(a=ct==null?void 0:ct.root)!=null?a:it==null?void 0:it.Root,xt=_extends$1({anchorEl:rt,container:st,disablePortal:lt,keepMounted:at,modifiers:ut,open:ft,placement:mt,popperOptions:yt,popperRef:ht,transition:pt},Et);return jsxRuntimeExports.jsx(PopperRoot,_extends$1({as:nt,direction:et==null?void 0:et.direction,slots:{root:bt},slotProps:gt??ot},xt,{ref:s}))}),Popper$1=Popper;function formControlState({props:o,states:i,muiFormControl:s}){return i.reduce((a,et)=>(a[et]=o[et],s&&typeof o[et]>"u"&&(a[et]=s[et]),a),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles(o){return jsxRuntimeExports.jsx(GlobalStyles$1,_extends$1({},o,{defaultTheme:defaultTheme$2,themeId:THEME_ID}))}function hasValue(o){return o!=null&&!(Array.isArray(o)&&o.length===0)}function isFilled(o,i=!1){return o&&(hasValue(o.value)&&o.value!==""||i&&hasValue(o.defaultValue)&&o.defaultValue!=="")}function isAdornedStart(o){return o.startAdornment}function getInputBaseUtilityClass(o){return generateUtilityClass$2("MuiInputBase",o)}const inputBaseClasses=generateUtilityClasses$2("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$J=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(o,i)=>{const{ownerState:s}=o;return[i.root,s.formControl&&i.formControl,s.startAdornment&&i.adornedStart,s.endAdornment&&i.adornedEnd,s.error&&i.error,s.size==="small"&&i.sizeSmall,s.multiline&&i.multiline,s.color&&i[`color${capitalize(s.color)}`],s.fullWidth&&i.fullWidth,s.hiddenLabel&&i.hiddenLabel]},inputOverridesResolver=(o,i)=>{const{ownerState:s}=o;return[i.input,s.size==="small"&&i.inputSizeSmall,s.multiline&&i.inputMultiline,s.type==="search"&&i.inputTypeSearch,s.startAdornment&&i.inputAdornedStart,s.endAdornment&&i.inputAdornedEnd,s.hiddenLabel&&i.inputHiddenLabel]},useUtilityClasses$z=o=>{const{classes:i,color:s,disabled:a,error:et,endAdornment:tt,focused:rt,formControl:nt,fullWidth:it,hiddenLabel:ot,multiline:st,readOnly:lt,size:at,startAdornment:ut,type:ft}=o,mt={root:["root",`color${capitalize(s)}`,a&&"disabled",et&&"error",it&&"fullWidth",rt&&"focused",nt&&"formControl",at&&at!=="medium"&&`size${capitalize(at)}`,st&&"multiline",ut&&"adornedStart",tt&&"adornedEnd",ot&&"hiddenLabel",lt&&"readOnly"],input:["input",a&&"disabled",ft==="search"&&"inputTypeSearch",st&&"inputMultiline",at==="small"&&"inputSizeSmall",ot&&"inputHiddenLabel",ut&&"inputAdornedStart",tt&&"inputAdornedEnd",lt&&"readOnly"]};return composeClasses(mt,getInputBaseUtilityClass,i)},InputBaseRoot=styled("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:o,ownerState:i})=>_extends$1({},o.typography.body1,{color:(o.vars||o).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled,cursor:"default"}},i.multiline&&_extends$1({padding:"4px 0 5px"},i.size==="small"&&{paddingTop:1}),i.fullWidth&&{width:"100%"})),InputBaseComponent=styled("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:i})=>{const s=o.palette.mode==="light",a=_extends$1({color:"currentColor"},o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5},{transition:o.transitions.create("opacity",{duration:o.transitions.duration.shorter})}),et={opacity:"0 !important"},tt=o.vars?{opacity:o.vars.opacity.inputPlaceholder}:{opacity:s?.42:.5};return _extends$1({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":a,"&::-moz-placeholder":a,"&:-ms-input-placeholder":a,"&::-ms-input-placeholder":a,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":et,"&::-moz-placeholder":et,"&:-ms-input-placeholder":et,"&::-ms-input-placeholder":et,"&:focus::-webkit-input-placeholder":tt,"&:focus::-moz-placeholder":tt,"&:focus:-ms-input-placeholder":tt,"&:focus::-ms-input-placeholder":tt},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(o.vars||o).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},i.size==="small"&&{paddingTop:1},i.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},i.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsxRuntimeExports.jsx(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(i,s){var a;const et=useThemeProps({props:i,name:"MuiInputBase"}),{"aria-describedby":tt,autoComplete:rt,autoFocus:nt,className:it,components:ot={},componentsProps:st={},defaultValue:lt,disabled:at,disableInjectingGlobalStyles:ut,endAdornment:ft,fullWidth:mt=!1,id:yt,inputComponent:ht="input",inputProps:pt={},inputRef:ct,maxRows:gt,minRows:Et,multiline:bt=!1,name:xt,onBlur:Tt,onChange:wt,onClick:It,onFocus:At,onKeyDown:kt,onKeyUp:Vt,placeholder:Mt,readOnly:Ot,renderSuffix:Dt,rows:Ct,slotProps:St={},slots:$t={},startAdornment:Lt,type:Rt="text",value:jt}=et,Ft=_objectWithoutPropertiesLoose$6(et,_excluded$J),zt=pt.value!=null?pt.value:jt,{current:Gt}=reactExports.useRef(zt!=null),Bt=reactExports.useRef(),Wt=reactExports.useCallback(Vr=>{},[]),Kt=useForkRef(Bt,ct,pt.ref,Wt),[Qt,Xt]=reactExports.useState(!1),er=useFormControl(),sr=formControlState({props:et,muiFormControl:er,states:["color","disabled","error","hiddenLabel","size","required","filled"]});sr.focused=er?er.focused:Qt,reactExports.useEffect(()=>{!er&&at&&Qt&&(Xt(!1),Tt&&Tt())},[er,at,Qt,Tt]);const ur=er&&er.onFilled,nr=er&&er.onEmpty,yr=reactExports.useCallback(Vr=>{isFilled(Vr)?ur&&ur():nr&&nr()},[ur,nr]);useEnhancedEffect(()=>{Gt&&yr({value:zt})},[zt,yr,Gt]);const Ar=Vr=>{if(sr.disabled){Vr.stopPropagation();return}At&&At(Vr),pt.onFocus&&pt.onFocus(Vr),er&&er.onFocus?er.onFocus(Vr):Xt(!0)},Er=Vr=>{Tt&&Tt(Vr),pt.onBlur&&pt.onBlur(Vr),er&&er.onBlur?er.onBlur(Vr):Xt(!1)},lr=(Vr,...Mr)=>{if(!Gt){const Br=Vr.target||Bt.current;if(Br==null)throw new Error(formatMuiErrorMessage(1));yr({value:Br.value})}pt.onChange&&pt.onChange(Vr,...Mr),wt&&wt(Vr,...Mr)};reactExports.useEffect(()=>{yr(Bt.current)},[]);const dr=Vr=>{Bt.current&&Vr.currentTarget===Vr.target&&Bt.current.focus(),It&&It(Vr)};let pr=ht,ar=pt;bt&&pr==="input"&&(Ct?ar=_extends$1({type:void 0,minRows:Ct,maxRows:Ct},ar):ar=_extends$1({type:void 0,maxRows:gt,minRows:Et},ar),pr=TextareaAutosize);const mr=Vr=>{yr(Vr.animationName==="mui-auto-fill-cancel"?Bt.current:{value:"x"})};reactExports.useEffect(()=>{er&&er.setAdornedStart(!!Lt)},[er,Lt]);const wr=_extends$1({},et,{color:sr.color||"primary",disabled:sr.disabled,endAdornment:ft,error:sr.error,focused:sr.focused,formControl:er,fullWidth:mt,hiddenLabel:sr.hiddenLabel,multiline:bt,size:sr.size,startAdornment:Lt,type:Rt}),Sr=useUtilityClasses$z(wr),Or=$t.root||ot.Root||InputBaseRoot,Ur=St.root||st.root||{},zr=$t.input||ot.Input||InputBaseComponent;return ar=_extends$1({},ar,(a=St.input)!=null?a:st.input),jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[!ut&&inputGlobalStyles,jsxRuntimeExports.jsxs(Or,_extends$1({},Ur,!isHostComponent(Or)&&{ownerState:_extends$1({},wr,Ur.ownerState)},{ref:s,onClick:dr},Ft,{className:clsx(Sr.root,Ur.className,it,Ot&&"MuiInputBase-readOnly"),children:[Lt,jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(zr,_extends$1({ownerState:wr,"aria-invalid":sr.error,"aria-describedby":tt,autoComplete:rt,autoFocus:nt,defaultValue:lt,disabled:sr.disabled,id:yt,onAnimationStart:mr,name:xt,placeholder:Mt,readOnly:Ot,required:sr.required,rows:Ct,value:zt,onKeyDown:kt,onKeyUp:Vt,type:Rt},ar,!isHostComponent(zr)&&{as:pr,ownerState:_extends$1({},wr,ar.ownerState)},{ref:Kt,className:clsx(Sr.input,ar.className,Ot&&"MuiInputBase-readOnly"),onBlur:Er,onChange:lr,onFocus:Ar}))}),ft,Dt?Dt(_extends$1({},sr,{startAdornment:Lt})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(o){return generateUtilityClass$2("MuiInput",o)}const inputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$2("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(o){return generateUtilityClass$2("MuiOutlinedInput",o)}const outlinedInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$2("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(o){return generateUtilityClass$2("MuiFilledInput",o)}const filledInputClasses=_extends$1({},inputBaseClasses$1,generateUtilityClasses$2("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Person=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function getAvatarUtilityClass(o){return generateUtilityClass$2("MuiAvatar",o)}generateUtilityClasses$2("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _excluded$I=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],useUtilityClasses$y=o=>{const{classes:i,variant:s,colorDefault:a}=o;return composeClasses({root:["root",s,a&&"colorDefault"],img:["img"],fallback:["fallback"]},getAvatarUtilityClass,i)},AvatarRoot=styled("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,i[s.variant],s.colorDefault&&i.colorDefault]}})(({theme:o})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:o.typography.fontFamily,fontSize:o.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(o.vars||o).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:_extends$1({color:(o.vars||o).palette.background.default},o.vars?{backgroundColor:o.vars.palette.Avatar.defaultBg}:_extends$1({backgroundColor:o.palette.grey[400]},o.applyStyles("dark",{backgroundColor:o.palette.grey[600]})))}]})),AvatarImg=styled("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(o,i)=>i.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),AvatarFallback=styled(Person,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(o,i)=>i.fallback})({width:"75%",height:"75%"});function useLoaded({crossOrigin:o,referrerPolicy:i,src:s,srcSet:a}){const[et,tt]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!s&&!a)return;tt(!1);let rt=!0;const nt=new Image;return nt.onload=()=>{rt&&tt("loaded")},nt.onerror=()=>{rt&&tt("error")},nt.crossOrigin=o,nt.referrerPolicy=i,nt.src=s,a&&(nt.srcset=a),()=>{rt=!1}},[o,i,s,a]),et}const Avatar=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiAvatar"}),{alt:et,children:tt,className:rt,component:nt="div",imgProps:it,sizes:ot,src:st,srcSet:lt,variant:at="circular"}=a,ut=_objectWithoutPropertiesLoose$6(a,_excluded$I);let ft=null;const mt=useLoaded(_extends$1({},it,{src:st,srcSet:lt})),yt=st||lt,ht=yt&&mt!=="error",pt=_extends$1({},a,{colorDefault:!ht,component:nt,variant:at}),ct=useUtilityClasses$y(pt);return ht?ft=jsxRuntimeExports.jsx(AvatarImg,_extends$1({alt:et,srcSet:lt,src:st,sizes:ot,ownerState:pt,className:ct.img},it)):tt||tt===0?ft=tt:yt&&et?ft=et[0]:ft=jsxRuntimeExports.jsx(AvatarFallback,{ownerState:pt,className:ct.fallback}),jsxRuntimeExports.jsx(AvatarRoot,_extends$1({as:nt,ownerState:pt,className:clsx(ct.root,rt),ref:s},ut,{children:ft}))}),Avatar$1=Avatar,_excluded$H=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$1={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(i,s){const a=useTheme(),et={enter:a.transitions.duration.enteringScreen,exit:a.transitions.duration.leavingScreen},{addEndListener:tt,appear:rt=!0,children:nt,easing:it,in:ot,onEnter:st,onEntered:lt,onEntering:at,onExit:ut,onExited:ft,onExiting:mt,style:yt,timeout:ht=et,TransitionComponent:pt=Transition$1}=i,ct=_objectWithoutPropertiesLoose$6(i,_excluded$H),gt=reactExports.useRef(null),Et=useForkRef(gt,nt.ref,s),bt=Mt=>Ot=>{if(Mt){const Dt=gt.current;Ot===void 0?Mt(Dt):Mt(Dt,Ot)}},xt=bt(at),Tt=bt((Mt,Ot)=>{reflow(Mt);const Dt=getTransitionProps({style:yt,timeout:ht,easing:it},{mode:"enter"});Mt.style.webkitTransition=a.transitions.create("opacity",Dt),Mt.style.transition=a.transitions.create("opacity",Dt),st&&st(Mt,Ot)}),wt=bt(lt),It=bt(mt),At=bt(Mt=>{const Ot=getTransitionProps({style:yt,timeout:ht,easing:it},{mode:"exit"});Mt.style.webkitTransition=a.transitions.create("opacity",Ot),Mt.style.transition=a.transitions.create("opacity",Ot),ut&&ut(Mt)}),kt=bt(ft),Vt=Mt=>{tt&&tt(gt.current,Mt)};return jsxRuntimeExports.jsx(pt,_extends$1({appear:rt,in:ot,nodeRef:gt,onEnter:Tt,onEntered:wt,onEntering:xt,onExit:At,onExited:kt,onExiting:It,addEndListener:Vt,timeout:ht},ct,{children:(Mt,Ot)=>reactExports.cloneElement(nt,_extends$1({style:_extends$1({opacity:0,visibility:Mt==="exited"&&!ot?"hidden":void 0},styles$1[Mt],yt,nt.props.style),ref:Et},Ot))}))}),Fade$1=Fade;function getBackdropUtilityClass(o){return generateUtilityClass$2("MuiBackdrop",o)}generateUtilityClasses$2("MuiBackdrop",["root","invisible"]);const _excluded$G=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],useUtilityClasses$x=o=>{const{classes:i,invisible:s}=o;return composeClasses({root:["root",s&&"invisible"]},getBackdropUtilityClass,i)},BackdropRoot=styled("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.invisible&&i.invisible]}})(({ownerState:o})=>_extends$1({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},o.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(i,s){var a,et,tt;const rt=useThemeProps({props:i,name:"MuiBackdrop"}),{children:nt,className:it,component:ot="div",components:st={},componentsProps:lt={},invisible:at=!1,open:ut,slotProps:ft={},slots:mt={},TransitionComponent:yt=Fade$1,transitionDuration:ht}=rt,pt=_objectWithoutPropertiesLoose$6(rt,_excluded$G),ct=_extends$1({},rt,{component:ot,invisible:at}),gt=useUtilityClasses$x(ct),Et=(a=ft.root)!=null?a:lt.root;return jsxRuntimeExports.jsx(yt,_extends$1({in:ut,timeout:ht},pt,{children:jsxRuntimeExports.jsx(BackdropRoot,_extends$1({"aria-hidden":!0},Et,{as:(et=(tt=mt.root)!=null?tt:st.Root)!=null?et:ot,className:clsx(gt.root,it,Et==null?void 0:Et.className),ownerState:_extends$1({},ct,Et==null?void 0:Et.ownerState),classes:gt,ref:s,children:nt}))}))}),Backdrop$1=Backdrop,boxClasses=generateUtilityClasses$2("MuiBox",["root"]),boxClasses$1=boxClasses,defaultTheme=createTheme(),Box=createBox({themeId:THEME_ID,defaultTheme,defaultClassName:boxClasses$1.root,generateClassName:ClassNameGenerator.generate}),Box$1=Box;function getButtonUtilityClass(o){return generateUtilityClass$2("MuiButton",o)}const buttonClasses=generateUtilityClasses$2("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,ButtonGroupButtonContext=reactExports.createContext(void 0),ButtonGroupButtonContext$1=ButtonGroupButtonContext,_excluded$F=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$w=o=>{const{color:i,disableElevation:s,fullWidth:a,size:et,variant:tt,classes:rt}=o,nt={root:["root",tt,`${tt}${capitalize(i)}`,`size${capitalize(et)}`,`${tt}Size${capitalize(et)}`,i==="inherit"&&"colorInherit",s&&"disableElevation",a&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize(et)}`],endIcon:["endIcon",`iconSize${capitalize(et)}`]},it=composeClasses(nt,getButtonUtilityClass,rt);return _extends$1({},rt,it)},commonIconStyles=o=>_extends$1({},o.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},o.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},o.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled(ButtonBase$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiButton",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,i[s.variant],i[`${s.variant}${capitalize(s.color)}`],i[`size${capitalize(s.size)}`],i[`${s.variant}Size${capitalize(s.size)}`],s.color==="inherit"&&i.colorInherit,s.disableElevation&&i.disableElevation,s.fullWidth&&i.fullWidth]}})(({theme:o,ownerState:i})=>{var s,a;const et=o.palette.mode==="light"?o.palette.grey[300]:o.palette.grey[800],tt=o.palette.mode==="light"?o.palette.grey.A100:o.palette.grey[700];return _extends$1({},o.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create(["background-color","box-shadow","border-color","color"],{duration:o.transitions.duration.short}),"&:hover":_extends$1({textDecoration:"none",backgroundColor:o.vars?`rgba(${o.vars.palette.text.primaryChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha(o.palette.text.primary,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},i.variant==="text"&&i.color!=="inherit"&&{backgroundColor:o.vars?`rgba(${o.vars.palette[i.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha(o.palette[i.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},i.variant==="outlined"&&i.color!=="inherit"&&{border:`1px solid ${(o.vars||o).palette[i.color].main}`,backgroundColor:o.vars?`rgba(${o.vars.palette[i.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha(o.palette[i.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},i.variant==="contained"&&{backgroundColor:o.vars?o.vars.palette.Button.inheritContainedHoverBg:tt,boxShadow:(o.vars||o).shadows[4],"@media (hover: none)":{boxShadow:(o.vars||o).shadows[2],backgroundColor:(o.vars||o).palette.grey[300]}},i.variant==="contained"&&i.color!=="inherit"&&{backgroundColor:(o.vars||o).palette[i.color].dark,"@media (hover: none)":{backgroundColor:(o.vars||o).palette[i.color].main}}),"&:active":_extends$1({},i.variant==="contained"&&{boxShadow:(o.vars||o).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends$1({},i.variant==="contained"&&{boxShadow:(o.vars||o).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends$1({color:(o.vars||o).palette.action.disabled},i.variant==="outlined"&&{border:`1px solid ${(o.vars||o).palette.action.disabledBackground}`},i.variant==="contained"&&{color:(o.vars||o).palette.action.disabled,boxShadow:(o.vars||o).shadows[0],backgroundColor:(o.vars||o).palette.action.disabledBackground})},i.variant==="text"&&{padding:"6px 8px"},i.variant==="text"&&i.color!=="inherit"&&{color:(o.vars||o).palette[i.color].main},i.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},i.variant==="outlined"&&i.color!=="inherit"&&{color:(o.vars||o).palette[i.color].main,border:o.vars?`1px solid rgba(${o.vars.palette[i.color].mainChannel} / 0.5)`:`1px solid ${alpha(o.palette[i.color].main,.5)}`},i.variant==="contained"&&{color:o.vars?o.vars.palette.text.primary:(s=(a=o.palette).getContrastText)==null?void 0:s.call(a,o.palette.grey[300]),backgroundColor:o.vars?o.vars.palette.Button.inheritContainedBg:et,boxShadow:(o.vars||o).shadows[2]},i.variant==="contained"&&i.color!=="inherit"&&{color:(o.vars||o).palette[i.color].contrastText,backgroundColor:(o.vars||o).palette[i.color].main},i.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},i.size==="small"&&i.variant==="text"&&{padding:"4px 5px",fontSize:o.typography.pxToRem(13)},i.size==="large"&&i.variant==="text"&&{padding:"8px 11px",fontSize:o.typography.pxToRem(15)},i.size==="small"&&i.variant==="outlined"&&{padding:"3px 9px",fontSize:o.typography.pxToRem(13)},i.size==="large"&&i.variant==="outlined"&&{padding:"7px 21px",fontSize:o.typography.pxToRem(15)},i.size==="small"&&i.variant==="contained"&&{padding:"4px 10px",fontSize:o.typography.pxToRem(13)},i.size==="large"&&i.variant==="contained"&&{padding:"8px 22px",fontSize:o.typography.pxToRem(15)},i.fullWidth&&{width:"100%"})},({ownerState:o})=>o.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.startIcon,i[`iconSize${capitalize(s.size)}`]]}})(({ownerState:o})=>_extends$1({display:"inherit",marginRight:8,marginLeft:-4},o.size==="small"&&{marginLeft:-2},commonIconStyles(o))),ButtonEndIcon=styled("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.endIcon,i[`iconSize${capitalize(s.size)}`]]}})(({ownerState:o})=>_extends$1({display:"inherit",marginRight:-4,marginLeft:8},o.size==="small"&&{marginRight:-2},commonIconStyles(o))),Button$3=reactExports.forwardRef(function(i,s){const a=reactExports.useContext(ButtonGroupContext$1),et=reactExports.useContext(ButtonGroupButtonContext$1),tt=resolveProps(a,i),rt=useThemeProps({props:tt,name:"MuiButton"}),{children:nt,color:it="primary",component:ot="button",className:st,disabled:lt=!1,disableElevation:at=!1,disableFocusRipple:ut=!1,endIcon:ft,focusVisibleClassName:mt,fullWidth:yt=!1,size:ht="medium",startIcon:pt,type:ct,variant:gt="text"}=rt,Et=_objectWithoutPropertiesLoose$6(rt,_excluded$F),bt=_extends$1({},rt,{color:it,component:ot,disabled:lt,disableElevation:at,disableFocusRipple:ut,fullWidth:yt,size:ht,type:ct,variant:gt}),xt=useUtilityClasses$w(bt),Tt=pt&&jsxRuntimeExports.jsx(ButtonStartIcon,{className:xt.startIcon,ownerState:bt,children:pt}),wt=ft&&jsxRuntimeExports.jsx(ButtonEndIcon,{className:xt.endIcon,ownerState:bt,children:ft}),It=et||"";return jsxRuntimeExports.jsxs(ButtonRoot,_extends$1({ownerState:bt,className:clsx(a.className,xt.root,st,It),component:ot,disabled:lt,focusRipple:!ut,focusVisibleClassName:clsx(xt.focusVisible,mt),ref:s,type:ct},Et,{classes:xt,children:[Tt,nt,wt]}))}),Button$4=Button$3;function getSwitchBaseUtilityClass(o){return generateUtilityClass$2("PrivateSwitchBase",o)}generateUtilityClasses$2("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const _excluded$E=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],useUtilityClasses$v=o=>{const{classes:i,checked:s,disabled:a,edge:et}=o,tt={root:["root",s&&"checked",a&&"disabled",et&&`edge${capitalize(et)}`],input:["input"]};return composeClasses(tt,getSwitchBaseUtilityClass,i)},SwitchBaseRoot=styled(ButtonBase$1)(({ownerState:o})=>_extends$1({padding:9,borderRadius:"50%"},o.edge==="start"&&{marginLeft:o.size==="small"?-3:-12},o.edge==="end"&&{marginRight:o.size==="small"?-3:-12})),SwitchBaseInput=styled("input",{shouldForwardProp:rootShouldForwardProp})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=reactExports.forwardRef(function(i,s){const{autoFocus:a,checked:et,checkedIcon:tt,className:rt,defaultChecked:nt,disabled:it,disableFocusRipple:ot=!1,edge:st=!1,icon:lt,id:at,inputProps:ut,inputRef:ft,name:mt,onBlur:yt,onChange:ht,onFocus:pt,readOnly:ct,required:gt=!1,tabIndex:Et,type:bt,value:xt}=i,Tt=_objectWithoutPropertiesLoose$6(i,_excluded$E),[wt,It]=useControlled({controlled:et,default:!!nt,name:"SwitchBase",state:"checked"}),At=useFormControl(),kt=$t=>{pt&&pt($t),At&&At.onFocus&&At.onFocus($t)},Vt=$t=>{yt&&yt($t),At&&At.onBlur&&At.onBlur($t)},Mt=$t=>{if($t.nativeEvent.defaultPrevented)return;const Lt=$t.target.checked;It(Lt),ht&&ht($t,Lt)};let Ot=it;At&&typeof Ot>"u"&&(Ot=At.disabled);const Dt=bt==="checkbox"||bt==="radio",Ct=_extends$1({},i,{checked:wt,disabled:Ot,disableFocusRipple:ot,edge:st}),St=useUtilityClasses$v(Ct);return jsxRuntimeExports.jsxs(SwitchBaseRoot,_extends$1({component:"span",className:clsx(St.root,rt),centerRipple:!0,focusRipple:!ot,disabled:Ot,tabIndex:null,role:void 0,onFocus:kt,onBlur:Vt,ownerState:Ct,ref:s},Tt,{children:[jsxRuntimeExports.jsx(SwitchBaseInput,_extends$1({autoFocus:a,checked:et,defaultChecked:nt,className:St.input,disabled:Ot,id:Dt?at:void 0,name:mt,onChange:Mt,readOnly:ct,ref:ft,required:gt,ownerState:Ct,tabIndex:Et,type:bt},bt==="checkbox"&&xt===void 0?{}:{value:xt},ut)),wt?tt:lt]}))}),SwitchBase$1=SwitchBase,CheckBoxOutlineBlankIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CheckBoxIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),IndeterminateCheckBoxIcon=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function getCheckboxUtilityClass(o){return generateUtilityClass$2("MuiCheckbox",o)}const checkboxClasses=generateUtilityClasses$2("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),checkboxClasses$1=checkboxClasses,_excluded$D=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],useUtilityClasses$u=o=>{const{classes:i,indeterminate:s,color:a,size:et}=o,tt={root:["root",s&&"indeterminate",`color${capitalize(a)}`,`size${capitalize(et)}`]},rt=composeClasses(tt,getCheckboxUtilityClass,i);return _extends$1({},i,rt)},CheckboxRoot=styled(SwitchBase$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.indeterminate&&i.indeterminate,i[`size${capitalize(s.size)}`],s.color!=="default"&&i[`color${capitalize(s.color)}`]]}})(({theme:o,ownerState:i})=>_extends$1({color:(o.vars||o).palette.text.secondary},!i.disableRipple&&{"&:hover":{backgroundColor:o.vars?`rgba(${i.color==="default"?o.vars.palette.action.activeChannel:o.vars.palette[i.color].mainChannel} / ${o.vars.palette.action.hoverOpacity})`:alpha(i.color==="default"?o.palette.action.active:o.palette[i.color].main,o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},i.color!=="default"&&{[`&.${checkboxClasses$1.checked}, &.${checkboxClasses$1.indeterminate}`]:{color:(o.vars||o).palette[i.color].main},[`&.${checkboxClasses$1.disabled}`]:{color:(o.vars||o).palette.action.disabled}})),defaultCheckedIcon=jsxRuntimeExports.jsx(CheckBoxIcon,{}),defaultIcon=jsxRuntimeExports.jsx(CheckBoxOutlineBlankIcon,{}),defaultIndeterminateIcon=jsxRuntimeExports.jsx(IndeterminateCheckBoxIcon,{}),Checkbox=reactExports.forwardRef(function(i,s){var a,et;const tt=useThemeProps({props:i,name:"MuiCheckbox"}),{checkedIcon:rt=defaultCheckedIcon,color:nt="primary",icon:it=defaultIcon,indeterminate:ot=!1,indeterminateIcon:st=defaultIndeterminateIcon,inputProps:lt,size:at="medium",className:ut}=tt,ft=_objectWithoutPropertiesLoose$6(tt,_excluded$D),mt=ot?st:it,yt=ot?st:rt,ht=_extends$1({},tt,{color:nt,indeterminate:ot,size:at}),pt=useUtilityClasses$u(ht);return jsxRuntimeExports.jsx(CheckboxRoot,_extends$1({type:"checkbox",inputProps:_extends$1({"data-indeterminate":ot},lt),icon:reactExports.cloneElement(mt,{fontSize:(a=mt.props.fontSize)!=null?a:at}),checkedIcon:reactExports.cloneElement(yt,{fontSize:(et=yt.props.fontSize)!=null?et:at}),ownerState:ht,ref:s,className:clsx(pt.root,ut)},ft,{classes:pt}))}),Checkbox$1=Checkbox,Container=createContainer({createStyledComponent:styled("div",{name:"MuiContainer",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,i[`maxWidth${capitalize(String(s.maxWidth))}`],s.fixed&&i.fixed,s.disableGutters&&i.disableGutters]}}),useThemeProps:o=>useThemeProps({props:o,name:"MuiContainer"})}),Container$1=Container;function getModalUtilityClass(o){return generateUtilityClass$2("MuiModal",o)}generateUtilityClasses$2("MuiModal",["root","hidden","backdrop"]);const _excluded$C=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],useUtilityClasses$t=o=>{const{open:i,exited:s,classes:a}=o;return composeClasses({root:["root",!i&&s&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,a)},ModalRoot=styled("div",{name:"MuiModal",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,!s.open&&s.exited&&i.hidden]}})(({theme:o,ownerState:i})=>_extends$1({position:"fixed",zIndex:(o.vars||o).zIndex.modal,right:0,bottom:0,top:0,left:0},!i.open&&i.exited&&{visibility:"hidden"})),ModalBackdrop=styled(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(o,i)=>i.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(i,s){var a,et,tt,rt,nt,it;const ot=useThemeProps({name:"MuiModal",props:i}),{BackdropComponent:st=ModalBackdrop,BackdropProps:lt,className:at,closeAfterTransition:ut=!1,children:ft,container:mt,component:yt,components:ht={},componentsProps:pt={},disableAutoFocus:ct=!1,disableEnforceFocus:gt=!1,disableEscapeKeyDown:Et=!1,disablePortal:bt=!1,disableRestoreFocus:xt=!1,disableScrollLock:Tt=!1,hideBackdrop:wt=!1,keepMounted:It=!1,onBackdropClick:At,open:kt,slotProps:Vt,slots:Mt}=ot,Ot=_objectWithoutPropertiesLoose$6(ot,_excluded$C),Dt=_extends$1({},ot,{closeAfterTransition:ut,disableAutoFocus:ct,disableEnforceFocus:gt,disableEscapeKeyDown:Et,disablePortal:bt,disableRestoreFocus:xt,disableScrollLock:Tt,hideBackdrop:wt,keepMounted:It}),{getRootProps:Ct,getBackdropProps:St,getTransitionProps:$t,portalRef:Lt,isTopModal:Rt,exited:jt,hasTransition:Ft}=useModal(_extends$1({},Dt,{rootRef:s})),zt=_extends$1({},Dt,{exited:jt}),Gt=useUtilityClasses$t(zt),Bt={};if(ft.props.tabIndex===void 0&&(Bt.tabIndex="-1"),Ft){const{onEnter:ur,onExited:nr}=$t();Bt.onEnter=ur,Bt.onExited=nr}const Wt=(a=(et=Mt==null?void 0:Mt.root)!=null?et:ht.Root)!=null?a:ModalRoot,Kt=(tt=(rt=Mt==null?void 0:Mt.backdrop)!=null?rt:ht.Backdrop)!=null?tt:st,Qt=(nt=Vt==null?void 0:Vt.root)!=null?nt:pt.root,Xt=(it=Vt==null?void 0:Vt.backdrop)!=null?it:pt.backdrop,er=useSlotProps({elementType:Wt,externalSlotProps:Qt,externalForwardedProps:Ot,getSlotProps:Ct,additionalProps:{ref:s,as:yt},ownerState:zt,className:clsx(at,Qt==null?void 0:Qt.className,Gt==null?void 0:Gt.root,!zt.open&&zt.exited&&(Gt==null?void 0:Gt.hidden))}),sr=useSlotProps({elementType:Kt,externalSlotProps:Xt,additionalProps:lt,getSlotProps:ur=>St(_extends$1({},ur,{onClick:nr=>{At&&At(nr),ur!=null&&ur.onClick&&ur.onClick(nr)}})),className:clsx(Xt==null?void 0:Xt.className,lt==null?void 0:lt.className,Gt==null?void 0:Gt.backdrop),ownerState:zt});return!It&&!kt&&(!Ft||jt)?null:jsxRuntimeExports.jsx(Portal,{ref:Lt,container:mt,disablePortal:bt,children:jsxRuntimeExports.jsxs(Wt,_extends$1({},er,{children:[!wt&&st?jsxRuntimeExports.jsx(Kt,_extends$1({},sr)):null,jsxRuntimeExports.jsx(FocusTrap,{disableEnforceFocus:gt,disableAutoFocus:ct,disableRestoreFocus:xt,isEnabled:Rt,open:kt,children:reactExports.cloneElement(ft,Bt)})]}))})}),Modal$1=Modal;function getDialogUtilityClass(o){return generateUtilityClass$2("MuiDialog",o)}const dialogClasses=generateUtilityClasses$2("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext=reactExports.createContext({}),DialogContext$1=DialogContext,_excluded$B=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(o,i)=>i.backdrop})({zIndex:-1}),useUtilityClasses$s=o=>{const{classes:i,scroll:s,maxWidth:a,fullWidth:et,fullScreen:tt}=o,rt={root:["root"],container:["container",`scroll${capitalize(s)}`],paper:["paper",`paperScroll${capitalize(s)}`,`paperWidth${capitalize(String(a))}`,et&&"paperFullWidth",tt&&"paperFullScreen"]};return composeClasses(rt,getDialogUtilityClass,i)},DialogRoot=styled(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(o,i)=>i.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled("div",{name:"MuiDialog",slot:"Container",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.container,i[`scroll${capitalize(s.scroll)}`]]}})(({ownerState:o})=>_extends$1({height:"100%","@media print":{height:"auto"},outline:0},o.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},o.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.paper,i[`scrollPaper${capitalize(s.scroll)}`],i[`paperWidth${capitalize(String(s.maxWidth))}`],s.fullWidth&&i.paperFullWidth,s.fullScreen&&i.paperFullScreen]}})(({theme:o,ownerState:i})=>_extends$1({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},i.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},i.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!i.maxWidth&&{maxWidth:"calc(100% - 64px)"},i.maxWidth==="xs"&&{maxWidth:o.breakpoints.unit==="px"?Math.max(o.breakpoints.values.xs,444):`max(${o.breakpoints.values.xs}${o.breakpoints.unit}, 444px)`,[`&.${dialogClasses$1.paperScrollBody}`]:{[o.breakpoints.down(Math.max(o.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},i.maxWidth&&i.maxWidth!=="xs"&&{maxWidth:`${o.breakpoints.values[i.maxWidth]}${o.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[o.breakpoints.down(o.breakpoints.values[i.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},i.fullWidth&&{width:"calc(100% - 64px)"},i.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiDialog"}),et=useTheme(),tt={enter:et.transitions.duration.enteringScreen,exit:et.transitions.duration.leavingScreen},{"aria-describedby":rt,"aria-labelledby":nt,BackdropComponent:it,BackdropProps:ot,children:st,className:lt,disableEscapeKeyDown:at=!1,fullScreen:ut=!1,fullWidth:ft=!1,maxWidth:mt="sm",onBackdropClick:yt,onClose:ht,open:pt,PaperComponent:ct=Paper$1,PaperProps:gt={},scroll:Et="paper",TransitionComponent:bt=Fade$1,transitionDuration:xt=tt,TransitionProps:Tt}=a,wt=_objectWithoutPropertiesLoose$6(a,_excluded$B),It=_extends$1({},a,{disableEscapeKeyDown:at,fullScreen:ut,fullWidth:ft,maxWidth:mt,scroll:Et}),At=useUtilityClasses$s(It),kt=reactExports.useRef(),Vt=Ct=>{kt.current=Ct.target===Ct.currentTarget},Mt=Ct=>{kt.current&&(kt.current=null,yt&&yt(Ct),ht&&ht(Ct,"backdropClick"))},Ot=useId(nt),Dt=reactExports.useMemo(()=>({titleId:Ot}),[Ot]);return jsxRuntimeExports.jsx(DialogRoot,_extends$1({className:clsx(At.root,lt),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends$1({transitionDuration:xt,as:it},ot)},disableEscapeKeyDown:at,onClose:ht,open:pt,ref:s,onClick:Mt,ownerState:It},wt,{children:jsxRuntimeExports.jsx(bt,_extends$1({appear:!0,in:pt,timeout:xt,role:"presentation"},Tt,{children:jsxRuntimeExports.jsx(DialogContainer,{className:clsx(At.container),onMouseDown:Vt,ownerState:It,children:jsxRuntimeExports.jsx(DialogPaper,_extends$1({as:ct,elevation:24,role:"dialog","aria-describedby":rt,"aria-labelledby":Ot},gt,{className:clsx(At.paper,gt.className),ownerState:It,children:jsxRuntimeExports.jsx(DialogContext$1.Provider,{value:Dt,children:st})}))})}))}))}),Dialog$1=Dialog;function getDialogActionsUtilityClass(o){return generateUtilityClass$2("MuiDialogActions",o)}generateUtilityClasses$2("MuiDialogActions",["root","spacing"]);const _excluded$A=["className","disableSpacing"],useUtilityClasses$r=o=>{const{classes:i,disableSpacing:s}=o;return composeClasses({root:["root",!s&&"spacing"]},getDialogActionsUtilityClass,i)},DialogActionsRoot=styled("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,!s.disableSpacing&&i.spacing]}})(({ownerState:o})=>_extends$1({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!o.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),DialogActions=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiDialogActions"}),{className:et,disableSpacing:tt=!1}=a,rt=_objectWithoutPropertiesLoose$6(a,_excluded$A),nt=_extends$1({},a,{disableSpacing:tt}),it=useUtilityClasses$r(nt);return jsxRuntimeExports.jsx(DialogActionsRoot,_extends$1({className:clsx(it.root,et),ownerState:nt,ref:s},rt))}),DialogActions$1=DialogActions;function getDialogContentUtilityClass(o){return generateUtilityClass$2("MuiDialogContent",o)}generateUtilityClasses$2("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(o){return generateUtilityClass$2("MuiDialogTitle",o)}const dialogTitleClasses=generateUtilityClasses$2("MuiDialogTitle",["root"]),dialogTitleClasses$1=dialogTitleClasses,_excluded$z=["className","dividers"],useUtilityClasses$q=o=>{const{classes:i,dividers:s}=o;return composeClasses({root:["root",s&&"dividers"]},getDialogContentUtilityClass,i)},DialogContentRoot=styled("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.dividers&&i.dividers]}})(({theme:o,ownerState:i})=>_extends$1({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},i.dividers?{padding:"16px 24px",borderTop:`1px solid ${(o.vars||o).palette.divider}`,borderBottom:`1px solid ${(o.vars||o).palette.divider}`}:{[`.${dialogTitleClasses$1.root} + &`]:{paddingTop:0}})),DialogContent=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiDialogContent"}),{className:et,dividers:tt=!1}=a,rt=_objectWithoutPropertiesLoose$6(a,_excluded$z),nt=_extends$1({},a,{dividers:tt}),it=useUtilityClasses$q(nt);return jsxRuntimeExports.jsx(DialogContentRoot,_extends$1({className:clsx(it.root,et),ownerState:nt,ref:s},rt))}),DialogContent$1=DialogContent;function getDialogContentTextUtilityClass(o){return generateUtilityClass$2("MuiDialogContentText",o)}generateUtilityClasses$2("MuiDialogContentText",["root"]);const _excluded$y=["children","className"],useUtilityClasses$p=o=>{const{classes:i}=o,a=composeClasses({root:["root"]},getDialogContentTextUtilityClass,i);return _extends$1({},i,a)},DialogContentTextRoot=styled(Typography$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(o,i)=>i.root})({}),DialogContentText=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiDialogContentText"}),{className:et}=a,tt=_objectWithoutPropertiesLoose$6(a,_excluded$y),rt=useUtilityClasses$p(tt);return jsxRuntimeExports.jsx(DialogContentTextRoot,_extends$1({component:"p",variant:"body1",color:"text.secondary",ref:s,ownerState:tt,className:clsx(rt.root,et)},a,{classes:rt}))}),DialogContentText$1=DialogContentText,_excluded$x=["className","id"],useUtilityClasses$o=o=>{const{classes:i}=o;return composeClasses({root:["root"]},getDialogTitleUtilityClass,i)},DialogTitleRoot=styled(Typography$1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(o,i)=>i.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiDialogTitle"}),{className:et,id:tt}=a,rt=_objectWithoutPropertiesLoose$6(a,_excluded$x),nt=a,it=useUtilityClasses$o(nt),{titleId:ot=tt}=reactExports.useContext(DialogContext$1);return jsxRuntimeExports.jsx(DialogTitleRoot,_extends$1({component:"h2",className:clsx(it.root,et),ownerState:nt,ref:s,variant:"h6",id:tt??ot},rt))}),DialogTitle$1=DialogTitle,dividerClasses=generateUtilityClasses$2("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dividerClasses$1=dividerClasses,_excluded$w=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$n=o=>{const{classes:i,disableUnderline:s}=o,et=composeClasses({root:["root",!s&&"underline"],input:["input"]},getFilledInputUtilityClass,i);return _extends$1({},i,et)},FilledInputRoot=styled(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[...rootOverridesResolver(o,i),!s.disableUnderline&&i.underline]}})(({theme:o,ownerState:i})=>{var s;const a=o.palette.mode==="light",et=a?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",tt=a?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",rt=a?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",nt=a?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$1({position:"relative",backgroundColor:o.vars?o.vars.palette.FilledInput.bg:tt,borderTopLeftRadius:(o.vars||o).shape.borderRadius,borderTopRightRadius:(o.vars||o).shape.borderRadius,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),"&:hover":{backgroundColor:o.vars?o.vars.palette.FilledInput.hoverBg:rt,"@media (hover: none)":{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:tt}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.bg:tt},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:o.vars?o.vars.palette.FilledInput.disabledBg:nt}},!i.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(s=(o.vars||o).palette[i.color||"primary"])==null?void 0:s.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`:et}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${(o.vars||o).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},i.startAdornment&&{paddingLeft:12},i.endAdornment&&{paddingRight:12},i.multiline&&_extends$1({padding:"25px 12px 8px"},i.size==="small"&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17},i.hiddenLabel&&i.size==="small"&&{paddingTop:8,paddingBottom:9}))}),FilledInputInput=styled(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:i})=>_extends$1({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},o.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},i.size==="small"&&{paddingTop:21,paddingBottom:4},i.hiddenLabel&&{paddingTop:16,paddingBottom:17},i.startAdornment&&{paddingLeft:0},i.endAdornment&&{paddingRight:0},i.hiddenLabel&&i.size==="small"&&{paddingTop:8,paddingBottom:9},i.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),FilledInput=reactExports.forwardRef(function(i,s){var a,et,tt,rt;const nt=useThemeProps({props:i,name:"MuiFilledInput"}),{components:it={},componentsProps:ot,fullWidth:st=!1,inputComponent:lt="input",multiline:at=!1,slotProps:ut,slots:ft={},type:mt="text"}=nt,yt=_objectWithoutPropertiesLoose$6(nt,_excluded$w),ht=_extends$1({},nt,{fullWidth:st,inputComponent:lt,multiline:at,type:mt}),pt=useUtilityClasses$n(nt),ct={root:{ownerState:ht},input:{ownerState:ht}},gt=ut??ot?deepmerge(ct,ut??ot):ct,Et=(a=(et=ft.root)!=null?et:it.Root)!=null?a:FilledInputRoot,bt=(tt=(rt=ft.input)!=null?rt:it.Input)!=null?tt:FilledInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:Et,input:bt},componentsProps:gt,fullWidth:st,inputComponent:lt,multiline:at,ref:s,type:mt},yt,{classes:pt}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(o){return generateUtilityClass$2("MuiFormControl",o)}generateUtilityClasses$2("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$v=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$m=o=>{const{classes:i,margin:s,fullWidth:a}=o,et={root:["root",s!=="none"&&`margin${capitalize(s)}`,a&&"fullWidth"]};return composeClasses(et,getFormControlUtilityClasses,i)},FormControlRoot=styled("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:o},i)=>_extends$1({},i.root,i[`margin${capitalize(o.margin)}`],o.fullWidth&&i.fullWidth)})(({ownerState:o})=>_extends$1({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},o.margin==="normal"&&{marginTop:16,marginBottom:8},o.margin==="dense"&&{marginTop:8,marginBottom:4},o.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiFormControl"}),{children:et,className:tt,color:rt="primary",component:nt="div",disabled:it=!1,error:ot=!1,focused:st,fullWidth:lt=!1,hiddenLabel:at=!1,margin:ut="none",required:ft=!1,size:mt="medium",variant:yt="outlined"}=a,ht=_objectWithoutPropertiesLoose$6(a,_excluded$v),pt=_extends$1({},a,{color:rt,component:nt,disabled:it,error:ot,fullWidth:lt,hiddenLabel:at,margin:ut,required:ft,size:mt,variant:yt}),ct=useUtilityClasses$m(pt),[gt,Et]=reactExports.useState(()=>{let Vt=!1;return et&&reactExports.Children.forEach(et,Mt=>{if(!isMuiElement(Mt,["Input","Select"]))return;const Ot=isMuiElement(Mt,["Select"])?Mt.props.input:Mt;Ot&&isAdornedStart(Ot.props)&&(Vt=!0)}),Vt}),[bt,xt]=reactExports.useState(()=>{let Vt=!1;return et&&reactExports.Children.forEach(et,Mt=>{isMuiElement(Mt,["Input","Select"])&&(isFilled(Mt.props,!0)||isFilled(Mt.props.inputProps,!0))&&(Vt=!0)}),Vt}),[Tt,wt]=reactExports.useState(!1);it&&Tt&&wt(!1);const It=st!==void 0&&!it?st:Tt;let At;const kt=reactExports.useMemo(()=>({adornedStart:gt,setAdornedStart:Et,color:rt,disabled:it,error:ot,filled:bt,focused:It,fullWidth:lt,hiddenLabel:at,size:mt,onBlur:()=>{wt(!1)},onEmpty:()=>{xt(!1)},onFilled:()=>{xt(!0)},onFocus:()=>{wt(!0)},registerEffect:At,required:ft,variant:yt}),[gt,rt,it,ot,bt,It,lt,at,At,ft,mt,yt]);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:kt,children:jsxRuntimeExports.jsx(FormControlRoot,_extends$1({as:nt,ownerState:pt,className:clsx(ct.root,tt),ref:s},ht,{children:et}))})}),FormControl$1=FormControl,Stack$2=createStack({createStyledComponent:styled("div",{name:"MuiStack",slot:"Root",overridesResolver:(o,i)=>i.root}),useThemeProps:o=>useThemeProps({props:o,name:"MuiStack"})}),Stack$3=Stack$2;function getFormControlLabelUtilityClasses(o){return generateUtilityClass$2("MuiFormControlLabel",o)}const formControlLabelClasses=generateUtilityClasses$2("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),formControlLabelClasses$1=formControlLabelClasses,_excluded$u=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],useUtilityClasses$l=o=>{const{classes:i,disabled:s,labelPlacement:a,error:et,required:tt}=o,rt={root:["root",s&&"disabled",`labelPlacement${capitalize(a)}`,et&&"error",tt&&"required"],label:["label",s&&"disabled"],asterisk:["asterisk",et&&"error"]};return composeClasses(rt,getFormControlLabelUtilityClasses,i)},FormControlLabelRoot=styled("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[{[`& .${formControlLabelClasses$1.label}`]:i.label},i.root,i[`labelPlacement${capitalize(s.labelPlacement)}`]]}})(({theme:o,ownerState:i})=>_extends$1({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${formControlLabelClasses$1.disabled}`]:{cursor:"default"}},i.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},i.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},i.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${formControlLabelClasses$1.label}`]:{[`&.${formControlLabelClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled}}})),AsteriskComponent$1=styled("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(o,i)=>i.asterisk})(({theme:o})=>({[`&.${formControlLabelClasses$1.error}`]:{color:(o.vars||o).palette.error.main}})),FormControlLabel=reactExports.forwardRef(function(i,s){var a,et;const tt=useThemeProps({props:i,name:"MuiFormControlLabel"}),{className:rt,componentsProps:nt={},control:it,disabled:ot,disableTypography:st,label:lt,labelPlacement:at="end",required:ut,slotProps:ft={}}=tt,mt=_objectWithoutPropertiesLoose$6(tt,_excluded$u),yt=useFormControl(),ht=(a=ot??it.props.disabled)!=null?a:yt==null?void 0:yt.disabled,pt=ut??it.props.required,ct={disabled:ht,required:pt};["checked","name","onChange","value","inputRef"].forEach(wt=>{typeof it.props[wt]>"u"&&typeof tt[wt]<"u"&&(ct[wt]=tt[wt])});const gt=formControlState({props:tt,muiFormControl:yt,states:["error"]}),Et=_extends$1({},tt,{disabled:ht,labelPlacement:at,required:pt,error:gt.error}),bt=useUtilityClasses$l(Et),xt=(et=ft.typography)!=null?et:nt.typography;let Tt=lt;return Tt!=null&&Tt.type!==Typography$1&&!st&&(Tt=jsxRuntimeExports.jsx(Typography$1,_extends$1({component:"span"},xt,{className:clsx(bt.label,xt==null?void 0:xt.className),children:Tt}))),jsxRuntimeExports.jsxs(FormControlLabelRoot,_extends$1({className:clsx(bt.root,rt),ownerState:Et,ref:s},mt,{children:[reactExports.cloneElement(it,ct),pt?jsxRuntimeExports.jsxs(Stack$3,{display:"block",children:[Tt,jsxRuntimeExports.jsxs(AsteriskComponent$1,{ownerState:Et,"aria-hidden":!0,className:bt.asterisk,children:[" ","*"]})]}):Tt]}))}),FormControlLabel$1=FormControlLabel;function getFormGroupUtilityClass(o){return generateUtilityClass$2("MuiFormGroup",o)}generateUtilityClasses$2("MuiFormGroup",["root","row","error"]);const _excluded$t=["className","row"],useUtilityClasses$k=o=>{const{classes:i,row:s,error:a}=o;return composeClasses({root:["root",s&&"row",a&&"error"]},getFormGroupUtilityClass,i)},FormGroupRoot=styled("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.row&&i.row]}})(({ownerState:o})=>_extends$1({display:"flex",flexDirection:"column",flexWrap:"wrap"},o.row&&{flexDirection:"row"})),FormGroup=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiFormGroup"}),{className:et,row:tt=!1}=a,rt=_objectWithoutPropertiesLoose$6(a,_excluded$t),nt=useFormControl(),it=formControlState({props:a,muiFormControl:nt,states:["error"]}),ot=_extends$1({},a,{row:tt,error:it.error}),st=useUtilityClasses$k(ot);return jsxRuntimeExports.jsx(FormGroupRoot,_extends$1({className:clsx(st.root,et),ownerState:ot,ref:s},rt))}),FormGroup$1=FormGroup;function getFormHelperTextUtilityClasses(o){return generateUtilityClass$2("MuiFormHelperText",o)}const formHelperTextClasses=generateUtilityClasses$2("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$3;const _excluded$s=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$j=o=>{const{classes:i,contained:s,size:a,disabled:et,error:tt,filled:rt,focused:nt,required:it}=o,ot={root:["root",et&&"disabled",tt&&"error",a&&`size${capitalize(a)}`,s&&"contained",nt&&"focused",rt&&"filled",it&&"required"]};return composeClasses(ot,getFormHelperTextUtilityClasses,i)},FormHelperTextRoot=styled("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.size&&i[`size${capitalize(s.size)}`],s.contained&&i.contained,s.filled&&i.filled]}})(({theme:o,ownerState:i})=>_extends$1({color:(o.vars||o).palette.text.secondary},o.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(o.vars||o).palette.error.main}},i.size==="small"&&{marginTop:4},i.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiFormHelperText"}),{children:et,className:tt,component:rt="p"}=a,nt=_objectWithoutPropertiesLoose$6(a,_excluded$s),it=useFormControl(),ot=formControlState({props:a,muiFormControl:it,states:["variant","size","disabled","error","filled","focused","required"]}),st=_extends$1({},a,{component:rt,contained:ot.variant==="filled"||ot.variant==="outlined",variant:ot.variant,size:ot.size,disabled:ot.disabled,error:ot.error,filled:ot.filled,focused:ot.focused,required:ot.required}),lt=useUtilityClasses$j(st);return jsxRuntimeExports.jsx(FormHelperTextRoot,_extends$1({as:rt,ownerState:st,className:clsx(lt.root,tt),ref:s},nt,{children:et===" "?_span$3||(_span$3=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):et}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(o){return generateUtilityClass$2("MuiFormLabel",o)}const formLabelClasses=generateUtilityClasses$2("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$r=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$i=o=>{const{classes:i,color:s,focused:a,disabled:et,error:tt,filled:rt,required:nt}=o,it={root:["root",`color${capitalize(s)}`,et&&"disabled",tt&&"error",rt&&"filled",a&&"focused",nt&&"required"],asterisk:["asterisk",tt&&"error"]};return composeClasses(it,getFormLabelUtilityClasses,i)},FormLabelRoot=styled("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:o},i)=>_extends$1({},i.root,o.color==="secondary"&&i.colorSecondary,o.filled&&i.filled)})(({theme:o,ownerState:i})=>_extends$1({color:(o.vars||o).palette.text.secondary},o.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(o.vars||o).palette[i.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(o.vars||o).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(o.vars||o).palette.error.main}})),AsteriskComponent=styled("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(o,i)=>i.asterisk})(({theme:o})=>({[`&.${formLabelClasses$1.error}`]:{color:(o.vars||o).palette.error.main}})),FormLabel=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiFormLabel"}),{children:et,className:tt,component:rt="label"}=a,nt=_objectWithoutPropertiesLoose$6(a,_excluded$r),it=useFormControl(),ot=formControlState({props:a,muiFormControl:it,states:["color","required","focused","disabled","error","filled"]}),st=_extends$1({},a,{color:ot.color||"primary",component:rt,disabled:ot.disabled,error:ot.error,filled:ot.filled,focused:ot.focused,required:ot.required}),lt=useUtilityClasses$i(st);return jsxRuntimeExports.jsxs(FormLabelRoot,_extends$1({as:rt,ownerState:st,className:clsx(lt.root,tt),ref:s},nt,{children:[et,ot.required&&jsxRuntimeExports.jsxs(AsteriskComponent,{ownerState:st,"aria-hidden":!0,className:lt.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,_excluded$q=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(o){return`scale(${o}, ${o**2})`}const styles={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(i,s){const{addEndListener:a,appear:et=!0,children:tt,easing:rt,in:nt,onEnter:it,onEntered:ot,onEntering:st,onExit:lt,onExited:at,onExiting:ut,style:ft,timeout:mt="auto",TransitionComponent:yt=Transition$1}=i,ht=_objectWithoutPropertiesLoose$6(i,_excluded$q),pt=useTimeout(),ct=reactExports.useRef(),gt=useTheme(),Et=reactExports.useRef(null),bt=useForkRef(Et,tt.ref,s),xt=Ot=>Dt=>{if(Ot){const Ct=Et.current;Dt===void 0?Ot(Ct):Ot(Ct,Dt)}},Tt=xt(st),wt=xt((Ot,Dt)=>{reflow(Ot);const{duration:Ct,delay:St,easing:$t}=getTransitionProps({style:ft,timeout:mt,easing:rt},{mode:"enter"});let Lt;mt==="auto"?(Lt=gt.transitions.getAutoHeightDuration(Ot.clientHeight),ct.current=Lt):Lt=Ct,Ot.style.transition=[gt.transitions.create("opacity",{duration:Lt,delay:St}),gt.transitions.create("transform",{duration:isWebKit154?Lt:Lt*.666,delay:St,easing:$t})].join(","),it&&it(Ot,Dt)}),It=xt(ot),At=xt(ut),kt=xt(Ot=>{const{duration:Dt,delay:Ct,easing:St}=getTransitionProps({style:ft,timeout:mt,easing:rt},{mode:"exit"});let $t;mt==="auto"?($t=gt.transitions.getAutoHeightDuration(Ot.clientHeight),ct.current=$t):$t=Dt,Ot.style.transition=[gt.transitions.create("opacity",{duration:$t,delay:Ct}),gt.transitions.create("transform",{duration:isWebKit154?$t:$t*.666,delay:isWebKit154?Ct:Ct||$t*.333,easing:St})].join(","),Ot.style.opacity=0,Ot.style.transform=getScale(.75),lt&&lt(Ot)}),Vt=xt(at),Mt=Ot=>{mt==="auto"&&pt.start(ct.current||0,Ot),a&&a(Et.current,Ot)};return jsxRuntimeExports.jsx(yt,_extends$1({appear:et,in:nt,nodeRef:Et,onEnter:wt,onEntered:It,onEntering:Tt,onExit:kt,onExited:Vt,onExiting:At,addEndListener:Mt,timeout:mt==="auto"?null:mt},ht,{children:(Ot,Dt)=>reactExports.cloneElement(tt,_extends$1({style:_extends$1({opacity:0,transform:getScale(.75),visibility:Ot==="exited"&&!nt?"hidden":void 0},styles[Ot],ft,tt.props.style),ref:bt},Dt))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow;function useMediaQueryOld(o,i,s,a,et){const[tt,rt]=reactExports.useState(()=>et&&s?s(o).matches:a?a(o).matches:i);return useEnhancedEffect(()=>{let nt=!0;if(!s)return;const it=s(o),ot=()=>{nt&&rt(it.matches)};return ot(),it.addListener(ot),()=>{nt=!1,it.removeListener(ot)}},[o,s]),tt}const maybeReactUseSyncExternalStore=reactExports.useSyncExternalStore;function useMediaQueryNew(o,i,s,a,et){const tt=reactExports.useCallback(()=>i,[i]),rt=reactExports.useMemo(()=>{if(et&&s)return()=>s(o).matches;if(a!==null){const{matches:st}=a(o);return()=>st}return tt},[tt,o,a,et,s]),[nt,it]=reactExports.useMemo(()=>{if(s===null)return[tt,()=>()=>{}];const st=s(o);return[()=>st.matches,lt=>(st.addListener(lt),()=>{st.removeListener(lt)})]},[tt,s,o]);return maybeReactUseSyncExternalStore(it,nt,rt)}function useMediaQuery(o,i={}){const s=useTheme$2(),a=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:et=!1,matchMedia:tt=a?window.matchMedia:null,ssrMatchMedia:rt=null,noSsr:nt=!1}=getThemeProps({name:"MuiUseMediaQuery",props:i,theme:s});let it=typeof o=="function"?o(s):o;return it=it.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(it,et,tt,rt,nt)}const _excluded$p=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$h=o=>{const{classes:i,disableUnderline:s}=o,et=composeClasses({root:["root",!s&&"underline"],input:["input"]},getInputUtilityClass,i);return _extends$1({},i,et)},InputRoot=styled(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiInput",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[...rootOverridesResolver(o,i),!s.disableUnderline&&i.underline]}})(({theme:o,ownerState:i})=>{let a=o.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return o.vars&&(a=`rgba(${o.vars.palette.common.onBackgroundChannel} / ${o.vars.opacity.inputUnderline})`),_extends$1({position:"relative"},i.formControl&&{"label + &":{marginTop:16}},!i.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(o.vars||o).palette[i.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:o.transitions.create("transform",{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&::before, &::after":{borderBottomColor:(o.vars||o).palette.error.main}},"&::before":{borderBottom:`1px solid ${a}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:o.transitions.create("border-bottom-color",{duration:o.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${(o.vars||o).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${a}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input=reactExports.forwardRef(function(i,s){var a,et,tt,rt;const nt=useThemeProps({props:i,name:"MuiInput"}),{disableUnderline:it,components:ot={},componentsProps:st,fullWidth:lt=!1,inputComponent:at="input",multiline:ut=!1,slotProps:ft,slots:mt={},type:yt="text"}=nt,ht=_objectWithoutPropertiesLoose$6(nt,_excluded$p),pt=useUtilityClasses$h(nt),gt={root:{ownerState:{disableUnderline:it}}},Et=ft??st?deepmerge(ft??st,gt):gt,bt=(a=(et=mt.root)!=null?et:ot.Root)!=null?a:InputRoot,xt=(tt=(rt=mt.input)!=null?rt:ot.Input)!=null?tt:InputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:bt,input:xt},slotProps:Et,fullWidth:lt,inputComponent:at,multiline:ut,ref:s,type:yt},ht,{classes:pt}))});Input.muiName="Input";const Input$1=Input;function getInputAdornmentUtilityClass(o){return generateUtilityClass$2("MuiInputAdornment",o)}const inputAdornmentClasses=generateUtilityClasses$2("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),inputAdornmentClasses$1=inputAdornmentClasses;var _span$2;const _excluded$o=["children","className","component","disablePointerEvents","disableTypography","position","variant"],overridesResolver$3=(o,i)=>{const{ownerState:s}=o;return[i.root,i[`position${capitalize(s.position)}`],s.disablePointerEvents===!0&&i.disablePointerEvents,i[s.variant]]},useUtilityClasses$g=o=>{const{classes:i,disablePointerEvents:s,hiddenLabel:a,position:et,size:tt,variant:rt}=o,nt={root:["root",s&&"disablePointerEvents",et&&`position${capitalize(et)}`,rt,a&&"hiddenLabel",tt&&`size${capitalize(tt)}`]};return composeClasses(nt,getInputAdornmentUtilityClass,i)},InputAdornmentRoot=styled("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:overridesResolver$3})(({theme:o,ownerState:i})=>_extends$1({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(o.vars||o).palette.action.active},i.variant==="filled"&&{[`&.${inputAdornmentClasses$1.positionStart}&:not(.${inputAdornmentClasses$1.hiddenLabel})`]:{marginTop:16}},i.position==="start"&&{marginRight:8},i.position==="end"&&{marginLeft:8},i.disablePointerEvents===!0&&{pointerEvents:"none"})),InputAdornment=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiInputAdornment"}),{children:et,className:tt,component:rt="div",disablePointerEvents:nt=!1,disableTypography:it=!1,position:ot,variant:st}=a,lt=_objectWithoutPropertiesLoose$6(a,_excluded$o),at=useFormControl()||{};let ut=st;st&&at.variant,at&&!ut&&(ut=at.variant);const ft=_extends$1({},a,{hiddenLabel:at.hiddenLabel,size:at.size,disablePointerEvents:nt,position:ot,variant:ut}),mt=useUtilityClasses$g(ft);return jsxRuntimeExports.jsx(FormControlContext$1.Provider,{value:null,children:jsxRuntimeExports.jsx(InputAdornmentRoot,_extends$1({as:rt,ownerState:ft,className:clsx(mt.root,tt),ref:s},lt,{children:typeof et=="string"&&!it?jsxRuntimeExports.jsx(Typography$1,{color:"text.secondary",children:et}):jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[ot==="start"?_span$2||(_span$2=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):null,et]})}))})}),InputAdornment$1=InputAdornment;function getInputLabelUtilityClasses(o){return generateUtilityClass$2("MuiInputLabel",o)}generateUtilityClasses$2("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$n=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$f=o=>{const{classes:i,formControl:s,size:a,shrink:et,disableAnimation:tt,variant:rt,required:nt}=o,it={root:["root",s&&"formControl",!tt&&"animated",et&&"shrink",a&&a!=="normal"&&`size${capitalize(a)}`,rt],asterisk:[nt&&"asterisk"]},ot=composeClasses(it,getInputLabelUtilityClasses,i);return _extends$1({},i,ot)},InputLabelRoot=styled(FormLabel$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[{[`& .${formLabelClasses$1.asterisk}`]:i.asterisk},i.root,s.formControl&&i.formControl,s.size==="small"&&i.sizeSmall,s.shrink&&i.shrink,!s.disableAnimation&&i.animated,s.focused&&i.focused,i[s.variant]]}})(({theme:o,ownerState:i})=>_extends$1({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},i.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},i.size==="small"&&{transform:"translate(0, 17px) scale(1)"},i.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!i.disableAnimation&&{transition:o.transitions.create(["color","transform","max-width"],{duration:o.transitions.duration.shorter,easing:o.transitions.easing.easeOut})},i.variant==="filled"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},i.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},i.shrink&&_extends$1({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},i.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),i.variant==="outlined"&&_extends$1({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},i.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},i.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(i,s){const a=useThemeProps({name:"MuiInputLabel",props:i}),{disableAnimation:et=!1,shrink:tt,className:rt}=a,nt=_objectWithoutPropertiesLoose$6(a,_excluded$n),it=useFormControl();let ot=tt;typeof ot>"u"&&it&&(ot=it.filled||it.focused||it.adornedStart);const st=formControlState({props:a,muiFormControl:it,states:["size","variant","required","focused"]}),lt=_extends$1({},a,{disableAnimation:et,formControl:it,shrink:ot,size:st.size,variant:st.variant,required:st.required,focused:st.focused}),at=useUtilityClasses$f(lt);return jsxRuntimeExports.jsx(InputLabelRoot,_extends$1({"data-shrink":ot,ownerState:lt,ref:s,className:clsx(at.root,rt)},nt,{classes:at}))}),InputLabel$1=InputLabel,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(o){return generateUtilityClass$2("MuiList",o)}generateUtilityClasses$2("MuiList",["root","padding","dense","subheader"]);const _excluded$m=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$e=o=>{const{classes:i,disablePadding:s,dense:a,subheader:et}=o;return composeClasses({root:["root",!s&&"padding",a&&"dense",et&&"subheader"]},getListUtilityClass,i)},ListRoot=styled("ul",{name:"MuiList",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,!s.disablePadding&&i.padding,s.dense&&i.dense,s.subheader&&i.subheader]}})(({ownerState:o})=>_extends$1({listStyle:"none",margin:0,padding:0,position:"relative"},!o.disablePadding&&{paddingTop:8,paddingBottom:8},o.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiList"}),{children:et,className:tt,component:rt="ul",dense:nt=!1,disablePadding:it=!1,subheader:ot}=a,st=_objectWithoutPropertiesLoose$6(a,_excluded$m),lt=reactExports.useMemo(()=>({dense:nt}),[nt]),at=_extends$1({},a,{component:rt,dense:nt,disablePadding:it}),ut=useUtilityClasses$e(at);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:lt,children:jsxRuntimeExports.jsxs(ListRoot,_extends$1({as:rt,className:clsx(ut.root,tt),ref:s,ownerState:at},st,{children:[ot,et]}))})}),List$1=List;function getListItemUtilityClass(o){return generateUtilityClass$2("MuiListItem",o)}const listItemClasses=generateUtilityClasses$2("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),listItemClasses$1=listItemClasses;function getListItemButtonUtilityClass(o){return generateUtilityClass$2("MuiListItemButton",o)}const listItemButtonClasses=generateUtilityClasses$2("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),listItemButtonClasses$1=listItemButtonClasses,_excluded$l=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],overridesResolver$2=(o,i)=>{const{ownerState:s}=o;return[i.root,s.dense&&i.dense,s.alignItems==="flex-start"&&i.alignItemsFlexStart,s.divider&&i.divider,!s.disableGutters&&i.gutters]},useUtilityClasses$d=o=>{const{alignItems:i,classes:s,dense:a,disabled:et,disableGutters:tt,divider:rt,selected:nt}=o,ot=composeClasses({root:["root",a&&"dense",!tt&&"gutters",rt&&"divider",et&&"disabled",i==="flex-start"&&"alignItemsFlexStart",nt&&"selected"]},getListItemButtonUtilityClass,s);return _extends$1({},s,ot)},ListItemButtonRoot=styled(ButtonBase$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:overridesResolver$2})(({theme:o,ownerState:i})=>_extends$1({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemButtonClasses$1.selected}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${listItemButtonClasses$1.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},[`&.${listItemButtonClasses$1.selected}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity)}},[`&.${listItemButtonClasses$1.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${listItemButtonClasses$1.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity}},i.divider&&{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"},i.alignItems==="flex-start"&&{alignItems:"flex-start"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.dense&&{paddingTop:4,paddingBottom:4})),ListItemButton=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiListItemButton"}),{alignItems:et="center",autoFocus:tt=!1,component:rt="div",children:nt,dense:it=!1,disableGutters:ot=!1,divider:st=!1,focusVisibleClassName:lt,selected:at=!1,className:ut}=a,ft=_objectWithoutPropertiesLoose$6(a,_excluded$l),mt=reactExports.useContext(ListContext$1),yt=reactExports.useMemo(()=>({dense:it||mt.dense||!1,alignItems:et,disableGutters:ot}),[et,mt.dense,it,ot]),ht=reactExports.useRef(null);useEnhancedEffect(()=>{tt&&ht.current&&ht.current.focus()},[tt]);const pt=_extends$1({},a,{alignItems:et,dense:yt.dense,disableGutters:ot,divider:st,selected:at}),ct=useUtilityClasses$d(pt),gt=useForkRef(ht,s);return jsxRuntimeExports.jsx(ListContext$1.Provider,{value:yt,children:jsxRuntimeExports.jsx(ListItemButtonRoot,_extends$1({ref:gt,href:ft.href||ft.to,component:(ft.href||ft.to)&&rt==="div"?"button":rt,focusVisibleClassName:clsx(ct.focusVisible,lt),ownerState:pt,className:clsx(ct.root,ut)},ft,{classes:ct,children:nt}))})}),ListItemButton$1=ListItemButton;function getListItemSecondaryActionClassesUtilityClass(o){return generateUtilityClass$2("MuiListItemSecondaryAction",o)}generateUtilityClasses$2("MuiListItemSecondaryAction",["root","disableGutters"]);const _excluded$k=["className"],useUtilityClasses$c=o=>{const{disableGutters:i,classes:s}=o;return composeClasses({root:["root",i&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,s)},ListItemSecondaryActionRoot=styled("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,s.disableGutters&&i.disableGutters]}})(({ownerState:o})=>_extends$1({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},o.disableGutters&&{right:0})),ListItemSecondaryAction=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiListItemSecondaryAction"}),{className:et}=a,tt=_objectWithoutPropertiesLoose$6(a,_excluded$k),rt=reactExports.useContext(ListContext$1),nt=_extends$1({},a,{disableGutters:rt.disableGutters}),it=useUtilityClasses$c(nt);return jsxRuntimeExports.jsx(ListItemSecondaryActionRoot,_extends$1({className:clsx(it.root,et),ownerState:nt,ref:s},tt))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction$1=ListItemSecondaryAction,_excluded$j=["className"],_excluded2$3=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],overridesResolver$1=(o,i)=>{const{ownerState:s}=o;return[i.root,s.dense&&i.dense,s.alignItems==="flex-start"&&i.alignItemsFlexStart,s.divider&&i.divider,!s.disableGutters&&i.gutters,!s.disablePadding&&i.padding,s.button&&i.button,s.hasSecondaryAction&&i.secondaryAction]},useUtilityClasses$b=o=>{const{alignItems:i,button:s,classes:a,dense:et,disabled:tt,disableGutters:rt,disablePadding:nt,divider:it,hasSecondaryAction:ot,selected:st}=o;return composeClasses({root:["root",et&&"dense",!rt&&"gutters",!nt&&"padding",it&&"divider",tt&&"disabled",s&&"button",i==="flex-start"&&"alignItemsFlexStart",ot&&"secondaryAction",st&&"selected"],container:["container"]},getListItemUtilityClass,a)},ListItemRoot=styled("div",{name:"MuiListItem",slot:"Root",overridesResolver:overridesResolver$1})(({theme:o,ownerState:i})=>_extends$1({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!i.disablePadding&&_extends$1({paddingTop:8,paddingBottom:8},i.dense&&{paddingTop:4,paddingBottom:4},!i.disableGutters&&{paddingLeft:16,paddingRight:16},!!i.secondaryAction&&{paddingRight:48}),!!i.secondaryAction&&{[`& > .${listItemButtonClasses$1.root}`]:{paddingRight:48}},{[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${listItemClasses$1.selected}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},[`&.${listItemClasses$1.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity}},i.alignItems==="flex-start"&&{alignItems:"flex-start"},i.divider&&{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"},i.button&&{transition:o.transitions.create("background-color",{duration:o.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemClasses$1.selected}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity)}}},i.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=styled("li",{name:"MuiListItem",slot:"Container",overridesResolver:(o,i)=>i.container})({position:"relative"}),ListItem$1=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiListItem"}),{alignItems:et="center",autoFocus:tt=!1,button:rt=!1,children:nt,className:it,component:ot,components:st={},componentsProps:lt={},ContainerComponent:at="li",ContainerProps:{className:ut}={},dense:ft=!1,disabled:mt=!1,disableGutters:yt=!1,disablePadding:ht=!1,divider:pt=!1,focusVisibleClassName:ct,secondaryAction:gt,selected:Et=!1,slotProps:bt={},slots:xt={}}=a,Tt=_objectWithoutPropertiesLoose$6(a.ContainerProps,_excluded$j),wt=_objectWithoutPropertiesLoose$6(a,_excluded2$3),It=reactExports.useContext(ListContext$1),At=reactExports.useMemo(()=>({dense:ft||It.dense||!1,alignItems:et,disableGutters:yt}),[et,It.dense,ft,yt]),kt=reactExports.useRef(null);useEnhancedEffect(()=>{tt&&kt.current&&kt.current.focus()},[tt]);const Vt=reactExports.Children.toArray(nt),Mt=Vt.length&&isMuiElement(Vt[Vt.length-1],["ListItemSecondaryAction"]),Ot=_extends$1({},a,{alignItems:et,autoFocus:tt,button:rt,dense:At.dense,disabled:mt,disableGutters:yt,disablePadding:ht,divider:pt,hasSecondaryAction:Mt,selected:Et}),Dt=useUtilityClasses$b(Ot),Ct=useForkRef(kt,s),St=xt.root||st.Root||ListItemRoot,$t=bt.root||lt.root||{},Lt=_extends$1({className:clsx(Dt.root,$t.className,it),disabled:mt},wt);let Rt=ot||"li";return rt&&(Lt.component=ot||"div",Lt.focusVisibleClassName=clsx(listItemClasses$1.focusVisible,ct),Rt=ButtonBase$1),Mt?(Rt=!Lt.component&&!ot?"div":Rt,at==="li"&&(Rt==="li"?Rt="div":Lt.component==="li"&&(Lt.component="div")),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:At,children:jsxRuntimeExports.jsxs(ListItemContainer,_extends$1({as:at,className:clsx(Dt.container,ut),ref:Ct,ownerState:Ot},Tt,{children:[jsxRuntimeExports.jsx(St,_extends$1({},$t,!isHostComponent(St)&&{as:Rt,ownerState:_extends$1({},Ot,$t.ownerState)},Lt,{children:Vt})),Vt.pop()]}))})):jsxRuntimeExports.jsx(ListContext$1.Provider,{value:At,children:jsxRuntimeExports.jsxs(St,_extends$1({},$t,{as:Rt,ref:Ct},!isHostComponent(St)&&{ownerState:_extends$1({},Ot,$t.ownerState)},Lt,{children:[Vt,gt&&jsxRuntimeExports.jsx(ListItemSecondaryAction$1,{children:gt})]}))})}),ListItem$2=ListItem$1,listItemIconClasses=generateUtilityClasses$2("MuiListItemIcon",["root","alignItemsFlexStart"]),listItemIconClasses$1=listItemIconClasses;function getListItemTextUtilityClass(o){return generateUtilityClass$2("MuiListItemText",o)}const listItemTextClasses=generateUtilityClasses$2("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),listItemTextClasses$1=listItemTextClasses,_excluded$i=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses$a=o=>{const{classes:i,inset:s,primary:a,secondary:et,dense:tt}=o;return composeClasses({root:["root",s&&"inset",tt&&"dense",a&&et&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,i)},ListItemTextRoot=styled("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[{[`& .${listItemTextClasses$1.primary}`]:i.primary},{[`& .${listItemTextClasses$1.secondary}`]:i.secondary},i.root,s.inset&&i.inset,s.primary&&s.secondary&&i.multiline,s.dense&&i.dense]}})(({ownerState:o})=>_extends$1({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},o.primary&&o.secondary&&{marginTop:6,marginBottom:6},o.inset&&{paddingLeft:56})),ListItemText=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiListItemText"}),{children:et,className:tt,disableTypography:rt=!1,inset:nt=!1,primary:it,primaryTypographyProps:ot,secondary:st,secondaryTypographyProps:lt}=a,at=_objectWithoutPropertiesLoose$6(a,_excluded$i),{dense:ut}=reactExports.useContext(ListContext$1);let ft=it??et,mt=st;const yt=_extends$1({},a,{disableTypography:rt,inset:nt,primary:!!ft,secondary:!!mt,dense:ut}),ht=useUtilityClasses$a(yt);return ft!=null&&ft.type!==Typography$1&&!rt&&(ft=jsxRuntimeExports.jsx(Typography$1,_extends$1({variant:ut?"body2":"body1",className:ht.primary,component:ot!=null&&ot.variant?void 0:"span",display:"block"},ot,{children:ft}))),mt!=null&&mt.type!==Typography$1&&!rt&&(mt=jsxRuntimeExports.jsx(Typography$1,_extends$1({variant:"body2",className:ht.secondary,color:"text.secondary",display:"block"},lt,{children:mt}))),jsxRuntimeExports.jsxs(ListItemTextRoot,_extends$1({className:clsx(ht.root,tt),ownerState:yt,ref:s},at,{children:[ft,mt]}))}),ListItemText$1=ListItemText,_excluded$h=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem(o,i,s){return o===i?o.firstChild:i&&i.nextElementSibling?i.nextElementSibling:s?null:o.firstChild}function previousItem(o,i,s){return o===i?s?o.firstChild:o.lastChild:i&&i.previousElementSibling?i.previousElementSibling:s?null:o.lastChild}function textCriteriaMatches(o,i){if(i===void 0)return!0;let s=o.innerText;return s===void 0&&(s=o.textContent),s=s.trim().toLowerCase(),s.length===0?!1:i.repeating?s[0]===i.keys[0]:s.indexOf(i.keys.join(""))===0}function moveFocus(o,i,s,a,et,tt){let rt=!1,nt=et(o,i,i?s:!1);for(;nt;){if(nt===o.firstChild){if(rt)return!1;rt=!0}const it=a?!1:nt.disabled||nt.getAttribute("aria-disabled")==="true";if(!nt.hasAttribute("tabindex")||!textCriteriaMatches(nt,tt)||it)nt=et(o,nt,s);else return nt.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(i,s){const{actions:a,autoFocus:et=!1,autoFocusItem:tt=!1,children:rt,className:nt,disabledItemsFocusable:it=!1,disableListWrap:ot=!1,onKeyDown:st,variant:lt="selectedMenu"}=i,at=_objectWithoutPropertiesLoose$6(i,_excluded$h),ut=reactExports.useRef(null),ft=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect(()=>{et&&ut.current.focus()},[et]),reactExports.useImperativeHandle(a,()=>({adjustStyleForScrollbar:(ct,gt)=>{const Et=!ut.current.style.width;if(ct.clientHeight<ut.current.clientHeight&&Et){const bt=`${getScrollbarSize(ownerDocument$1(ct))}px`;ut.current.style[gt.direction==="rtl"?"paddingLeft":"paddingRight"]=bt,ut.current.style.width=`calc(100% + ${bt})`}return ut.current}}),[]);const mt=ct=>{const gt=ut.current,Et=ct.key,bt=ownerDocument$1(gt).activeElement;if(Et==="ArrowDown")ct.preventDefault(),moveFocus(gt,bt,ot,it,nextItem);else if(Et==="ArrowUp")ct.preventDefault(),moveFocus(gt,bt,ot,it,previousItem);else if(Et==="Home")ct.preventDefault(),moveFocus(gt,null,ot,it,nextItem);else if(Et==="End")ct.preventDefault(),moveFocus(gt,null,ot,it,previousItem);else if(Et.length===1){const xt=ft.current,Tt=Et.toLowerCase(),wt=performance.now();xt.keys.length>0&&(wt-xt.lastTime>500?(xt.keys=[],xt.repeating=!0,xt.previousKeyMatched=!0):xt.repeating&&Tt!==xt.keys[0]&&(xt.repeating=!1)),xt.lastTime=wt,xt.keys.push(Tt);const It=bt&&!xt.repeating&&textCriteriaMatches(bt,xt);xt.previousKeyMatched&&(It||moveFocus(gt,bt,!1,it,nextItem,xt))?ct.preventDefault():xt.previousKeyMatched=!1}st&&st(ct)},yt=useForkRef(ut,s);let ht=-1;reactExports.Children.forEach(rt,(ct,gt)=>{if(!reactExports.isValidElement(ct)){ht===gt&&(ht+=1,ht>=rt.length&&(ht=-1));return}ct.props.disabled||(lt==="selectedMenu"&&ct.props.selected||ht===-1)&&(ht=gt),ht===gt&&(ct.props.disabled||ct.props.muiSkipListHighlight||ct.type.muiSkipListHighlight)&&(ht+=1,ht>=rt.length&&(ht=-1))});const pt=reactExports.Children.map(rt,(ct,gt)=>{if(gt===ht){const Et={};return tt&&(Et.autoFocus=!0),ct.props.tabIndex===void 0&&lt==="selectedMenu"&&(Et.tabIndex=0),reactExports.cloneElement(ct,Et)}return ct});return jsxRuntimeExports.jsx(List$1,_extends$1({role:"menu",ref:yt,className:nt,onKeyDown:mt,tabIndex:et?0:-1},at,{children:pt}))}),MenuList$1=MenuList;function getPopoverUtilityClass(o){return generateUtilityClass$2("MuiPopover",o)}generateUtilityClasses$2("MuiPopover",["root","paper"]);const _excluded$g=["onEntering"],_excluded2$2=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],_excluded3=["slotProps"];function getOffsetTop(o,i){let s=0;return typeof i=="number"?s=i:i==="center"?s=o.height/2:i==="bottom"&&(s=o.height),s}function getOffsetLeft(o,i){let s=0;return typeof i=="number"?s=i:i==="center"?s=o.width/2:i==="right"&&(s=o.width),s}function getTransformOriginValue(o){return[o.horizontal,o.vertical].map(i=>typeof i=="number"?`${i}px`:i).join(" ")}function resolveAnchorEl(o){return typeof o=="function"?o():o}const useUtilityClasses$9=o=>{const{classes:i}=o;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,i)},PopoverRoot=styled(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(o,i)=>i.root})({}),PopoverPaper=styled(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(o,i)=>i.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(i,s){var a,et,tt;const rt=useThemeProps({props:i,name:"MuiPopover"}),{action:nt,anchorEl:it,anchorOrigin:ot={vertical:"top",horizontal:"left"},anchorPosition:st,anchorReference:lt="anchorEl",children:at,className:ut,container:ft,elevation:mt=8,marginThreshold:yt=16,open:ht,PaperProps:pt={},slots:ct,slotProps:gt,transformOrigin:Et={vertical:"top",horizontal:"left"},TransitionComponent:bt=Grow$1,transitionDuration:xt="auto",TransitionProps:{onEntering:Tt}={},disableScrollLock:wt=!1}=rt,It=_objectWithoutPropertiesLoose$6(rt.TransitionProps,_excluded$g),At=_objectWithoutPropertiesLoose$6(rt,_excluded2$2),kt=(a=gt==null?void 0:gt.paper)!=null?a:pt,Vt=reactExports.useRef(),Mt=useForkRef(Vt,kt.ref),Ot=_extends$1({},rt,{anchorOrigin:ot,anchorReference:lt,elevation:mt,marginThreshold:yt,externalPaperSlotProps:kt,transformOrigin:Et,TransitionComponent:bt,transitionDuration:xt,TransitionProps:It}),Dt=useUtilityClasses$9(Ot),Ct=reactExports.useCallback(()=>{if(lt==="anchorPosition")return st;const ur=resolveAnchorEl(it),yr=(ur&&ur.nodeType===1?ur:ownerDocument$1(Vt.current).body).getBoundingClientRect();return{top:yr.top+getOffsetTop(yr,ot.vertical),left:yr.left+getOffsetLeft(yr,ot.horizontal)}},[it,ot.horizontal,ot.vertical,st,lt]),St=reactExports.useCallback(ur=>({vertical:getOffsetTop(ur,Et.vertical),horizontal:getOffsetLeft(ur,Et.horizontal)}),[Et.horizontal,Et.vertical]),$t=reactExports.useCallback(ur=>{const nr={width:ur.offsetWidth,height:ur.offsetHeight},yr=St(nr);if(lt==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(yr)};const Ar=Ct();let Er=Ar.top-yr.vertical,lr=Ar.left-yr.horizontal;const dr=Er+nr.height,pr=lr+nr.width,ar=ownerWindow(resolveAnchorEl(it)),mr=ar.innerHeight-yt,wr=ar.innerWidth-yt;if(yt!==null&&Er<yt){const Sr=Er-yt;Er-=Sr,yr.vertical+=Sr}else if(yt!==null&&dr>mr){const Sr=dr-mr;Er-=Sr,yr.vertical+=Sr}if(yt!==null&&lr<yt){const Sr=lr-yt;lr-=Sr,yr.horizontal+=Sr}else if(pr>wr){const Sr=pr-wr;lr-=Sr,yr.horizontal+=Sr}return{top:`${Math.round(Er)}px`,left:`${Math.round(lr)}px`,transformOrigin:getTransformOriginValue(yr)}},[it,lt,Ct,St,yt]),[Lt,Rt]=reactExports.useState(ht),jt=reactExports.useCallback(()=>{const ur=Vt.current;if(!ur)return;const nr=$t(ur);nr.top!==null&&(ur.style.top=nr.top),nr.left!==null&&(ur.style.left=nr.left),ur.style.transformOrigin=nr.transformOrigin,Rt(!0)},[$t]);reactExports.useEffect(()=>(wt&&window.addEventListener("scroll",jt),()=>window.removeEventListener("scroll",jt)),[it,wt,jt]);const Ft=(ur,nr)=>{Tt&&Tt(ur,nr),jt()},zt=()=>{Rt(!1)};reactExports.useEffect(()=>{ht&&jt()}),reactExports.useImperativeHandle(nt,()=>ht?{updatePosition:()=>{jt()}}:null,[ht,jt]),reactExports.useEffect(()=>{if(!ht)return;const ur=debounce$2(()=>{jt()}),nr=ownerWindow(it);return nr.addEventListener("resize",ur),()=>{ur.clear(),nr.removeEventListener("resize",ur)}},[it,ht,jt]);let Gt=xt;xt==="auto"&&!bt.muiSupportAuto&&(Gt=void 0);const Bt=ft||(it?ownerDocument$1(resolveAnchorEl(it)).body:void 0),Wt=(et=ct==null?void 0:ct.root)!=null?et:PopoverRoot,Kt=(tt=ct==null?void 0:ct.paper)!=null?tt:PopoverPaper,Qt=useSlotProps({elementType:Kt,externalSlotProps:_extends$1({},kt,{style:Lt?kt.style:_extends$1({},kt.style,{opacity:0})}),additionalProps:{elevation:mt,ref:Mt},ownerState:Ot,className:clsx(Dt.paper,kt==null?void 0:kt.className)}),Xt=useSlotProps({elementType:Wt,externalSlotProps:(gt==null?void 0:gt.root)||{},externalForwardedProps:At,additionalProps:{ref:s,slotProps:{backdrop:{invisible:!0}},container:Bt,open:ht},ownerState:Ot,className:clsx(Dt.root,ut)}),{slotProps:er}=Xt,sr=_objectWithoutPropertiesLoose$6(Xt,_excluded3);return jsxRuntimeExports.jsx(Wt,_extends$1({},sr,!isHostComponent(Wt)&&{slotProps:er,disableScrollLock:wt},{children:jsxRuntimeExports.jsx(bt,_extends$1({appear:!0,in:ht,onEntering:Ft,onExited:zt,timeout:Gt},It,{children:jsxRuntimeExports.jsx(Kt,_extends$1({},Qt,{children:at}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(o){return generateUtilityClass$2("MuiMenu",o)}generateUtilityClasses$2("MuiMenu",["root","paper","list"]);const _excluded$f=["onEntering"],_excluded2$1=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$8=o=>{const{classes:i}=o;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,i)},MenuRoot=styled(Popover$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(o,i)=>i.root})({}),MenuPaper=styled(PopoverPaper,{name:"MuiMenu",slot:"Paper",overridesResolver:(o,i)=>i.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(o,i)=>i.list})({outline:0}),Menu$1=reactExports.forwardRef(function(i,s){var a,et;const tt=useThemeProps({props:i,name:"MuiMenu"}),{autoFocus:rt=!0,children:nt,className:it,disableAutoFocusItem:ot=!1,MenuListProps:st={},onClose:lt,open:at,PaperProps:ut={},PopoverClasses:ft,transitionDuration:mt="auto",TransitionProps:{onEntering:yt}={},variant:ht="selectedMenu",slots:pt={},slotProps:ct={}}=tt,gt=_objectWithoutPropertiesLoose$6(tt.TransitionProps,_excluded$f),Et=_objectWithoutPropertiesLoose$6(tt,_excluded2$1),bt=useTheme(),xt=bt.direction==="rtl",Tt=_extends$1({},tt,{autoFocus:rt,disableAutoFocusItem:ot,MenuListProps:st,onEntering:yt,PaperProps:ut,transitionDuration:mt,TransitionProps:gt,variant:ht}),wt=useUtilityClasses$8(Tt),It=rt&&!ot&&at,At=reactExports.useRef(null),kt=($t,Lt)=>{At.current&&At.current.adjustStyleForScrollbar($t,bt),yt&&yt($t,Lt)},Vt=$t=>{$t.key==="Tab"&&($t.preventDefault(),lt&&lt($t,"tabKeyDown"))};let Mt=-1;reactExports.Children.map(nt,($t,Lt)=>{reactExports.isValidElement($t)&&($t.props.disabled||(ht==="selectedMenu"&&$t.props.selected||Mt===-1)&&(Mt=Lt))});const Ot=(a=pt.paper)!=null?a:MenuPaper,Dt=(et=ct.paper)!=null?et:ut,Ct=useSlotProps({elementType:pt.root,externalSlotProps:ct.root,ownerState:Tt,className:[wt.root,it]}),St=useSlotProps({elementType:Ot,externalSlotProps:Dt,ownerState:Tt,className:wt.paper});return jsxRuntimeExports.jsx(MenuRoot,_extends$1({onClose:lt,anchorOrigin:{vertical:"bottom",horizontal:xt?"right":"left"},transformOrigin:xt?RTL_ORIGIN:LTR_ORIGIN,slots:{paper:Ot,root:pt.root},slotProps:{root:Ct,paper:St},open:at,ref:s,transitionDuration:mt,TransitionProps:_extends$1({onEntering:kt},gt),ownerState:Tt},Et,{classes:ft,children:jsxRuntimeExports.jsx(MenuMenuList,_extends$1({onKeyDown:Vt,actions:At,autoFocus:rt&&(Mt===-1||ot),autoFocusItem:It,variant:ht},st,{className:clsx(wt.list,st.className),children:nt}))}))}),Menu$2=Menu$1;function getMenuItemUtilityClass(o){return generateUtilityClass$2("MuiMenuItem",o)}const menuItemClasses=generateUtilityClasses$2("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),menuItemClasses$1=menuItemClasses,_excluded$e=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],overridesResolver=(o,i)=>{const{ownerState:s}=o;return[i.root,s.dense&&i.dense,s.divider&&i.divider,!s.disableGutters&&i.gutters]},useUtilityClasses$7=o=>{const{disabled:i,dense:s,divider:a,disableGutters:et,selected:tt,classes:rt}=o,it=composeClasses({root:["root",s&&"dense",i&&"disabled",!et&&"gutters",a&&"divider",tt&&"selected"]},getMenuItemUtilityClass,rt);return _extends$1({},rt,it)},MenuItemRoot=styled(ButtonBase$1,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(({theme:o,ownerState:i})=>_extends$1({},o.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!i.disableGutters&&{paddingLeft:16,paddingRight:16},i.divider&&{borderBottom:`1px solid ${(o.vars||o).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(o.vars||o).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses$1.selected}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity),[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.focusOpacity}))`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.focusOpacity)}},[`&.${menuItemClasses$1.selected}:hover`]:{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / calc(${o.vars.palette.action.selectedOpacity} + ${o.vars.palette.action.hoverOpacity}))`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity+o.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:o.vars?`rgba(${o.vars.palette.primary.mainChannel} / ${o.vars.palette.action.selectedOpacity})`:alpha(o.palette.primary.main,o.palette.action.selectedOpacity)}},[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:(o.vars||o).palette.action.focus},[`&.${menuItemClasses$1.disabled}`]:{opacity:(o.vars||o).palette.action.disabledOpacity},[`& + .${dividerClasses$1.root}`]:{marginTop:o.spacing(1),marginBottom:o.spacing(1)},[`& + .${dividerClasses$1.inset}`]:{marginLeft:52},[`& .${listItemTextClasses$1.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses$1.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses$1.root}`]:{minWidth:36}},!i.dense&&{[o.breakpoints.up("sm")]:{minHeight:"auto"}},i.dense&&_extends$1({minHeight:32,paddingTop:4,paddingBottom:4},o.typography.body2,{[`& .${listItemIconClasses$1.root} svg`]:{fontSize:"1.25rem"}}))),MenuItem=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiMenuItem"}),{autoFocus:et=!1,component:tt="li",dense:rt=!1,divider:nt=!1,disableGutters:it=!1,focusVisibleClassName:ot,role:st="menuitem",tabIndex:lt,className:at}=a,ut=_objectWithoutPropertiesLoose$6(a,_excluded$e),ft=reactExports.useContext(ListContext$1),mt=reactExports.useMemo(()=>({dense:rt||ft.dense||!1,disableGutters:it}),[ft.dense,rt,it]),yt=reactExports.useRef(null);useEnhancedEffect(()=>{et&&yt.current&&yt.current.focus()},[et]);const ht=_extends$1({},a,{dense:mt.dense,divider:nt,disableGutters:it}),pt=useUtilityClasses$7(a),ct=useForkRef(yt,s);let gt;return a.disabled||(gt=lt!==void 0?lt:-1),jsxRuntimeExports.jsx(ListContext$1.Provider,{value:mt,children:jsxRuntimeExports.jsx(MenuItemRoot,_extends$1({ref:ct,role:st,tabIndex:gt,component:tt,focusVisibleClassName:clsx(pt.focusVisible,ot),className:clsx(pt.root,at)},ut,{ownerState:ht,classes:pt}))})}),MenuItem$1=MenuItem;function getNativeSelectUtilityClasses(o){return generateUtilityClass$2("MuiNativeSelect",o)}const nativeSelectClasses=generateUtilityClasses$2("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$d=["className","disabled","error","IconComponent","inputRef","variant"],useUtilityClasses$6=o=>{const{classes:i,variant:s,disabled:a,multiple:et,open:tt,error:rt}=o,nt={select:["select",s,a&&"disabled",et&&"multiple",rt&&"error"],icon:["icon",`icon${capitalize(s)}`,tt&&"iconOpen",a&&"disabled"]};return composeClasses(nt,getNativeSelectUtilityClasses,i)},nativeSelectSelectStyles=({ownerState:o,theme:i})=>_extends$1({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$1({},i.vars?{backgroundColor:`rgba(${i.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:i.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(i.vars||i).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},o.variant==="filled"&&{"&&&":{paddingRight:32}},o.variant==="outlined"&&{borderRadius:(i.vars||i).shape.borderRadius,"&:focus":{borderRadius:(i.vars||i).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.select,i[s.variant],s.error&&i.error,{[`&.${nativeSelectClasses$1.multiple}`]:i.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:o,theme:i})=>_extends$1({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(i.vars||i).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(i.vars||i).palette.action.disabled}},o.open&&{transform:"rotate(180deg)"},o.variant==="filled"&&{right:7},o.variant==="outlined"&&{right:7}),NativeSelectIcon=styled("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.icon,s.variant&&i[`icon${capitalize(s.variant)}`],s.open&&i.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(i,s){const{className:a,disabled:et,error:tt,IconComponent:rt,inputRef:nt,variant:it="standard"}=i,ot=_objectWithoutPropertiesLoose$6(i,_excluded$d),st=_extends$1({},i,{disabled:et,variant:it,error:tt}),lt=useUtilityClasses$6(st);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(NativeSelectSelect,_extends$1({ownerState:st,className:clsx(lt.select,a),disabled:et,ref:nt||s},ot)),i.multiple?null:jsxRuntimeExports.jsx(NativeSelectIcon,{as:rt,ownerState:st,className:lt.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$c=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled("fieldset",{shouldForwardProp:rootShouldForwardProp})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled("legend",{shouldForwardProp:rootShouldForwardProp})(({ownerState:o,theme:i})=>_extends$1({float:"unset",width:"auto",overflow:"hidden"},!o.withLabel&&{padding:0,lineHeight:"11px",transition:i.transitions.create("width",{duration:150,easing:i.transitions.easing.easeOut})},o.withLabel&&_extends$1({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:i.transitions.create("max-width",{duration:50,easing:i.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},o.notched&&{maxWidth:"100%",transition:i.transitions.create("max-width",{duration:100,easing:i.transitions.easing.easeOut,delay:50})})));function NotchedOutline(o){const{className:i,label:s,notched:a}=o,et=_objectWithoutPropertiesLoose$6(o,_excluded$c),tt=s!=null&&s!=="",rt=_extends$1({},o,{notched:a,withLabel:tt});return jsxRuntimeExports.jsx(NotchedOutlineRoot$1,_extends$1({"aria-hidden":!0,className:i,ownerState:rt},et,{children:jsxRuntimeExports.jsx(NotchedOutlineLegend,{ownerState:rt,children:tt?jsxRuntimeExports.jsx("span",{children:s}):_span$1||(_span$1=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"}))})}))}const _excluded$b=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$5=o=>{const{classes:i}=o,a=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,i);return _extends$1({},i,a)},OutlinedInputRoot=styled(InputBaseRoot,{shouldForwardProp:o=>rootShouldForwardProp(o)||o==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:o,ownerState:i})=>{const s=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$1({position:"relative",borderRadius:(o.vars||o).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:s}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette[i.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(o.vars||o).palette.action.disabled}},i.startAdornment&&{paddingLeft:14},i.endAdornment&&{paddingRight:14},i.multiline&&_extends$1({padding:"16.5px 14px"},i.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(o,i)=>i.notchedOutline})(({theme:o})=>{const i=o.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:o.vars?`rgba(${o.vars.palette.common.onBackgroundChannel} / 0.23)`:i}}),OutlinedInputInput=styled(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:o,ownerState:i})=>_extends$1({padding:"16.5px 14px"},!o.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:o.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:o.palette.mode==="light"?null:"#fff",caretColor:o.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},o.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[o.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},i.size==="small"&&{padding:"8.5px 14px"},i.multiline&&{padding:0},i.startAdornment&&{paddingLeft:0},i.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(i,s){var a,et,tt,rt,nt;const it=useThemeProps({props:i,name:"MuiOutlinedInput"}),{components:ot={},fullWidth:st=!1,inputComponent:lt="input",label:at,multiline:ut=!1,notched:ft,slots:mt={},type:yt="text"}=it,ht=_objectWithoutPropertiesLoose$6(it,_excluded$b),pt=useUtilityClasses$5(it),ct=useFormControl(),gt=formControlState({props:it,muiFormControl:ct,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),Et=_extends$1({},it,{color:gt.color||"primary",disabled:gt.disabled,error:gt.error,focused:gt.focused,formControl:ct,fullWidth:st,hiddenLabel:gt.hiddenLabel,multiline:ut,size:gt.size,type:yt}),bt=(a=(et=mt.root)!=null?et:ot.Root)!=null?a:OutlinedInputRoot,xt=(tt=(rt=mt.input)!=null?rt:ot.Input)!=null?tt:OutlinedInputInput;return jsxRuntimeExports.jsx(InputBase$1,_extends$1({slots:{root:bt,input:xt},renderSuffix:Tt=>jsxRuntimeExports.jsx(NotchedOutlineRoot,{ownerState:Et,className:pt.notchedOutline,label:at!=null&&at!==""&&gt.required?nt||(nt=jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[at," ","*"]})):at,notched:typeof ft<"u"?ft:!!(Tt.startAdornment||Tt.filled||Tt.focused)}),fullWidth:st,inputComponent:lt,multiline:ut,ref:s,type:yt},ht,{classes:_extends$1({},pt,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput;function getSelectUtilityClasses(o){return generateUtilityClass$2("MuiSelect",o)}const selectClasses=generateUtilityClasses$2("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var _span;const _excluded$a=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled("div",{name:"MuiSelect",slot:"Select",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[{[`&.${selectClasses.select}`]:i.select},{[`&.${selectClasses.select}`]:i[s.variant]},{[`&.${selectClasses.error}`]:i.error},{[`&.${selectClasses.multiple}`]:i.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.icon,s.variant&&i[`icon${capitalize(s.variant)}`],s.open&&i.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled("input",{shouldForwardProp:o=>slotShouldForwardProp(o)&&o!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(o,i)=>i.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(o,i){return typeof i=="object"&&i!==null?o===i:String(o)===String(i)}function isEmpty(o){return o==null||typeof o=="string"&&!o.trim()}const useUtilityClasses$4=o=>{const{classes:i,variant:s,disabled:a,multiple:et,open:tt,error:rt}=o,nt={select:["select",s,a&&"disabled",et&&"multiple",rt&&"error"],icon:["icon",`icon${capitalize(s)}`,tt&&"iconOpen",a&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(nt,getSelectUtilityClasses,i)},SelectInput=reactExports.forwardRef(function(i,s){var a;const{"aria-describedby":et,"aria-label":tt,autoFocus:rt,autoWidth:nt,children:it,className:ot,defaultOpen:st,defaultValue:lt,disabled:at,displayEmpty:ut,error:ft=!1,IconComponent:mt,inputRef:yt,labelId:ht,MenuProps:pt={},multiple:ct,name:gt,onBlur:Et,onChange:bt,onClose:xt,onFocus:Tt,onOpen:wt,open:It,readOnly:At,renderValue:kt,SelectDisplayProps:Vt={},tabIndex:Mt,value:Ot,variant:Dt="standard"}=i,Ct=_objectWithoutPropertiesLoose$6(i,_excluded$a),[St,$t]=useControlled({controlled:Ot,default:lt,name:"Select"}),[Lt,Rt]=useControlled({controlled:It,default:st,name:"Select"}),jt=reactExports.useRef(null),Ft=reactExports.useRef(null),[zt,Gt]=reactExports.useState(null),{current:Bt}=reactExports.useRef(It!=null),[Wt,Kt]=reactExports.useState(),Qt=useForkRef(s,yt),Xt=reactExports.useCallback(Nr=>{Ft.current=Nr,Nr&&Gt(Nr)},[]),er=zt==null?void 0:zt.parentNode;reactExports.useImperativeHandle(Qt,()=>({focus:()=>{Ft.current.focus()},node:jt.current,value:St}),[St]),reactExports.useEffect(()=>{st&&Lt&&zt&&!Bt&&(Kt(nt?null:er.clientWidth),Ft.current.focus())},[zt,nt]),reactExports.useEffect(()=>{rt&&Ft.current.focus()},[rt]),reactExports.useEffect(()=>{if(!ht)return;const Nr=ownerDocument$1(Ft.current).getElementById(ht);if(Nr){const on=()=>{getSelection().isCollapsed&&Ft.current.focus()};return Nr.addEventListener("click",on),()=>{Nr.removeEventListener("click",on)}}},[ht]);const sr=(Nr,on)=>{Nr?wt&&wt(on):xt&&xt(on),Bt||(Kt(nt?null:er.clientWidth),Rt(Nr))},ur=Nr=>{Nr.button===0&&(Nr.preventDefault(),Ft.current.focus(),sr(!0,Nr))},nr=Nr=>{sr(!1,Nr)},yr=reactExports.Children.toArray(it),Ar=Nr=>{const on=yr.find(ln=>ln.props.value===Nr.target.value);on!==void 0&&($t(on.props.value),bt&&bt(Nr,on))},Er=Nr=>on=>{let ln;if(on.currentTarget.hasAttribute("tabindex")){if(ct){ln=Array.isArray(St)?St.slice():[];const Rn=St.indexOf(Nr.props.value);Rn===-1?ln.push(Nr.props.value):ln.splice(Rn,1)}else ln=Nr.props.value;if(Nr.props.onClick&&Nr.props.onClick(on),St!==ln&&($t(ln),bt)){const Rn=on.nativeEvent||on,oo=new Rn.constructor(Rn.type,Rn);Object.defineProperty(oo,"target",{writable:!0,value:{value:ln,name:gt}}),bt(oo,Nr)}ct||sr(!1,on)}},lr=Nr=>{At||[" ","ArrowUp","ArrowDown","Enter"].indexOf(Nr.key)!==-1&&(Nr.preventDefault(),sr(!0,Nr))},dr=zt!==null&&Lt,pr=Nr=>{!dr&&Et&&(Object.defineProperty(Nr,"target",{writable:!0,value:{value:St,name:gt}}),Et(Nr))};delete Ct["aria-invalid"];let ar,mr;const wr=[];let Sr=!1;(isFilled({value:St})||ut)&&(kt?ar=kt(St):Sr=!0);const Or=yr.map(Nr=>{if(!reactExports.isValidElement(Nr))return null;let on;if(ct){if(!Array.isArray(St))throw new Error(formatMuiErrorMessage(2));on=St.some(ln=>areEqualValues(ln,Nr.props.value)),on&&Sr&&wr.push(Nr.props.children)}else on=areEqualValues(St,Nr.props.value),on&&Sr&&(mr=Nr.props.children);return reactExports.cloneElement(Nr,{"aria-selected":on?"true":"false",onClick:Er(Nr),onKeyUp:ln=>{ln.key===" "&&ln.preventDefault(),Nr.props.onKeyUp&&Nr.props.onKeyUp(ln)},role:"option",selected:on,value:void 0,"data-value":Nr.props.value})});Sr&&(ct?wr.length===0?ar=null:ar=wr.reduce((Nr,on,ln)=>(Nr.push(on),ln<wr.length-1&&Nr.push(", "),Nr),[]):ar=mr);let Ur=Wt;!nt&&Bt&&zt&&(Ur=er.clientWidth);let zr;typeof Mt<"u"?zr=Mt:zr=at?null:0;const Vr=Vt.id||(gt?`mui-component-select-${gt}`:void 0),Mr=_extends$1({},i,{variant:Dt,value:St,open:dr,error:ft}),Br=useUtilityClasses$4(Mr),fn=_extends$1({},pt.PaperProps,(a=pt.slotProps)==null?void 0:a.paper),In=useId();return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[jsxRuntimeExports.jsx(SelectSelect,_extends$1({ref:Xt,tabIndex:zr,role:"combobox","aria-controls":In,"aria-disabled":at?"true":void 0,"aria-expanded":dr?"true":"false","aria-haspopup":"listbox","aria-label":tt,"aria-labelledby":[ht,Vr].filter(Boolean).join(" ")||void 0,"aria-describedby":et,onKeyDown:lr,onMouseDown:at||At?null:ur,onBlur:pr,onFocus:Tt},Vt,{ownerState:Mr,className:clsx(Vt.className,Br.select,ot),id:Vr,children:isEmpty(ar)?_span||(_span=jsxRuntimeExports.jsx("span",{className:"notranslate",children:"​"})):ar})),jsxRuntimeExports.jsx(SelectNativeInput,_extends$1({"aria-invalid":ft,value:Array.isArray(St)?St.join(","):St,name:gt,ref:jt,"aria-hidden":!0,onChange:Ar,tabIndex:-1,disabled:at,className:Br.nativeInput,autoFocus:rt,ownerState:Mr},Ct)),jsxRuntimeExports.jsx(SelectIcon,{as:mt,className:Br.icon,ownerState:Mr}),jsxRuntimeExports.jsx(Menu$2,_extends$1({id:`menu-${gt||""}`,anchorEl:er,open:dr,onClose:nr,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},pt,{MenuListProps:_extends$1({"aria-labelledby":ht,role:"listbox","aria-multiselectable":ct?"true":void 0,disableListWrap:!0,id:In},pt.MenuListProps),slotProps:_extends$1({},pt.slotProps,{paper:_extends$1({},fn,{style:_extends$1({minWidth:Ur},fn!=null?fn.style:null)})}),children:Or}))]})}),SelectInput$1=SelectInput,_excluded$9=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],_excluded2=["root"],useUtilityClasses$3=o=>{const{classes:i}=o;return i},styledRootConfig={name:"MuiSelect",overridesResolver:(o,i)=>i.root,shouldForwardProp:o=>rootShouldForwardProp(o)&&o!=="variant",slot:"Root"},StyledInput=styled(Input$1,styledRootConfig)(""),StyledOutlinedInput=styled(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled(FilledInput$1,styledRootConfig)(""),Select=reactExports.forwardRef(function(i,s){const a=useThemeProps({name:"MuiSelect",props:i}),{autoWidth:et=!1,children:tt,classes:rt={},className:nt,defaultOpen:it=!1,displayEmpty:ot=!1,IconComponent:st=ArrowDropDownIcon,id:lt,input:at,inputProps:ut,label:ft,labelId:mt,MenuProps:yt,multiple:ht=!1,native:pt=!1,onClose:ct,onOpen:gt,open:Et,renderValue:bt,SelectDisplayProps:xt,variant:Tt="outlined"}=a,wt=_objectWithoutPropertiesLoose$6(a,_excluded$9),It=pt?NativeSelectInput$1:SelectInput$1,At=useFormControl(),kt=formControlState({props:a,muiFormControl:At,states:["variant","error"]}),Vt=kt.variant||Tt,Mt=_extends$1({},a,{variant:Vt,classes:rt}),Ot=useUtilityClasses$3(Mt),Dt=_objectWithoutPropertiesLoose$6(Ot,_excluded2),Ct=at||{standard:jsxRuntimeExports.jsx(StyledInput,{ownerState:Mt}),outlined:jsxRuntimeExports.jsx(StyledOutlinedInput,{label:ft,ownerState:Mt}),filled:jsxRuntimeExports.jsx(StyledFilledInput,{ownerState:Mt})}[Vt],St=useForkRef(s,Ct.ref);return jsxRuntimeExports.jsx(reactExports.Fragment,{children:reactExports.cloneElement(Ct,_extends$1({inputComponent:It,inputProps:_extends$1({children:tt,error:kt.error,IconComponent:st,variant:Vt,type:void 0,multiple:ht},pt?{id:lt}:{autoWidth:et,defaultOpen:it,displayEmpty:ot,labelId:mt,MenuProps:yt,onClose:ct,onOpen:gt,open:Et,renderValue:bt,SelectDisplayProps:_extends$1({id:lt},xt)},ut,{classes:ut?deepmerge(Dt,ut.classes):Dt},at?at.props.inputProps:{})},(ht&&pt||ot)&&Vt==="outlined"?{notched:!0}:{},{ref:St,className:clsx(Ct.props.className,nt,Ot.root)},!at&&{variant:Vt},wt))})});Select.muiName="Select";const Select$1=Select;function getTooltipUtilityClass(o){return generateUtilityClass$2("MuiTooltip",o)}const tooltipClasses=generateUtilityClasses$2("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),tooltipClasses$1=tooltipClasses,_excluded$8=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function round(o){return Math.round(o*1e5)/1e5}const useUtilityClasses$2=o=>{const{classes:i,disableInteractive:s,arrow:a,touch:et,placement:tt}=o,rt={popper:["popper",!s&&"popperInteractive",a&&"popperArrow"],tooltip:["tooltip",a&&"tooltipArrow",et&&"touch",`tooltipPlacement${capitalize(tt.split("-")[0])}`],arrow:["arrow"]};return composeClasses(rt,getTooltipUtilityClass,i)},TooltipPopper=styled(Popper$1,{name:"MuiTooltip",slot:"Popper",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.popper,!s.disableInteractive&&i.popperInteractive,s.arrow&&i.popperArrow,!s.open&&i.popperClose]}})(({theme:o,ownerState:i,open:s})=>_extends$1({zIndex:(o.vars||o).zIndex.tooltip,pointerEvents:"none"},!i.disableInteractive&&{pointerEvents:"auto"},!s&&{pointerEvents:"none"},i.arrow&&{[`&[data-popper-placement*="bottom"] .${tooltipClasses$1.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tooltipClasses$1.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tooltipClasses$1.arrow}`]:_extends$1({},i.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${tooltipClasses$1.arrow}`]:_extends$1({},i.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),TooltipTooltip=styled("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.tooltip,s.touch&&i.touch,s.arrow&&i.tooltipArrow,i[`tooltipPlacement${capitalize(s.placement.split("-")[0])}`]]}})(({theme:o,ownerState:i})=>_extends$1({backgroundColor:o.vars?o.vars.palette.Tooltip.bg:alpha(o.palette.grey[700],.92),borderRadius:(o.vars||o).shape.borderRadius,color:(o.vars||o).palette.common.white,fontFamily:o.typography.fontFamily,padding:"4px 8px",fontSize:o.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:o.typography.fontWeightMedium},i.arrow&&{position:"relative",margin:0},i.touch&&{padding:"8px 16px",fontSize:o.typography.pxToRem(14),lineHeight:`${round(16/14)}em`,fontWeight:o.typography.fontWeightRegular},{[`.${tooltipClasses$1.popper}[data-popper-placement*="left"] &`]:_extends$1({transformOrigin:"right center"},i.isRtl?_extends$1({marginLeft:"14px"},i.touch&&{marginLeft:"24px"}):_extends$1({marginRight:"14px"},i.touch&&{marginRight:"24px"})),[`.${tooltipClasses$1.popper}[data-popper-placement*="right"] &`]:_extends$1({transformOrigin:"left center"},i.isRtl?_extends$1({marginRight:"14px"},i.touch&&{marginRight:"24px"}):_extends$1({marginLeft:"14px"},i.touch&&{marginLeft:"24px"})),[`.${tooltipClasses$1.popper}[data-popper-placement*="top"] &`]:_extends$1({transformOrigin:"center bottom",marginBottom:"14px"},i.touch&&{marginBottom:"24px"}),[`.${tooltipClasses$1.popper}[data-popper-placement*="bottom"] &`]:_extends$1({transformOrigin:"center top",marginTop:"14px"},i.touch&&{marginTop:"24px"})})),TooltipArrow=styled("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(o,i)=>i.arrow})(({theme:o})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:o.vars?o.vars.palette.Tooltip.bg:alpha(o.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hystersisOpen=!1;const hystersisTimer=new Timeout;let cursorPosition={x:0,y:0};function composeEventHandler(o,i){return s=>{i&&i(s),o(s)}}const Tooltip=reactExports.forwardRef(function(i,s){var a,et,tt,rt,nt,it,ot,st,lt,at,ut,ft,mt,yt,ht,pt,ct,gt,Et;const bt=useThemeProps({props:i,name:"MuiTooltip"}),{arrow:xt=!1,children:Tt,components:wt={},componentsProps:It={},describeChild:At=!1,disableFocusListener:kt=!1,disableHoverListener:Vt=!1,disableInteractive:Mt=!1,disableTouchListener:Ot=!1,enterDelay:Dt=100,enterNextDelay:Ct=0,enterTouchDelay:St=700,followCursor:$t=!1,id:Lt,leaveDelay:Rt=0,leaveTouchDelay:jt=1500,onClose:Ft,onOpen:zt,open:Gt,placement:Bt="bottom",PopperComponent:Wt,PopperProps:Kt={},slotProps:Qt={},slots:Xt={},title:er,TransitionComponent:sr=Grow$1,TransitionProps:ur}=bt,nr=_objectWithoutPropertiesLoose$6(bt,_excluded$8),yr=reactExports.isValidElement(Tt)?Tt:jsxRuntimeExports.jsx("span",{children:Tt}),Ar=useTheme(),Er=Ar.direction==="rtl",[lr,dr]=reactExports.useState(),[pr,ar]=reactExports.useState(null),mr=reactExports.useRef(!1),wr=Mt||$t,Sr=useTimeout(),Or=useTimeout(),Ur=useTimeout(),zr=useTimeout(),[Vr,Mr]=useControlled({controlled:Gt,default:!1,name:"Tooltip",state:"open"});let Br=Vr;const fn=useId(Lt),In=reactExports.useRef(),Nr=useEventCallback$1(()=>{In.current!==void 0&&(document.body.style.WebkitUserSelect=In.current,In.current=void 0),zr.clear()});reactExports.useEffect(()=>Nr,[Nr]);const on=Zr=>{hystersisTimer.clear(),hystersisOpen=!0,Mr(!0),zt&&!Br&&zt(Zr)},ln=useEventCallback$1(Zr=>{hystersisTimer.start(800+Rt,()=>{hystersisOpen=!1}),Mr(!1),Ft&&Br&&Ft(Zr),Sr.start(Ar.transitions.duration.shortest,()=>{mr.current=!1})}),Rn=Zr=>{mr.current&&Zr.type!=="touchstart"||(lr&&lr.removeAttribute("title"),Or.clear(),Ur.clear(),Dt||hystersisOpen&&Ct?Or.start(hystersisOpen?Ct:Dt,()=>{on(Zr)}):on(Zr))},oo=Zr=>{Or.clear(),Ur.start(Rt,()=>{ln(Zr)})},{isFocusVisibleRef:os,onBlur:Ds,onFocus:Os,ref:ss}=useIsFocusVisible(),[,Fo]=reactExports.useState(!1),as=Zr=>{Ds(Zr),os.current===!1&&(Fo(!1),oo(Zr))},ls=Zr=>{lr||dr(Zr.currentTarget),Os(Zr),os.current===!0&&(Fo(!0),Rn(Zr))},so=Zr=>{mr.current=!0;const Pn=yr.props;Pn.onTouchStart&&Pn.onTouchStart(Zr)},Bo=Rn,Uo=oo,Vs=Zr=>{so(Zr),Ur.clear(),Sr.clear(),Nr(),In.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",zr.start(St,()=>{document.body.style.WebkitUserSelect=In.current,Rn(Zr)})},Ms=Zr=>{yr.props.onTouchEnd&&yr.props.onTouchEnd(Zr),Nr(),Ur.start(jt,()=>{ln(Zr)})};reactExports.useEffect(()=>{if(!Br)return;function Zr(Pn){(Pn.key==="Escape"||Pn.key==="Esc")&&ln(Pn)}return document.addEventListener("keydown",Zr),()=>{document.removeEventListener("keydown",Zr)}},[ln,Br]);const zo=useForkRef(yr.ref,ss,dr,s);!er&&er!==0&&(Br=!1);const go=reactExports.useRef(),Ls=Zr=>{const Pn=yr.props;Pn.onMouseMove&&Pn.onMouseMove(Zr),cursorPosition={x:Zr.clientX,y:Zr.clientY},go.current&&go.current.update()},ao={},Wo=typeof er=="string";At?(ao.title=!Br&&Wo&&!Vt?er:null,ao["aria-describedby"]=Br?fn:null):(ao["aria-label"]=Wo?er:null,ao["aria-labelledby"]=Br&&!Wo?fn:null);const Ln=_extends$1({},ao,nr,yr.props,{className:clsx(nr.className,yr.props.className),onTouchStart:so,ref:zo},$t?{onMouseMove:Ls}:{}),yo={};Ot||(Ln.onTouchStart=Vs,Ln.onTouchEnd=Ms),Vt||(Ln.onMouseOver=composeEventHandler(Bo,Ln.onMouseOver),Ln.onMouseLeave=composeEventHandler(Uo,Ln.onMouseLeave),wr||(yo.onMouseOver=Bo,yo.onMouseLeave=Uo)),kt||(Ln.onFocus=composeEventHandler(ls,Ln.onFocus),Ln.onBlur=composeEventHandler(as,Ln.onBlur),wr||(yo.onFocus=ls,yo.onBlur=as));const us=reactExports.useMemo(()=>{var Zr;let Pn=[{name:"arrow",enabled:!!pr,options:{element:pr,padding:4}}];return(Zr=Kt.popperOptions)!=null&&Zr.modifiers&&(Pn=Pn.concat(Kt.popperOptions.modifiers)),_extends$1({},Kt.popperOptions,{modifiers:Pn})},[pr,Kt]),vo=_extends$1({},bt,{isRtl:Er,arrow:xt,disableInteractive:wr,placement:Bt,PopperComponentProp:Wt,touch:mr.current}),qo=useUtilityClasses$2(vo),cs=(a=(et=Xt.popper)!=null?et:wt.Popper)!=null?a:TooltipPopper,ds=(tt=(rt=(nt=Xt.transition)!=null?nt:wt.Transition)!=null?rt:sr)!=null?tt:Grow$1,Ho=(it=(ot=Xt.tooltip)!=null?ot:wt.Tooltip)!=null?it:TooltipTooltip,fs=(st=(lt=Xt.arrow)!=null?lt:wt.Arrow)!=null?st:TooltipArrow,js=appendOwnerState(cs,_extends$1({},Kt,(at=Qt.popper)!=null?at:It.popper,{className:clsx(qo.popper,Kt==null?void 0:Kt.className,(ut=(ft=Qt.popper)!=null?ft:It.popper)==null?void 0:ut.className)}),vo),Ns=appendOwnerState(ds,_extends$1({},ur,(mt=Qt.transition)!=null?mt:It.transition),vo),Fs=appendOwnerState(Ho,_extends$1({},(yt=Qt.tooltip)!=null?yt:It.tooltip,{className:clsx(qo.tooltip,(ht=(pt=Qt.tooltip)!=null?pt:It.tooltip)==null?void 0:ht.className)}),vo),hs=appendOwnerState(fs,_extends$1({},(ct=Qt.arrow)!=null?ct:It.arrow,{className:clsx(qo.arrow,(gt=(Et=Qt.arrow)!=null?Et:It.arrow)==null?void 0:gt.className)}),vo);return jsxRuntimeExports.jsxs(reactExports.Fragment,{children:[reactExports.cloneElement(yr,Ln),jsxRuntimeExports.jsx(cs,_extends$1({as:Wt??Popper$1,placement:Bt,anchorEl:$t?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:lr,popperRef:go,open:lr?Br:!1,id:fn,transition:!0},yo,js,{popperOptions:us,children:({TransitionProps:Zr})=>jsxRuntimeExports.jsx(ds,_extends$1({timeout:Ar.transitions.duration.shorter},Zr,Ns,{children:jsxRuntimeExports.jsxs(Ho,_extends$1({},Fs,{children:[er,xt?jsxRuntimeExports.jsx(fs,_extends$1({},hs,{ref:ar})):null]}))}))}))]})}),Tooltip$1=Tooltip;function getToolbarUtilityClass(o){return generateUtilityClass$2("MuiToolbar",o)}generateUtilityClasses$2("MuiToolbar",["root","gutters","regular","dense"]);const _excluded$7=["className","component","disableGutters","variant"],useUtilityClasses$1=o=>{const{classes:i,disableGutters:s,variant:a}=o;return composeClasses({root:["root",!s&&"gutters",a]},getToolbarUtilityClass,i)},ToolbarRoot=styled("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(o,i)=>{const{ownerState:s}=o;return[i.root,!s.disableGutters&&i.gutters,i[s.variant]]}})(({theme:o,ownerState:i})=>_extends$1({position:"relative",display:"flex",alignItems:"center"},!i.disableGutters&&{paddingLeft:o.spacing(2),paddingRight:o.spacing(2),[o.breakpoints.up("sm")]:{paddingLeft:o.spacing(3),paddingRight:o.spacing(3)}},i.variant==="dense"&&{minHeight:48}),({theme:o,ownerState:i})=>i.variant==="regular"&&o.mixins.toolbar),Toolbar=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiToolbar"}),{className:et,component:tt="div",disableGutters:rt=!1,variant:nt="regular"}=a,it=_objectWithoutPropertiesLoose$6(a,_excluded$7),ot=_extends$1({},a,{component:tt,disableGutters:rt,variant:nt}),st=useUtilityClasses$1(ot);return jsxRuntimeExports.jsx(ToolbarRoot,_extends$1({as:tt,className:clsx(st.root,et),ref:s,ownerState:ot},it))}),Toolbar$1=Toolbar;function getTextFieldUtilityClass(o){return generateUtilityClass$2("MuiTextField",o)}generateUtilityClasses$2("MuiTextField",["root"]);const _excluded$6=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$1,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses=o=>{const{classes:i}=o;return composeClasses({root:["root"]},getTextFieldUtilityClass,i)},TextFieldRoot=styled(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(o,i)=>i.root})({}),TextField=reactExports.forwardRef(function(i,s){const a=useThemeProps({props:i,name:"MuiTextField"}),{autoComplete:et,autoFocus:tt=!1,children:rt,className:nt,color:it="primary",defaultValue:ot,disabled:st=!1,error:lt=!1,FormHelperTextProps:at,fullWidth:ut=!1,helperText:ft,id:mt,InputLabelProps:yt,inputProps:ht,InputProps:pt,inputRef:ct,label:gt,maxRows:Et,minRows:bt,multiline:xt=!1,name:Tt,onBlur:wt,onChange:It,onFocus:At,placeholder:kt,required:Vt=!1,rows:Mt,select:Ot=!1,SelectProps:Dt,type:Ct,value:St,variant:$t="outlined"}=a,Lt=_objectWithoutPropertiesLoose$6(a,_excluded$6),Rt=_extends$1({},a,{autoFocus:tt,color:it,disabled:st,error:lt,fullWidth:ut,multiline:xt,required:Vt,select:Ot,variant:$t}),jt=useUtilityClasses(Rt),Ft={};$t==="outlined"&&(yt&&typeof yt.shrink<"u"&&(Ft.notched=yt.shrink),Ft.label=gt),Ot&&((!Dt||!Dt.native)&&(Ft.id=void 0),Ft["aria-describedby"]=void 0);const zt=useId(mt),Gt=ft&&zt?`${zt}-helper-text`:void 0,Bt=gt&&zt?`${zt}-label`:void 0,Wt=variantComponent[$t],Kt=jsxRuntimeExports.jsx(Wt,_extends$1({"aria-describedby":Gt,autoComplete:et,autoFocus:tt,defaultValue:ot,fullWidth:ut,multiline:xt,name:Tt,rows:Mt,maxRows:Et,minRows:bt,type:Ct,value:St,id:zt,inputRef:ct,onBlur:wt,onChange:It,onFocus:At,placeholder:kt,inputProps:ht},Ft,pt));return jsxRuntimeExports.jsxs(TextFieldRoot,_extends$1({className:clsx(jt.root,nt),disabled:st,error:lt,fullWidth:ut,ref:s,required:Vt,color:it,variant:$t,ownerState:Rt},Lt,{children:[gt!=null&&gt!==""&&jsxRuntimeExports.jsx(InputLabel$1,_extends$1({htmlFor:zt,id:Bt},yt,{children:gt})),Ot?jsxRuntimeExports.jsx(Select$1,_extends$1({"aria-describedby":Gt,id:zt,labelId:Bt,value:St,input:Kt},Dt,{children:rt})):Kt,ft&&jsxRuntimeExports.jsx(FormHelperText$1,_extends$1({id:Gt},at,{children:ft}))]}))}),TextField$1=TextField;var BookmarkBorder={},interopRequireDefault={exports:{}};(function(o){function i(s){return s&&s.__esModule?s:{default:s}}o.exports=i,o.exports.__esModule=!0,o.exports.default=o.exports})(interopRequireDefault);var interopRequireDefaultExports=interopRequireDefault.exports,createSvgIcon={};const require$$0=getAugmentedNamespace(utils);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(o){"use client";Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"default",{enumerable:!0,get:function(){return i.createSvgIcon}});var i=require$$0}(createSvgIcon)),createSvgIcon}var _interopRequireDefault$e=interopRequireDefaultExports;Object.defineProperty(BookmarkBorder,"__esModule",{value:!0});var default_1$e=BookmarkBorder.default=void 0,_createSvgIcon$e=_interopRequireDefault$e(requireCreateSvgIcon()),_jsxRuntime$e=jsxRuntimeExports;default_1$e=BookmarkBorder.default=(0,_createSvgIcon$e.default)((0,_jsxRuntime$e.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var Bookmark={},_interopRequireDefault$d=interopRequireDefaultExports;Object.defineProperty(Bookmark,"__esModule",{value:!0});var default_1$d=Bookmark.default=void 0,_createSvgIcon$d=_interopRequireDefault$d(requireCreateSvgIcon()),_jsxRuntime$d=jsxRuntimeExports;default_1$d=Bookmark.default=(0,_createSvgIcon$d.default)((0,_jsxRuntime$d.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");let theme=createTheme({palette:{primary:{main:green[900],dark:"#1A5638",light:green[200],extraLight:green[100],contrastText:"rgb(244,244,244)"},secondary:{main:"#1B2F5E",dark:"#72788D",light:blue[200]},info:{main:"rgb(1,1,1,0)",disabled:"rgb(44,44,44)",contrastText:"rgb(244,244,244)",neutralText:"#808080"}},attributes:{boxShadow:`0 1px 1px hsl(0deg 0% 0% / 0.075),
      0 2px 2px hsl(0deg 0% 0% / 0.075),
      0 4px 4px hsl(0deg 0% 0% / 0.075),
      0 8px 8px hsl(0deg 0% 0% / 0.075),
      0 16px 16px hsl(0deg 0% 0% / 0.075)`}});class Craft{constructor(i,s,a,et,tt,rt){Rr(this,"id");Rr(this,"profileId");Rr(this,"readers");Rr(this,"writers");Rr(this,"editors");Rr(this,"commenters");this.id=i,this.profileId=s,this.readers=a,this.writers=et,this.commenters=tt,this.editors=rt}}class Library extends Craft{constructor(s,a,et,tt,rt=[],nt=[],it=!1,ot=!1,st=new Contributors,lt=Timestamp.now(),at=Timestamp.now()){super(s,et,st.readers,st.writers,st.commenters,st.editors);Rr(this,"id");Rr(this,"name");Rr(this,"pageIdList");Rr(this,"bookIdList");Rr(this,"profileId");Rr(this,"contributors");Rr(this,"purpose");Rr(this,"privacy");Rr(this,"writingIsOpen");Rr(this,"updatedAt");Rr(this,"created");this.id=s,this.name=a,this.pageIdList=rt,this.bookIdList=nt,this.writingIsOpen=it,this.profileId=et,this.privacy=ot,this.purpose=tt,this.updatedAt=lt,this.created=at}static className(){return"library"}itemHashInLibrary(s){let a=this.pageIdList.find(tt=>tt==s.item.id),et=this.bookIdList.find(tt=>tt==s.item.id);return!!a&&!!et}}const updateLibrary=createAsyncThunk("libraries/updateLibrary",async function(o,i){try{const{library:s,name:a,purpose:et,privacy:tt,writingIsOpen:rt}=o,nt=doc(db,"library",s.id);await updateDoc(nt,{privacy:tt,writingIsOpen:rt,name:a,purpose:et}),client.initIndex("library").partialUpdateObject({objectID:s.id,name:a},{createIfNotExists:!0}).wait();const it=new Contributors(s.commenters,s.readers,s.writers,s.editors);return{library:new Library(s.id,a,s.profileId,et,s.pageIdList,s.bookIdList,rt,tt,it,s.updatdedAt,s.created)}}catch(s){return{error:new Error(`Error: updateLibrary ${s.message}`)}}}),updateLibraryContent=createAsyncThunk("libraries/updateLibraryContent",async function(o,i){try{const{library:s,pageIdList:a,bookIdList:et}=o;let tt=Timestamp.now();const rt=doc(db,"library",s.id);await updateDoc(rt,{pageIdList:a,bookIdList:et,updatedAt:tt});const nt=new Contributors(s.commenters,s.readers,s.writers,s.editors);return{library:new Library(s.id,s.name,s.profileId,s.purpose,a,et,s.writingIsOpen,s.privacy,nt,tt,s.created)}}catch(s){return{error:new Error(`Error: update conteent Library ${s.message}`)}}}),appendLibraryContent=createAsyncThunk("libraries/updateLibraryContent",async function(o,i){try{const{library:s}=o,a=o.pageIdList,et=o.bookIdList;let tt=Timestamp.now();const rt=doc(db,"library",s.id);et.length>0&&await updateDoc(rt,{bookIdList:et,updatedAt:tt}),a.length>0&&await updateDoc(rt,{pageIdList:a,updatedAt:tt});const it=(await getDoc(rt)).data(),{id:ot,name:st,profileId:lt,purpose:at,pageIdList:ut,bookIdList:ft,readers:mt,commenters:yt,writingIsOpen:ht,writers:pt,editors:ct,privacy:gt,created:Et}=it,bt=new Contributors(yt,mt,pt,ct);return{library:new Library(ot,st,lt,at,ut,ft,ht,gt,bt,tt,Et)}}catch(s){return{error:new Error(`Error: append update content Library ${s.message}`)}}}),fetchLibrary=createAsyncThunk("libraries/fetchLibrary",async function(o,i){const{id:s}=o;try{const et=(await getDoc(doc(db,"library",s))).data();let tt=et.name,rt=et.pageIdList,nt=et.bookIdList,it=et.profileId,ot=et.commenters,st=et.writers,lt=et.editors,at=et.readers,ut=et.purpose,ft=et.privacy,mt=et.writingIsOpen,yt=et.created,ht=et.updatedAt;ot||(ot=[]),st||(st=[]),lt||(lt=[]),at||(at=[]);const pt=new Contributors(ot,at,st,lt);return{library:new Library(s,tt,it,ut,rt,nt,mt,ft,pt,ht,yt)}}catch(a){return{error:new Error(`Error: Fetch Library: ${a.message}`)}}}),createLibrary=createAsyncThunk("library/createLibrary",async function(o,i){const s=collection(db,"library"),a=doc(s).id,{name:et,pageIdList:tt,bookIdList:rt,profileId:nt,purpose:it,privacy:ot,writingIsOpen:st,writers:lt,editors:at,commenters:ut,readers:ft}=o,mt=Timestamp.now();ot||client.initIndex("library").saveObject({objectID:a,name:et}).wait();try{const yt=await setDoc(doc(db,"library",a),{id:a,name:et,purpose:it,profileId:nt,pageIdList:tt,bookIdList:rt,privacy:ot,writingIsOpen:st,readers:ft,writers:lt,editors:at,commenters:ut,updatedAt:mt,created:mt}),ht=new Contributors(ut,ft,lt,at);return{library:new Library(a,et,nt,it,tt,rt,st,ot,ht,mt,mt)}}catch(yt){return{error:new Error(`Error: Create Library: ${yt.message}`)}}}),getProfileLibraries=createAsyncThunk("libraries/getProfileLibraries",async(o,i)=>{let s=[];try{const a=o.profile,et=collection(db,"library");let tt=query(et,where("profileId","==",a.id),where("privacy","==",!1));if(auth.currentUser){let rt=query(et,where("profileId","==",a.id),where("commenters","array-contains",auth.currentUser.uid)),nt=query(et,where("profileId","==",a.id,where("writers","array-contains",auth.currentUser.uid))),it=query(et,where("profileId","==",a.id),where("editors","array-contains",auth.currentUser.uid)),ot=query(et,where("profileI","==",a.id),where("readers","array-contains",auth.currentUser.uid));if(auth.currentUser.uid==a.userId){let st=query(et,where("profileId","==",a.id));(await getDocs(st)).forEach(at=>{let ut=unpackLibraryDoc(at);s.includes(ut)||(s=[...s,ut])}),rt=query(et,where("commenters","array-contains",auth.currentUser.uid)),nt=query(et,where("writers","array-contains",auth.currentUser.uid)),it=query(et,where("editors","array-contains",auth.currentUser.uid)),ot=query(et,where("readers","array-contains",auth.currentUser.uid))}try{(await getDocs(tt)).forEach(lt=>{let at=unpackLibraryDoc(lt);s.find(ut=>ut.id===at.id)||(s=[...s,at])})}catch(st){console.error(`Library Query Where Req Error: ${st.message}`)}try{(await getDocs(rt)).forEach(lt=>{const at=unpackLibraryDoc(lt);s.find(ut=>ut.id===at.id)||(s=[...s,at])})}catch(st){console.error(`Library Query Where Commenter Error: ${st.message}`)}try{(await getDocs(ot)).forEach(lt=>{let at=unpackLibraryDoc(lt);s.find(ut=>ut.id===at.id)||(s=[...s,at])})}catch(st){console.error(`Library Query Where Readers Error: ${st.message}`)}try{(await getDocs(it)).forEach(lt=>{let at=unpackLibraryDoc(lt);s.find(ut=>ut.id===at.id)||(s=[...s,at])})}catch(st){console.error(`Library Query Where Editor Error: ${st.message}`)}try{return(await getDocs(nt)).forEach(lt=>{const at=unpackLibraryDoc(lt);s.find(ut=>ut.id===at.id)||(s=[...s,at])}),{libList:s}}catch(st){console.error(st)}}else(await getDocs(tt)).docs.forEach(nt=>{const it=unpackLibraryDoc(nt);s.find(ot=>ot.id===it.id)||(s=[...s,it])});return{libList:s}}catch(a){return{error:a??new Error("Error: Get Profile Library")}}}),setLibraryInView=createAction("libraries/setLibraryInView",o=>{const{library:i}=o;return{payload:i}}),setBookmarkLibrary=createAction("libraries/setBookmarkLibrary",o=>{const{library:i}=o;return{payload:i}}),fetchBookmarkLibrary=createAsyncThunk("libraries/fetchBookmarkLibrary",async(o,i)=>{let s=o.id;try{const et=(await getDoc(doc(db,"library",s))).data();let tt=et.id,rt=et.name,nt=et.pageIdList,it=et.bookIdList,ot=et.profileId,st=et.purpose,lt=et.privacy,at=et.writingIsOpen,ut=et.created,ft=et.commenters;const mt=et.updatdedAt;let yt=et.editors,ht=et.readers,pt=et.writers;yt||(yt=[]),ft||(ft=[]),ht||(ht=[]),pt||(pt=[]);const ct=new Contributors(ft,ht,pt,yt);return{library:new Library(tt,rt,ot,st,nt,it,at,lt,ct,mt,ut)}}catch(a){return{error:new Error(`Error: Fetch Bookmark Library: ${a.message}`)}}}),saveRolesForLibrary=createAsyncThunk("libraries/saveRolesForLibrary",async(o,i)=>{try{const{library:s,readers:a,commenters:et,editors:tt,writers:rt}=o;let nt=doc(db,"library",s.id);await updateDoc(nt,{editors:tt,commenters:et,writers:rt,readers:a});const it=new Contributors(et,a,rt,tt);return{library:new Library(s.id,s.name,s.profileId,s.purpose,s.pageIdList,s.bookIdList,s.writingIsOpen,s.privacy,it,s.updatedAt,s.created)}}catch(s){return{error:s??new Error("Error: SAVE LIBRARY ROLES")}}}),getPublicLibraries=createAsyncThunk("libraries/getPublicLibraries",async o=>{let i=[];const s=collection(db,"library");return(await getDocs(query(s,where("privacy","==",!1)))).docs.forEach(et=>{const tt=unpackLibraryDoc(et);i=[...i,tt]}),{libraryList:i}}),deleteLibrary=createAsyncThunk("libraries/deleteLibrary",async(o,i)=>{try{const{library:s}=o;return await deleteDoc(doc(db,"library",s.id)),client.initIndex("library").deleteObject(s.id).wait(),{library:s}}catch(s){return{error:new Error("Error: Delete Library"+s.message)}}}),fetchArrayOfLibraries=createAsyncThunk("libraries/fetchArrayOfLibraries",async(o,i)=>{try{const s=collection(db,"library"),a=o.libraryIdList;if(a.length==0)return{libraryList:[]};{let et=query(s,and(where("id","in",a),where("privacy","==",!1)));auth.currentUser&&(et=query(s,and(where("id","in",a),or(where("privacy","==",!1),where("commenters","array-contains",auth.currentUser.uid),where("readers","array-contains",auth.currentUser.uid),where("editors","array-contains",auth.currentUser.uid),where("writers","array-contains",auth.currentUser.uid),where("privacy","==",!1)))));let tt=[];return(await getDocs(et)).docs.forEach(nt=>{const it=nt.data(),{id:ot}=nt,st=it.name,lt=it.pageIdList,at=it.bookIdList,ut=it.profileId,ft=it.privacy,mt=it.purpose,yt=it.writingIsOpen,ht=it.created,pt=it.updatedAt;let ct=it.commenters,gt=it.editors,Et=it.readers,bt=it.writers;gt||(gt=[]),ct||(ct=[]),Et||(Et=[]),bt||(bt=[]);const xt=new Contributors(ct,Et,bt,gt),Tt=new Library(ot,st,ut,mt,lt,at,yt,ft,xt,pt,ht);tt=[...tt,Tt]}),{libraryList:tt}}}catch(s){return{error:new Error(`Error: Fetch Array Of Libraries: ${s.message}`)}}}),fetchArrayOfLibrariesAppend=createAsyncThunk("libraries/fetchArrayOfLibrariesAppend",async(o,i)=>{try{const s=collection(db,"library"),a=o.libraryIdList,et=await getDocs(query(s,where("id","in",a)));let tt=[];return et.docs.forEach(rt=>{const nt=rt.data(),{id:it}=rt,ot=nt.name,st=nt.pageIdList,lt=nt.bookIdList,at=nt.profileId,ut=nt.privacy,ft=nt.purpose,mt=nt.writingIsOpen,yt=nt.created,ht=nt.updatedAt;let pt=nt.commenters,ct=nt.editors,gt=nt.readers,Et=nt.writers;ct||(ct=[]),pt||(pt=[]),gt||(gt=[]),Et||(Et=[]);const bt=new Contributors(pt,gt,Et,ct),xt=new Library(it,ot,at,ft,st,lt,mt,ut,bt,ht,yt);tt=[...tt,xt]}),{libraryList:tt}}catch{return}}),clearLibrariesInView=createAction("libraries/clearLibrariesInView");function unpackLibraryDoc(o){const i=o.data(),{id:s}=o,a=i.name,et=i.pageIdList,tt=i.bookIdList,rt=i.profileId,nt=i.privacy,it=i.purpose,ot=i.writingIsOpen,st=i.created,lt=i.updatdedAt;let at=i.commenters,ut=i.editors,ft=i.readers,mt=i.writers;ut||(ut=[]),at||(at=[]),ft||(ft=[]),mt||(mt=[]);const yt=new Contributors(at,ft,mt,ut);return new Library(s,a,rt,it,et,tt,ot,nt,yt,lt,st)}function checkResult(o,i,s){if(o&&o.error==null){const{payload:a}=o;a&&a.error==null?i(a):a!=null?s(a.error):i({})}else o!=null?s(o.error):s(new Error("Check result error"))}const Paths={library:{route:()=>"/library/:id",createRoute:o=>`/library/${o}`},page:{route:()=>"/page/:id",createRoute:o=>`/page/${o}`},book:{route:()=>"/book/:id",createRoute:o=>`/book/${o}`},editor:{text:()=>"/page/text",link:()=>"/page/link",image:()=>"/page/image"},login:()=>"/login",editPage:{route:()=>"/page/:id/edit",createRoute:o=>`/page/${o}/edit`},editBook:o=>`/book${o}/edit`,createBook:()=>"book/new",createLibrary:()=>"/library/new",addPagesToBook:o=>`/book/${o}/add`,addItemsToLibrary:o=>`/library/${o}/add`,home:()=>"/",about:()=>"/about",profile:{route:()=>"/profile/:id",createRoute:o=>`/profile/${o}`},myProfile:()=>"/profile/home"},Enviroment={proxyUrl:"https://arcane-hollows-82816-b654a65f49d8.herokuapp.com/"},b=({link:o,style:i={},wide:s=!1,width:a=s?"100%":300,height:et=s?80:380,frameBorder:tt=0,allow:rt="encrypted-media",...nt})=>{const it=new URL(o);return React$2.createElement("iframe",{title:"Spotify Web Player",src:`https://open.spotify.com/embed${it.pathname}`,width:a,height:et,frameBorder:tt,allow:rt,style:{borderRadius:8,...i},...nt})},v="5.1.15",fr=60,ip=0,op=141,w=300,h=300,nm="ComposiÃÂ§ÃÂ£o 1",ddd=0,assets=[],layers=[{ddd:0,ind:1,ty:4,nm:"Camada de forma 1",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[1080]},{t:180}],ix:10},p:{a:0,k:[150,150,0],ix:2},a:{a:0,k:[-14.604,-15.104,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[106.793,106.793],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Caminho da elipse 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.109803921569,.109803921569,.109803921569,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:11,ix:5},lc:2,lj:1,ml:4,nm:"TraÃÂ§ado 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-14.604,-15.104],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Elipse 1",np:3,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:60,s:[0],e:[67]},{t:119}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[3],e:[70]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:60,s:[70],e:[70]},{t:119}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Aparar caminhos 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:900,st:0,bm:0},{ddd:0,ind:2,ty:4,nm:"Camada de forma 2",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[1080]},{t:180}],ix:10},p:{a:0,k:[150,150,0],ix:2},a:{a:0,k:[-14.604,-15.104,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[106.793,106.793],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Caminho da elipse 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[1,0,.552941176471,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:4,nm:"TraÃÂ§ado 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-14.604,-15.104],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Elipse 1",np:3,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:20,s:[0],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:69.916,s:[0],e:[67]},{t:119}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:20,s:[3],e:[70]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:69.916,s:[70],e:[70]},{t:119}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Aparar caminhos 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:900,st:0,bm:0},{ddd:0,ind:3,ty:4,nm:"Camada de forma 3",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[1080]},{t:180}],ix:10},p:{a:0,k:[150,150,0],ix:2},a:{a:0,k:[-14.604,-15.104,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[106.793,106.793],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Caminho da elipse 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[.537254901961,0,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:4,nm:"TraÃÂ§ado 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-14.604,-15.104],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Elipse 1",np:3,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:41,s:[0],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:80.328,s:[0],e:[67]},{t:119}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:41,s:[3],e:[70]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:80.328,s:[70],e:[70]},{t:119}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Aparar caminhos 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:900,st:0,bm:0},{ddd:0,ind:4,ty:4,nm:"Camada de forma 4",sr:1,ks:{o:{a:0,k:100,ix:11},r:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:0,s:[0],e:[1080]},{t:180}],ix:10},p:{a:0,k:[150,150,0],ix:2},a:{a:0,k:[-14.604,-15.104,0],ix:1},s:{a:0,k:[100,100,100],ix:6}},ao:0,shapes:[{ty:"gr",it:[{d:1,ty:"el",s:{a:0,k:[106.793,106.793],ix:2},p:{a:0,k:[0,0],ix:3},nm:"Caminho da elipse 1",mn:"ADBE Vector Shape - Ellipse",hd:!1},{ty:"st",c:{a:0,k:[0,.117647058824,1,1],ix:3},o:{a:0,k:100,ix:4},w:{a:0,k:10,ix:5},lc:2,lj:1,ml:4,nm:"TraÃÂ§ado 1",mn:"ADBE Vector Graphic - Stroke",hd:!1},{ty:"tr",p:{a:0,k:[-14.604,-15.104],ix:2},a:{a:0,k:[0,0],ix:1},s:{a:0,k:[100,100],ix:3},r:{a:0,k:0,ix:6},o:{a:0,k:100,ix:7},sk:{a:0,k:0,ix:4},sa:{a:0,k:0,ix:5},nm:"Transformar"}],nm:"Elipse 1",np:3,cix:2,ix:1,mn:"ADBE Vector Group",hd:!1},{ty:"tm",s:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:54,s:[0],e:[0]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:86.773,s:[0],e:[67]},{t:119}],ix:1},e:{a:1,k:[{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:54,s:[3],e:[70]},{i:{x:[.833],y:[.833]},o:{x:[.167],y:[.167]},n:["0p833_0p833_0p167_0p167"],t:86.773,s:[70],e:[70]},{t:119}],ix:2},o:{a:0,k:0,ix:3},m:1,ix:2,nm:"Aparar caminhos 1",mn:"ADBE Vector Filter - Trim",hd:!1}],ip:0,op:900,st:0,bm:0}],markers=[],loadingAnimation={v,fr,ip,op,w,h,nm,ddd,assets,layers,markers};var lottie$1={exports:{}};(function(module,exports){typeof navigator<"u"&&function(o,i){module.exports=i()}(commonjsGlobal$1,function(){var svgNS="http://www.w3.org/2000/svg",locationHref="",_useWebWorker=!1,initialDefaultFrame=-999999,setWebWorker=function(i){_useWebWorker=!!i},getWebWorker=function(){return _useWebWorker},setLocationHref=function(i){locationHref=i},getLocationHref=function(){return locationHref};function createTag(o){return document.createElement(o)}function extendPrototype(o,i){var s,a=o.length,et;for(s=0;s<a;s+=1){et=o[s].prototype;for(var tt in et)Object.prototype.hasOwnProperty.call(et,tt)&&(i.prototype[tt]=et[tt])}}function getDescriptor(o,i){return Object.getOwnPropertyDescriptor(o,i)}function createProxyFunction(o){function i(){}return i.prototype=o,i}var audioControllerFactory=function(){function o(i){this.audios=[],this.audioFactory=i,this._volume=1,this._isMuted=!1}return o.prototype={addAudio:function(s){this.audios.push(s)},pause:function(){var s,a=this.audios.length;for(s=0;s<a;s+=1)this.audios[s].pause()},resume:function(){var s,a=this.audios.length;for(s=0;s<a;s+=1)this.audios[s].resume()},setRate:function(s){var a,et=this.audios.length;for(a=0;a<et;a+=1)this.audios[a].setRate(s)},createAudio:function(s){return this.audioFactory?this.audioFactory(s):window.Howl?new window.Howl({src:[s]}):{isPlaying:!1,play:function(){this.isPlaying=!0},seek:function(){this.isPlaying=!1},playing:function(){},rate:function(){},setVolume:function(){}}},setAudioFactory:function(s){this.audioFactory=s},setVolume:function(s){this._volume=s,this._updateVolume()},mute:function(){this._isMuted=!0,this._updateVolume()},unmute:function(){this._isMuted=!1,this._updateVolume()},getVolume:function(){return this._volume},_updateVolume:function(){var s,a=this.audios.length;for(s=0;s<a;s+=1)this.audios[s].volume(this._volume*(this._isMuted?0:1))}},function(){return new o}}(),createTypedArray=function(){function o(s,a){var et=0,tt=[],rt;switch(s){case"int16":case"uint8c":rt=1;break;default:rt=1.1;break}for(et=0;et<a;et+=1)tt.push(rt);return tt}function i(s,a){return s==="float32"?new Float32Array(a):s==="int16"?new Int16Array(a):s==="uint8c"?new Uint8ClampedArray(a):o(s,a)}return typeof Uint8ClampedArray=="function"&&typeof Float32Array=="function"?i:o}();function createSizedArray(o){return Array.apply(null,{length:o})}function _typeof$6(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$6=function(s){return typeof s}:_typeof$6=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$6(o)}var subframeEnabled=!0,expressionsPlugin=null,expressionsInterfaces=null,idPrefix$1="",isSafari=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),bmPow=Math.pow,bmSqrt=Math.sqrt,bmFloor=Math.floor,bmMax=Math.max,bmMin=Math.min,BMMath={};(function(){var o=["abs","acos","acosh","asin","asinh","atan","atanh","atan2","ceil","cbrt","expm1","clz32","cos","cosh","exp","floor","fround","hypot","imul","log","log1p","log2","log10","max","min","pow","random","round","sign","sin","sinh","sqrt","tan","tanh","trunc","E","LN10","LN2","LOG10E","LOG2E","PI","SQRT1_2","SQRT2"],i,s=o.length;for(i=0;i<s;i+=1)BMMath[o[i]]=Math[o[i]]})(),BMMath.random=Math.random,BMMath.abs=function(o){var i=_typeof$6(o);if(i==="object"&&o.length){var s=createSizedArray(o.length),a,et=o.length;for(a=0;a<et;a+=1)s[a]=Math.abs(o[a]);return s}return Math.abs(o)};var defaultCurveSegments=150,degToRads=Math.PI/180,roundCorner=.5519;function styleDiv(o){o.style.position="absolute",o.style.top=0,o.style.left=0,o.style.display="block",o.style.transformOrigin="0 0",o.style.webkitTransformOrigin="0 0",o.style.backfaceVisibility="visible",o.style.webkitBackfaceVisibility="visible",o.style.transformStyle="preserve-3d",o.style.webkitTransformStyle="preserve-3d",o.style.mozTransformStyle="preserve-3d"}function BMEnterFrameEvent(o,i,s,a){this.type=o,this.currentTime=i,this.totalTime=s,this.direction=a<0?-1:1}function BMCompleteEvent(o,i){this.type=o,this.direction=i<0?-1:1}function BMCompleteLoopEvent(o,i,s,a){this.type=o,this.currentLoop=s,this.totalLoops=i,this.direction=a<0?-1:1}function BMSegmentStartEvent(o,i,s){this.type=o,this.firstFrame=i,this.totalFrames=s}function BMDestroyEvent(o,i){this.type=o,this.target=i}function BMRenderFrameErrorEvent(o,i){this.type="renderFrameError",this.nativeError=o,this.currentTime=i}function BMConfigErrorEvent(o){this.type="configError",this.nativeError=o}var createElementID=function(){var o=0;return function(){return o+=1,idPrefix$1+"__lottie_element_"+o}}();function HSVtoRGB(o,i,s){var a,et,tt,rt,nt,it,ot,st;switch(rt=Math.floor(o*6),nt=o*6-rt,it=s*(1-i),ot=s*(1-nt*i),st=s*(1-(1-nt)*i),rt%6){case 0:a=s,et=st,tt=it;break;case 1:a=ot,et=s,tt=it;break;case 2:a=it,et=s,tt=st;break;case 3:a=it,et=ot,tt=s;break;case 4:a=st,et=it,tt=s;break;case 5:a=s,et=it,tt=ot;break}return[a,et,tt]}function RGBtoHSV(o,i,s){var a=Math.max(o,i,s),et=Math.min(o,i,s),tt=a-et,rt,nt=a===0?0:tt/a,it=a/255;switch(a){case et:rt=0;break;case o:rt=i-s+tt*(i<s?6:0),rt/=6*tt;break;case i:rt=s-o+tt*2,rt/=6*tt;break;case s:rt=o-i+tt*4,rt/=6*tt;break}return[rt,nt,it]}function addSaturationToRGB(o,i){var s=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return s[1]+=i,s[1]>1?s[1]=1:s[1]<=0&&(s[1]=0),HSVtoRGB(s[0],s[1],s[2])}function addBrightnessToRGB(o,i){var s=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return s[2]+=i,s[2]>1?s[2]=1:s[2]<0&&(s[2]=0),HSVtoRGB(s[0],s[1],s[2])}function addHueToRGB(o,i){var s=RGBtoHSV(o[0]*255,o[1]*255,o[2]*255);return s[0]+=i/360,s[0]>1?s[0]-=1:s[0]<0&&(s[0]+=1),HSVtoRGB(s[0],s[1],s[2])}var rgbToHex=function(){var o=[],i,s;for(i=0;i<256;i+=1)s=i.toString(16),o[i]=s.length===1?"0"+s:s;return function(a,et,tt){return a<0&&(a=0),et<0&&(et=0),tt<0&&(tt=0),"#"+o[a]+o[et]+o[tt]}}(),setSubframeEnabled=function(i){subframeEnabled=!!i},getSubframeEnabled=function(){return subframeEnabled},setExpressionsPlugin=function(i){expressionsPlugin=i},getExpressionsPlugin=function(){return expressionsPlugin},setExpressionInterfaces=function(i){expressionsInterfaces=i},getExpressionInterfaces=function(){return expressionsInterfaces},setDefaultCurveSegments=function(i){defaultCurveSegments=i},getDefaultCurveSegments=function(){return defaultCurveSegments},setIdPrefix=function(i){idPrefix$1=i};function createNS(o){return document.createElementNS(svgNS,o)}function _typeof$5(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$5=function(s){return typeof s}:_typeof$5=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$5(o)}var dataManager=function(){var o=1,i=[],s,a,et={onmessage:function(){},postMessage:function(ut){s({data:ut})}},tt={postMessage:function(ut){et.onmessage({data:ut})}};function rt(at){if(window.Worker&&window.Blob&&getWebWorker()){var ut=new Blob(["var _workerSelf = self; self.onmessage = ",at.toString()],{type:"text/javascript"}),ft=URL.createObjectURL(ut);return new Worker(ft)}return s=at,et}function nt(){a||(a=rt(function(ut){function ft(){function yt(Ot,Dt){var Ct,St,$t=Ot.length,Lt,Rt,jt,Ft;for(St=0;St<$t;St+=1)if(Ct=Ot[St],"ks"in Ct&&!Ct.completed){if(Ct.completed=!0,Ct.hasMask){var zt=Ct.masksProperties;for(Rt=zt.length,Lt=0;Lt<Rt;Lt+=1)if(zt[Lt].pt.k.i)Et(zt[Lt].pt.k);else for(Ft=zt[Lt].pt.k.length,jt=0;jt<Ft;jt+=1)zt[Lt].pt.k[jt].s&&Et(zt[Lt].pt.k[jt].s[0]),zt[Lt].pt.k[jt].e&&Et(zt[Lt].pt.k[jt].e[0])}Ct.ty===0?(Ct.layers=ct(Ct.refId,Dt),yt(Ct.layers,Dt)):Ct.ty===4?gt(Ct.shapes):Ct.ty===5&&Vt(Ct)}}function ht(Ot,Dt){if(Ot){var Ct=0,St=Ot.length;for(Ct=0;Ct<St;Ct+=1)Ot[Ct].t===1&&(Ot[Ct].data.layers=ct(Ot[Ct].data.refId,Dt),yt(Ot[Ct].data.layers,Dt))}}function pt(Ot,Dt){for(var Ct=0,St=Dt.length;Ct<St;){if(Dt[Ct].id===Ot)return Dt[Ct];Ct+=1}return null}function ct(Ot,Dt){var Ct=pt(Ot,Dt);return Ct?Ct.layers.__used?JSON.parse(JSON.stringify(Ct.layers)):(Ct.layers.__used=!0,Ct.layers):null}function gt(Ot){var Dt,Ct=Ot.length,St,$t;for(Dt=Ct-1;Dt>=0;Dt-=1)if(Ot[Dt].ty==="sh")if(Ot[Dt].ks.k.i)Et(Ot[Dt].ks.k);else for($t=Ot[Dt].ks.k.length,St=0;St<$t;St+=1)Ot[Dt].ks.k[St].s&&Et(Ot[Dt].ks.k[St].s[0]),Ot[Dt].ks.k[St].e&&Et(Ot[Dt].ks.k[St].e[0]);else Ot[Dt].ty==="gr"&&gt(Ot[Dt].it)}function Et(Ot){var Dt,Ct=Ot.i.length;for(Dt=0;Dt<Ct;Dt+=1)Ot.i[Dt][0]+=Ot.v[Dt][0],Ot.i[Dt][1]+=Ot.v[Dt][1],Ot.o[Dt][0]+=Ot.v[Dt][0],Ot.o[Dt][1]+=Ot.v[Dt][1]}function bt(Ot,Dt){var Ct=Dt?Dt.split("."):[100,100,100];return Ot[0]>Ct[0]?!0:Ct[0]>Ot[0]?!1:Ot[1]>Ct[1]?!0:Ct[1]>Ot[1]?!1:Ot[2]>Ct[2]?!0:Ct[2]>Ot[2]?!1:null}var xt=function(){var Ot=[4,4,14];function Dt(St){var $t=St.t.d;St.t.d={k:[{s:$t,t:0}]}}function Ct(St){var $t,Lt=St.length;for($t=0;$t<Lt;$t+=1)St[$t].ty===5&&Dt(St[$t])}return function(St){if(bt(Ot,St.v)&&(Ct(St.layers),St.assets)){var $t,Lt=St.assets.length;for($t=0;$t<Lt;$t+=1)St.assets[$t].layers&&Ct(St.assets[$t].layers)}}}(),Tt=function(){var Ot=[4,7,99];return function(Dt){if(Dt.chars&&!bt(Ot,Dt.v)){var Ct,St=Dt.chars.length;for(Ct=0;Ct<St;Ct+=1){var $t=Dt.chars[Ct];$t.data&&$t.data.shapes&&(gt($t.data.shapes),$t.data.ip=0,$t.data.op=99999,$t.data.st=0,$t.data.sr=1,$t.data.ks={p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0}},Dt.chars[Ct].t||($t.data.shapes.push({ty:"no"}),$t.data.shapes[0].it.push({p:{k:[0,0],a:0},s:{k:[100,100],a:0},a:{k:[0,0],a:0},r:{k:0,a:0},o:{k:100,a:0},sk:{k:0,a:0},sa:{k:0,a:0},ty:"tr"})))}}}}(),wt=function(){var Ot=[5,7,15];function Dt(St){var $t=St.t.p;typeof $t.a=="number"&&($t.a={a:0,k:$t.a}),typeof $t.p=="number"&&($t.p={a:0,k:$t.p}),typeof $t.r=="number"&&($t.r={a:0,k:$t.r})}function Ct(St){var $t,Lt=St.length;for($t=0;$t<Lt;$t+=1)St[$t].ty===5&&Dt(St[$t])}return function(St){if(bt(Ot,St.v)&&(Ct(St.layers),St.assets)){var $t,Lt=St.assets.length;for($t=0;$t<Lt;$t+=1)St.assets[$t].layers&&Ct(St.assets[$t].layers)}}}(),It=function(){var Ot=[4,1,9];function Dt(St){var $t,Lt=St.length,Rt,jt;for($t=0;$t<Lt;$t+=1)if(St[$t].ty==="gr")Dt(St[$t].it);else if(St[$t].ty==="fl"||St[$t].ty==="st")if(St[$t].c.k&&St[$t].c.k[0].i)for(jt=St[$t].c.k.length,Rt=0;Rt<jt;Rt+=1)St[$t].c.k[Rt].s&&(St[$t].c.k[Rt].s[0]/=255,St[$t].c.k[Rt].s[1]/=255,St[$t].c.k[Rt].s[2]/=255,St[$t].c.k[Rt].s[3]/=255),St[$t].c.k[Rt].e&&(St[$t].c.k[Rt].e[0]/=255,St[$t].c.k[Rt].e[1]/=255,St[$t].c.k[Rt].e[2]/=255,St[$t].c.k[Rt].e[3]/=255);else St[$t].c.k[0]/=255,St[$t].c.k[1]/=255,St[$t].c.k[2]/=255,St[$t].c.k[3]/=255}function Ct(St){var $t,Lt=St.length;for($t=0;$t<Lt;$t+=1)St[$t].ty===4&&Dt(St[$t].shapes)}return function(St){if(bt(Ot,St.v)&&(Ct(St.layers),St.assets)){var $t,Lt=St.assets.length;for($t=0;$t<Lt;$t+=1)St.assets[$t].layers&&Ct(St.assets[$t].layers)}}}(),At=function(){var Ot=[4,4,18];function Dt(St){var $t,Lt=St.length,Rt,jt;for($t=Lt-1;$t>=0;$t-=1)if(St[$t].ty==="sh")if(St[$t].ks.k.i)St[$t].ks.k.c=St[$t].closed;else for(jt=St[$t].ks.k.length,Rt=0;Rt<jt;Rt+=1)St[$t].ks.k[Rt].s&&(St[$t].ks.k[Rt].s[0].c=St[$t].closed),St[$t].ks.k[Rt].e&&(St[$t].ks.k[Rt].e[0].c=St[$t].closed);else St[$t].ty==="gr"&&Dt(St[$t].it)}function Ct(St){var $t,Lt,Rt=St.length,jt,Ft,zt,Gt;for(Lt=0;Lt<Rt;Lt+=1){if($t=St[Lt],$t.hasMask){var Bt=$t.masksProperties;for(Ft=Bt.length,jt=0;jt<Ft;jt+=1)if(Bt[jt].pt.k.i)Bt[jt].pt.k.c=Bt[jt].cl;else for(Gt=Bt[jt].pt.k.length,zt=0;zt<Gt;zt+=1)Bt[jt].pt.k[zt].s&&(Bt[jt].pt.k[zt].s[0].c=Bt[jt].cl),Bt[jt].pt.k[zt].e&&(Bt[jt].pt.k[zt].e[0].c=Bt[jt].cl)}$t.ty===4&&Dt($t.shapes)}}return function(St){if(bt(Ot,St.v)&&(Ct(St.layers),St.assets)){var $t,Lt=St.assets.length;for($t=0;$t<Lt;$t+=1)St.assets[$t].layers&&Ct(St.assets[$t].layers)}}}();function kt(Ot){Ot.__complete||(It(Ot),xt(Ot),Tt(Ot),wt(Ot),At(Ot),yt(Ot.layers,Ot.assets),ht(Ot.chars,Ot.assets),Ot.__complete=!0)}function Vt(Ot){Ot.t.a.length===0&&"m"in Ot.t.p}var Mt={};return Mt.completeData=kt,Mt.checkColors=It,Mt.checkChars=Tt,Mt.checkPathProperties=wt,Mt.checkShapes=At,Mt.completeLayers=yt,Mt}if(tt.dataManager||(tt.dataManager=ft()),tt.assetLoader||(tt.assetLoader=function(){function yt(pt){var ct=pt.getResponseHeader("content-type");return ct&&pt.responseType==="json"&&ct.indexOf("json")!==-1||pt.response&&_typeof$5(pt.response)==="object"?pt.response:pt.response&&typeof pt.response=="string"?JSON.parse(pt.response):pt.responseText?JSON.parse(pt.responseText):null}function ht(pt,ct,gt,Et){var bt,xt=new XMLHttpRequest;try{xt.responseType="json"}catch{}xt.onreadystatechange=function(){if(xt.readyState===4)if(xt.status===200)bt=yt(xt),gt(bt);else try{bt=yt(xt),gt(bt)}catch(Tt){Et&&Et(Tt)}};try{xt.open(["G","E","T"].join(""),pt,!0)}catch{xt.open(["G","E","T"].join(""),ct+"/"+pt,!0)}xt.send()}return{load:ht}}()),ut.data.type==="loadAnimation")tt.assetLoader.load(ut.data.path,ut.data.fullPath,function(yt){tt.dataManager.completeData(yt),tt.postMessage({id:ut.data.id,payload:yt,status:"success"})},function(){tt.postMessage({id:ut.data.id,status:"error"})});else if(ut.data.type==="complete"){var mt=ut.data.animation;tt.dataManager.completeData(mt),tt.postMessage({id:ut.data.id,payload:mt,status:"success"})}else ut.data.type==="loadData"&&tt.assetLoader.load(ut.data.path,ut.data.fullPath,function(yt){tt.postMessage({id:ut.data.id,payload:yt,status:"success"})},function(){tt.postMessage({id:ut.data.id,status:"error"})})}),a.onmessage=function(at){var ut=at.data,ft=ut.id,mt=i[ft];i[ft]=null,ut.status==="success"?mt.onComplete(ut.payload):mt.onError&&mt.onError()})}function it(at,ut){o+=1;var ft="processId_"+o;return i[ft]={onComplete:at,onError:ut},ft}function ot(at,ut,ft){nt();var mt=it(ut,ft);a.postMessage({type:"loadAnimation",path:at,fullPath:window.location.origin+window.location.pathname,id:mt})}function st(at,ut,ft){nt();var mt=it(ut,ft);a.postMessage({type:"loadData",path:at,fullPath:window.location.origin+window.location.pathname,id:mt})}function lt(at,ut,ft){nt();var mt=it(ut,ft);a.postMessage({type:"complete",animation:at,id:mt})}return{loadAnimation:ot,loadData:st,completeAnimation:lt}}(),ImagePreloader=function(){var o=function(){var ht=createTag("canvas");ht.width=1,ht.height=1;var pt=ht.getContext("2d");return pt.fillStyle="rgba(0,0,0,0)",pt.fillRect(0,0,1,1),ht}();function i(){this.loadedAssets+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function s(){this.loadedFootagesCount+=1,this.loadedAssets===this.totalImages&&this.loadedFootagesCount===this.totalFootages&&this.imagesLoadedCb&&this.imagesLoadedCb(null)}function a(ht,pt,ct){var gt="";if(ht.e)gt=ht.p;else if(pt){var Et=ht.p;Et.indexOf("images/")!==-1&&(Et=Et.split("/")[1]),gt=pt+Et}else gt=ct,gt+=ht.u?ht.u:"",gt+=ht.p;return gt}function et(ht){var pt=0,ct=setInterval((function(){var gt=ht.getBBox();(gt.width||pt>500)&&(this._imageLoaded(),clearInterval(ct)),pt+=1}).bind(this),50)}function tt(ht){var pt=a(ht,this.assetsPath,this.path),ct=createNS("image");isSafari?this.testImageLoaded(ct):ct.addEventListener("load",this._imageLoaded,!1),ct.addEventListener("error",(function(){gt.img=o,this._imageLoaded()}).bind(this),!1),ct.setAttributeNS("http://www.w3.org/1999/xlink","href",pt),this._elementHelper.append?this._elementHelper.append(ct):this._elementHelper.appendChild(ct);var gt={img:ct,assetData:ht};return gt}function rt(ht){var pt=a(ht,this.assetsPath,this.path),ct=createTag("img");ct.crossOrigin="anonymous",ct.addEventListener("load",this._imageLoaded,!1),ct.addEventListener("error",(function(){gt.img=o,this._imageLoaded()}).bind(this),!1),ct.src=pt;var gt={img:ct,assetData:ht};return gt}function nt(ht){var pt={assetData:ht},ct=a(ht,this.assetsPath,this.path);return dataManager.loadData(ct,(function(gt){pt.img=gt,this._footageLoaded()}).bind(this),(function(){pt.img={},this._footageLoaded()}).bind(this)),pt}function it(ht,pt){this.imagesLoadedCb=pt;var ct,gt=ht.length;for(ct=0;ct<gt;ct+=1)ht[ct].layers||(!ht[ct].t||ht[ct].t==="seq"?(this.totalImages+=1,this.images.push(this._createImageData(ht[ct]))):ht[ct].t===3&&(this.totalFootages+=1,this.images.push(this.createFootageData(ht[ct]))))}function ot(ht){this.path=ht||""}function st(ht){this.assetsPath=ht||""}function lt(ht){for(var pt=0,ct=this.images.length;pt<ct;){if(this.images[pt].assetData===ht)return this.images[pt].img;pt+=1}return null}function at(){this.imagesLoadedCb=null,this.images.length=0}function ut(){return this.totalImages===this.loadedAssets}function ft(){return this.totalFootages===this.loadedFootagesCount}function mt(ht,pt){ht==="svg"?(this._elementHelper=pt,this._createImageData=this.createImageData.bind(this)):this._createImageData=this.createImgData.bind(this)}function yt(){this._imageLoaded=i.bind(this),this._footageLoaded=s.bind(this),this.testImageLoaded=et.bind(this),this.createFootageData=nt.bind(this),this.assetsPath="",this.path="",this.totalImages=0,this.totalFootages=0,this.loadedAssets=0,this.loadedFootagesCount=0,this.imagesLoadedCb=null,this.images=[]}return yt.prototype={loadAssets:it,setAssetsPath:st,setPath:ot,loadedImages:ut,loadedFootages:ft,destroy:at,getAsset:lt,createImgData:rt,createImageData:tt,imageLoaded:i,footageLoaded:s,setCacheType:mt},yt}();function BaseEvent(){}BaseEvent.prototype={triggerEvent:function(i,s){if(this._cbs[i])for(var a=this._cbs[i],et=0;et<a.length;et+=1)a[et](s)},addEventListener:function(i,s){return this._cbs[i]||(this._cbs[i]=[]),this._cbs[i].push(s),(function(){this.removeEventListener(i,s)}).bind(this)},removeEventListener:function(i,s){if(!s)this._cbs[i]=null;else if(this._cbs[i]){for(var a=0,et=this._cbs[i].length;a<et;)this._cbs[i][a]===s&&(this._cbs[i].splice(a,1),a-=1,et-=1),a+=1;this._cbs[i].length||(this._cbs[i]=null)}}};var markerParser=function(){function o(i){for(var s=i.split(`\r
`),a={},et,tt=0,rt=0;rt<s.length;rt+=1)et=s[rt].split(":"),et.length===2&&(a[et[0]]=et[1].trim(),tt+=1);if(tt===0)throw new Error;return a}return function(i){for(var s=[],a=0;a<i.length;a+=1){var et=i[a],tt={time:et.tm,duration:et.dr};try{tt.payload=JSON.parse(i[a].cm)}catch{try{tt.payload=o(i[a].cm)}catch{tt.payload={name:i[a].cm}}}s.push(tt)}return s}}(),ProjectInterface=function(){function o(i){this.compositions.push(i)}return function(){function i(s){for(var a=0,et=this.compositions.length;a<et;){if(this.compositions[a].data&&this.compositions[a].data.nm===s)return this.compositions[a].prepareFrame&&this.compositions[a].data.xt&&this.compositions[a].prepareFrame(this.currentFrame),this.compositions[a].compInterface;a+=1}return null}return i.compositions=[],i.currentFrame=0,i.registerComposition=o,i}}(),renderers={},registerRenderer=function(i,s){renderers[i]=s};function getRenderer(o){return renderers[o]}function getRegisteredRenderer(){if(renderers.canvas)return"canvas";for(var o in renderers)if(renderers[o])return o;return""}function _typeof$4(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(s){return typeof s}:_typeof$4=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$4(o)}var AnimationItem=function(){this._cbs=[],this.name="",this.path="",this.isLoaded=!1,this.currentFrame=0,this.currentRawFrame=0,this.firstFrame=0,this.totalFrames=0,this.frameRate=0,this.frameMult=0,this.playSpeed=1,this.playDirection=1,this.playCount=0,this.animationData={},this.assets=[],this.isPaused=!0,this.autoplay=!1,this.loop=!0,this.renderer=null,this.animationID=createElementID(),this.assetsPath="",this.timeCompleted=0,this.segmentPos=0,this.isSubframeEnabled=getSubframeEnabled(),this.segments=[],this._idle=!0,this._completedLoop=!1,this.projectInterface=ProjectInterface(),this.imagePreloader=new ImagePreloader,this.audioController=audioControllerFactory(),this.markers=[],this.configAnimation=this.configAnimation.bind(this),this.onSetupError=this.onSetupError.bind(this),this.onSegmentComplete=this.onSegmentComplete.bind(this),this.drawnFrameEvent=new BMEnterFrameEvent("drawnFrame",0,0,0),this.expressionsPlugin=getExpressionsPlugin()};extendPrototype([BaseEvent],AnimationItem),AnimationItem.prototype.setParams=function(o){(o.wrapper||o.container)&&(this.wrapper=o.wrapper||o.container);var i="svg";o.animType?i=o.animType:o.renderer&&(i=o.renderer);var s=getRenderer(i);this.renderer=new s(this,o.rendererSettings),this.imagePreloader.setCacheType(i,this.renderer.globalData.defs),this.renderer.setProjectInterface(this.projectInterface),this.animType=i,o.loop===""||o.loop===null||o.loop===void 0||o.loop===!0?this.loop=!0:o.loop===!1?this.loop=!1:this.loop=parseInt(o.loop,10),this.autoplay="autoplay"in o?o.autoplay:!0,this.name=o.name?o.name:"",this.autoloadSegments=Object.prototype.hasOwnProperty.call(o,"autoloadSegments")?o.autoloadSegments:!0,this.assetsPath=o.assetsPath,this.initialSegment=o.initialSegment,o.audioFactory&&this.audioController.setAudioFactory(o.audioFactory),o.animationData?this.setupAnimation(o.animationData):o.path&&(o.path.lastIndexOf("\\")!==-1?this.path=o.path.substr(0,o.path.lastIndexOf("\\")+1):this.path=o.path.substr(0,o.path.lastIndexOf("/")+1),this.fileName=o.path.substr(o.path.lastIndexOf("/")+1),this.fileName=this.fileName.substr(0,this.fileName.lastIndexOf(".json")),dataManager.loadAnimation(o.path,this.configAnimation,this.onSetupError))},AnimationItem.prototype.onSetupError=function(){this.trigger("data_failed")},AnimationItem.prototype.setupAnimation=function(o){dataManager.completeAnimation(o,this.configAnimation)},AnimationItem.prototype.setData=function(o,i){i&&_typeof$4(i)!=="object"&&(i=JSON.parse(i));var s={wrapper:o,animationData:i},a=o.attributes;s.path=a.getNamedItem("data-animation-path")?a.getNamedItem("data-animation-path").value:a.getNamedItem("data-bm-path")?a.getNamedItem("data-bm-path").value:a.getNamedItem("bm-path")?a.getNamedItem("bm-path").value:"",s.animType=a.getNamedItem("data-anim-type")?a.getNamedItem("data-anim-type").value:a.getNamedItem("data-bm-type")?a.getNamedItem("data-bm-type").value:a.getNamedItem("bm-type")?a.getNamedItem("bm-type").value:a.getNamedItem("data-bm-renderer")?a.getNamedItem("data-bm-renderer").value:a.getNamedItem("bm-renderer")?a.getNamedItem("bm-renderer").value:getRegisteredRenderer()||"canvas";var et=a.getNamedItem("data-anim-loop")?a.getNamedItem("data-anim-loop").value:a.getNamedItem("data-bm-loop")?a.getNamedItem("data-bm-loop").value:a.getNamedItem("bm-loop")?a.getNamedItem("bm-loop").value:"";et==="false"?s.loop=!1:et==="true"?s.loop=!0:et!==""&&(s.loop=parseInt(et,10));var tt=a.getNamedItem("data-anim-autoplay")?a.getNamedItem("data-anim-autoplay").value:a.getNamedItem("data-bm-autoplay")?a.getNamedItem("data-bm-autoplay").value:a.getNamedItem("bm-autoplay")?a.getNamedItem("bm-autoplay").value:!0;s.autoplay=tt!=="false",s.name=a.getNamedItem("data-name")?a.getNamedItem("data-name").value:a.getNamedItem("data-bm-name")?a.getNamedItem("data-bm-name").value:a.getNamedItem("bm-name")?a.getNamedItem("bm-name").value:"";var rt=a.getNamedItem("data-anim-prerender")?a.getNamedItem("data-anim-prerender").value:a.getNamedItem("data-bm-prerender")?a.getNamedItem("data-bm-prerender").value:a.getNamedItem("bm-prerender")?a.getNamedItem("bm-prerender").value:"";rt==="false"&&(s.prerender=!1),s.path?this.setParams(s):this.trigger("destroy")},AnimationItem.prototype.includeLayers=function(o){o.op>this.animationData.op&&(this.animationData.op=o.op,this.totalFrames=Math.floor(o.op-this.animationData.ip));var i=this.animationData.layers,s,a=i.length,et=o.layers,tt,rt=et.length;for(tt=0;tt<rt;tt+=1)for(s=0;s<a;){if(i[s].id===et[tt].id){i[s]=et[tt];break}s+=1}if((o.chars||o.fonts)&&(this.renderer.globalData.fontManager.addChars(o.chars),this.renderer.globalData.fontManager.addFonts(o.fonts,this.renderer.globalData.defs)),o.assets)for(a=o.assets.length,s=0;s<a;s+=1)this.animationData.assets.push(o.assets[s]);this.animationData.__complete=!1,dataManager.completeAnimation(this.animationData,this.onSegmentComplete)},AnimationItem.prototype.onSegmentComplete=function(o){this.animationData=o;var i=getExpressionsPlugin();i&&i.initExpressions(this),this.loadNextSegment()},AnimationItem.prototype.loadNextSegment=function(){var o=this.animationData.segments;if(!o||o.length===0||!this.autoloadSegments){this.trigger("data_ready"),this.timeCompleted=this.totalFrames;return}var i=o.shift();this.timeCompleted=i.time*this.frameRate;var s=this.path+this.fileName+"_"+this.segmentPos+".json";this.segmentPos+=1,dataManager.loadData(s,this.includeLayers.bind(this),(function(){this.trigger("data_failed")}).bind(this))},AnimationItem.prototype.loadSegments=function(){var o=this.animationData.segments;o||(this.timeCompleted=this.totalFrames),this.loadNextSegment()},AnimationItem.prototype.imagesLoaded=function(){this.trigger("loaded_images"),this.checkLoaded()},AnimationItem.prototype.preloadImages=function(){this.imagePreloader.setAssetsPath(this.assetsPath),this.imagePreloader.setPath(this.path),this.imagePreloader.loadAssets(this.animationData.assets,this.imagesLoaded.bind(this))},AnimationItem.prototype.configAnimation=function(o){if(this.renderer)try{this.animationData=o,this.initialSegment?(this.totalFrames=Math.floor(this.initialSegment[1]-this.initialSegment[0]),this.firstFrame=Math.round(this.initialSegment[0])):(this.totalFrames=Math.floor(this.animationData.op-this.animationData.ip),this.firstFrame=Math.round(this.animationData.ip)),this.renderer.configAnimation(o),o.assets||(o.assets=[]),this.assets=this.animationData.assets,this.frameRate=this.animationData.fr,this.frameMult=this.animationData.fr/1e3,this.renderer.searchExtraCompositions(o.assets),this.markers=markerParser(o.markers||[]),this.trigger("config_ready"),this.preloadImages(),this.loadSegments(),this.updaFrameModifier(),this.waitForFontsLoaded(),this.isPaused&&this.audioController.pause()}catch(i){this.triggerConfigError(i)}},AnimationItem.prototype.waitForFontsLoaded=function(){this.renderer&&(this.renderer.globalData.fontManager.isLoaded?this.checkLoaded():setTimeout(this.waitForFontsLoaded.bind(this),20))},AnimationItem.prototype.checkLoaded=function(){if(!this.isLoaded&&this.renderer.globalData.fontManager.isLoaded&&(this.imagePreloader.loadedImages()||this.renderer.rendererType!=="canvas")&&this.imagePreloader.loadedFootages()){this.isLoaded=!0;var o=getExpressionsPlugin();o&&o.initExpressions(this),this.renderer.initItems(),setTimeout((function(){this.trigger("DOMLoaded")}).bind(this),0),this.gotoFrame(),this.autoplay&&this.play()}},AnimationItem.prototype.resize=function(o,i){var s=typeof o=="number"?o:void 0,a=typeof i=="number"?i:void 0;this.renderer.updateContainerSize(s,a)},AnimationItem.prototype.setSubframe=function(o){this.isSubframeEnabled=!!o},AnimationItem.prototype.gotoFrame=function(){this.currentFrame=this.isSubframeEnabled?this.currentRawFrame:~~this.currentRawFrame,this.timeCompleted!==this.totalFrames&&this.currentFrame>this.timeCompleted&&(this.currentFrame=this.timeCompleted),this.trigger("enterFrame"),this.renderFrame(),this.trigger("drawnFrame")},AnimationItem.prototype.renderFrame=function(){if(!(this.isLoaded===!1||!this.renderer))try{this.expressionsPlugin&&this.expressionsPlugin.resetFrame(),this.renderer.renderFrame(this.currentFrame+this.firstFrame)}catch(o){this.triggerRenderFrameError(o)}},AnimationItem.prototype.play=function(o){o&&this.name!==o||this.isPaused===!0&&(this.isPaused=!1,this.trigger("_play"),this.audioController.resume(),this._idle&&(this._idle=!1,this.trigger("_active")))},AnimationItem.prototype.pause=function(o){o&&this.name!==o||this.isPaused===!1&&(this.isPaused=!0,this.trigger("_pause"),this._idle=!0,this.trigger("_idle"),this.audioController.pause())},AnimationItem.prototype.togglePause=function(o){o&&this.name!==o||(this.isPaused===!0?this.play():this.pause())},AnimationItem.prototype.stop=function(o){o&&this.name!==o||(this.pause(),this.playCount=0,this._completedLoop=!1,this.setCurrentRawFrameValue(0))},AnimationItem.prototype.getMarkerData=function(o){for(var i,s=0;s<this.markers.length;s+=1)if(i=this.markers[s],i.payload&&i.payload.name===o)return i;return null},AnimationItem.prototype.goToAndStop=function(o,i,s){if(!(s&&this.name!==s)){var a=Number(o);if(isNaN(a)){var et=this.getMarkerData(o);et&&this.goToAndStop(et.time,!0)}else i?this.setCurrentRawFrameValue(o):this.setCurrentRawFrameValue(o*this.frameModifier);this.pause()}},AnimationItem.prototype.goToAndPlay=function(o,i,s){if(!(s&&this.name!==s)){var a=Number(o);if(isNaN(a)){var et=this.getMarkerData(o);et&&(et.duration?this.playSegments([et.time,et.time+et.duration],!0):this.goToAndStop(et.time,!0))}else this.goToAndStop(a,i,s);this.play()}},AnimationItem.prototype.advanceTime=function(o){if(!(this.isPaused===!0||this.isLoaded===!1)){var i=this.currentRawFrame+o*this.frameModifier,s=!1;i>=this.totalFrames-1&&this.frameModifier>0?!this.loop||this.playCount===this.loop?this.checkSegments(i>this.totalFrames?i%this.totalFrames:0)||(s=!0,i=this.totalFrames-1):i>=this.totalFrames?(this.playCount+=1,this.checkSegments(i%this.totalFrames)||(this.setCurrentRawFrameValue(i%this.totalFrames),this._completedLoop=!0,this.trigger("loopComplete"))):this.setCurrentRawFrameValue(i):i<0?this.checkSegments(i%this.totalFrames)||(this.loop&&!(this.playCount--<=0&&this.loop!==!0)?(this.setCurrentRawFrameValue(this.totalFrames+i%this.totalFrames),this._completedLoop?this.trigger("loopComplete"):this._completedLoop=!0):(s=!0,i=0)):this.setCurrentRawFrameValue(i),s&&(this.setCurrentRawFrameValue(i),this.pause(),this.trigger("complete"))}},AnimationItem.prototype.adjustSegment=function(o,i){this.playCount=0,o[1]<o[0]?(this.frameModifier>0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(-1)),this.totalFrames=o[0]-o[1],this.timeCompleted=this.totalFrames,this.firstFrame=o[1],this.setCurrentRawFrameValue(this.totalFrames-.001-i)):o[1]>o[0]&&(this.frameModifier<0&&(this.playSpeed<0?this.setSpeed(-this.playSpeed):this.setDirection(1)),this.totalFrames=o[1]-o[0],this.timeCompleted=this.totalFrames,this.firstFrame=o[0],this.setCurrentRawFrameValue(.001+i)),this.trigger("segmentStart")},AnimationItem.prototype.setSegment=function(o,i){var s=-1;this.isPaused&&(this.currentRawFrame+this.firstFrame<o?s=o:this.currentRawFrame+this.firstFrame>i&&(s=i-o)),this.firstFrame=o,this.totalFrames=i-o,this.timeCompleted=this.totalFrames,s!==-1&&this.goToAndStop(s,!0)},AnimationItem.prototype.playSegments=function(o,i){if(i&&(this.segments.length=0),_typeof$4(o[0])==="object"){var s,a=o.length;for(s=0;s<a;s+=1)this.segments.push(o[s])}else this.segments.push(o);this.segments.length&&i&&this.adjustSegment(this.segments.shift(),0),this.isPaused&&this.play()},AnimationItem.prototype.resetSegments=function(o){this.segments.length=0,this.segments.push([this.animationData.ip,this.animationData.op]),o&&this.checkSegments(0)},AnimationItem.prototype.checkSegments=function(o){return this.segments.length?(this.adjustSegment(this.segments.shift(),o),!0):!1},AnimationItem.prototype.destroy=function(o){o&&this.name!==o||!this.renderer||(this.renderer.destroy(),this.imagePreloader.destroy(),this.trigger("destroy"),this._cbs=null,this.onEnterFrame=null,this.onLoopComplete=null,this.onComplete=null,this.onSegmentStart=null,this.onDestroy=null,this.renderer=null,this.expressionsPlugin=null,this.imagePreloader=null,this.projectInterface=null)},AnimationItem.prototype.setCurrentRawFrameValue=function(o){this.currentRawFrame=o,this.gotoFrame()},AnimationItem.prototype.setSpeed=function(o){this.playSpeed=o,this.updaFrameModifier()},AnimationItem.prototype.setDirection=function(o){this.playDirection=o<0?-1:1,this.updaFrameModifier()},AnimationItem.prototype.setLoop=function(o){this.loop=o},AnimationItem.prototype.setVolume=function(o,i){i&&this.name!==i||this.audioController.setVolume(o)},AnimationItem.prototype.getVolume=function(){return this.audioController.getVolume()},AnimationItem.prototype.mute=function(o){o&&this.name!==o||this.audioController.mute()},AnimationItem.prototype.unmute=function(o){o&&this.name!==o||this.audioController.unmute()},AnimationItem.prototype.updaFrameModifier=function(){this.frameModifier=this.frameMult*this.playSpeed*this.playDirection,this.audioController.setRate(this.playSpeed*this.playDirection)},AnimationItem.prototype.getPath=function(){return this.path},AnimationItem.prototype.getAssetsPath=function(o){var i="";if(o.e)i=o.p;else if(this.assetsPath){var s=o.p;s.indexOf("images/")!==-1&&(s=s.split("/")[1]),i=this.assetsPath+s}else i=this.path,i+=o.u?o.u:"",i+=o.p;return i},AnimationItem.prototype.getAssetData=function(o){for(var i=0,s=this.assets.length;i<s;){if(o===this.assets[i].id)return this.assets[i];i+=1}return null},AnimationItem.prototype.hide=function(){this.renderer.hide()},AnimationItem.prototype.show=function(){this.renderer.show()},AnimationItem.prototype.getDuration=function(o){return o?this.totalFrames:this.totalFrames/this.frameRate},AnimationItem.prototype.updateDocumentData=function(o,i,s){try{var a=this.renderer.getElementByPath(o);a.updateDocumentData(i,s)}catch{}},AnimationItem.prototype.trigger=function(o){if(this._cbs&&this._cbs[o])switch(o){case"enterFrame":this.triggerEvent(o,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameModifier));break;case"drawnFrame":this.drawnFrameEvent.currentTime=this.currentFrame,this.drawnFrameEvent.totalTime=this.totalFrames,this.drawnFrameEvent.direction=this.frameModifier,this.triggerEvent(o,this.drawnFrameEvent);break;case"loopComplete":this.triggerEvent(o,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult));break;case"complete":this.triggerEvent(o,new BMCompleteEvent(o,this.frameMult));break;case"segmentStart":this.triggerEvent(o,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames));break;case"destroy":this.triggerEvent(o,new BMDestroyEvent(o,this));break;default:this.triggerEvent(o)}o==="enterFrame"&&this.onEnterFrame&&this.onEnterFrame.call(this,new BMEnterFrameEvent(o,this.currentFrame,this.totalFrames,this.frameMult)),o==="loopComplete"&&this.onLoopComplete&&this.onLoopComplete.call(this,new BMCompleteLoopEvent(o,this.loop,this.playCount,this.frameMult)),o==="complete"&&this.onComplete&&this.onComplete.call(this,new BMCompleteEvent(o,this.frameMult)),o==="segmentStart"&&this.onSegmentStart&&this.onSegmentStart.call(this,new BMSegmentStartEvent(o,this.firstFrame,this.totalFrames)),o==="destroy"&&this.onDestroy&&this.onDestroy.call(this,new BMDestroyEvent(o,this))},AnimationItem.prototype.triggerRenderFrameError=function(o){var i=new BMRenderFrameErrorEvent(o,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)},AnimationItem.prototype.triggerConfigError=function(o){var i=new BMConfigErrorEvent(o,this.currentFrame);this.triggerEvent("error",i),this.onError&&this.onError.call(this,i)};var animationManager=function(){var o={},i=[],s=0,a=0,et=0,tt=!0,rt=!1;function nt(Dt){for(var Ct=0,St=Dt.target;Ct<a;)i[Ct].animation===St&&(i.splice(Ct,1),Ct-=1,a-=1,St.isPaused||lt()),Ct+=1}function it(Dt,Ct){if(!Dt)return null;for(var St=0;St<a;){if(i[St].elem===Dt&&i[St].elem!==null)return i[St].animation;St+=1}var $t=new AnimationItem;return at($t,Dt),$t.setData(Dt,Ct),$t}function ot(){var Dt,Ct=i.length,St=[];for(Dt=0;Dt<Ct;Dt+=1)St.push(i[Dt].animation);return St}function st(){et+=1,It()}function lt(){et-=1}function at(Dt,Ct){Dt.addEventListener("destroy",nt),Dt.addEventListener("_active",st),Dt.addEventListener("_idle",lt),i.push({elem:Ct,animation:Dt}),a+=1}function ut(Dt){var Ct=new AnimationItem;return at(Ct,null),Ct.setParams(Dt),Ct}function ft(Dt,Ct){var St;for(St=0;St<a;St+=1)i[St].animation.setSpeed(Dt,Ct)}function mt(Dt,Ct){var St;for(St=0;St<a;St+=1)i[St].animation.setDirection(Dt,Ct)}function yt(Dt){var Ct;for(Ct=0;Ct<a;Ct+=1)i[Ct].animation.play(Dt)}function ht(Dt){var Ct=Dt-s,St;for(St=0;St<a;St+=1)i[St].animation.advanceTime(Ct);s=Dt,et&&!rt?window.requestAnimationFrame(ht):tt=!0}function pt(Dt){s=Dt,window.requestAnimationFrame(ht)}function ct(Dt){var Ct;for(Ct=0;Ct<a;Ct+=1)i[Ct].animation.pause(Dt)}function gt(Dt,Ct,St){var $t;for($t=0;$t<a;$t+=1)i[$t].animation.goToAndStop(Dt,Ct,St)}function Et(Dt){var Ct;for(Ct=0;Ct<a;Ct+=1)i[Ct].animation.stop(Dt)}function bt(Dt){var Ct;for(Ct=0;Ct<a;Ct+=1)i[Ct].animation.togglePause(Dt)}function xt(Dt){var Ct;for(Ct=a-1;Ct>=0;Ct-=1)i[Ct].animation.destroy(Dt)}function Tt(Dt,Ct,St){var $t=[].concat([].slice.call(document.getElementsByClassName("lottie")),[].slice.call(document.getElementsByClassName("bodymovin"))),Lt,Rt=$t.length;for(Lt=0;Lt<Rt;Lt+=1)St&&$t[Lt].setAttribute("data-bm-type",St),it($t[Lt],Dt);if(Ct&&Rt===0){St||(St="svg");var jt=document.getElementsByTagName("body")[0];jt.innerText="";var Ft=createTag("div");Ft.style.width="100%",Ft.style.height="100%",Ft.setAttribute("data-bm-type",St),jt.appendChild(Ft),it(Ft,Dt)}}function wt(){var Dt;for(Dt=0;Dt<a;Dt+=1)i[Dt].animation.resize()}function It(){!rt&&et&&tt&&(window.requestAnimationFrame(pt),tt=!1)}function At(){rt=!0}function kt(){rt=!1,It()}function Vt(Dt,Ct){var St;for(St=0;St<a;St+=1)i[St].animation.setVolume(Dt,Ct)}function Mt(Dt){var Ct;for(Ct=0;Ct<a;Ct+=1)i[Ct].animation.mute(Dt)}function Ot(Dt){var Ct;for(Ct=0;Ct<a;Ct+=1)i[Ct].animation.unmute(Dt)}return o.registerAnimation=it,o.loadAnimation=ut,o.setSpeed=ft,o.setDirection=mt,o.play=yt,o.pause=ct,o.stop=Et,o.togglePause=bt,o.searchAnimations=Tt,o.resize=wt,o.goToAndStop=gt,o.destroy=xt,o.freeze=At,o.unfreeze=kt,o.setVolume=Vt,o.mute=Mt,o.unmute=Ot,o.getRegisteredAnimations=ot,o}(),BezierFactory=function(){var o={};o.getBezierEasing=s;var i={};function s(pt,ct,gt,Et,bt){var xt=bt||("bez_"+pt+"_"+ct+"_"+gt+"_"+Et).replace(/\./g,"p");if(i[xt])return i[xt];var Tt=new ht([pt,ct,gt,Et]);return i[xt]=Tt,Tt}var a=4,et=.001,tt=1e-7,rt=10,nt=11,it=1/(nt-1),ot=typeof Float32Array=="function";function st(pt,ct){return 1-3*ct+3*pt}function lt(pt,ct){return 3*ct-6*pt}function at(pt){return 3*pt}function ut(pt,ct,gt){return((st(ct,gt)*pt+lt(ct,gt))*pt+at(ct))*pt}function ft(pt,ct,gt){return 3*st(ct,gt)*pt*pt+2*lt(ct,gt)*pt+at(ct)}function mt(pt,ct,gt,Et,bt){var xt,Tt,wt=0;do Tt=ct+(gt-ct)/2,xt=ut(Tt,Et,bt)-pt,xt>0?gt=Tt:ct=Tt;while(Math.abs(xt)>tt&&++wt<rt);return Tt}function yt(pt,ct,gt,Et){for(var bt=0;bt<a;++bt){var xt=ft(ct,gt,Et);if(xt===0)return ct;var Tt=ut(ct,gt,Et)-pt;ct-=Tt/xt}return ct}function ht(pt){this._p=pt,this._mSampleValues=ot?new Float32Array(nt):new Array(nt),this._precomputed=!1,this.get=this.get.bind(this)}return ht.prototype={get:function(ct){var gt=this._p[0],Et=this._p[1],bt=this._p[2],xt=this._p[3];return this._precomputed||this._precompute(),gt===Et&&bt===xt?ct:ct===0?0:ct===1?1:ut(this._getTForX(ct),Et,xt)},_precompute:function(){var ct=this._p[0],gt=this._p[1],Et=this._p[2],bt=this._p[3];this._precomputed=!0,(ct!==gt||Et!==bt)&&this._calcSampleValues()},_calcSampleValues:function(){for(var ct=this._p[0],gt=this._p[2],Et=0;Et<nt;++Et)this._mSampleValues[Et]=ut(Et*it,ct,gt)},_getTForX:function(ct){for(var gt=this._p[0],Et=this._p[2],bt=this._mSampleValues,xt=0,Tt=1,wt=nt-1;Tt!==wt&&bt[Tt]<=ct;++Tt)xt+=it;--Tt;var It=(ct-bt[Tt])/(bt[Tt+1]-bt[Tt]),At=xt+It*it,kt=ft(At,gt,Et);return kt>=et?yt(ct,At,gt,Et):kt===0?At:mt(ct,xt,xt+it,gt,Et)}},o}(),pooling=function(){function o(i){return i.concat(createSizedArray(i.length))}return{double:o}}(),poolFactory=function(){return function(o,i,s){var a=0,et=o,tt=createSizedArray(et),rt={newElement:nt,release:it};function nt(){var ot;return a?(a-=1,ot=tt[a]):ot=i(),ot}function it(ot){a===et&&(tt=pooling.double(tt),et*=2),s&&s(ot),tt[a]=ot,a+=1}return rt}}(),bezierLengthPool=function(){function o(){return{addedLength:0,percents:createTypedArray("float32",getDefaultCurveSegments()),lengths:createTypedArray("float32",getDefaultCurveSegments())}}return poolFactory(8,o)}(),segmentsLengthPool=function(){function o(){return{lengths:[],totalLength:0}}function i(s){var a,et=s.lengths.length;for(a=0;a<et;a+=1)bezierLengthPool.release(s.lengths[a]);s.lengths.length=0}return poolFactory(8,o,i)}();function bezFunction(){var o=Math;function i(at,ut,ft,mt,yt,ht){var pt=at*mt+ut*yt+ft*ht-yt*mt-ht*at-ft*ut;return pt>-.001&&pt<.001}function s(at,ut,ft,mt,yt,ht,pt,ct,gt){if(ft===0&&ht===0&&gt===0)return i(at,ut,mt,yt,pt,ct);var Et=o.sqrt(o.pow(mt-at,2)+o.pow(yt-ut,2)+o.pow(ht-ft,2)),bt=o.sqrt(o.pow(pt-at,2)+o.pow(ct-ut,2)+o.pow(gt-ft,2)),xt=o.sqrt(o.pow(pt-mt,2)+o.pow(ct-yt,2)+o.pow(gt-ht,2)),Tt;return Et>bt?Et>xt?Tt=Et-bt-xt:Tt=xt-bt-Et:xt>bt?Tt=xt-bt-Et:Tt=bt-Et-xt,Tt>-1e-4&&Tt<1e-4}var a=function(){return function(at,ut,ft,mt){var yt=getDefaultCurveSegments(),ht,pt,ct,gt,Et,bt=0,xt,Tt=[],wt=[],It=bezierLengthPool.newElement();for(ct=ft.length,ht=0;ht<yt;ht+=1){for(Et=ht/(yt-1),xt=0,pt=0;pt<ct;pt+=1)gt=bmPow(1-Et,3)*at[pt]+3*bmPow(1-Et,2)*Et*ft[pt]+3*(1-Et)*bmPow(Et,2)*mt[pt]+bmPow(Et,3)*ut[pt],Tt[pt]=gt,wt[pt]!==null&&(xt+=bmPow(Tt[pt]-wt[pt],2)),wt[pt]=Tt[pt];xt&&(xt=bmSqrt(xt),bt+=xt),It.percents[ht]=Et,It.lengths[ht]=bt}return It.addedLength=bt,It}}();function et(at){var ut=segmentsLengthPool.newElement(),ft=at.c,mt=at.v,yt=at.o,ht=at.i,pt,ct=at._length,gt=ut.lengths,Et=0;for(pt=0;pt<ct-1;pt+=1)gt[pt]=a(mt[pt],mt[pt+1],yt[pt],ht[pt+1]),Et+=gt[pt].addedLength;return ft&&ct&&(gt[pt]=a(mt[pt],mt[0],yt[pt],ht[0]),Et+=gt[pt].addedLength),ut.totalLength=Et,ut}function tt(at){this.segmentLength=0,this.points=new Array(at)}function rt(at,ut){this.partialLength=at,this.point=ut}var nt=function(){var at={};return function(ut,ft,mt,yt){var ht=(ut[0]+"_"+ut[1]+"_"+ft[0]+"_"+ft[1]+"_"+mt[0]+"_"+mt[1]+"_"+yt[0]+"_"+yt[1]).replace(/\./g,"p");if(!at[ht]){var pt=getDefaultCurveSegments(),ct,gt,Et,bt,xt,Tt=0,wt,It,At=null;ut.length===2&&(ut[0]!==ft[0]||ut[1]!==ft[1])&&i(ut[0],ut[1],ft[0],ft[1],ut[0]+mt[0],ut[1]+mt[1])&&i(ut[0],ut[1],ft[0],ft[1],ft[0]+yt[0],ft[1]+yt[1])&&(pt=2);var kt=new tt(pt);for(Et=mt.length,ct=0;ct<pt;ct+=1){for(It=createSizedArray(Et),xt=ct/(pt-1),wt=0,gt=0;gt<Et;gt+=1)bt=bmPow(1-xt,3)*ut[gt]+3*bmPow(1-xt,2)*xt*(ut[gt]+mt[gt])+3*(1-xt)*bmPow(xt,2)*(ft[gt]+yt[gt])+bmPow(xt,3)*ft[gt],It[gt]=bt,At!==null&&(wt+=bmPow(It[gt]-At[gt],2));wt=bmSqrt(wt),Tt+=wt,kt.points[ct]=new rt(wt,It),At=It}kt.segmentLength=Tt,at[ht]=kt}return at[ht]}}();function it(at,ut){var ft=ut.percents,mt=ut.lengths,yt=ft.length,ht=bmFloor((yt-1)*at),pt=at*ut.addedLength,ct=0;if(ht===yt-1||ht===0||pt===mt[ht])return ft[ht];for(var gt=mt[ht]>pt?-1:1,Et=!0;Et;)if(mt[ht]<=pt&&mt[ht+1]>pt?(ct=(pt-mt[ht])/(mt[ht+1]-mt[ht]),Et=!1):ht+=gt,ht<0||ht>=yt-1){if(ht===yt-1)return ft[ht];Et=!1}return ft[ht]+(ft[ht+1]-ft[ht])*ct}function ot(at,ut,ft,mt,yt,ht){var pt=it(yt,ht),ct=1-pt,gt=o.round((ct*ct*ct*at[0]+(pt*ct*ct+ct*pt*ct+ct*ct*pt)*ft[0]+(pt*pt*ct+ct*pt*pt+pt*ct*pt)*mt[0]+pt*pt*pt*ut[0])*1e3)/1e3,Et=o.round((ct*ct*ct*at[1]+(pt*ct*ct+ct*pt*ct+ct*ct*pt)*ft[1]+(pt*pt*ct+ct*pt*pt+pt*ct*pt)*mt[1]+pt*pt*pt*ut[1])*1e3)/1e3;return[gt,Et]}var st=createTypedArray("float32",8);function lt(at,ut,ft,mt,yt,ht,pt){yt<0?yt=0:yt>1&&(yt=1);var ct=it(yt,pt);ht=ht>1?1:ht;var gt=it(ht,pt),Et,bt=at.length,xt=1-ct,Tt=1-gt,wt=xt*xt*xt,It=ct*xt*xt*3,At=ct*ct*xt*3,kt=ct*ct*ct,Vt=xt*xt*Tt,Mt=ct*xt*Tt+xt*ct*Tt+xt*xt*gt,Ot=ct*ct*Tt+xt*ct*gt+ct*xt*gt,Dt=ct*ct*gt,Ct=xt*Tt*Tt,St=ct*Tt*Tt+xt*gt*Tt+xt*Tt*gt,$t=ct*gt*Tt+xt*gt*gt+ct*Tt*gt,Lt=ct*gt*gt,Rt=Tt*Tt*Tt,jt=gt*Tt*Tt+Tt*gt*Tt+Tt*Tt*gt,Ft=gt*gt*Tt+Tt*gt*gt+gt*Tt*gt,zt=gt*gt*gt;for(Et=0;Et<bt;Et+=1)st[Et*4]=o.round((wt*at[Et]+It*ft[Et]+At*mt[Et]+kt*ut[Et])*1e3)/1e3,st[Et*4+1]=o.round((Vt*at[Et]+Mt*ft[Et]+Ot*mt[Et]+Dt*ut[Et])*1e3)/1e3,st[Et*4+2]=o.round((Ct*at[Et]+St*ft[Et]+$t*mt[Et]+Lt*ut[Et])*1e3)/1e3,st[Et*4+3]=o.round((Rt*at[Et]+jt*ft[Et]+Ft*mt[Et]+zt*ut[Et])*1e3)/1e3;return st}return{getSegmentsLength:et,getNewSegment:lt,getPointInSegment:ot,buildBezierData:nt,pointOnLine2D:i,pointOnLine3D:s}}var bez=bezFunction(),initFrame=initialDefaultFrame,mathAbs=Math.abs;function interpolateValue(o,i){var s=this.offsetTime,a;this.propType==="multidimensional"&&(a=createTypedArray("float32",this.pv.length));for(var et=i.lastIndex,tt=et,rt=this.keyframes.length-1,nt=!0,it,ot,st;nt;){if(it=this.keyframes[tt],ot=this.keyframes[tt+1],tt===rt-1&&o>=ot.t-s){it.h&&(it=ot),et=0;break}if(ot.t-s>o){et=tt;break}tt<rt-1?tt+=1:(et=0,nt=!1)}st=this.keyframesMetadata[tt]||{};var lt,at,ut,ft,mt,yt,ht=ot.t-s,pt=it.t-s,ct;if(it.to){st.bezierData||(st.bezierData=bez.buildBezierData(it.s,ot.s||it.e,it.to,it.ti));var gt=st.bezierData;if(o>=ht||o<pt){var Et=o>=ht?gt.points.length-1:0;for(at=gt.points[Et].point.length,lt=0;lt<at;lt+=1)a[lt]=gt.points[Et].point[lt]}else{st.__fnct?yt=st.__fnct:(yt=BezierFactory.getBezierEasing(it.o.x,it.o.y,it.i.x,it.i.y,it.n).get,st.__fnct=yt),ut=yt((o-pt)/(ht-pt));var bt=gt.segmentLength*ut,xt,Tt=i.lastFrame<o&&i._lastKeyframeIndex===tt?i._lastAddedLength:0;for(mt=i.lastFrame<o&&i._lastKeyframeIndex===tt?i._lastPoint:0,nt=!0,ft=gt.points.length;nt;){if(Tt+=gt.points[mt].partialLength,bt===0||ut===0||mt===gt.points.length-1){for(at=gt.points[mt].point.length,lt=0;lt<at;lt+=1)a[lt]=gt.points[mt].point[lt];break}else if(bt>=Tt&&bt<Tt+gt.points[mt+1].partialLength){for(xt=(bt-Tt)/gt.points[mt+1].partialLength,at=gt.points[mt].point.length,lt=0;lt<at;lt+=1)a[lt]=gt.points[mt].point[lt]+(gt.points[mt+1].point[lt]-gt.points[mt].point[lt])*xt;break}mt<ft-1?mt+=1:nt=!1}i._lastPoint=mt,i._lastAddedLength=Tt-gt.points[mt].partialLength,i._lastKeyframeIndex=tt}}else{var wt,It,At,kt,Vt;if(rt=it.s.length,ct=ot.s||it.e,this.sh&&it.h!==1)if(o>=ht)a[0]=ct[0],a[1]=ct[1],a[2]=ct[2];else if(o<=pt)a[0]=it.s[0],a[1]=it.s[1],a[2]=it.s[2];else{var Mt=createQuaternion(it.s),Ot=createQuaternion(ct),Dt=(o-pt)/(ht-pt);quaternionToEuler(a,slerp(Mt,Ot,Dt))}else for(tt=0;tt<rt;tt+=1)it.h!==1&&(o>=ht?ut=1:o<pt?ut=0:(it.o.x.constructor===Array?(st.__fnct||(st.__fnct=[]),st.__fnct[tt]?yt=st.__fnct[tt]:(wt=it.o.x[tt]===void 0?it.o.x[0]:it.o.x[tt],It=it.o.y[tt]===void 0?it.o.y[0]:it.o.y[tt],At=it.i.x[tt]===void 0?it.i.x[0]:it.i.x[tt],kt=it.i.y[tt]===void 0?it.i.y[0]:it.i.y[tt],yt=BezierFactory.getBezierEasing(wt,It,At,kt).get,st.__fnct[tt]=yt)):st.__fnct?yt=st.__fnct:(wt=it.o.x,It=it.o.y,At=it.i.x,kt=it.i.y,yt=BezierFactory.getBezierEasing(wt,It,At,kt).get,it.keyframeMetadata=yt),ut=yt((o-pt)/(ht-pt)))),ct=ot.s||it.e,Vt=it.h===1?it.s[tt]:it.s[tt]+(ct[tt]-it.s[tt])*ut,this.propType==="multidimensional"?a[tt]=Vt:a=Vt}return i.lastIndex=et,a}function slerp(o,i,s){var a=[],et=o[0],tt=o[1],rt=o[2],nt=o[3],it=i[0],ot=i[1],st=i[2],lt=i[3],at,ut,ft,mt,yt;return ut=et*it+tt*ot+rt*st+nt*lt,ut<0&&(ut=-ut,it=-it,ot=-ot,st=-st,lt=-lt),1-ut>1e-6?(at=Math.acos(ut),ft=Math.sin(at),mt=Math.sin((1-s)*at)/ft,yt=Math.sin(s*at)/ft):(mt=1-s,yt=s),a[0]=mt*et+yt*it,a[1]=mt*tt+yt*ot,a[2]=mt*rt+yt*st,a[3]=mt*nt+yt*lt,a}function quaternionToEuler(o,i){var s=i[0],a=i[1],et=i[2],tt=i[3],rt=Math.atan2(2*a*tt-2*s*et,1-2*a*a-2*et*et),nt=Math.asin(2*s*a+2*et*tt),it=Math.atan2(2*s*tt-2*a*et,1-2*s*s-2*et*et);o[0]=rt/degToRads,o[1]=nt/degToRads,o[2]=it/degToRads}function createQuaternion(o){var i=o[0]*degToRads,s=o[1]*degToRads,a=o[2]*degToRads,et=Math.cos(i/2),tt=Math.cos(s/2),rt=Math.cos(a/2),nt=Math.sin(i/2),it=Math.sin(s/2),ot=Math.sin(a/2),st=et*tt*rt-nt*it*ot,lt=nt*it*rt+et*tt*ot,at=nt*tt*rt+et*it*ot,ut=et*it*rt-nt*tt*ot;return[lt,at,ut,st]}function getValueAtCurrentTime(){var o=this.comp.renderedFrame-this.offsetTime,i=this.keyframes[0].t-this.offsetTime,s=this.keyframes[this.keyframes.length-1].t-this.offsetTime;if(!(o===this._caching.lastFrame||this._caching.lastFrame!==initFrame&&(this._caching.lastFrame>=s&&o>=s||this._caching.lastFrame<i&&o<i))){this._caching.lastFrame>=o&&(this._caching._lastKeyframeIndex=-1,this._caching.lastIndex=0);var a=this.interpolateValue(o,this._caching);this.pv=a}return this._caching.lastFrame=o,this.pv}function setVValue(o){var i;if(this.propType==="unidimensional")i=o*this.mult,mathAbs(this.v-i)>1e-5&&(this.v=i,this._mdf=!0);else for(var s=0,a=this.v.length;s<a;)i=o[s]*this.mult,mathAbs(this.v[s]-i)>1e-5&&(this.v[s]=i,this._mdf=!0),s+=1}function processEffectsSequence(){if(!(this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)){if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=this._isFirstFrame;var o,i=this.effectsSequence.length,s=this.kf?this.pv:this.data.k;for(o=0;o<i;o+=1)s=this.effectsSequence[o](s);this.setVValue(s),this._isFirstFrame=!1,this.lock=!1,this.frameId=this.elem.globalData.frameId}}function addEffect(o){this.effectsSequence.push(o),this.container.addDynamicProperty(this)}function ValueProperty(o,i,s,a){this.propType="unidimensional",this.mult=s||1,this.data=i,this.v=s?i.k*s:i.k,this.pv=i.k,this._mdf=!1,this.elem=o,this.container=a,this.comp=o.comp,this.k=!1,this.kf=!1,this.vel=0,this.effectsSequence=[],this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function MultiDimensionalProperty(o,i,s,a){this.propType="multidimensional",this.mult=s||1,this.data=i,this._mdf=!1,this.elem=o,this.container=a,this.comp=o.comp,this.k=!1,this.kf=!1,this.frameId=-1;var et,tt=i.k.length;for(this.v=createTypedArray("float32",tt),this.pv=createTypedArray("float32",tt),this.vel=createTypedArray("float32",tt),et=0;et<tt;et+=1)this.v[et]=i.k[et]*this.mult,this.pv[et]=i.k[et];this._isFirstFrame=!0,this.effectsSequence=[],this.getValue=processEffectsSequence,this.setVValue=setVValue,this.addEffect=addEffect}function KeyframedValueProperty(o,i,s,a){this.propType="unidimensional",this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=o.data.st,this.frameId=-1,this._caching={lastFrame:initFrame,lastIndex:0,value:0,_lastKeyframeIndex:-1},this.k=!0,this.kf=!0,this.data=i,this.mult=s||1,this.elem=o,this.container=a,this.comp=o.comp,this.v=initFrame,this.pv=initFrame,this._isFirstFrame=!0,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.addEffect=addEffect}function KeyframedMultidimensionalProperty(o,i,s,a){this.propType="multidimensional";var et,tt=i.k.length,rt,nt,it,ot;for(et=0;et<tt-1;et+=1)i.k[et].to&&i.k[et].s&&i.k[et+1]&&i.k[et+1].s&&(rt=i.k[et].s,nt=i.k[et+1].s,it=i.k[et].to,ot=i.k[et].ti,(rt.length===2&&!(rt[0]===nt[0]&&rt[1]===nt[1])&&bez.pointOnLine2D(rt[0],rt[1],nt[0],nt[1],rt[0]+it[0],rt[1]+it[1])&&bez.pointOnLine2D(rt[0],rt[1],nt[0],nt[1],nt[0]+ot[0],nt[1]+ot[1])||rt.length===3&&!(rt[0]===nt[0]&&rt[1]===nt[1]&&rt[2]===nt[2])&&bez.pointOnLine3D(rt[0],rt[1],rt[2],nt[0],nt[1],nt[2],rt[0]+it[0],rt[1]+it[1],rt[2]+it[2])&&bez.pointOnLine3D(rt[0],rt[1],rt[2],nt[0],nt[1],nt[2],nt[0]+ot[0],nt[1]+ot[1],nt[2]+ot[2]))&&(i.k[et].to=null,i.k[et].ti=null),rt[0]===nt[0]&&rt[1]===nt[1]&&it[0]===0&&it[1]===0&&ot[0]===0&&ot[1]===0&&(rt.length===2||rt[2]===nt[2]&&it[2]===0&&ot[2]===0)&&(i.k[et].to=null,i.k[et].ti=null));this.effectsSequence=[getValueAtCurrentTime.bind(this)],this.data=i,this.keyframes=i.k,this.keyframesMetadata=[],this.offsetTime=o.data.st,this.k=!0,this.kf=!0,this._isFirstFrame=!0,this.mult=s||1,this.elem=o,this.container=a,this.comp=o.comp,this.getValue=processEffectsSequence,this.setVValue=setVValue,this.interpolateValue=interpolateValue,this.frameId=-1;var st=i.k[0].s.length;for(this.v=createTypedArray("float32",st),this.pv=createTypedArray("float32",st),et=0;et<st;et+=1)this.v[et]=initFrame,this.pv[et]=initFrame;this._caching={lastFrame:initFrame,lastIndex:0,value:createTypedArray("float32",st)},this.addEffect=addEffect}var PropertyFactory=function(){function o(s,a,et,tt,rt){a.sid&&(a=s.globalData.slotManager.getProp(a));var nt;if(!a.k.length)nt=new ValueProperty(s,a,tt,rt);else if(typeof a.k[0]=="number")nt=new MultiDimensionalProperty(s,a,tt,rt);else switch(et){case 0:nt=new KeyframedValueProperty(s,a,tt,rt);break;case 1:nt=new KeyframedMultidimensionalProperty(s,a,tt,rt);break}return nt.effectsSequence.length&&rt.addDynamicProperty(nt),nt}var i={getProp:o};return i}();function DynamicPropertyContainer(){}DynamicPropertyContainer.prototype={addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&(this.dynamicProperties.push(i),this.container.addDynamicProperty(this),this._isAnimated=!0)},iterateDynamicProperties:function(){this._mdf=!1;var i,s=this.dynamicProperties.length;for(i=0;i<s;i+=1)this.dynamicProperties[i].getValue(),this.dynamicProperties[i]._mdf&&(this._mdf=!0)},initDynamicPropertyContainer:function(i){this.container=i,this.dynamicProperties=[],this._mdf=!1,this._isAnimated=!1}};var pointPool=function(){function o(){return createTypedArray("float32",2)}return poolFactory(8,o)}();function ShapePath(){this.c=!1,this._length=0,this._maxLength=8,this.v=createSizedArray(this._maxLength),this.o=createSizedArray(this._maxLength),this.i=createSizedArray(this._maxLength)}ShapePath.prototype.setPathData=function(o,i){this.c=o,this.setLength(i);for(var s=0;s<i;)this.v[s]=pointPool.newElement(),this.o[s]=pointPool.newElement(),this.i[s]=pointPool.newElement(),s+=1},ShapePath.prototype.setLength=function(o){for(;this._maxLength<o;)this.doubleArrayLength();this._length=o},ShapePath.prototype.doubleArrayLength=function(){this.v=this.v.concat(createSizedArray(this._maxLength)),this.i=this.i.concat(createSizedArray(this._maxLength)),this.o=this.o.concat(createSizedArray(this._maxLength)),this._maxLength*=2},ShapePath.prototype.setXYAt=function(o,i,s,a,et){var tt;switch(this._length=Math.max(this._length,a+1),this._length>=this._maxLength&&this.doubleArrayLength(),s){case"v":tt=this.v;break;case"i":tt=this.i;break;case"o":tt=this.o;break;default:tt=[];break}(!tt[a]||tt[a]&&!et)&&(tt[a]=pointPool.newElement()),tt[a][0]=o,tt[a][1]=i},ShapePath.prototype.setTripleAt=function(o,i,s,a,et,tt,rt,nt){this.setXYAt(o,i,"v",rt,nt),this.setXYAt(s,a,"o",rt,nt),this.setXYAt(et,tt,"i",rt,nt)},ShapePath.prototype.reverse=function(){var o=new ShapePath;o.setPathData(this.c,this._length);var i=this.v,s=this.o,a=this.i,et=0;this.c&&(o.setTripleAt(i[0][0],i[0][1],a[0][0],a[0][1],s[0][0],s[0][1],0,!1),et=1);var tt=this._length-1,rt=this._length,nt;for(nt=et;nt<rt;nt+=1)o.setTripleAt(i[tt][0],i[tt][1],a[tt][0],a[tt][1],s[tt][0],s[tt][1],nt,!1),tt-=1;return o},ShapePath.prototype.length=function(){return this._length};var shapePool=function(){function o(){return new ShapePath}function i(et){var tt=et._length,rt;for(rt=0;rt<tt;rt+=1)pointPool.release(et.v[rt]),pointPool.release(et.i[rt]),pointPool.release(et.o[rt]),et.v[rt]=null,et.i[rt]=null,et.o[rt]=null;et._length=0,et.c=!1}function s(et){var tt=a.newElement(),rt,nt=et._length===void 0?et.v.length:et._length;for(tt.setLength(nt),tt.c=et.c,rt=0;rt<nt;rt+=1)tt.setTripleAt(et.v[rt][0],et.v[rt][1],et.o[rt][0],et.o[rt][1],et.i[rt][0],et.i[rt][1],rt);return tt}var a=poolFactory(4,o,i);return a.clone=s,a}();function ShapeCollection(){this._length=0,this._maxLength=4,this.shapes=createSizedArray(this._maxLength)}ShapeCollection.prototype.addShape=function(o){this._length===this._maxLength&&(this.shapes=this.shapes.concat(createSizedArray(this._maxLength)),this._maxLength*=2),this.shapes[this._length]=o,this._length+=1},ShapeCollection.prototype.releaseShapes=function(){var o;for(o=0;o<this._length;o+=1)shapePool.release(this.shapes[o]);this._length=0};var shapeCollectionPool=function(){var o={newShapeCollection:et,release:tt},i=0,s=4,a=createSizedArray(s);function et(){var rt;return i?(i-=1,rt=a[i]):rt=new ShapeCollection,rt}function tt(rt){var nt,it=rt._length;for(nt=0;nt<it;nt+=1)shapePool.release(rt.shapes[nt]);rt._length=0,i===s&&(a=pooling.double(a),s*=2),a[i]=rt,i+=1}return o}(),ShapePropertyFactory=function(){var o=-999999;function i(ht,pt,ct){var gt=ct.lastIndex,Et,bt,xt,Tt,wt,It,At,kt,Vt,Mt=this.keyframes;if(ht<Mt[0].t-this.offsetTime)Et=Mt[0].s[0],xt=!0,gt=0;else if(ht>=Mt[Mt.length-1].t-this.offsetTime)Et=Mt[Mt.length-1].s?Mt[Mt.length-1].s[0]:Mt[Mt.length-2].e[0],xt=!0;else{for(var Ot=gt,Dt=Mt.length-1,Ct=!0,St,$t,Lt;Ct&&(St=Mt[Ot],$t=Mt[Ot+1],!($t.t-this.offsetTime>ht));)Ot<Dt-1?Ot+=1:Ct=!1;if(Lt=this.keyframesMetadata[Ot]||{},xt=St.h===1,gt=Ot,!xt){if(ht>=$t.t-this.offsetTime)kt=1;else if(ht<St.t-this.offsetTime)kt=0;else{var Rt;Lt.__fnct?Rt=Lt.__fnct:(Rt=BezierFactory.getBezierEasing(St.o.x,St.o.y,St.i.x,St.i.y).get,Lt.__fnct=Rt),kt=Rt((ht-(St.t-this.offsetTime))/($t.t-this.offsetTime-(St.t-this.offsetTime)))}bt=$t.s?$t.s[0]:St.e[0]}Et=St.s[0]}for(It=pt._length,At=Et.i[0].length,ct.lastIndex=gt,Tt=0;Tt<It;Tt+=1)for(wt=0;wt<At;wt+=1)Vt=xt?Et.i[Tt][wt]:Et.i[Tt][wt]+(bt.i[Tt][wt]-Et.i[Tt][wt])*kt,pt.i[Tt][wt]=Vt,Vt=xt?Et.o[Tt][wt]:Et.o[Tt][wt]+(bt.o[Tt][wt]-Et.o[Tt][wt])*kt,pt.o[Tt][wt]=Vt,Vt=xt?Et.v[Tt][wt]:Et.v[Tt][wt]+(bt.v[Tt][wt]-Et.v[Tt][wt])*kt,pt.v[Tt][wt]=Vt}function s(){var ht=this.comp.renderedFrame-this.offsetTime,pt=this.keyframes[0].t-this.offsetTime,ct=this.keyframes[this.keyframes.length-1].t-this.offsetTime,gt=this._caching.lastFrame;return gt!==o&&(gt<pt&&ht<pt||gt>ct&&ht>ct)||(this._caching.lastIndex=gt<ht?this._caching.lastIndex:0,this.interpolateShape(ht,this.pv,this._caching)),this._caching.lastFrame=ht,this.pv}function a(){this.paths=this.localShapeCollection}function et(ht,pt){if(ht._length!==pt._length||ht.c!==pt.c)return!1;var ct,gt=ht._length;for(ct=0;ct<gt;ct+=1)if(ht.v[ct][0]!==pt.v[ct][0]||ht.v[ct][1]!==pt.v[ct][1]||ht.o[ct][0]!==pt.o[ct][0]||ht.o[ct][1]!==pt.o[ct][1]||ht.i[ct][0]!==pt.i[ct][0]||ht.i[ct][1]!==pt.i[ct][1])return!1;return!0}function tt(ht){et(this.v,ht)||(this.v=shapePool.clone(ht),this.localShapeCollection.releaseShapes(),this.localShapeCollection.addShape(this.v),this._mdf=!0,this.paths=this.localShapeCollection)}function rt(){if(this.elem.globalData.frameId!==this.frameId){if(!this.effectsSequence.length){this._mdf=!1;return}if(this.lock){this.setVValue(this.pv);return}this.lock=!0,this._mdf=!1;var ht;this.kf?ht=this.pv:this.data.ks?ht=this.data.ks.k:ht=this.data.pt.k;var pt,ct=this.effectsSequence.length;for(pt=0;pt<ct;pt+=1)ht=this.effectsSequence[pt](ht);this.setVValue(ht),this.lock=!1,this.frameId=this.elem.globalData.frameId}}function nt(ht,pt,ct){this.propType="shape",this.comp=ht.comp,this.container=ht,this.elem=ht,this.data=pt,this.k=!1,this.kf=!1,this._mdf=!1;var gt=ct===3?pt.pt.k:pt.ks.k;this.v=shapePool.clone(gt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.reset=a,this.effectsSequence=[]}function it(ht){this.effectsSequence.push(ht),this.container.addDynamicProperty(this)}nt.prototype.interpolateShape=i,nt.prototype.getValue=rt,nt.prototype.setVValue=tt,nt.prototype.addEffect=it;function ot(ht,pt,ct){this.propType="shape",this.comp=ht.comp,this.elem=ht,this.container=ht,this.offsetTime=ht.data.st,this.keyframes=ct===3?pt.pt.k:pt.ks.k,this.keyframesMetadata=[],this.k=!0,this.kf=!0;var gt=this.keyframes[0].s[0].i.length;this.v=shapePool.newElement(),this.v.setPathData(this.keyframes[0].s[0].c,gt),this.pv=shapePool.clone(this.v),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.paths.addShape(this.v),this.lastFrame=o,this.reset=a,this._caching={lastFrame:o,lastIndex:0},this.effectsSequence=[s.bind(this)]}ot.prototype.getValue=rt,ot.prototype.interpolateShape=i,ot.prototype.setVValue=tt,ot.prototype.addEffect=it;var st=function(){var ht=roundCorner;function pt(ct,gt){this.v=shapePool.newElement(),this.v.setPathData(!0,4),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.paths=this.localShapeCollection,this.localShapeCollection.addShape(this.v),this.d=gt.d,this.elem=ct,this.comp=ct.comp,this.frameId=-1,this.initDynamicPropertyContainer(ct),this.p=PropertyFactory.getProp(ct,gt.p,1,0,this),this.s=PropertyFactory.getProp(ct,gt.s,1,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertEllToPath())}return pt.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertEllToPath())},convertEllToPath:function(){var gt=this.p.v[0],Et=this.p.v[1],bt=this.s.v[0]/2,xt=this.s.v[1]/2,Tt=this.d!==3,wt=this.v;wt.v[0][0]=gt,wt.v[0][1]=Et-xt,wt.v[1][0]=Tt?gt+bt:gt-bt,wt.v[1][1]=Et,wt.v[2][0]=gt,wt.v[2][1]=Et+xt,wt.v[3][0]=Tt?gt-bt:gt+bt,wt.v[3][1]=Et,wt.i[0][0]=Tt?gt-bt*ht:gt+bt*ht,wt.i[0][1]=Et-xt,wt.i[1][0]=Tt?gt+bt:gt-bt,wt.i[1][1]=Et-xt*ht,wt.i[2][0]=Tt?gt+bt*ht:gt-bt*ht,wt.i[2][1]=Et+xt,wt.i[3][0]=Tt?gt-bt:gt+bt,wt.i[3][1]=Et+xt*ht,wt.o[0][0]=Tt?gt+bt*ht:gt-bt*ht,wt.o[0][1]=Et-xt,wt.o[1][0]=Tt?gt+bt:gt-bt,wt.o[1][1]=Et+xt*ht,wt.o[2][0]=Tt?gt-bt*ht:gt+bt*ht,wt.o[2][1]=Et+xt,wt.o[3][0]=Tt?gt-bt:gt+bt,wt.o[3][1]=Et-xt*ht}},extendPrototype([DynamicPropertyContainer],pt),pt}(),lt=function(){function ht(pt,ct){this.v=shapePool.newElement(),this.v.setPathData(!0,0),this.elem=pt,this.comp=pt.comp,this.data=ct,this.frameId=-1,this.d=ct.d,this.initDynamicPropertyContainer(pt),ct.sy===1?(this.ir=PropertyFactory.getProp(pt,ct.ir,0,0,this),this.is=PropertyFactory.getProp(pt,ct.is,0,.01,this),this.convertToPath=this.convertStarToPath):this.convertToPath=this.convertPolygonToPath,this.pt=PropertyFactory.getProp(pt,ct.pt,0,0,this),this.p=PropertyFactory.getProp(pt,ct.p,1,0,this),this.r=PropertyFactory.getProp(pt,ct.r,0,degToRads,this),this.or=PropertyFactory.getProp(pt,ct.or,0,0,this),this.os=PropertyFactory.getProp(pt,ct.os,0,.01,this),this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertToPath())}return ht.prototype={reset:a,getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertToPath())},convertStarToPath:function(){var ct=Math.floor(this.pt.v)*2,gt=Math.PI*2/ct,Et=!0,bt=this.or.v,xt=this.ir.v,Tt=this.os.v,wt=this.is.v,It=2*Math.PI*bt/(ct*2),At=2*Math.PI*xt/(ct*2),kt,Vt,Mt,Ot,Dt=-Math.PI/2;Dt+=this.r.v;var Ct=this.data.d===3?-1:1;for(this.v._length=0,kt=0;kt<ct;kt+=1){Vt=Et?bt:xt,Mt=Et?Tt:wt,Ot=Et?It:At;var St=Vt*Math.cos(Dt),$t=Vt*Math.sin(Dt),Lt=St===0&&$t===0?0:$t/Math.sqrt(St*St+$t*$t),Rt=St===0&&$t===0?0:-St/Math.sqrt(St*St+$t*$t);St+=+this.p.v[0],$t+=+this.p.v[1],this.v.setTripleAt(St,$t,St-Lt*Ot*Mt*Ct,$t-Rt*Ot*Mt*Ct,St+Lt*Ot*Mt*Ct,$t+Rt*Ot*Mt*Ct,kt,!0),Et=!Et,Dt+=gt*Ct}},convertPolygonToPath:function(){var ct=Math.floor(this.pt.v),gt=Math.PI*2/ct,Et=this.or.v,bt=this.os.v,xt=2*Math.PI*Et/(ct*4),Tt,wt=-Math.PI*.5,It=this.data.d===3?-1:1;for(wt+=this.r.v,this.v._length=0,Tt=0;Tt<ct;Tt+=1){var At=Et*Math.cos(wt),kt=Et*Math.sin(wt),Vt=At===0&&kt===0?0:kt/Math.sqrt(At*At+kt*kt),Mt=At===0&&kt===0?0:-At/Math.sqrt(At*At+kt*kt);At+=+this.p.v[0],kt+=+this.p.v[1],this.v.setTripleAt(At,kt,At-Vt*xt*bt*It,kt-Mt*xt*bt*It,At+Vt*xt*bt*It,kt+Mt*xt*bt*It,Tt,!0),wt+=gt*It}this.paths.length=0,this.paths[0]=this.v}},extendPrototype([DynamicPropertyContainer],ht),ht}(),at=function(){function ht(pt,ct){this.v=shapePool.newElement(),this.v.c=!0,this.localShapeCollection=shapeCollectionPool.newShapeCollection(),this.localShapeCollection.addShape(this.v),this.paths=this.localShapeCollection,this.elem=pt,this.comp=pt.comp,this.frameId=-1,this.d=ct.d,this.initDynamicPropertyContainer(pt),this.p=PropertyFactory.getProp(pt,ct.p,1,0,this),this.s=PropertyFactory.getProp(pt,ct.s,1,0,this),this.r=PropertyFactory.getProp(pt,ct.r,0,0,this),this.dynamicProperties.length?this.k=!0:(this.k=!1,this.convertRectToPath())}return ht.prototype={convertRectToPath:function(){var ct=this.p.v[0],gt=this.p.v[1],Et=this.s.v[0]/2,bt=this.s.v[1]/2,xt=bmMin(Et,bt,this.r.v),Tt=xt*(1-roundCorner);this.v._length=0,this.d===2||this.d===1?(this.v.setTripleAt(ct+Et,gt-bt+xt,ct+Et,gt-bt+xt,ct+Et,gt-bt+Tt,0,!0),this.v.setTripleAt(ct+Et,gt+bt-xt,ct+Et,gt+bt-Tt,ct+Et,gt+bt-xt,1,!0),xt!==0?(this.v.setTripleAt(ct+Et-xt,gt+bt,ct+Et-xt,gt+bt,ct+Et-Tt,gt+bt,2,!0),this.v.setTripleAt(ct-Et+xt,gt+bt,ct-Et+Tt,gt+bt,ct-Et+xt,gt+bt,3,!0),this.v.setTripleAt(ct-Et,gt+bt-xt,ct-Et,gt+bt-xt,ct-Et,gt+bt-Tt,4,!0),this.v.setTripleAt(ct-Et,gt-bt+xt,ct-Et,gt-bt+Tt,ct-Et,gt-bt+xt,5,!0),this.v.setTripleAt(ct-Et+xt,gt-bt,ct-Et+xt,gt-bt,ct-Et+Tt,gt-bt,6,!0),this.v.setTripleAt(ct+Et-xt,gt-bt,ct+Et-Tt,gt-bt,ct+Et-xt,gt-bt,7,!0)):(this.v.setTripleAt(ct-Et,gt+bt,ct-Et+Tt,gt+bt,ct-Et,gt+bt,2),this.v.setTripleAt(ct-Et,gt-bt,ct-Et,gt-bt+Tt,ct-Et,gt-bt,3))):(this.v.setTripleAt(ct+Et,gt-bt+xt,ct+Et,gt-bt+Tt,ct+Et,gt-bt+xt,0,!0),xt!==0?(this.v.setTripleAt(ct+Et-xt,gt-bt,ct+Et-xt,gt-bt,ct+Et-Tt,gt-bt,1,!0),this.v.setTripleAt(ct-Et+xt,gt-bt,ct-Et+Tt,gt-bt,ct-Et+xt,gt-bt,2,!0),this.v.setTripleAt(ct-Et,gt-bt+xt,ct-Et,gt-bt+xt,ct-Et,gt-bt+Tt,3,!0),this.v.setTripleAt(ct-Et,gt+bt-xt,ct-Et,gt+bt-Tt,ct-Et,gt+bt-xt,4,!0),this.v.setTripleAt(ct-Et+xt,gt+bt,ct-Et+xt,gt+bt,ct-Et+Tt,gt+bt,5,!0),this.v.setTripleAt(ct+Et-xt,gt+bt,ct+Et-Tt,gt+bt,ct+Et-xt,gt+bt,6,!0),this.v.setTripleAt(ct+Et,gt+bt-xt,ct+Et,gt+bt-xt,ct+Et,gt+bt-Tt,7,!0)):(this.v.setTripleAt(ct-Et,gt-bt,ct-Et+Tt,gt-bt,ct-Et,gt-bt,1,!0),this.v.setTripleAt(ct-Et,gt+bt,ct-Et,gt+bt-Tt,ct-Et,gt+bt,2,!0),this.v.setTripleAt(ct+Et,gt+bt,ct+Et-Tt,gt+bt,ct+Et,gt+bt,3,!0)))},getValue:function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf&&this.convertRectToPath())},reset:a},extendPrototype([DynamicPropertyContainer],ht),ht}();function ut(ht,pt,ct){var gt;if(ct===3||ct===4){var Et=ct===3?pt.pt:pt.ks,bt=Et.k;bt.length?gt=new ot(ht,pt,ct):gt=new nt(ht,pt,ct)}else ct===5?gt=new at(ht,pt):ct===6?gt=new st(ht,pt):ct===7&&(gt=new lt(ht,pt));return gt.k&&ht.addDynamicProperty(gt),gt}function ft(){return nt}function mt(){return ot}var yt={};return yt.getShapeProp=ut,yt.getConstructorFunction=ft,yt.getKeyframedConstructorFunction=mt,yt}();/*!
 Transformation Matrix v2.0
 (c) Epistemex 2014-2015
 www.epistemex.com
 By Ken Fyrstenberg
 Contributions by leeoniya.
 License: MIT, header required.
 */var Matrix=function(){var o=Math.cos,i=Math.sin,s=Math.tan,a=Math.round;function et(){return this.props[0]=1,this.props[1]=0,this.props[2]=0,this.props[3]=0,this.props[4]=0,this.props[5]=1,this.props[6]=0,this.props[7]=0,this.props[8]=0,this.props[9]=0,this.props[10]=1,this.props[11]=0,this.props[12]=0,this.props[13]=0,this.props[14]=0,this.props[15]=1,this}function tt(St){if(St===0)return this;var $t=o(St),Lt=i(St);return this._t($t,-Lt,0,0,Lt,$t,0,0,0,0,1,0,0,0,0,1)}function rt(St){if(St===0)return this;var $t=o(St),Lt=i(St);return this._t(1,0,0,0,0,$t,-Lt,0,0,Lt,$t,0,0,0,0,1)}function nt(St){if(St===0)return this;var $t=o(St),Lt=i(St);return this._t($t,0,Lt,0,0,1,0,0,-Lt,0,$t,0,0,0,0,1)}function it(St){if(St===0)return this;var $t=o(St),Lt=i(St);return this._t($t,-Lt,0,0,Lt,$t,0,0,0,0,1,0,0,0,0,1)}function ot(St,$t){return this._t(1,$t,St,1,0,0)}function st(St,$t){return this.shear(s(St),s($t))}function lt(St,$t){var Lt=o($t),Rt=i($t);return this._t(Lt,Rt,0,0,-Rt,Lt,0,0,0,0,1,0,0,0,0,1)._t(1,0,0,0,s(St),1,0,0,0,0,1,0,0,0,0,1)._t(Lt,-Rt,0,0,Rt,Lt,0,0,0,0,1,0,0,0,0,1)}function at(St,$t,Lt){return!Lt&&Lt!==0&&(Lt=1),St===1&&$t===1&&Lt===1?this:this._t(St,0,0,0,0,$t,0,0,0,0,Lt,0,0,0,0,1)}function ut(St,$t,Lt,Rt,jt,Ft,zt,Gt,Bt,Wt,Kt,Qt,Xt,er,sr,ur){return this.props[0]=St,this.props[1]=$t,this.props[2]=Lt,this.props[3]=Rt,this.props[4]=jt,this.props[5]=Ft,this.props[6]=zt,this.props[7]=Gt,this.props[8]=Bt,this.props[9]=Wt,this.props[10]=Kt,this.props[11]=Qt,this.props[12]=Xt,this.props[13]=er,this.props[14]=sr,this.props[15]=ur,this}function ft(St,$t,Lt){return Lt=Lt||0,St!==0||$t!==0||Lt!==0?this._t(1,0,0,0,0,1,0,0,0,0,1,0,St,$t,Lt,1):this}function mt(St,$t,Lt,Rt,jt,Ft,zt,Gt,Bt,Wt,Kt,Qt,Xt,er,sr,ur){var nr=this.props;if(St===1&&$t===0&&Lt===0&&Rt===0&&jt===0&&Ft===1&&zt===0&&Gt===0&&Bt===0&&Wt===0&&Kt===1&&Qt===0)return nr[12]=nr[12]*St+nr[15]*Xt,nr[13]=nr[13]*Ft+nr[15]*er,nr[14]=nr[14]*Kt+nr[15]*sr,nr[15]*=ur,this._identityCalculated=!1,this;var yr=nr[0],Ar=nr[1],Er=nr[2],lr=nr[3],dr=nr[4],pr=nr[5],ar=nr[6],mr=nr[7],wr=nr[8],Sr=nr[9],Or=nr[10],Ur=nr[11],zr=nr[12],Vr=nr[13],Mr=nr[14],Br=nr[15];return nr[0]=yr*St+Ar*jt+Er*Bt+lr*Xt,nr[1]=yr*$t+Ar*Ft+Er*Wt+lr*er,nr[2]=yr*Lt+Ar*zt+Er*Kt+lr*sr,nr[3]=yr*Rt+Ar*Gt+Er*Qt+lr*ur,nr[4]=dr*St+pr*jt+ar*Bt+mr*Xt,nr[5]=dr*$t+pr*Ft+ar*Wt+mr*er,nr[6]=dr*Lt+pr*zt+ar*Kt+mr*sr,nr[7]=dr*Rt+pr*Gt+ar*Qt+mr*ur,nr[8]=wr*St+Sr*jt+Or*Bt+Ur*Xt,nr[9]=wr*$t+Sr*Ft+Or*Wt+Ur*er,nr[10]=wr*Lt+Sr*zt+Or*Kt+Ur*sr,nr[11]=wr*Rt+Sr*Gt+Or*Qt+Ur*ur,nr[12]=zr*St+Vr*jt+Mr*Bt+Br*Xt,nr[13]=zr*$t+Vr*Ft+Mr*Wt+Br*er,nr[14]=zr*Lt+Vr*zt+Mr*Kt+Br*sr,nr[15]=zr*Rt+Vr*Gt+Mr*Qt+Br*ur,this._identityCalculated=!1,this}function yt(St){var $t=St.props;return this.transform($t[0],$t[1],$t[2],$t[3],$t[4],$t[5],$t[6],$t[7],$t[8],$t[9],$t[10],$t[11],$t[12],$t[13],$t[14],$t[15])}function ht(){return this._identityCalculated||(this._identity=!(this.props[0]!==1||this.props[1]!==0||this.props[2]!==0||this.props[3]!==0||this.props[4]!==0||this.props[5]!==1||this.props[6]!==0||this.props[7]!==0||this.props[8]!==0||this.props[9]!==0||this.props[10]!==1||this.props[11]!==0||this.props[12]!==0||this.props[13]!==0||this.props[14]!==0||this.props[15]!==1),this._identityCalculated=!0),this._identity}function pt(St){for(var $t=0;$t<16;){if(St.props[$t]!==this.props[$t])return!1;$t+=1}return!0}function ct(St){var $t;for($t=0;$t<16;$t+=1)St.props[$t]=this.props[$t];return St}function gt(St){var $t;for($t=0;$t<16;$t+=1)this.props[$t]=St[$t]}function Et(St,$t,Lt){return{x:St*this.props[0]+$t*this.props[4]+Lt*this.props[8]+this.props[12],y:St*this.props[1]+$t*this.props[5]+Lt*this.props[9]+this.props[13],z:St*this.props[2]+$t*this.props[6]+Lt*this.props[10]+this.props[14]}}function bt(St,$t,Lt){return St*this.props[0]+$t*this.props[4]+Lt*this.props[8]+this.props[12]}function xt(St,$t,Lt){return St*this.props[1]+$t*this.props[5]+Lt*this.props[9]+this.props[13]}function Tt(St,$t,Lt){return St*this.props[2]+$t*this.props[6]+Lt*this.props[10]+this.props[14]}function wt(){var St=this.props[0]*this.props[5]-this.props[1]*this.props[4],$t=this.props[5]/St,Lt=-this.props[1]/St,Rt=-this.props[4]/St,jt=this.props[0]/St,Ft=(this.props[4]*this.props[13]-this.props[5]*this.props[12])/St,zt=-(this.props[0]*this.props[13]-this.props[1]*this.props[12])/St,Gt=new Matrix;return Gt.props[0]=$t,Gt.props[1]=Lt,Gt.props[4]=Rt,Gt.props[5]=jt,Gt.props[12]=Ft,Gt.props[13]=zt,Gt}function It(St){var $t=this.getInverseMatrix();return $t.applyToPointArray(St[0],St[1],St[2]||0)}function At(St){var $t,Lt=St.length,Rt=[];for($t=0;$t<Lt;$t+=1)Rt[$t]=It(St[$t]);return Rt}function kt(St,$t,Lt){var Rt=createTypedArray("float32",6);if(this.isIdentity())Rt[0]=St[0],Rt[1]=St[1],Rt[2]=$t[0],Rt[3]=$t[1],Rt[4]=Lt[0],Rt[5]=Lt[1];else{var jt=this.props[0],Ft=this.props[1],zt=this.props[4],Gt=this.props[5],Bt=this.props[12],Wt=this.props[13];Rt[0]=St[0]*jt+St[1]*zt+Bt,Rt[1]=St[0]*Ft+St[1]*Gt+Wt,Rt[2]=$t[0]*jt+$t[1]*zt+Bt,Rt[3]=$t[0]*Ft+$t[1]*Gt+Wt,Rt[4]=Lt[0]*jt+Lt[1]*zt+Bt,Rt[5]=Lt[0]*Ft+Lt[1]*Gt+Wt}return Rt}function Vt(St,$t,Lt){var Rt;return this.isIdentity()?Rt=[St,$t,Lt]:Rt=[St*this.props[0]+$t*this.props[4]+Lt*this.props[8]+this.props[12],St*this.props[1]+$t*this.props[5]+Lt*this.props[9]+this.props[13],St*this.props[2]+$t*this.props[6]+Lt*this.props[10]+this.props[14]],Rt}function Mt(St,$t){if(this.isIdentity())return St+","+$t;var Lt=this.props;return Math.round((St*Lt[0]+$t*Lt[4]+Lt[12])*100)/100+","+Math.round((St*Lt[1]+$t*Lt[5]+Lt[13])*100)/100}function Ot(){for(var St=0,$t=this.props,Lt="matrix3d(",Rt=1e4;St<16;)Lt+=a($t[St]*Rt)/Rt,Lt+=St===15?")":",",St+=1;return Lt}function Dt(St){var $t=1e4;return St<1e-6&&St>0||St>-1e-6&&St<0?a(St*$t)/$t:St}function Ct(){var St=this.props,$t=Dt(St[0]),Lt=Dt(St[1]),Rt=Dt(St[4]),jt=Dt(St[5]),Ft=Dt(St[12]),zt=Dt(St[13]);return"matrix("+$t+","+Lt+","+Rt+","+jt+","+Ft+","+zt+")"}return function(){this.reset=et,this.rotate=tt,this.rotateX=rt,this.rotateY=nt,this.rotateZ=it,this.skew=st,this.skewFromAxis=lt,this.shear=ot,this.scale=at,this.setTransform=ut,this.translate=ft,this.transform=mt,this.multiply=yt,this.applyToPoint=Et,this.applyToX=bt,this.applyToY=xt,this.applyToZ=Tt,this.applyToPointArray=Vt,this.applyToTriplePoints=kt,this.applyToPointStringified=Mt,this.toCSS=Ot,this.to2dCSS=Ct,this.clone=ct,this.cloneFromProps=gt,this.equals=pt,this.inversePoints=At,this.inversePoint=It,this.getInverseMatrix=wt,this._t=this.transform,this.isIdentity=ht,this._identity=!0,this._identityCalculated=!1,this.props=createTypedArray("float32",16),this.reset()}}();function _typeof$3(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(s){return typeof s}:_typeof$3=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$3(o)}var lottie={};function setLocation(o){setLocationHref(o)}function searchAnimations(){animationManager.searchAnimations()}function setSubframeRendering(o){setSubframeEnabled(o)}function setPrefix(o){setIdPrefix(o)}function loadAnimation(o){return animationManager.loadAnimation(o)}function setQuality(o){if(typeof o=="string")switch(o){case"high":setDefaultCurveSegments(200);break;default:case"medium":setDefaultCurveSegments(50);break;case"low":setDefaultCurveSegments(10);break}else!isNaN(o)&&o>1&&setDefaultCurveSegments(o)}function inBrowser(){return typeof navigator<"u"}function installPlugin(o,i){o==="expressions"&&setExpressionsPlugin(i)}function getFactory(o){switch(o){case"propertyFactory":return PropertyFactory;case"shapePropertyFactory":return ShapePropertyFactory;case"matrix":return Matrix;default:return null}}lottie.play=animationManager.play,lottie.pause=animationManager.pause,lottie.setLocationHref=setLocation,lottie.togglePause=animationManager.togglePause,lottie.setSpeed=animationManager.setSpeed,lottie.setDirection=animationManager.setDirection,lottie.stop=animationManager.stop,lottie.searchAnimations=searchAnimations,lottie.registerAnimation=animationManager.registerAnimation,lottie.loadAnimation=loadAnimation,lottie.setSubframeRendering=setSubframeRendering,lottie.resize=animationManager.resize,lottie.goToAndStop=animationManager.goToAndStop,lottie.destroy=animationManager.destroy,lottie.setQuality=setQuality,lottie.inBrowser=inBrowser,lottie.installPlugin=installPlugin,lottie.freeze=animationManager.freeze,lottie.unfreeze=animationManager.unfreeze,lottie.setVolume=animationManager.setVolume,lottie.mute=animationManager.mute,lottie.unmute=animationManager.unmute,lottie.getRegisteredAnimations=animationManager.getRegisteredAnimations,lottie.useWebWorker=setWebWorker,lottie.setIDPrefix=setPrefix,lottie.__getFactory=getFactory,lottie.version="5.12.2";function checkReady(){document.readyState==="complete"&&(clearInterval(readyStateCheckInterval),searchAnimations())}function getQueryVariable(o){for(var i=queryString.split("&"),s=0;s<i.length;s+=1){var a=i[s].split("=");if(decodeURIComponent(a[0])==o)return decodeURIComponent(a[1])}return null}var queryString="";{var scripts=document.getElementsByTagName("script"),index=scripts.length-1,myScript=scripts[index]||{src:""};queryString=myScript.src?myScript.src.replace(/^[^\?]+\??/,""):"",getQueryVariable("renderer")}var readyStateCheckInterval=setInterval(checkReady,100);try{_typeof$3(exports)!=="object"&&(window.bodymovin=lottie)}catch(o){}var ShapeModifiers=function(){var o={},i={};o.registerModifier=s,o.getModifier=a;function s(et,tt){i[et]||(i[et]=tt)}function a(et,tt,rt){return new i[et](tt,rt)}return o}();function ShapeModifier(){}ShapeModifier.prototype.initModifierProperties=function(){},ShapeModifier.prototype.addShapeToModifier=function(){},ShapeModifier.prototype.addShape=function(o){if(!this.closed){o.sh.container.addDynamicProperty(o.sh);var i={shape:o.sh,data:o,localShapeCollection:shapeCollectionPool.newShapeCollection()};this.shapes.push(i),this.addShapeToModifier(i),this._isAnimated&&o.setAsAnimated()}},ShapeModifier.prototype.init=function(o,i){this.shapes=[],this.elem=o,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,i),this.frameId=initialDefaultFrame,this.closed=!1,this.k=!1,this.dynamicProperties.length?this.k=!0:this.getValue(!0)},ShapeModifier.prototype.processKeys=function(){this.elem.globalData.frameId!==this.frameId&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties())},extendPrototype([DynamicPropertyContainer],ShapeModifier);function TrimModifier(){}extendPrototype([ShapeModifier],TrimModifier),TrimModifier.prototype.initModifierProperties=function(o,i){this.s=PropertyFactory.getProp(o,i.s,0,.01,this),this.e=PropertyFactory.getProp(o,i.e,0,.01,this),this.o=PropertyFactory.getProp(o,i.o,0,0,this),this.sValue=0,this.eValue=0,this.getValue=this.processKeys,this.m=i.m,this._isAnimated=!!this.s.effectsSequence.length||!!this.e.effectsSequence.length||!!this.o.effectsSequence.length},TrimModifier.prototype.addShapeToModifier=function(o){o.pathsData=[]},TrimModifier.prototype.calculateShapeEdges=function(o,i,s,a,et){var tt=[];i<=1?tt.push({s:o,e:i}):o>=1?tt.push({s:o-1,e:i-1}):(tt.push({s:o,e:1}),tt.push({s:0,e:i-1}));var rt=[],nt,it=tt.length,ot;for(nt=0;nt<it;nt+=1)if(ot=tt[nt],!(ot.e*et<a||ot.s*et>a+s)){var st,lt;ot.s*et<=a?st=0:st=(ot.s*et-a)/s,ot.e*et>=a+s?lt=1:lt=(ot.e*et-a)/s,rt.push([st,lt])}return rt.length||rt.push([0,0]),rt},TrimModifier.prototype.releasePathsData=function(o){var i,s=o.length;for(i=0;i<s;i+=1)segmentsLengthPool.release(o[i]);return o.length=0,o},TrimModifier.prototype.processShapes=function(o){var i,s;if(this._mdf||o){var a=this.o.v%360/360;if(a<0&&(a+=1),this.s.v>1?i=1+a:this.s.v<0?i=0+a:i=this.s.v+a,this.e.v>1?s=1+a:this.e.v<0?s=0+a:s=this.e.v+a,i>s){var et=i;i=s,s=et}i=Math.round(i*1e4)*1e-4,s=Math.round(s*1e4)*1e-4,this.sValue=i,this.eValue=s}else i=this.sValue,s=this.eValue;var tt,rt,nt=this.shapes.length,it,ot,st,lt,at,ut=0;if(s===i)for(rt=0;rt<nt;rt+=1)this.shapes[rt].localShapeCollection.releaseShapes(),this.shapes[rt].shape._mdf=!0,this.shapes[rt].shape.paths=this.shapes[rt].localShapeCollection,this._mdf&&(this.shapes[rt].pathsData.length=0);else if(s===1&&i===0||s===0&&i===1){if(this._mdf)for(rt=0;rt<nt;rt+=1)this.shapes[rt].pathsData.length=0,this.shapes[rt].shape._mdf=!0}else{var ft=[],mt,yt;for(rt=0;rt<nt;rt+=1)if(mt=this.shapes[rt],!mt.shape._mdf&&!this._mdf&&!o&&this.m!==2)mt.shape.paths=mt.localShapeCollection;else{if(tt=mt.shape.paths,ot=tt._length,at=0,!mt.shape._mdf&&mt.pathsData.length)at=mt.totalShapeLength;else{for(st=this.releasePathsData(mt.pathsData),it=0;it<ot;it+=1)lt=bez.getSegmentsLength(tt.shapes[it]),st.push(lt),at+=lt.totalLength;mt.totalShapeLength=at,mt.pathsData=st}ut+=at,mt.shape._mdf=!0}var ht=i,pt=s,ct=0,gt;for(rt=nt-1;rt>=0;rt-=1)if(mt=this.shapes[rt],mt.shape._mdf){for(yt=mt.localShapeCollection,yt.releaseShapes(),this.m===2&&nt>1?(gt=this.calculateShapeEdges(i,s,mt.totalShapeLength,ct,ut),ct+=mt.totalShapeLength):gt=[[ht,pt]],ot=gt.length,it=0;it<ot;it+=1){ht=gt[it][0],pt=gt[it][1],ft.length=0,pt<=1?ft.push({s:mt.totalShapeLength*ht,e:mt.totalShapeLength*pt}):ht>=1?ft.push({s:mt.totalShapeLength*(ht-1),e:mt.totalShapeLength*(pt-1)}):(ft.push({s:mt.totalShapeLength*ht,e:mt.totalShapeLength}),ft.push({s:0,e:mt.totalShapeLength*(pt-1)}));var Et=this.addShapes(mt,ft[0]);if(ft[0].s!==ft[0].e){if(ft.length>1){var bt=mt.shape.paths.shapes[mt.shape.paths._length-1];if(bt.c){var xt=Et.pop();this.addPaths(Et,yt),Et=this.addShapes(mt,ft[1],xt)}else this.addPaths(Et,yt),Et=this.addShapes(mt,ft[1])}this.addPaths(Et,yt)}}mt.shape.paths=yt}}},TrimModifier.prototype.addPaths=function(o,i){var s,a=o.length;for(s=0;s<a;s+=1)i.addShape(o[s])},TrimModifier.prototype.addSegment=function(o,i,s,a,et,tt,rt){et.setXYAt(i[0],i[1],"o",tt),et.setXYAt(s[0],s[1],"i",tt+1),rt&&et.setXYAt(o[0],o[1],"v",tt),et.setXYAt(a[0],a[1],"v",tt+1)},TrimModifier.prototype.addSegmentFromArray=function(o,i,s,a){i.setXYAt(o[1],o[5],"o",s),i.setXYAt(o[2],o[6],"i",s+1),a&&i.setXYAt(o[0],o[4],"v",s),i.setXYAt(o[3],o[7],"v",s+1)},TrimModifier.prototype.addShapes=function(o,i,s){var a=o.pathsData,et=o.shape.paths.shapes,tt,rt=o.shape.paths._length,nt,it,ot=0,st,lt,at,ut,ft=[],mt,yt=!0;for(s?(lt=s._length,mt=s._length):(s=shapePool.newElement(),lt=0,mt=0),ft.push(s),tt=0;tt<rt;tt+=1){for(at=a[tt].lengths,s.c=et[tt].c,it=et[tt].c?at.length:at.length+1,nt=1;nt<it;nt+=1)if(st=at[nt-1],ot+st.addedLength<i.s)ot+=st.addedLength,s.c=!1;else if(ot>i.e){s.c=!1;break}else i.s<=ot&&i.e>=ot+st.addedLength?(this.addSegment(et[tt].v[nt-1],et[tt].o[nt-1],et[tt].i[nt],et[tt].v[nt],s,lt,yt),yt=!1):(ut=bez.getNewSegment(et[tt].v[nt-1],et[tt].v[nt],et[tt].o[nt-1],et[tt].i[nt],(i.s-ot)/st.addedLength,(i.e-ot)/st.addedLength,at[nt-1]),this.addSegmentFromArray(ut,s,lt,yt),yt=!1,s.c=!1),ot+=st.addedLength,lt+=1;if(et[tt].c&&at.length){if(st=at[nt-1],ot<=i.e){var ht=at[nt-1].addedLength;i.s<=ot&&i.e>=ot+ht?(this.addSegment(et[tt].v[nt-1],et[tt].o[nt-1],et[tt].i[0],et[tt].v[0],s,lt,yt),yt=!1):(ut=bez.getNewSegment(et[tt].v[nt-1],et[tt].v[0],et[tt].o[nt-1],et[tt].i[0],(i.s-ot)/ht,(i.e-ot)/ht,at[nt-1]),this.addSegmentFromArray(ut,s,lt,yt),yt=!1,s.c=!1)}else s.c=!1;ot+=st.addedLength,lt+=1}if(s._length&&(s.setXYAt(s.v[mt][0],s.v[mt][1],"i",mt),s.setXYAt(s.v[s._length-1][0],s.v[s._length-1][1],"o",s._length-1)),ot>i.e)break;tt<rt-1&&(s=shapePool.newElement(),yt=!0,ft.push(s),lt=0)}return ft};function PuckerAndBloatModifier(){}extendPrototype([ShapeModifier],PuckerAndBloatModifier),PuckerAndBloatModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(o,i.a,0,null,this),this._isAnimated=!!this.amount.effectsSequence.length},PuckerAndBloatModifier.prototype.processPath=function(o,i){var s=i/100,a=[0,0],et=o._length,tt=0;for(tt=0;tt<et;tt+=1)a[0]+=o.v[tt][0],a[1]+=o.v[tt][1];a[0]/=et,a[1]/=et;var rt=shapePool.newElement();rt.c=o.c;var nt,it,ot,st,lt,at;for(tt=0;tt<et;tt+=1)nt=o.v[tt][0]+(a[0]-o.v[tt][0])*s,it=o.v[tt][1]+(a[1]-o.v[tt][1])*s,ot=o.o[tt][0]+(a[0]-o.o[tt][0])*-s,st=o.o[tt][1]+(a[1]-o.o[tt][1])*-s,lt=o.i[tt][0]+(a[0]-o.i[tt][0])*-s,at=o.i[tt][1]+(a[1]-o.i[tt][1])*-s,rt.setTripleAt(nt,it,ot,st,lt,at,tt);return rt},PuckerAndBloatModifier.prototype.processShapes=function(o){var i,s,a=this.shapes.length,et,tt,rt=this.amount.v;if(rt!==0){var nt,it;for(s=0;s<a;s+=1){if(nt=this.shapes[s],it=nt.localShapeCollection,!(!nt.shape._mdf&&!this._mdf&&!o))for(it.releaseShapes(),nt.shape._mdf=!0,i=nt.shape.paths.shapes,tt=nt.shape.paths._length,et=0;et<tt;et+=1)it.addShape(this.processPath(i[et],rt));nt.shape.paths=nt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};var TransformPropertyFactory=function(){var o=[0,0];function i(it){var ot=this._mdf;this.iterateDynamicProperties(),this._mdf=this._mdf||ot,this.a&&it.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.s&&it.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&it.skewFromAxis(-this.sk.v,this.sa.v),this.r?it.rotate(-this.r.v):it.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.data.p.s?this.data.p.z?it.translate(this.px.v,this.py.v,-this.pz.v):it.translate(this.px.v,this.py.v,0):it.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}function s(it){if(this.elem.globalData.frameId!==this.frameId){if(this._isDirty&&(this.precalculateMatrix(),this._isDirty=!1),this.iterateDynamicProperties(),this._mdf||it){var ot;if(this.v.cloneFromProps(this.pre.props),this.appliedTransformations<1&&this.v.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations<2&&this.v.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.sk&&this.appliedTransformations<3&&this.v.skewFromAxis(-this.sk.v,this.sa.v),this.r&&this.appliedTransformations<4?this.v.rotate(-this.r.v):!this.r&&this.appliedTransformations<4&&this.v.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.autoOriented){var st,lt;if(ot=this.elem.globalData.frameRate,this.p&&this.p.keyframes&&this.p.getValueAtTime)this.p._caching.lastFrame+this.p.offsetTime<=this.p.keyframes[0].t?(st=this.p.getValueAtTime((this.p.keyframes[0].t+.01)/ot,0),lt=this.p.getValueAtTime(this.p.keyframes[0].t/ot,0)):this.p._caching.lastFrame+this.p.offsetTime>=this.p.keyframes[this.p.keyframes.length-1].t?(st=this.p.getValueAtTime(this.p.keyframes[this.p.keyframes.length-1].t/ot,0),lt=this.p.getValueAtTime((this.p.keyframes[this.p.keyframes.length-1].t-.05)/ot,0)):(st=this.p.pv,lt=this.p.getValueAtTime((this.p._caching.lastFrame+this.p.offsetTime-.01)/ot,this.p.offsetTime));else if(this.px&&this.px.keyframes&&this.py.keyframes&&this.px.getValueAtTime&&this.py.getValueAtTime){st=[],lt=[];var at=this.px,ut=this.py;at._caching.lastFrame+at.offsetTime<=at.keyframes[0].t?(st[0]=at.getValueAtTime((at.keyframes[0].t+.01)/ot,0),st[1]=ut.getValueAtTime((ut.keyframes[0].t+.01)/ot,0),lt[0]=at.getValueAtTime(at.keyframes[0].t/ot,0),lt[1]=ut.getValueAtTime(ut.keyframes[0].t/ot,0)):at._caching.lastFrame+at.offsetTime>=at.keyframes[at.keyframes.length-1].t?(st[0]=at.getValueAtTime(at.keyframes[at.keyframes.length-1].t/ot,0),st[1]=ut.getValueAtTime(ut.keyframes[ut.keyframes.length-1].t/ot,0),lt[0]=at.getValueAtTime((at.keyframes[at.keyframes.length-1].t-.01)/ot,0),lt[1]=ut.getValueAtTime((ut.keyframes[ut.keyframes.length-1].t-.01)/ot,0)):(st=[at.pv,ut.pv],lt[0]=at.getValueAtTime((at._caching.lastFrame+at.offsetTime-.01)/ot,at.offsetTime),lt[1]=ut.getValueAtTime((ut._caching.lastFrame+ut.offsetTime-.01)/ot,ut.offsetTime))}else lt=o,st=lt;this.v.rotate(-Math.atan2(st[1]-lt[1],st[0]-lt[0]))}this.data.p&&this.data.p.s?this.data.p.z?this.v.translate(this.px.v,this.py.v,-this.pz.v):this.v.translate(this.px.v,this.py.v,0):this.v.translate(this.p.v[0],this.p.v[1],-this.p.v[2])}this.frameId=this.elem.globalData.frameId}}function a(){if(this.appliedTransformations=0,this.pre.reset(),!this.a.effectsSequence.length)this.pre.translate(-this.a.v[0],-this.a.v[1],this.a.v[2]),this.appliedTransformations=1;else return;if(!this.s.effectsSequence.length)this.pre.scale(this.s.v[0],this.s.v[1],this.s.v[2]),this.appliedTransformations=2;else return;if(this.sk)if(!this.sk.effectsSequence.length&&!this.sa.effectsSequence.length)this.pre.skewFromAxis(-this.sk.v,this.sa.v),this.appliedTransformations=3;else return;this.r?this.r.effectsSequence.length||(this.pre.rotate(-this.r.v),this.appliedTransformations=4):!this.rz.effectsSequence.length&&!this.ry.effectsSequence.length&&!this.rx.effectsSequence.length&&!this.or.effectsSequence.length&&(this.pre.rotateZ(-this.rz.v).rotateY(this.ry.v).rotateX(this.rx.v).rotateZ(-this.or.v[2]).rotateY(this.or.v[1]).rotateX(this.or.v[0]),this.appliedTransformations=4)}function et(){}function tt(it){this._addDynamicProperty(it),this.elem.addDynamicProperty(it),this._isDirty=!0}function rt(it,ot,st){if(this.elem=it,this.frameId=-1,this.propType="transform",this.data=ot,this.v=new Matrix,this.pre=new Matrix,this.appliedTransformations=0,this.initDynamicPropertyContainer(st||it),ot.p&&ot.p.s?(this.px=PropertyFactory.getProp(it,ot.p.x,0,0,this),this.py=PropertyFactory.getProp(it,ot.p.y,0,0,this),ot.p.z&&(this.pz=PropertyFactory.getProp(it,ot.p.z,0,0,this))):this.p=PropertyFactory.getProp(it,ot.p||{k:[0,0,0]},1,0,this),ot.rx){if(this.rx=PropertyFactory.getProp(it,ot.rx,0,degToRads,this),this.ry=PropertyFactory.getProp(it,ot.ry,0,degToRads,this),this.rz=PropertyFactory.getProp(it,ot.rz,0,degToRads,this),ot.or.k[0].ti){var lt,at=ot.or.k.length;for(lt=0;lt<at;lt+=1)ot.or.k[lt].to=null,ot.or.k[lt].ti=null}this.or=PropertyFactory.getProp(it,ot.or,1,degToRads,this),this.or.sh=!0}else this.r=PropertyFactory.getProp(it,ot.r||{k:0},0,degToRads,this);ot.sk&&(this.sk=PropertyFactory.getProp(it,ot.sk,0,degToRads,this),this.sa=PropertyFactory.getProp(it,ot.sa,0,degToRads,this)),this.a=PropertyFactory.getProp(it,ot.a||{k:[0,0,0]},1,0,this),this.s=PropertyFactory.getProp(it,ot.s||{k:[100,100,100]},1,.01,this),ot.o?this.o=PropertyFactory.getProp(it,ot.o,0,.01,it):this.o={_mdf:!1,v:1},this._isDirty=!0,this.dynamicProperties.length||this.getValue(!0)}rt.prototype={applyToMatrix:i,getValue:s,precalculateMatrix:a,autoOrient:et},extendPrototype([DynamicPropertyContainer],rt),rt.prototype.addDynamicProperty=tt,rt.prototype._addDynamicProperty=DynamicPropertyContainer.prototype.addDynamicProperty;function nt(it,ot,st){return new rt(it,ot,st)}return{getTransformProperty:nt}}();function RepeaterModifier(){}extendPrototype([ShapeModifier],RepeaterModifier),RepeaterModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.c=PropertyFactory.getProp(o,i.c,0,null,this),this.o=PropertyFactory.getProp(o,i.o,0,null,this),this.tr=TransformPropertyFactory.getTransformProperty(o,i.tr,this),this.so=PropertyFactory.getProp(o,i.tr.so,0,.01,this),this.eo=PropertyFactory.getProp(o,i.tr.eo,0,.01,this),this.data=i,this.dynamicProperties.length||this.getValue(!0),this._isAnimated=!!this.dynamicProperties.length,this.pMatrix=new Matrix,this.rMatrix=new Matrix,this.sMatrix=new Matrix,this.tMatrix=new Matrix,this.matrix=new Matrix},RepeaterModifier.prototype.applyTransforms=function(o,i,s,a,et,tt){var rt=tt?-1:1,nt=a.s.v[0]+(1-a.s.v[0])*(1-et),it=a.s.v[1]+(1-a.s.v[1])*(1-et);o.translate(a.p.v[0]*rt*et,a.p.v[1]*rt*et,a.p.v[2]),i.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),i.rotate(-a.r.v*rt*et),i.translate(a.a.v[0],a.a.v[1],a.a.v[2]),s.translate(-a.a.v[0],-a.a.v[1],a.a.v[2]),s.scale(tt?1/nt:nt,tt?1/it:it),s.translate(a.a.v[0],a.a.v[1],a.a.v[2])},RepeaterModifier.prototype.init=function(o,i,s,a){for(this.elem=o,this.arr=i,this.pos=s,this.elemsData=a,this._currentCopies=0,this._elements=[],this._groups=[],this.frameId=-1,this.initDynamicPropertyContainer(o),this.initModifierProperties(o,i[s]);s>0;)s-=1,this._elements.unshift(i[s]);this.dynamicProperties.length?this.k=!0:this.getValue(!0)},RepeaterModifier.prototype.resetElements=function(o){var i,s=o.length;for(i=0;i<s;i+=1)o[i]._processed=!1,o[i].ty==="gr"&&this.resetElements(o[i].it)},RepeaterModifier.prototype.cloneElements=function(o){var i=JSON.parse(JSON.stringify(o));return this.resetElements(i),i},RepeaterModifier.prototype.changeGroupRender=function(o,i){var s,a=o.length;for(s=0;s<a;s+=1)o[s]._render=i,o[s].ty==="gr"&&this.changeGroupRender(o[s].it,i)},RepeaterModifier.prototype.processShapes=function(o){var i,s,a,et,tt,rt=!1;if(this._mdf||o){var nt=Math.ceil(this.c.v);if(this._groups.length<nt){for(;this._groups.length<nt;){var it={it:this.cloneElements(this._elements),ty:"gr"};it.it.push({a:{a:0,ix:1,k:[0,0]},nm:"Transform",o:{a:0,ix:7,k:100},p:{a:0,ix:2,k:[0,0]},r:{a:1,ix:6,k:[{s:0,e:0,t:0},{s:0,e:0,t:1}]},s:{a:0,ix:3,k:[100,100]},sa:{a:0,ix:5,k:0},sk:{a:0,ix:4,k:0},ty:"tr"}),this.arr.splice(0,0,it),this._groups.splice(0,0,it),this._currentCopies+=1}this.elem.reloadShapes(),rt=!0}tt=0;var ot;for(a=0;a<=this._groups.length-1;a+=1){if(ot=tt<nt,this._groups[a]._render=ot,this.changeGroupRender(this._groups[a].it,ot),!ot){var st=this.elemsData[a].it,lt=st[st.length-1];lt.transform.op.v!==0?(lt.transform.op._mdf=!0,lt.transform.op.v=0):lt.transform.op._mdf=!1}tt+=1}this._currentCopies=nt;var at=this.o.v,ut=at%1,ft=at>0?Math.floor(at):Math.ceil(at),mt=this.pMatrix.props,yt=this.rMatrix.props,ht=this.sMatrix.props;this.pMatrix.reset(),this.rMatrix.reset(),this.sMatrix.reset(),this.tMatrix.reset(),this.matrix.reset();var pt=0;if(at>0){for(;pt<ft;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),pt+=1;ut&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,ut,!1),pt+=ut)}else if(at<0){for(;pt>ft;)this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!0),pt-=1;ut&&(this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,-ut,!0),pt-=ut)}a=this.data.m===1?0:this._currentCopies-1,et=this.data.m===1?1:-1,tt=this._currentCopies;for(var ct,gt;tt;){if(i=this.elemsData[a].it,s=i[i.length-1].transform.mProps.v.props,gt=s.length,i[i.length-1].transform.mProps._mdf=!0,i[i.length-1].transform.op._mdf=!0,i[i.length-1].transform.op.v=this._currentCopies===1?this.so.v:this.so.v+(this.eo.v-this.so.v)*(a/(this._currentCopies-1)),pt!==0){for((a!==0&&et===1||a!==this._currentCopies-1&&et===-1)&&this.applyTransforms(this.pMatrix,this.rMatrix,this.sMatrix,this.tr,1,!1),this.matrix.transform(yt[0],yt[1],yt[2],yt[3],yt[4],yt[5],yt[6],yt[7],yt[8],yt[9],yt[10],yt[11],yt[12],yt[13],yt[14],yt[15]),this.matrix.transform(ht[0],ht[1],ht[2],ht[3],ht[4],ht[5],ht[6],ht[7],ht[8],ht[9],ht[10],ht[11],ht[12],ht[13],ht[14],ht[15]),this.matrix.transform(mt[0],mt[1],mt[2],mt[3],mt[4],mt[5],mt[6],mt[7],mt[8],mt[9],mt[10],mt[11],mt[12],mt[13],mt[14],mt[15]),ct=0;ct<gt;ct+=1)s[ct]=this.matrix.props[ct];this.matrix.reset()}else for(this.matrix.reset(),ct=0;ct<gt;ct+=1)s[ct]=this.matrix.props[ct];pt+=1,tt-=1,a+=et}}else for(tt=this._currentCopies,a=0,et=1;tt;)i=this.elemsData[a].it,s=i[i.length-1].transform.mProps.v.props,i[i.length-1].transform.mProps._mdf=!1,i[i.length-1].transform.op._mdf=!1,tt-=1,a+=et;return rt},RepeaterModifier.prototype.addShape=function(){};function RoundCornersModifier(){}extendPrototype([ShapeModifier],RoundCornersModifier),RoundCornersModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.rd=PropertyFactory.getProp(o,i.r,0,null,this),this._isAnimated=!!this.rd.effectsSequence.length},RoundCornersModifier.prototype.processPath=function(o,i){var s=shapePool.newElement();s.c=o.c;var a,et=o._length,tt,rt,nt,it,ot,st,lt=0,at,ut,ft,mt,yt,ht;for(a=0;a<et;a+=1)tt=o.v[a],nt=o.o[a],rt=o.i[a],tt[0]===nt[0]&&tt[1]===nt[1]&&tt[0]===rt[0]&&tt[1]===rt[1]?(a===0||a===et-1)&&!o.c?(s.setTripleAt(tt[0],tt[1],nt[0],nt[1],rt[0],rt[1],lt),lt+=1):(a===0?it=o.v[et-1]:it=o.v[a-1],ot=Math.sqrt(Math.pow(tt[0]-it[0],2)+Math.pow(tt[1]-it[1],2)),st=ot?Math.min(ot/2,i)/ot:0,yt=tt[0]+(it[0]-tt[0])*st,at=yt,ht=tt[1]-(tt[1]-it[1])*st,ut=ht,ft=at-(at-tt[0])*roundCorner,mt=ut-(ut-tt[1])*roundCorner,s.setTripleAt(at,ut,ft,mt,yt,ht,lt),lt+=1,a===et-1?it=o.v[0]:it=o.v[a+1],ot=Math.sqrt(Math.pow(tt[0]-it[0],2)+Math.pow(tt[1]-it[1],2)),st=ot?Math.min(ot/2,i)/ot:0,ft=tt[0]+(it[0]-tt[0])*st,at=ft,mt=tt[1]+(it[1]-tt[1])*st,ut=mt,yt=at-(at-tt[0])*roundCorner,ht=ut-(ut-tt[1])*roundCorner,s.setTripleAt(at,ut,ft,mt,yt,ht,lt),lt+=1):(s.setTripleAt(o.v[a][0],o.v[a][1],o.o[a][0],o.o[a][1],o.i[a][0],o.i[a][1],lt),lt+=1);return s},RoundCornersModifier.prototype.processShapes=function(o){var i,s,a=this.shapes.length,et,tt,rt=this.rd.v;if(rt!==0){var nt,it;for(s=0;s<a;s+=1){if(nt=this.shapes[s],it=nt.localShapeCollection,!(!nt.shape._mdf&&!this._mdf&&!o))for(it.releaseShapes(),nt.shape._mdf=!0,i=nt.shape.paths.shapes,tt=nt.shape.paths._length,et=0;et<tt;et+=1)it.addShape(this.processPath(i[et],rt));nt.shape.paths=nt.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function floatEqual(o,i){return Math.abs(o-i)*1e5<=Math.min(Math.abs(o),Math.abs(i))}function floatZero(o){return Math.abs(o)<=1e-5}function lerp(o,i,s){return o*(1-s)+i*s}function lerpPoint(o,i,s){return[lerp(o[0],i[0],s),lerp(o[1],i[1],s)]}function quadRoots(o,i,s){if(o===0)return[];var a=i*i-4*o*s;if(a<0)return[];var et=-i/(2*o);if(a===0)return[et];var tt=Math.sqrt(a)/(2*o);return[et-tt,et+tt]}function polynomialCoefficients(o,i,s,a){return[-o+3*i-3*s+a,3*o-6*i+3*s,-3*o+3*i,o]}function singlePoint(o){return new PolynomialBezier(o,o,o,o,!1)}function PolynomialBezier(o,i,s,a,et){et&&pointEqual(o,i)&&(i=lerpPoint(o,a,1/3)),et&&pointEqual(s,a)&&(s=lerpPoint(o,a,2/3));var tt=polynomialCoefficients(o[0],i[0],s[0],a[0]),rt=polynomialCoefficients(o[1],i[1],s[1],a[1]);this.a=[tt[0],rt[0]],this.b=[tt[1],rt[1]],this.c=[tt[2],rt[2]],this.d=[tt[3],rt[3]],this.points=[o,i,s,a]}PolynomialBezier.prototype.point=function(o){return[((this.a[0]*o+this.b[0])*o+this.c[0])*o+this.d[0],((this.a[1]*o+this.b[1])*o+this.c[1])*o+this.d[1]]},PolynomialBezier.prototype.derivative=function(o){return[(3*o*this.a[0]+2*this.b[0])*o+this.c[0],(3*o*this.a[1]+2*this.b[1])*o+this.c[1]]},PolynomialBezier.prototype.tangentAngle=function(o){var i=this.derivative(o);return Math.atan2(i[1],i[0])},PolynomialBezier.prototype.normalAngle=function(o){var i=this.derivative(o);return Math.atan2(i[0],i[1])},PolynomialBezier.prototype.inflectionPoints=function(){var o=this.a[1]*this.b[0]-this.a[0]*this.b[1];if(floatZero(o))return[];var i=-.5*(this.a[1]*this.c[0]-this.a[0]*this.c[1])/o,s=i*i-1/3*(this.b[1]*this.c[0]-this.b[0]*this.c[1])/o;if(s<0)return[];var a=Math.sqrt(s);return floatZero(a)?a>0&&a<1?[i]:[]:[i-a,i+a].filter(function(et){return et>0&&et<1})},PolynomialBezier.prototype.split=function(o){if(o<=0)return[singlePoint(this.points[0]),this];if(o>=1)return[this,singlePoint(this.points[this.points.length-1])];var i=lerpPoint(this.points[0],this.points[1],o),s=lerpPoint(this.points[1],this.points[2],o),a=lerpPoint(this.points[2],this.points[3],o),et=lerpPoint(i,s,o),tt=lerpPoint(s,a,o),rt=lerpPoint(et,tt,o);return[new PolynomialBezier(this.points[0],i,et,rt,!0),new PolynomialBezier(rt,tt,a,this.points[3],!0)]};function extrema(o,i){var s=o.points[0][i],a=o.points[o.points.length-1][i];if(s>a){var et=a;a=s,s=et}for(var tt=quadRoots(3*o.a[i],2*o.b[i],o.c[i]),rt=0;rt<tt.length;rt+=1)if(tt[rt]>0&&tt[rt]<1){var nt=o.point(tt[rt])[i];nt<s?s=nt:nt>a&&(a=nt)}return{min:s,max:a}}PolynomialBezier.prototype.bounds=function(){return{x:extrema(this,0),y:extrema(this,1)}},PolynomialBezier.prototype.boundingBox=function(){var o=this.bounds();return{left:o.x.min,right:o.x.max,top:o.y.min,bottom:o.y.max,width:o.x.max-o.x.min,height:o.y.max-o.y.min,cx:(o.x.max+o.x.min)/2,cy:(o.y.max+o.y.min)/2}};function intersectData(o,i,s){var a=o.boundingBox();return{cx:a.cx,cy:a.cy,width:a.width,height:a.height,bez:o,t:(i+s)/2,t1:i,t2:s}}function splitData(o){var i=o.bez.split(.5);return[intersectData(i[0],o.t1,o.t),intersectData(i[1],o.t,o.t2)]}function boxIntersect(o,i){return Math.abs(o.cx-i.cx)*2<o.width+i.width&&Math.abs(o.cy-i.cy)*2<o.height+i.height}function intersectsImpl(o,i,s,a,et,tt){if(boxIntersect(o,i)){if(s>=tt||o.width<=a&&o.height<=a&&i.width<=a&&i.height<=a){et.push([o.t,i.t]);return}var rt=splitData(o),nt=splitData(i);intersectsImpl(rt[0],nt[0],s+1,a,et,tt),intersectsImpl(rt[0],nt[1],s+1,a,et,tt),intersectsImpl(rt[1],nt[0],s+1,a,et,tt),intersectsImpl(rt[1],nt[1],s+1,a,et,tt)}}PolynomialBezier.prototype.intersections=function(o,i,s){i===void 0&&(i=2),s===void 0&&(s=7);var a=[];return intersectsImpl(intersectData(this,0,1),intersectData(o,0,1),0,i,a,s),a},PolynomialBezier.shapeSegment=function(o,i){var s=(i+1)%o.length();return new PolynomialBezier(o.v[i],o.o[i],o.i[s],o.v[s],!0)},PolynomialBezier.shapeSegmentInverted=function(o,i){var s=(i+1)%o.length();return new PolynomialBezier(o.v[s],o.i[s],o.o[i],o.v[i],!0)};function crossProduct(o,i){return[o[1]*i[2]-o[2]*i[1],o[2]*i[0]-o[0]*i[2],o[0]*i[1]-o[1]*i[0]]}function lineIntersection(o,i,s,a){var et=[o[0],o[1],1],tt=[i[0],i[1],1],rt=[s[0],s[1],1],nt=[a[0],a[1],1],it=crossProduct(crossProduct(et,tt),crossProduct(rt,nt));return floatZero(it[2])?null:[it[0]/it[2],it[1]/it[2]]}function polarOffset(o,i,s){return[o[0]+Math.cos(i)*s,o[1]-Math.sin(i)*s]}function pointDistance(o,i){return Math.hypot(o[0]-i[0],o[1]-i[1])}function pointEqual(o,i){return floatEqual(o[0],i[0])&&floatEqual(o[1],i[1])}function ZigZagModifier(){}extendPrototype([ShapeModifier],ZigZagModifier),ZigZagModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.amplitude=PropertyFactory.getProp(o,i.s,0,null,this),this.frequency=PropertyFactory.getProp(o,i.r,0,null,this),this.pointsType=PropertyFactory.getProp(o,i.pt,0,null,this),this._isAnimated=this.amplitude.effectsSequence.length!==0||this.frequency.effectsSequence.length!==0||this.pointsType.effectsSequence.length!==0};function setPoint(o,i,s,a,et,tt,rt){var nt=s-Math.PI/2,it=s+Math.PI/2,ot=i[0]+Math.cos(s)*a*et,st=i[1]-Math.sin(s)*a*et;o.setTripleAt(ot,st,ot+Math.cos(nt)*tt,st-Math.sin(nt)*tt,ot+Math.cos(it)*rt,st-Math.sin(it)*rt,o.length())}function getPerpendicularVector(o,i){var s=[i[0]-o[0],i[1]-o[1]],a=-Math.PI*.5,et=[Math.cos(a)*s[0]-Math.sin(a)*s[1],Math.sin(a)*s[0]+Math.cos(a)*s[1]];return et}function getProjectingAngle(o,i){var s=i===0?o.length()-1:i-1,a=(i+1)%o.length(),et=o.v[s],tt=o.v[a],rt=getPerpendicularVector(et,tt);return Math.atan2(0,1)-Math.atan2(rt[1],rt[0])}function zigZagCorner(o,i,s,a,et,tt,rt){var nt=getProjectingAngle(i,s),it=i.v[s%i._length],ot=i.v[s===0?i._length-1:s-1],st=i.v[(s+1)%i._length],lt=tt===2?Math.sqrt(Math.pow(it[0]-ot[0],2)+Math.pow(it[1]-ot[1],2)):0,at=tt===2?Math.sqrt(Math.pow(it[0]-st[0],2)+Math.pow(it[1]-st[1],2)):0;setPoint(o,i.v[s%i._length],nt,rt,a,at/((et+1)*2),lt/((et+1)*2))}function zigZagSegment(o,i,s,a,et,tt){for(var rt=0;rt<a;rt+=1){var nt=(rt+1)/(a+1),it=et===2?Math.sqrt(Math.pow(i.points[3][0]-i.points[0][0],2)+Math.pow(i.points[3][1]-i.points[0][1],2)):0,ot=i.normalAngle(nt),st=i.point(nt);setPoint(o,st,ot,tt,s,it/((a+1)*2),it/((a+1)*2)),tt=-tt}return tt}ZigZagModifier.prototype.processPath=function(o,i,s,a){var et=o._length,tt=shapePool.newElement();if(tt.c=o.c,o.c||(et-=1),et===0)return tt;var rt=-1,nt=PolynomialBezier.shapeSegment(o,0);zigZagCorner(tt,o,0,i,s,a,rt);for(var it=0;it<et;it+=1)rt=zigZagSegment(tt,nt,i,s,a,-rt),it===et-1&&!o.c?nt=null:nt=PolynomialBezier.shapeSegment(o,(it+1)%et),zigZagCorner(tt,o,it+1,i,s,a,rt);return tt},ZigZagModifier.prototype.processShapes=function(o){var i,s,a=this.shapes.length,et,tt,rt=this.amplitude.v,nt=Math.max(0,Math.round(this.frequency.v)),it=this.pointsType.v;if(rt!==0){var ot,st;for(s=0;s<a;s+=1){if(ot=this.shapes[s],st=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!o))for(st.releaseShapes(),ot.shape._mdf=!0,i=ot.shape.paths.shapes,tt=ot.shape.paths._length,et=0;et<tt;et+=1)st.addShape(this.processPath(i[et],rt,nt,it));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function linearOffset(o,i,s){var a=Math.atan2(i[0]-o[0],i[1]-o[1]);return[polarOffset(o,a,s),polarOffset(i,a,s)]}function offsetSegment(o,i){var s,a,et,tt,rt,nt,it;it=linearOffset(o.points[0],o.points[1],i),s=it[0],a=it[1],it=linearOffset(o.points[1],o.points[2],i),et=it[0],tt=it[1],it=linearOffset(o.points[2],o.points[3],i),rt=it[0],nt=it[1];var ot=lineIntersection(s,a,et,tt);ot===null&&(ot=a);var st=lineIntersection(rt,nt,et,tt);return st===null&&(st=rt),new PolynomialBezier(s,ot,st,nt)}function joinLines(o,i,s,a,et){var tt=i.points[3],rt=s.points[0];if(a===3||pointEqual(tt,rt))return tt;if(a===2){var nt=-i.tangentAngle(1),it=-s.tangentAngle(0)+Math.PI,ot=lineIntersection(tt,polarOffset(tt,nt+Math.PI/2,100),rt,polarOffset(rt,nt+Math.PI/2,100)),st=ot?pointDistance(ot,tt):pointDistance(tt,rt)/2,lt=polarOffset(tt,nt,2*st*roundCorner);return o.setXYAt(lt[0],lt[1],"o",o.length()-1),lt=polarOffset(rt,it,2*st*roundCorner),o.setTripleAt(rt[0],rt[1],rt[0],rt[1],lt[0],lt[1],o.length()),rt}var at=pointEqual(tt,i.points[2])?i.points[0]:i.points[2],ut=pointEqual(rt,s.points[1])?s.points[3]:s.points[1],ft=lineIntersection(at,tt,rt,ut);return ft&&pointDistance(ft,tt)<et?(o.setTripleAt(ft[0],ft[1],ft[0],ft[1],ft[0],ft[1],o.length()),ft):tt}function getIntersection(o,i){var s=o.intersections(i);return s.length&&floatEqual(s[0][0],1)&&s.shift(),s.length?s[0]:null}function pruneSegmentIntersection(o,i){var s=o.slice(),a=i.slice(),et=getIntersection(o[o.length-1],i[0]);return et&&(s[o.length-1]=o[o.length-1].split(et[0])[0],a[0]=i[0].split(et[1])[1]),o.length>1&&i.length>1&&(et=getIntersection(o[0],i[i.length-1]),et)?[[o[0].split(et[0])[0]],[i[i.length-1].split(et[1])[1]]]:[s,a]}function pruneIntersections(o){for(var i,s=1;s<o.length;s+=1)i=pruneSegmentIntersection(o[s-1],o[s]),o[s-1]=i[0],o[s]=i[1];return o.length>1&&(i=pruneSegmentIntersection(o[o.length-1],o[0]),o[o.length-1]=i[0],o[0]=i[1]),o}function offsetSegmentSplit(o,i){var s=o.inflectionPoints(),a,et,tt,rt;if(s.length===0)return[offsetSegment(o,i)];if(s.length===1||floatEqual(s[1],1))return tt=o.split(s[0]),a=tt[0],et=tt[1],[offsetSegment(a,i),offsetSegment(et,i)];tt=o.split(s[0]),a=tt[0];var nt=(s[1]-s[0])/(1-s[0]);return tt=tt[1].split(nt),rt=tt[0],et=tt[1],[offsetSegment(a,i),offsetSegment(rt,i),offsetSegment(et,i)]}function OffsetPathModifier(){}extendPrototype([ShapeModifier],OffsetPathModifier),OffsetPathModifier.prototype.initModifierProperties=function(o,i){this.getValue=this.processKeys,this.amount=PropertyFactory.getProp(o,i.a,0,null,this),this.miterLimit=PropertyFactory.getProp(o,i.ml,0,null,this),this.lineJoin=i.lj,this._isAnimated=this.amount.effectsSequence.length!==0},OffsetPathModifier.prototype.processPath=function(o,i,s,a){var et=shapePool.newElement();et.c=o.c;var tt=o.length();o.c||(tt-=1);var rt,nt,it,ot=[];for(rt=0;rt<tt;rt+=1)it=PolynomialBezier.shapeSegment(o,rt),ot.push(offsetSegmentSplit(it,i));if(!o.c)for(rt=tt-1;rt>=0;rt-=1)it=PolynomialBezier.shapeSegmentInverted(o,rt),ot.push(offsetSegmentSplit(it,i));ot=pruneIntersections(ot);var st=null,lt=null;for(rt=0;rt<ot.length;rt+=1){var at=ot[rt];for(lt&&(st=joinLines(et,lt,at[0],s,a)),lt=at[at.length-1],nt=0;nt<at.length;nt+=1)it=at[nt],st&&pointEqual(it.points[0],st)?et.setXYAt(it.points[1][0],it.points[1][1],"o",et.length()-1):et.setTripleAt(it.points[0][0],it.points[0][1],it.points[1][0],it.points[1][1],it.points[0][0],it.points[0][1],et.length()),et.setTripleAt(it.points[3][0],it.points[3][1],it.points[3][0],it.points[3][1],it.points[2][0],it.points[2][1],et.length()),st=it.points[3]}return ot.length&&joinLines(et,lt,ot[0][0],s,a),et},OffsetPathModifier.prototype.processShapes=function(o){var i,s,a=this.shapes.length,et,tt,rt=this.amount.v,nt=this.miterLimit.v,it=this.lineJoin;if(rt!==0){var ot,st;for(s=0;s<a;s+=1){if(ot=this.shapes[s],st=ot.localShapeCollection,!(!ot.shape._mdf&&!this._mdf&&!o))for(st.releaseShapes(),ot.shape._mdf=!0,i=ot.shape.paths.shapes,tt=ot.shape.paths._length,et=0;et<tt;et+=1)st.addShape(this.processPath(i[et],rt,it,nt));ot.shape.paths=ot.localShapeCollection}}this.dynamicProperties.length||(this._mdf=!1)};function getFontProperties(o){for(var i=o.fStyle?o.fStyle.split(" "):[],s="normal",a="normal",et=i.length,tt,rt=0;rt<et;rt+=1)switch(tt=i[rt].toLowerCase(),tt){case"italic":a="italic";break;case"bold":s="700";break;case"black":s="900";break;case"medium":s="500";break;case"regular":case"normal":s="400";break;case"light":case"thin":s="200";break}return{style:a,weight:o.fWeight||s}}var FontManager=function(){var o=5e3,i={w:0,size:0,shapes:[],data:{shapes:[]}},s=[];s=s.concat([2304,2305,2306,2307,2362,2363,2364,2364,2366,2367,2368,2369,2370,2371,2372,2373,2374,2375,2376,2377,2378,2379,2380,2381,2382,2383,2387,2388,2389,2390,2391,2402,2403]);var a=127988,et=917631,tt=917601,rt=917626,nt=65039,it=8205,ot=127462,st=127487,lt=["d83cdffb","d83cdffc","d83cdffd","d83cdffe","d83cdfff"];function at(Dt){var Ct=Dt.split(","),St,$t=Ct.length,Lt=[];for(St=0;St<$t;St+=1)Ct[St]!=="sans-serif"&&Ct[St]!=="monospace"&&Lt.push(Ct[St]);return Lt.join(",")}function ut(Dt,Ct){var St=createTag("span");St.setAttribute("aria-hidden",!0),St.style.fontFamily=Ct;var $t=createTag("span");$t.innerText="giItT1WQy@!-/#",St.style.position="absolute",St.style.left="-10000px",St.style.top="-10000px",St.style.fontSize="300px",St.style.fontVariant="normal",St.style.fontStyle="normal",St.style.fontWeight="normal",St.style.letterSpacing="0",St.appendChild($t),document.body.appendChild(St);var Lt=$t.offsetWidth;return $t.style.fontFamily=at(Dt)+", "+Ct,{node:$t,w:Lt,parent:St}}function ft(){var Dt,Ct=this.fonts.length,St,$t,Lt=Ct;for(Dt=0;Dt<Ct;Dt+=1)this.fonts[Dt].loaded?Lt-=1:this.fonts[Dt].fOrigin==="n"||this.fonts[Dt].origin===0?this.fonts[Dt].loaded=!0:(St=this.fonts[Dt].monoCase.node,$t=this.fonts[Dt].monoCase.w,St.offsetWidth!==$t?(Lt-=1,this.fonts[Dt].loaded=!0):(St=this.fonts[Dt].sansCase.node,$t=this.fonts[Dt].sansCase.w,St.offsetWidth!==$t&&(Lt-=1,this.fonts[Dt].loaded=!0)),this.fonts[Dt].loaded&&(this.fonts[Dt].sansCase.parent.parentNode.removeChild(this.fonts[Dt].sansCase.parent),this.fonts[Dt].monoCase.parent.parentNode.removeChild(this.fonts[Dt].monoCase.parent)));Lt!==0&&Date.now()-this.initTime<o?setTimeout(this.checkLoadedFontsBinded,20):setTimeout(this.setIsLoadedBinded,10)}function mt(Dt,Ct){var St=document.body&&Ct?"svg":"canvas",$t,Lt=getFontProperties(Dt);if(St==="svg"){var Rt=createNS("text");Rt.style.fontSize="100px",Rt.setAttribute("font-family",Dt.fFamily),Rt.setAttribute("font-style",Lt.style),Rt.setAttribute("font-weight",Lt.weight),Rt.textContent="1",Dt.fClass?(Rt.style.fontFamily="inherit",Rt.setAttribute("class",Dt.fClass)):Rt.style.fontFamily=Dt.fFamily,Ct.appendChild(Rt),$t=Rt}else{var jt=new OffscreenCanvas(500,500).getContext("2d");jt.font=Lt.style+" "+Lt.weight+" 100px "+Dt.fFamily,$t=jt}function Ft(zt){return St==="svg"?($t.textContent=zt,$t.getComputedTextLength()):$t.measureText(zt).width}return{measureText:Ft}}function yt(Dt,Ct){if(!Dt){this.isLoaded=!0;return}if(this.chars){this.isLoaded=!0,this.fonts=Dt.list;return}if(!document.body){this.isLoaded=!0,Dt.list.forEach(function(Kt){Kt.helper=mt(Kt),Kt.cache={}}),this.fonts=Dt.list;return}var St=Dt.list,$t,Lt=St.length,Rt=Lt;for($t=0;$t<Lt;$t+=1){var jt=!0,Ft,zt;if(St[$t].loaded=!1,St[$t].monoCase=ut(St[$t].fFamily,"monospace"),St[$t].sansCase=ut(St[$t].fFamily,"sans-serif"),!St[$t].fPath)St[$t].loaded=!0,Rt-=1;else if(St[$t].fOrigin==="p"||St[$t].origin===3){if(Ft=document.querySelectorAll('style[f-forigin="p"][f-family="'+St[$t].fFamily+'"], style[f-origin="3"][f-family="'+St[$t].fFamily+'"]'),Ft.length>0&&(jt=!1),jt){var Gt=createTag("style");Gt.setAttribute("f-forigin",St[$t].fOrigin),Gt.setAttribute("f-origin",St[$t].origin),Gt.setAttribute("f-family",St[$t].fFamily),Gt.type="text/css",Gt.innerText="@font-face {font-family: "+St[$t].fFamily+"; font-style: normal; src: url('"+St[$t].fPath+"');}",Ct.appendChild(Gt)}}else if(St[$t].fOrigin==="g"||St[$t].origin===1){for(Ft=document.querySelectorAll('link[f-forigin="g"], link[f-origin="1"]'),zt=0;zt<Ft.length;zt+=1)Ft[zt].href.indexOf(St[$t].fPath)!==-1&&(jt=!1);if(jt){var Bt=createTag("link");Bt.setAttribute("f-forigin",St[$t].fOrigin),Bt.setAttribute("f-origin",St[$t].origin),Bt.type="text/css",Bt.rel="stylesheet",Bt.href=St[$t].fPath,document.body.appendChild(Bt)}}else if(St[$t].fOrigin==="t"||St[$t].origin===2){for(Ft=document.querySelectorAll('script[f-forigin="t"], script[f-origin="2"]'),zt=0;zt<Ft.length;zt+=1)St[$t].fPath===Ft[zt].src&&(jt=!1);if(jt){var Wt=createTag("link");Wt.setAttribute("f-forigin",St[$t].fOrigin),Wt.setAttribute("f-origin",St[$t].origin),Wt.setAttribute("rel","stylesheet"),Wt.setAttribute("href",St[$t].fPath),Ct.appendChild(Wt)}}St[$t].helper=mt(St[$t],Ct),St[$t].cache={},this.fonts.push(St[$t])}Rt===0?this.isLoaded=!0:setTimeout(this.checkLoadedFonts.bind(this),100)}function ht(Dt){if(Dt){this.chars||(this.chars=[]);var Ct,St=Dt.length,$t,Lt=this.chars.length,Rt;for(Ct=0;Ct<St;Ct+=1){for($t=0,Rt=!1;$t<Lt;)this.chars[$t].style===Dt[Ct].style&&this.chars[$t].fFamily===Dt[Ct].fFamily&&this.chars[$t].ch===Dt[Ct].ch&&(Rt=!0),$t+=1;Rt||(this.chars.push(Dt[Ct]),Lt+=1)}}}function pt(Dt,Ct,St){for(var $t=0,Lt=this.chars.length;$t<Lt;){if(this.chars[$t].ch===Dt&&this.chars[$t].style===Ct&&this.chars[$t].fFamily===St)return this.chars[$t];$t+=1}return(typeof Dt=="string"&&Dt.charCodeAt(0)!==13||!Dt)&&console&&console.warn&&!this._warned&&(this._warned=!0,console.warn("Missing character from exported characters list: ",Dt,Ct,St)),i}function ct(Dt,Ct,St){var $t=this.getFontByName(Ct),Lt=Dt;if(!$t.cache[Lt]){var Rt=$t.helper;if(Dt===" "){var jt=Rt.measureText("|"+Dt+"|"),Ft=Rt.measureText("||");$t.cache[Lt]=(jt-Ft)/100}else $t.cache[Lt]=Rt.measureText(Dt)/100}return $t.cache[Lt]*St}function gt(Dt){for(var Ct=0,St=this.fonts.length;Ct<St;){if(this.fonts[Ct].fName===Dt)return this.fonts[Ct];Ct+=1}return this.fonts[0]}function Et(Dt){var Ct=0,St=Dt.charCodeAt(0);if(St>=55296&&St<=56319){var $t=Dt.charCodeAt(1);$t>=56320&&$t<=57343&&(Ct=(St-55296)*1024+$t-56320+65536)}return Ct}function bt(Dt,Ct){var St=Dt.toString(16)+Ct.toString(16);return lt.indexOf(St)!==-1}function xt(Dt){return Dt===it}function Tt(Dt){return Dt===nt}function wt(Dt){var Ct=Et(Dt);return Ct>=ot&&Ct<=st}function It(Dt){return wt(Dt.substr(0,2))&&wt(Dt.substr(2,2))}function At(Dt){return s.indexOf(Dt)!==-1}function kt(Dt,Ct){var St=Et(Dt.substr(Ct,2));if(St!==a)return!1;var $t=0;for(Ct+=2;$t<5;){if(St=Et(Dt.substr(Ct,2)),St<tt||St>rt)return!1;$t+=1,Ct+=2}return Et(Dt.substr(Ct,2))===et}function Vt(){this.isLoaded=!0}var Mt=function(){this.fonts=[],this.chars=null,this.typekitLoaded=0,this.isLoaded=!1,this._warned=!1,this.initTime=Date.now(),this.setIsLoadedBinded=this.setIsLoaded.bind(this),this.checkLoadedFontsBinded=this.checkLoadedFonts.bind(this)};Mt.isModifier=bt,Mt.isZeroWidthJoiner=xt,Mt.isFlagEmoji=It,Mt.isRegionalCode=wt,Mt.isCombinedCharacter=At,Mt.isRegionalFlag=kt,Mt.isVariationSelector=Tt,Mt.BLACK_FLAG_CODE_POINT=a;var Ot={addChars:ht,addFonts:yt,getCharData:pt,getFontByName:gt,measureText:ct,checkLoadedFonts:ft,setIsLoaded:Vt};return Mt.prototype=Ot,Mt}();function SlotManager(o){this.animationData=o}SlotManager.prototype.getProp=function(o){return this.animationData.slots&&this.animationData.slots[o.sid]?Object.assign(o,this.animationData.slots[o.sid].p):o};function slotFactory(o){return new SlotManager(o)}function RenderableElement(){}RenderableElement.prototype={initRenderable:function(){this.isInRange=!1,this.hidden=!1,this.isTransparent=!1,this.renderableComponents=[]},addRenderableComponent:function(i){this.renderableComponents.indexOf(i)===-1&&this.renderableComponents.push(i)},removeRenderableComponent:function(i){this.renderableComponents.indexOf(i)!==-1&&this.renderableComponents.splice(this.renderableComponents.indexOf(i),1)},prepareRenderableFrame:function(i){this.checkLayerLimits(i)},checkTransparency:function(){this.finalTransform.mProp.o.v<=0?!this.isTransparent&&this.globalData.renderConfig.hideOnTransparent&&(this.isTransparent=!0,this.hide()):this.isTransparent&&(this.isTransparent=!1,this.show())},checkLayerLimits:function(i){this.data.ip-this.data.st<=i&&this.data.op-this.data.st>i?this.isInRange!==!0&&(this.globalData._mdf=!0,this._mdf=!0,this.isInRange=!0,this.show()):this.isInRange!==!1&&(this.globalData._mdf=!0,this.isInRange=!1,this.hide())},renderRenderable:function(){var i,s=this.renderableComponents.length;for(i=0;i<s;i+=1)this.renderableComponents[i].renderFrame(this._isFirstFrame)},sourceRectAtTime:function(){return{top:0,left:0,width:100,height:100}},getLayerSize:function(){return this.data.ty===5?{w:this.data.textData.width,h:this.data.textData.height}:{w:this.data.width,h:this.data.height}}};var getBlendMode=function(){var o={0:"source-over",1:"multiply",2:"screen",3:"overlay",4:"darken",5:"lighten",6:"color-dodge",7:"color-burn",8:"hard-light",9:"soft-light",10:"difference",11:"exclusion",12:"hue",13:"saturation",14:"color",15:"luminosity"};return function(i){return o[i]||""}}();function SliderEffect(o,i,s){this.p=PropertyFactory.getProp(i,o.v,0,0,s)}function AngleEffect(o,i,s){this.p=PropertyFactory.getProp(i,o.v,0,0,s)}function ColorEffect(o,i,s){this.p=PropertyFactory.getProp(i,o.v,1,0,s)}function PointEffect(o,i,s){this.p=PropertyFactory.getProp(i,o.v,1,0,s)}function LayerIndexEffect(o,i,s){this.p=PropertyFactory.getProp(i,o.v,0,0,s)}function MaskIndexEffect(o,i,s){this.p=PropertyFactory.getProp(i,o.v,0,0,s)}function CheckboxEffect(o,i,s){this.p=PropertyFactory.getProp(i,o.v,0,0,s)}function NoValueEffect(){this.p={}}function EffectsManager(o,i){var s=o.ef||[];this.effectElements=[];var a,et=s.length,tt;for(a=0;a<et;a+=1)tt=new GroupEffect(s[a],i),this.effectElements.push(tt)}function GroupEffect(o,i){this.init(o,i)}extendPrototype([DynamicPropertyContainer],GroupEffect),GroupEffect.prototype.getValue=GroupEffect.prototype.iterateDynamicProperties,GroupEffect.prototype.init=function(o,i){this.data=o,this.effectElements=[],this.initDynamicPropertyContainer(i);var s,a=this.data.ef.length,et,tt=this.data.ef;for(s=0;s<a;s+=1){switch(et=null,tt[s].ty){case 0:et=new SliderEffect(tt[s],i,this);break;case 1:et=new AngleEffect(tt[s],i,this);break;case 2:et=new ColorEffect(tt[s],i,this);break;case 3:et=new PointEffect(tt[s],i,this);break;case 4:case 7:et=new CheckboxEffect(tt[s],i,this);break;case 10:et=new LayerIndexEffect(tt[s],i,this);break;case 11:et=new MaskIndexEffect(tt[s],i,this);break;case 5:et=new EffectsManager(tt[s],i);break;default:et=new NoValueEffect(tt[s]);break}et&&this.effectElements.push(et)}};function BaseElement(){}BaseElement.prototype={checkMasks:function(){if(!this.data.hasMask)return!1;for(var i=0,s=this.data.masksProperties.length;i<s;){if(this.data.masksProperties[i].mode!=="n"&&this.data.masksProperties[i].cl!==!1)return!0;i+=1}return!1},initExpressions:function(){var i=getExpressionInterfaces();if(i){var s=i("layer"),a=i("effects"),et=i("shape"),tt=i("text"),rt=i("comp");this.layerInterface=s(this),this.data.hasMask&&this.maskManager&&this.layerInterface.registerMaskInterface(this.maskManager);var nt=a.createEffectsInterface(this,this.layerInterface);this.layerInterface.registerEffectsInterface(nt),this.data.ty===0||this.data.xt?this.compInterface=rt(this):this.data.ty===4?(this.layerInterface.shapeInterface=et(this.shapesData,this.itemsData,this.layerInterface),this.layerInterface.content=this.layerInterface.shapeInterface):this.data.ty===5&&(this.layerInterface.textInterface=tt(this),this.layerInterface.text=this.layerInterface.textInterface)}},setBlendMode:function(){var i=getBlendMode(this.data.bm),s=this.baseElement||this.layerElement;s.style["mix-blend-mode"]=i},initBaseData:function(i,s,a){this.globalData=s,this.comp=a,this.data=i,this.layerId=createElementID(),this.data.sr||(this.data.sr=1),this.effectsManager=new EffectsManager(this.data,this,this.dynamicProperties)},getType:function(){return this.type},sourceRectAtTime:function(){}};function FrameElement(){}FrameElement.prototype={initFrame:function(){this._isFirstFrame=!1,this.dynamicProperties=[],this._mdf=!1},prepareProperties:function(i,s){var a,et=this.dynamicProperties.length;for(a=0;a<et;a+=1)(s||this._isParent&&this.dynamicProperties[a].propType==="transform")&&(this.dynamicProperties[a].getValue(),this.dynamicProperties[a]._mdf&&(this.globalData._mdf=!0,this._mdf=!0))},addDynamicProperty:function(i){this.dynamicProperties.indexOf(i)===-1&&this.dynamicProperties.push(i)}};function FootageElement(o,i,s){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(o.refId),this.footageData=i.imageLoader.getAsset(this.assetData),this.initBaseData(o,i,s)}FootageElement.prototype.prepareFrame=function(){},extendPrototype([RenderableElement,BaseElement,FrameElement],FootageElement),FootageElement.prototype.getBaseElement=function(){return null},FootageElement.prototype.renderFrame=function(){},FootageElement.prototype.destroy=function(){},FootageElement.prototype.initExpressions=function(){var o=getExpressionInterfaces();if(o){var i=o("footage");this.layerInterface=i(this)}},FootageElement.prototype.getFootageData=function(){return this.footageData};function AudioElement(o,i,s){this.initFrame(),this.initRenderable(),this.assetData=i.getAssetData(o.refId),this.initBaseData(o,i,s),this._isPlaying=!1,this._canPlay=!1;var a=this.globalData.getAssetsPath(this.assetData);this.audio=this.globalData.audioController.createAudio(a),this._currentTime=0,this.globalData.audioController.addAudio(this),this._volumeMultiplier=1,this._volume=1,this._previousVolume=null,this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0},this.lv=PropertyFactory.getProp(this,o.au&&o.au.lv?o.au.lv:{k:[100]},1,.01,this)}AudioElement.prototype.prepareFrame=function(o){if(this.prepareRenderableFrame(o,!0),this.prepareProperties(o,!0),this.tm._placeholder)this._currentTime=o/this.data.sr;else{var i=this.tm.v;this._currentTime=i}this._volume=this.lv.v[0];var s=this._volume*this._volumeMultiplier;this._previousVolume!==s&&(this._previousVolume=s,this.audio.volume(s))},extendPrototype([RenderableElement,BaseElement,FrameElement],AudioElement),AudioElement.prototype.renderFrame=function(){this.isInRange&&this._canPlay&&(this._isPlaying?(!this.audio.playing()||Math.abs(this._currentTime/this.globalData.frameRate-this.audio.seek())>.1)&&this.audio.seek(this._currentTime/this.globalData.frameRate):(this.audio.play(),this.audio.seek(this._currentTime/this.globalData.frameRate),this._isPlaying=!0))},AudioElement.prototype.show=function(){},AudioElement.prototype.hide=function(){this.audio.pause(),this._isPlaying=!1},AudioElement.prototype.pause=function(){this.audio.pause(),this._isPlaying=!1,this._canPlay=!1},AudioElement.prototype.resume=function(){this._canPlay=!0},AudioElement.prototype.setRate=function(o){this.audio.rate(o)},AudioElement.prototype.volume=function(o){this._volumeMultiplier=o,this._previousVolume=o*this._volume,this.audio.volume(this._previousVolume)},AudioElement.prototype.getBaseElement=function(){return null},AudioElement.prototype.destroy=function(){},AudioElement.prototype.sourceRectAtTime=function(){},AudioElement.prototype.initExpressions=function(){};function BaseRenderer(){}BaseRenderer.prototype.checkLayers=function(o){var i,s=this.layers.length,a;for(this.completeLayers=!0,i=s-1;i>=0;i-=1)this.elements[i]||(a=this.layers[i],a.ip-a.st<=o-this.layers[i].st&&a.op-a.st>o-this.layers[i].st&&this.buildItem(i)),this.completeLayers=this.elements[i]?this.completeLayers:!1;this.checkPendingElements()},BaseRenderer.prototype.createItem=function(o){switch(o.ty){case 2:return this.createImage(o);case 0:return this.createComp(o);case 1:return this.createSolid(o);case 3:return this.createNull(o);case 4:return this.createShape(o);case 5:return this.createText(o);case 6:return this.createAudio(o);case 13:return this.createCamera(o);case 15:return this.createFootage(o);default:return this.createNull(o)}},BaseRenderer.prototype.createCamera=function(){throw new Error("You're using a 3d camera. Try the html renderer.")},BaseRenderer.prototype.createAudio=function(o){return new AudioElement(o,this.globalData,this)},BaseRenderer.prototype.createFootage=function(o){return new FootageElement(o,this.globalData,this)},BaseRenderer.prototype.buildAllItems=function(){var o,i=this.layers.length;for(o=0;o<i;o+=1)this.buildItem(o);this.checkPendingElements()},BaseRenderer.prototype.includeLayers=function(o){this.completeLayers=!1;var i,s=o.length,a,et=this.layers.length;for(i=0;i<s;i+=1)for(a=0;a<et;){if(this.layers[a].id===o[i].id){this.layers[a]=o[i];break}a+=1}},BaseRenderer.prototype.setProjectInterface=function(o){this.globalData.projectInterface=o},BaseRenderer.prototype.initItems=function(){this.globalData.progressiveLoad||this.buildAllItems()},BaseRenderer.prototype.buildElementParenting=function(o,i,s){for(var a=this.elements,et=this.layers,tt=0,rt=et.length;tt<rt;)et[tt].ind==i&&(!a[tt]||a[tt]===!0?(this.buildItem(tt),this.addPendingElement(o)):(s.push(a[tt]),a[tt].setAsParent(),et[tt].parent!==void 0?this.buildElementParenting(o,et[tt].parent,s):o.setHierarchy(s))),tt+=1},BaseRenderer.prototype.addPendingElement=function(o){this.pendingElements.push(o)},BaseRenderer.prototype.searchExtraCompositions=function(o){var i,s=o.length;for(i=0;i<s;i+=1)if(o[i].xt){var a=this.createComp(o[i]);a.initExpressions(),this.globalData.projectInterface.registerComposition(a)}},BaseRenderer.prototype.getElementById=function(o){var i,s=this.elements.length;for(i=0;i<s;i+=1)if(this.elements[i].data.ind===o)return this.elements[i];return null},BaseRenderer.prototype.getElementByPath=function(o){var i=o.shift(),s;if(typeof i=="number")s=this.elements[i];else{var a,et=this.elements.length;for(a=0;a<et;a+=1)if(this.elements[a].data.nm===i){s=this.elements[a];break}}return o.length===0?s:s.getElementByPath(o)},BaseRenderer.prototype.setupGlobalData=function(o,i){this.globalData.fontManager=new FontManager,this.globalData.slotManager=slotFactory(o),this.globalData.fontManager.addChars(o.chars),this.globalData.fontManager.addFonts(o.fonts,i),this.globalData.getAssetData=this.animationItem.getAssetData.bind(this.animationItem),this.globalData.getAssetsPath=this.animationItem.getAssetsPath.bind(this.animationItem),this.globalData.imageLoader=this.animationItem.imagePreloader,this.globalData.audioController=this.animationItem.audioController,this.globalData.frameId=0,this.globalData.frameRate=o.fr,this.globalData.nm=o.nm,this.globalData.compSize={w:o.w,h:o.h}};var effectTypes={TRANSFORM_EFFECT:"transformEFfect"};function TransformElement(){}TransformElement.prototype={initTransform:function(){var i=new Matrix;this.finalTransform={mProp:this.data.ks?TransformPropertyFactory.getTransformProperty(this,this.data.ks,this):{o:0},_matMdf:!1,_localMatMdf:!1,_opMdf:!1,mat:i,localMat:i,localOpacity:1},this.data.ao&&(this.finalTransform.mProp.autoOriented=!0),this.data.ty},renderTransform:function(){if(this.finalTransform._opMdf=this.finalTransform.mProp.o._mdf||this._isFirstFrame,this.finalTransform._matMdf=this.finalTransform.mProp._mdf||this._isFirstFrame,this.hierarchy){var i,s=this.finalTransform.mat,a=0,et=this.hierarchy.length;if(!this.finalTransform._matMdf)for(;a<et;){if(this.hierarchy[a].finalTransform.mProp._mdf){this.finalTransform._matMdf=!0;break}a+=1}if(this.finalTransform._matMdf)for(i=this.finalTransform.mProp.v.props,s.cloneFromProps(i),a=0;a<et;a+=1)s.multiply(this.hierarchy[a].finalTransform.mProp.v)}this.finalTransform._matMdf&&(this.finalTransform._localMatMdf=this.finalTransform._matMdf),this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v)},renderLocalTransform:function(){if(this.localTransforms){var i=0,s=this.localTransforms.length;if(this.finalTransform._localMatMdf=this.finalTransform._matMdf,!this.finalTransform._localMatMdf||!this.finalTransform._opMdf)for(;i<s;)this.localTransforms[i]._mdf&&(this.finalTransform._localMatMdf=!0),this.localTransforms[i]._opMdf&&!this.finalTransform._opMdf&&(this.finalTransform.localOpacity=this.finalTransform.mProp.o.v,this.finalTransform._opMdf=!0),i+=1;if(this.finalTransform._localMatMdf){var a=this.finalTransform.localMat;for(this.localTransforms[0].matrix.clone(a),i=1;i<s;i+=1){var et=this.localTransforms[i].matrix;a.multiply(et)}a.multiply(this.finalTransform.mat)}if(this.finalTransform._opMdf){var tt=this.finalTransform.localOpacity;for(i=0;i<s;i+=1)tt*=this.localTransforms[i].opacity*.01;this.finalTransform.localOpacity=tt}}},searchEffectTransforms:function(){if(this.renderableEffectsManager){var i=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT);if(i.length){this.localTransforms=[],this.finalTransform.localMat=new Matrix;var s=0,a=i.length;for(s=0;s<a;s+=1)this.localTransforms.push(i[s])}}},globalToLocal:function(i){var s=[];s.push(this.finalTransform);for(var a=!0,et=this.comp;a;)et.finalTransform?(et.data.hasMask&&s.splice(0,0,et.finalTransform),et=et.comp):a=!1;var tt,rt=s.length,nt;for(tt=0;tt<rt;tt+=1)nt=s[tt].mat.applyToPointArray(0,0,0),i=[i[0]-nt[0],i[1]-nt[1],0];return i},mHelper:new Matrix};function MaskElement(o,i,s){this.data=o,this.element=i,this.globalData=s,this.storedData=[],this.masksProperties=this.data.masksProperties||[],this.maskElement=null;var a=this.globalData.defs,et,tt=this.masksProperties?this.masksProperties.length:0;this.viewData=createSizedArray(tt),this.solidPath="";var rt,nt=this.masksProperties,it=0,ot=[],st,lt,at=createElementID(),ut,ft,mt,yt,ht="clipPath",pt="clip-path";for(et=0;et<tt;et+=1)if((nt[et].mode!=="a"&&nt[et].mode!=="n"||nt[et].inv||nt[et].o.k!==100||nt[et].o.x)&&(ht="mask",pt="mask"),(nt[et].mode==="s"||nt[et].mode==="i")&&it===0?(ut=createNS("rect"),ut.setAttribute("fill","#ffffff"),ut.setAttribute("width",this.element.comp.data.w||0),ut.setAttribute("height",this.element.comp.data.h||0),ot.push(ut)):ut=null,rt=createNS("path"),nt[et].mode==="n")this.viewData[et]={op:PropertyFactory.getProp(this.element,nt[et].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,nt[et],3),elem:rt,lastPath:""},a.appendChild(rt);else{it+=1,rt.setAttribute("fill",nt[et].mode==="s"?"#000000":"#ffffff"),rt.setAttribute("clip-rule","nonzero");var ct;if(nt[et].x.k!==0?(ht="mask",pt="mask",yt=PropertyFactory.getProp(this.element,nt[et].x,0,null,this.element),ct=createElementID(),ft=createNS("filter"),ft.setAttribute("id",ct),mt=createNS("feMorphology"),mt.setAttribute("operator","erode"),mt.setAttribute("in","SourceGraphic"),mt.setAttribute("radius","0"),ft.appendChild(mt),a.appendChild(ft),rt.setAttribute("stroke",nt[et].mode==="s"?"#000000":"#ffffff")):(mt=null,yt=null),this.storedData[et]={elem:rt,x:yt,expan:mt,lastPath:"",lastOperator:"",filterId:ct,lastRadius:0},nt[et].mode==="i"){lt=ot.length;var gt=createNS("g");for(st=0;st<lt;st+=1)gt.appendChild(ot[st]);var Et=createNS("mask");Et.setAttribute("mask-type","alpha"),Et.setAttribute("id",at+"_"+it),Et.appendChild(rt),a.appendChild(Et),gt.setAttribute("mask","url("+getLocationHref()+"#"+at+"_"+it+")"),ot.length=0,ot.push(gt)}else ot.push(rt);nt[et].inv&&!this.solidPath&&(this.solidPath=this.createLayerSolidPath()),this.viewData[et]={elem:rt,lastPath:"",op:PropertyFactory.getProp(this.element,nt[et].o,0,.01,this.element),prop:ShapePropertyFactory.getShapeProp(this.element,nt[et],3),invRect:ut},this.viewData[et].prop.k||this.drawPath(nt[et],this.viewData[et].prop.v,this.viewData[et])}for(this.maskElement=createNS(ht),tt=ot.length,et=0;et<tt;et+=1)this.maskElement.appendChild(ot[et]);it>0&&(this.maskElement.setAttribute("id",at),this.element.maskedElement.setAttribute(pt,"url("+getLocationHref()+"#"+at+")"),a.appendChild(this.maskElement)),this.viewData.length&&this.element.addRenderableComponent(this)}MaskElement.prototype.getMaskProperty=function(o){return this.viewData[o].prop},MaskElement.prototype.renderFrame=function(o){var i=this.element.finalTransform.mat,s,a=this.masksProperties.length;for(s=0;s<a;s+=1)if((this.viewData[s].prop._mdf||o)&&this.drawPath(this.masksProperties[s],this.viewData[s].prop.v,this.viewData[s]),(this.viewData[s].op._mdf||o)&&this.viewData[s].elem.setAttribute("fill-opacity",this.viewData[s].op.v),this.masksProperties[s].mode!=="n"&&(this.viewData[s].invRect&&(this.element.finalTransform.mProp._mdf||o)&&this.viewData[s].invRect.setAttribute("transform",i.getInverseMatrix().to2dCSS()),this.storedData[s].x&&(this.storedData[s].x._mdf||o))){var et=this.storedData[s].expan;this.storedData[s].x.v<0?(this.storedData[s].lastOperator!=="erode"&&(this.storedData[s].lastOperator="erode",this.storedData[s].elem.setAttribute("filter","url("+getLocationHref()+"#"+this.storedData[s].filterId+")")),et.setAttribute("radius",-this.storedData[s].x.v)):(this.storedData[s].lastOperator!=="dilate"&&(this.storedData[s].lastOperator="dilate",this.storedData[s].elem.setAttribute("filter",null)),this.storedData[s].elem.setAttribute("stroke-width",this.storedData[s].x.v*2))}},MaskElement.prototype.getMaskelement=function(){return this.maskElement},MaskElement.prototype.createLayerSolidPath=function(){var o="M0,0 ";return o+=" h"+this.globalData.compSize.w,o+=" v"+this.globalData.compSize.h,o+=" h-"+this.globalData.compSize.w,o+=" v-"+this.globalData.compSize.h+" ",o},MaskElement.prototype.drawPath=function(o,i,s){var a=" M"+i.v[0][0]+","+i.v[0][1],et,tt;for(tt=i._length,et=1;et<tt;et+=1)a+=" C"+i.o[et-1][0]+","+i.o[et-1][1]+" "+i.i[et][0]+","+i.i[et][1]+" "+i.v[et][0]+","+i.v[et][1];if(i.c&&tt>1&&(a+=" C"+i.o[et-1][0]+","+i.o[et-1][1]+" "+i.i[0][0]+","+i.i[0][1]+" "+i.v[0][0]+","+i.v[0][1]),s.lastPath!==a){var rt="";s.elem&&(i.c&&(rt=o.inv?this.solidPath+a:a),s.elem.setAttribute("d",rt)),s.lastPath=a}},MaskElement.prototype.destroy=function(){this.element=null,this.globalData=null,this.maskElement=null,this.data=null,this.masksProperties=null};var filtersFactory=function(){var o={};o.createFilter=i,o.createAlphaToLuminanceFilter=s;function i(a,et){var tt=createNS("filter");return tt.setAttribute("id",a),et!==!0&&(tt.setAttribute("filterUnits","objectBoundingBox"),tt.setAttribute("x","0%"),tt.setAttribute("y","0%"),tt.setAttribute("width","100%"),tt.setAttribute("height","100%")),tt}function s(){var a=createNS("feColorMatrix");return a.setAttribute("type","matrix"),a.setAttribute("color-interpolation-filters","sRGB"),a.setAttribute("values","0 0 0 1 0  0 0 0 1 0  0 0 0 1 0  0 0 0 1 1"),a}return o}(),featureSupport=function(){var o={maskType:!0,svgLumaHidden:!0,offscreenCanvas:typeof OffscreenCanvas<"u"};return(/MSIE 10/i.test(navigator.userAgent)||/MSIE 9/i.test(navigator.userAgent)||/rv:11.0/i.test(navigator.userAgent)||/Edge\/\d./i.test(navigator.userAgent))&&(o.maskType=!1),/firefox/i.test(navigator.userAgent)&&(o.svgLumaHidden=!1),o}(),registeredEffects$1={},idPrefix="filter_result_";function SVGEffects(o){var i,s="SourceGraphic",a=o.data.ef?o.data.ef.length:0,et=createElementID(),tt=filtersFactory.createFilter(et,!0),rt=0;this.filters=[];var nt;for(i=0;i<a;i+=1){nt=null;var it=o.data.ef[i].ty;if(registeredEffects$1[it]){var ot=registeredEffects$1[it].effect;nt=new ot(tt,o.effectsManager.effectElements[i],o,idPrefix+rt,s),s=idPrefix+rt,registeredEffects$1[it].countsAsEffect&&(rt+=1)}nt&&this.filters.push(nt)}rt&&(o.globalData.defs.appendChild(tt),o.layerElement.setAttribute("filter","url("+getLocationHref()+"#"+et+")")),this.filters.length&&o.addRenderableComponent(this)}SVGEffects.prototype.renderFrame=function(o){var i,s=this.filters.length;for(i=0;i<s;i+=1)this.filters[i].renderFrame(o)},SVGEffects.prototype.getEffects=function(o){var i,s=this.filters.length,a=[];for(i=0;i<s;i+=1)this.filters[i].type===o&&a.push(this.filters[i]);return a};function registerEffect$1(o,i,s){registeredEffects$1[o]={effect:i,countsAsEffect:s}}function SVGBaseElement(){}SVGBaseElement.prototype={initRendererElement:function(){this.layerElement=createNS("g")},createContainerElements:function(){this.matteElement=createNS("g"),this.transformedElement=this.layerElement,this.maskedElement=this.layerElement,this._sizeChanged=!1;var i=null;if(this.data.td){this.matteMasks={};var s=createNS("g");s.setAttribute("id",this.layerId),s.appendChild(this.layerElement),i=s,this.globalData.defs.appendChild(s)}else this.data.tt?(this.matteElement.appendChild(this.layerElement),i=this.matteElement,this.baseElement=this.matteElement):this.baseElement=this.layerElement;if(this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.ty===0&&!this.data.hd){var a=createNS("clipPath"),et=createNS("path");et.setAttribute("d","M0,0 L"+this.data.w+",0 L"+this.data.w+","+this.data.h+" L0,"+this.data.h+"z");var tt=createElementID();if(a.setAttribute("id",tt),a.appendChild(et),this.globalData.defs.appendChild(a),this.checkMasks()){var rt=createNS("g");rt.setAttribute("clip-path","url("+getLocationHref()+"#"+tt+")"),rt.appendChild(this.layerElement),this.transformedElement=rt,i?i.appendChild(this.transformedElement):this.baseElement=this.transformedElement}else this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+tt+")")}this.data.bm!==0&&this.setBlendMode()},renderElement:function(){this.finalTransform._localMatMdf&&this.transformedElement.setAttribute("transform",this.finalTransform.localMat.to2dCSS()),this.finalTransform._opMdf&&this.transformedElement.setAttribute("opacity",this.finalTransform.localOpacity)},destroyBaseElement:function(){this.layerElement=null,this.matteElement=null,this.maskManager.destroy()},getBaseElement:function(){return this.data.hd?null:this.baseElement},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData),this.renderableEffectsManager=new SVGEffects(this),this.searchEffectTransforms()},getMatte:function(i){if(this.matteMasks||(this.matteMasks={}),!this.matteMasks[i]){var s=this.layerId+"_"+i,a,et,tt,rt;if(i===1||i===3){var nt=createNS("mask");nt.setAttribute("id",s),nt.setAttribute("mask-type",i===3?"luminance":"alpha"),tt=createNS("use"),tt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),nt.appendChild(tt),this.globalData.defs.appendChild(nt),!featureSupport.maskType&&i===1&&(nt.setAttribute("mask-type","luminance"),a=createElementID(),et=filtersFactory.createFilter(a),this.globalData.defs.appendChild(et),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),rt=createNS("g"),rt.appendChild(tt),nt.appendChild(rt),rt.setAttribute("filter","url("+getLocationHref()+"#"+a+")"))}else if(i===2){var it=createNS("mask");it.setAttribute("id",s),it.setAttribute("mask-type","alpha");var ot=createNS("g");it.appendChild(ot),a=createElementID(),et=filtersFactory.createFilter(a);var st=createNS("feComponentTransfer");st.setAttribute("in","SourceGraphic"),et.appendChild(st);var lt=createNS("feFuncA");lt.setAttribute("type","table"),lt.setAttribute("tableValues","1.0 0.0"),st.appendChild(lt),this.globalData.defs.appendChild(et);var at=createNS("rect");at.setAttribute("width",this.comp.data.w),at.setAttribute("height",this.comp.data.h),at.setAttribute("x","0"),at.setAttribute("y","0"),at.setAttribute("fill","#ffffff"),at.setAttribute("opacity","0"),ot.setAttribute("filter","url("+getLocationHref()+"#"+a+")"),ot.appendChild(at),tt=createNS("use"),tt.setAttributeNS("http://www.w3.org/1999/xlink","href","#"+this.layerId),ot.appendChild(tt),featureSupport.maskType||(it.setAttribute("mask-type","luminance"),et.appendChild(filtersFactory.createAlphaToLuminanceFilter()),rt=createNS("g"),ot.appendChild(at),rt.appendChild(this.layerElement),ot.appendChild(rt)),this.globalData.defs.appendChild(it)}this.matteMasks[i]=s}return this.matteMasks[i]},setMatte:function(i){this.matteElement&&this.matteElement.setAttribute("mask","url("+getLocationHref()+"#"+i+")")}};function HierarchyElement(){}HierarchyElement.prototype={initHierarchy:function(){this.hierarchy=[],this._isParent=!1,this.checkParenting()},setHierarchy:function(i){this.hierarchy=i},setAsParent:function(){this._isParent=!0},checkParenting:function(){this.data.parent!==void 0&&this.comp.buildElementParenting(this,this.data.parent,[])}};function RenderableDOMElement(){}(function(){var o={initElement:function(s,a,et){this.initFrame(),this.initBaseData(s,a,et),this.initTransform(s,a,et),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide()},hide:function(){if(!this.hidden&&(!this.isInRange||this.isTransparent)){var s=this.baseElement||this.layerElement;s.style.display="none",this.hidden=!0}},show:function(){if(this.isInRange&&!this.isTransparent){if(!this.data.hd){var s=this.baseElement||this.layerElement;s.style.display="block"}this.hidden=!1,this._isFirstFrame=!0}},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},renderInnerContent:function(){},prepareFrame:function(s){this._mdf=!1,this.prepareRenderableFrame(s),this.prepareProperties(s,this.isInRange),this.checkTransparency()},destroy:function(){this.innerElem=null,this.destroyBaseElement()}};extendPrototype([RenderableElement,createProxyFunction(o)],RenderableDOMElement)})();function IImageElement(o,i,s){this.assetData=i.getAssetData(o.refId),this.assetData&&this.assetData.sid&&(this.assetData=i.slotManager.getProp(this.assetData)),this.initElement(o,i,s),this.sourceRect={top:0,left:0,width:this.assetData.w,height:this.assetData.h}}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],IImageElement),IImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData);this.innerElem=createNS("image"),this.innerElem.setAttribute("width",this.assetData.w+"px"),this.innerElem.setAttribute("height",this.assetData.h+"px"),this.innerElem.setAttribute("preserveAspectRatio",this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio),this.innerElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.innerElem)},IImageElement.prototype.sourceRectAtTime=function(){return this.sourceRect};function ProcessedElement(o,i){this.elem=o,this.pos=i}function IShapeElement(){}IShapeElement.prototype={addShapeToModifiers:function(i){var s,a=this.shapeModifiers.length;for(s=0;s<a;s+=1)this.shapeModifiers[s].addShape(i)},isShapeInAnimatedModifiers:function(i){for(var s=0,a=this.shapeModifiers.length;s<a;)if(this.shapeModifiers[s].isAnimatedWithShape(i))return!0;return!1},renderModifiers:function(){if(this.shapeModifiers.length){var i,s=this.shapes.length;for(i=0;i<s;i+=1)this.shapes[i].sh.reset();s=this.shapeModifiers.length;var a;for(i=s-1;i>=0&&(a=this.shapeModifiers[i].processShapes(this._isFirstFrame),!a);i-=1);}},searchProcessedElement:function(i){for(var s=this.processedElements,a=0,et=s.length;a<et;){if(s[a].elem===i)return s[a].pos;a+=1}return 0},addProcessedElement:function(i,s){for(var a=this.processedElements,et=a.length;et;)if(et-=1,a[et].elem===i){a[et].pos=s;return}a.push(new ProcessedElement(i,s))},prepareFrame:function(i){this.prepareRenderableFrame(i),this.prepareProperties(i,this.isInRange)}};var lineCapEnum={1:"butt",2:"round",3:"square"},lineJoinEnum={1:"miter",2:"round",3:"bevel"};function SVGShapeData(o,i,s){this.caches=[],this.styles=[],this.transformers=o,this.lStr="",this.sh=s,this.lvl=i,this._isAnimated=!!s.k;for(var a=0,et=o.length;a<et;){if(o[a].mProps.dynamicProperties.length){this._isAnimated=!0;break}a+=1}}SVGShapeData.prototype.setAsAnimated=function(){this._isAnimated=!0};function SVGStyleData(o,i){this.data=o,this.type=o.ty,this.d="",this.lvl=i,this._mdf=!1,this.closed=o.hd===!0,this.pElem=createNS("path"),this.msElem=null}SVGStyleData.prototype.reset=function(){this.d="",this._mdf=!1};function DashProperty(o,i,s,a){this.elem=o,this.frameId=-1,this.dataProps=createSizedArray(i.length),this.renderer=s,this.k=!1,this.dashStr="",this.dashArray=createTypedArray("float32",i.length?i.length-1:0),this.dashoffset=createTypedArray("float32",1),this.initDynamicPropertyContainer(a);var et,tt=i.length||0,rt;for(et=0;et<tt;et+=1)rt=PropertyFactory.getProp(o,i[et].v,0,0,this),this.k=rt.k||this.k,this.dataProps[et]={n:i[et].n,p:rt};this.k||this.getValue(!0),this._isAnimated=this.k}DashProperty.prototype.getValue=function(o){if(!(this.elem.globalData.frameId===this.frameId&&!o)&&(this.frameId=this.elem.globalData.frameId,this.iterateDynamicProperties(),this._mdf=this._mdf||o,this._mdf)){var i=0,s=this.dataProps.length;for(this.renderer==="svg"&&(this.dashStr=""),i=0;i<s;i+=1)this.dataProps[i].n!=="o"?this.renderer==="svg"?this.dashStr+=" "+this.dataProps[i].p.v:this.dashArray[i]=this.dataProps[i].p.v:this.dashoffset[0]=this.dataProps[i].p.v}},extendPrototype([DynamicPropertyContainer],DashProperty);function SVGStrokeStyleData(o,i,s){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,i.o,0,.01,this),this.w=PropertyFactory.getProp(o,i.w,0,null,this),this.d=new DashProperty(o,i.d||{},"svg",this),this.c=PropertyFactory.getProp(o,i.c,1,255,this),this.style=s,this._isAnimated=!!this._isAnimated}extendPrototype([DynamicPropertyContainer],SVGStrokeStyleData);function SVGFillStyleData(o,i,s){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.o=PropertyFactory.getProp(o,i.o,0,.01,this),this.c=PropertyFactory.getProp(o,i.c,1,255,this),this.style=s}extendPrototype([DynamicPropertyContainer],SVGFillStyleData);function SVGNoStyleData(o,i,s){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.style=s}extendPrototype([DynamicPropertyContainer],SVGNoStyleData);function GradientProperty(o,i,s){this.data=i,this.c=createTypedArray("uint8c",i.p*4);var a=i.k.k[0].s?i.k.k[0].s.length-i.p*4:i.k.k.length-i.p*4;this.o=createTypedArray("float32",a),this._cmdf=!1,this._omdf=!1,this._collapsable=this.checkCollapsable(),this._hasOpacity=a,this.initDynamicPropertyContainer(s),this.prop=PropertyFactory.getProp(o,i.k,1,null,this),this.k=this.prop.k,this.getValue(!0)}GradientProperty.prototype.comparePoints=function(o,i){for(var s=0,a=this.o.length/2,et;s<a;){if(et=Math.abs(o[s*4]-o[i*4+s*2]),et>.01)return!1;s+=1}return!0},GradientProperty.prototype.checkCollapsable=function(){if(this.o.length/2!==this.c.length/4)return!1;if(this.data.k.k[0].s)for(var o=0,i=this.data.k.k.length;o<i;){if(!this.comparePoints(this.data.k.k[o].s,this.data.p))return!1;o+=1}else if(!this.comparePoints(this.data.k.k,this.data.p))return!1;return!0},GradientProperty.prototype.getValue=function(o){if(this.prop.getValue(),this._mdf=!1,this._cmdf=!1,this._omdf=!1,this.prop._mdf||o){var i,s=this.data.p*4,a,et;for(i=0;i<s;i+=1)a=i%4===0?100:255,et=Math.round(this.prop.v[i]*a),this.c[i]!==et&&(this.c[i]=et,this._cmdf=!o);if(this.o.length)for(s=this.prop.v.length,i=this.data.p*4;i<s;i+=1)a=i%2===0?100:1,et=i%2===0?Math.round(this.prop.v[i]*100):this.prop.v[i],this.o[i-this.data.p*4]!==et&&(this.o[i-this.data.p*4]=et,this._omdf=!o);this._mdf=!o}},extendPrototype([DynamicPropertyContainer],GradientProperty);function SVGGradientFillStyleData(o,i,s){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.initGradientData(o,i,s)}SVGGradientFillStyleData.prototype.initGradientData=function(o,i,s){this.o=PropertyFactory.getProp(o,i.o,0,.01,this),this.s=PropertyFactory.getProp(o,i.s,1,null,this),this.e=PropertyFactory.getProp(o,i.e,1,null,this),this.h=PropertyFactory.getProp(o,i.h||{k:0},0,.01,this),this.a=PropertyFactory.getProp(o,i.a||{k:0},0,degToRads,this),this.g=new GradientProperty(o,i.g,this),this.style=s,this.stops=[],this.setGradientData(s.pElem,i),this.setGradientOpacity(i,s),this._isAnimated=!!this._isAnimated},SVGGradientFillStyleData.prototype.setGradientData=function(o,i){var s=createElementID(),a=createNS(i.t===1?"linearGradient":"radialGradient");a.setAttribute("id",s),a.setAttribute("spreadMethod","pad"),a.setAttribute("gradientUnits","userSpaceOnUse");var et=[],tt,rt,nt;for(nt=i.g.p*4,rt=0;rt<nt;rt+=4)tt=createNS("stop"),a.appendChild(tt),et.push(tt);o.setAttribute(i.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+s+")"),this.gf=a,this.cst=et},SVGGradientFillStyleData.prototype.setGradientOpacity=function(o,i){if(this.g._hasOpacity&&!this.g._collapsable){var s,a,et,tt=createNS("mask"),rt=createNS("path");tt.appendChild(rt);var nt=createElementID(),it=createElementID();tt.setAttribute("id",it);var ot=createNS(o.t===1?"linearGradient":"radialGradient");ot.setAttribute("id",nt),ot.setAttribute("spreadMethod","pad"),ot.setAttribute("gradientUnits","userSpaceOnUse"),et=o.g.k.k[0].s?o.g.k.k[0].s.length:o.g.k.k.length;var st=this.stops;for(a=o.g.p*4;a<et;a+=2)s=createNS("stop"),s.setAttribute("stop-color","rgb(255,255,255)"),ot.appendChild(s),st.push(s);rt.setAttribute(o.ty==="gf"?"fill":"stroke","url("+getLocationHref()+"#"+nt+")"),o.ty==="gs"&&(rt.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),rt.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),o.lj===1&&rt.setAttribute("stroke-miterlimit",o.ml)),this.of=ot,this.ms=tt,this.ost=st,this.maskId=it,i.msElem=rt}},extendPrototype([DynamicPropertyContainer],SVGGradientFillStyleData);function SVGGradientStrokeStyleData(o,i,s){this.initDynamicPropertyContainer(o),this.getValue=this.iterateDynamicProperties,this.w=PropertyFactory.getProp(o,i.w,0,null,this),this.d=new DashProperty(o,i.d||{},"svg",this),this.initGradientData(o,i,s),this._isAnimated=!!this._isAnimated}extendPrototype([SVGGradientFillStyleData,DynamicPropertyContainer],SVGGradientStrokeStyleData);function ShapeGroupData(){this.it=[],this.prevViewData=[],this.gr=createNS("g")}function SVGTransformData(o,i,s){this.transform={mProps:o,op:i,container:s},this.elements=[],this._isAnimated=this.transform.mProps.dynamicProperties.length||this.transform.op.effectsSequence.length}var buildShapeString=function(i,s,a,et){if(s===0)return"";var tt=i.o,rt=i.i,nt=i.v,it,ot=" M"+et.applyToPointStringified(nt[0][0],nt[0][1]);for(it=1;it<s;it+=1)ot+=" C"+et.applyToPointStringified(tt[it-1][0],tt[it-1][1])+" "+et.applyToPointStringified(rt[it][0],rt[it][1])+" "+et.applyToPointStringified(nt[it][0],nt[it][1]);return a&&s&&(ot+=" C"+et.applyToPointStringified(tt[it-1][0],tt[it-1][1])+" "+et.applyToPointStringified(rt[0][0],rt[0][1])+" "+et.applyToPointStringified(nt[0][0],nt[0][1]),ot+="z"),ot},SVGElementsRenderer=function(){var o=new Matrix,i=new Matrix,s={createRenderFunction:a};function a(lt){switch(lt.ty){case"fl":return nt;case"gf":return ot;case"gs":return it;case"st":return st;case"sh":case"el":case"rc":case"sr":return rt;case"tr":return et;case"no":return tt;default:return null}}function et(lt,at,ut){(ut||at.transform.op._mdf)&&at.transform.container.setAttribute("opacity",at.transform.op.v),(ut||at.transform.mProps._mdf)&&at.transform.container.setAttribute("transform",at.transform.mProps.v.to2dCSS())}function tt(){}function rt(lt,at,ut){var ft,mt,yt,ht,pt,ct,gt=at.styles.length,Et=at.lvl,bt,xt,Tt,wt;for(ct=0;ct<gt;ct+=1){if(ht=at.sh._mdf||ut,at.styles[ct].lvl<Et){for(xt=i.reset(),Tt=Et-at.styles[ct].lvl,wt=at.transformers.length-1;!ht&&Tt>0;)ht=at.transformers[wt].mProps._mdf||ht,Tt-=1,wt-=1;if(ht)for(Tt=Et-at.styles[ct].lvl,wt=at.transformers.length-1;Tt>0;)xt.multiply(at.transformers[wt].mProps.v),Tt-=1,wt-=1}else xt=o;if(bt=at.sh.paths,mt=bt._length,ht){for(yt="",ft=0;ft<mt;ft+=1)pt=bt.shapes[ft],pt&&pt._length&&(yt+=buildShapeString(pt,pt._length,pt.c,xt));at.caches[ct]=yt}else yt=at.caches[ct];at.styles[ct].d+=lt.hd===!0?"":yt,at.styles[ct]._mdf=ht||at.styles[ct]._mdf}}function nt(lt,at,ut){var ft=at.style;(at.c._mdf||ut)&&ft.pElem.setAttribute("fill","rgb("+bmFloor(at.c.v[0])+","+bmFloor(at.c.v[1])+","+bmFloor(at.c.v[2])+")"),(at.o._mdf||ut)&&ft.pElem.setAttribute("fill-opacity",at.o.v)}function it(lt,at,ut){ot(lt,at,ut),st(lt,at,ut)}function ot(lt,at,ut){var ft=at.gf,mt=at.g._hasOpacity,yt=at.s.v,ht=at.e.v;if(at.o._mdf||ut){var pt=lt.ty==="gf"?"fill-opacity":"stroke-opacity";at.style.pElem.setAttribute(pt,at.o.v)}if(at.s._mdf||ut){var ct=lt.t===1?"x1":"cx",gt=ct==="x1"?"y1":"cy";ft.setAttribute(ct,yt[0]),ft.setAttribute(gt,yt[1]),mt&&!at.g._collapsable&&(at.of.setAttribute(ct,yt[0]),at.of.setAttribute(gt,yt[1]))}var Et,bt,xt,Tt;if(at.g._cmdf||ut){Et=at.cst;var wt=at.g.c;for(xt=Et.length,bt=0;bt<xt;bt+=1)Tt=Et[bt],Tt.setAttribute("offset",wt[bt*4]+"%"),Tt.setAttribute("stop-color","rgb("+wt[bt*4+1]+","+wt[bt*4+2]+","+wt[bt*4+3]+")")}if(mt&&(at.g._omdf||ut)){var It=at.g.o;for(at.g._collapsable?Et=at.cst:Et=at.ost,xt=Et.length,bt=0;bt<xt;bt+=1)Tt=Et[bt],at.g._collapsable||Tt.setAttribute("offset",It[bt*2]+"%"),Tt.setAttribute("stop-opacity",It[bt*2+1])}if(lt.t===1)(at.e._mdf||ut)&&(ft.setAttribute("x2",ht[0]),ft.setAttribute("y2",ht[1]),mt&&!at.g._collapsable&&(at.of.setAttribute("x2",ht[0]),at.of.setAttribute("y2",ht[1])));else{var At;if((at.s._mdf||at.e._mdf||ut)&&(At=Math.sqrt(Math.pow(yt[0]-ht[0],2)+Math.pow(yt[1]-ht[1],2)),ft.setAttribute("r",At),mt&&!at.g._collapsable&&at.of.setAttribute("r",At)),at.e._mdf||at.h._mdf||at.a._mdf||ut){At||(At=Math.sqrt(Math.pow(yt[0]-ht[0],2)+Math.pow(yt[1]-ht[1],2)));var kt=Math.atan2(ht[1]-yt[1],ht[0]-yt[0]),Vt=at.h.v;Vt>=1?Vt=.99:Vt<=-1&&(Vt=-.99);var Mt=At*Vt,Ot=Math.cos(kt+at.a.v)*Mt+yt[0],Dt=Math.sin(kt+at.a.v)*Mt+yt[1];ft.setAttribute("fx",Ot),ft.setAttribute("fy",Dt),mt&&!at.g._collapsable&&(at.of.setAttribute("fx",Ot),at.of.setAttribute("fy",Dt))}}}function st(lt,at,ut){var ft=at.style,mt=at.d;mt&&(mt._mdf||ut)&&mt.dashStr&&(ft.pElem.setAttribute("stroke-dasharray",mt.dashStr),ft.pElem.setAttribute("stroke-dashoffset",mt.dashoffset[0])),at.c&&(at.c._mdf||ut)&&ft.pElem.setAttribute("stroke","rgb("+bmFloor(at.c.v[0])+","+bmFloor(at.c.v[1])+","+bmFloor(at.c.v[2])+")"),(at.o._mdf||ut)&&ft.pElem.setAttribute("stroke-opacity",at.o.v),(at.w._mdf||ut)&&(ft.pElem.setAttribute("stroke-width",at.w.v),ft.msElem&&ft.msElem.setAttribute("stroke-width",at.w.v))}return s}();function SVGShapeElement(o,i,s){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.initElement(o,i,s),this.prevViewData=[]}extendPrototype([BaseElement,TransformElement,SVGBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableDOMElement],SVGShapeElement),SVGShapeElement.prototype.initSecondaryElement=function(){},SVGShapeElement.prototype.identityMatrix=new Matrix,SVGShapeElement.prototype.buildExpressionInterface=function(){},SVGShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes()},SVGShapeElement.prototype.filterUniqueShapes=function(){var o,i=this.shapes.length,s,a,et=this.stylesList.length,tt,rt=[],nt=!1;for(a=0;a<et;a+=1){for(tt=this.stylesList[a],nt=!1,rt.length=0,o=0;o<i;o+=1)s=this.shapes[o],s.styles.indexOf(tt)!==-1&&(rt.push(s),nt=s._isAnimated||nt);rt.length>1&&nt&&this.setShapesAsAnimated(rt)}},SVGShapeElement.prototype.setShapesAsAnimated=function(o){var i,s=o.length;for(i=0;i<s;i+=1)o[i].setAsAnimated()},SVGShapeElement.prototype.createStyleElement=function(o,i){var s,a=new SVGStyleData(o,i),et=a.pElem;if(o.ty==="st")s=new SVGStrokeStyleData(this,o,a);else if(o.ty==="fl")s=new SVGFillStyleData(this,o,a);else if(o.ty==="gf"||o.ty==="gs"){var tt=o.ty==="gf"?SVGGradientFillStyleData:SVGGradientStrokeStyleData;s=new tt(this,o,a),this.globalData.defs.appendChild(s.gf),s.maskId&&(this.globalData.defs.appendChild(s.ms),this.globalData.defs.appendChild(s.of),et.setAttribute("mask","url("+getLocationHref()+"#"+s.maskId+")"))}else o.ty==="no"&&(s=new SVGNoStyleData(this,o,a));return(o.ty==="st"||o.ty==="gs")&&(et.setAttribute("stroke-linecap",lineCapEnum[o.lc||2]),et.setAttribute("stroke-linejoin",lineJoinEnum[o.lj||2]),et.setAttribute("fill-opacity","0"),o.lj===1&&et.setAttribute("stroke-miterlimit",o.ml)),o.r===2&&et.setAttribute("fill-rule","evenodd"),o.ln&&et.setAttribute("id",o.ln),o.cl&&et.setAttribute("class",o.cl),o.bm&&(et.style["mix-blend-mode"]=getBlendMode(o.bm)),this.stylesList.push(a),this.addToAnimatedContents(o,s),s},SVGShapeElement.prototype.createGroupElement=function(o){var i=new ShapeGroupData;return o.ln&&i.gr.setAttribute("id",o.ln),o.cl&&i.gr.setAttribute("class",o.cl),o.bm&&(i.gr.style["mix-blend-mode"]=getBlendMode(o.bm)),i},SVGShapeElement.prototype.createTransformElement=function(o,i){var s=TransformPropertyFactory.getTransformProperty(this,o,this),a=new SVGTransformData(s,s.o,i);return this.addToAnimatedContents(o,a),a},SVGShapeElement.prototype.createShapeElement=function(o,i,s){var a=4;o.ty==="rc"?a=5:o.ty==="el"?a=6:o.ty==="sr"&&(a=7);var et=ShapePropertyFactory.getShapeProp(this,o,a,this),tt=new SVGShapeData(i,s,et);return this.shapes.push(tt),this.addShapeToModifiers(tt),this.addToAnimatedContents(o,tt),tt},SVGShapeElement.prototype.addToAnimatedContents=function(o,i){for(var s=0,a=this.animatedContents.length;s<a;){if(this.animatedContents[s].element===i)return;s+=1}this.animatedContents.push({fn:SVGElementsRenderer.createRenderFunction(o),element:i,data:o})},SVGShapeElement.prototype.setElementStyles=function(o){var i=o.styles,s,a=this.stylesList.length;for(s=0;s<a;s+=1)this.stylesList[s].closed||i.push(this.stylesList[s])},SVGShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,i=this.itemsData.length;for(o=0;o<i;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.layerElement,0,[],!0),this.filterUniqueShapes(),i=this.dynamicProperties.length,o=0;o<i;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers()},SVGShapeElement.prototype.searchShapes=function(o,i,s,a,et,tt,rt){var nt=[].concat(tt),it,ot=o.length-1,st,lt,at=[],ut=[],ft,mt,yt;for(it=ot;it>=0;it-=1){if(yt=this.searchProcessedElement(o[it]),yt?i[it]=s[yt-1]:o[it]._render=rt,o[it].ty==="fl"||o[it].ty==="st"||o[it].ty==="gf"||o[it].ty==="gs"||o[it].ty==="no")yt?i[it].style.closed=!1:i[it]=this.createStyleElement(o[it],et),o[it]._render&&i[it].style.pElem.parentNode!==a&&a.appendChild(i[it].style.pElem),at.push(i[it].style);else if(o[it].ty==="gr"){if(!yt)i[it]=this.createGroupElement(o[it]);else for(lt=i[it].it.length,st=0;st<lt;st+=1)i[it].prevViewData[st]=i[it].it[st];this.searchShapes(o[it].it,i[it].it,i[it].prevViewData,i[it].gr,et+1,nt,rt),o[it]._render&&i[it].gr.parentNode!==a&&a.appendChild(i[it].gr)}else o[it].ty==="tr"?(yt||(i[it]=this.createTransformElement(o[it],a)),ft=i[it].transform,nt.push(ft)):o[it].ty==="sh"||o[it].ty==="rc"||o[it].ty==="el"||o[it].ty==="sr"?(yt||(i[it]=this.createShapeElement(o[it],nt,et)),this.setElementStyles(i[it])):o[it].ty==="tm"||o[it].ty==="rd"||o[it].ty==="ms"||o[it].ty==="pb"||o[it].ty==="zz"||o[it].ty==="op"?(yt?(mt=i[it],mt.closed=!1):(mt=ShapeModifiers.getModifier(o[it].ty),mt.init(this,o[it]),i[it]=mt,this.shapeModifiers.push(mt)),ut.push(mt)):o[it].ty==="rp"&&(yt?(mt=i[it],mt.closed=!0):(mt=ShapeModifiers.getModifier(o[it].ty),i[it]=mt,mt.init(this,o,it,i),this.shapeModifiers.push(mt),rt=!1),ut.push(mt));this.addProcessedElement(o[it],it+1)}for(ot=at.length,it=0;it<ot;it+=1)at[it].closed=!0;for(ot=ut.length,it=0;it<ot;it+=1)ut[it].closed=!0},SVGShapeElement.prototype.renderInnerContent=function(){this.renderModifiers();var o,i=this.stylesList.length;for(o=0;o<i;o+=1)this.stylesList[o].reset();for(this.renderShape(),o=0;o<i;o+=1)(this.stylesList[o]._mdf||this._isFirstFrame)&&(this.stylesList[o].msElem&&(this.stylesList[o].msElem.setAttribute("d",this.stylesList[o].d),this.stylesList[o].d="M0 0"+this.stylesList[o].d),this.stylesList[o].pElem.setAttribute("d",this.stylesList[o].d||"M0 0"))},SVGShapeElement.prototype.renderShape=function(){var o,i=this.animatedContents.length,s;for(o=0;o<i;o+=1)s=this.animatedContents[o],(this._isFirstFrame||s.element._isAnimated)&&s.data!==!0&&s.fn(s.data,s.element,this._isFirstFrame)},SVGShapeElement.prototype.destroy=function(){this.destroyBaseElement(),this.shapesData=null,this.itemsData=null};function LetterProps(o,i,s,a,et,tt){this.o=o,this.sw=i,this.sc=s,this.fc=a,this.m=et,this.p=tt,this._mdf={o:!0,sw:!!i,sc:!!s,fc:!!a,m:!0,p:!0}}LetterProps.prototype.update=function(o,i,s,a,et,tt){this._mdf.o=!1,this._mdf.sw=!1,this._mdf.sc=!1,this._mdf.fc=!1,this._mdf.m=!1,this._mdf.p=!1;var rt=!1;return this.o!==o&&(this.o=o,this._mdf.o=!0,rt=!0),this.sw!==i&&(this.sw=i,this._mdf.sw=!0,rt=!0),this.sc!==s&&(this.sc=s,this._mdf.sc=!0,rt=!0),this.fc!==a&&(this.fc=a,this._mdf.fc=!0,rt=!0),this.m!==et&&(this.m=et,this._mdf.m=!0,rt=!0),tt.length&&(this.p[0]!==tt[0]||this.p[1]!==tt[1]||this.p[4]!==tt[4]||this.p[5]!==tt[5]||this.p[12]!==tt[12]||this.p[13]!==tt[13])&&(this.p=tt,this._mdf.p=!0,rt=!0),rt};function TextProperty(o,i){this._frameId=initialDefaultFrame,this.pv="",this.v="",this.kf=!1,this._isFirstFrame=!0,this._mdf=!1,i.d&&i.d.sid&&(i.d=o.globalData.slotManager.getProp(i.d)),this.data=i,this.elem=o,this.comp=this.elem.comp,this.keysIndex=0,this.canResize=!1,this.minimumFontSize=1,this.effectsSequence=[],this.currentData={ascent:0,boxWidth:this.defaultBoxWidth,f:"",fStyle:"",fWeight:"",fc:"",j:"",justifyOffset:"",l:[],lh:0,lineWidths:[],ls:"",of:"",s:"",sc:"",sw:0,t:0,tr:0,sz:0,ps:null,fillColorAnim:!1,strokeColorAnim:!1,strokeWidthAnim:!1,yOffset:0,finalSize:0,finalText:[],finalLineHeight:0,__complete:!1},this.copyData(this.currentData,this.data.d.k[0].s),this.searchProperty()||this.completeTextData(this.currentData)}TextProperty.prototype.defaultBoxWidth=[0,0],TextProperty.prototype.copyData=function(o,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(o[s]=i[s]);return o},TextProperty.prototype.setCurrentData=function(o){o.__complete||this.completeTextData(o),this.currentData=o,this.currentData.boxWidth=this.currentData.boxWidth||this.defaultBoxWidth,this._mdf=!0},TextProperty.prototype.searchProperty=function(){return this.searchKeyframes()},TextProperty.prototype.searchKeyframes=function(){return this.kf=this.data.d.k.length>1,this.kf&&this.addEffect(this.getKeyframeValue.bind(this)),this.kf},TextProperty.prototype.addEffect=function(o){this.effectsSequence.push(o),this.elem.addDynamicProperty(this)},TextProperty.prototype.getValue=function(o){if(!((this.elem.globalData.frameId===this.frameId||!this.effectsSequence.length)&&!o)){this.currentData.t=this.data.d.k[this.keysIndex].s.t;var i=this.currentData,s=this.keysIndex;if(this.lock){this.setCurrentData(this.currentData);return}this.lock=!0,this._mdf=!1;var a,et=this.effectsSequence.length,tt=o||this.data.d.k[this.keysIndex].s;for(a=0;a<et;a+=1)s!==this.keysIndex?tt=this.effectsSequence[a](tt,tt.t):tt=this.effectsSequence[a](this.currentData,tt.t);i!==tt&&this.setCurrentData(tt),this.v=this.currentData,this.pv=this.v,this.lock=!1,this.frameId=this.elem.globalData.frameId}},TextProperty.prototype.getKeyframeValue=function(){for(var o=this.data.d.k,i=this.elem.comp.renderedFrame,s=0,a=o.length;s<=a-1&&!(s===a-1||o[s+1].t>i);)s+=1;return this.keysIndex!==s&&(this.keysIndex=s),this.data.d.k[this.keysIndex].s},TextProperty.prototype.buildFinalText=function(o){for(var i=[],s=0,a=o.length,et,tt,rt=!1,nt=!1,it="";s<a;)rt=nt,nt=!1,et=o.charCodeAt(s),it=o.charAt(s),FontManager.isCombinedCharacter(et)?rt=!0:et>=55296&&et<=56319?FontManager.isRegionalFlag(o,s)?it=o.substr(s,14):(tt=o.charCodeAt(s+1),tt>=56320&&tt<=57343&&(FontManager.isModifier(et,tt)?(it=o.substr(s,2),rt=!0):FontManager.isFlagEmoji(o.substr(s,4))?it=o.substr(s,4):it=o.substr(s,2))):et>56319?(tt=o.charCodeAt(s+1),FontManager.isVariationSelector(et)&&(rt=!0)):FontManager.isZeroWidthJoiner(et)&&(rt=!0,nt=!0),rt?(i[i.length-1]+=it,rt=!1):i.push(it),s+=it.length;return i},TextProperty.prototype.completeTextData=function(o){o.__complete=!0;var i=this.elem.globalData.fontManager,s=this.data,a=[],et,tt,rt,nt=0,it,ot=s.m.g,st=0,lt=0,at=0,ut=[],ft=0,mt=0,yt,ht,pt=i.getFontByName(o.f),ct,gt=0,Et=getFontProperties(pt);o.fWeight=Et.weight,o.fStyle=Et.style,o.finalSize=o.s,o.finalText=this.buildFinalText(o.t),tt=o.finalText.length,o.finalLineHeight=o.lh;var bt=o.tr/1e3*o.finalSize,xt;if(o.sz)for(var Tt=!0,wt=o.sz[0],It=o.sz[1],At,kt;Tt;){kt=this.buildFinalText(o.t),At=0,ft=0,tt=kt.length,bt=o.tr/1e3*o.finalSize;var Vt=-1;for(et=0;et<tt;et+=1)xt=kt[et].charCodeAt(0),rt=!1,kt[et]===" "?Vt=et:(xt===13||xt===3)&&(ft=0,rt=!0,At+=o.finalLineHeight||o.finalSize*1.2),i.chars?(ct=i.getCharData(kt[et],pt.fStyle,pt.fFamily),gt=rt?0:ct.w*o.finalSize/100):gt=i.measureText(kt[et],o.f,o.finalSize),ft+gt>wt&&kt[et]!==" "?(Vt===-1?tt+=1:et=Vt,At+=o.finalLineHeight||o.finalSize*1.2,kt.splice(et,Vt===et?1:0,"\r"),Vt=-1,ft=0):(ft+=gt,ft+=bt);At+=pt.ascent*o.finalSize/100,this.canResize&&o.finalSize>this.minimumFontSize&&It<At?(o.finalSize-=1,o.finalLineHeight=o.finalSize*o.lh/o.s):(o.finalText=kt,tt=o.finalText.length,Tt=!1)}ft=-bt,gt=0;var Mt=0,Ot;for(et=0;et<tt;et+=1)if(rt=!1,Ot=o.finalText[et],xt=Ot.charCodeAt(0),xt===13||xt===3?(Mt=0,ut.push(ft),mt=ft>mt?ft:mt,ft=-2*bt,it="",rt=!0,at+=1):it=Ot,i.chars?(ct=i.getCharData(Ot,pt.fStyle,i.getFontByName(o.f).fFamily),gt=rt?0:ct.w*o.finalSize/100):gt=i.measureText(it,o.f,o.finalSize),Ot===" "?Mt+=gt+bt:(ft+=gt+bt+Mt,Mt=0),a.push({l:gt,an:gt,add:st,n:rt,anIndexes:[],val:it,line:at,animatorJustifyOffset:0}),ot==2){if(st+=gt,it===""||it===" "||et===tt-1){for((it===""||it===" ")&&(st-=gt);lt<=et;)a[lt].an=st,a[lt].ind=nt,a[lt].extra=gt,lt+=1;nt+=1,st=0}}else if(ot==3){if(st+=gt,it===""||et===tt-1){for(it===""&&(st-=gt);lt<=et;)a[lt].an=st,a[lt].ind=nt,a[lt].extra=gt,lt+=1;st=0,nt+=1}}else a[nt].ind=nt,a[nt].extra=0,nt+=1;if(o.l=a,mt=ft>mt?ft:mt,ut.push(ft),o.sz)o.boxWidth=o.sz[0],o.justifyOffset=0;else switch(o.boxWidth=mt,o.j){case 1:o.justifyOffset=-o.boxWidth;break;case 2:o.justifyOffset=-o.boxWidth/2;break;default:o.justifyOffset=0}o.lineWidths=ut;var Dt=s.a,Ct,St;ht=Dt.length;var $t,Lt,Rt=[];for(yt=0;yt<ht;yt+=1){for(Ct=Dt[yt],Ct.a.sc&&(o.strokeColorAnim=!0),Ct.a.sw&&(o.strokeWidthAnim=!0),(Ct.a.fc||Ct.a.fh||Ct.a.fs||Ct.a.fb)&&(o.fillColorAnim=!0),Lt=0,$t=Ct.s.b,et=0;et<tt;et+=1)St=a[et],St.anIndexes[yt]=Lt,($t==1&&St.val!==""||$t==2&&St.val!==""&&St.val!==" "||$t==3&&(St.n||St.val==" "||et==tt-1)||$t==4&&(St.n||et==tt-1))&&(Ct.s.rn===1&&Rt.push(Lt),Lt+=1);s.a[yt].s.totalChars=Lt;var jt=-1,Ft;if(Ct.s.rn===1)for(et=0;et<tt;et+=1)St=a[et],jt!=St.anIndexes[yt]&&(jt=St.anIndexes[yt],Ft=Rt.splice(Math.floor(Math.random()*Rt.length),1)[0]),St.anIndexes[yt]=Ft}o.yOffset=o.finalLineHeight||o.finalSize*1.2,o.ls=o.ls||0,o.ascent=pt.ascent*o.finalSize/100},TextProperty.prototype.updateDocumentData=function(o,i){i=i===void 0?this.keysIndex:i;var s=this.copyData({},this.data.d.k[i].s);s=this.copyData(s,o),this.data.d.k[i].s=s,this.recalculate(i),this.setCurrentData(s),this.elem.addDynamicProperty(this)},TextProperty.prototype.recalculate=function(o){var i=this.data.d.k[o].s;i.__complete=!1,this.keysIndex=0,this._isFirstFrame=!0,this.getValue(i)},TextProperty.prototype.canResizeFont=function(o){this.canResize=o,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)},TextProperty.prototype.setMinimumFontSize=function(o){this.minimumFontSize=Math.floor(o)||1,this.recalculate(this.keysIndex),this.elem.addDynamicProperty(this)};var TextSelectorProp=function(){var o=Math.max,i=Math.min,s=Math.floor;function a(tt,rt){this._currentTextLength=-1,this.k=!1,this.data=rt,this.elem=tt,this.comp=tt.comp,this.finalS=0,this.finalE=0,this.initDynamicPropertyContainer(tt),this.s=PropertyFactory.getProp(tt,rt.s||{k:0},0,0,this),"e"in rt?this.e=PropertyFactory.getProp(tt,rt.e,0,0,this):this.e={v:100},this.o=PropertyFactory.getProp(tt,rt.o||{k:0},0,0,this),this.xe=PropertyFactory.getProp(tt,rt.xe||{k:0},0,0,this),this.ne=PropertyFactory.getProp(tt,rt.ne||{k:0},0,0,this),this.sm=PropertyFactory.getProp(tt,rt.sm||{k:100},0,0,this),this.a=PropertyFactory.getProp(tt,rt.a,0,.01,this),this.dynamicProperties.length||this.getValue()}a.prototype={getMult:function(rt){this._currentTextLength!==this.elem.textProperty.currentData.l.length&&this.getValue();var nt=0,it=0,ot=1,st=1;this.ne.v>0?nt=this.ne.v/100:it=-this.ne.v/100,this.xe.v>0?ot=1-this.xe.v/100:st=1+this.xe.v/100;var lt=BezierFactory.getBezierEasing(nt,it,ot,st).get,at=0,ut=this.finalS,ft=this.finalE,mt=this.data.sh;if(mt===2)ft===ut?at=rt>=ft?1:0:at=o(0,i(.5/(ft-ut)+(rt-ut)/(ft-ut),1)),at=lt(at);else if(mt===3)ft===ut?at=rt>=ft?0:1:at=1-o(0,i(.5/(ft-ut)+(rt-ut)/(ft-ut),1)),at=lt(at);else if(mt===4)ft===ut?at=0:(at=o(0,i(.5/(ft-ut)+(rt-ut)/(ft-ut),1)),at<.5?at*=2:at=1-2*(at-.5)),at=lt(at);else if(mt===5){if(ft===ut)at=0;else{var yt=ft-ut;rt=i(o(0,rt+.5-ut),ft-ut);var ht=-yt/2+rt,pt=yt/2;at=Math.sqrt(1-ht*ht/(pt*pt))}at=lt(at)}else mt===6?(ft===ut?at=0:(rt=i(o(0,rt+.5-ut),ft-ut),at=(1+Math.cos(Math.PI+Math.PI*2*rt/(ft-ut)))/2),at=lt(at)):(rt>=s(ut)&&(rt-ut<0?at=o(0,i(i(ft,1)-(ut-rt),1)):at=o(0,i(ft-rt,1))),at=lt(at));if(this.sm.v!==100){var ct=this.sm.v*.01;ct===0&&(ct=1e-8);var gt=.5-ct*.5;at<gt?at=0:(at=(at-gt)/ct,at>1&&(at=1))}return at*this.a.v},getValue:function(rt){this.iterateDynamicProperties(),this._mdf=rt||this._mdf,this._currentTextLength=this.elem.textProperty.currentData.l.length||0,rt&&this.data.r===2&&(this.e.v=this._currentTextLength);var nt=this.data.r===2?1:100/this.data.totalChars,it=this.o.v/nt,ot=this.s.v/nt+it,st=this.e.v/nt+it;if(ot>st){var lt=ot;ot=st,st=lt}this.finalS=ot,this.finalE=st}},extendPrototype([DynamicPropertyContainer],a);function et(tt,rt,nt){return new a(tt,rt)}return{getTextSelectorProp:et}}();function TextAnimatorDataProperty(o,i,s){var a={propType:!1},et=PropertyFactory.getProp,tt=i.a;this.a={r:tt.r?et(o,tt.r,0,degToRads,s):a,rx:tt.rx?et(o,tt.rx,0,degToRads,s):a,ry:tt.ry?et(o,tt.ry,0,degToRads,s):a,sk:tt.sk?et(o,tt.sk,0,degToRads,s):a,sa:tt.sa?et(o,tt.sa,0,degToRads,s):a,s:tt.s?et(o,tt.s,1,.01,s):a,a:tt.a?et(o,tt.a,1,0,s):a,o:tt.o?et(o,tt.o,0,.01,s):a,p:tt.p?et(o,tt.p,1,0,s):a,sw:tt.sw?et(o,tt.sw,0,0,s):a,sc:tt.sc?et(o,tt.sc,1,0,s):a,fc:tt.fc?et(o,tt.fc,1,0,s):a,fh:tt.fh?et(o,tt.fh,0,0,s):a,fs:tt.fs?et(o,tt.fs,0,.01,s):a,fb:tt.fb?et(o,tt.fb,0,.01,s):a,t:tt.t?et(o,tt.t,0,0,s):a},this.s=TextSelectorProp.getTextSelectorProp(o,i.s,s),this.s.t=i.s.t}function TextAnimatorProperty(o,i,s){this._isFirstFrame=!0,this._hasMaskedPath=!1,this._frameId=-1,this._textData=o,this._renderType=i,this._elem=s,this._animatorsData=createSizedArray(this._textData.a.length),this._pathData={},this._moreOptions={alignment:{}},this.renderedLetters=[],this.lettersChangedFlag=!1,this.initDynamicPropertyContainer(s)}TextAnimatorProperty.prototype.searchProperties=function(){var o,i=this._textData.a.length,s,a=PropertyFactory.getProp;for(o=0;o<i;o+=1)s=this._textData.a[o],this._animatorsData[o]=new TextAnimatorDataProperty(this._elem,s,this);this._textData.p&&"m"in this._textData.p?(this._pathData={a:a(this._elem,this._textData.p.a,0,0,this),f:a(this._elem,this._textData.p.f,0,0,this),l:a(this._elem,this._textData.p.l,0,0,this),r:a(this._elem,this._textData.p.r,0,0,this),p:a(this._elem,this._textData.p.p,0,0,this),m:this._elem.maskManager.getMaskProperty(this._textData.p.m)},this._hasMaskedPath=!0):this._hasMaskedPath=!1,this._moreOptions.alignment=a(this._elem,this._textData.m.a,1,0,this)},TextAnimatorProperty.prototype.getMeasures=function(o,i){if(this.lettersChangedFlag=i,!(!this._mdf&&!this._isFirstFrame&&!i&&(!this._hasMaskedPath||!this._pathData.m._mdf))){this._isFirstFrame=!1;var s=this._moreOptions.alignment.v,a=this._animatorsData,et=this._textData,tt=this.mHelper,rt=this._renderType,nt=this.renderedLetters.length,it,ot,st,lt,at=o.l,ut,ft,mt,yt,ht,pt,ct,gt,Et,bt,xt,Tt,wt,It,At;if(this._hasMaskedPath){if(At=this._pathData.m,!this._pathData.n||this._pathData._mdf){var kt=At.v;this._pathData.r.v&&(kt=kt.reverse()),ut={tLength:0,segments:[]},lt=kt._length-1;var Vt;for(Tt=0,st=0;st<lt;st+=1)Vt=bez.buildBezierData(kt.v[st],kt.v[st+1],[kt.o[st][0]-kt.v[st][0],kt.o[st][1]-kt.v[st][1]],[kt.i[st+1][0]-kt.v[st+1][0],kt.i[st+1][1]-kt.v[st+1][1]]),ut.tLength+=Vt.segmentLength,ut.segments.push(Vt),Tt+=Vt.segmentLength;st=lt,At.v.c&&(Vt=bez.buildBezierData(kt.v[st],kt.v[0],[kt.o[st][0]-kt.v[st][0],kt.o[st][1]-kt.v[st][1]],[kt.i[0][0]-kt.v[0][0],kt.i[0][1]-kt.v[0][1]]),ut.tLength+=Vt.segmentLength,ut.segments.push(Vt),Tt+=Vt.segmentLength),this._pathData.pi=ut}if(ut=this._pathData.pi,ft=this._pathData.f.v,ct=0,pt=1,yt=0,ht=!0,bt=ut.segments,ft<0&&At.v.c)for(ut.tLength<Math.abs(ft)&&(ft=-Math.abs(ft)%ut.tLength),ct=bt.length-1,Et=bt[ct].points,pt=Et.length-1;ft<0;)ft+=Et[pt].partialLength,pt-=1,pt<0&&(ct-=1,Et=bt[ct].points,pt=Et.length-1);Et=bt[ct].points,gt=Et[pt-1],mt=Et[pt],xt=mt.partialLength}lt=at.length,it=0,ot=0;var Mt=o.finalSize*1.2*.714,Ot=!0,Dt,Ct,St,$t,Lt;$t=a.length;var Rt,jt=-1,Ft,zt,Gt,Bt=ft,Wt=ct,Kt=pt,Qt=-1,Xt,er,sr,ur,nr,yr,Ar,Er,lr="",dr=this.defaultPropsArray,pr;if(o.j===2||o.j===1){var ar=0,mr=0,wr=o.j===2?-.5:-1,Sr=0,Or=!0;for(st=0;st<lt;st+=1)if(at[st].n){for(ar&&(ar+=mr);Sr<st;)at[Sr].animatorJustifyOffset=ar,Sr+=1;ar=0,Or=!0}else{for(St=0;St<$t;St+=1)Dt=a[St].a,Dt.t.propType&&(Or&&o.j===2&&(mr+=Dt.t.v*wr),Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),Rt.length?ar+=Dt.t.v*Rt[0]*wr:ar+=Dt.t.v*Rt*wr);Or=!1}for(ar&&(ar+=mr);Sr<st;)at[Sr].animatorJustifyOffset=ar,Sr+=1}for(st=0;st<lt;st+=1){if(tt.reset(),Xt=1,at[st].n)it=0,ot+=o.yOffset,ot+=Ot?1:0,ft=Bt,Ot=!1,this._hasMaskedPath&&(ct=Wt,pt=Kt,Et=bt[ct].points,gt=Et[pt-1],mt=Et[pt],xt=mt.partialLength,yt=0),lr="",Er="",yr="",pr="",dr=this.defaultPropsArray;else{if(this._hasMaskedPath){if(Qt!==at[st].line){switch(o.j){case 1:ft+=Tt-o.lineWidths[at[st].line];break;case 2:ft+=(Tt-o.lineWidths[at[st].line])/2;break}Qt=at[st].line}jt!==at[st].ind&&(at[jt]&&(ft+=at[jt].extra),ft+=at[st].an/2,jt=at[st].ind),ft+=s[0]*at[st].an*.005;var Ur=0;for(St=0;St<$t;St+=1)Dt=a[St].a,Dt.p.propType&&(Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),Rt.length?Ur+=Dt.p.v[0]*Rt[0]:Ur+=Dt.p.v[0]*Rt),Dt.a.propType&&(Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),Rt.length?Ur+=Dt.a.v[0]*Rt[0]:Ur+=Dt.a.v[0]*Rt);for(ht=!0,this._pathData.a.v&&(ft=at[0].an*.5+(Tt-this._pathData.f.v-at[0].an*.5-at[at.length-1].an*.5)*jt/(lt-1),ft+=this._pathData.f.v);ht;)yt+xt>=ft+Ur||!Et?(wt=(ft+Ur-yt)/mt.partialLength,zt=gt.point[0]+(mt.point[0]-gt.point[0])*wt,Gt=gt.point[1]+(mt.point[1]-gt.point[1])*wt,tt.translate(-s[0]*at[st].an*.005,-(s[1]*Mt)*.01),ht=!1):Et&&(yt+=mt.partialLength,pt+=1,pt>=Et.length&&(pt=0,ct+=1,bt[ct]?Et=bt[ct].points:At.v.c?(pt=0,ct=0,Et=bt[ct].points):(yt-=mt.partialLength,Et=null)),Et&&(gt=mt,mt=Et[pt],xt=mt.partialLength));Ft=at[st].an/2-at[st].add,tt.translate(-Ft,0,0)}else Ft=at[st].an/2-at[st].add,tt.translate(-Ft,0,0),tt.translate(-s[0]*at[st].an*.005,-s[1]*Mt*.01,0);for(St=0;St<$t;St+=1)Dt=a[St].a,Dt.t.propType&&(Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),(it!==0||o.j!==0)&&(this._hasMaskedPath?Rt.length?ft+=Dt.t.v*Rt[0]:ft+=Dt.t.v*Rt:Rt.length?it+=Dt.t.v*Rt[0]:it+=Dt.t.v*Rt));for(o.strokeWidthAnim&&(sr=o.sw||0),o.strokeColorAnim&&(o.sc?er=[o.sc[0],o.sc[1],o.sc[2]]:er=[0,0,0]),o.fillColorAnim&&o.fc&&(ur=[o.fc[0],o.fc[1],o.fc[2]]),St=0;St<$t;St+=1)Dt=a[St].a,Dt.a.propType&&(Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),Rt.length?tt.translate(-Dt.a.v[0]*Rt[0],-Dt.a.v[1]*Rt[1],Dt.a.v[2]*Rt[2]):tt.translate(-Dt.a.v[0]*Rt,-Dt.a.v[1]*Rt,Dt.a.v[2]*Rt));for(St=0;St<$t;St+=1)Dt=a[St].a,Dt.s.propType&&(Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),Rt.length?tt.scale(1+(Dt.s.v[0]-1)*Rt[0],1+(Dt.s.v[1]-1)*Rt[1],1):tt.scale(1+(Dt.s.v[0]-1)*Rt,1+(Dt.s.v[1]-1)*Rt,1));for(St=0;St<$t;St+=1){if(Dt=a[St].a,Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),Dt.sk.propType&&(Rt.length?tt.skewFromAxis(-Dt.sk.v*Rt[0],Dt.sa.v*Rt[1]):tt.skewFromAxis(-Dt.sk.v*Rt,Dt.sa.v*Rt)),Dt.r.propType&&(Rt.length?tt.rotateZ(-Dt.r.v*Rt[2]):tt.rotateZ(-Dt.r.v*Rt)),Dt.ry.propType&&(Rt.length?tt.rotateY(Dt.ry.v*Rt[1]):tt.rotateY(Dt.ry.v*Rt)),Dt.rx.propType&&(Rt.length?tt.rotateX(Dt.rx.v*Rt[0]):tt.rotateX(Dt.rx.v*Rt)),Dt.o.propType&&(Rt.length?Xt+=(Dt.o.v*Rt[0]-Xt)*Rt[0]:Xt+=(Dt.o.v*Rt-Xt)*Rt),o.strokeWidthAnim&&Dt.sw.propType&&(Rt.length?sr+=Dt.sw.v*Rt[0]:sr+=Dt.sw.v*Rt),o.strokeColorAnim&&Dt.sc.propType)for(nr=0;nr<3;nr+=1)Rt.length?er[nr]+=(Dt.sc.v[nr]-er[nr])*Rt[0]:er[nr]+=(Dt.sc.v[nr]-er[nr])*Rt;if(o.fillColorAnim&&o.fc){if(Dt.fc.propType)for(nr=0;nr<3;nr+=1)Rt.length?ur[nr]+=(Dt.fc.v[nr]-ur[nr])*Rt[0]:ur[nr]+=(Dt.fc.v[nr]-ur[nr])*Rt;Dt.fh.propType&&(Rt.length?ur=addHueToRGB(ur,Dt.fh.v*Rt[0]):ur=addHueToRGB(ur,Dt.fh.v*Rt)),Dt.fs.propType&&(Rt.length?ur=addSaturationToRGB(ur,Dt.fs.v*Rt[0]):ur=addSaturationToRGB(ur,Dt.fs.v*Rt)),Dt.fb.propType&&(Rt.length?ur=addBrightnessToRGB(ur,Dt.fb.v*Rt[0]):ur=addBrightnessToRGB(ur,Dt.fb.v*Rt))}}for(St=0;St<$t;St+=1)Dt=a[St].a,Dt.p.propType&&(Ct=a[St].s,Rt=Ct.getMult(at[st].anIndexes[St],et.a[St].s.totalChars),this._hasMaskedPath?Rt.length?tt.translate(0,Dt.p.v[1]*Rt[0],-Dt.p.v[2]*Rt[1]):tt.translate(0,Dt.p.v[1]*Rt,-Dt.p.v[2]*Rt):Rt.length?tt.translate(Dt.p.v[0]*Rt[0],Dt.p.v[1]*Rt[1],-Dt.p.v[2]*Rt[2]):tt.translate(Dt.p.v[0]*Rt,Dt.p.v[1]*Rt,-Dt.p.v[2]*Rt));if(o.strokeWidthAnim&&(yr=sr<0?0:sr),o.strokeColorAnim&&(Ar="rgb("+Math.round(er[0]*255)+","+Math.round(er[1]*255)+","+Math.round(er[2]*255)+")"),o.fillColorAnim&&o.fc&&(Er="rgb("+Math.round(ur[0]*255)+","+Math.round(ur[1]*255)+","+Math.round(ur[2]*255)+")"),this._hasMaskedPath){if(tt.translate(0,-o.ls),tt.translate(0,s[1]*Mt*.01+ot,0),this._pathData.p.v){It=(mt.point[1]-gt.point[1])/(mt.point[0]-gt.point[0]);var zr=Math.atan(It)*180/Math.PI;mt.point[0]<gt.point[0]&&(zr+=180),tt.rotate(-zr*Math.PI/180)}tt.translate(zt,Gt,0),ft-=s[0]*at[st].an*.005,at[st+1]&&jt!==at[st+1].ind&&(ft+=at[st].an/2,ft+=o.tr*.001*o.finalSize)}else{switch(tt.translate(it,ot,0),o.ps&&tt.translate(o.ps[0],o.ps[1]+o.ascent,0),o.j){case 1:tt.translate(at[st].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[at[st].line]),0,0);break;case 2:tt.translate(at[st].animatorJustifyOffset+o.justifyOffset+(o.boxWidth-o.lineWidths[at[st].line])/2,0,0);break}tt.translate(0,-o.ls),tt.translate(Ft,0,0),tt.translate(s[0]*at[st].an*.005,s[1]*Mt*.01,0),it+=at[st].l+o.tr*.001*o.finalSize}rt==="html"?lr=tt.toCSS():rt==="svg"?lr=tt.to2dCSS():dr=[tt.props[0],tt.props[1],tt.props[2],tt.props[3],tt.props[4],tt.props[5],tt.props[6],tt.props[7],tt.props[8],tt.props[9],tt.props[10],tt.props[11],tt.props[12],tt.props[13],tt.props[14],tt.props[15]],pr=Xt}nt<=st?(Lt=new LetterProps(pr,yr,Ar,Er,lr,dr),this.renderedLetters.push(Lt),nt+=1,this.lettersChangedFlag=!0):(Lt=this.renderedLetters[st],this.lettersChangedFlag=Lt.update(pr,yr,Ar,Er,lr,dr)||this.lettersChangedFlag)}}},TextAnimatorProperty.prototype.getValue=function(){this._elem.globalData.frameId!==this._frameId&&(this._frameId=this._elem.globalData.frameId,this.iterateDynamicProperties())},TextAnimatorProperty.prototype.mHelper=new Matrix,TextAnimatorProperty.prototype.defaultPropsArray=[],extendPrototype([DynamicPropertyContainer],TextAnimatorProperty);function ITextElement(){}ITextElement.prototype.initElement=function(o,i,s){this.lettersChangedFlag=!0,this.initFrame(),this.initBaseData(o,i,s),this.textProperty=new TextProperty(this,o.t,this.dynamicProperties),this.textAnimator=new TextAnimatorProperty(o.t,this.renderType,this),this.initTransform(o,i,s),this.initHierarchy(),this.initRenderable(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),this.createContent(),this.hide(),this.textAnimator.searchProperties(this.dynamicProperties)},ITextElement.prototype.prepareFrame=function(o){this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange)},ITextElement.prototype.createPathShape=function(o,i){var s,a=i.length,et,tt="";for(s=0;s<a;s+=1)i[s].ty==="sh"&&(et=i[s].ks.k,tt+=buildShapeString(et,et.i.length,!0,o));return tt},ITextElement.prototype.updateDocumentData=function(o,i){this.textProperty.updateDocumentData(o,i)},ITextElement.prototype.canResizeFont=function(o){this.textProperty.canResizeFont(o)},ITextElement.prototype.setMinimumFontSize=function(o){this.textProperty.setMinimumFontSize(o)},ITextElement.prototype.applyTextPropertiesToMatrix=function(o,i,s,a,et){switch(o.ps&&i.translate(o.ps[0],o.ps[1]+o.ascent,0),i.translate(0,-o.ls,0),o.j){case 1:i.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[s]),0,0);break;case 2:i.translate(o.justifyOffset+(o.boxWidth-o.lineWidths[s])/2,0,0);break}i.translate(a,et,0)},ITextElement.prototype.buildColor=function(o){return"rgb("+Math.round(o[0]*255)+","+Math.round(o[1]*255)+","+Math.round(o[2]*255)+")"},ITextElement.prototype.emptyProp=new LetterProps,ITextElement.prototype.destroy=function(){},ITextElement.prototype.validateText=function(){(this.textProperty._mdf||this.textProperty._isFirstFrame)&&(this.buildNewText(),this.textProperty._isFirstFrame=!1,this.textProperty._mdf=!1)};var emptyShapeData={shapes:[]};function SVGTextLottieElement(o,i,s){this.textSpans=[],this.renderType="svg",this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,SVGBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],SVGTextLottieElement),SVGTextLottieElement.prototype.createContent=function(){this.data.singleShape&&!this.globalData.fontManager.chars&&(this.textContainer=createNS("text"))},SVGTextLottieElement.prototype.buildTextContents=function(o){for(var i=0,s=o.length,a=[],et="";i<s;)o[i]==="\r"||o[i]===""?(a.push(et),et=""):et+=o[i],i+=1;return a.push(et),a},SVGTextLottieElement.prototype.buildShapeData=function(o,i){if(o.shapes&&o.shapes.length){var s=o.shapes[0];if(s.it){var a=s.it[s.it.length-1];a.s&&(a.s.k[0]=i,a.s.k[1]=i)}}return o},SVGTextLottieElement.prototype.buildNewText=function(){this.addDynamicProperty(this);var o,i,s=this.textProperty.currentData;this.renderedLetters=createSizedArray(s?s.l.length:0),s.fc?this.layerElement.setAttribute("fill",this.buildColor(s.fc)):this.layerElement.setAttribute("fill","rgba(0,0,0,0)"),s.sc&&(this.layerElement.setAttribute("stroke",this.buildColor(s.sc)),this.layerElement.setAttribute("stroke-width",s.sw)),this.layerElement.setAttribute("font-size",s.finalSize);var a=this.globalData.fontManager.getFontByName(s.f);if(a.fClass)this.layerElement.setAttribute("class",a.fClass);else{this.layerElement.setAttribute("font-family",a.fFamily);var et=s.fWeight,tt=s.fStyle;this.layerElement.setAttribute("font-style",tt),this.layerElement.setAttribute("font-weight",et)}this.layerElement.setAttribute("aria-label",s.t);var rt=s.l||[],nt=!!this.globalData.fontManager.chars;i=rt.length;var it,ot=this.mHelper,st="",lt=this.data.singleShape,at=0,ut=0,ft=!0,mt=s.tr*.001*s.finalSize;if(lt&&!nt&&!s.sz){var yt=this.textContainer,ht="start";switch(s.j){case 1:ht="end";break;case 2:ht="middle";break;default:ht="start";break}yt.setAttribute("text-anchor",ht),yt.setAttribute("letter-spacing",mt);var pt=this.buildTextContents(s.finalText);for(i=pt.length,ut=s.ps?s.ps[1]+s.ascent:0,o=0;o<i;o+=1)it=this.textSpans[o].span||createNS("tspan"),it.textContent=pt[o],it.setAttribute("x",0),it.setAttribute("y",ut),it.style.display="inherit",yt.appendChild(it),this.textSpans[o]||(this.textSpans[o]={span:null,glyph:null}),this.textSpans[o].span=it,ut+=s.finalLineHeight;this.layerElement.appendChild(yt)}else{var ct=this.textSpans.length,gt;for(o=0;o<i;o+=1){if(this.textSpans[o]||(this.textSpans[o]={span:null,childSpan:null,glyph:null}),!nt||!lt||o===0){if(it=ct>o?this.textSpans[o].span:createNS(nt?"g":"text"),ct<=o){if(it.setAttribute("stroke-linecap","butt"),it.setAttribute("stroke-linejoin","round"),it.setAttribute("stroke-miterlimit","4"),this.textSpans[o].span=it,nt){var Et=createNS("g");it.appendChild(Et),this.textSpans[o].childSpan=Et}this.textSpans[o].span=it,this.layerElement.appendChild(it)}it.style.display="inherit"}if(ot.reset(),lt&&(rt[o].n&&(at=-mt,ut+=s.yOffset,ut+=ft?1:0,ft=!1),this.applyTextPropertiesToMatrix(s,ot,rt[o].line,at,ut),at+=rt[o].l||0,at+=mt),nt){gt=this.globalData.fontManager.getCharData(s.finalText[o],a.fStyle,this.globalData.fontManager.getFontByName(s.f).fFamily);var bt;if(gt.t===1)bt=new SVGCompElement(gt.data,this.globalData,this);else{var xt=emptyShapeData;gt.data&&gt.data.shapes&&(xt=this.buildShapeData(gt.data,s.finalSize)),bt=new SVGShapeElement(xt,this.globalData,this)}if(this.textSpans[o].glyph){var Tt=this.textSpans[o].glyph;this.textSpans[o].childSpan.removeChild(Tt.layerElement),Tt.destroy()}this.textSpans[o].glyph=bt,bt._debug=!0,bt.prepareFrame(0),bt.renderFrame(),this.textSpans[o].childSpan.appendChild(bt.layerElement),gt.t===1&&this.textSpans[o].childSpan.setAttribute("transform","scale("+s.finalSize/100+","+s.finalSize/100+")")}else lt&&it.setAttribute("transform","translate("+ot.props[12]+","+ot.props[13]+")"),it.textContent=rt[o].val,it.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve")}lt&&it&&it.setAttribute("d",st)}for(;o<this.textSpans.length;)this.textSpans[o].span.style.display="none",o+=1;this._sizeChanged=!0},SVGTextLottieElement.prototype.sourceRectAtTime=function(){if(this.prepareFrame(this.comp.renderedFrame-this.data.st),this.renderInnerContent(),this._sizeChanged){this._sizeChanged=!1;var o=this.layerElement.getBBox();this.bbox={top:o.y,left:o.x,width:o.width,height:o.height}}return this.bbox},SVGTextLottieElement.prototype.getValue=function(){var o,i=this.textSpans.length,s;for(this.renderedFrame=this.comp.renderedFrame,o=0;o<i;o+=1)s=this.textSpans[o].glyph,s&&(s.prepareFrame(this.comp.renderedFrame-this.data.st),s._mdf&&(this._mdf=!0))},SVGTextLottieElement.prototype.renderInnerContent=function(){if(this.validateText(),(!this.data.singleShape||this._mdf)&&(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),this.lettersChangedFlag||this.textAnimator.lettersChangedFlag)){this._sizeChanged=!0;var o,i,s=this.textAnimator.renderedLetters,a=this.textProperty.currentData.l;i=a.length;var et,tt,rt;for(o=0;o<i;o+=1)a[o].n||(et=s[o],tt=this.textSpans[o].span,rt=this.textSpans[o].glyph,rt&&rt.renderFrame(),et._mdf.m&&tt.setAttribute("transform",et.m),et._mdf.o&&tt.setAttribute("opacity",et.o),et._mdf.sw&&tt.setAttribute("stroke-width",et.sw),et._mdf.sc&&tt.setAttribute("stroke",et.sc),et._mdf.fc&&tt.setAttribute("fill",et.fc))}};function ISolidElement(o,i,s){this.initElement(o,i,s)}extendPrototype([IImageElement],ISolidElement),ISolidElement.prototype.createContent=function(){var o=createNS("rect");o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.layerElement.appendChild(o)};function NullElement(o,i,s){this.initFrame(),this.initBaseData(o,i,s),this.initFrame(),this.initTransform(o,i,s),this.initHierarchy()}NullElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},NullElement.prototype.renderFrame=function(){},NullElement.prototype.getBaseElement=function(){return null},NullElement.prototype.destroy=function(){},NullElement.prototype.sourceRectAtTime=function(){},NullElement.prototype.hide=function(){},extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement],NullElement);function SVGRendererBase(){}extendPrototype([BaseRenderer],SVGRendererBase),SVGRendererBase.prototype.createNull=function(o){return new NullElement(o,this.globalData,this)},SVGRendererBase.prototype.createShape=function(o){return new SVGShapeElement(o,this.globalData,this)},SVGRendererBase.prototype.createText=function(o){return new SVGTextLottieElement(o,this.globalData,this)},SVGRendererBase.prototype.createImage=function(o){return new IImageElement(o,this.globalData,this)},SVGRendererBase.prototype.createSolid=function(o){return new ISolidElement(o,this.globalData,this)},SVGRendererBase.prototype.configAnimation=function(o){this.svgElement.setAttribute("xmlns","http://www.w3.org/2000/svg"),this.svgElement.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),this.renderConfig.viewBoxSize?this.svgElement.setAttribute("viewBox",this.renderConfig.viewBoxSize):this.svgElement.setAttribute("viewBox","0 0 "+o.w+" "+o.h),this.renderConfig.viewBoxOnly||(this.svgElement.setAttribute("width",o.w),this.svgElement.setAttribute("height",o.h),this.svgElement.style.width="100%",this.svgElement.style.height="100%",this.svgElement.style.transform="translate3d(0,0,0)",this.svgElement.style.contentVisibility=this.renderConfig.contentVisibility),this.renderConfig.width&&this.svgElement.setAttribute("width",this.renderConfig.width),this.renderConfig.height&&this.svgElement.setAttribute("height",this.renderConfig.height),this.renderConfig.className&&this.svgElement.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.svgElement.setAttribute("id",this.renderConfig.id),this.renderConfig.focusable!==void 0&&this.svgElement.setAttribute("focusable",this.renderConfig.focusable),this.svgElement.setAttribute("preserveAspectRatio",this.renderConfig.preserveAspectRatio),this.animationItem.wrapper.appendChild(this.svgElement);var i=this.globalData.defs;this.setupGlobalData(o,i),this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.data=o;var s=createNS("clipPath"),a=createNS("rect");a.setAttribute("width",o.w),a.setAttribute("height",o.h),a.setAttribute("x",0),a.setAttribute("y",0);var et=createElementID();s.setAttribute("id",et),s.appendChild(a),this.layerElement.setAttribute("clip-path","url("+getLocationHref()+"#"+et+")"),i.appendChild(s),this.layers=o.layers,this.elements=createSizedArray(o.layers.length)},SVGRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.layerElement=null,this.globalData.defs=null;var o,i=this.layers?this.layers.length:0;for(o=0;o<i;o+=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},SVGRendererBase.prototype.updateContainerSize=function(){},SVGRendererBase.prototype.findIndexByInd=function(o){var i=0,s=this.layers.length;for(i=0;i<s;i+=1)if(this.layers[i].ind===o)return i;return-1},SVGRendererBase.prototype.buildItem=function(o){var i=this.elements;if(!(i[o]||this.layers[o].ty===99)){i[o]=!0;var s=this.createItem(this.layers[o]);if(i[o]=s,getExpressionsPlugin()&&(this.layers[o].ty===0&&this.globalData.projectInterface.registerComposition(s),s.initExpressions()),this.appendElementInPos(s,o),this.layers[o].tt){var a="tp"in this.layers[o]?this.findIndexByInd(this.layers[o].tp):o-1;if(a===-1)return;if(!this.elements[a]||this.elements[a]===!0)this.buildItem(a),this.addPendingElement(s);else{var et=i[a],tt=et.getMatte(this.layers[o].tt);s.setMatte(tt)}}}},SVGRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();if(o.checkParenting(),o.data.tt)for(var i=0,s=this.elements.length;i<s;){if(this.elements[i]===o){var a="tp"in o.data?this.findIndexByInd(o.data.tp):i-1,et=this.elements[a],tt=et.getMatte(this.layers[i].tt);o.setMatte(tt);break}i+=1}}},SVGRendererBase.prototype.renderFrame=function(o){if(!(this.renderedFrame===o||this.destroyed)){o===null?o=this.renderedFrame:this.renderedFrame=o,this.globalData.frameNum=o,this.globalData.frameId+=1,this.globalData.projectInterface.currentFrame=o,this.globalData._mdf=!1;var i,s=this.layers.length;for(this.completeLayers||this.checkLayers(o),i=s-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].prepareFrame(o-this.layers[i].st);if(this.globalData._mdf)for(i=0;i<s;i+=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()}},SVGRendererBase.prototype.appendElementInPos=function(o,i){var s=o.getBaseElement();if(s){for(var a=0,et;a<i;)this.elements[a]&&this.elements[a]!==!0&&this.elements[a].getBaseElement()&&(et=this.elements[a].getBaseElement()),a+=1;et?this.layerElement.insertBefore(s,et):this.layerElement.appendChild(s)}},SVGRendererBase.prototype.hide=function(){this.layerElement.style.display="none"},SVGRendererBase.prototype.show=function(){this.layerElement.style.display="block"};function ICompElement(){}extendPrototype([BaseElement,TransformElement,HierarchyElement,FrameElement,RenderableDOMElement],ICompElement),ICompElement.prototype.initElement=function(o,i,s){this.initFrame(),this.initBaseData(o,i,s),this.initTransform(o,i,s),this.initRenderable(),this.initHierarchy(),this.initRendererElement(),this.createContainerElements(),this.createRenderableComponents(),(this.data.xt||!i.progressiveLoad)&&this.buildAllItems(),this.hide()},ICompElement.prototype.prepareFrame=function(o){if(this._mdf=!1,this.prepareRenderableFrame(o),this.prepareProperties(o,this.isInRange),!(!this.isInRange&&!this.data.xt)){if(this.tm._placeholder)this.renderedFrame=o/this.data.sr;else{var i=this.tm.v;i===this.data.op&&(i=this.data.op-1),this.renderedFrame=i}var s,a=this.elements.length;for(this.completeLayers||this.checkLayers(this.renderedFrame),s=a-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&(this.elements[s].prepareFrame(this.renderedFrame-this.layers[s].st),this.elements[s]._mdf&&(this._mdf=!0))}},ICompElement.prototype.renderInnerContent=function(){var o,i=this.layers.length;for(o=0;o<i;o+=1)(this.completeLayers||this.elements[o])&&this.elements[o].renderFrame()},ICompElement.prototype.setElements=function(o){this.elements=o},ICompElement.prototype.getElements=function(){return this.elements},ICompElement.prototype.destroyElements=function(){var o,i=this.layers.length;for(o=0;o<i;o+=1)this.elements[o]&&this.elements[o].destroy()},ICompElement.prototype.destroy=function(){this.destroyElements(),this.destroyBaseElement()};function SVGCompElement(o,i,s){this.layers=o.layers,this.supports3d=!0,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,i,s),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([SVGRendererBase,ICompElement,SVGBaseElement],SVGCompElement),SVGCompElement.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function SVGRenderer(o,i){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.svgElement=createNS("svg");var s="";if(i&&i.title){var a=createNS("title"),et=createElementID();a.setAttribute("id",et),a.textContent=i.title,this.svgElement.appendChild(a),s+=et}if(i&&i.description){var tt=createNS("desc"),rt=createElementID();tt.setAttribute("id",rt),tt.textContent=i.description,this.svgElement.appendChild(tt),s+=" "+rt}s&&this.svgElement.setAttribute("aria-labelledby",s);var nt=createNS("defs");this.svgElement.appendChild(nt);var it=createNS("g");this.svgElement.appendChild(it),this.layerElement=it,this.renderConfig={preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",progressiveLoad:i&&i.progressiveLoad||!1,hideOnTransparent:!(i&&i.hideOnTransparent===!1),viewBoxOnly:i&&i.viewBoxOnly||!1,viewBoxSize:i&&i.viewBoxSize||!1,className:i&&i.className||"",id:i&&i.id||"",focusable:i&&i.focusable,filterSize:{width:i&&i.filterSize&&i.filterSize.width||"100%",height:i&&i.filterSize&&i.filterSize.height||"100%",x:i&&i.filterSize&&i.filterSize.x||"0%",y:i&&i.filterSize&&i.filterSize.y||"0%"},width:i&&i.width,height:i&&i.height,runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,defs:nt,renderConfig:this.renderConfig},this.elements=[],this.pendingElements=[],this.destroyed=!1,this.rendererType="svg"}extendPrototype([SVGRendererBase],SVGRenderer),SVGRenderer.prototype.createComp=function(o){return new SVGCompElement(o,this.globalData,this)};function ShapeTransformManager(){this.sequences={},this.sequenceList=[],this.transform_key_count=0}ShapeTransformManager.prototype={addTransformSequence:function(i){var s,a=i.length,et="_";for(s=0;s<a;s+=1)et+=i[s].transform.key+"_";var tt=this.sequences[et];return tt||(tt={transforms:[].concat(i),finalTransform:new Matrix,_mdf:!1},this.sequences[et]=tt,this.sequenceList.push(tt)),tt},processSequence:function(i,s){for(var a=0,et=i.transforms.length,tt=s;a<et&&!s;){if(i.transforms[a].transform.mProps._mdf){tt=!0;break}a+=1}if(tt)for(i.finalTransform.reset(),a=et-1;a>=0;a-=1)i.finalTransform.multiply(i.transforms[a].transform.mProps.v);i._mdf=tt},processSequences:function(i){var s,a=this.sequenceList.length;for(s=0;s<a;s+=1)this.processSequence(this.sequenceList[s],i)},getNewKey:function(){return this.transform_key_count+=1,"_"+this.transform_key_count}};var lumaLoader=function(){var i="__lottie_element_luma_buffer",s=null,a=null,et=null;function tt(){var it=createNS("svg"),ot=createNS("filter"),st=createNS("feColorMatrix");return ot.setAttribute("id",i),st.setAttribute("type","matrix"),st.setAttribute("color-interpolation-filters","sRGB"),st.setAttribute("values","0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0, 0.3, 0.3, 0.3, 0, 0"),ot.appendChild(st),it.appendChild(ot),it.setAttribute("id",i+"_svg"),featureSupport.svgLumaHidden&&(it.style.display="none"),it}function rt(){s||(et=tt(),document.body.appendChild(et),s=createTag("canvas"),a=s.getContext("2d"),a.filter="url(#"+i+")",a.fillStyle="rgba(0,0,0,0)",a.fillRect(0,0,1,1))}function nt(it){return s||rt(),s.width=it.width,s.height=it.height,a.filter="url(#"+i+")",s}return{load:rt,get:nt}};function createCanvas(o,i){if(featureSupport.offscreenCanvas)return new OffscreenCanvas(o,i);var s=createTag("canvas");return s.width=o,s.height=i,s}var assetLoader=function(){return{loadLumaCanvas:lumaLoader.load,getLumaCanvas:lumaLoader.get,createCanvas}}(),registeredEffects={};function CVEffects(o){var i,s=o.data.ef?o.data.ef.length:0;this.filters=[];var a;for(i=0;i<s;i+=1){a=null;var et=o.data.ef[i].ty;if(registeredEffects[et]){var tt=registeredEffects[et].effect;a=new tt(o.effectsManager.effectElements[i],o)}a&&this.filters.push(a)}this.filters.length&&o.addRenderableComponent(this)}CVEffects.prototype.renderFrame=function(o){var i,s=this.filters.length;for(i=0;i<s;i+=1)this.filters[i].renderFrame(o)},CVEffects.prototype.getEffects=function(o){var i,s=this.filters.length,a=[];for(i=0;i<s;i+=1)this.filters[i].type===o&&a.push(this.filters[i]);return a};function registerEffect(o,i){registeredEffects[o]={effect:i}}function CVMaskElement(o,i){this.data=o,this.element=i,this.masksProperties=this.data.masksProperties||[],this.viewData=createSizedArray(this.masksProperties.length);var s,a=this.masksProperties.length,et=!1;for(s=0;s<a;s+=1)this.masksProperties[s].mode!=="n"&&(et=!0),this.viewData[s]=ShapePropertyFactory.getShapeProp(this.element,this.masksProperties[s],3);this.hasMasks=et,et&&this.element.addRenderableComponent(this)}CVMaskElement.prototype.renderFrame=function(){if(this.hasMasks){var o=this.element.finalTransform.mat,i=this.element.canvasContext,s,a=this.masksProperties.length,et,tt,rt;for(i.beginPath(),s=0;s<a;s+=1)if(this.masksProperties[s].mode!=="n"){this.masksProperties[s].inv&&(i.moveTo(0,0),i.lineTo(this.element.globalData.compSize.w,0),i.lineTo(this.element.globalData.compSize.w,this.element.globalData.compSize.h),i.lineTo(0,this.element.globalData.compSize.h),i.lineTo(0,0)),rt=this.viewData[s].v,et=o.applyToPointArray(rt.v[0][0],rt.v[0][1],0),i.moveTo(et[0],et[1]);var nt,it=rt._length;for(nt=1;nt<it;nt+=1)tt=o.applyToTriplePoints(rt.o[nt-1],rt.i[nt],rt.v[nt]),i.bezierCurveTo(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5]);tt=o.applyToTriplePoints(rt.o[nt-1],rt.i[0],rt.v[0]),i.bezierCurveTo(tt[0],tt[1],tt[2],tt[3],tt[4],tt[5])}this.element.globalData.renderer.save(!0),i.clip()}},CVMaskElement.prototype.getMaskProperty=MaskElement.prototype.getMaskProperty,CVMaskElement.prototype.destroy=function(){this.element=null};function CVBaseElement(){}var operationsMap={1:"source-in",2:"source-out",3:"source-in",4:"source-out"};CVBaseElement.prototype={createElements:function(){},initRendererElement:function(){},createContainerElements:function(){if(this.data.tt>=1){this.buffers=[];var i=this.globalData.canvasContext,s=assetLoader.createCanvas(i.canvas.width,i.canvas.height);this.buffers.push(s);var a=assetLoader.createCanvas(i.canvas.width,i.canvas.height);this.buffers.push(a),this.data.tt>=3&&!document._isProxy&&assetLoader.loadLumaCanvas()}this.canvasContext=this.globalData.canvasContext,this.transformCanvas=this.globalData.transformCanvas,this.renderableEffectsManager=new CVEffects(this),this.searchEffectTransforms()},createContent:function(){},setBlendMode:function(){var i=this.globalData;if(i.blendMode!==this.data.bm){i.blendMode=this.data.bm;var s=getBlendMode(this.data.bm);i.canvasContext.globalCompositeOperation=s}},createRenderableComponents:function(){this.maskManager=new CVMaskElement(this.data,this),this.transformEffects=this.renderableEffectsManager.getEffects(effectTypes.TRANSFORM_EFFECT)},hideElement:function(){!this.hidden&&(!this.isInRange||this.isTransparent)&&(this.hidden=!0)},showElement:function(){this.isInRange&&!this.isTransparent&&(this.hidden=!1,this._isFirstFrame=!0,this.maskManager._isFirstFrame=!0)},clearCanvas:function(i){i.clearRect(this.transformCanvas.tx,this.transformCanvas.ty,this.transformCanvas.w*this.transformCanvas.sx,this.transformCanvas.h*this.transformCanvas.sy)},prepareLayer:function(){if(this.data.tt>=1){var i=this.buffers[0],s=i.getContext("2d");this.clearCanvas(s),s.drawImage(this.canvasContext.canvas,0,0),this.currentTransform=this.canvasContext.getTransform(),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform)}},exitLayer:function(){if(this.data.tt>=1){var i=this.buffers[1],s=i.getContext("2d");this.clearCanvas(s),s.drawImage(this.canvasContext.canvas,0,0),this.canvasContext.setTransform(1,0,0,1,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.setTransform(this.currentTransform);var a=this.comp.getElementById("tp"in this.data?this.data.tp:this.data.ind-1);if(a.renderFrame(!0),this.canvasContext.setTransform(1,0,0,1,0,0),this.data.tt>=3&&!document._isProxy){var et=assetLoader.getLumaCanvas(this.canvasContext.canvas),tt=et.getContext("2d");tt.drawImage(this.canvasContext.canvas,0,0),this.clearCanvas(this.canvasContext),this.canvasContext.drawImage(et,0,0)}this.canvasContext.globalCompositeOperation=operationsMap[this.data.tt],this.canvasContext.drawImage(i,0,0),this.canvasContext.globalCompositeOperation="destination-over",this.canvasContext.drawImage(this.buffers[0],0,0),this.canvasContext.setTransform(this.currentTransform),this.canvasContext.globalCompositeOperation="source-over"}},renderFrame:function(i){if(!(this.hidden||this.data.hd)&&!(this.data.td===1&&!i)){this.renderTransform(),this.renderRenderable(),this.renderLocalTransform(),this.setBlendMode();var s=this.data.ty===0;this.prepareLayer(),this.globalData.renderer.save(s),this.globalData.renderer.ctxTransform(this.finalTransform.localMat.props),this.globalData.renderer.ctxOpacity(this.finalTransform.localOpacity),this.renderInnerContent(),this.globalData.renderer.restore(s),this.exitLayer(),this.maskManager.hasMasks&&this.globalData.renderer.restore(!0),this._isFirstFrame&&(this._isFirstFrame=!1)}},destroy:function(){this.canvasContext=null,this.data=null,this.globalData=null,this.maskManager.destroy()},mHelper:new Matrix},CVBaseElement.prototype.hide=CVBaseElement.prototype.hideElement,CVBaseElement.prototype.show=CVBaseElement.prototype.showElement;function CVShapeData(o,i,s,a){this.styledShapes=[],this.tr=[0,0,0,0,0,0];var et=4;i.ty==="rc"?et=5:i.ty==="el"?et=6:i.ty==="sr"&&(et=7),this.sh=ShapePropertyFactory.getShapeProp(o,i,et,o);var tt,rt=s.length,nt;for(tt=0;tt<rt;tt+=1)s[tt].closed||(nt={transforms:a.addTransformSequence(s[tt].transforms),trNodes:[]},this.styledShapes.push(nt),s[tt].elements.push(nt))}CVShapeData.prototype.setAsAnimated=SVGShapeData.prototype.setAsAnimated;function CVShapeElement(o,i,s){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.itemsData=[],this.prevViewData=[],this.shapeModifiers=[],this.processedElements=[],this.transformsManager=new ShapeTransformManager,this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,IShapeElement,HierarchyElement,FrameElement,RenderableElement],CVShapeElement),CVShapeElement.prototype.initElement=RenderableDOMElement.prototype.initElement,CVShapeElement.prototype.transformHelper={opacity:1,_opMdf:!1},CVShapeElement.prototype.dashResetter=[],CVShapeElement.prototype.createContent=function(){this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[])},CVShapeElement.prototype.createStyleElement=function(o,i){var s={data:o,type:o.ty,preTransforms:this.transformsManager.addTransformSequence(i),transforms:[],elements:[],closed:o.hd===!0},a={};if(o.ty==="fl"||o.ty==="st"?(a.c=PropertyFactory.getProp(this,o.c,1,255,this),a.c.k||(s.co="rgb("+bmFloor(a.c.v[0])+","+bmFloor(a.c.v[1])+","+bmFloor(a.c.v[2])+")")):(o.ty==="gf"||o.ty==="gs")&&(a.s=PropertyFactory.getProp(this,o.s,1,null,this),a.e=PropertyFactory.getProp(this,o.e,1,null,this),a.h=PropertyFactory.getProp(this,o.h||{k:0},0,.01,this),a.a=PropertyFactory.getProp(this,o.a||{k:0},0,degToRads,this),a.g=new GradientProperty(this,o.g,this)),a.o=PropertyFactory.getProp(this,o.o,0,.01,this),o.ty==="st"||o.ty==="gs"){if(s.lc=lineCapEnum[o.lc||2],s.lj=lineJoinEnum[o.lj||2],o.lj==1&&(s.ml=o.ml),a.w=PropertyFactory.getProp(this,o.w,0,null,this),a.w.k||(s.wi=a.w.v),o.d){var et=new DashProperty(this,o.d,"canvas",this);a.d=et,a.d.k||(s.da=a.d.dashArray,s.do=a.d.dashoffset[0])}}else s.r=o.r===2?"evenodd":"nonzero";return this.stylesList.push(s),a.style=s,a},CVShapeElement.prototype.createGroupElement=function(){var o={it:[],prevViewData:[]};return o},CVShapeElement.prototype.createTransformElement=function(o){var i={transform:{opacity:1,_opMdf:!1,key:this.transformsManager.getNewKey(),op:PropertyFactory.getProp(this,o.o,0,.01,this),mProps:TransformPropertyFactory.getTransformProperty(this,o,this)}};return i},CVShapeElement.prototype.createShapeElement=function(o){var i=new CVShapeData(this,o,this.stylesList,this.transformsManager);return this.shapes.push(i),this.addShapeToModifiers(i),i},CVShapeElement.prototype.reloadShapes=function(){this._isFirstFrame=!0;var o,i=this.itemsData.length;for(o=0;o<i;o+=1)this.prevViewData[o]=this.itemsData[o];for(this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,!0,[]),i=this.dynamicProperties.length,o=0;o<i;o+=1)this.dynamicProperties[o].getValue();this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame)},CVShapeElement.prototype.addTransformToStyleList=function(o){var i,s=this.stylesList.length;for(i=0;i<s;i+=1)this.stylesList[i].closed||this.stylesList[i].transforms.push(o)},CVShapeElement.prototype.removeTransformFromStyleList=function(){var o,i=this.stylesList.length;for(o=0;o<i;o+=1)this.stylesList[o].closed||this.stylesList[o].transforms.pop()},CVShapeElement.prototype.closeStyles=function(o){var i,s=o.length;for(i=0;i<s;i+=1)o[i].closed=!0},CVShapeElement.prototype.searchShapes=function(o,i,s,a,et){var tt,rt=o.length-1,nt,it,ot=[],st=[],lt,at,ut,ft=[].concat(et);for(tt=rt;tt>=0;tt-=1){if(lt=this.searchProcessedElement(o[tt]),lt?i[tt]=s[lt-1]:o[tt]._shouldRender=a,o[tt].ty==="fl"||o[tt].ty==="st"||o[tt].ty==="gf"||o[tt].ty==="gs")lt?i[tt].style.closed=!1:i[tt]=this.createStyleElement(o[tt],ft),ot.push(i[tt].style);else if(o[tt].ty==="gr"){if(!lt)i[tt]=this.createGroupElement(o[tt]);else for(it=i[tt].it.length,nt=0;nt<it;nt+=1)i[tt].prevViewData[nt]=i[tt].it[nt];this.searchShapes(o[tt].it,i[tt].it,i[tt].prevViewData,a,ft)}else o[tt].ty==="tr"?(lt||(ut=this.createTransformElement(o[tt]),i[tt]=ut),ft.push(i[tt]),this.addTransformToStyleList(i[tt])):o[tt].ty==="sh"||o[tt].ty==="rc"||o[tt].ty==="el"||o[tt].ty==="sr"?lt||(i[tt]=this.createShapeElement(o[tt])):o[tt].ty==="tm"||o[tt].ty==="rd"||o[tt].ty==="pb"||o[tt].ty==="zz"||o[tt].ty==="op"?(lt?(at=i[tt],at.closed=!1):(at=ShapeModifiers.getModifier(o[tt].ty),at.init(this,o[tt]),i[tt]=at,this.shapeModifiers.push(at)),st.push(at)):o[tt].ty==="rp"&&(lt?(at=i[tt],at.closed=!0):(at=ShapeModifiers.getModifier(o[tt].ty),i[tt]=at,at.init(this,o,tt,i),this.shapeModifiers.push(at),a=!1),st.push(at));this.addProcessedElement(o[tt],tt+1)}for(this.removeTransformFromStyleList(),this.closeStyles(ot),rt=st.length,tt=0;tt<rt;tt+=1)st[tt].closed=!0},CVShapeElement.prototype.renderInnerContent=function(){this.transformHelper.opacity=1,this.transformHelper._opMdf=!1,this.renderModifiers(),this.transformsManager.processSequences(this._isFirstFrame),this.renderShape(this.transformHelper,this.shapesData,this.itemsData,!0)},CVShapeElement.prototype.renderShapeTransform=function(o,i){(o._opMdf||i.op._mdf||this._isFirstFrame)&&(i.opacity=o.opacity,i.opacity*=i.op.v,i._opMdf=!0)},CVShapeElement.prototype.drawLayer=function(){var o,i=this.stylesList.length,s,a,et,tt,rt,nt,it=this.globalData.renderer,ot=this.globalData.canvasContext,st,lt;for(o=0;o<i;o+=1)if(lt=this.stylesList[o],st=lt.type,!((st==="st"||st==="gs")&&lt.wi===0||!lt.data._shouldRender||lt.coOp===0||this.globalData.currentGlobalAlpha===0)){for(it.save(),rt=lt.elements,st==="st"||st==="gs"?(it.ctxStrokeStyle(st==="st"?lt.co:lt.grd),it.ctxLineWidth(lt.wi),it.ctxLineCap(lt.lc),it.ctxLineJoin(lt.lj),it.ctxMiterLimit(lt.ml||0)):it.ctxFillStyle(st==="fl"?lt.co:lt.grd),it.ctxOpacity(lt.coOp),st!=="st"&&st!=="gs"&&ot.beginPath(),it.ctxTransform(lt.preTransforms.finalTransform.props),a=rt.length,s=0;s<a;s+=1){for((st==="st"||st==="gs")&&(ot.beginPath(),lt.da&&(ot.setLineDash(lt.da),ot.lineDashOffset=lt.do)),nt=rt[s].trNodes,tt=nt.length,et=0;et<tt;et+=1)nt[et].t==="m"?ot.moveTo(nt[et].p[0],nt[et].p[1]):nt[et].t==="c"?ot.bezierCurveTo(nt[et].pts[0],nt[et].pts[1],nt[et].pts[2],nt[et].pts[3],nt[et].pts[4],nt[et].pts[5]):ot.closePath();(st==="st"||st==="gs")&&(it.ctxStroke(),lt.da&&ot.setLineDash(this.dashResetter))}st!=="st"&&st!=="gs"&&this.globalData.renderer.ctxFill(lt.r),it.restore()}},CVShapeElement.prototype.renderShape=function(o,i,s,a){var et,tt=i.length-1,rt;for(rt=o,et=tt;et>=0;et-=1)i[et].ty==="tr"?(rt=s[et].transform,this.renderShapeTransform(o,rt)):i[et].ty==="sh"||i[et].ty==="el"||i[et].ty==="rc"||i[et].ty==="sr"?this.renderPath(i[et],s[et]):i[et].ty==="fl"?this.renderFill(i[et],s[et],rt):i[et].ty==="st"?this.renderStroke(i[et],s[et],rt):i[et].ty==="gf"||i[et].ty==="gs"?this.renderGradientFill(i[et],s[et],rt):i[et].ty==="gr"?this.renderShape(rt,i[et].it,s[et].it):i[et].ty;a&&this.drawLayer()},CVShapeElement.prototype.renderStyledShape=function(o,i){if(this._isFirstFrame||i._mdf||o.transforms._mdf){var s=o.trNodes,a=i.paths,et,tt,rt,nt=a._length;s.length=0;var it=o.transforms.finalTransform;for(rt=0;rt<nt;rt+=1){var ot=a.shapes[rt];if(ot&&ot.v){for(tt=ot._length,et=1;et<tt;et+=1)et===1&&s.push({t:"m",p:it.applyToPointArray(ot.v[0][0],ot.v[0][1],0)}),s.push({t:"c",pts:it.applyToTriplePoints(ot.o[et-1],ot.i[et],ot.v[et])});tt===1&&s.push({t:"m",p:it.applyToPointArray(ot.v[0][0],ot.v[0][1],0)}),ot.c&&tt&&(s.push({t:"c",pts:it.applyToTriplePoints(ot.o[et-1],ot.i[0],ot.v[0])}),s.push({t:"z"}))}}o.trNodes=s}},CVShapeElement.prototype.renderPath=function(o,i){if(o.hd!==!0&&o._shouldRender){var s,a=i.styledShapes.length;for(s=0;s<a;s+=1)this.renderStyledShape(i.styledShapes[s],i.sh)}},CVShapeElement.prototype.renderFill=function(o,i,s){var a=i.style;(i.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||s._opMdf||this._isFirstFrame)&&(a.coOp=i.o.v*s.opacity)},CVShapeElement.prototype.renderGradientFill=function(o,i,s){var a=i.style,et;if(!a.grd||i.g._mdf||i.s._mdf||i.e._mdf||o.t!==1&&(i.h._mdf||i.a._mdf)){var tt=this.globalData.canvasContext,rt=i.s.v,nt=i.e.v;if(o.t===1)et=tt.createLinearGradient(rt[0],rt[1],nt[0],nt[1]);else{var it=Math.sqrt(Math.pow(rt[0]-nt[0],2)+Math.pow(rt[1]-nt[1],2)),ot=Math.atan2(nt[1]-rt[1],nt[0]-rt[0]),st=i.h.v;st>=1?st=.99:st<=-1&&(st=-.99);var lt=it*st,at=Math.cos(ot+i.a.v)*lt+rt[0],ut=Math.sin(ot+i.a.v)*lt+rt[1];et=tt.createRadialGradient(at,ut,0,rt[0],rt[1],it)}var ft,mt=o.g.p,yt=i.g.c,ht=1;for(ft=0;ft<mt;ft+=1)i.g._hasOpacity&&i.g._collapsable&&(ht=i.g.o[ft*2+1]),et.addColorStop(yt[ft*4]/100,"rgba("+yt[ft*4+1]+","+yt[ft*4+2]+","+yt[ft*4+3]+","+ht+")");a.grd=et}a.coOp=i.o.v*s.opacity},CVShapeElement.prototype.renderStroke=function(o,i,s){var a=i.style,et=i.d;et&&(et._mdf||this._isFirstFrame)&&(a.da=et.dashArray,a.do=et.dashoffset[0]),(i.c._mdf||this._isFirstFrame)&&(a.co="rgb("+bmFloor(i.c.v[0])+","+bmFloor(i.c.v[1])+","+bmFloor(i.c.v[2])+")"),(i.o._mdf||s._opMdf||this._isFirstFrame)&&(a.coOp=i.o.v*s.opacity),(i.w._mdf||this._isFirstFrame)&&(a.wi=i.w.v)},CVShapeElement.prototype.destroy=function(){this.shapesData=null,this.globalData=null,this.canvasContext=null,this.stylesList.length=0,this.itemsData.length=0};function CVTextElement(o,i,s){this.textSpans=[],this.yOffset=0,this.fillColorAnim=!1,this.strokeColorAnim=!1,this.strokeWidthAnim=!1,this.stroke=!1,this.fill=!1,this.justifyOffset=0,this.currentRender=null,this.renderType="canvas",this.values={fill:"rgba(0,0,0,0)",stroke:"rgba(0,0,0,0)",sWidth:0,fValue:""},this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement,ITextElement],CVTextElement),CVTextElement.prototype.tHelper=createTag("canvas").getContext("2d"),CVTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var i=!1;o.fc?(i=!0,this.values.fill=this.buildColor(o.fc)):this.values.fill="rgba(0,0,0,0)",this.fill=i;var s=!1;o.sc&&(s=!0,this.values.stroke=this.buildColor(o.sc),this.values.sWidth=o.sw);var a=this.globalData.fontManager.getFontByName(o.f),et,tt,rt=o.l,nt=this.mHelper;this.stroke=s,this.values.fValue=o.finalSize+"px "+this.globalData.fontManager.getFontByName(o.f).fFamily,tt=o.finalText.length;var it,ot,st,lt,at,ut,ft,mt,yt,ht,pt=this.data.singleShape,ct=o.tr*.001*o.finalSize,gt=0,Et=0,bt=!0,xt=0;for(et=0;et<tt;et+=1){it=this.globalData.fontManager.getCharData(o.finalText[et],a.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),ot=it&&it.data||{},nt.reset(),pt&&rt[et].n&&(gt=-ct,Et+=o.yOffset,Et+=bt?1:0,bt=!1),at=ot.shapes?ot.shapes[0].it:[],ft=at.length,nt.scale(o.finalSize/100,o.finalSize/100),pt&&this.applyTextPropertiesToMatrix(o,nt,rt[et].line,gt,Et),yt=createSizedArray(ft-1);var Tt=0;for(ut=0;ut<ft;ut+=1)if(at[ut].ty==="sh"){for(lt=at[ut].ks.k.i.length,mt=at[ut].ks.k,ht=[],st=1;st<lt;st+=1)st===1&&ht.push(nt.applyToX(mt.v[0][0],mt.v[0][1],0),nt.applyToY(mt.v[0][0],mt.v[0][1],0)),ht.push(nt.applyToX(mt.o[st-1][0],mt.o[st-1][1],0),nt.applyToY(mt.o[st-1][0],mt.o[st-1][1],0),nt.applyToX(mt.i[st][0],mt.i[st][1],0),nt.applyToY(mt.i[st][0],mt.i[st][1],0),nt.applyToX(mt.v[st][0],mt.v[st][1],0),nt.applyToY(mt.v[st][0],mt.v[st][1],0));ht.push(nt.applyToX(mt.o[st-1][0],mt.o[st-1][1],0),nt.applyToY(mt.o[st-1][0],mt.o[st-1][1],0),nt.applyToX(mt.i[0][0],mt.i[0][1],0),nt.applyToY(mt.i[0][0],mt.i[0][1],0),nt.applyToX(mt.v[0][0],mt.v[0][1],0),nt.applyToY(mt.v[0][0],mt.v[0][1],0)),yt[Tt]=ht,Tt+=1}pt&&(gt+=rt[et].l,gt+=ct),this.textSpans[xt]?this.textSpans[xt].elem=yt:this.textSpans[xt]={elem:yt},xt+=1}},CVTextElement.prototype.renderInnerContent=function(){this.validateText();var o=this.canvasContext;o.font=this.values.fValue,this.globalData.renderer.ctxLineCap("butt"),this.globalData.renderer.ctxLineJoin("miter"),this.globalData.renderer.ctxMiterLimit(4),this.data.singleShape||this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag);var i,s,a,et,tt,rt,nt=this.textAnimator.renderedLetters,it=this.textProperty.currentData.l;s=it.length;var ot,st=null,lt=null,at=null,ut,ft,mt=this.globalData.renderer;for(i=0;i<s;i+=1)if(!it[i].n){if(ot=nt[i],ot&&(mt.save(),mt.ctxTransform(ot.p),mt.ctxOpacity(ot.o)),this.fill){for(ot&&ot.fc?st!==ot.fc&&(mt.ctxFillStyle(ot.fc),st=ot.fc):st!==this.values.fill&&(st=this.values.fill,mt.ctxFillStyle(this.values.fill)),ut=this.textSpans[i].elem,et=ut.length,this.globalData.canvasContext.beginPath(),a=0;a<et;a+=1)for(ft=ut[a],rt=ft.length,this.globalData.canvasContext.moveTo(ft[0],ft[1]),tt=2;tt<rt;tt+=6)this.globalData.canvasContext.bezierCurveTo(ft[tt],ft[tt+1],ft[tt+2],ft[tt+3],ft[tt+4],ft[tt+5]);this.globalData.canvasContext.closePath(),mt.ctxFill()}if(this.stroke){for(ot&&ot.sw?at!==ot.sw&&(at=ot.sw,mt.ctxLineWidth(ot.sw)):at!==this.values.sWidth&&(at=this.values.sWidth,mt.ctxLineWidth(this.values.sWidth)),ot&&ot.sc?lt!==ot.sc&&(lt=ot.sc,mt.ctxStrokeStyle(ot.sc)):lt!==this.values.stroke&&(lt=this.values.stroke,mt.ctxStrokeStyle(this.values.stroke)),ut=this.textSpans[i].elem,et=ut.length,this.globalData.canvasContext.beginPath(),a=0;a<et;a+=1)for(ft=ut[a],rt=ft.length,this.globalData.canvasContext.moveTo(ft[0],ft[1]),tt=2;tt<rt;tt+=6)this.globalData.canvasContext.bezierCurveTo(ft[tt],ft[tt+1],ft[tt+2],ft[tt+3],ft[tt+4],ft[tt+5]);this.globalData.canvasContext.closePath(),mt.ctxStroke()}ot&&this.globalData.renderer.restore()}};function CVImageElement(o,i,s){this.assetData=i.getAssetData(o.refId),this.img=i.imageLoader.getAsset(this.assetData),this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVImageElement),CVImageElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVImageElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVImageElement.prototype.createContent=function(){if(this.img.width&&(this.assetData.w!==this.img.width||this.assetData.h!==this.img.height)){var o=createTag("canvas");o.width=this.assetData.w,o.height=this.assetData.h;var i=o.getContext("2d"),s=this.img.width,a=this.img.height,et=s/a,tt=this.assetData.w/this.assetData.h,rt,nt,it=this.assetData.pr||this.globalData.renderConfig.imagePreserveAspectRatio;et>tt&&it==="xMidYMid slice"||et<tt&&it!=="xMidYMid slice"?(nt=a,rt=nt*tt):(rt=s,nt=rt/tt),i.drawImage(this.img,(s-rt)/2,(a-nt)/2,rt,nt,0,0,this.assetData.w,this.assetData.h),this.img=o}},CVImageElement.prototype.renderInnerContent=function(){this.canvasContext.drawImage(this.img,0,0)},CVImageElement.prototype.destroy=function(){this.img=null};function CVSolidElement(o,i,s){this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,CVBaseElement,HierarchyElement,FrameElement,RenderableElement],CVSolidElement),CVSolidElement.prototype.initElement=SVGShapeElement.prototype.initElement,CVSolidElement.prototype.prepareFrame=IImageElement.prototype.prepareFrame,CVSolidElement.prototype.renderInnerContent=function(){this.globalData.renderer.ctxFillStyle(this.data.sc),this.globalData.renderer.ctxFillRect(0,0,this.data.sw,this.data.sh)};function CanvasRendererBase(){}extendPrototype([BaseRenderer],CanvasRendererBase),CanvasRendererBase.prototype.createShape=function(o){return new CVShapeElement(o,this.globalData,this)},CanvasRendererBase.prototype.createText=function(o){return new CVTextElement(o,this.globalData,this)},CanvasRendererBase.prototype.createImage=function(o){return new CVImageElement(o,this.globalData,this)},CanvasRendererBase.prototype.createSolid=function(o){return new CVSolidElement(o,this.globalData,this)},CanvasRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,CanvasRendererBase.prototype.ctxTransform=function(o){o[0]===1&&o[1]===0&&o[4]===0&&o[5]===1&&o[12]===0&&o[13]===0||this.canvasContext.transform(o[0],o[1],o[4],o[5],o[12],o[13])},CanvasRendererBase.prototype.ctxOpacity=function(o){this.canvasContext.globalAlpha*=o<0?0:o},CanvasRendererBase.prototype.ctxFillStyle=function(o){this.canvasContext.fillStyle=o},CanvasRendererBase.prototype.ctxStrokeStyle=function(o){this.canvasContext.strokeStyle=o},CanvasRendererBase.prototype.ctxLineWidth=function(o){this.canvasContext.lineWidth=o},CanvasRendererBase.prototype.ctxLineCap=function(o){this.canvasContext.lineCap=o},CanvasRendererBase.prototype.ctxLineJoin=function(o){this.canvasContext.lineJoin=o},CanvasRendererBase.prototype.ctxMiterLimit=function(o){this.canvasContext.miterLimit=o},CanvasRendererBase.prototype.ctxFill=function(o){this.canvasContext.fill(o)},CanvasRendererBase.prototype.ctxFillRect=function(o,i,s,a){this.canvasContext.fillRect(o,i,s,a)},CanvasRendererBase.prototype.ctxStroke=function(){this.canvasContext.stroke()},CanvasRendererBase.prototype.reset=function(){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}this.contextData.reset()},CanvasRendererBase.prototype.save=function(){this.canvasContext.save()},CanvasRendererBase.prototype.restore=function(o){if(!this.renderConfig.clearCanvas){this.canvasContext.restore();return}o&&(this.globalData.blendMode="source-over"),this.contextData.restore(o)},CanvasRendererBase.prototype.configAnimation=function(o){if(this.animationItem.wrapper){this.animationItem.container=createTag("canvas");var i=this.animationItem.container.style;i.width="100%",i.height="100%";var s="0px 0px 0px";i.transformOrigin=s,i.mozTransformOrigin=s,i.webkitTransformOrigin=s,i["-webkit-transform"]=s,i.contentVisibility=this.renderConfig.contentVisibility,this.animationItem.wrapper.appendChild(this.animationItem.container),this.canvasContext=this.animationItem.container.getContext("2d"),this.renderConfig.className&&this.animationItem.container.setAttribute("class",this.renderConfig.className),this.renderConfig.id&&this.animationItem.container.setAttribute("id",this.renderConfig.id)}else this.canvasContext=this.renderConfig.context;this.contextData.setContext(this.canvasContext),this.data=o,this.layers=o.layers,this.transformCanvas={w:o.w,h:o.h,sx:0,sy:0,tx:0,ty:0},this.setupGlobalData(o,document.body),this.globalData.canvasContext=this.canvasContext,this.globalData.renderer=this,this.globalData.isDashed=!1,this.globalData.progressiveLoad=this.renderConfig.progressiveLoad,this.globalData.transformCanvas=this.transformCanvas,this.elements=createSizedArray(o.layers.length),this.updateContainerSize()},CanvasRendererBase.prototype.updateContainerSize=function(o,i){this.reset();var s,a;o?(s=o,a=i,this.canvasContext.canvas.width=s,this.canvasContext.canvas.height=a):(this.animationItem.wrapper&&this.animationItem.container?(s=this.animationItem.wrapper.offsetWidth,a=this.animationItem.wrapper.offsetHeight):(s=this.canvasContext.canvas.width,a=this.canvasContext.canvas.height),this.canvasContext.canvas.width=s*this.renderConfig.dpr,this.canvasContext.canvas.height=a*this.renderConfig.dpr);var et,tt;if(this.renderConfig.preserveAspectRatio.indexOf("meet")!==-1||this.renderConfig.preserveAspectRatio.indexOf("slice")!==-1){var rt=this.renderConfig.preserveAspectRatio.split(" "),nt=rt[1]||"meet",it=rt[0]||"xMidYMid",ot=it.substr(0,4),st=it.substr(4);et=s/a,tt=this.transformCanvas.w/this.transformCanvas.h,tt>et&&nt==="meet"||tt<et&&nt==="slice"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=s/(this.transformCanvas.w/this.renderConfig.dpr)):(this.transformCanvas.sx=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr)),ot==="xMid"&&(tt<et&&nt==="meet"||tt>et&&nt==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(a/this.transformCanvas.h))/2*this.renderConfig.dpr:ot==="xMax"&&(tt<et&&nt==="meet"||tt>et&&nt==="slice")?this.transformCanvas.tx=(s-this.transformCanvas.w*(a/this.transformCanvas.h))*this.renderConfig.dpr:this.transformCanvas.tx=0,st==="YMid"&&(tt>et&&nt==="meet"||tt<et&&nt==="slice")?this.transformCanvas.ty=(a-this.transformCanvas.h*(s/this.transformCanvas.w))/2*this.renderConfig.dpr:st==="YMax"&&(tt>et&&nt==="meet"||tt<et&&nt==="slice")?this.transformCanvas.ty=(a-this.transformCanvas.h*(s/this.transformCanvas.w))*this.renderConfig.dpr:this.transformCanvas.ty=0}else this.renderConfig.preserveAspectRatio==="none"?(this.transformCanvas.sx=s/(this.transformCanvas.w/this.renderConfig.dpr),this.transformCanvas.sy=a/(this.transformCanvas.h/this.renderConfig.dpr),this.transformCanvas.tx=0,this.transformCanvas.ty=0):(this.transformCanvas.sx=this.renderConfig.dpr,this.transformCanvas.sy=this.renderConfig.dpr,this.transformCanvas.tx=0,this.transformCanvas.ty=0);this.transformCanvas.props=[this.transformCanvas.sx,0,0,0,0,this.transformCanvas.sy,0,0,0,0,1,0,this.transformCanvas.tx,this.transformCanvas.ty,0,1],this.ctxTransform(this.transformCanvas.props),this.canvasContext.beginPath(),this.canvasContext.rect(0,0,this.transformCanvas.w,this.transformCanvas.h),this.canvasContext.closePath(),this.canvasContext.clip(),this.renderFrame(this.renderedFrame,!0)},CanvasRendererBase.prototype.destroy=function(){this.renderConfig.clearCanvas&&this.animationItem.wrapper&&(this.animationItem.wrapper.innerText="");var o,i=this.layers?this.layers.length:0;for(o=i-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.globalData.canvasContext=null,this.animationItem.container=null,this.destroyed=!0},CanvasRendererBase.prototype.renderFrame=function(o,i){if(!(this.renderedFrame===o&&this.renderConfig.clearCanvas===!0&&!i||this.destroyed||o===-1)){this.renderedFrame=o,this.globalData.frameNum=o-this.animationItem._isFirstFrame,this.globalData.frameId+=1,this.globalData._mdf=!this.renderConfig.clearCanvas||i,this.globalData.projectInterface.currentFrame=o;var s,a=this.layers.length;for(this.completeLayers||this.checkLayers(o),s=a-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].prepareFrame(o-this.layers[s].st);if(this.globalData._mdf){for(this.renderConfig.clearCanvas===!0?this.canvasContext.clearRect(0,0,this.transformCanvas.w,this.transformCanvas.h):this.save(),s=a-1;s>=0;s-=1)(this.completeLayers||this.elements[s])&&this.elements[s].renderFrame();this.renderConfig.clearCanvas!==!0&&this.restore()}}},CanvasRendererBase.prototype.buildItem=function(o){var i=this.elements;if(!(i[o]||this.layers[o].ty===99)){var s=this.createItem(this.layers[o],this,this.globalData);i[o]=s,s.initExpressions()}},CanvasRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},CanvasRendererBase.prototype.hide=function(){this.animationItem.container.style.display="none"},CanvasRendererBase.prototype.show=function(){this.animationItem.container.style.display="block"};function CanvasContext(){this.opacity=-1,this.transform=createTypedArray("float32",16),this.fillStyle="",this.strokeStyle="",this.lineWidth="",this.lineCap="",this.lineJoin="",this.miterLimit="",this.id=Math.random()}function CVContextData(){this.stack=[],this.cArrPos=0,this.cTr=new Matrix;var o,i=15;for(o=0;o<i;o+=1){var s=new CanvasContext;this.stack[o]=s}this._length=i,this.nativeContext=null,this.transformMat=new Matrix,this.currentOpacity=1,this.currentFillStyle="",this.appliedFillStyle="",this.currentStrokeStyle="",this.appliedStrokeStyle="",this.currentLineWidth="",this.appliedLineWidth="",this.currentLineCap="",this.appliedLineCap="",this.currentLineJoin="",this.appliedLineJoin="",this.appliedMiterLimit="",this.currentMiterLimit=""}CVContextData.prototype.duplicate=function(){var o=this._length*2,i=0;for(i=this._length;i<o;i+=1)this.stack[i]=new CanvasContext;this._length=o},CVContextData.prototype.reset=function(){this.cArrPos=0,this.cTr.reset(),this.stack[this.cArrPos].opacity=1},CVContextData.prototype.restore=function(o){this.cArrPos-=1;var i=this.stack[this.cArrPos],s=i.transform,a,et=this.cTr.props;for(a=0;a<16;a+=1)et[a]=s[a];if(o){this.nativeContext.restore();var tt=this.stack[this.cArrPos+1];this.appliedFillStyle=tt.fillStyle,this.appliedStrokeStyle=tt.strokeStyle,this.appliedLineWidth=tt.lineWidth,this.appliedLineCap=tt.lineCap,this.appliedLineJoin=tt.lineJoin,this.appliedMiterLimit=tt.miterLimit}this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13]),(o||i.opacity!==-1&&this.currentOpacity!==i.opacity)&&(this.nativeContext.globalAlpha=i.opacity,this.currentOpacity=i.opacity),this.currentFillStyle=i.fillStyle,this.currentStrokeStyle=i.strokeStyle,this.currentLineWidth=i.lineWidth,this.currentLineCap=i.lineCap,this.currentLineJoin=i.lineJoin,this.currentMiterLimit=i.miterLimit},CVContextData.prototype.save=function(o){o&&this.nativeContext.save();var i=this.cTr.props;this._length<=this.cArrPos&&this.duplicate();var s=this.stack[this.cArrPos],a;for(a=0;a<16;a+=1)s.transform[a]=i[a];this.cArrPos+=1;var et=this.stack[this.cArrPos];et.opacity=s.opacity,et.fillStyle=s.fillStyle,et.strokeStyle=s.strokeStyle,et.lineWidth=s.lineWidth,et.lineCap=s.lineCap,et.lineJoin=s.lineJoin,et.miterLimit=s.miterLimit},CVContextData.prototype.setOpacity=function(o){this.stack[this.cArrPos].opacity=o},CVContextData.prototype.setContext=function(o){this.nativeContext=o},CVContextData.prototype.fillStyle=function(o){this.stack[this.cArrPos].fillStyle!==o&&(this.currentFillStyle=o,this.stack[this.cArrPos].fillStyle=o)},CVContextData.prototype.strokeStyle=function(o){this.stack[this.cArrPos].strokeStyle!==o&&(this.currentStrokeStyle=o,this.stack[this.cArrPos].strokeStyle=o)},CVContextData.prototype.lineWidth=function(o){this.stack[this.cArrPos].lineWidth!==o&&(this.currentLineWidth=o,this.stack[this.cArrPos].lineWidth=o)},CVContextData.prototype.lineCap=function(o){this.stack[this.cArrPos].lineCap!==o&&(this.currentLineCap=o,this.stack[this.cArrPos].lineCap=o)},CVContextData.prototype.lineJoin=function(o){this.stack[this.cArrPos].lineJoin!==o&&(this.currentLineJoin=o,this.stack[this.cArrPos].lineJoin=o)},CVContextData.prototype.miterLimit=function(o){this.stack[this.cArrPos].miterLimit!==o&&(this.currentMiterLimit=o,this.stack[this.cArrPos].miterLimit=o)},CVContextData.prototype.transform=function(o){this.transformMat.cloneFromProps(o);var i=this.cTr;this.transformMat.multiply(i),i.cloneFromProps(this.transformMat.props);var s=i.props;this.nativeContext.setTransform(s[0],s[1],s[4],s[5],s[12],s[13])},CVContextData.prototype.opacity=function(o){var i=this.stack[this.cArrPos].opacity;i*=o<0?0:o,this.stack[this.cArrPos].opacity!==i&&(this.currentOpacity!==o&&(this.nativeContext.globalAlpha=o,this.currentOpacity=o),this.stack[this.cArrPos].opacity=i)},CVContextData.prototype.fill=function(o){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fill(o)},CVContextData.prototype.fillRect=function(o,i,s,a){this.appliedFillStyle!==this.currentFillStyle&&(this.appliedFillStyle=this.currentFillStyle,this.nativeContext.fillStyle=this.appliedFillStyle),this.nativeContext.fillRect(o,i,s,a)},CVContextData.prototype.stroke=function(){this.appliedStrokeStyle!==this.currentStrokeStyle&&(this.appliedStrokeStyle=this.currentStrokeStyle,this.nativeContext.strokeStyle=this.appliedStrokeStyle),this.appliedLineWidth!==this.currentLineWidth&&(this.appliedLineWidth=this.currentLineWidth,this.nativeContext.lineWidth=this.appliedLineWidth),this.appliedLineCap!==this.currentLineCap&&(this.appliedLineCap=this.currentLineCap,this.nativeContext.lineCap=this.appliedLineCap),this.appliedLineJoin!==this.currentLineJoin&&(this.appliedLineJoin=this.currentLineJoin,this.nativeContext.lineJoin=this.appliedLineJoin),this.appliedMiterLimit!==this.currentMiterLimit&&(this.appliedMiterLimit=this.currentMiterLimit,this.nativeContext.miterLimit=this.appliedMiterLimit),this.nativeContext.stroke()};function CVCompElement(o,i,s){this.completeLayers=!1,this.layers=o.layers,this.pendingElements=[],this.elements=createSizedArray(this.layers.length),this.initElement(o,i,s),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([CanvasRendererBase,ICompElement,CVBaseElement],CVCompElement),CVCompElement.prototype.renderInnerContent=function(){var o=this.canvasContext;o.beginPath(),o.moveTo(0,0),o.lineTo(this.data.w,0),o.lineTo(this.data.w,this.data.h),o.lineTo(0,this.data.h),o.lineTo(0,0),o.clip();var i,s=this.layers.length;for(i=s-1;i>=0;i-=1)(this.completeLayers||this.elements[i])&&this.elements[i].renderFrame()},CVCompElement.prototype.destroy=function(){var o,i=this.layers.length;for(o=i-1;o>=0;o-=1)this.elements[o]&&this.elements[o].destroy();this.layers=null,this.elements=null},CVCompElement.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function CanvasRenderer(o,i){this.animationItem=o,this.renderConfig={clearCanvas:i&&i.clearCanvas!==void 0?i.clearCanvas:!0,context:i&&i.context||null,progressiveLoad:i&&i.progressiveLoad||!1,preserveAspectRatio:i&&i.preserveAspectRatio||"xMidYMid meet",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",contentVisibility:i&&i.contentVisibility||"visible",className:i&&i.className||"",id:i&&i.id||"",runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.renderConfig.dpr=i&&i.dpr||1,this.animationItem.wrapper&&(this.renderConfig.dpr=i&&i.dpr||window.devicePixelRatio||1),this.renderedFrame=-1,this.globalData={frameNum:-1,_mdf:!1,renderConfig:this.renderConfig,currentGlobalAlpha:-1},this.contextData=new CVContextData,this.elements=[],this.pendingElements=[],this.transformMat=new Matrix,this.completeLayers=!1,this.rendererType="canvas",this.renderConfig.clearCanvas&&(this.ctxTransform=this.contextData.transform.bind(this.contextData),this.ctxOpacity=this.contextData.opacity.bind(this.contextData),this.ctxFillStyle=this.contextData.fillStyle.bind(this.contextData),this.ctxStrokeStyle=this.contextData.strokeStyle.bind(this.contextData),this.ctxLineWidth=this.contextData.lineWidth.bind(this.contextData),this.ctxLineCap=this.contextData.lineCap.bind(this.contextData),this.ctxLineJoin=this.contextData.lineJoin.bind(this.contextData),this.ctxMiterLimit=this.contextData.miterLimit.bind(this.contextData),this.ctxFill=this.contextData.fill.bind(this.contextData),this.ctxFillRect=this.contextData.fillRect.bind(this.contextData),this.ctxStroke=this.contextData.stroke.bind(this.contextData),this.save=this.contextData.save.bind(this.contextData))}extendPrototype([CanvasRendererBase],CanvasRenderer),CanvasRenderer.prototype.createComp=function(o){return new CVCompElement(o,this.globalData,this)};function HBaseElement(){}HBaseElement.prototype={checkBlendMode:function(){},initRendererElement:function(){this.baseElement=createTag(this.data.tg||"div"),this.data.hasMask?(this.svgElement=createNS("svg"),this.layerElement=createNS("g"),this.maskedElement=this.layerElement,this.svgElement.appendChild(this.layerElement),this.baseElement.appendChild(this.svgElement)):this.layerElement=this.baseElement,styleDiv(this.baseElement)},createContainerElements:function(){this.renderableEffectsManager=new CVEffects(this),this.transformedElement=this.baseElement,this.maskedElement=this.layerElement,this.data.ln&&this.layerElement.setAttribute("id",this.data.ln),this.data.cl&&this.layerElement.setAttribute("class",this.data.cl),this.data.bm!==0&&this.setBlendMode()},renderElement:function(){var i=this.transformedElement?this.transformedElement.style:{};if(this.finalTransform._matMdf){var s=this.finalTransform.mat.toCSS();i.transform=s,i.webkitTransform=s}this.finalTransform._opMdf&&(i.opacity=this.finalTransform.mProp.o.v)},renderFrame:function(){this.data.hd||this.hidden||(this.renderTransform(),this.renderRenderable(),this.renderElement(),this.renderInnerContent(),this._isFirstFrame&&(this._isFirstFrame=!1))},destroy:function(){this.layerElement=null,this.transformedElement=null,this.matteElement&&(this.matteElement=null),this.maskManager&&(this.maskManager.destroy(),this.maskManager=null)},createRenderableComponents:function(){this.maskManager=new MaskElement(this.data,this,this.globalData)},addEffects:function(){},setMatte:function(){}},HBaseElement.prototype.getBaseElement=SVGBaseElement.prototype.getBaseElement,HBaseElement.prototype.destroyBaseElement=HBaseElement.prototype.destroy,HBaseElement.prototype.buildElementParenting=BaseRenderer.prototype.buildElementParenting;function HSolidElement(o,i,s){this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement],HSolidElement),HSolidElement.prototype.createContent=function(){var o;this.data.hasMask?(o=createNS("rect"),o.setAttribute("width",this.data.sw),o.setAttribute("height",this.data.sh),o.setAttribute("fill",this.data.sc),this.svgElement.setAttribute("width",this.data.sw),this.svgElement.setAttribute("height",this.data.sh)):(o=createTag("div"),o.style.width=this.data.sw+"px",o.style.height=this.data.sh+"px",o.style.backgroundColor=this.data.sc),this.layerElement.appendChild(o)};function HShapeElement(o,i,s){this.shapes=[],this.shapesData=o.shapes,this.stylesList=[],this.shapeModifiers=[],this.itemsData=[],this.processedElements=[],this.animatedContents=[],this.shapesContainer=createNS("g"),this.initElement(o,i,s),this.prevViewData=[],this.currentBBox={x:999999,y:-999999,h:0,w:0}}extendPrototype([BaseElement,TransformElement,HSolidElement,SVGShapeElement,HBaseElement,HierarchyElement,FrameElement,RenderableElement],HShapeElement),HShapeElement.prototype._renderShapeFrame=HShapeElement.prototype.renderInnerContent,HShapeElement.prototype.createContent=function(){var o;if(this.baseElement.style.fontSize=0,this.data.hasMask)this.layerElement.appendChild(this.shapesContainer),o=this.svgElement;else{o=createNS("svg");var i=this.comp.data?this.comp.data:this.globalData.compSize;o.setAttribute("width",i.w),o.setAttribute("height",i.h),o.appendChild(this.shapesContainer),this.layerElement.appendChild(o)}this.searchShapes(this.shapesData,this.itemsData,this.prevViewData,this.shapesContainer,0,[],!0),this.filterUniqueShapes(),this.shapeCont=o},HShapeElement.prototype.getTransformedPoint=function(o,i){var s,a=o.length;for(s=0;s<a;s+=1)i=o[s].mProps.v.applyToPointArray(i[0],i[1],0);return i},HShapeElement.prototype.calculateShapeBoundingBox=function(o,i){var s=o.sh.v,a=o.transformers,et,tt=s._length,rt,nt,it,ot;if(!(tt<=1)){for(et=0;et<tt-1;et+=1)rt=this.getTransformedPoint(a,s.v[et]),nt=this.getTransformedPoint(a,s.o[et]),it=this.getTransformedPoint(a,s.i[et+1]),ot=this.getTransformedPoint(a,s.v[et+1]),this.checkBounds(rt,nt,it,ot,i);s.c&&(rt=this.getTransformedPoint(a,s.v[et]),nt=this.getTransformedPoint(a,s.o[et]),it=this.getTransformedPoint(a,s.i[0]),ot=this.getTransformedPoint(a,s.v[0]),this.checkBounds(rt,nt,it,ot,i))}},HShapeElement.prototype.checkBounds=function(o,i,s,a,et){this.getBoundsOfCurve(o,i,s,a);var tt=this.shapeBoundingBox;et.x=bmMin(tt.left,et.x),et.xMax=bmMax(tt.right,et.xMax),et.y=bmMin(tt.top,et.y),et.yMax=bmMax(tt.bottom,et.yMax)},HShapeElement.prototype.shapeBoundingBox={left:0,right:0,top:0,bottom:0},HShapeElement.prototype.tempBoundingBox={x:0,xMax:0,y:0,yMax:0,width:0,height:0},HShapeElement.prototype.getBoundsOfCurve=function(o,i,s,a){for(var et=[[o[0],a[0]],[o[1],a[1]]],tt,rt,nt,it,ot,st,lt,at=0;at<2;++at)rt=6*o[at]-12*i[at]+6*s[at],tt=-3*o[at]+9*i[at]-9*s[at]+3*a[at],nt=3*i[at]-3*o[at],rt|=0,tt|=0,nt|=0,tt===0&&rt===0||(tt===0?(it=-nt/rt,it>0&&it<1&&et[at].push(this.calculateF(it,o,i,s,a,at))):(ot=rt*rt-4*nt*tt,ot>=0&&(st=(-rt+bmSqrt(ot))/(2*tt),st>0&&st<1&&et[at].push(this.calculateF(st,o,i,s,a,at)),lt=(-rt-bmSqrt(ot))/(2*tt),lt>0&&lt<1&&et[at].push(this.calculateF(lt,o,i,s,a,at)))));this.shapeBoundingBox.left=bmMin.apply(null,et[0]),this.shapeBoundingBox.top=bmMin.apply(null,et[1]),this.shapeBoundingBox.right=bmMax.apply(null,et[0]),this.shapeBoundingBox.bottom=bmMax.apply(null,et[1])},HShapeElement.prototype.calculateF=function(o,i,s,a,et,tt){return bmPow(1-o,3)*i[tt]+3*bmPow(1-o,2)*o*s[tt]+3*(1-o)*bmPow(o,2)*a[tt]+bmPow(o,3)*et[tt]},HShapeElement.prototype.calculateBoundingBox=function(o,i){var s,a=o.length;for(s=0;s<a;s+=1)o[s]&&o[s].sh?this.calculateShapeBoundingBox(o[s],i):o[s]&&o[s].it?this.calculateBoundingBox(o[s].it,i):o[s]&&o[s].style&&o[s].w&&this.expandStrokeBoundingBox(o[s].w,i)},HShapeElement.prototype.expandStrokeBoundingBox=function(o,i){var s=0;if(o.keyframes){for(var a=0;a<o.keyframes.length;a+=1){var et=o.keyframes[a].s;et>s&&(s=et)}s*=o.mult}else s=o.v*o.mult;i.x-=s,i.xMax+=s,i.y-=s,i.yMax+=s},HShapeElement.prototype.currentBoxContains=function(o){return this.currentBBox.x<=o.x&&this.currentBBox.y<=o.y&&this.currentBBox.width+this.currentBBox.x>=o.x+o.width&&this.currentBBox.height+this.currentBBox.y>=o.y+o.height},HShapeElement.prototype.renderInnerContent=function(){if(this._renderShapeFrame(),!this.hidden&&(this._isFirstFrame||this._mdf)){var o=this.tempBoundingBox,i=999999;if(o.x=i,o.xMax=-i,o.y=i,o.yMax=-i,this.calculateBoundingBox(this.itemsData,o),o.width=o.xMax<o.x?0:o.xMax-o.x,o.height=o.yMax<o.y?0:o.yMax-o.y,this.currentBoxContains(o))return;var s=!1;if(this.currentBBox.w!==o.width&&(this.currentBBox.w=o.width,this.shapeCont.setAttribute("width",o.width),s=!0),this.currentBBox.h!==o.height&&(this.currentBBox.h=o.height,this.shapeCont.setAttribute("height",o.height),s=!0),s||this.currentBBox.x!==o.x||this.currentBBox.y!==o.y){this.currentBBox.w=o.width,this.currentBBox.h=o.height,this.currentBBox.x=o.x,this.currentBBox.y=o.y,this.shapeCont.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h);var a=this.shapeCont.style,et="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";a.transform=et,a.webkitTransform=et}}};function HTextElement(o,i,s){this.textSpans=[],this.textPaths=[],this.currentBBox={x:999999,y:-999999,h:0,w:0},this.renderType="svg",this.isMasked=!1,this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HierarchyElement,FrameElement,RenderableDOMElement,ITextElement],HTextElement),HTextElement.prototype.createContent=function(){if(this.isMasked=this.checkMasks(),this.isMasked){this.renderType="svg",this.compW=this.comp.data.w,this.compH=this.comp.data.h,this.svgElement.setAttribute("width",this.compW),this.svgElement.setAttribute("height",this.compH);var o=createNS("g");this.maskedElement.appendChild(o),this.innerElem=o}else this.renderType="html",this.innerElem=this.layerElement;this.checkParenting()},HTextElement.prototype.buildNewText=function(){var o=this.textProperty.currentData;this.renderedLetters=createSizedArray(o.l?o.l.length:0);var i=this.innerElem.style,s=o.fc?this.buildColor(o.fc):"rgba(0,0,0,0)";i.fill=s,i.color=s,o.sc&&(i.stroke=this.buildColor(o.sc),i.strokeWidth=o.sw+"px");var a=this.globalData.fontManager.getFontByName(o.f);if(!this.globalData.fontManager.chars)if(i.fontSize=o.finalSize+"px",i.lineHeight=o.finalSize+"px",a.fClass)this.innerElem.className=a.fClass;else{i.fontFamily=a.fFamily;var et=o.fWeight,tt=o.fStyle;i.fontStyle=tt,i.fontWeight=et}var rt,nt,it=o.l;nt=it.length;var ot,st,lt,at=this.mHelper,ut,ft="",mt=0;for(rt=0;rt<nt;rt+=1){if(this.globalData.fontManager.chars?(this.textPaths[mt]?ot=this.textPaths[mt]:(ot=createNS("path"),ot.setAttribute("stroke-linecap",lineCapEnum[1]),ot.setAttribute("stroke-linejoin",lineJoinEnum[2]),ot.setAttribute("stroke-miterlimit","4")),this.isMasked||(this.textSpans[mt]?(st=this.textSpans[mt],lt=st.children[0]):(st=createTag("div"),st.style.lineHeight=0,lt=createNS("svg"),lt.appendChild(ot),styleDiv(st)))):this.isMasked?ot=this.textPaths[mt]?this.textPaths[mt]:createNS("text"):this.textSpans[mt]?(st=this.textSpans[mt],ot=this.textPaths[mt]):(st=createTag("span"),styleDiv(st),ot=createTag("span"),styleDiv(ot),st.appendChild(ot)),this.globalData.fontManager.chars){var yt=this.globalData.fontManager.getCharData(o.finalText[rt],a.fStyle,this.globalData.fontManager.getFontByName(o.f).fFamily),ht;if(yt?ht=yt.data:ht=null,at.reset(),ht&&ht.shapes&&ht.shapes.length&&(ut=ht.shapes[0].it,at.scale(o.finalSize/100,o.finalSize/100),ft=this.createPathShape(at,ut),ot.setAttribute("d",ft)),this.isMasked)this.innerElem.appendChild(ot);else{if(this.innerElem.appendChild(st),ht&&ht.shapes){document.body.appendChild(lt);var pt=lt.getBBox();lt.setAttribute("width",pt.width+2),lt.setAttribute("height",pt.height+2),lt.setAttribute("viewBox",pt.x-1+" "+(pt.y-1)+" "+(pt.width+2)+" "+(pt.height+2));var ct=lt.style,gt="translate("+(pt.x-1)+"px,"+(pt.y-1)+"px)";ct.transform=gt,ct.webkitTransform=gt,it[rt].yOffset=pt.y-1}else lt.setAttribute("width",1),lt.setAttribute("height",1);st.appendChild(lt)}}else if(ot.textContent=it[rt].val,ot.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),this.isMasked)this.innerElem.appendChild(ot);else{this.innerElem.appendChild(st);var Et=ot.style,bt="translate3d(0,"+-o.finalSize/1.2+"px,0)";Et.transform=bt,Et.webkitTransform=bt}this.isMasked?this.textSpans[mt]=ot:this.textSpans[mt]=st,this.textSpans[mt].style.display="block",this.textPaths[mt]=ot,mt+=1}for(;mt<this.textSpans.length;)this.textSpans[mt].style.display="none",mt+=1},HTextElement.prototype.renderInnerContent=function(){this.validateText();var o;if(this.data.singleShape){if(!this._isFirstFrame&&!this.lettersChangedFlag)return;if(this.isMasked&&this.finalTransform._matMdf){this.svgElement.setAttribute("viewBox",-this.finalTransform.mProp.p.v[0]+" "+-this.finalTransform.mProp.p.v[1]+" "+this.compW+" "+this.compH),o=this.svgElement.style;var i="translate("+-this.finalTransform.mProp.p.v[0]+"px,"+-this.finalTransform.mProp.p.v[1]+"px)";o.transform=i,o.webkitTransform=i}}if(this.textAnimator.getMeasures(this.textProperty.currentData,this.lettersChangedFlag),!(!this.lettersChangedFlag&&!this.textAnimator.lettersChangedFlag)){var s,a,et=0,tt=this.textAnimator.renderedLetters,rt=this.textProperty.currentData.l;a=rt.length;var nt,it,ot;for(s=0;s<a;s+=1)rt[s].n?et+=1:(it=this.textSpans[s],ot=this.textPaths[s],nt=tt[et],et+=1,nt._mdf.m&&(this.isMasked?it.setAttribute("transform",nt.m):(it.style.webkitTransform=nt.m,it.style.transform=nt.m)),it.style.opacity=nt.o,nt.sw&&nt._mdf.sw&&ot.setAttribute("stroke-width",nt.sw),nt.sc&&nt._mdf.sc&&ot.setAttribute("stroke",nt.sc),nt.fc&&nt._mdf.fc&&(ot.setAttribute("fill",nt.fc),ot.style.color=nt.fc));if(this.innerElem.getBBox&&!this.hidden&&(this._isFirstFrame||this._mdf)){var st=this.innerElem.getBBox();this.currentBBox.w!==st.width&&(this.currentBBox.w=st.width,this.svgElement.setAttribute("width",st.width)),this.currentBBox.h!==st.height&&(this.currentBBox.h=st.height,this.svgElement.setAttribute("height",st.height));var lt=1;if(this.currentBBox.w!==st.width+lt*2||this.currentBBox.h!==st.height+lt*2||this.currentBBox.x!==st.x-lt||this.currentBBox.y!==st.y-lt){this.currentBBox.w=st.width+lt*2,this.currentBBox.h=st.height+lt*2,this.currentBBox.x=st.x-lt,this.currentBBox.y=st.y-lt,this.svgElement.setAttribute("viewBox",this.currentBBox.x+" "+this.currentBBox.y+" "+this.currentBBox.w+" "+this.currentBBox.h),o=this.svgElement.style;var at="translate("+this.currentBBox.x+"px,"+this.currentBBox.y+"px)";o.transform=at,o.webkitTransform=at}}}};function HCameraElement(o,i,s){this.initFrame(),this.initBaseData(o,i,s),this.initHierarchy();var a=PropertyFactory.getProp;if(this.pe=a(this,o.pe,0,0,this),o.ks.p.s?(this.px=a(this,o.ks.p.x,1,0,this),this.py=a(this,o.ks.p.y,1,0,this),this.pz=a(this,o.ks.p.z,1,0,this)):this.p=a(this,o.ks.p,1,0,this),o.ks.a&&(this.a=a(this,o.ks.a,1,0,this)),o.ks.or.k.length&&o.ks.or.k[0].to){var et,tt=o.ks.or.k.length;for(et=0;et<tt;et+=1)o.ks.or.k[et].to=null,o.ks.or.k[et].ti=null}this.or=a(this,o.ks.or,1,degToRads,this),this.or.sh=!0,this.rx=a(this,o.ks.rx,0,degToRads,this),this.ry=a(this,o.ks.ry,0,degToRads,this),this.rz=a(this,o.ks.rz,0,degToRads,this),this.mat=new Matrix,this._prevMat=new Matrix,this._isFirstFrame=!0,this.finalTransform={mProp:this}}extendPrototype([BaseElement,FrameElement,HierarchyElement],HCameraElement),HCameraElement.prototype.setup=function(){var o,i=this.comp.threeDElements.length,s,a,et;for(o=0;o<i;o+=1)if(s=this.comp.threeDElements[o],s.type==="3d"){a=s.perspectiveElem.style,et=s.container.style;var tt=this.pe.v+"px",rt="0px 0px 0px",nt="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";a.perspective=tt,a.webkitPerspective=tt,et.transformOrigin=rt,et.mozTransformOrigin=rt,et.webkitTransformOrigin=rt,a.transform=nt,a.webkitTransform=nt}},HCameraElement.prototype.createElements=function(){},HCameraElement.prototype.hide=function(){},HCameraElement.prototype.renderFrame=function(){var o=this._isFirstFrame,i,s;if(this.hierarchy)for(s=this.hierarchy.length,i=0;i<s;i+=1)o=this.hierarchy[i].finalTransform.mProp._mdf||o;if(o||this.pe._mdf||this.p&&this.p._mdf||this.px&&(this.px._mdf||this.py._mdf||this.pz._mdf)||this.rx._mdf||this.ry._mdf||this.rz._mdf||this.or._mdf||this.a&&this.a._mdf){if(this.mat.reset(),this.hierarchy)for(s=this.hierarchy.length-1,i=s;i>=0;i-=1){var a=this.hierarchy[i].finalTransform.mProp;this.mat.translate(-a.p.v[0],-a.p.v[1],a.p.v[2]),this.mat.rotateX(-a.or.v[0]).rotateY(-a.or.v[1]).rotateZ(a.or.v[2]),this.mat.rotateX(-a.rx.v).rotateY(-a.ry.v).rotateZ(a.rz.v),this.mat.scale(1/a.s.v[0],1/a.s.v[1],1/a.s.v[2]),this.mat.translate(a.a.v[0],a.a.v[1],a.a.v[2])}if(this.p?this.mat.translate(-this.p.v[0],-this.p.v[1],this.p.v[2]):this.mat.translate(-this.px.v,-this.py.v,this.pz.v),this.a){var et;this.p?et=[this.p.v[0]-this.a.v[0],this.p.v[1]-this.a.v[1],this.p.v[2]-this.a.v[2]]:et=[this.px.v-this.a.v[0],this.py.v-this.a.v[1],this.pz.v-this.a.v[2]];var tt=Math.sqrt(Math.pow(et[0],2)+Math.pow(et[1],2)+Math.pow(et[2],2)),rt=[et[0]/tt,et[1]/tt,et[2]/tt],nt=Math.sqrt(rt[2]*rt[2]+rt[0]*rt[0]),it=Math.atan2(rt[1],nt),ot=Math.atan2(rt[0],-rt[2]);this.mat.rotateY(ot).rotateX(-it)}this.mat.rotateX(-this.rx.v).rotateY(-this.ry.v).rotateZ(this.rz.v),this.mat.rotateX(-this.or.v[0]).rotateY(-this.or.v[1]).rotateZ(this.or.v[2]),this.mat.translate(this.globalData.compSize.w/2,this.globalData.compSize.h/2,0),this.mat.translate(0,0,this.pe.v);var st=!this._prevMat.equals(this.mat);if((st||this.pe._mdf)&&this.comp.threeDElements){s=this.comp.threeDElements.length;var lt,at,ut;for(i=0;i<s;i+=1)if(lt=this.comp.threeDElements[i],lt.type==="3d"){if(st){var ft=this.mat.toCSS();ut=lt.container.style,ut.transform=ft,ut.webkitTransform=ft}this.pe._mdf&&(at=lt.perspectiveElem.style,at.perspective=this.pe.v+"px",at.webkitPerspective=this.pe.v+"px")}this.mat.clone(this._prevMat)}}this._isFirstFrame=!1},HCameraElement.prototype.prepareFrame=function(o){this.prepareProperties(o,!0)},HCameraElement.prototype.destroy=function(){},HCameraElement.prototype.getBaseElement=function(){return null};function HImageElement(o,i,s){this.assetData=i.getAssetData(o.refId),this.initElement(o,i,s)}extendPrototype([BaseElement,TransformElement,HBaseElement,HSolidElement,HierarchyElement,FrameElement,RenderableElement],HImageElement),HImageElement.prototype.createContent=function(){var o=this.globalData.getAssetsPath(this.assetData),i=new Image;this.data.hasMask?(this.imageElem=createNS("image"),this.imageElem.setAttribute("width",this.assetData.w+"px"),this.imageElem.setAttribute("height",this.assetData.h+"px"),this.imageElem.setAttributeNS("http://www.w3.org/1999/xlink","href",o),this.layerElement.appendChild(this.imageElem),this.baseElement.setAttribute("width",this.assetData.w),this.baseElement.setAttribute("height",this.assetData.h)):this.layerElement.appendChild(i),i.crossOrigin="anonymous",i.src=o,this.data.ln&&this.baseElement.setAttribute("id",this.data.ln)};function HybridRendererBase(o,i){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"}},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([BaseRenderer],HybridRendererBase),HybridRendererBase.prototype.buildItem=SVGRenderer.prototype.buildItem,HybridRendererBase.prototype.checkPendingElements=function(){for(;this.pendingElements.length;){var o=this.pendingElements.pop();o.checkParenting()}},HybridRendererBase.prototype.appendElementInPos=function(o,i){var s=o.getBaseElement();if(s){var a=this.layers[i];if(!a.ddd||!this.supports3d)if(this.threeDElements)this.addTo3dContainer(s,i);else{for(var et=0,tt,rt,nt;et<i;)this.elements[et]&&this.elements[et]!==!0&&this.elements[et].getBaseElement&&(rt=this.elements[et],nt=this.layers[et].ddd?this.getThreeDContainerByPos(et):rt.getBaseElement(),tt=nt||tt),et+=1;tt?(!a.ddd||!this.supports3d)&&this.layerElement.insertBefore(s,tt):(!a.ddd||!this.supports3d)&&this.layerElement.appendChild(s)}else this.addTo3dContainer(s,i)}},HybridRendererBase.prototype.createShape=function(o){return this.supports3d?new HShapeElement(o,this.globalData,this):new SVGShapeElement(o,this.globalData,this)},HybridRendererBase.prototype.createText=function(o){return this.supports3d?new HTextElement(o,this.globalData,this):new SVGTextLottieElement(o,this.globalData,this)},HybridRendererBase.prototype.createCamera=function(o){return this.camera=new HCameraElement(o,this.globalData,this),this.camera},HybridRendererBase.prototype.createImage=function(o){return this.supports3d?new HImageElement(o,this.globalData,this):new IImageElement(o,this.globalData,this)},HybridRendererBase.prototype.createSolid=function(o){return this.supports3d?new HSolidElement(o,this.globalData,this):new ISolidElement(o,this.globalData,this)},HybridRendererBase.prototype.createNull=SVGRenderer.prototype.createNull,HybridRendererBase.prototype.getThreeDContainerByPos=function(o){for(var i=0,s=this.threeDElements.length;i<s;){if(this.threeDElements[i].startPos<=o&&this.threeDElements[i].endPos>=o)return this.threeDElements[i].perspectiveElem;i+=1}return null},HybridRendererBase.prototype.createThreeDContainer=function(o,i){var s=createTag("div"),a,et;styleDiv(s);var tt=createTag("div");if(styleDiv(tt),i==="3d"){a=s.style,a.width=this.globalData.compSize.w+"px",a.height=this.globalData.compSize.h+"px";var rt="50% 50%";a.webkitTransformOrigin=rt,a.mozTransformOrigin=rt,a.transformOrigin=rt,et=tt.style;var nt="matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)";et.transform=nt,et.webkitTransform=nt}s.appendChild(tt);var it={container:tt,perspectiveElem:s,startPos:o,endPos:o,type:i};return this.threeDElements.push(it),it},HybridRendererBase.prototype.build3dContainers=function(){var o,i=this.layers.length,s,a="";for(o=0;o<i;o+=1)this.layers[o].ddd&&this.layers[o].ty!==3?(a!=="3d"&&(a="3d",s=this.createThreeDContainer(o,"3d")),s.endPos=Math.max(s.endPos,o)):(a!=="2d"&&(a="2d",s=this.createThreeDContainer(o,"2d")),s.endPos=Math.max(s.endPos,o));for(i=this.threeDElements.length,o=i-1;o>=0;o-=1)this.resizerElem.appendChild(this.threeDElements[o].perspectiveElem)},HybridRendererBase.prototype.addTo3dContainer=function(o,i){for(var s=0,a=this.threeDElements.length;s<a;){if(i<=this.threeDElements[s].endPos){for(var et=this.threeDElements[s].startPos,tt;et<i;)this.elements[et]&&this.elements[et].getBaseElement&&(tt=this.elements[et].getBaseElement()),et+=1;tt?this.threeDElements[s].container.insertBefore(o,tt):this.threeDElements[s].container.appendChild(o);break}s+=1}},HybridRendererBase.prototype.configAnimation=function(o){var i=createTag("div"),s=this.animationItem.wrapper,a=i.style;a.width=o.w+"px",a.height=o.h+"px",this.resizerElem=i,styleDiv(i),a.transformStyle="flat",a.mozTransformStyle="flat",a.webkitTransformStyle="flat",this.renderConfig.className&&i.setAttribute("class",this.renderConfig.className),s.appendChild(i),a.overflow="hidden";var et=createNS("svg");et.setAttribute("width","1"),et.setAttribute("height","1"),styleDiv(et),this.resizerElem.appendChild(et);var tt=createNS("defs");et.appendChild(tt),this.data=o,this.setupGlobalData(o,et),this.globalData.defs=tt,this.layers=o.layers,this.layerElement=this.resizerElem,this.build3dContainers(),this.updateContainerSize()},HybridRendererBase.prototype.destroy=function(){this.animationItem.wrapper&&(this.animationItem.wrapper.innerText=""),this.animationItem.container=null,this.globalData.defs=null;var o,i=this.layers?this.layers.length:0;for(o=0;o<i;o+=1)this.elements[o]&&this.elements[o].destroy&&this.elements[o].destroy();this.elements.length=0,this.destroyed=!0,this.animationItem=null},HybridRendererBase.prototype.updateContainerSize=function(){var o=this.animationItem.wrapper.offsetWidth,i=this.animationItem.wrapper.offsetHeight,s=o/i,a=this.globalData.compSize.w/this.globalData.compSize.h,et,tt,rt,nt;a>s?(et=o/this.globalData.compSize.w,tt=o/this.globalData.compSize.w,rt=0,nt=(i-this.globalData.compSize.h*(o/this.globalData.compSize.w))/2):(et=i/this.globalData.compSize.h,tt=i/this.globalData.compSize.h,rt=(o-this.globalData.compSize.w*(i/this.globalData.compSize.h))/2,nt=0);var it=this.resizerElem.style;it.webkitTransform="matrix3d("+et+",0,0,0,0,"+tt+",0,0,0,0,1,0,"+rt+","+nt+",0,1)",it.transform=it.webkitTransform},HybridRendererBase.prototype.renderFrame=SVGRenderer.prototype.renderFrame,HybridRendererBase.prototype.hide=function(){this.resizerElem.style.display="none"},HybridRendererBase.prototype.show=function(){this.resizerElem.style.display="block"},HybridRendererBase.prototype.initItems=function(){if(this.buildAllItems(),this.camera)this.camera.setup();else{var o=this.globalData.compSize.w,i=this.globalData.compSize.h,s,a=this.threeDElements.length;for(s=0;s<a;s+=1){var et=this.threeDElements[s].perspectiveElem.style;et.webkitPerspective=Math.sqrt(Math.pow(o,2)+Math.pow(i,2))+"px",et.perspective=et.webkitPerspective}}},HybridRendererBase.prototype.searchExtraCompositions=function(o){var i,s=o.length,a=createTag("div");for(i=0;i<s;i+=1)if(o[i].xt){var et=this.createComp(o[i],a,this.globalData.comp,null);et.initExpressions(),this.globalData.projectInterface.registerComposition(et)}};function HCompElement(o,i,s){this.layers=o.layers,this.supports3d=!o.hasMask,this.completeLayers=!1,this.pendingElements=[],this.elements=this.layers?createSizedArray(this.layers.length):[],this.initElement(o,i,s),this.tm=o.tm?PropertyFactory.getProp(this,o.tm,0,i.frameRate,this):{_placeholder:!0}}extendPrototype([HybridRendererBase,ICompElement,HBaseElement],HCompElement),HCompElement.prototype._createBaseContainerElements=HCompElement.prototype.createContainerElements,HCompElement.prototype.createContainerElements=function(){this._createBaseContainerElements(),this.data.hasMask?(this.svgElement.setAttribute("width",this.data.w),this.svgElement.setAttribute("height",this.data.h),this.transformedElement=this.baseElement):this.transformedElement=this.layerElement},HCompElement.prototype.addTo3dContainer=function(o,i){for(var s=0,a;s<i;)this.elements[s]&&this.elements[s].getBaseElement&&(a=this.elements[s].getBaseElement()),s+=1;a?this.layerElement.insertBefore(o,a):this.layerElement.appendChild(o)},HCompElement.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};function HybridRenderer(o,i){this.animationItem=o,this.layers=null,this.renderedFrame=-1,this.renderConfig={className:i&&i.className||"",imagePreserveAspectRatio:i&&i.imagePreserveAspectRatio||"xMidYMid slice",hideOnTransparent:!(i&&i.hideOnTransparent===!1),filterSize:{width:i&&i.filterSize&&i.filterSize.width||"400%",height:i&&i.filterSize&&i.filterSize.height||"400%",x:i&&i.filterSize&&i.filterSize.x||"-100%",y:i&&i.filterSize&&i.filterSize.y||"-100%"},runExpressions:!i||i.runExpressions===void 0||i.runExpressions},this.globalData={_mdf:!1,frameNum:-1,renderConfig:this.renderConfig},this.pendingElements=[],this.elements=[],this.threeDElements=[],this.destroyed=!1,this.camera=null,this.supports3d=!0,this.rendererType="html"}extendPrototype([HybridRendererBase],HybridRenderer),HybridRenderer.prototype.createComp=function(o){return this.supports3d?new HCompElement(o,this.globalData,this):new SVGCompElement(o,this.globalData,this)};var CompExpressionInterface=function(){return function(o){function i(s){for(var a=0,et=o.layers.length;a<et;){if(o.layers[a].nm===s||o.layers[a].ind===s)return o.elements[a].layerInterface;a+=1}return null}return Object.defineProperty(i,"_name",{value:o.data.nm}),i.layer=i,i.pixelAspect=1,i.height=o.data.h||o.globalData.compSize.h,i.width=o.data.w||o.globalData.compSize.w,i.pixelAspect=1,i.frameDuration=1/o.globalData.frameRate,i.displayStartTime=0,i.numLayers=o.layers.length,i}}();function _typeof$2(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$2=function(s){return typeof s}:_typeof$2=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$2(o)}function seedRandom(o,i){var s=this,a=256,et=6,tt=52,rt="random",nt=i.pow(a,et),it=i.pow(2,tt),ot=it*2,st=a-1,lt;function at(ct,gt,Et){var bt=[];gt=gt===!0?{entropy:!0}:gt||{};var xt=yt(mt(gt.entropy?[ct,pt(o)]:ct===null?ht():ct,3),bt),Tt=new ut(bt),wt=function(){for(var At=Tt.g(et),kt=nt,Vt=0;At<it;)At=(At+Vt)*a,kt*=a,Vt=Tt.g(1);for(;At>=ot;)At/=2,kt/=2,Vt>>>=1;return(At+Vt)/kt};return wt.int32=function(){return Tt.g(4)|0},wt.quick=function(){return Tt.g(4)/4294967296},wt.double=wt,yt(pt(Tt.S),o),(gt.pass||Et||function(It,At,kt,Vt){return Vt&&(Vt.S&&ft(Vt,Tt),It.state=function(){return ft(Tt,{})}),kt?(i[rt]=It,At):It})(wt,xt,"global"in gt?gt.global:this==i,gt.state)}i["seed"+rt]=at;function ut(ct){var gt,Et=ct.length,bt=this,xt=0,Tt=bt.i=bt.j=0,wt=bt.S=[];for(Et||(ct=[Et++]);xt<a;)wt[xt]=xt++;for(xt=0;xt<a;xt++)wt[xt]=wt[Tt=st&Tt+ct[xt%Et]+(gt=wt[xt])],wt[Tt]=gt;bt.g=function(It){for(var At,kt=0,Vt=bt.i,Mt=bt.j,Ot=bt.S;It--;)At=Ot[Vt=st&Vt+1],kt=kt*a+Ot[st&(Ot[Vt]=Ot[Mt=st&Mt+At])+(Ot[Mt]=At)];return bt.i=Vt,bt.j=Mt,kt}}function ft(ct,gt){return gt.i=ct.i,gt.j=ct.j,gt.S=ct.S.slice(),gt}function mt(ct,gt){var Et=[],bt=_typeof$2(ct),xt;if(gt&&bt=="object")for(xt in ct)try{Et.push(mt(ct[xt],gt-1))}catch{}return Et.length?Et:bt=="string"?ct:ct+"\0"}function yt(ct,gt){for(var Et=ct+"",bt,xt=0;xt<Et.length;)gt[st&xt]=st&(bt^=gt[st&xt]*19)+Et.charCodeAt(xt++);return pt(gt)}function ht(){try{var ct=new Uint8Array(a);return(s.crypto||s.msCrypto).getRandomValues(ct),pt(ct)}catch{var gt=s.navigator,Et=gt&&gt.plugins;return[+new Date,s,Et,s.screen,pt(o)]}}function pt(ct){return String.fromCharCode.apply(0,ct)}yt(i.random(),o)}function initialize$2(o){seedRandom([],o)}var propTypes={SHAPE:"shape"};function _typeof$1(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(s){return typeof s}:_typeof$1=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof$1(o)}var ExpressionManager=function(){var ob={},Math=BMMath,window=null,document=null,XMLHttpRequest=null,fetch=null,frames=null,_lottieGlobal={};initialize$2(BMMath);function resetFrame(){_lottieGlobal={}}function $bm_isInstanceOfArray(o){return o.constructor===Array||o.constructor===Float32Array}function isNumerable(o,i){return o==="number"||i instanceof Number||o==="boolean"||o==="string"}function $bm_neg(o){var i=_typeof$1(o);if(i==="number"||o instanceof Number||i==="boolean")return-o;if($bm_isInstanceOfArray(o)){var s,a=o.length,et=[];for(s=0;s<a;s+=1)et[s]=-o[s];return et}return o.propType?o.v:-o}var easeInBez=BezierFactory.getBezierEasing(.333,0,.833,.833,"easeIn").get,easeOutBez=BezierFactory.getBezierEasing(.167,.167,.667,1,"easeOut").get,easeInOutBez=BezierFactory.getBezierEasing(.33,0,.667,1,"easeInOut").get;function sum(o,i){var s=_typeof$1(o),a=_typeof$1(i);if(isNumerable(s,o)&&isNumerable(a,i)||s==="string"||a==="string")return o+i;if($bm_isInstanceOfArray(o)&&isNumerable(a,i))return o=o.slice(0),o[0]+=i,o;if(isNumerable(s,o)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=o+i[0],i;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(i)){for(var et=0,tt=o.length,rt=i.length,nt=[];et<tt||et<rt;)(typeof o[et]=="number"||o[et]instanceof Number)&&(typeof i[et]=="number"||i[et]instanceof Number)?nt[et]=o[et]+i[et]:nt[et]=i[et]===void 0?o[et]:o[et]||i[et],et+=1;return nt}return 0}var add=sum;function sub(o,i){var s=_typeof$1(o),a=_typeof$1(i);if(isNumerable(s,o)&&isNumerable(a,i))return s==="string"&&(o=parseInt(o,10)),a==="string"&&(i=parseInt(i,10)),o-i;if($bm_isInstanceOfArray(o)&&isNumerable(a,i))return o=o.slice(0),o[0]-=i,o;if(isNumerable(s,o)&&$bm_isInstanceOfArray(i))return i=i.slice(0),i[0]=o-i[0],i;if($bm_isInstanceOfArray(o)&&$bm_isInstanceOfArray(i)){for(var et=0,tt=o.length,rt=i.length,nt=[];et<tt||et<rt;)(typeof o[et]=="number"||o[et]instanceof Number)&&(typeof i[et]=="number"||i[et]instanceof Number)?nt[et]=o[et]-i[et]:nt[et]=i[et]===void 0?o[et]:o[et]||i[et],et+=1;return nt}return 0}function mul(o,i){var s=_typeof$1(o),a=_typeof$1(i),et;if(isNumerable(s,o)&&isNumerable(a,i))return o*i;var tt,rt;if($bm_isInstanceOfArray(o)&&isNumerable(a,i)){for(rt=o.length,et=createTypedArray("float32",rt),tt=0;tt<rt;tt+=1)et[tt]=o[tt]*i;return et}if(isNumerable(s,o)&&$bm_isInstanceOfArray(i)){for(rt=i.length,et=createTypedArray("float32",rt),tt=0;tt<rt;tt+=1)et[tt]=o*i[tt];return et}return 0}function div(o,i){var s=_typeof$1(o),a=_typeof$1(i),et;if(isNumerable(s,o)&&isNumerable(a,i))return o/i;var tt,rt;if($bm_isInstanceOfArray(o)&&isNumerable(a,i)){for(rt=o.length,et=createTypedArray("float32",rt),tt=0;tt<rt;tt+=1)et[tt]=o[tt]/i;return et}if(isNumerable(s,o)&&$bm_isInstanceOfArray(i)){for(rt=i.length,et=createTypedArray("float32",rt),tt=0;tt<rt;tt+=1)et[tt]=o/i[tt];return et}return 0}function mod(o,i){return typeof o=="string"&&(o=parseInt(o,10)),typeof i=="string"&&(i=parseInt(i,10)),o%i}var $bm_sum=sum,$bm_sub=sub,$bm_mul=mul,$bm_div=div,$bm_mod=mod;function clamp(o,i,s){if(i>s){var a=s;s=i,i=a}return Math.min(Math.max(o,i),s)}function radiansToDegrees(o){return o/degToRads}var radians_to_degrees=radiansToDegrees;function degreesToRadians(o){return o*degToRads}var degrees_to_radians=radiansToDegrees,helperLengthArray=[0,0,0,0,0,0];function length(o,i){if(typeof o=="number"||o instanceof Number)return i=i||0,Math.abs(o-i);i||(i=helperLengthArray);var s,a=Math.min(o.length,i.length),et=0;for(s=0;s<a;s+=1)et+=Math.pow(i[s]-o[s],2);return Math.sqrt(et)}function normalize(o){return div(o,length(o))}function rgbToHsl(o){var i=o[0],s=o[1],a=o[2],et=Math.max(i,s,a),tt=Math.min(i,s,a),rt,nt,it=(et+tt)/2;if(et===tt)rt=0,nt=0;else{var ot=et-tt;switch(nt=it>.5?ot/(2-et-tt):ot/(et+tt),et){case i:rt=(s-a)/ot+(s<a?6:0);break;case s:rt=(a-i)/ot+2;break;case a:rt=(i-s)/ot+4;break}rt/=6}return[rt,nt,it,o[3]]}function hue2rgb(o,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?o+(i-o)*6*s:s<1/2?i:s<2/3?o+(i-o)*(2/3-s)*6:o}function hslToRgb(o){var i=o[0],s=o[1],a=o[2],et,tt,rt;if(s===0)et=a,rt=a,tt=a;else{var nt=a<.5?a*(1+s):a+s-a*s,it=2*a-nt;et=hue2rgb(it,nt,i+1/3),tt=hue2rgb(it,nt,i),rt=hue2rgb(it,nt,i-1/3)}return[et,tt,rt,o[3]]}function linear(o,i,s,a,et){if((a===void 0||et===void 0)&&(a=i,et=s,i=0,s=1),s<i){var tt=s;s=i,i=tt}if(o<=i)return a;if(o>=s)return et;var rt=s===i?0:(o-i)/(s-i);if(!a.length)return a+(et-a)*rt;var nt,it=a.length,ot=createTypedArray("float32",it);for(nt=0;nt<it;nt+=1)ot[nt]=a[nt]+(et[nt]-a[nt])*rt;return ot}function random(o,i){if(i===void 0&&(o===void 0?(o=0,i=1):(i=o,o=void 0)),i.length){var s,a=i.length;o||(o=createTypedArray("float32",a));var et=createTypedArray("float32",a),tt=BMMath.random();for(s=0;s<a;s+=1)et[s]=o[s]+tt*(i[s]-o[s]);return et}o===void 0&&(o=0);var rt=BMMath.random();return o+rt*(i-o)}function createPath(o,i,s,a){var et,tt=o.length,rt=shapePool.newElement();rt.setPathData(!!a,tt);var nt=[0,0],it,ot;for(et=0;et<tt;et+=1)it=i&&i[et]?i[et]:nt,ot=s&&s[et]?s[et]:nt,rt.setTripleAt(o[et][0],o[et][1],ot[0]+o[et][0],ot[1]+o[et][1],it[0]+o[et][0],it[1]+o[et][1],et,!0);return rt}function initiateExpression(elem,data,property){function noOp(o){return o}if(!elem.globalData.renderConfig.runExpressions)return noOp;var val=data.x,needsVelocity=/velocity(?![\w\d])/.test(val),_needsRandom=val.indexOf("random")!==-1,elemType=elem.data.ty,transform,$bm_transform,content,effect,thisProperty=property;thisProperty.valueAtTime=thisProperty.getValueAtTime,Object.defineProperty(thisProperty,"value",{get:function(){return thisProperty.v}}),elem.comp.frameDuration=1/elem.comp.globalData.frameRate,elem.comp.displayStartTime=0;var inPoint=elem.data.ip/elem.comp.globalData.frameRate,outPoint=elem.data.op/elem.comp.globalData.frameRate,width=elem.data.sw?elem.data.sw:0,height=elem.data.sh?elem.data.sh:0,name=elem.data.nm,loopIn,loop_in,loopOut,loop_out,smooth,toWorld,fromWorld,fromComp,toComp,fromCompToSurface,position,rotation,anchorPoint,scale,thisLayer,thisComp,mask,valueAtTime,velocityAtTime,scoped_bm_rt,expression_function=eval("[function _expression_function(){"+val+";scoped_bm_rt=$bm_rt}]")[0],numKeys=property.kf?data.k.length:0,active=!this.data||this.data.hd!==!0,wiggle=(function o(i,s){var a,et,tt=this.pv.length?this.pv.length:1,rt=createTypedArray("float32",tt);i=5;var nt=Math.floor(time*i);for(a=0,et=0;a<nt;){for(et=0;et<tt;et+=1)rt[et]+=-s+s*2*BMMath.random();a+=1}var it=time*i,ot=it-Math.floor(it),st=createTypedArray("float32",tt);if(tt>1){for(et=0;et<tt;et+=1)st[et]=this.pv[et]+rt[et]+(-s+s*2*BMMath.random())*ot;return st}return this.pv+rt[0]+(-s+s*2*BMMath.random())*ot}).bind(this);thisProperty.loopIn&&(loopIn=thisProperty.loopIn.bind(thisProperty),loop_in=loopIn),thisProperty.loopOut&&(loopOut=thisProperty.loopOut.bind(thisProperty),loop_out=loopOut),thisProperty.smooth&&(smooth=thisProperty.smooth.bind(thisProperty));function loopInDuration(o,i){return loopIn(o,i,!0)}function loopOutDuration(o,i){return loopOut(o,i,!0)}this.getValueAtTime&&(valueAtTime=this.getValueAtTime.bind(this)),this.getVelocityAtTime&&(velocityAtTime=this.getVelocityAtTime.bind(this));var comp=elem.comp.globalData.projectInterface.bind(elem.comp.globalData.projectInterface);function lookAt(o,i){var s=[i[0]-o[0],i[1]-o[1],i[2]-o[2]],a=Math.atan2(s[0],Math.sqrt(s[1]*s[1]+s[2]*s[2]))/degToRads,et=-Math.atan2(s[1],s[2])/degToRads;return[et,a,0]}function easeOut(o,i,s,a,et){return applyEase(easeOutBez,o,i,s,a,et)}function easeIn(o,i,s,a,et){return applyEase(easeInBez,o,i,s,a,et)}function ease(o,i,s,a,et){return applyEase(easeInOutBez,o,i,s,a,et)}function applyEase(o,i,s,a,et,tt){et===void 0?(et=s,tt=a):i=(i-s)/(a-s),i>1?i=1:i<0&&(i=0);var rt=o(i);if($bm_isInstanceOfArray(et)){var nt,it=et.length,ot=createTypedArray("float32",it);for(nt=0;nt<it;nt+=1)ot[nt]=(tt[nt]-et[nt])*rt+et[nt];return ot}return(tt-et)*rt+et}function nearestKey(o){var i,s=data.k.length,a,et;if(!data.k.length||typeof data.k[0]=="number")a=0,et=0;else if(a=-1,o*=elem.comp.globalData.frameRate,o<data.k[0].t)a=1,et=data.k[0].t;else{for(i=0;i<s-1;i+=1)if(o===data.k[i].t){a=i+1,et=data.k[i].t;break}else if(o>data.k[i].t&&o<data.k[i+1].t){o-data.k[i].t>data.k[i+1].t-o?(a=i+2,et=data.k[i+1].t):(a=i+1,et=data.k[i].t);break}a===-1&&(a=i+1,et=data.k[i].t)}var tt={};return tt.index=a,tt.time=et/elem.comp.globalData.frameRate,tt}function key(o){var i,s,a;if(!data.k.length||typeof data.k[0]=="number")throw new Error("The property has no keyframe at index "+o);o-=1,i={time:data.k[o].t/elem.comp.globalData.frameRate,value:[]};var et=Object.prototype.hasOwnProperty.call(data.k[o],"s")?data.k[o].s:data.k[o-1].e;for(a=et.length,s=0;s<a;s+=1)i[s]=et[s],i.value[s]=et[s];return i}function framesToTime(o,i){return i||(i=elem.comp.globalData.frameRate),o/i}function timeToFrames(o,i){return!o&&o!==0&&(o=time),i||(i=elem.comp.globalData.frameRate),o*i}function seedRandom(o){BMMath.seedrandom(randSeed+o)}function sourceRectAtTime(){return elem.sourceRectAtTime()}function substring(o,i){return typeof value=="string"?i===void 0?value.substring(o):value.substring(o,i):""}function substr(o,i){return typeof value=="string"?i===void 0?value.substr(o):value.substr(o,i):""}function posterizeTime(o){time=o===0?0:Math.floor(time*o)/o,value=valueAtTime(time)}var time,velocity,value,text,textIndex,textTotal,selectorValue,index=elem.data.ind,hasParent=!!(elem.hierarchy&&elem.hierarchy.length),parent,randSeed=Math.floor(Math.random()*1e6),globalData=elem.globalData;function executeExpression(o){return value=o,this.frameExpressionId===elem.globalData.frameId&&this.propType!=="textSelector"?value:(this.propType==="textSelector"&&(textIndex=this.textIndex,textTotal=this.textTotal,selectorValue=this.selectorValue),thisLayer||(text=elem.layerInterface.text,thisLayer=elem.layerInterface,thisComp=elem.comp.compInterface,toWorld=thisLayer.toWorld.bind(thisLayer),fromWorld=thisLayer.fromWorld.bind(thisLayer),fromComp=thisLayer.fromComp.bind(thisLayer),toComp=thisLayer.toComp.bind(thisLayer),mask=thisLayer.mask?thisLayer.mask.bind(thisLayer):null,fromCompToSurface=fromComp),transform||(transform=elem.layerInterface("ADBE Transform Group"),$bm_transform=transform,transform&&(anchorPoint=transform.anchorPoint)),elemType===4&&!content&&(content=thisLayer("ADBE Root Vectors Group")),effect||(effect=thisLayer(4)),hasParent=!!(elem.hierarchy&&elem.hierarchy.length),hasParent&&!parent&&(parent=elem.hierarchy[0].layerInterface),time=this.comp.renderedFrame/this.comp.globalData.frameRate,_needsRandom&&seedRandom(randSeed+time),needsVelocity&&(velocity=velocityAtTime(time)),expression_function(),this.frameExpressionId=elem.globalData.frameId,scoped_bm_rt=scoped_bm_rt.propType===propTypes.SHAPE?scoped_bm_rt.v:scoped_bm_rt,scoped_bm_rt)}return executeExpression.__preventDeadCodeRemoval=[$bm_transform,anchorPoint,time,velocity,inPoint,outPoint,width,height,name,loop_in,loop_out,smooth,toComp,fromCompToSurface,toWorld,fromWorld,mask,position,rotation,scale,thisComp,numKeys,active,wiggle,loopInDuration,loopOutDuration,comp,lookAt,easeOut,easeIn,ease,nearestKey,key,text,textIndex,textTotal,selectorValue,framesToTime,timeToFrames,sourceRectAtTime,substring,substr,posterizeTime,index,globalData],executeExpression}return ob.initiateExpression=initiateExpression,ob.__preventDeadCodeRemoval=[window,document,XMLHttpRequest,fetch,frames,$bm_neg,add,$bm_sum,$bm_sub,$bm_mul,$bm_div,$bm_mod,clamp,radians_to_degrees,degreesToRadians,degrees_to_radians,normalize,rgbToHsl,hslToRgb,linear,random,createPath,_lottieGlobal],ob.resetFrame=resetFrame,ob}(),Expressions=function(){var o={};o.initExpressions=i,o.resetFrame=ExpressionManager.resetFrame;function i(s){var a=0,et=[];function tt(){a+=1}function rt(){a-=1,a===0&&it()}function nt(ot){et.indexOf(ot)===-1&&et.push(ot)}function it(){var ot,st=et.length;for(ot=0;ot<st;ot+=1)et[ot].release();et.length=0}s.renderer.compInterface=CompExpressionInterface(s.renderer),s.renderer.globalData.projectInterface.registerComposition(s.renderer),s.renderer.globalData.pushExpression=tt,s.renderer.globalData.popExpression=rt,s.renderer.globalData.registerExpressionProperty=nt}return o}(),MaskManagerInterface=function(){function o(s,a){this._mask=s,this._data=a}Object.defineProperty(o.prototype,"maskPath",{get:function(){return this._mask.prop.k&&this._mask.prop.getValue(),this._mask.prop}}),Object.defineProperty(o.prototype,"maskOpacity",{get:function(){return this._mask.op.k&&this._mask.op.getValue(),this._mask.op.v*100}});var i=function(a){var et=createSizedArray(a.viewData.length),tt,rt=a.viewData.length;for(tt=0;tt<rt;tt+=1)et[tt]=new o(a.viewData[tt],a.masksProperties[tt]);var nt=function(ot){for(tt=0;tt<rt;){if(a.masksProperties[tt].nm===ot)return et[tt];tt+=1}return null};return nt};return i}(),ExpressionPropertyInterface=function(){var o={pv:0,v:0,mult:1},i={pv:[0,0,0],v:[0,0,0],mult:1};function s(rt,nt,it){Object.defineProperty(rt,"velocity",{get:function(){return nt.getVelocityAtTime(nt.comp.currentFrame)}}),rt.numKeys=nt.keyframes?nt.keyframes.length:0,rt.key=function(ot){if(!rt.numKeys)return 0;var st="";"s"in nt.keyframes[ot-1]?st=nt.keyframes[ot-1].s:"e"in nt.keyframes[ot-2]?st=nt.keyframes[ot-2].e:st=nt.keyframes[ot-2].s;var lt=it==="unidimensional"?new Number(st):Object.assign({},st);return lt.time=nt.keyframes[ot-1].t/nt.elem.comp.globalData.frameRate,lt.value=it==="unidimensional"?st[0]:st,lt},rt.valueAtTime=nt.getValueAtTime,rt.speedAtTime=nt.getSpeedAtTime,rt.velocityAtTime=nt.getVelocityAtTime,rt.propertyGroup=nt.propertyGroup}function a(rt){(!rt||!("pv"in rt))&&(rt=o);var nt=1/rt.mult,it=rt.pv*nt,ot=new Number(it);return ot.value=it,s(ot,rt,"unidimensional"),function(){return rt.k&&rt.getValue(),it=rt.v*nt,ot.value!==it&&(ot=new Number(it),ot.value=it,s(ot,rt,"unidimensional")),ot}}function et(rt){(!rt||!("pv"in rt))&&(rt=i);var nt=1/rt.mult,it=rt.data&&rt.data.l||rt.pv.length,ot=createTypedArray("float32",it),st=createTypedArray("float32",it);return ot.value=st,s(ot,rt,"multidimensional"),function(){rt.k&&rt.getValue();for(var lt=0;lt<it;lt+=1)st[lt]=rt.v[lt]*nt,ot[lt]=st[lt];return ot}}function tt(){return o}return function(rt){return rt?rt.propType==="unidimensional"?a(rt):et(rt):tt}}(),TransformExpressionInterface=function(){return function(o){function i(rt){switch(rt){case"scale":case"Scale":case"ADBE Scale":case 6:return i.scale;case"rotation":case"Rotation":case"ADBE Rotation":case"ADBE Rotate Z":case 10:return i.rotation;case"ADBE Rotate X":return i.xRotation;case"ADBE Rotate Y":return i.yRotation;case"position":case"Position":case"ADBE Position":case 2:return i.position;case"ADBE Position_0":return i.xPosition;case"ADBE Position_1":return i.yPosition;case"ADBE Position_2":return i.zPosition;case"anchorPoint":case"AnchorPoint":case"Anchor Point":case"ADBE AnchorPoint":case 1:return i.anchorPoint;case"opacity":case"Opacity":case 11:return i.opacity;default:return null}}Object.defineProperty(i,"rotation",{get:ExpressionPropertyInterface(o.r||o.rz)}),Object.defineProperty(i,"zRotation",{get:ExpressionPropertyInterface(o.rz||o.r)}),Object.defineProperty(i,"xRotation",{get:ExpressionPropertyInterface(o.rx)}),Object.defineProperty(i,"yRotation",{get:ExpressionPropertyInterface(o.ry)}),Object.defineProperty(i,"scale",{get:ExpressionPropertyInterface(o.s)});var s,a,et,tt;return o.p?tt=ExpressionPropertyInterface(o.p):(s=ExpressionPropertyInterface(o.px),a=ExpressionPropertyInterface(o.py),o.pz&&(et=ExpressionPropertyInterface(o.pz))),Object.defineProperty(i,"position",{get:function(){return o.p?tt():[s(),a(),et?et():0]}}),Object.defineProperty(i,"xPosition",{get:ExpressionPropertyInterface(o.px)}),Object.defineProperty(i,"yPosition",{get:ExpressionPropertyInterface(o.py)}),Object.defineProperty(i,"zPosition",{get:ExpressionPropertyInterface(o.pz)}),Object.defineProperty(i,"anchorPoint",{get:ExpressionPropertyInterface(o.a)}),Object.defineProperty(i,"opacity",{get:ExpressionPropertyInterface(o.o)}),Object.defineProperty(i,"skew",{get:ExpressionPropertyInterface(o.sk)}),Object.defineProperty(i,"skewAxis",{get:ExpressionPropertyInterface(o.sa)}),Object.defineProperty(i,"orientation",{get:ExpressionPropertyInterface(o.or)}),i}}(),LayerExpressionInterface=function(){function o(ot){var st=new Matrix;if(ot!==void 0){var lt=this._elem.finalTransform.mProp.getValueAtTime(ot);lt.clone(st)}else{var at=this._elem.finalTransform.mProp;at.applyToMatrix(st)}return st}function i(ot,st){var lt=this.getMatrix(st);return lt.props[12]=0,lt.props[13]=0,lt.props[14]=0,this.applyPoint(lt,ot)}function s(ot,st){var lt=this.getMatrix(st);return this.applyPoint(lt,ot)}function a(ot,st){var lt=this.getMatrix(st);return lt.props[12]=0,lt.props[13]=0,lt.props[14]=0,this.invertPoint(lt,ot)}function et(ot,st){var lt=this.getMatrix(st);return this.invertPoint(lt,ot)}function tt(ot,st){if(this._elem.hierarchy&&this._elem.hierarchy.length){var lt,at=this._elem.hierarchy.length;for(lt=0;lt<at;lt+=1)this._elem.hierarchy[lt].finalTransform.mProp.applyToMatrix(ot)}return ot.applyToPointArray(st[0],st[1],st[2]||0)}function rt(ot,st){if(this._elem.hierarchy&&this._elem.hierarchy.length){var lt,at=this._elem.hierarchy.length;for(lt=0;lt<at;lt+=1)this._elem.hierarchy[lt].finalTransform.mProp.applyToMatrix(ot)}return ot.inversePoint(st)}function nt(ot){var st=new Matrix;if(st.reset(),this._elem.finalTransform.mProp.applyToMatrix(st),this._elem.hierarchy&&this._elem.hierarchy.length){var lt,at=this._elem.hierarchy.length;for(lt=0;lt<at;lt+=1)this._elem.hierarchy[lt].finalTransform.mProp.applyToMatrix(st);return st.inversePoint(ot)}return st.inversePoint(ot)}function it(){return[1,1,1,1]}return function(ot){var st;function lt(mt){ut.mask=new MaskManagerInterface(mt,ot)}function at(mt){ut.effect=mt}function ut(mt){switch(mt){case"ADBE Root Vectors Group":case"Contents":case 2:return ut.shapeInterface;case 1:case 6:case"Transform":case"transform":case"ADBE Transform Group":return st;case 4:case"ADBE Effect Parade":case"effects":case"Effects":return ut.effect;case"ADBE Text Properties":return ut.textInterface;default:return null}}ut.getMatrix=o,ut.invertPoint=rt,ut.applyPoint=tt,ut.toWorld=s,ut.toWorldVec=i,ut.fromWorld=et,ut.fromWorldVec=a,ut.toComp=s,ut.fromComp=nt,ut.sampleImage=it,ut.sourceRectAtTime=ot.sourceRectAtTime.bind(ot),ut._elem=ot,st=TransformExpressionInterface(ot.finalTransform.mProp);var ft=getDescriptor(st,"anchorPoint");return Object.defineProperties(ut,{hasParent:{get:function(){return ot.hierarchy.length}},parent:{get:function(){return ot.hierarchy[0].layerInterface}},rotation:getDescriptor(st,"rotation"),scale:getDescriptor(st,"scale"),position:getDescriptor(st,"position"),opacity:getDescriptor(st,"opacity"),anchorPoint:ft,anchor_point:ft,transform:{get:function(){return st}},active:{get:function(){return ot.isInRange}}}),ut.startTime=ot.data.st,ut.index=ot.data.ind,ut.source=ot.data.refId,ut.height=ot.data.ty===0?ot.data.h:100,ut.width=ot.data.ty===0?ot.data.w:100,ut.inPoint=ot.data.ip/ot.comp.globalData.frameRate,ut.outPoint=ot.data.op/ot.comp.globalData.frameRate,ut._name=ot.data.nm,ut.registerMaskInterface=lt,ut.registerEffectsInterface=at,ut}}(),propertyGroupFactory=function(){return function(o,i){return function(s){return s=s===void 0?1:s,s<=0?o:i(s-1)}}}(),PropertyInterface=function(){return function(o,i){var s={_name:o};function a(et){return et=et===void 0?1:et,et<=0?s:i(et-1)}return a}}(),EffectsExpressionInterface=function(){var o={createEffectsInterface:i};function i(et,tt){if(et.effectsManager){var rt=[],nt=et.data.ef,it,ot=et.effectsManager.effectElements.length;for(it=0;it<ot;it+=1)rt.push(s(nt[it],et.effectsManager.effectElements[it],tt,et));var st=et.data.ef||[],lt=function(ut){for(it=0,ot=st.length;it<ot;){if(ut===st[it].nm||ut===st[it].mn||ut===st[it].ix)return rt[it];it+=1}return null};return Object.defineProperty(lt,"numProperties",{get:function(){return st.length}}),lt}return null}function s(et,tt,rt,nt){function it(ut){for(var ft=et.ef,mt=0,yt=ft.length;mt<yt;){if(ut===ft[mt].nm||ut===ft[mt].mn||ut===ft[mt].ix)return ft[mt].ty===5?st[mt]:st[mt]();mt+=1}throw new Error}var ot=propertyGroupFactory(it,rt),st=[],lt,at=et.ef.length;for(lt=0;lt<at;lt+=1)et.ef[lt].ty===5?st.push(s(et.ef[lt],tt.effectElements[lt],tt.effectElements[lt].propertyGroup,nt)):st.push(a(tt.effectElements[lt],et.ef[lt].ty,nt,ot));return et.mn==="ADBE Color Control"&&Object.defineProperty(it,"color",{get:function(){return st[0]()}}),Object.defineProperties(it,{numProperties:{get:function(){return et.np}},_name:{value:et.nm},propertyGroup:{value:ot}}),it.enabled=et.en!==0,it.active=it.enabled,it}function a(et,tt,rt,nt){var it=ExpressionPropertyInterface(et.p);function ot(){return tt===10?rt.comp.compInterface(et.p.v):it()}return et.p.setGroupProperty&&et.p.setGroupProperty(PropertyInterface("",nt)),ot}return o}(),ShapePathInterface=function(){return function(i,s,a){var et=s.sh;function tt(nt){return nt==="Shape"||nt==="shape"||nt==="Path"||nt==="path"||nt==="ADBE Vector Shape"||nt===2?tt.path:null}var rt=propertyGroupFactory(tt,a);return et.setGroupProperty(PropertyInterface("Path",rt)),Object.defineProperties(tt,{path:{get:function(){return et.k&&et.getValue(),et}},shape:{get:function(){return et.k&&et.getValue(),et}},_name:{value:i.nm},ix:{value:i.ix},propertyIndex:{value:i.ix},mn:{value:i.mn},propertyGroup:{value:a}}),tt}}(),ShapeExpressionInterface=function(){function o(ft,mt,yt){var ht=[],pt,ct=ft?ft.length:0;for(pt=0;pt<ct;pt+=1)ft[pt].ty==="gr"?ht.push(s(ft[pt],mt[pt],yt)):ft[pt].ty==="fl"?ht.push(a(ft[pt],mt[pt],yt)):ft[pt].ty==="st"?ht.push(rt(ft[pt],mt[pt],yt)):ft[pt].ty==="tm"?ht.push(nt(ft[pt],mt[pt],yt)):ft[pt].ty==="tr"||(ft[pt].ty==="el"?ht.push(ot(ft[pt],mt[pt],yt)):ft[pt].ty==="sr"?ht.push(st(ft[pt],mt[pt],yt)):ft[pt].ty==="sh"?ht.push(ShapePathInterface(ft[pt],mt[pt],yt)):ft[pt].ty==="rc"?ht.push(lt(ft[pt],mt[pt],yt)):ft[pt].ty==="rd"?ht.push(at(ft[pt],mt[pt],yt)):ft[pt].ty==="rp"?ht.push(ut(ft[pt],mt[pt],yt)):ft[pt].ty==="gf"?ht.push(et(ft[pt],mt[pt],yt)):ht.push(tt(ft[pt],mt[pt])));return ht}function i(ft,mt,yt){var ht,pt=function(Et){for(var bt=0,xt=ht.length;bt<xt;){if(ht[bt]._name===Et||ht[bt].mn===Et||ht[bt].propertyIndex===Et||ht[bt].ix===Et||ht[bt].ind===Et)return ht[bt];bt+=1}return typeof Et=="number"?ht[Et-1]:null};pt.propertyGroup=propertyGroupFactory(pt,yt),ht=o(ft.it,mt.it,pt.propertyGroup),pt.numProperties=ht.length;var ct=it(ft.it[ft.it.length-1],mt.it[mt.it.length-1],pt.propertyGroup);return pt.transform=ct,pt.propertyIndex=ft.cix,pt._name=ft.nm,pt}function s(ft,mt,yt){var ht=function(Et){switch(Et){case"ADBE Vectors Group":case"Contents":case 2:return ht.content;default:return ht.transform}};ht.propertyGroup=propertyGroupFactory(ht,yt);var pt=i(ft,mt,ht.propertyGroup),ct=it(ft.it[ft.it.length-1],mt.it[mt.it.length-1],ht.propertyGroup);return ht.content=pt,ht.transform=ct,Object.defineProperty(ht,"_name",{get:function(){return ft.nm}}),ht.numProperties=ft.np,ht.propertyIndex=ft.ix,ht.nm=ft.nm,ht.mn=ft.mn,ht}function a(ft,mt,yt){function ht(pt){return pt==="Color"||pt==="color"?ht.color:pt==="Opacity"||pt==="opacity"?ht.opacity:null}return Object.defineProperties(ht,{color:{get:ExpressionPropertyInterface(mt.c)},opacity:{get:ExpressionPropertyInterface(mt.o)},_name:{value:ft.nm},mn:{value:ft.mn}}),mt.c.setGroupProperty(PropertyInterface("Color",yt)),mt.o.setGroupProperty(PropertyInterface("Opacity",yt)),ht}function et(ft,mt,yt){function ht(pt){return pt==="Start Point"||pt==="start point"?ht.startPoint:pt==="End Point"||pt==="end point"?ht.endPoint:pt==="Opacity"||pt==="opacity"?ht.opacity:null}return Object.defineProperties(ht,{startPoint:{get:ExpressionPropertyInterface(mt.s)},endPoint:{get:ExpressionPropertyInterface(mt.e)},opacity:{get:ExpressionPropertyInterface(mt.o)},type:{get:function(){return"a"}},_name:{value:ft.nm},mn:{value:ft.mn}}),mt.s.setGroupProperty(PropertyInterface("Start Point",yt)),mt.e.setGroupProperty(PropertyInterface("End Point",yt)),mt.o.setGroupProperty(PropertyInterface("Opacity",yt)),ht}function tt(){function ft(){return null}return ft}function rt(ft,mt,yt){var ht=propertyGroupFactory(xt,yt),pt=propertyGroupFactory(bt,ht);function ct(Tt){Object.defineProperty(bt,ft.d[Tt].nm,{get:ExpressionPropertyInterface(mt.d.dataProps[Tt].p)})}var gt,Et=ft.d?ft.d.length:0,bt={};for(gt=0;gt<Et;gt+=1)ct(gt),mt.d.dataProps[gt].p.setGroupProperty(pt);function xt(Tt){return Tt==="Color"||Tt==="color"?xt.color:Tt==="Opacity"||Tt==="opacity"?xt.opacity:Tt==="Stroke Width"||Tt==="stroke width"?xt.strokeWidth:null}return Object.defineProperties(xt,{color:{get:ExpressionPropertyInterface(mt.c)},opacity:{get:ExpressionPropertyInterface(mt.o)},strokeWidth:{get:ExpressionPropertyInterface(mt.w)},dash:{get:function(){return bt}},_name:{value:ft.nm},mn:{value:ft.mn}}),mt.c.setGroupProperty(PropertyInterface("Color",ht)),mt.o.setGroupProperty(PropertyInterface("Opacity",ht)),mt.w.setGroupProperty(PropertyInterface("Stroke Width",ht)),xt}function nt(ft,mt,yt){function ht(ct){return ct===ft.e.ix||ct==="End"||ct==="end"?ht.end:ct===ft.s.ix?ht.start:ct===ft.o.ix?ht.offset:null}var pt=propertyGroupFactory(ht,yt);return ht.propertyIndex=ft.ix,mt.s.setGroupProperty(PropertyInterface("Start",pt)),mt.e.setGroupProperty(PropertyInterface("End",pt)),mt.o.setGroupProperty(PropertyInterface("Offset",pt)),ht.propertyIndex=ft.ix,ht.propertyGroup=yt,Object.defineProperties(ht,{start:{get:ExpressionPropertyInterface(mt.s)},end:{get:ExpressionPropertyInterface(mt.e)},offset:{get:ExpressionPropertyInterface(mt.o)},_name:{value:ft.nm}}),ht.mn=ft.mn,ht}function it(ft,mt,yt){function ht(ct){return ft.a.ix===ct||ct==="Anchor Point"?ht.anchorPoint:ft.o.ix===ct||ct==="Opacity"?ht.opacity:ft.p.ix===ct||ct==="Position"?ht.position:ft.r.ix===ct||ct==="Rotation"||ct==="ADBE Vector Rotation"?ht.rotation:ft.s.ix===ct||ct==="Scale"?ht.scale:ft.sk&&ft.sk.ix===ct||ct==="Skew"?ht.skew:ft.sa&&ft.sa.ix===ct||ct==="Skew Axis"?ht.skewAxis:null}var pt=propertyGroupFactory(ht,yt);return mt.transform.mProps.o.setGroupProperty(PropertyInterface("Opacity",pt)),mt.transform.mProps.p.setGroupProperty(PropertyInterface("Position",pt)),mt.transform.mProps.a.setGroupProperty(PropertyInterface("Anchor Point",pt)),mt.transform.mProps.s.setGroupProperty(PropertyInterface("Scale",pt)),mt.transform.mProps.r.setGroupProperty(PropertyInterface("Rotation",pt)),mt.transform.mProps.sk&&(mt.transform.mProps.sk.setGroupProperty(PropertyInterface("Skew",pt)),mt.transform.mProps.sa.setGroupProperty(PropertyInterface("Skew Angle",pt))),mt.transform.op.setGroupProperty(PropertyInterface("Opacity",pt)),Object.defineProperties(ht,{opacity:{get:ExpressionPropertyInterface(mt.transform.mProps.o)},position:{get:ExpressionPropertyInterface(mt.transform.mProps.p)},anchorPoint:{get:ExpressionPropertyInterface(mt.transform.mProps.a)},scale:{get:ExpressionPropertyInterface(mt.transform.mProps.s)},rotation:{get:ExpressionPropertyInterface(mt.transform.mProps.r)},skew:{get:ExpressionPropertyInterface(mt.transform.mProps.sk)},skewAxis:{get:ExpressionPropertyInterface(mt.transform.mProps.sa)},_name:{value:ft.nm}}),ht.ty="tr",ht.mn=ft.mn,ht.propertyGroup=yt,ht}function ot(ft,mt,yt){function ht(gt){return ft.p.ix===gt?ht.position:ft.s.ix===gt?ht.size:null}var pt=propertyGroupFactory(ht,yt);ht.propertyIndex=ft.ix;var ct=mt.sh.ty==="tm"?mt.sh.prop:mt.sh;return ct.s.setGroupProperty(PropertyInterface("Size",pt)),ct.p.setGroupProperty(PropertyInterface("Position",pt)),Object.defineProperties(ht,{size:{get:ExpressionPropertyInterface(ct.s)},position:{get:ExpressionPropertyInterface(ct.p)},_name:{value:ft.nm}}),ht.mn=ft.mn,ht}function st(ft,mt,yt){function ht(gt){return ft.p.ix===gt?ht.position:ft.r.ix===gt?ht.rotation:ft.pt.ix===gt?ht.points:ft.or.ix===gt||gt==="ADBE Vector Star Outer Radius"?ht.outerRadius:ft.os.ix===gt?ht.outerRoundness:ft.ir&&(ft.ir.ix===gt||gt==="ADBE Vector Star Inner Radius")?ht.innerRadius:ft.is&&ft.is.ix===gt?ht.innerRoundness:null}var pt=propertyGroupFactory(ht,yt),ct=mt.sh.ty==="tm"?mt.sh.prop:mt.sh;return ht.propertyIndex=ft.ix,ct.or.setGroupProperty(PropertyInterface("Outer Radius",pt)),ct.os.setGroupProperty(PropertyInterface("Outer Roundness",pt)),ct.pt.setGroupProperty(PropertyInterface("Points",pt)),ct.p.setGroupProperty(PropertyInterface("Position",pt)),ct.r.setGroupProperty(PropertyInterface("Rotation",pt)),ft.ir&&(ct.ir.setGroupProperty(PropertyInterface("Inner Radius",pt)),ct.is.setGroupProperty(PropertyInterface("Inner Roundness",pt))),Object.defineProperties(ht,{position:{get:ExpressionPropertyInterface(ct.p)},rotation:{get:ExpressionPropertyInterface(ct.r)},points:{get:ExpressionPropertyInterface(ct.pt)},outerRadius:{get:ExpressionPropertyInterface(ct.or)},outerRoundness:{get:ExpressionPropertyInterface(ct.os)},innerRadius:{get:ExpressionPropertyInterface(ct.ir)},innerRoundness:{get:ExpressionPropertyInterface(ct.is)},_name:{value:ft.nm}}),ht.mn=ft.mn,ht}function lt(ft,mt,yt){function ht(gt){return ft.p.ix===gt?ht.position:ft.r.ix===gt?ht.roundness:ft.s.ix===gt||gt==="Size"||gt==="ADBE Vector Rect Size"?ht.size:null}var pt=propertyGroupFactory(ht,yt),ct=mt.sh.ty==="tm"?mt.sh.prop:mt.sh;return ht.propertyIndex=ft.ix,ct.p.setGroupProperty(PropertyInterface("Position",pt)),ct.s.setGroupProperty(PropertyInterface("Size",pt)),ct.r.setGroupProperty(PropertyInterface("Rotation",pt)),Object.defineProperties(ht,{position:{get:ExpressionPropertyInterface(ct.p)},roundness:{get:ExpressionPropertyInterface(ct.r)},size:{get:ExpressionPropertyInterface(ct.s)},_name:{value:ft.nm}}),ht.mn=ft.mn,ht}function at(ft,mt,yt){function ht(gt){return ft.r.ix===gt||gt==="Round Corners 1"?ht.radius:null}var pt=propertyGroupFactory(ht,yt),ct=mt;return ht.propertyIndex=ft.ix,ct.rd.setGroupProperty(PropertyInterface("Radius",pt)),Object.defineProperties(ht,{radius:{get:ExpressionPropertyInterface(ct.rd)},_name:{value:ft.nm}}),ht.mn=ft.mn,ht}function ut(ft,mt,yt){function ht(gt){return ft.c.ix===gt||gt==="Copies"?ht.copies:ft.o.ix===gt||gt==="Offset"?ht.offset:null}var pt=propertyGroupFactory(ht,yt),ct=mt;return ht.propertyIndex=ft.ix,ct.c.setGroupProperty(PropertyInterface("Copies",pt)),ct.o.setGroupProperty(PropertyInterface("Offset",pt)),Object.defineProperties(ht,{copies:{get:ExpressionPropertyInterface(ct.c)},offset:{get:ExpressionPropertyInterface(ct.o)},_name:{value:ft.nm}}),ht.mn=ft.mn,ht}return function(ft,mt,yt){var ht;function pt(gt){if(typeof gt=="number")return gt=gt===void 0?1:gt,gt===0?yt:ht[gt-1];for(var Et=0,bt=ht.length;Et<bt;){if(ht[Et]._name===gt)return ht[Et];Et+=1}return null}function ct(){return yt}return pt.propertyGroup=propertyGroupFactory(pt,ct),ht=o(ft,mt,pt.propertyGroup),pt.numProperties=ht.length,pt._name="Contents",pt}}(),TextExpressionInterface=function(){return function(o){var i;function s(a){switch(a){case"ADBE Text Document":return s.sourceText;default:return null}}return Object.defineProperty(s,"sourceText",{get:function(){o.textProperty.getValue();var et=o.textProperty.currentData.t;return(!i||et!==i.value)&&(i=new String(et),i.value=et||new String(et),Object.defineProperty(i,"style",{get:function(){return{fillColor:o.textProperty.currentData.fc}}})),i}}),s}}();function _typeof(o){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof=function(s){return typeof s}:_typeof=function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},_typeof(o)}var FootageInterface=function(){var o=function(a){var et="",tt=a.getFootageData();function rt(){return et="",tt=a.getFootageData(),nt}function nt(it){if(tt[it])return et=it,tt=tt[it],_typeof(tt)==="object"?nt:tt;var ot=it.indexOf(et);if(ot!==-1){var st=parseInt(it.substr(ot+et.length),10);return tt=tt[st],_typeof(tt)==="object"?nt:tt}return""}return rt},i=function(a){function et(tt){return tt==="Outline"?et.outlineInterface():null}return et._name="Outline",et.outlineInterface=o(a),et};return function(s){function a(et){return et==="Data"?a.dataInterface:null}return a._name="Data",a.dataInterface=i(s),a}}(),interfaces={layer:LayerExpressionInterface,effects:EffectsExpressionInterface,comp:CompExpressionInterface,shape:ShapeExpressionInterface,text:TextExpressionInterface,footage:FootageInterface};function getInterface(o){return interfaces[o]||null}var expressionHelpers=function(){function o(rt,nt,it){nt.x&&(it.k=!0,it.x=!0,it.initiateExpression=ExpressionManager.initiateExpression,it.effectsSequence.push(it.initiateExpression(rt,nt,it).bind(it)))}function i(rt){return rt*=this.elem.globalData.frameRate,rt-=this.offsetTime,rt!==this._cachingAtTime.lastFrame&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastFrame<rt?this._cachingAtTime.lastIndex:0,this._cachingAtTime.value=this.interpolateValue(rt,this._cachingAtTime),this._cachingAtTime.lastFrame=rt),this._cachingAtTime.value}function s(rt){var nt=-.01,it=this.getValueAtTime(rt),ot=this.getValueAtTime(rt+nt),st=0;if(it.length){var lt;for(lt=0;lt<it.length;lt+=1)st+=Math.pow(ot[lt]-it[lt],2);st=Math.sqrt(st)*100}else st=0;return st}function a(rt){if(this.vel!==void 0)return this.vel;var nt=-.001,it=this.getValueAtTime(rt),ot=this.getValueAtTime(rt+nt),st;if(it.length){st=createTypedArray("float32",it.length);var lt;for(lt=0;lt<it.length;lt+=1)st[lt]=(ot[lt]-it[lt])/nt}else st=(ot-it)/nt;return st}function et(){return this.pv}function tt(rt){this.propertyGroup=rt}return{searchExpressions:o,getSpeedAtTime:s,getVelocityAtTime:a,getValueAtTime:i,getStaticValueAtTime:et,setGroupProperty:tt}}();function addPropertyDecorator(){function o(at,ut,ft){if(!this.k||!this.keyframes)return this.pv;at=at?at.toLowerCase():"";var mt=this.comp.renderedFrame,yt=this.keyframes,ht=yt[yt.length-1].t;if(mt<=ht)return this.pv;var pt,ct;ft?(ut?pt=Math.abs(ht-this.elem.comp.globalData.frameRate*ut):pt=Math.max(0,ht-this.elem.data.ip),ct=ht-pt):((!ut||ut>yt.length-1)&&(ut=yt.length-1),ct=yt[yt.length-1-ut].t,pt=ht-ct);var gt,Et,bt;if(at==="pingpong"){var xt=Math.floor((mt-ct)/pt);if(xt%2!==0)return this.getValueAtTime((pt-(mt-ct)%pt+ct)/this.comp.globalData.frameRate,0)}else if(at==="offset"){var Tt=this.getValueAtTime(ct/this.comp.globalData.frameRate,0),wt=this.getValueAtTime(ht/this.comp.globalData.frameRate,0),It=this.getValueAtTime(((mt-ct)%pt+ct)/this.comp.globalData.frameRate,0),At=Math.floor((mt-ct)/pt);if(this.pv.length){for(bt=new Array(Tt.length),Et=bt.length,gt=0;gt<Et;gt+=1)bt[gt]=(wt[gt]-Tt[gt])*At+It[gt];return bt}return(wt-Tt)*At+It}else if(at==="continue"){var kt=this.getValueAtTime(ht/this.comp.globalData.frameRate,0),Vt=this.getValueAtTime((ht-.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(bt=new Array(kt.length),Et=bt.length,gt=0;gt<Et;gt+=1)bt[gt]=kt[gt]+(kt[gt]-Vt[gt])*((mt-ht)/this.comp.globalData.frameRate)/5e-4;return bt}return kt+(kt-Vt)*((mt-ht)/.001)}return this.getValueAtTime(((mt-ct)%pt+ct)/this.comp.globalData.frameRate,0)}function i(at,ut,ft){if(!this.k)return this.pv;at=at?at.toLowerCase():"";var mt=this.comp.renderedFrame,yt=this.keyframes,ht=yt[0].t;if(mt>=ht)return this.pv;var pt,ct;ft?(ut?pt=Math.abs(this.elem.comp.globalData.frameRate*ut):pt=Math.max(0,this.elem.data.op-ht),ct=ht+pt):((!ut||ut>yt.length-1)&&(ut=yt.length-1),ct=yt[ut].t,pt=ct-ht);var gt,Et,bt;if(at==="pingpong"){var xt=Math.floor((ht-mt)/pt);if(xt%2===0)return this.getValueAtTime(((ht-mt)%pt+ht)/this.comp.globalData.frameRate,0)}else if(at==="offset"){var Tt=this.getValueAtTime(ht/this.comp.globalData.frameRate,0),wt=this.getValueAtTime(ct/this.comp.globalData.frameRate,0),It=this.getValueAtTime((pt-(ht-mt)%pt+ht)/this.comp.globalData.frameRate,0),At=Math.floor((ht-mt)/pt)+1;if(this.pv.length){for(bt=new Array(Tt.length),Et=bt.length,gt=0;gt<Et;gt+=1)bt[gt]=It[gt]-(wt[gt]-Tt[gt])*At;return bt}return It-(wt-Tt)*At}else if(at==="continue"){var kt=this.getValueAtTime(ht/this.comp.globalData.frameRate,0),Vt=this.getValueAtTime((ht+.001)/this.comp.globalData.frameRate,0);if(this.pv.length){for(bt=new Array(kt.length),Et=bt.length,gt=0;gt<Et;gt+=1)bt[gt]=kt[gt]+(kt[gt]-Vt[gt])*(ht-mt)/.001;return bt}return kt+(kt-Vt)*(ht-mt)/.001}return this.getValueAtTime((pt-((ht-mt)%pt+ht))/this.comp.globalData.frameRate,0)}function s(at,ut){if(!this.k)return this.pv;if(at=(at||.4)*.5,ut=Math.floor(ut||5),ut<=1)return this.pv;var ft=this.comp.renderedFrame/this.comp.globalData.frameRate,mt=ft-at,yt=ft+at,ht=ut>1?(yt-mt)/(ut-1):1,pt=0,ct=0,gt;this.pv.length?gt=createTypedArray("float32",this.pv.length):gt=0;for(var Et;pt<ut;){if(Et=this.getValueAtTime(mt+pt*ht),this.pv.length)for(ct=0;ct<this.pv.length;ct+=1)gt[ct]+=Et[ct];else gt+=Et;pt+=1}if(this.pv.length)for(ct=0;ct<this.pv.length;ct+=1)gt[ct]/=ut;else gt/=ut;return gt}function a(at){this._transformCachingAtTime||(this._transformCachingAtTime={v:new Matrix});var ut=this._transformCachingAtTime.v;if(ut.cloneFromProps(this.pre.props),this.appliedTransformations<1){var ft=this.a.getValueAtTime(at);ut.translate(-ft[0]*this.a.mult,-ft[1]*this.a.mult,ft[2]*this.a.mult)}if(this.appliedTransformations<2){var mt=this.s.getValueAtTime(at);ut.scale(mt[0]*this.s.mult,mt[1]*this.s.mult,mt[2]*this.s.mult)}if(this.sk&&this.appliedTransformations<3){var yt=this.sk.getValueAtTime(at),ht=this.sa.getValueAtTime(at);ut.skewFromAxis(-yt*this.sk.mult,ht*this.sa.mult)}if(this.r&&this.appliedTransformations<4){var pt=this.r.getValueAtTime(at);ut.rotate(-pt*this.r.mult)}else if(!this.r&&this.appliedTransformations<4){var ct=this.rz.getValueAtTime(at),gt=this.ry.getValueAtTime(at),Et=this.rx.getValueAtTime(at),bt=this.or.getValueAtTime(at);ut.rotateZ(-ct*this.rz.mult).rotateY(gt*this.ry.mult).rotateX(Et*this.rx.mult).rotateZ(-bt[2]*this.or.mult).rotateY(bt[1]*this.or.mult).rotateX(bt[0]*this.or.mult)}if(this.data.p&&this.data.p.s){var xt=this.px.getValueAtTime(at),Tt=this.py.getValueAtTime(at);if(this.data.p.z){var wt=this.pz.getValueAtTime(at);ut.translate(xt*this.px.mult,Tt*this.py.mult,-wt*this.pz.mult)}else ut.translate(xt*this.px.mult,Tt*this.py.mult,0)}else{var It=this.p.getValueAtTime(at);ut.translate(It[0]*this.p.mult,It[1]*this.p.mult,-It[2]*this.p.mult)}return ut}function et(){return this.v.clone(new Matrix)}var tt=TransformPropertyFactory.getTransformProperty;TransformPropertyFactory.getTransformProperty=function(at,ut,ft){var mt=tt(at,ut,ft);return mt.dynamicProperties.length?mt.getValueAtTime=a.bind(mt):mt.getValueAtTime=et.bind(mt),mt.setGroupProperty=expressionHelpers.setGroupProperty,mt};var rt=PropertyFactory.getProp;PropertyFactory.getProp=function(at,ut,ft,mt,yt){var ht=rt(at,ut,ft,mt,yt);ht.kf?ht.getValueAtTime=expressionHelpers.getValueAtTime.bind(ht):ht.getValueAtTime=expressionHelpers.getStaticValueAtTime.bind(ht),ht.setGroupProperty=expressionHelpers.setGroupProperty,ht.loopOut=o,ht.loopIn=i,ht.smooth=s,ht.getVelocityAtTime=expressionHelpers.getVelocityAtTime.bind(ht),ht.getSpeedAtTime=expressionHelpers.getSpeedAtTime.bind(ht),ht.numKeys=ut.a===1?ut.k.length:0,ht.propertyIndex=ut.ix;var pt=0;return ft!==0&&(pt=createTypedArray("float32",ut.a===1?ut.k[0].s.length:ut.k.length)),ht._cachingAtTime={lastFrame:initialDefaultFrame,lastIndex:0,value:pt},expressionHelpers.searchExpressions(at,ut,ht),ht.k&&yt.addDynamicProperty(ht),ht};function nt(at){return this._cachingAtTime||(this._cachingAtTime={shapeValue:shapePool.clone(this.pv),lastIndex:0,lastTime:initialDefaultFrame}),at*=this.elem.globalData.frameRate,at-=this.offsetTime,at!==this._cachingAtTime.lastTime&&(this._cachingAtTime.lastIndex=this._cachingAtTime.lastTime<at?this._caching.lastIndex:0,this._cachingAtTime.lastTime=at,this.interpolateShape(at,this._cachingAtTime.shapeValue,this._cachingAtTime)),this._cachingAtTime.shapeValue}var it=ShapePropertyFactory.getConstructorFunction(),ot=ShapePropertyFactory.getKeyframedConstructorFunction();function st(){}st.prototype={vertices:function(ut,ft){this.k&&this.getValue();var mt=this.v;ft!==void 0&&(mt=this.getValueAtTime(ft,0));var yt,ht=mt._length,pt=mt[ut],ct=mt.v,gt=createSizedArray(ht);for(yt=0;yt<ht;yt+=1)ut==="i"||ut==="o"?gt[yt]=[pt[yt][0]-ct[yt][0],pt[yt][1]-ct[yt][1]]:gt[yt]=[pt[yt][0],pt[yt][1]];return gt},points:function(ut){return this.vertices("v",ut)},inTangents:function(ut){return this.vertices("i",ut)},outTangents:function(ut){return this.vertices("o",ut)},isClosed:function(){return this.v.c},pointOnPath:function(ut,ft){var mt=this.v;ft!==void 0&&(mt=this.getValueAtTime(ft,0)),this._segmentsLength||(this._segmentsLength=bez.getSegmentsLength(mt));for(var yt=this._segmentsLength,ht=yt.lengths,pt=yt.totalLength*ut,ct=0,gt=ht.length,Et=0,bt;ct<gt;){if(Et+ht[ct].addedLength>pt){var xt=ct,Tt=mt.c&&ct===gt-1?0:ct+1,wt=(pt-Et)/ht[ct].addedLength;bt=bez.getPointInSegment(mt.v[xt],mt.v[Tt],mt.o[xt],mt.i[Tt],wt,ht[ct]);break}else Et+=ht[ct].addedLength;ct+=1}return bt||(bt=mt.c?[mt.v[0][0],mt.v[0][1]]:[mt.v[mt._length-1][0],mt.v[mt._length-1][1]]),bt},vectorOnPath:function(ut,ft,mt){ut==1?ut=this.v.c:ut==0&&(ut=.999);var yt=this.pointOnPath(ut,ft),ht=this.pointOnPath(ut+.001,ft),pt=ht[0]-yt[0],ct=ht[1]-yt[1],gt=Math.sqrt(Math.pow(pt,2)+Math.pow(ct,2));if(gt===0)return[0,0];var Et=mt==="tangent"?[pt/gt,ct/gt]:[-ct/gt,pt/gt];return Et},tangentOnPath:function(ut,ft){return this.vectorOnPath(ut,ft,"tangent")},normalOnPath:function(ut,ft){return this.vectorOnPath(ut,ft,"normal")},setGroupProperty:expressionHelpers.setGroupProperty,getValueAtTime:expressionHelpers.getStaticValueAtTime},extendPrototype([st],it),extendPrototype([st],ot),ot.prototype.getValueAtTime=nt,ot.prototype.initiateExpression=ExpressionManager.initiateExpression;var lt=ShapePropertyFactory.getShapeProp;ShapePropertyFactory.getShapeProp=function(at,ut,ft,mt,yt){var ht=lt(at,ut,ft,mt,yt);return ht.propertyIndex=ut.ix,ht.lock=!1,ft===3?expressionHelpers.searchExpressions(at,ut.pt,ht):ft===4&&expressionHelpers.searchExpressions(at,ut.ks,ht),ht.k&&at.addDynamicProperty(ht),ht}}function initialize$1(){addPropertyDecorator()}function addDecorator(){function o(){return this.data.d.x?(this.calculateExpression=ExpressionManager.initiateExpression.bind(this)(this.elem,this.data.d,this),this.addEffect(this.getExpressionValue.bind(this)),!0):null}TextProperty.prototype.getExpressionValue=function(i,s){var a=this.calculateExpression(s);if(i.t!==a){var et={};return this.copyData(et,i),et.t=a.toString(),et.__complete=!1,et}return i},TextProperty.prototype.searchProperty=function(){var i=this.searchKeyframes(),s=this.searchExpressions();return this.kf=i||s,this.kf},TextProperty.prototype.searchExpressions=o}function initialize(){addDecorator()}function SVGComposableEffect(){}SVGComposableEffect.prototype={createMergeNode:function o(i,s){var a=createNS("feMerge");a.setAttribute("result",i);var et,tt;for(tt=0;tt<s.length;tt+=1)et=createNS("feMergeNode"),et.setAttribute("in",s[tt]),a.appendChild(et),a.appendChild(et);return a}};var linearFilterValue="0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0";function SVGTintFilter(o,i,s,a,et){this.filterManager=i;var tt=createNS("feColorMatrix");tt.setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","linearRGB"),tt.setAttribute("values",linearFilterValue+" 1 0"),this.linearFilter=tt,tt.setAttribute("result",a+"_tint_1"),o.appendChild(tt),tt=createNS("feColorMatrix"),tt.setAttribute("type","matrix"),tt.setAttribute("color-interpolation-filters","sRGB"),tt.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),tt.setAttribute("result",a+"_tint_2"),o.appendChild(tt),this.matrixFilter=tt;var rt=this.createMergeNode(a,[et,a+"_tint_1",a+"_tint_2"]);o.appendChild(rt)}extendPrototype([SVGComposableEffect],SVGTintFilter),SVGTintFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v/100;this.linearFilter.setAttribute("values",linearFilterValue+" "+a+" 0"),this.matrixFilter.setAttribute("values",s[0]-i[0]+" 0 0 0 "+i[0]+" "+(s[1]-i[1])+" 0 0 0 "+i[1]+" "+(s[2]-i[2])+" 0 0 0 "+i[2]+" 0 0 0 1 0")}};function SVGFillFilter(o,i,s,a){this.filterManager=i;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","sRGB"),et.setAttribute("values","1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 1 0"),et.setAttribute("result",a),o.appendChild(et),this.matrixFilter=et}SVGFillFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=this.filterManager.effectElements[2].p.v,s=this.filterManager.effectElements[6].p.v;this.matrixFilter.setAttribute("values","0 0 0 0 "+i[0]+" 0 0 0 0 "+i[1]+" 0 0 0 0 "+i[2]+" 0 0 0 "+s+" 0")}};function SVGStrokeEffect(o,i,s){this.initialized=!1,this.filterManager=i,this.elem=s,this.paths=[]}SVGStrokeEffect.prototype.initialize=function(){var o=this.elem.layerElement.children||this.elem.layerElement.childNodes,i,s,a,et;for(this.filterManager.effectElements[1].p.v===1?(et=this.elem.maskManager.masksProperties.length,a=0):(a=this.filterManager.effectElements[0].p.v-1,et=a+1),s=createNS("g"),s.setAttribute("fill","none"),s.setAttribute("stroke-linecap","round"),s.setAttribute("stroke-dashoffset",1),a;a<et;a+=1)i=createNS("path"),s.appendChild(i),this.paths.push({p:i,m:a});if(this.filterManager.effectElements[10].p.v===3){var tt=createNS("mask"),rt=createElementID();tt.setAttribute("id",rt),tt.setAttribute("mask-type","alpha"),tt.appendChild(s),this.elem.globalData.defs.appendChild(tt);var nt=createNS("g");for(nt.setAttribute("mask","url("+getLocationHref()+"#"+rt+")");o[0];)nt.appendChild(o[0]);this.elem.layerElement.appendChild(nt),this.masker=tt,s.setAttribute("stroke","#fff")}else if(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2){if(this.filterManager.effectElements[10].p.v===2)for(o=this.elem.layerElement.children||this.elem.layerElement.childNodes;o.length;)this.elem.layerElement.removeChild(o[0]);this.elem.layerElement.appendChild(s),this.elem.layerElement.removeAttribute("mask"),s.setAttribute("stroke","#fff")}this.initialized=!0,this.pathMasker=s},SVGStrokeEffect.prototype.renderFrame=function(o){this.initialized||this.initialize();var i,s=this.paths.length,a,et;for(i=0;i<s;i+=1)if(this.paths[i].m!==-1&&(a=this.elem.maskManager.viewData[this.paths[i].m],et=this.paths[i].p,(o||this.filterManager._mdf||a.prop._mdf)&&et.setAttribute("d",a.lastPath),o||this.filterManager.effectElements[9].p._mdf||this.filterManager.effectElements[4].p._mdf||this.filterManager.effectElements[7].p._mdf||this.filterManager.effectElements[8].p._mdf||a.prop._mdf)){var tt;if(this.filterManager.effectElements[7].p.v!==0||this.filterManager.effectElements[8].p.v!==100){var rt=Math.min(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,nt=Math.max(this.filterManager.effectElements[7].p.v,this.filterManager.effectElements[8].p.v)*.01,it=et.getTotalLength();tt="0 0 0 "+it*rt+" ";var ot=it*(nt-rt),st=1+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01,lt=Math.floor(ot/st),at;for(at=0;at<lt;at+=1)tt+="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01+" ";tt+="0 "+it*10+" 0 0"}else tt="1 "+this.filterManager.effectElements[4].p.v*2*this.filterManager.effectElements[9].p.v*.01;et.setAttribute("stroke-dasharray",tt)}if((o||this.filterManager.effectElements[4].p._mdf)&&this.pathMasker.setAttribute("stroke-width",this.filterManager.effectElements[4].p.v*2),(o||this.filterManager.effectElements[6].p._mdf)&&this.pathMasker.setAttribute("opacity",this.filterManager.effectElements[6].p.v),(this.filterManager.effectElements[10].p.v===1||this.filterManager.effectElements[10].p.v===2)&&(o||this.filterManager.effectElements[3].p._mdf)){var ut=this.filterManager.effectElements[3].p.v;this.pathMasker.setAttribute("stroke","rgb("+bmFloor(ut[0]*255)+","+bmFloor(ut[1]*255)+","+bmFloor(ut[2]*255)+")")}};function SVGTritoneFilter(o,i,s,a){this.filterManager=i;var et=createNS("feColorMatrix");et.setAttribute("type","matrix"),et.setAttribute("color-interpolation-filters","linearRGB"),et.setAttribute("values","0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0.3333 0.3333 0.3333 0 0 0 0 0 1 0"),o.appendChild(et);var tt=createNS("feComponentTransfer");tt.setAttribute("color-interpolation-filters","sRGB"),tt.setAttribute("result",a),this.matrixFilter=tt;var rt=createNS("feFuncR");rt.setAttribute("type","table"),tt.appendChild(rt),this.feFuncR=rt;var nt=createNS("feFuncG");nt.setAttribute("type","table"),tt.appendChild(nt),this.feFuncG=nt;var it=createNS("feFuncB");it.setAttribute("type","table"),tt.appendChild(it),this.feFuncB=it,o.appendChild(tt)}SVGTritoneFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=this.filterManager.effectElements[0].p.v,s=this.filterManager.effectElements[1].p.v,a=this.filterManager.effectElements[2].p.v,et=a[0]+" "+s[0]+" "+i[0],tt=a[1]+" "+s[1]+" "+i[1],rt=a[2]+" "+s[2]+" "+i[2];this.feFuncR.setAttribute("tableValues",et),this.feFuncG.setAttribute("tableValues",tt),this.feFuncB.setAttribute("tableValues",rt)}};function SVGProLevelsFilter(o,i,s,a){this.filterManager=i;var et=this.filterManager.effectElements,tt=createNS("feComponentTransfer");(et[10].p.k||et[10].p.v!==0||et[11].p.k||et[11].p.v!==1||et[12].p.k||et[12].p.v!==1||et[13].p.k||et[13].p.v!==0||et[14].p.k||et[14].p.v!==1)&&(this.feFuncR=this.createFeFunc("feFuncR",tt)),(et[17].p.k||et[17].p.v!==0||et[18].p.k||et[18].p.v!==1||et[19].p.k||et[19].p.v!==1||et[20].p.k||et[20].p.v!==0||et[21].p.k||et[21].p.v!==1)&&(this.feFuncG=this.createFeFunc("feFuncG",tt)),(et[24].p.k||et[24].p.v!==0||et[25].p.k||et[25].p.v!==1||et[26].p.k||et[26].p.v!==1||et[27].p.k||et[27].p.v!==0||et[28].p.k||et[28].p.v!==1)&&(this.feFuncB=this.createFeFunc("feFuncB",tt)),(et[31].p.k||et[31].p.v!==0||et[32].p.k||et[32].p.v!==1||et[33].p.k||et[33].p.v!==1||et[34].p.k||et[34].p.v!==0||et[35].p.k||et[35].p.v!==1)&&(this.feFuncA=this.createFeFunc("feFuncA",tt)),(this.feFuncR||this.feFuncG||this.feFuncB||this.feFuncA)&&(tt.setAttribute("color-interpolation-filters","sRGB"),o.appendChild(tt)),(et[3].p.k||et[3].p.v!==0||et[4].p.k||et[4].p.v!==1||et[5].p.k||et[5].p.v!==1||et[6].p.k||et[6].p.v!==0||et[7].p.k||et[7].p.v!==1)&&(tt=createNS("feComponentTransfer"),tt.setAttribute("color-interpolation-filters","sRGB"),tt.setAttribute("result",a),o.appendChild(tt),this.feFuncRComposed=this.createFeFunc("feFuncR",tt),this.feFuncGComposed=this.createFeFunc("feFuncG",tt),this.feFuncBComposed=this.createFeFunc("feFuncB",tt))}SVGProLevelsFilter.prototype.createFeFunc=function(o,i){var s=createNS(o);return s.setAttribute("type","table"),i.appendChild(s),s},SVGProLevelsFilter.prototype.getTableValue=function(o,i,s,a,et){for(var tt=0,rt=256,nt,it=Math.min(o,i),ot=Math.max(o,i),st=Array.call(null,{length:rt}),lt,at=0,ut=et-a,ft=i-o;tt<=256;)nt=tt/256,nt<=it?lt=ft<0?et:a:nt>=ot?lt=ft<0?a:et:lt=a+ut*Math.pow((nt-o)/ft,1/s),st[at]=lt,at+=1,tt+=256/(rt-1);return st.join(" ")},SVGProLevelsFilter.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i,s=this.filterManager.effectElements;this.feFuncRComposed&&(o||s[3].p._mdf||s[4].p._mdf||s[5].p._mdf||s[6].p._mdf||s[7].p._mdf)&&(i=this.getTableValue(s[3].p.v,s[4].p.v,s[5].p.v,s[6].p.v,s[7].p.v),this.feFuncRComposed.setAttribute("tableValues",i),this.feFuncGComposed.setAttribute("tableValues",i),this.feFuncBComposed.setAttribute("tableValues",i)),this.feFuncR&&(o||s[10].p._mdf||s[11].p._mdf||s[12].p._mdf||s[13].p._mdf||s[14].p._mdf)&&(i=this.getTableValue(s[10].p.v,s[11].p.v,s[12].p.v,s[13].p.v,s[14].p.v),this.feFuncR.setAttribute("tableValues",i)),this.feFuncG&&(o||s[17].p._mdf||s[18].p._mdf||s[19].p._mdf||s[20].p._mdf||s[21].p._mdf)&&(i=this.getTableValue(s[17].p.v,s[18].p.v,s[19].p.v,s[20].p.v,s[21].p.v),this.feFuncG.setAttribute("tableValues",i)),this.feFuncB&&(o||s[24].p._mdf||s[25].p._mdf||s[26].p._mdf||s[27].p._mdf||s[28].p._mdf)&&(i=this.getTableValue(s[24].p.v,s[25].p.v,s[26].p.v,s[27].p.v,s[28].p.v),this.feFuncB.setAttribute("tableValues",i)),this.feFuncA&&(o||s[31].p._mdf||s[32].p._mdf||s[33].p._mdf||s[34].p._mdf||s[35].p._mdf)&&(i=this.getTableValue(s[31].p.v,s[32].p.v,s[33].p.v,s[34].p.v,s[35].p.v),this.feFuncA.setAttribute("tableValues",i))}};function SVGDropShadowEffect(o,i,s,a,et){var tt=i.container.globalData.renderConfig.filterSize,rt=i.data.fs||tt;o.setAttribute("x",rt.x||tt.x),o.setAttribute("y",rt.y||tt.y),o.setAttribute("width",rt.width||tt.width),o.setAttribute("height",rt.height||tt.height),this.filterManager=i;var nt=createNS("feGaussianBlur");nt.setAttribute("in","SourceAlpha"),nt.setAttribute("result",a+"_drop_shadow_1"),nt.setAttribute("stdDeviation","0"),this.feGaussianBlur=nt,o.appendChild(nt);var it=createNS("feOffset");it.setAttribute("dx","25"),it.setAttribute("dy","0"),it.setAttribute("in",a+"_drop_shadow_1"),it.setAttribute("result",a+"_drop_shadow_2"),this.feOffset=it,o.appendChild(it);var ot=createNS("feFlood");ot.setAttribute("flood-color","#00ff00"),ot.setAttribute("flood-opacity","1"),ot.setAttribute("result",a+"_drop_shadow_3"),this.feFlood=ot,o.appendChild(ot);var st=createNS("feComposite");st.setAttribute("in",a+"_drop_shadow_3"),st.setAttribute("in2",a+"_drop_shadow_2"),st.setAttribute("operator","in"),st.setAttribute("result",a+"_drop_shadow_4"),o.appendChild(st);var lt=this.createMergeNode(a,[a+"_drop_shadow_4",et]);o.appendChild(lt)}extendPrototype([SVGComposableEffect],SVGDropShadowEffect),SVGDropShadowEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){if((o||this.filterManager.effectElements[4].p._mdf)&&this.feGaussianBlur.setAttribute("stdDeviation",this.filterManager.effectElements[4].p.v/4),o||this.filterManager.effectElements[0].p._mdf){var i=this.filterManager.effectElements[0].p.v;this.feFlood.setAttribute("flood-color",rgbToHex(Math.round(i[0]*255),Math.round(i[1]*255),Math.round(i[2]*255)))}if((o||this.filterManager.effectElements[1].p._mdf)&&this.feFlood.setAttribute("flood-opacity",this.filterManager.effectElements[1].p.v/255),o||this.filterManager.effectElements[2].p._mdf||this.filterManager.effectElements[3].p._mdf){var s=this.filterManager.effectElements[3].p.v,a=(this.filterManager.effectElements[2].p.v-90)*degToRads,et=s*Math.cos(a),tt=s*Math.sin(a);this.feOffset.setAttribute("dx",et),this.feOffset.setAttribute("dy",tt)}}};var _svgMatteSymbols=[];function SVGMatte3Effect(o,i,s){this.initialized=!1,this.filterManager=i,this.filterElem=o,this.elem=s,s.matteElement=createNS("g"),s.matteElement.appendChild(s.layerElement),s.matteElement.appendChild(s.transformedElement),s.baseElement=s.matteElement}SVGMatte3Effect.prototype.findSymbol=function(o){for(var i=0,s=_svgMatteSymbols.length;i<s;){if(_svgMatteSymbols[i]===o)return _svgMatteSymbols[i];i+=1}return null},SVGMatte3Effect.prototype.replaceInParent=function(o,i){var s=o.layerElement.parentNode;if(s){for(var a=s.children,et=0,tt=a.length;et<tt&&a[et]!==o.layerElement;)et+=1;var rt;et<=tt-2&&(rt=a[et+1]);var nt=createNS("use");nt.setAttribute("href","#"+i),rt?s.insertBefore(nt,rt):s.appendChild(nt)}},SVGMatte3Effect.prototype.setElementAsMask=function(o,i){if(!this.findSymbol(i)){var s=createElementID(),a=createNS("mask");a.setAttribute("id",i.layerId),a.setAttribute("mask-type","alpha"),_svgMatteSymbols.push(i);var et=o.globalData.defs;et.appendChild(a);var tt=createNS("symbol");tt.setAttribute("id",s),this.replaceInParent(i,s),tt.appendChild(i.layerElement),et.appendChild(tt);var rt=createNS("use");rt.setAttribute("href","#"+s),a.appendChild(rt),i.data.hd=!1,i.show()}o.setMatte(i.layerId)},SVGMatte3Effect.prototype.initialize=function(){for(var o=this.filterManager.effectElements[0].p.v,i=this.elem.comp.elements,s=0,a=i.length;s<a;)i[s]&&i[s].data.ind===o&&this.setElementAsMask(this.elem,i[s]),s+=1;this.initialized=!0},SVGMatte3Effect.prototype.renderFrame=function(){this.initialized||this.initialize()};function SVGGaussianBlurEffect(o,i,s,a){o.setAttribute("x","-100%"),o.setAttribute("y","-100%"),o.setAttribute("width","300%"),o.setAttribute("height","300%"),this.filterManager=i;var et=createNS("feGaussianBlur");et.setAttribute("result",a),o.appendChild(et),this.feGaussianBlur=et}SVGGaussianBlurEffect.prototype.renderFrame=function(o){if(o||this.filterManager._mdf){var i=.3,s=this.filterManager.effectElements[0].p.v*i,a=this.filterManager.effectElements[1].p.v,et=a==3?0:s,tt=a==2?0:s;this.feGaussianBlur.setAttribute("stdDeviation",et+" "+tt);var rt=this.filterManager.effectElements[2].p.v==1?"wrap":"duplicate";this.feGaussianBlur.setAttribute("edgeMode",rt)}};function TransformEffect(){}TransformEffect.prototype.init=function(o){this.effectsManager=o,this.type=effectTypes.TRANSFORM_EFFECT,this.matrix=new Matrix,this.opacity=-1,this._mdf=!1,this._opMdf=!1},TransformEffect.prototype.renderFrame=function(o){if(this._opMdf=!1,this._mdf=!1,o||this.effectsManager._mdf){var i=this.effectsManager.effectElements,s=i[0].p.v,a=i[1].p.v,et=i[2].p.v===1,tt=i[3].p.v,rt=et?tt:i[4].p.v,nt=i[5].p.v,it=i[6].p.v,ot=i[7].p.v;this.matrix.reset(),this.matrix.translate(-s[0],-s[1],s[2]),this.matrix.scale(rt*.01,tt*.01,1),this.matrix.rotate(-ot*degToRads),this.matrix.skewFromAxis(-nt*degToRads,(it+90)*degToRads),this.matrix.translate(a[0],a[1],0),this._mdf=!0,this.opacity!==i[8].p.v&&(this.opacity=i[8].p.v,this._opMdf=!0)}};function SVGTransformEffect(o,i){this.init(i)}extendPrototype([TransformEffect],SVGTransformEffect);function CVTransformEffect(o){this.init(o)}return extendPrototype([TransformEffect],CVTransformEffect),registerRenderer("canvas",CanvasRenderer),registerRenderer("html",HybridRenderer),registerRenderer("svg",SVGRenderer),ShapeModifiers.registerModifier("tm",TrimModifier),ShapeModifiers.registerModifier("pb",PuckerAndBloatModifier),ShapeModifiers.registerModifier("rp",RepeaterModifier),ShapeModifiers.registerModifier("rd",RoundCornersModifier),ShapeModifiers.registerModifier("zz",ZigZagModifier),ShapeModifiers.registerModifier("op",OffsetPathModifier),setExpressionsPlugin(Expressions),setExpressionInterfaces(getInterface),initialize$1(),initialize(),registerEffect$1(20,SVGTintFilter,!0),registerEffect$1(21,SVGFillFilter,!0),registerEffect$1(22,SVGStrokeEffect,!1),registerEffect$1(23,SVGTritoneFilter,!0),registerEffect$1(24,SVGProLevelsFilter,!0),registerEffect$1(25,SVGDropShadowEffect,!0),registerEffect$1(28,SVGMatte3Effect,!1),registerEffect$1(29,SVGGaussianBlurEffect,!0),registerEffect$1(35,SVGTransformEffect,!1),registerEffect(35,CVTransformEffect),lottie})})(lottie$1,lottie$1.exports);var lottieExports=lottie$1.exports;const lottie=getDefaultExportFromCjs(lottieExports);function _iterableToArrayLimit$1(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,et,tt,rt,nt=[],it=!0,ot=!1;try{if(tt=(s=s.call(o)).next,i===0){if(Object(s)!==s)return;it=!1}else for(;!(it=(a=tt.call(s)).done)&&(nt.push(a.value),nt.length!==i);it=!0);}catch(st){ot=!0,et=st}finally{try{if(!it&&s.return!=null&&(rt=s.return(),Object(rt)!==rt))return}finally{if(ot)throw et}}return nt}}function ownKeys(o,i){var s=Object.keys(o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(o);i&&(a=a.filter(function(et){return Object.getOwnPropertyDescriptor(o,et).enumerable})),s.push.apply(s,a)}return s}function _objectSpread2(o){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?arguments[i]:{};i%2?ownKeys(Object(s),!0).forEach(function(a){_defineProperty$2(o,a,s[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(o,Object.getOwnPropertyDescriptors(s)):ownKeys(Object(s)).forEach(function(a){Object.defineProperty(o,a,Object.getOwnPropertyDescriptor(s,a))})}return o}function _defineProperty$2(o,i,s){return i=_toPropertyKey$1(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _objectWithoutPropertiesLoose$5(o,i){if(o==null)return{};var s={},a=Object.keys(o),et,tt;for(tt=0;tt<a.length;tt++)et=a[tt],!(i.indexOf(et)>=0)&&(s[et]=o[et]);return s}function _objectWithoutProperties(o,i){if(o==null)return{};var s=_objectWithoutPropertiesLoose$5(o,i),a,et;if(Object.getOwnPropertySymbols){var tt=Object.getOwnPropertySymbols(o);for(et=0;et<tt.length;et++)a=tt[et],!(i.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(o,a)&&(s[a]=o[a])}return s}function _slicedToArray$1(o,i){return _arrayWithHoles$1(o)||_iterableToArrayLimit$1(o,i)||_unsupportedIterableToArray$1(o,i)||_nonIterableRest$1()}function _arrayWithHoles$1(o){if(Array.isArray(o))return o}function _unsupportedIterableToArray$1(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray$1(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray$1(o,i)}}function _arrayLikeToArray$1(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toPrimitive$1(o,i){if(typeof o!="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function _toPropertyKey$1(o){var i=_toPrimitive$1(o,"string");return typeof i=="symbol"?i:String(i)}var _excluded$1$1=["animationData","loop","autoplay","initialSegment","onComplete","onLoopComplete","onEnterFrame","onSegmentStart","onConfigReady","onDataReady","onDataFailed","onLoadedImages","onDOMLoaded","onDestroy","lottieRef","renderer","name","assetsPath","rendererSettings"],useLottie=function o(i,s){var a=i.animationData,et=i.loop,tt=i.autoplay,rt=i.initialSegment,nt=i.onComplete,it=i.onLoopComplete,ot=i.onEnterFrame,st=i.onSegmentStart,lt=i.onConfigReady,at=i.onDataReady,ut=i.onDataFailed,ft=i.onLoadedImages,mt=i.onDOMLoaded,yt=i.onDestroy;i.lottieRef,i.renderer,i.name,i.assetsPath,i.rendererSettings;var ht=_objectWithoutProperties(i,_excluded$1$1),pt=reactExports.useState(!1),ct=_slicedToArray$1(pt,2),gt=ct[0],Et=ct[1],bt=reactExports.useRef(),xt=reactExports.useRef(null),Tt=function(){var jt;(jt=bt.current)===null||jt===void 0||jt.play()},wt=function(){var jt;(jt=bt.current)===null||jt===void 0||jt.stop()},It=function(){var jt;(jt=bt.current)===null||jt===void 0||jt.pause()},At=function(jt){var Ft;(Ft=bt.current)===null||Ft===void 0||Ft.setSpeed(jt)},kt=function(jt,Ft){var zt;(zt=bt.current)===null||zt===void 0||zt.goToAndPlay(jt,Ft)},Vt=function(jt,Ft){var zt;(zt=bt.current)===null||zt===void 0||zt.goToAndStop(jt,Ft)},Mt=function(jt){var Ft;(Ft=bt.current)===null||Ft===void 0||Ft.setDirection(jt)},Ot=function(jt,Ft){var zt;(zt=bt.current)===null||zt===void 0||zt.playSegments(jt,Ft)},Dt=function(jt){var Ft;(Ft=bt.current)===null||Ft===void 0||Ft.setSubframe(jt)},Ct=function(jt){var Ft;return(Ft=bt.current)===null||Ft===void 0?void 0:Ft.getDuration(jt)},St=function(){var jt;(jt=bt.current)===null||jt===void 0||jt.destroy(),bt.current=void 0},$t=function(){var jt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},Ft;if(xt.current){(Ft=bt.current)===null||Ft===void 0||Ft.destroy();var zt=_objectSpread2(_objectSpread2(_objectSpread2({},i),jt),{},{container:xt.current});return bt.current=lottie.loadAnimation(zt),Et(!!bt.current),function(){var Gt;(Gt=bt.current)===null||Gt===void 0||Gt.destroy(),bt.current=void 0}}};reactExports.useEffect(function(){var Rt=$t();return function(){return Rt==null?void 0:Rt()}},[a,et]),reactExports.useEffect(function(){bt.current&&(bt.current.autoplay=!!tt)},[tt]),reactExports.useEffect(function(){if(bt.current){if(!rt){bt.current.resetSegments(!0);return}!Array.isArray(rt)||!rt.length||((bt.current.currentRawFrame<rt[0]||bt.current.currentRawFrame>rt[1])&&(bt.current.currentRawFrame=rt[0]),bt.current.setSegment(rt[0],rt[1]))}},[rt]),reactExports.useEffect(function(){var Rt=[{name:"complete",handler:nt},{name:"loopComplete",handler:it},{name:"enterFrame",handler:ot},{name:"segmentStart",handler:st},{name:"config_ready",handler:lt},{name:"data_ready",handler:at},{name:"data_failed",handler:ut},{name:"loaded_images",handler:ft},{name:"DOMLoaded",handler:mt},{name:"destroy",handler:yt}],jt=Rt.filter(function(zt){return zt.handler!=null});if(jt.length){var Ft=jt.map(function(zt){var Gt;return(Gt=bt.current)===null||Gt===void 0||Gt.addEventListener(zt.name,zt.handler),function(){var Bt;(Bt=bt.current)===null||Bt===void 0||Bt.removeEventListener(zt.name,zt.handler)}});return function(){Ft.forEach(function(zt){return zt()})}}},[nt,it,ot,st,lt,at,ut,ft,mt,yt]);var Lt=React$2.createElement("div",_objectSpread2({style:s,ref:xt},ht));return{View:Lt,play:Tt,stop:wt,pause:It,setSpeed:At,goToAndStop:Vt,goToAndPlay:kt,setDirection:Mt,playSegments:Ot,setSubframe:Dt,getDuration:Ct,destroy:St,animationContainerRef:xt,animationLoaded:gt,animationItem:bt.current}};function getContainerVisibility(o){var i=o.getBoundingClientRect(),s=i.top,a=i.height,et=window.innerHeight-s,tt=window.innerHeight+a;return et/tt}function getContainerCursorPosition(o,i,s){var a=o.getBoundingClientRect(),et=a.top,tt=a.left,rt=a.width,nt=a.height,it=(i-tt)/rt,ot=(s-et)/nt;return{x:it,y:ot}}var useInitInteractivity=function o(i){var s=i.wrapperRef,a=i.animationItem,et=i.mode,tt=i.actions;reactExports.useEffect(function(){var rt=s.current;if(!(!rt||!a||!tt.length)){a.stop();var nt=function(){var st=null,lt=function(){var ut=getContainerVisibility(rt),ft=tt.find(function(yt){var ht=yt.visibility;return ht&&ut>=ht[0]&&ut<=ht[1]});if(ft){if(ft.type==="seek"&&ft.visibility&&ft.frames.length===2){var mt=ft.frames[0]+Math.ceil((ut-ft.visibility[0])/(ft.visibility[1]-ft.visibility[0])*ft.frames[1]);//! goToAndStop must be relative to the start of the current segment
a.goToAndStop(mt-a.firstFrame-1,!0)}ft.type==="loop"&&(st===null||st!==ft.frames||a.isPaused)&&(a.playSegments(ft.frames,!0),st=ft.frames),ft.type==="play"&&a.isPaused&&(a.resetSegments(!0),a.play()),ft.type==="stop"&&a.goToAndStop(ft.frames[0]-a.firstFrame-1,!0)}};return document.addEventListener("scroll",lt),function(){document.removeEventListener("scroll",lt)}},it=function(){var st=function(ft,mt){var yt=ft,ht=mt;if(yt!==-1&&ht!==-1){var pt=getContainerCursorPosition(rt,yt,ht);yt=pt.x,ht=pt.y}var ct=tt.find(function(bt){var xt=bt.position;return xt&&Array.isArray(xt.x)&&Array.isArray(xt.y)?yt>=xt.x[0]&&yt<=xt.x[1]&&ht>=xt.y[0]&&ht<=xt.y[1]:xt&&!Number.isNaN(xt.x)&&!Number.isNaN(xt.y)?yt===xt.x&&ht===xt.y:!1});if(ct){if(ct.type==="seek"&&ct.position&&Array.isArray(ct.position.x)&&Array.isArray(ct.position.y)&&ct.frames.length===2){var gt=(yt-ct.position.x[0])/(ct.position.x[1]-ct.position.x[0]),Et=(ht-ct.position.y[0])/(ct.position.y[1]-ct.position.y[0]);a.playSegments(ct.frames,!0),a.goToAndStop(Math.ceil((gt+Et)/2*(ct.frames[1]-ct.frames[0])),!0)}ct.type==="loop"&&a.playSegments(ct.frames,!0),ct.type==="play"&&(a.isPaused&&a.resetSegments(!1),a.playSegments(ct.frames)),ct.type==="stop"&&a.goToAndStop(ct.frames[0],!0)}},lt=function(ft){st(ft.clientX,ft.clientY)},at=function(){st(-1,-1)};return rt.addEventListener("mousemove",lt),rt.addEventListener("mouseout",at),function(){rt.removeEventListener("mousemove",lt),rt.removeEventListener("mouseout",at)}};switch(et){case"scroll":return nt();case"cursor":return it()}}},[et,a])},useLottieInteractivity=function o(i){var s=i.actions,a=i.mode,et=i.lottieObj,tt=et.animationItem,rt=et.View,nt=et.animationContainerRef;return useInitInteractivity({actions:s,animationItem:tt,mode:a,wrapperRef:nt}),rt},_excluded$5=["style","interactivity"],Lottie=function o(i){var s,a,et,tt=i.style,rt=i.interactivity,nt=_objectWithoutProperties(i,_excluded$5),it=useLottie(nt,tt),ot=it.View,st=it.play,lt=it.stop,at=it.pause,ut=it.setSpeed,ft=it.goToAndStop,mt=it.goToAndPlay,yt=it.setDirection,ht=it.playSegments,pt=it.setSubframe,ct=it.getDuration,gt=it.destroy,Et=it.animationContainerRef,bt=it.animationLoaded,xt=it.animationItem;return reactExports.useEffect(function(){i.lottieRef&&(i.lottieRef.current={play:st,stop:lt,pause:at,setSpeed:ut,goToAndPlay:mt,goToAndStop:ft,setDirection:yt,playSegments:ht,setSubframe:pt,getDuration:ct,destroy:gt,animationContainerRef:Et,animationLoaded:bt,animationItem:xt})},[(s=i.lottieRef)===null||s===void 0?void 0:s.current]),useLottieInteractivity({lottieObj:{View:ot,play:st,stop:lt,pause:at,setSpeed:ut,goToAndStop:ft,goToAndPlay:mt,setDirection:yt,playSegments:ht,setSubframe:pt,getDuration:ct,destroy:gt,animationContainerRef:Et,animationLoaded:bt,animationItem:xt},actions:(a=rt==null?void 0:rt.actions)!==null&&a!==void 0?a:[],mode:(et=rt==null?void 0:rt.mode)!==null&&et!==void 0?et:"scroll"})};function LinkPreview({url:o,size:i}){const[s,a]=reactExports.useState(null),[et,tt]=reactExports.useState(!0);reactExports.useEffect(()=>{o.includes("https://open.spotify.com/")||(async()=>{var ut,ft,mt;try{const yt={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type"},pt=await(await fetch(`${Enviroment.proxyUrl}${o}`,{headers:yt})).text();if(nt(o)){const gt=it(o),Et=`https://img.youtube.com/vi/${gt}/maxresdefault.jpg`;a({videoId:gt,videoThumbnail:Et}),tt(!1)}else{const Et=new DOMParser().parseFromString(pt,"text/html");let bt=((ut=Et.querySelector("title"))==null?void 0:ut.textContent)||"";const xt=((ft=Et.querySelector('meta[name="description"]'))==null?void 0:ft.getAttribute("content"))||"";let Tt=((mt=Et.querySelector('meta[property="og:image"]'))==null?void 0:mt.getAttribute("content"))||"";if(!Tt&&!Tt){const wt=Et.querySelector("img");wt&&(Tt=wt.getAttribute("src")||"")}a({title:bt,description:xt,image:Tt}),tt(!1)}}catch(yt){console.error("error1"+yt),tt(!1)}})()},[o]);const rt=()=>{window.open(o,"_blank")},nt=at=>at.includes("youtube.com")||at.includes("youtu.be"),it=at=>{const ut=/(?:\/embed\/|\/watch\?v=|\/(?:embed\/|v\/|watch\?.*v=|youtu\.be\/|embed\/|v=))([^&?#]+)/,ft=at.match(ut);return ft?ft[1]:""};if(o!=null&&o.includes("https://open.spotify.com/"))return jsxRuntimeExports.jsx("div",{className:"link-preview",style:{cursor:"pointer"},children:jsxRuntimeExports.jsx(b,{width:"100%",link:o})});if(et)return jsxRuntimeExports.jsx(Lottie,{animationData:loadingAnimation,loop:!0});if(!s)return jsxRuntimeExports.jsx("p",{children:"Failed to fetch link preview."});if(s.videoId)return jsxRuntimeExports.jsx("div",{onClick:rt,style:{cursor:"pointer"},children:jsxRuntimeExports.jsx("img",{src:s.videoThumbnail,alt:"Video Thumbnail"})});const ot=()=>s.title!=="Spotify"?jsxRuntimeExports.jsx("div",{children:s.image&&jsxRuntimeExports.jsx("img",{src:s.image,alt:"Link Preview"})}):jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(b,{width:"100%",link:o})}),st=()=>s.title!=="Spotify"?jsxRuntimeExports.jsx("h4",{className:"title",children:s.title}):jsxRuntimeExports.jsx("div",{}),lt=()=>s.title!=="Spotify"?jsxRuntimeExports.jsx("p",{children:s.description}):jsxRuntimeExports.jsx("p",{children:s.description});return jsxRuntimeExports.jsxs("div",{className:"link-preview",onClick:rt,style:{cursor:"pointer"},children:[ot(),lt(),st()]})}function DashboardItem({page:o,book:i}){const s=useDispatch(),a=useNavigate(),et=useSelector(wt=>wt.users.userApprovals),[tt,rt]=reactExports.useState(null),nt=useSelector(wt=>wt.users.currentProfile),it=useSelector(wt=>wt.libraries.bookmarkLibrary);reactExports.useState(!1);const ot=useSelector(wt=>wt.users.profilesInView).find(wt=>wt!=null&&wt.id==o.profileId),[st,lt]=reactExports.useState(null),[at,ut]=reactExports.useState(null),[ft,mt]=reactExports.useState(null),[yt,ht]=reactExports.useState(null),pt=wt=>{ht(It=>It==null?wt.currentTarget:null)};reactExports.useEffect(()=>{if(et!=null){let wt=et.find(It=>It.pageId===o.id&&It.profileId===nt.id);rt(wt)}},[et]),reactExports.useEffect(()=>{st&&ut(st.offsetHeight<st.scrollHeight)},[]),reactExports.useEffect(()=>{if(it&&o){let wt=it.pageIdList.find(It=>It==o.id);mt(!!wt)}},[o]);const ct=wt=>{wt&&(s(setPageInView({page:wt})),a(`/page/${wt.id}`))},gt=()=>o?o.type===PageType.text?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{ref:wt=>lt(wt),className:"dashboard-content text ql-editor",dangerouslySetInnerHTML:{__html:o.data}})}):o.type===PageType.picture?jsxRuntimeExports.jsx("img",{className:"dashboard-content image",src:o.data,alt:o.title}):o.type===PageType.link?jsxRuntimeExports.jsx("div",{className:"",children:jsxRuntimeExports.jsx(LinkPreview,{url:o.data})}):jsxRuntimeExports.jsx("div",{className:"empty",children:"Loading..."}):jsxRuntimeExports.jsx("div",{className:"empty",children:"Loading..."}),Et=()=>{if(tt)s(deletePageApproval({userApproval:tt}));else{const wt={pageId:o.id,profileId:nt.id,score:2};s(createPageApproval(wt))}};let bt=jsxRuntimeExports.jsx("div",{});ot&&(bt=jsxRuntimeExports.jsx("p",{onClick:()=>{a(`/profile/${ot.id}`)},children:ot.username}));const xt=()=>{if(ft&&o){let wt=it.pageIdList.filter(At=>At!=o.id);const It={library:it,pageIdList:wt,bookIdList:it.bookIdList};s(updateLibraryContent(It)),mt(!1)}else if(it&&nt&&o){const wt=[...it.pageIdList,o.id],It={library:it,pageIdList:wt,bookIdList:it.bookIdList};s(updateLibraryContent(It)).then(At=>{checkResult(At,kt=>{const{library:Vt}=kt;let Mt=Vt.pageIdList.find(Ot=>Ot==o.id);mt(!!Mt)},()=>{})})}};let Tt=jsxRuntimeExports.jsx("div",{});if(i){let wt="";i.title.length>30?wt=i.title.slice(0,30)+"...":wt=i.title,Tt=jsxRuntimeExports.jsx("a",{onClick:()=>{a(`/book/${i.id}`)},children:jsxRuntimeExports.jsxs("p",{children:[wt," ",">"]})})}if(o){let wt=theme.palette.info.disabled;return nt&&(tt?wt=theme.palette.primary.light:wt=theme.palette.info.main),jsxRuntimeExports.jsxs("div",{className:"content-item",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",children:[jsxRuntimeExports.jsxs("div",{className:"titles",children:[Tt,jsxRuntimeExports.jsxs("p",{onClick:()=>{a(`/page/${o.id}`)},children:[" "," "+o.title]})]}),bt]}),gt(),jsxRuntimeExports.jsxs("div",{className:"btn-row",children:[jsxRuntimeExports.jsx(Button$4,{disabled:!nt,onClick:Et,style:{color:theme.palette.info.contrastText,backgroundColor:wt},children:"Yea"}),jsxRuntimeExports.jsx(Button$4,{style:{color:theme.palette.info.contrastText,backgroundColor:theme.palette.info.main},onClick:()=>ct(o),children:"Comments"}),jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(Button$4,{onClick:It=>{pt(It)},"aria-controls":yt?"menu":void 0,"aria-haspopup":"true","aria-expanded":yt?"true":void 0,children:"Share"}),jsxRuntimeExports.jsxs(Menu$4,{id:"menu",anchorEl:yt,onClose:()=>ht(null),open:!!yt,unmountOnExit:!0,children:[jsxRuntimeExports.jsx(MenuItem$3,{disabled:!nt,onClick:()=>{s(setPagesToBeAdded({pageList:[o]})),a("/book/new")},children:"Add to Book"}),jsxRuntimeExports.jsx(MenuItem$3,{disabled:!nt,onClick:()=>{s(setPagesToBeAdded({pageList:[o]})),a("/library/new")},children:"Add to Library"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{navigator.clipboard.writeText(`https://plumbum.app/page/${o.id}`).then(()=>{alert("Text copied to clipboard")})},children:"Copy Share Link"}),nt&&nt.id==o.profileId?jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>a(Paths.editPage.createRoute(o.id)),children:"Edit"}):jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:xt,disabled:!nt,children:ft?jsxRuntimeExports.jsx(default_1$d,{}):jsxRuntimeExports.jsx(default_1$e,{})})]})]})]})]})}else return jsxRuntimeExports.jsx("div",{children:"Loading..."})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var extendStatics=function(o,i){return extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var et in a)a.hasOwnProperty(et)&&(s[et]=a[et])},extendStatics(o,i)};function __extends$1(o,i){extendStatics(o,i);function s(){this.constructor=o}o.prototype=i===null?Object.create(i):(s.prototype=i.prototype,new s)}var __assign$1=function(){return __assign$1=Object.assign||function(i){for(var s,a=1,et=arguments.length;a<et;a++){s=arguments[a];for(var tt in s)Object.prototype.hasOwnProperty.call(s,tt)&&(i[tt]=s[tt])}return i},__assign$1.apply(this,arguments)};function throttle(o,i,s,a){var et,tt=!1,rt=0;function nt(){et&&clearTimeout(et)}function it(){nt(),tt=!0}typeof i!="boolean"&&(a=s,s=i,i=void 0);function ot(){var st=this,lt=Date.now()-rt,at=arguments;if(tt)return;function ut(){rt=Date.now(),s.apply(st,at)}function ft(){et=void 0}a&&!et&&ut(),nt(),a===void 0&&lt>o?ut():i!==!0&&(et=setTimeout(a?ft:ut,a===void 0?o-lt:o))}return ot.cancel=it,ot}var ThresholdUnits={Pixel:"Pixel",Percent:"Percent"},defaultThreshold={unit:ThresholdUnits.Percent,value:.8};function parseThreshold(o){return typeof o=="number"?{unit:ThresholdUnits.Percent,value:o*100}:typeof o=="string"?o.match(/^(\d*(\.\d+)?)px$/)?{unit:ThresholdUnits.Pixel,value:parseFloat(o)}:o.match(/^(\d*(\.\d+)?)%$/)?{unit:ThresholdUnits.Percent,value:parseFloat(o)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),defaultThreshold):(console.warn("scrollThreshold should be string or number"),defaultThreshold)}var InfiniteScroll=function(o){__extends$1(i,o);function i(s){var a=o.call(this,s)||this;return a.lastScrollTop=0,a.actionTriggered=!1,a.startY=0,a.currentY=0,a.dragging=!1,a.maxPullDownDistance=0,a.getScrollableTarget=function(){return a.props.scrollableTarget instanceof HTMLElement?a.props.scrollableTarget:typeof a.props.scrollableTarget=="string"?document.getElementById(a.props.scrollableTarget):(a.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},a.onStart=function(et){a.lastScrollTop||(a.dragging=!0,et instanceof MouseEvent?a.startY=et.pageY:et instanceof TouchEvent&&(a.startY=et.touches[0].pageY),a.currentY=a.startY,a._infScroll&&(a._infScroll.style.willChange="transform",a._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},a.onMove=function(et){a.dragging&&(et instanceof MouseEvent?a.currentY=et.pageY:et instanceof TouchEvent&&(a.currentY=et.touches[0].pageY),!(a.currentY<a.startY)&&(a.currentY-a.startY>=Number(a.props.pullDownToRefreshThreshold)&&a.setState({pullToRefreshThresholdBreached:!0}),!(a.currentY-a.startY>a.maxPullDownDistance*1.5)&&a._infScroll&&(a._infScroll.style.overflow="visible",a._infScroll.style.transform="translate3d(0px, "+(a.currentY-a.startY)+"px, 0px)")))},a.onEnd=function(){a.startY=0,a.currentY=0,a.dragging=!1,a.state.pullToRefreshThresholdBreached&&(a.props.refreshFunction&&a.props.refreshFunction(),a.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){a._infScroll&&(a._infScroll.style.overflow="auto",a._infScroll.style.transform="none",a._infScroll.style.willChange="unset")})},a.onScrollListener=function(et){typeof a.props.onScroll=="function"&&setTimeout(function(){return a.props.onScroll&&a.props.onScroll(et)},0);var tt=a.props.height||a._scrollableNode?et.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!a.actionTriggered){var rt=a.props.inverse?a.isElementAtTop(tt,a.props.scrollThreshold):a.isElementAtBottom(tt,a.props.scrollThreshold);rt&&a.props.hasMore&&(a.actionTriggered=!0,a.setState({showLoader:!0}),a.props.next&&a.props.next()),a.lastScrollTop=tt.scrollTop}},a.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:s.dataLength},a.throttledOnScrollListener=throttle(150,a.onScrollListener).bind(a),a.onStart=a.onStart.bind(a),a.onMove=a.onMove.bind(a),a.onEnd=a.onEnd.bind(a),a}return i.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},i.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},i.prototype.componentDidUpdate=function(s){this.props.dataLength!==s.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},i.getDerivedStateFromProps=function(s,a){var et=s.dataLength!==a.prevDataLength;return et?__assign$1(__assign$1({},a),{prevDataLength:s.dataLength}):null},i.prototype.isElementAtTop=function(s,a){a===void 0&&(a=.8);var et=s===document.body||s===document.documentElement?window.screen.availHeight:s.clientHeight,tt=parseThreshold(a);return tt.unit===ThresholdUnits.Pixel?s.scrollTop<=tt.value+et-s.scrollHeight+1:s.scrollTop<=tt.value/100+et-s.scrollHeight+1},i.prototype.isElementAtBottom=function(s,a){a===void 0&&(a=.8);var et=s===document.body||s===document.documentElement?window.screen.availHeight:s.clientHeight,tt=parseThreshold(a);return tt.unit===ThresholdUnits.Pixel?s.scrollTop+et>=s.scrollHeight-tt.value:s.scrollTop+et>=tt.value/100*s.scrollHeight},i.prototype.render=function(){var s=this,a=__assign$1({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),et=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),tt=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return React$2.createElement("div",{style:tt,className:"infinite-scroll-component__outerdiv"},React$2.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(rt){return s._infScroll=rt},style:a},this.props.pullDownToRefresh&&React$2.createElement("div",{style:{position:"relative"},ref:function(rt){return s._pullDown=rt}},React$2.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!et&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},i}(reactExports.Component);class Book extends Story{constructor(s,a,et,tt,rt,nt,it,ot=new Contributors,st=Timestamp.now(),lt=Timestamp.now()){super(s,et,ot.readers,ot.writers,ot.editors,ot.commenters);Rr(this,"purpose");Rr(this,"profileId");Rr(this,"pageIdList");Rr(this,"updatedAt");Rr(this,"privacy");Rr(this,"writingIsOpen");Rr(this,"created");this.purpose=a,this.title=et,this.pageIdList=rt,this.profileId=tt,this.updatedAt=st,this.writingIsOpen=it,this.privacy=nt,this.created=lt}}Rr(Book,"className","book");const getPublicBooks=createAsyncThunk("books/getPublicBooks",async o=>{let i=[];try{return(await getDocs(query(collection(db,"book"),where("privacy","==",!1)))).docs.forEach(a=>{const et=unpackBookDoc(a);i=[...i,et]}),{bookList:i}}catch(s){return{error:new Error(`getPublicBooks ${s.message}`)}}}),fetchBook=createAsyncThunk("books/fetchBook",async function(o,i){let s=o.id;try{const a=await getDoc(doc(db,"book",s));return{book:unpackBookDoc(a)}}catch(a){return{error:a}}}),getProfileBooks=createAsyncThunk("books/getProfileBooks",async(o,i)=>{try{const s=o.profile,a=collection(db,"book");let et=[],tt=query(a,and(where("profileId","==",s.id),where("privacy","==",!1)));if(auth.currentUser){let nt=query(a,where("profileId","==",s.id),where("commenters","array-contains",auth.currentUser.uid)),it=query(a,where("profileId","==",s.id,where("writers","array-contains",auth.currentUser.uid))),ot=query(a,where("profileId","==",s.id),where("editors","array-contains",auth.currentUser.uid)),st=query(a,where("profileI","==",s.id),where("readers","array-contains",auth.currentUser.uid));if(auth.currentUser.uid==s.userId){let lt=query(a,where("profileId","==",s.id));(await getDocs(lt)).forEach(ut=>{let ft=unpackBookDoc(ut);et.find(mt=>mt.id==ft.id)||(et=[...et,ft])}),nt=query(a,where("commenters","array-contains",auth.currentUser.uid)),it=query(a,where("writers","array-contains",auth.currentUser.uid)),ot=query(a,where("editors","array-contains",auth.currentUser.uid)),st=query(a,where("readers","array-contains",auth.currentUser.uid))}try{(await getDocs(nt)).docs.forEach(at=>{const ut=unpackBookDoc(at);et.find(ft=>ft.id==ut.id)||(et=[...et,ut])})}catch(lt){console.error(lt.message)}try{(await getDocs(st)).docs.forEach(at=>{const ut=unpackBookDoc(at);et.find(ft=>ft.id==ut.id)||(et=[...et,ut])})}catch(lt){console.error(lt.message)}try{(await getDocs(ot)).docs.forEach(at=>{const ut=unpackBookDoc(at);et=[...et,ut]})}catch(lt){console.error(lt.message)}try{(await getDocs(it)).docs.forEach(at=>{let ut=unpackBookDoc(at);et.find(ft=>ft.id==ut.id)||(et=[...et,ut])})}catch(lt){console.error(lt.message)}return{bookList:et}}return(await getDocs(tt)).docs.forEach(nt=>{const it=unpackBookDoc(nt);et=[...et,it]}),{bookList:et}}catch(s){return{error:new Error(`Error: GET PROFILE BOOKS: ${s.message}`)}}}),clearBooksInView=createAction("books/clearBooksInView"),createBook=createAsyncThunk("books/createBook",async function(o,i){try{const s=collection(db,"book"),a=doc(s).id,{title:et,purpose:tt,profileId:rt,pageIdList:nt,privacy:it,writingIsOpen:ot,commenters:st,editors:lt,readers:at,writers:ut}=o,ft=Timestamp.now(),mt=ft;await setDoc(doc(db,"book",a),{id:a,title:et,purpose:tt,profileId:rt,pageIdList:nt,privacy:it,writingIsOpen:ot,commenters:st,editors:lt,readers:at,writers:ut,updatedAt:ft,created:ft});const yt=new Contributors(st,at,ut,lt);return it||client.initIndex("book").saveObject({objectID:a,titlee:et,type:"book"}).wait(),{book:new Book(a,tt,et,rt,nt,it,ot,yt,mt,ft)}}catch(s){return{error:new Error(`Error: CreateBook ${s.message}`)}}}),fetchArrayOfBooks=createAsyncThunk("books/fetchArrayOfBooks",async(o,i)=>{try{const a=o.bookIdList.map(rt=>{const nt=doc(db,"book",rt);return getDoc(nt)});return{bookList:(await Promise.all(a)).map(rt=>unpackBookDoc(rt))}}catch(s){return{error:s??new Error("Error: Fetch Array of Books")}}}),fetchArrayOfBooksAppened=createAsyncThunk("books/fetchArrayOfBooksAppend",async(o,i)=>{const s=collection(db,"book"),a=o.bookIdList;let et=query(s,where("id","in",a),where("privacy","==",!1));auth.currentUser&&(et=query(s,and(where("id","in",a),or(where("privacy","==",!1),or(where("commenters","array-contains",auth.currentUser.uid),where("readers","array-contains",auth.currentUser.uid),where("editors","array-contains",auth.currentUser.uid),where("writers","array-contains",auth.currentUser.uid),where("privacy","==",!1))))));const tt=await getDocs(et);let rt=[];return tt.docs.forEach(nt=>{const it=nt.data(),{id:ot}=nt,st=it.title,lt=it.purpose,at=it.profileId,ut=it.pageIdList,ft=it.updatedAt,mt=it.privacy,yt=it.writingIsOpen,ht=it.created;let pt=it.commenters,ct=it.editors,gt=it.readers,Et=it.writers;ct||(ct=[]),pt||(pt=[]),gt||(gt=[]),Et||(Et=[]);const bt=new Contributors(pt,gt,Et,ct),xt=new Book(ot,lt,st,at,ut,mt,yt,bt,ft,ht);rt=[...rt,xt]}),{bookList:rt}}),saveRolesForBook=createAsyncThunk("books/saveRolesForBook",async(o,i)=>{try{const{book:s,readers:a,commenters:et,editors:tt,writers:rt}=o;let nt=doc(db,"book",s.id);await updateDoc(nt,{editors:tt,commenters:et,writers:rt,readers:a});const it=new Contributors(et,a,rt,tt);return{book:new Book(s.id,s.purpose,s.title,s.profileId,s.pageIdList,s.privacy,s.writingIsOpen,it,s.updatedAt,s.created)}}catch(s){return{error:s??new Error("Error: SAVE BOOK ROLES")}}}),updateBook=createAsyncThunk("books/updateBooks",async(o,i)=>{try{const{book:s,title:a,purpose:et,pageIdList:tt,privacy:rt,writingIsOpen:nt}=o;let it=Timestamp.now(),ot=doc(db,"book",s.id);await updateDoc(ot,{title:a,pageIdList:tt,privacy:rt,writingIsOpen:nt,purpose:et,updatedAt:it}),rt||client.initIndex("book").partialUpdateObject({objectID:s.id,title:a},{createIfNotExists:!0}).wait();const st=new Contributors(s.commenters,s.readers,s.writers,s.editors);return{book:new Book(s.id,et,a,s.profileId,tt,rt,nt,st,it,s.created)}}catch(s){return{error:new Error("Error: UDATE BOOK -"+s.message)}}}),deleteBook=createAsyncThunk("books/deleteBook",async(o,i)=>{try{const{book:s}=o;return await deleteDoc(doc(db,"book",s.id)),client.initIndex("book").deleteObject(s.id).wait(),{book:s}}catch(s){return{error:new Error("Error: DELETE BOOK"+s.message)}}}),updateBookContent=createAsyncThunk("books/updateBookContent",async(o,i)=>{try{const{book:s,pageIdList:a}=o;let et=doc(db,"book",s.id);a.forEach(nt=>{updateDoc(et,{pageIdList:arrayUnion(nt)})});let tt=new Contributors(s.commenters,s.readers,s.writers,s.editors);return{book:new Book(s.id,s.purpose,s.title,s.profileId,a,s.privacy,s.writingIsOpen,tt,s.updatedAt,s.created)}}catch(s){return{error:new Error("Error: Update Book Content"+s.message)}}}),appendSaveRolesFoBook=createAsyncThunk("books/appendSaveRolesForBooks",async(o,i)=>{try{const{bookIdList:s,readers:a,commenters:et}=s;s.forEach(tt=>{let rt=collection(db,"book",tt);updateDoc(rt,{readers:arrayUnion(a),commenters:arrayUnion(et)})})}catch(s){return{error:new Error(`Error: SAVE BOOK ROLES ${s.message}`)}}}),setBookInView=createAction("books/setBookInView",o=>{const{book:i}=o;return{payload:i}}),setBooksToBeAdded=createAction("books/setBooksToBeAdded",o=>{let{bookList:i}=o;return{payload:i}}),fetchBooksWhereProfileEditor=createAsyncThunk("books/fetchBooksWhereProfileEditor",(o,i)=>{try{const s=collection(db,"book");let a=query(s,where("editors","array-contains",auth.currentUser.uid)),et=[];return a.docs.forEach(tt=>{const rt=unpackBookDoc(tt);et=[...et,rt]}),{bookList:et}}catch(s){return{error:s}}}),fetchBooksWhereProfileWriter=createAsyncThunk("books/fetchBooksWhereProfileEditor",(o,i)=>{try{const s=collection(db,"book");let a=query(s,where("writers","array-contains",auth.currentUser.uid)),et=[];return a.docs.forEach(tt=>{const rt=unpackBookDoc(tt);et=[...et,rt]}),{bookList:et}}catch(s){return{error:s}}});function unpackBookDoc(o){const i=o.data(),{id:s}=o,a=i.title,et=i.purpose,tt=i.profileId,rt=i.pageIdList,nt=i.updatedAt,it=i.privacy,ot=i.writingIsOpen,st=i.created;let lt=i.commenters,at=i.editors,ut=i.readers,ft=i.writers;at||(at=[]),lt||(lt=[]),ft||(ft=[]),ut||(ut=[]);const mt=new Contributors(lt,ut,ft,at);return new Book(s,et,a,tt,rt,it,ot,mt,nt,st)}class Profile{constructor(i,s,a,et,tt,rt,nt,it,ot=Timestamp.now()){Rr(this,"id");Rr(this,"username");Rr(this,"profilePicture");Rr(this,"selfStatement");Rr(this,"bookmarkLibraryId");Rr(this,"homeLibraryId");Rr(this,"userId");Rr(this,"privacy");Rr(this,"created");this.id=i,this.username=s,this.profilePicture=a,this.selfStatement=et,this.bookmarkLibraryId=tt,this.profileId=rt,this.userId=nt,this.privacy=it,this.created=ot}}class FollowBook{constructor(i,s,a,et=Timestamp.now()){Rr(this,"id");Rr(this,"bookId");Rr(this,"profileId");Rr(this,"created");this.id=i,this.bookId=s,this.profileId=a,this.created=et}}Rr(FollowBook,"className","follow_book");class FollowLibrary{constructor(i,s,a,et=Timestamp.now()){Rr(this,"id");Rr(this,"profileId");Rr(this,"libraryId");Rr(this,"created");this.id=i,this.profileId=s,this.created=et,this.libraryId=a}}Rr(FollowLibrary,"className","follow_library");class FollowProfile{constructor(i,s,a,et=Timestamp.now()){Rr(this,"id");Rr(this,"followerId");Rr(this,"followingId");Rr(this,"created");this.id=i,this.followerId=s,this.created=et,this.followingId=a}}Rr(FollowProfile,"className","follow_profile");class Collection{constructor(i=[],s=[],a=[],et=[]){Rr(this,"pages");Rr(this,"books");Rr(this,"libraries");Rr(this,"profiles");this.books=s,this.pages=i,this.libraries=a,this.profiles=et}}const logIn=createAsyncThunk("users/logIn",async(o,i)=>{let s=o.email,a=o.password;try{const tt=(await signInWithEmailAndPassword(auth,s,a)).user.uid,nt=(await getDocs(query(collection(db,"profile"),where("userId","==",tt)))).docs[0].data();if(nt!=null){const it=nt.id,ot=nt.username,st=nt.profilePicture??"",lt=nt.selfStatement,at=nt.homeLibraryId,ut=nt.bookmarkLibraryId,ft=nt.userId,mt=nt.privacy,yt=nt.created;return{profile:new Profile(it,ot,st,lt,ut,at,ft,mt,yt)}}else throw new Error("Profile not found for the logged-in user.")}catch(et){return{error:et??new Error("Error: Performing Login")}}}),signOutAction=createAsyncThunk("users/signOut",async(o,i)=>(await signOut(auth),{profile:null})),signUp=createAsyncThunk("users/signUp",async(o,i)=>{let s=o.email,a=o.password;try{const et=await createUserWithEmailAndPassword(auth,s,a),tt=doc(collection(db,"profile")).id,rt=et.user.uid,nt=doc(collection(db,"library")).id;new Library(nt,"Saved");const it=Timestamp.now();await setDoc(doc(db,"library",nt),{id:nt,name:"Saved",profileId:tt,purpose:"Anything you find interesting can be saved here, for future use",pageIdList:[],bookIdList:[],writingIsOpen:!1,privacy:!0,editors:[],writers:[],commmenters:[],readers:[],created:it}),await setDoc(doc(db,"user",rt),{id:rt,defaultProfileId:tt,email:s,created:it});const{username:ot,profilePicture:st,selfStatement:lt,privacy:at}=o,ut=new Profile(tt,ot,st,lt,nt,nt,rt,at);return await setDoc(doc(db,"profile",tt),{id:tt,username:ot,profilePicture:st,selfStatement:lt,bookmarkLibraryId:nt,homeLibraryId:nt,userId:rt,privacy:at,created:it}),await setDoc(doc(db,"profile",tt,"collection","home"),{books:[],libraries:[],pages:[],profiles:[]}),client.initIndex("profile").saveObject({objectID:tt,username:ot,type:"profile"}).wait(),{profile:ut}}catch{return{error:new Error("Error: performing sign up")}}}),searchMultipleIndexes=createAsyncThunk("users/seachMultipleIndexes",async(o,i)=>{const{query:s}=o,a=[{indexName:"profile",query:s},{indexName:"page",query:s},{indexName:"book",query:s},{indexName:"library",query:s}];let{results:et}=await client.multipleQueries(a);return{results:et}});createAsyncThunk("ds",async(o,i)=>{const{profile:s}=o;await setDoc(doc(db,"profile",s.Id,"collection","home"),{books:[],libraries:[],pages:[],profiles:[]})});const updateHomeCollection=createAsyncThunk("users/updatecollection",async(o,i)=>{try{const{profile:s,books:a,libraries:et,pages:tt,profiles:rt}=o;return await updateDoc(doc(db,"profile",s.id,"collection","home"),{books:a,libraries:et,pages:tt,profiles:rt}),{collection:new Collection(tt,a,et,rt)}}catch(s){return{error:new Error(`Update Home Collection Error: ${s.message}`)}}}),fetchHomeCollection=createAsyncThunk("users/fetchHomeCollection",async(o,i)=>{try{const{profile:s}=o,et=(await getDoc(doc(db,"profile",s.id,"collection","home"))).data(),{pages:tt,books:rt,libraries:nt,profiles:it}=et;return{collection:new Collection(tt,rt,nt,it)}}catch(s){return{error:new Error(`Fetch home Error: ${s.message}`)}}}),setSignedInTrue=createAction("users/setSignedInTrue",async o=>{}),setSignedInFalse=createAction("users/setSignedInFalse",async o=>{}),getCurrentProfile=createAsyncThunk("users/getCurrentProfile",async(o,i)=>{const s=o.userId;try{const et=(await getDocs(query(collection(db,"profile"),where("userId","==",s)))).docs[0].data(),tt=et.id,rt=et.username,nt=et.profilePicture??"",it=et.selfStatement,ot=et.homeLibraryId,st=et.bookmarkLibraryId,lt=et.userId,at=et.privacy,ut=et.created;return{profile:new Profile(tt,rt,nt,it,st,ot,lt,at,ut)}}catch(a){return{error:new Error(` Getting current profile ${a.message}`)}}}),updateProfile=createAsyncThunk("users/updateProfile",async(o,i)=>{try{const s=o.profile,a=o.username,et=doc(db,"profile",s.id),tt=o.selfStatement,rt=o.privacy;await updateDoc(et,{username:a,selfStatement:tt,privacy:rt}),client.initIndex("profile").partialUpdateObject({objectID:s.id,username:st},{createIfNotExists:!0});const it=(await getDoc(et)).data(),ot=it.id,st=it.username,lt=it.profilePicture??"",at=it.selfStatement,ut=it.homeLibraryId,ft=it.bookmarkLibraryId,mt=it.userId,yt=it.private,ht=it.created;return{profile:new Profile(ot,st,lt,at,ft,ut,mt,yt,ht)}}catch(s){return{error:new Error(`Update Profile failed: ${s.message}`)}}}),fetchAllProfiles=createAsyncThunk("users/fetchAllProfiles",async(o,{params:i})=>{try{let s=collection(db,"profile"),a=await getDocs(s),et=[];return a.docs.forEach(tt=>{const{id:rt}=tt,nt=tt.data(),it=nt.username,ot=nt.profilePicture;let st=nt.selfStatment;const lt=nt.bookmarkLibraryId,at=nt.homeLibraryId,ut=nt.userId,ft=nt.privacy,mt=nt.created;st==null&&(st="");let yt=new Profile(rt,it,ot,st,lt,at,ut,ft,mt);et.push(yt)}),{profileList:et}}catch(s){return{error:new Error("Error: FETCH ALL PROFILES"+s.message)}}}),uploadProfilePicture=createAsyncThunk("users/uploadProfilePicture",async(o,i)=>{try{const{file:s}=o,a=`profile/profilePicture-${s.name}.jpg`,et=ref(storage,a),tt=new Blob([s]);return await uploadBytes(et,tt),{url:await getDownloadURL(et)}}catch(s){return{error:new Error("Error: UPLOAD Profile Picture"+s.message)}}}),uploadPicture=createAsyncThunk("users/uploadPicture",async(o,i)=>{try{const{file:s}=o,a=`image/picture-${s.name}.jpg`,et=ref(storage,a),tt=new Blob([s]);await uploadBytes(et,tt);const rt=await getDownloadURL(et);return{ref:a,url:rt}}catch(s){return{error:new Error("Error: UPLOAD Picture"+s.message)}}}),fetchProfile=createAsyncThunk("users/fetchProfile",async function(o,i){let s=o.id;try{const et=(await getDoc(doc(db,"profile",s))).data();let{id:tt,username:rt,profilePicture:nt,selfStatement:it,bookmarkLibraryId:ot,homeLibraryId:st,userId:lt,privacy:at,created:ut}=et;return at&&(at=!1),{profile:new Profile(tt,rt,nt,it,ot,st,lt,at,ut)}}catch(a){return{error:new Error("ERROR:FETCH PROFILEE:"+a.message)}}}),setProfileInView=createAction("users/setProfileInView",o=>{const{profile:i}=o;return{payload:i}}),createFollowBook=createAsyncThunk("users/createFollowBook",async function(o,i){try{const{profile:s,book:a}=o,et=`${s.id}_${a.id}`,tt=Timestamp.now();return await setDoc(doc(db,"follow_book",et),{id:et,bookId:a.id,profileId:s.id,created:tt}),{followBook:new FollowBook(et,a.id,s.id,tt)}}catch(s){return{error:new Error(`Error:Create Follow Book ${s.message}`)}}}),createFollowLibrary=createAsyncThunk("users/createFollowLibrary",async function(o,i){try{const{profile:s,library:a}=o,et=`${s.id}_${a.id}`,tt=Timestamp.now();return await setDoc(doc(db,"follow_library",et),{id:et,libraryId:a.id,profileId:s.id,created:tt}),{followLibrary:new FollowLibrary(et,s.id,a.id,tt)}}catch(s){return{error:new Error(`Error: Create Follow Library ${s.message}`)}}}),fetchFollowBooksForProfile=createAsyncThunk("users/fetchFollowBooksForProfile",async(o,i)=>{try{const{profile:s}=o,a=collection(db,"follow_book"),et=await getDocs(a,where("profileId","==",s.id));let tt=[];return et.docs.forEach(rt=>{const nt=rt.data(),{id:it,profileId:ot,bookId:st,created:lt}=nt,at=new FollowBook(it,st,ot,s,lt);tt=[...tt,at]}),{followList:tt}}catch(s){return{error:new Error(`Error: Fetch Follow Books: ${s.message}`)}}}),fetchFollowLibraryForProfile=createAsyncThunk("users/fetchFollowlibraryForProfile",async(o,i)=>{try{const{profile:s}=o,a=collection(db,"follow_library"),et=await getDocs(a,where("profileId","==",s.id));let tt=[];return et.docs.forEach(rt=>{const nt=rt.data(),{id:it,profileId:ot,libraryId:st,created:lt}=nt,at=new FollowLibrary(it,ot,st,lt);tt=[...tt,at]}),{followList:tt}}catch(s){return{error:new Error(`Error: Fetch Follow books: ${s.message}`)}}}),deleteFollowBook=createAsyncThunk("users/deleteFollowBook",async(o,i)=>{try{const{followBook:s,book:a,profile:et}=o;return s?await deleteDoc(doc(db,"follow_book",s.id)):await deleteDoc(doc(db,"follow_book",`${et.id}_${a.id}`)),{followBook:s}}catch(s){return{error:new Error("Error: Delete Follow Book"+s.message)}}}),deleteFollowLibrary=createAsyncThunk("users/deleteFollowLibrary",async(o,i)=>{try{const{followLibrary:s,library:a,profile:et}=o;return s?await deleteDoc(doc(db,"follow_library",s.id)):await deleteDoc(doc(db,"follow_library",`${et.id}_${a.id}`)),{followLibrary:s}}catch(s){return{error:new Error("Error: Delete Follow Library"+s.message)}}}),deleteFollowProfile=createAsyncThunk("users/deleteFollowProfile",async(o,i)=>{try{const{followProfile:s,follower:a,following:et}=o;return s?await deleteDoc(doc(db,"follow_profile",s.id)):await deleteDoc(doc(db,"follow_profile",`${a.id}_${et.id}`)),{followProfile:s}}catch(s){return{error:new Error("Error: Delete Follow Profile"+s.message)}}}),createFollowProfile=createAsyncThunk("users/createFollowProfile",async function(o,i){try{const{follower:s,following:a}=o,et=`${s.id}_${a.id}`,tt=Timestamp.now();return await setDoc(doc(db,"follow_profile",et),{id:et,followerId:s.id,followingId:a.id,created:tt}),{followProfile:new FollowProfile(et,s.id,a.id,tt)}}catch(s){return{error:new Error(`Error: Follow Profile ${s.message}`)}}}),fetchFollowProfilesForProfile=createAsyncThunk("users/fetchFollowProfilesForProfile",async(o,i)=>{try{const{profile:s}=o,a=collection(db,"follow_profile"),et=await getDocs(a,where("followerId","==",s.id));let tt=[];return et.docs.forEach(rt=>{const nt=rt.data(),{id:it,followerId:ot,followingId:st,created:lt}=nt,at=new FollowProfile(it,ot,st,lt);tt=[...tt,at]}),{followList:tt}}catch(s){return{error:new Error(`Error: Fetch Follow Profile: ${s.message}`)}}}),deleteUserAccounts=createAsyncThunk("users/deleteUserAccounts",async(o,i)=>{try{const s=auth.currentUser.uid;let tt=(await getDocs(query(collection(db,"profile"),where("userId","==",s)))).docs[0].data().id;return deleteDoc(doc(db,"profile",tt)),client.initIndex("profile").deleteObject(tt).wait(),auth.currentUser.delete(),{code:200}}catch(s){return{error:new Error("Error: Deleting useer account"+s.message)}}}),getPageApprovals=createAsyncThunk("users/getPageApprovals",async(o,i)=>{try{const{profile:s}=o,a=await getDocs(query(collection(db,UserApproval.className),where("profileId","==",s.id)));let et=[];return a.docs.forEach(tt=>{let rt=unpackUserApprovalDoc(tt);rt.push(rt)}),{userApprovals:et}}catch(s){return{error:s}}}),searchDialogToggle=createAction("users/searchDialogToggle",(o,i)=>{const{open:s}=o;return{payload:s}}),unpackUserApprovalDoc=o=>{const i=o.data(),{id:s}=o,{score:a,pageId:et,profileId:tt}=i;return new UserApproval(s,et,tt,a)};createAsyncThunk("Sf",async(o,i)=>{});function DashboardContainer(o){const i=useDispatch(),s=useSelector(ht=>ht.users.currentProfile),a=useSelector(ht=>ht.pages.pagesInView),et=useSelector(ht=>ht.users.homeCollection),[tt,rt]=reactExports.useState([]),[nt,it]=reactExports.useState(!1),[ot,st]=reactExports.useState(!1);reactExports.useEffect(()=>{s&&i(fetchHomeCollection({profile:s}))},[]),reactExports.useEffect(()=>{ut()},[]);const lt=()=>{it(!0),rt([]),i(getPublicPages()).then(ht=>{checkResult(ht,pt=>{st(!1);const{pageList:ct}=pt;let gt=ct.map(Et=>({type:"page",page:Et}));gt=gt.filter(Et=>Et.page!==null),rt(gt),st(!1)},pt=>{})})},at=()=>{if(s){const ht={libraryIdList:et.libraries};it(!0),i(fetchArrayOfLibraries(ht)).then(pt=>{if(pt.error==null){const{payload:ct}=pt;if(ct.error==null){const{libraryList:gt}=ct;gt.forEach(Et=>{if(Et.bookIdList.length>0){const bt={bookIdList:Et.bookIdList,profile:s};i(fetchArrayOfBooksAppened(bt)).then(xt=>{checkResult(xt,Tt=>{const{bookList:wt}=Tt;ft(wt)},Tt=>{})})}})}}it(!1)})}},ut=()=>{if(!s)lt();else if(et&&et.books){it(!0);const ht={bookIdList:et.books,profile:s};et.books.length>0&&i(fetchArrayOfBooksAppened(ht)).then(pt=>checkResult(pt,ct=>{const{bookList:gt}=ct;ft(gt)},ct=>{})),et&&et.libraries&&et.libraries.length>0&&at(),et&&et.profiles&&et.profiles.forEach(pt=>{i(fetchAppendPagesOfProfile({id:pt})).then(gt=>checkResult(gt,Et=>{const{pageList:bt}=Et;bt.map(Tt=>({type:"page",page:Tt})).forEach(Tt=>{tt.includes(Tt)||rt(wt=>[Tt,...wt])})},Et=>{}))}),i(fetchBooksWhereProfileEditor()).then(pt=>checkResult(pt,ct=>{const{bookList:gt}=ct;ft(gt)},ct=>{})),i(fetchBooksWhereProfileWriter()).then(pt=>checkResult(pt,ct=>{const{bookList:gt}=ct;ft(gt)},ct=>{})),i(fetchPagesWhereProfileCommenters()).then(pt=>checkResult(pt,ct=>{const{pageList:gt}=ct;gt.map(bt=>({type:"page",page:bt})).forEach(bt=>{tt.includes(bt)||rt(xt=>[...xt,bt])})},ct=>{}))}},ft=ht=>{ht.forEach(pt=>{let ct=[];pt.pageIdList.forEach(Et=>{tt.find(xt=>xt.page!=null&&xt.page.id==Et)||ct.push(Et)});const gt={pageIdList:ct,profile:s};ct.length>0&&i(fetchArrayOfPagesAppened(gt)).then(Et=>checkResult(Et,bt=>{const{pageList:xt}=bt;xt.map(wt=>({type:"page",page:wt,book:pt})).forEach(wt=>{tt.includes(wt)||rt(It=>[...It,wt])}),mt()}))})},mt=()=>{rt(ht=>{let pt=[];return ht.forEach(gt=>{pt.find(bt=>{if(bt.page!=null&&gt.page!=null)return bt.page.id==gt.page.id;if(bt.book!=null&&gt.book!=null)return bt.book.id==gt.book.id})||pt.push(gt)}),pt.sort((gt,Et)=>Et.page!=null&&gt.page!=null?Et.page.created-gt.page.created:gt.page!=null&&Et.book!=null?Et.book.updatedAt-gt.page.created:gt.book!=null&&Et.page!=null?Et.page.created-gt.book.updatedAt:gt.book!=null&&Et.book!=null?Et.book.updatedAt-gt.page.created:-1)})},yt=()=>tt!=null&&tt.length>0?jsxRuntimeExports.jsx("div",{className:"content-list dashboard",children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:tt.length,next:ut,hasMore:nt,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),children:tt.map((ht,pt)=>{switch(ht.type){case"page":return jsxRuntimeExports.jsx(DashboardItem,{page:ht.page,book:ht.book},`${ht.page.id}_`+pt);case"book":{let ct=ht.book.pageIdList[0];if(ht.book.pageIdList.length>1){let gt=a.find(Et=>Et.id==ct);return gt?jsxRuntimeExports.jsx(DashboardItem,{page:gt,book:ht.book},`${ht.page.id}_`+pt):jsxRuntimeExports.jsx("div",{})}}}})})}):tt!=null&&tt.length==0&&s?jsxRuntimeExports.jsx("div",{className:"content-list dashboard",children:jsxRuntimeExports.jsx("div",{className:"content",children:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("h3",{children:"Follow Some Books and Libraries"})})})}):tt!=null&&tt.length==0?jsxRuntimeExports.jsx("div",{className:"content-list dashboard",children:jsxRuntimeExports.jsx("div",{className:"content",children:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("h3",{children:"0 Data"})})})}):jsxRuntimeExports.jsx("div",{className:"content-list dashboard",children:jsxRuntimeExports.jsx("div",{className:"content",children:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("h3",{children:"Check your contection"})})})});return jsxRuntimeExports.jsx("div",{id:"dashboard",children:jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{style:{padding:"2em",textAlign:"center"},children:jsxRuntimeExports.jsx("h1",{children:"HOME"})}),yt()]})})}var CloudUpload={},_interopRequireDefault$c=interopRequireDefaultExports;Object.defineProperty(CloudUpload,"__esModule",{value:!0});var default_1$c=CloudUpload.default=void 0,_createSvgIcon$c=_interopRequireDefault$c(requireCreateSvgIcon()),_jsxRuntime$c=jsxRuntimeExports;default_1$c=CloudUpload.default=(0,_createSvgIcon$c.default)((0,_jsxRuntime$c.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const Add$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Clear$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),DragIndicator=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2m-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"DragIndicator"),ExpandLess$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),ExpandMore$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),MoreHoriz=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz"),Remove=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19 13H5v-2h14z"}),"Remove"),Settings$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),Visibility$1=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),VisibilityOff=createSvgIcon$1(jsxRuntimeExports.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),VisuallyHiddenInput$1=styled("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function LogInContainer(o){const i=useDispatch(),[s,a]=reactExports.useState(""),[et,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState(""),[it,ot]=reactExports.useState(""),[st,lt]=reactExports.useState("https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png"),[at,ut]=reactExports.useState(!1),[ft,mt]=reactExports.useState(""),[yt,ht]=reactExports.useState(""),[pt,ct]=reactExports.useState(!1),[gt,Et]=reactExports.useState(!1),bt=useNavigate(),xt=It=>{It.preventDefault(),et.length>0&&rt.length>6&&s.length>2?i(signUp({email:et,password:rt,username:s,profilePicture:st,selfStatement:it,privacy:at})).then(kt=>{checkResult(kt,Vt=>{bt("/profile/home")},()=>{ct(!0)})}):ct(!0)},Tt=It=>{const kt={file:Array.from(It.target.files)[0]};i(uploadProfilePicture(kt)).then(Vt=>{checkResult(Vt,Mt=>{const{url:Ot}=Mt;lt(Ot)},Mt=>{window.alert(Mt.message),ct(!0)})})},wt=It=>{It.preventDefault(),ft.length>3&&yt.length>6?i(logIn({email:ft,password:yt})).then(kt=>{checkResult(kt,Vt=>{bt("/profile/home")},()=>{Et(!0)})}).catch(kt=>{}):Et(!0)};return jsxRuntimeExports.jsxs("div",{id:"LogInContainer",children:[jsxRuntimeExports.jsx(SignInCard,{setError:ct,error:pt,username:s,password:rt,email:et,setUsername:a,setEmail:tt,setPassword:nt,setSelfStatement:ot,profilePicture:st,setProfilePicture:Tt,setPrivacy:ut,handleSubmit:xt}),jsxRuntimeExports.jsx(LogInCard,{setError:Et,error:gt,password:yt,email:ft,handleSubmit:wt,setEmail:mt,setPassword:It=>ht(It)})]})}const inputStyle$1={width:"95%",backgroundColor:theme.palette.primary.contrastText,marginTop:"1em",marginBottom:"1em",marginLeft:"1em"},outerInputStyle={width:inputStyle$1.width,marginTop:inputStyle$1.marginTop,marginLeft:inputStyle$1.marginLeft},innerInputStyle={backgroundColor:inputStyle$1.backgroundColor},btnStyle$1={width:"95%",padding:"1em",marginTop:"1em",marginBottom:"1em",marginLeft:"1em",backgroundColor:theme.palette.secondary.main};function SignInCard(o){const[i,s]=reactExports.useState(!1),a=()=>{s(!i)};let et=jsxRuntimeExports.jsx("div",{});return o.profilePicture&&(et=jsxRuntimeExports.jsx("img",{style:{marginLeft:"1em",width:"50%"},src:o.profilePicture,alt:""})),jsxRuntimeExports.jsx("div",{className:"sign-card",children:jsxRuntimeExports.jsxs("div",{id:"sign-in",children:[jsxRuntimeExports.jsx("h1",{style:{marginLeft:"0.4em"},children:" Sign Up"}),jsxRuntimeExports.jsxs(FormGroup$1,{children:[jsxRuntimeExports.jsx(TextField$1,{error:o.error,label:"Username",value:o.username,onChange:tt=>{o.setError(!1);let rt=tt.target.value.trim();rt.length<=30&&o.setUsername(rt)},style:outerInputStyle}),jsxRuntimeExports.jsx(TextField$1,{error:o.error,label:"E-mail",value:o.email,onChange:tt=>{o.setError(!1),o.setEmail(tt.target.value.trim())},style:outerInputStyle,InputProps:{style:innerInputStyle}}),jsxRuntimeExports.jsx(FormControlLabel$1,{label:"Private",style:{marginLeft:inputStyle$1.marginLeft},control:jsxRuntimeExports.jsx(Checkbox$1,{onChange:tt=>{o.setError(!1),o.setPrivacy(tt.target.value)}})}),jsxRuntimeExports.jsxs("div",{style:{marginLeft:inputStyle$1.marginLeft},id:"self-statement",children:[jsxRuntimeExports.jsx("h6",{children:"Self Statement"}),jsxRuntimeExports.jsx(TextareaAutosize,{name:"selfStatement",onChange:tt=>{o.setError(!1);let rt=tt.target.value;rt.length<=240&&o.setSelfStatement(rt)},minRows:3,style:{marginBottom:"2em",width:"99%",padding:"1em",backgroundColor:theme.palette.primary.contrastText}})]}),jsxRuntimeExports.jsx(TextField$1,{error:o.error,value:o.password,label:"Password",onChange:tt=>{o.setError(!1),o.setPassword(tt.target.value.trim())},type:i?"text":"password",style:outerInputStyle,InputProps:{style:innerInputStyle,endAdornment:jsxRuntimeExports.jsx(InputAdornment$1,{position:"end",children:jsxRuntimeExports.jsx(IconButton$1,{onClick:a,children:i?jsxRuntimeExports.jsx(VisibilityOff,{}):jsxRuntimeExports.jsx(Visibility$1,{})})})}}),jsxRuntimeExports.jsxs("div",{className:"file",children:[jsxRuntimeExports.jsxs(Button$4,{style:btnStyle$1,component:"label",variant:"contained",startIcon:jsxRuntimeExports.jsx(default_1$c,{}),children:["Upload Picture",jsxRuntimeExports.jsx(VisuallyHiddenInput$1,{type:"file",name:"profile_picture",onInput:tt=>o.setProfilePicture(tt)})]}),et]}),jsxRuntimeExports.jsx(Button$4,{onClick:o.handleSubmit,variant:"contained",style:btnStyle$1,type:"submit",children:"Sign Up"})]})]})})}function LogInCard(o){const[i,s]=reactExports.useState(!1),[a,et]=reactExports.useState(""),[tt,rt]=reactExports.useState(!1),nt=()=>{s(!i)};return jsxRuntimeExports.jsx("div",{className:"sign-card",children:jsxRuntimeExports.jsxs("div",{id:"log-in",children:[jsxRuntimeExports.jsx("h1",{style:{marginLeft:"0.4em",marginTop:"1em",marginRight:"0.4em"},children:" Log In"}),jsxRuntimeExports.jsxs(FormGroup$1,{children:[jsxRuntimeExports.jsx(TextField$1,{error:o.error,label:"E-mail",value:o.email,name:"E-mail",placeholder:"E-mail",onChange:it=>o.setEmail(it.target.value),style:outerInputStyle}),jsxRuntimeExports.jsx(TextField$1,{label:"Password",error:o.error,value:o.password,name:"password",placeholder:"Password",onChange:it=>o.setPassword(it.target.value.trim()),type:i?"text":"password",style:outerInputStyle,InputProps:{style:innerInputStyle,endAdornment:jsxRuntimeExports.jsx(InputAdornment$1,{position:"end",children:jsxRuntimeExports.jsx(IconButton$1,{onClick:nt,children:i?jsxRuntimeExports.jsx(VisibilityOff,{}):jsxRuntimeExports.jsx(Visibility$1,{})})})}}),jsxRuntimeExports.jsx("div",{style:{color:theme.palette.primary.dark,marginLeft:"1em"},onClick:()=>{rt(!0)},children:jsxRuntimeExports.jsx("a",{children:"Forgot Password?"})}),jsxRuntimeExports.jsx(Button$4,{onClick:o.handleSubmit,style:btnStyle$1,variant:"contained",type:"submit",children:"Log In"})]}),jsxRuntimeExports.jsx(Modal$3,{open:tt,onClose:()=>{rt(!1)},"aria-labelledby":"modal-modal-title",children:jsxRuntimeExports.jsxs(FormGroup$1,{id:"modal-modal-description",style:{width:"40em",marginLeft:inputStyle$1.marginLeft,marginTop:"4em",borderRadius:"25px",padding:"6em",backgroundColor:theme.palette.secondary.light},children:[jsxRuntimeExports.jsx(Typography$1,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Forgot Passowrd"}),jsxRuntimeExports.jsx(TextField$1,{label:"E-mail",value:a,style:{marginTop:"4em",marginBottom:"3em",backgroundColor:theme.palette.secondary.contrastText},onChange:it=>et(it.target.value)}),jsxRuntimeExports.jsx(Button$4,{style:{backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText},variant:"outlined",onClick:()=>{a.length>0?sendPasswordResetEmail(auth,a).then(()=>{window.alert("Email Sent!")}).catch(it=>{it.code,it.message}):window.alert("Please write an email")},children:"Send"})]})})]})})}function debounce(o,i){let s;return a=>{clearTimeout(s),s=setTimeout(et=>{s=null,o.apply(this,arguments)},i)}}var ExpandLess={},_interopRequireDefault$b=interopRequireDefaultExports;Object.defineProperty(ExpandLess,"__esModule",{value:!0});var default_1$b=ExpandLess.default=void 0,_createSvgIcon$b=_interopRequireDefault$b(requireCreateSvgIcon()),_jsxRuntime$b=jsxRuntimeExports;default_1$b=ExpandLess.default=(0,_createSvgIcon$b.default)((0,_jsxRuntime$b.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");var ExpandMore={},_interopRequireDefault$a=interopRequireDefaultExports;Object.defineProperty(ExpandMore,"__esModule",{value:!0});var default_1$a=ExpandMore.default=void 0,_createSvgIcon$a=_interopRequireDefault$a(requireCreateSvgIcon()),_jsxRuntime$a=jsxRuntimeExports;default_1$a=ExpandMore.default=(0,_createSvgIcon$a.default)((0,_jsxRuntime$a.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var Menu={},_interopRequireDefault$9=interopRequireDefaultExports;Object.defineProperty(Menu,"__esModule",{value:!0});var default_1$9=Menu.default=void 0,_createSvgIcon$9=_interopRequireDefault$9(requireCreateSvgIcon()),_jsxRuntime$9=jsxRuntimeExports;default_1$9=Menu.default=(0,_createSvgIcon$9.default)((0,_jsxRuntime$9.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var Link={},_interopRequireDefault$8=interopRequireDefaultExports;Object.defineProperty(Link,"__esModule",{value:!0});var default_1$8=Link.default=void 0,_createSvgIcon$8=_interopRequireDefault$8(requireCreateSvgIcon()),_jsxRuntime$8=jsxRuntimeExports;default_1$8=Link.default=(0,_createSvgIcon$8.default)((0,_jsxRuntime$8.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");var Create={},_interopRequireDefault$7=interopRequireDefaultExports;Object.defineProperty(Create,"__esModule",{value:!0});var default_1$7=Create.default=void 0,_createSvgIcon$7=_interopRequireDefault$7(requireCreateSvgIcon()),_jsxRuntime$7=jsxRuntimeExports;default_1$7=Create.default=(0,_createSvgIcon$7.default)((0,_jsxRuntime$7.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var Image$1={},_interopRequireDefault$6=interopRequireDefaultExports;Object.defineProperty(Image$1,"__esModule",{value:!0});var default_1$6=Image$1.default=void 0,_createSvgIcon$6=_interopRequireDefault$6(requireCreateSvgIcon()),_jsxRuntime$6=jsxRuntimeExports;default_1$6=Image$1.default=(0,_createSvgIcon$6.default)((0,_jsxRuntime$6.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");var Clear={},_interopRequireDefault$5=interopRequireDefaultExports;Object.defineProperty(Clear,"__esModule",{value:!0});var default_1$5=Clear.default=void 0,_createSvgIcon$5=_interopRequireDefault$5(requireCreateSvgIcon()),_jsxRuntime$5=jsxRuntimeExports;default_1$5=Clear.default=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");function SearchDialog(o){const i=useNavigate(),s=useSelector(at=>at.users.searchDialogOpen);useSelector(at=>at.users.searchResults);const[a,et]=reactExports.useState(""),tt=useDispatch(),[rt,nt]=reactExports.useState([]),it=useSelector(at=>at.pages.pagesInView),ot=useMediaQuery("(max-width:850px)");reactExports.useEffect(()=>{nt(it)},[]),reactExports.useEffect(()=>{tt(searchMultipleIndexes({query:a})).then(at=>{checkResult(at,ut=>{const{results:ft}=ut;let mt=ft.map(yt=>{let ht=yt.index;return yt.hits.map(pt=>{let ct={type:ht};return console.log(JSON.stringify(pt)),Object.keys(pt).forEach(gt=>{ct[gt]=pt[gt]}),ct})});nt(mt.flat())},ut=>{})})},[a]);const st=at=>{tt(searchDialogToggle({open:!1})),i(`/${at.type}/${at.objectID}`)},lt=()=>{tt(searchDialogToggle({open:!1}))};return jsxRuntimeExports.jsxs(Dialog$1,{fullScreen:ot,className:"search-dialog",open:s,children:[jsxRuntimeExports.jsx("div",{className:"header",children:jsxRuntimeExports.jsx(default_1$5,{onClick:lt})}),jsxRuntimeExports.jsx(TextField$1,{value:a,style:{width:"98%",margin:"auto"},onChange:at=>debounce(et(at.currentTarget.value),10),placeholder:"Search..."}),jsxRuntimeExports.jsx(InfiniteScroll,{className:"scroll",dataLength:rt.length,next:()=>{},hasMore:!1,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"Nothing Found"})}),children:rt.map((at,ut)=>{if(at.title)return jsxRuntimeExports.jsx("div",{onClick:()=>st(at),className:"search-return",children:jsxRuntimeExports.jsx("h6",{className:"text",children:at.title})},ut);if(at.name)return jsxRuntimeExports.jsx("div",{onClick:()=>st(at),className:"search-return",children:jsxRuntimeExports.jsx("h6",{className:"text",children:at.name})},ut);if(at.username)return jsxRuntimeExports.jsx("div",{onClick:()=>st(at),className:"search-return",children:jsxRuntimeExports.jsx("h6",{className:"text",children:at.username})},ut)})})]})}const PageName={home:"Home",about:"About",create:"Create",discovery:"Discovery",login:"Log In",search:"Search"},pages=[PageName.home,PageName.about,PageName.discovery,PageName.search,PageName.create,PageName.login];function NavbarContainer(o){const i=useDispatch(),s=useNavigate(),[a,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(null),[nt,it]=reactExports.useState(null),[ot,st]=reactExports.useState(null),[lt,at]=reactExports.useState(null),[ut,ft]=reactExports.useState(null),mt=React$2.useRef(),yt=React$2.useRef(),ht=()=>{i(searchDialogToggle({open:!0}))},pt=Ct=>{Ct===PageName.login?s("/login"):Ct===PageName.home?s("/"):Ct===PageName.discovery?s("/discovery"):Ct===PageName.about&&s(Paths.about()),et(null)};reactExports.useState(!1);const[ct,gt]=reactExports.useState(!1),Et=Ct=>{gt(!ct),ft(ut?null:Ct.currentTarget)},bt=()=>{ft(null)},xt=()=>{it(null)},Tt=useSelector(Ct=>Ct.users.currentProfile),wt={profile:"Profile",account:"Account",logout:"Log Out"},It=[wt.profile,wt.account,wt.logout],At=Ct=>{rt(tt?null:Ct.currentTarget)},kt=Ct=>{st(ot?null:Ct.currentTarget)},Vt=Ct=>{et(Ct.currentTarget)},Mt=Ct=>{at(Ct.currentTarget)},Ot=()=>{at(null)},Dt=Ct=>{it(nt?null:Ct.currentTarget)};return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(AppBar$1,{position:"static",style:{backgroundColor:theme.palette.primary.dark},children:jsxRuntimeExports.jsx(Container$1,{children:jsxRuntimeExports.jsxs(Toolbar$1,{disableGutters:!0,children:[jsxRuntimeExports.jsx(Typography$1,{onClick:()=>{s("/")},variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"helvetica",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Pb"}),jsxRuntimeExports.jsxs(Box$1,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[jsxRuntimeExports.jsx(IconButton$1,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:Ct=>Vt(Ct),color:"inherit",children:jsxRuntimeExports.jsx(default_1$9,{})}),jsxRuntimeExports.jsx(Menu$2,{id:"menu-appbar",anchorEl:a,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!a,onClose:pt,sx:{display:{xs:"block",md:"none"}},children:pages.map(Ct=>Ct==PageName.home||Ct==PageName.discovery?jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>pt(Ct),children:jsxRuntimeExports.jsx(Typography$1,{textAlign:"center",children:Ct})},Ct):Ct==PageName.create?Tt?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(MenuItem$1,{onClick:St=>At(St),children:jsxRuntimeExports.jsxs(Typography$1,{textAlign:"center",children:[Ct,tt?jsxRuntimeExports.jsx(default_1$a,{}):jsxRuntimeExports.jsx(default_1$b,{})]})},Ct),jsxRuntimeExports.jsxs(List$1,{style:{display:tt?"":"none"},children:[jsxRuntimeExports.jsxs(ListItemButton$1,{onClick:St=>{kt(St)},sx:{pl:4},children:["Page ",ot?jsxRuntimeExports.jsx(default_1$a,{}):jsxRuntimeExports.jsx(default_1$b,{})]},"page"),jsxRuntimeExports.jsxs(List$1,{style:{display:ot?"":"none"},children:[jsxRuntimeExports.jsx(ListItemButton$1,{onClick:St=>{i(setEditingPage({page:null})),s("/page/text")},sx:{pl:6},children:jsxRuntimeExports.jsx(default_1$7,{})},"page"),jsxRuntimeExports.jsx(ListItemButton$1,{onClick:St=>{i(setEditingPage({page:null})),bt(),s("/page/image")},sx:{pl:6},children:jsxRuntimeExports.jsx(default_1$6,{})},"image"),jsxRuntimeExports.jsx(ListItemButton$1,{sx:{pl:6},onClick:()=>{i(setEditingPage({page:null})),bt(),s("/page/link")},children:jsxRuntimeExports.jsx(default_1$8,{})})]}),jsxRuntimeExports.jsx(ListItemButton$1,{onClick:()=>{bt(),s("/book/new")},sx:{pl:4},children:jsxRuntimeExports.jsx(ListItemText$1,{primary:"Book"})},"book"),jsxRuntimeExports.jsx(ListItemButton$1,{onClick:()=>{bt(),s("/library/new")},sx:{pl:4},children:jsxRuntimeExports.jsx(ListItemText$1,{primary:"Library"})},"library")]})]},Ct):jsxRuntimeExports.jsx("div",{}):Ct==PageName.login?Tt?jsxRuntimeExports.jsx("div",{}):jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>pt(Ct),children:jsxRuntimeExports.jsx(Typography$1,{textAlign:"center",children:Ct})},Ct):Ct==PageName.search?jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>ht(),children:jsxRuntimeExports.jsx(Typography$1,{textAlign:"center",children:Ct})},Ct):jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>pt(Ct),children:jsxRuntimeExports.jsx(Typography$1,{textAlign:"center",children:Ct})},Ct))})]}),jsxRuntimeExports.jsx(Typography$1,{variant:"h5",noWrap:!0,component:"a",href:"#app-bar-with-responsive-menu",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"helvetica",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Pb"}),jsxRuntimeExports.jsx(Box$1,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:pages.map(Ct=>Ct==PageName.create?Tt?jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Button$4,{ref:mt,"aria-controls":"simple-menu","aria-haspopup":"true",sx:{my:2,color:"white",display:"block"},onClick:St=>{debounce(Et(St),5)},children:["Create ",ut?jsxRuntimeExports.jsx(default_1$b,{}):jsxRuntimeExports.jsx(default_1$a,{})]},Ct),jsxRuntimeExports.jsxs(Menu$2,{sx:{mt:"45px"},id:"simple-menu",anchorEl:ut,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!ut,onClose:bt,children:[jsxRuntimeExports.jsxs(MenuItem$1,{ref:yt,onClick:St=>{debounce(Dt(St),5)},children:["Page ",nt?jsxRuntimeExports.jsx(default_1$b,{}):jsxRuntimeExports.jsx(default_1$a,{})]}),jsxRuntimeExports.jsxs(List$1,{style:{display:ut&&nt?"":"none"},onClose:xt,children:[jsxRuntimeExports.jsx(ListItemButton$1,{sx:{pl:4},onClick:()=>{bt(),s("/page/text")},children:jsxRuntimeExports.jsx(default_1$7,{})}),jsxRuntimeExports.jsx(ListItemButton$1,{sx:{pl:4},onClick:()=>{bt(),s("/page/image")},children:jsxRuntimeExports.jsx(default_1$6,{})}),jsxRuntimeExports.jsx(ListItemButton$1,{sx:{pl:4},onClick:()=>{i(setEditingPage({page:null})),bt(),s("/page/link")},children:jsxRuntimeExports.jsx(default_1$8,{})})]}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{bt(),s("/book/new")},children:"Book"}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{bt(),s("/library/new")},children:"Library"})]})]}):jsxRuntimeExports.jsx("div",{}):Ct==PageName.search?jsxRuntimeExports.jsx(Button$4,{onClick:()=>ht(),sx:{my:2,color:"white",display:"block"},children:Ct},Ct):Tt&&Ct==PageName.login?jsxRuntimeExports.jsx("div",{}):jsxRuntimeExports.jsx(Button$4,{onClick:()=>pt(Ct),sx:{my:2,color:"white",display:"block"},children:Ct},Ct))}),Tt?jsxRuntimeExports.jsxs(Box$1,{style:{display:Tt?"":"none"},sx:{flexGrow:0},children:[jsxRuntimeExports.jsx(Tooltip$1,{title:"Open settings",children:jsxRuntimeExports.jsx(IconButton$1,{onClick:Mt,sx:{p:0},children:jsxRuntimeExports.jsx(Avatar$1,{alt:`${Tt.username}`,src:Tt.profilePicture})})}),jsxRuntimeExports.jsx(Menu$2,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:lt,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!lt,onClose:Ot,children:It.map(Ct=>jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{Ct==wt.profile?s("/profile/home"):Ct==wt.logout?i(signOutAction()):Ct==wt.account&&s("/profile/edit"),Ot()},children:jsxRuntimeExports.jsx(Typography$1,{textAlign:"center",children:Ct})},Ct))})]}):jsxRuntimeExports.jsx("div",{})]})})})})}class ErrorBoundary extends React$2.Component{constructor(i){super(i),this.state={hasError:!1}}static getDerivedStateFromError(i){return{hasError:!0}}componentDidCatch(i,s){}render(){return this.state.hasError?this.props.fallback:this.props.children}}var reactResponsive={exports:{}};(function(o,i){(function(a,et){o.exports=et(reactExports)})(commonjsGlobal$1,s=>(()=>{var a={"./node_modules/css-mediaquery/index.js":(nt,it)=>{it.match=ft,it.parse=mt;var ot=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,st=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,lt=/^(?:(min|max)-)?(.+)/,at=/(em|rem|px|cm|mm|in|pt|pc)?$/,ut=/(dpi|dpcm|dppx)?$/;function ft(ct,gt){return mt(ct).some(function(Et){var bt=Et.inverse,xt=Et.type==="all"||gt.type===Et.type;if(xt&&bt||!(xt||bt))return!1;var Tt=Et.expressions.every(function(wt){var It=wt.feature,At=wt.modifier,kt=wt.value,Vt=gt[It];if(!Vt)return!1;switch(It){case"orientation":case"scan":return Vt.toLowerCase()===kt.toLowerCase();case"width":case"height":case"device-width":case"device-height":kt=pt(kt),Vt=pt(Vt);break;case"resolution":kt=ht(kt),Vt=ht(Vt);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":kt=yt(kt),Vt=yt(Vt);break;case"grid":case"color":case"color-index":case"monochrome":kt=parseInt(kt,10)||1,Vt=parseInt(Vt,10)||0;break}switch(At){case"min":return Vt>=kt;case"max":return Vt<=kt;default:return Vt===kt}});return Tt&&!bt||!Tt&&bt})}function mt(ct){return ct.split(",").map(function(gt){gt=gt.trim();var Et=gt.match(ot),bt=Et[1],xt=Et[2],Tt=Et[3]||"",wt={};return wt.inverse=!!bt&&bt.toLowerCase()==="not",wt.type=xt?xt.toLowerCase():"all",Tt=Tt.match(/\([^\)]+\)/g)||[],wt.expressions=Tt.map(function(It){var At=It.match(st),kt=At[1].toLowerCase().match(lt);return{modifier:kt[1],feature:kt[2],value:At[2]}}),wt})}function yt(ct){var gt=Number(ct),Et;return gt||(Et=ct.match(/^(\d+)\s*\/\s*(\d+)$/),gt=Et[1]/Et[2]),gt}function ht(ct){var gt=parseFloat(ct),Et=String(ct).match(ut)[1];switch(Et){case"dpcm":return gt/2.54;case"dppx":return gt*96;default:return gt}}function pt(ct){var gt=parseFloat(ct),Et=String(ct).match(at)[1];switch(Et){case"em":return gt*16;case"rem":return gt*16;case"cm":return gt*96/2.54;case"mm":return gt*96/2.54/10;case"in":return gt*96;case"pt":return gt*72;case"pc":return gt*72/12;default:return gt}}},"./node_modules/hyphenate-style-name/index.js":(nt,it,ot)=>{ot.r(it),ot.d(it,{default:()=>mt});var st=/[A-Z]/g,lt=/^ms-/,at={};function ut(yt){return"-"+yt.toLowerCase()}function ft(yt){if(at.hasOwnProperty(yt))return at[yt];var ht=yt.replace(st,ut);return at[yt]=lt.test(ht)?"-"+ht:ht}const mt=ft},"./node_modules/matchmediaquery/index.js":(nt,it,ot)=>{var st=ot("./node_modules/css-mediaquery/index.js").match,lt=typeof window<"u"?window.matchMedia:null;function at(ft,mt,yt){var ht=this;if(lt&&!yt){var pt=lt.call(window,ft);this.matches=pt.matches,this.media=pt.media,pt.addListener(Et)}else this.matches=st(ft,mt),this.media=ft;this.addListener=ct,this.removeListener=gt,this.dispose=bt;function ct(xt){pt&&pt.addListener(xt)}function gt(xt){pt&&pt.removeListener(xt)}function Et(xt){ht.matches=xt.matches,ht.media=xt.media}function bt(){pt&&pt.removeListener(Et)}}function ut(ft,mt,yt){return new at(ft,mt,yt)}nt.exports=ut},"./node_modules/object-assign/index.js":nt=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var it=Object.getOwnPropertySymbols,ot=Object.prototype.hasOwnProperty,st=Object.prototype.propertyIsEnumerable;function lt(ut){if(ut==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ut)}function at(){try{if(!Object.assign)return!1;var ut=new String("abc");if(ut[5]="de",Object.getOwnPropertyNames(ut)[0]==="5")return!1;for(var ft={},mt=0;mt<10;mt++)ft["_"+String.fromCharCode(mt)]=mt;var yt=Object.getOwnPropertyNames(ft).map(function(pt){return ft[pt]});if(yt.join("")!=="0123456789")return!1;var ht={};return"abcdefghijklmnopqrst".split("").forEach(function(pt){ht[pt]=pt}),Object.keys(Object.assign({},ht)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}nt.exports=at()?Object.assign:function(ut,ft){for(var mt,yt=lt(ut),ht,pt=1;pt<arguments.length;pt++){mt=Object(arguments[pt]);for(var ct in mt)ot.call(mt,ct)&&(yt[ct]=mt[ct]);if(it){ht=it(mt);for(var gt=0;gt<ht.length;gt++)st.call(mt,ht[gt])&&(yt[ht[gt]]=mt[ht[gt]])}}return yt}},"./node_modules/prop-types/checkPropTypes.js":(nt,it,ot)=>{var st=function(){};{var lt=ot("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),at={},ut=ot("./node_modules/prop-types/lib/has.js");st=function(mt){var yt="Warning: "+mt;typeof console<"u"&&console.error(yt);try{throw new Error(yt)}catch{}}}function ft(mt,yt,ht,pt,ct){for(var gt in mt)if(ut(mt,gt)){var Et;try{if(typeof mt[gt]!="function"){var bt=Error((pt||"React class")+": "+ht+" type `"+gt+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof mt[gt]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw bt.name="Invariant Violation",bt}Et=mt[gt](yt,gt,pt,ht,null,lt)}catch(Tt){Et=Tt}if(Et&&!(Et instanceof Error)&&st((pt||"React class")+": type specification of "+ht+" `"+gt+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof Et+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),Et instanceof Error&&!(Et.message in at)){at[Et.message]=!0;var xt=ct?ct():"";st("Failed "+ht+" type: "+Et.message+(xt??""))}}}ft.resetWarningCache=function(){at={}},nt.exports=ft},"./node_modules/prop-types/factoryWithTypeCheckers.js":(nt,it,ot)=>{var st=ot("./node_modules/react-is/index.js"),lt=ot("./node_modules/object-assign/index.js"),at=ot("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),ut=ot("./node_modules/prop-types/lib/has.js"),ft=ot("./node_modules/prop-types/checkPropTypes.js"),mt=function(){};mt=function(ht){var pt="Warning: "+ht;typeof console<"u"&&console.error(pt);try{throw new Error(pt)}catch{}};function yt(){return null}nt.exports=function(ht,pt){var ct=typeof Symbol=="function"&&Symbol.iterator,gt="@@iterator";function Et(Xt){var er=Xt&&(ct&&Xt[ct]||Xt[gt]);if(typeof er=="function")return er}var bt="<<anonymous>>",xt={array:At("array"),bigint:At("bigint"),bool:At("boolean"),func:At("function"),number:At("number"),object:At("object"),string:At("string"),symbol:At("symbol"),any:kt(),arrayOf:Vt,element:Mt(),elementType:Ot(),instanceOf:Dt,node:Lt(),objectOf:St,oneOf:Ct,oneOfType:$t,shape:jt,exact:Ft};function Tt(Xt,er){return Xt===er?Xt!==0||1/Xt===1/er:Xt!==Xt&&er!==er}function wt(Xt,er){this.message=Xt,this.data=er&&typeof er=="object"?er:{},this.stack=""}wt.prototype=Error.prototype;function It(Xt){var er={},sr=0;function ur(yr,Ar,Er,lr,dr,pr,ar){if(lr=lr||bt,pr=pr||Er,ar!==at){if(pt){var mr=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw mr.name="Invariant Violation",mr}else if(typeof console<"u"){var wr=lr+":"+Er;!er[wr]&&sr<3&&(mt("You are manually calling a React.PropTypes validation function for the `"+pr+"` prop on `"+lr+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),er[wr]=!0,sr++)}}return Ar[Er]==null?yr?Ar[Er]===null?new wt("The "+dr+" `"+pr+"` is marked as required "+("in `"+lr+"`, but its value is `null`.")):new wt("The "+dr+" `"+pr+"` is marked as required in "+("`"+lr+"`, but its value is `undefined`.")):null:Xt(Ar,Er,lr,dr,pr)}var nr=ur.bind(null,!1);return nr.isRequired=ur.bind(null,!0),nr}function At(Xt){function er(sr,ur,nr,yr,Ar,Er){var lr=sr[ur],dr=Bt(lr);if(dr!==Xt){var pr=Wt(lr);return new wt("Invalid "+yr+" `"+Ar+"` of type "+("`"+pr+"` supplied to `"+nr+"`, expected ")+("`"+Xt+"`."),{expectedType:Xt})}return null}return It(er)}function kt(){return It(yt)}function Vt(Xt){function er(sr,ur,nr,yr,Ar){if(typeof Xt!="function")return new wt("Property `"+Ar+"` of component `"+nr+"` has invalid PropType notation inside arrayOf.");var Er=sr[ur];if(!Array.isArray(Er)){var lr=Bt(Er);return new wt("Invalid "+yr+" `"+Ar+"` of type "+("`"+lr+"` supplied to `"+nr+"`, expected an array."))}for(var dr=0;dr<Er.length;dr++){var pr=Xt(Er,dr,nr,yr,Ar+"["+dr+"]",at);if(pr instanceof Error)return pr}return null}return It(er)}function Mt(){function Xt(er,sr,ur,nr,yr){var Ar=er[sr];if(!ht(Ar)){var Er=Bt(Ar);return new wt("Invalid "+nr+" `"+yr+"` of type "+("`"+Er+"` supplied to `"+ur+"`, expected a single ReactElement."))}return null}return It(Xt)}function Ot(){function Xt(er,sr,ur,nr,yr){var Ar=er[sr];if(!st.isValidElementType(Ar)){var Er=Bt(Ar);return new wt("Invalid "+nr+" `"+yr+"` of type "+("`"+Er+"` supplied to `"+ur+"`, expected a single ReactElement type."))}return null}return It(Xt)}function Dt(Xt){function er(sr,ur,nr,yr,Ar){if(!(sr[ur]instanceof Xt)){var Er=Xt.name||bt,lr=Qt(sr[ur]);return new wt("Invalid "+yr+" `"+Ar+"` of type "+("`"+lr+"` supplied to `"+nr+"`, expected ")+("instance of `"+Er+"`."))}return null}return It(er)}function Ct(Xt){if(!Array.isArray(Xt))return arguments.length>1?mt("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):mt("Invalid argument supplied to oneOf, expected an array."),yt;function er(sr,ur,nr,yr,Ar){for(var Er=sr[ur],lr=0;lr<Xt.length;lr++)if(Tt(Er,Xt[lr]))return null;var dr=JSON.stringify(Xt,function(ar,mr){var wr=Wt(mr);return wr==="symbol"?String(mr):mr});return new wt("Invalid "+yr+" `"+Ar+"` of value `"+String(Er)+"` "+("supplied to `"+nr+"`, expected one of "+dr+"."))}return It(er)}function St(Xt){function er(sr,ur,nr,yr,Ar){if(typeof Xt!="function")return new wt("Property `"+Ar+"` of component `"+nr+"` has invalid PropType notation inside objectOf.");var Er=sr[ur],lr=Bt(Er);if(lr!=="object")return new wt("Invalid "+yr+" `"+Ar+"` of type "+("`"+lr+"` supplied to `"+nr+"`, expected an object."));for(var dr in Er)if(ut(Er,dr)){var pr=Xt(Er,dr,nr,yr,Ar+"."+dr,at);if(pr instanceof Error)return pr}return null}return It(er)}function $t(Xt){if(!Array.isArray(Xt))return mt("Invalid argument supplied to oneOfType, expected an instance of array."),yt;for(var er=0;er<Xt.length;er++){var sr=Xt[er];if(typeof sr!="function")return mt("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+Kt(sr)+" at index "+er+"."),yt}function ur(nr,yr,Ar,Er,lr){for(var dr=[],pr=0;pr<Xt.length;pr++){var ar=Xt[pr],mr=ar(nr,yr,Ar,Er,lr,at);if(mr==null)return null;mr.data&&ut(mr.data,"expectedType")&&dr.push(mr.data.expectedType)}var wr=dr.length>0?", expected one of type ["+dr.join(", ")+"]":"";return new wt("Invalid "+Er+" `"+lr+"` supplied to "+("`"+Ar+"`"+wr+"."))}return It(ur)}function Lt(){function Xt(er,sr,ur,nr,yr){return zt(er[sr])?null:new wt("Invalid "+nr+" `"+yr+"` supplied to "+("`"+ur+"`, expected a ReactNode."))}return It(Xt)}function Rt(Xt,er,sr,ur,nr){return new wt((Xt||"React class")+": "+er+" type `"+sr+"."+ur+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+nr+"`.")}function jt(Xt){function er(sr,ur,nr,yr,Ar){var Er=sr[ur],lr=Bt(Er);if(lr!=="object")return new wt("Invalid "+yr+" `"+Ar+"` of type `"+lr+"` "+("supplied to `"+nr+"`, expected `object`."));for(var dr in Xt){var pr=Xt[dr];if(typeof pr!="function")return Rt(nr,yr,Ar,dr,Wt(pr));var ar=pr(Er,dr,nr,yr,Ar+"."+dr,at);if(ar)return ar}return null}return It(er)}function Ft(Xt){function er(sr,ur,nr,yr,Ar){var Er=sr[ur],lr=Bt(Er);if(lr!=="object")return new wt("Invalid "+yr+" `"+Ar+"` of type `"+lr+"` "+("supplied to `"+nr+"`, expected `object`."));var dr=lt({},sr[ur],Xt);for(var pr in dr){var ar=Xt[pr];if(ut(Xt,pr)&&typeof ar!="function")return Rt(nr,yr,Ar,pr,Wt(ar));if(!ar)return new wt("Invalid "+yr+" `"+Ar+"` key `"+pr+"` supplied to `"+nr+"`.\nBad object: "+JSON.stringify(sr[ur],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(Xt),null,"  "));var mr=ar(Er,pr,nr,yr,Ar+"."+pr,at);if(mr)return mr}return null}return It(er)}function zt(Xt){switch(typeof Xt){case"number":case"string":case"undefined":return!0;case"boolean":return!Xt;case"object":if(Array.isArray(Xt))return Xt.every(zt);if(Xt===null||ht(Xt))return!0;var er=Et(Xt);if(er){var sr=er.call(Xt),ur;if(er!==Xt.entries){for(;!(ur=sr.next()).done;)if(!zt(ur.value))return!1}else for(;!(ur=sr.next()).done;){var nr=ur.value;if(nr&&!zt(nr[1]))return!1}}else return!1;return!0;default:return!1}}function Gt(Xt,er){return Xt==="symbol"?!0:er?er["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&er instanceof Symbol:!1}function Bt(Xt){var er=typeof Xt;return Array.isArray(Xt)?"array":Xt instanceof RegExp?"object":Gt(er,Xt)?"symbol":er}function Wt(Xt){if(typeof Xt>"u"||Xt===null)return""+Xt;var er=Bt(Xt);if(er==="object"){if(Xt instanceof Date)return"date";if(Xt instanceof RegExp)return"regexp"}return er}function Kt(Xt){var er=Wt(Xt);switch(er){case"array":case"object":return"an "+er;case"boolean":case"date":case"regexp":return"a "+er;default:return er}}function Qt(Xt){return!Xt.constructor||!Xt.constructor.name?bt:Xt.constructor.name}return xt.checkPropTypes=ft,xt.resetWarningCache=ft.resetWarningCache,xt.PropTypes=xt,xt}},"./node_modules/prop-types/index.js":(nt,it,ot)=>{{var st=ot("./node_modules/react-is/index.js"),lt=!0;nt.exports=ot("./node_modules/prop-types/factoryWithTypeCheckers.js")(st.isElement,lt)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":nt=>{var it="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";nt.exports=it},"./node_modules/prop-types/lib/has.js":nt=>{nt.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(nt,it)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var ot=typeof Symbol=="function"&&Symbol.for,st=ot?Symbol.for("react.element"):60103,lt=ot?Symbol.for("react.portal"):60106,at=ot?Symbol.for("react.fragment"):60107,ut=ot?Symbol.for("react.strict_mode"):60108,ft=ot?Symbol.for("react.profiler"):60114,mt=ot?Symbol.for("react.provider"):60109,yt=ot?Symbol.for("react.context"):60110,ht=ot?Symbol.for("react.async_mode"):60111,pt=ot?Symbol.for("react.concurrent_mode"):60111,ct=ot?Symbol.for("react.forward_ref"):60112,gt=ot?Symbol.for("react.suspense"):60113,Et=ot?Symbol.for("react.suspense_list"):60120,bt=ot?Symbol.for("react.memo"):60115,xt=ot?Symbol.for("react.lazy"):60116,Tt=ot?Symbol.for("react.block"):60121,wt=ot?Symbol.for("react.fundamental"):60117,It=ot?Symbol.for("react.responder"):60118,At=ot?Symbol.for("react.scope"):60119;function kt(ar){return typeof ar=="string"||typeof ar=="function"||ar===at||ar===pt||ar===ft||ar===ut||ar===gt||ar===Et||typeof ar=="object"&&ar!==null&&(ar.$$typeof===xt||ar.$$typeof===bt||ar.$$typeof===mt||ar.$$typeof===yt||ar.$$typeof===ct||ar.$$typeof===wt||ar.$$typeof===It||ar.$$typeof===At||ar.$$typeof===Tt)}function Vt(ar){if(typeof ar=="object"&&ar!==null){var mr=ar.$$typeof;switch(mr){case st:var wr=ar.type;switch(wr){case ht:case pt:case at:case ft:case ut:case gt:return wr;default:var Sr=wr&&wr.$$typeof;switch(Sr){case yt:case ct:case xt:case bt:case mt:return Sr;default:return mr}}case lt:return mr}}}var Mt=ht,Ot=pt,Dt=yt,Ct=mt,St=st,$t=ct,Lt=at,Rt=xt,jt=bt,Ft=lt,zt=ft,Gt=ut,Bt=gt,Wt=!1;function Kt(ar){return Wt||(Wt=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),Qt(ar)||Vt(ar)===ht}function Qt(ar){return Vt(ar)===pt}function Xt(ar){return Vt(ar)===yt}function er(ar){return Vt(ar)===mt}function sr(ar){return typeof ar=="object"&&ar!==null&&ar.$$typeof===st}function ur(ar){return Vt(ar)===ct}function nr(ar){return Vt(ar)===at}function yr(ar){return Vt(ar)===xt}function Ar(ar){return Vt(ar)===bt}function Er(ar){return Vt(ar)===lt}function lr(ar){return Vt(ar)===ft}function dr(ar){return Vt(ar)===ut}function pr(ar){return Vt(ar)===gt}it.AsyncMode=Mt,it.ConcurrentMode=Ot,it.ContextConsumer=Dt,it.ContextProvider=Ct,it.Element=St,it.ForwardRef=$t,it.Fragment=Lt,it.Lazy=Rt,it.Memo=jt,it.Portal=Ft,it.Profiler=zt,it.StrictMode=Gt,it.Suspense=Bt,it.isAsyncMode=Kt,it.isConcurrentMode=Qt,it.isContextConsumer=Xt,it.isContextProvider=er,it.isElement=sr,it.isForwardRef=ur,it.isFragment=nr,it.isLazy=yr,it.isMemo=Ar,it.isPortal=Er,it.isProfiler=lr,it.isStrictMode=dr,it.isSuspense=pr,it.isValidElementType=kt,it.typeOf=Vt})()},"./node_modules/react-is/index.js":(nt,it,ot)=>{nt.exports=ot("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(nt,it,ot)=>{ot.r(it),ot.d(it,{shallowEqualArrays:()=>lt,shallowEqualObjects:()=>st});function st(at,ut){if(at===ut)return!0;if(!at||!ut)return!1;var ft=Object.keys(at),mt=Object.keys(ut),yt=ft.length;if(mt.length!==yt)return!1;for(var ht=0;ht<yt;ht++){var pt=ft[ht];if(at[pt]!==ut[pt]||!Object.prototype.hasOwnProperty.call(ut,pt))return!1}return!0}function lt(at,ut){if(at===ut)return!0;if(!at||!ut)return!1;var ft=at.length;if(ut.length!==ft)return!1;for(var mt=0;mt<ft;mt++)if(at[mt]!==ut[mt])return!1;return!0}},"./src/Component.ts":function(nt,it,ot){var st=this&&this.__rest||function(ft,mt){var yt={};for(var ht in ft)Object.prototype.hasOwnProperty.call(ft,ht)&&mt.indexOf(ht)<0&&(yt[ht]=ft[ht]);if(ft!=null&&typeof Object.getOwnPropertySymbols=="function")for(var pt=0,ht=Object.getOwnPropertySymbols(ft);pt<ht.length;pt++)mt.indexOf(ht[pt])<0&&Object.prototype.propertyIsEnumerable.call(ft,ht[pt])&&(yt[ht[pt]]=ft[ht[pt]]);return yt},lt=this&&this.__importDefault||function(ft){return ft&&ft.__esModule?ft:{default:ft}};Object.defineProperty(it,"__esModule",{value:!0});var at=lt(ot("./src/useMediaQuery.ts")),ut=function(ft){var mt=ft.children,yt=ft.device,ht=ft.onChange,pt=st(ft,["children","device","onChange"]),ct=(0,at.default)(pt,yt,ht);return typeof mt=="function"?mt(ct):ct?mt:null};it.default=ut},"./src/Context.ts":(nt,it,ot)=>{Object.defineProperty(it,"__esModule",{value:!0});var st=ot("react"),lt=(0,st.createContext)(void 0);it.default=lt},"./src/index.ts":function(nt,it,ot){var st=this&&this.__importDefault||function(mt){return mt&&mt.__esModule?mt:{default:mt}};Object.defineProperty(it,"__esModule",{value:!0}),it.Context=it.toQuery=it.useMediaQuery=it.default=void 0;var lt=st(ot("./src/useMediaQuery.ts"));it.useMediaQuery=lt.default;var at=st(ot("./src/Component.ts"));it.default=at.default;var ut=st(ot("./src/toQuery.ts"));it.toQuery=ut.default;var ft=st(ot("./src/Context.ts"));it.Context=ft.default},"./src/mediaQuery.ts":function(nt,it,ot){var st=this&&this.__assign||function(){return st=Object.assign||function(gt){for(var Et,bt=1,xt=arguments.length;bt<xt;bt++){Et=arguments[bt];for(var Tt in Et)Object.prototype.hasOwnProperty.call(Et,Tt)&&(gt[Tt]=Et[Tt])}return gt},st.apply(this,arguments)},lt=this&&this.__rest||function(gt,Et){var bt={};for(var xt in gt)Object.prototype.hasOwnProperty.call(gt,xt)&&Et.indexOf(xt)<0&&(bt[xt]=gt[xt]);if(gt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var Tt=0,xt=Object.getOwnPropertySymbols(gt);Tt<xt.length;Tt++)Et.indexOf(xt[Tt])<0&&Object.prototype.propertyIsEnumerable.call(gt,xt[Tt])&&(bt[xt[Tt]]=gt[xt[Tt]]);return bt},at=this&&this.__importDefault||function(gt){return gt&&gt.__esModule?gt:{default:gt}};Object.defineProperty(it,"__esModule",{value:!0});var ut=at(ot("./node_modules/prop-types/index.js")),ft=ut.default.oneOfType([ut.default.string,ut.default.number]),mt={all:ut.default.bool,grid:ut.default.bool,aural:ut.default.bool,braille:ut.default.bool,handheld:ut.default.bool,print:ut.default.bool,projection:ut.default.bool,screen:ut.default.bool,tty:ut.default.bool,tv:ut.default.bool,embossed:ut.default.bool},yt={orientation:ut.default.oneOf(["portrait","landscape"]),scan:ut.default.oneOf(["progressive","interlace"]),aspectRatio:ut.default.string,deviceAspectRatio:ut.default.string,height:ft,deviceHeight:ft,width:ft,deviceWidth:ft,color:ut.default.bool,colorIndex:ut.default.bool,monochrome:ut.default.bool,resolution:ft,type:Object.keys(mt)};yt.type;var ht=lt(yt,["type"]),pt=st({minAspectRatio:ut.default.string,maxAspectRatio:ut.default.string,minDeviceAspectRatio:ut.default.string,maxDeviceAspectRatio:ut.default.string,minHeight:ft,maxHeight:ft,minDeviceHeight:ft,maxDeviceHeight:ft,minWidth:ft,maxWidth:ft,minDeviceWidth:ft,maxDeviceWidth:ft,minColor:ut.default.number,maxColor:ut.default.number,minColorIndex:ut.default.number,maxColorIndex:ut.default.number,minMonochrome:ut.default.number,maxMonochrome:ut.default.number,minResolution:ft,maxResolution:ft},ht),ct=st(st({},mt),pt);it.default={all:ct,types:mt,matchers:yt,features:pt}},"./src/toQuery.ts":function(nt,it,ot){var st=this&&this.__importDefault||function(ht){return ht&&ht.__esModule?ht:{default:ht}};Object.defineProperty(it,"__esModule",{value:!0});var lt=st(ot("./node_modules/hyphenate-style-name/index.js")),at=st(ot("./src/mediaQuery.ts")),ut=function(ht){return"not ".concat(ht)},ft=function(ht,pt){var ct=(0,lt.default)(ht);return typeof pt=="number"&&(pt="".concat(pt,"px")),pt===!0?ct:pt===!1?ut(ct):"(".concat(ct,": ").concat(pt,")")},mt=function(ht){return ht.join(" and ")},yt=function(ht){var pt=[];return Object.keys(at.default.all).forEach(function(ct){var gt=ht[ct];gt!=null&&pt.push(ft(ct,gt))}),mt(pt)};it.default=yt},"./src/useMediaQuery.ts":function(nt,it,ot){var st=this&&this.__importDefault||function(wt){return wt&&wt.__esModule?wt:{default:wt}};Object.defineProperty(it,"__esModule",{value:!0});var lt=ot("react"),at=st(ot("./node_modules/matchmediaquery/index.js")),ut=st(ot("./node_modules/hyphenate-style-name/index.js")),ft=ot("./node_modules/shallow-equal/dist/index.esm.js"),mt=st(ot("./src/toQuery.ts")),yt=st(ot("./src/Context.ts")),ht=function(wt){return wt.query||(0,mt.default)(wt)},pt=function(wt){if(wt){var It=Object.keys(wt);return It.reduce(function(At,kt){return At[(0,ut.default)(kt)]=wt[kt],At},{})}},ct=function(){var wt=(0,lt.useRef)(!1);return(0,lt.useEffect)(function(){wt.current=!0},[]),wt.current},gt=function(wt){var It=(0,lt.useContext)(yt.default),At=function(){return pt(wt)||pt(It)},kt=(0,lt.useState)(At),Vt=kt[0],Mt=kt[1];return(0,lt.useEffect)(function(){var Ot=At();(0,ft.shallowEqualObjects)(Vt,Ot)||Mt(Ot)},[wt,It]),Vt},Et=function(wt){var It=function(){return ht(wt)},At=(0,lt.useState)(It),kt=At[0],Vt=At[1];return(0,lt.useEffect)(function(){var Mt=It();kt!==Mt&&Vt(Mt)},[wt]),kt},bt=function(wt,It){var At=function(){return(0,at.default)(wt,It||{},!!It)},kt=(0,lt.useState)(At),Vt=kt[0],Mt=kt[1],Ot=ct();return(0,lt.useEffect)(function(){if(Ot){var Dt=At();return Mt(Dt),function(){Dt&&Dt.dispose()}}},[wt,It]),Vt},xt=function(wt){var It=(0,lt.useState)(wt.matches),At=It[0],kt=It[1];return(0,lt.useEffect)(function(){var Vt=function(Mt){kt(Mt.matches)};return wt.addListener(Vt),kt(wt.matches),function(){wt.removeListener(Vt)}},[wt]),At},Tt=function(wt,It,At){var kt=gt(It),Vt=Et(wt);if(!Vt)throw new Error("Invalid or missing MediaQuery!");var Mt=bt(Vt,kt),Ot=xt(Mt),Dt=ct();return(0,lt.useEffect)(function(){Dt&&At&&At(Ot)},[Ot]),(0,lt.useEffect)(function(){return function(){Mt&&Mt.dispose()}},[]),Ot};it.default=Tt},react:nt=>{nt.exports=s}},et={};function tt(nt){var it=et[nt];if(it!==void 0)return it.exports;var ot=et[nt]={exports:{}};return a[nt].call(ot.exports,ot,ot.exports,tt),ot.exports}tt.d=(nt,it)=>{for(var ot in it)tt.o(it,ot)&&!tt.o(nt,ot)&&Object.defineProperty(nt,ot,{enumerable:!0,get:it[ot]})},tt.o=(nt,it)=>Object.prototype.hasOwnProperty.call(nt,it),tt.r=nt=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(nt,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(nt,"__esModule",{value:!0})};var rt=tt("./src/index.ts");return rt})())})(reactResponsive);var reactResponsiveExports=reactResponsive.exports;const MediaQuery=getDefaultExportFromCjs(reactResponsiveExports);function BookListItem({book:o}){const i=useNavigate();reactExports.useState(null),BookListItem.propTypes={book:PropTypes.object.isRequired};const s=()=>{i(Paths.book.createRoute(o.id))};return jsxRuntimeExports.jsxs("div",{onClick:()=>s(),className:"book-list-item",children:[jsxRuntimeExports.jsx("h6",{className:"title",children:o.title}),jsxRuntimeExports.jsx("p",{className:"purpose",children:o.purpose})]})}function uuidv4(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,o=>(o^crypto.getRandomValues(new Uint8Array(1))[0]&15>>o/4).toString(16))}function DiscoveryContainer(o){const i=useNavigate(),s=useDispatch(),a=[...useSelector(ft=>ft.books.booksInView)].sort((ft,mt)=>mt.created-ft.created),et=useSelector(ft=>ft.pages.pagesInView),[tt,rt]=reactExports.useState(!1),nt=[...useSelector(ft=>ft.libraries.librariesInView)].sort((ft,mt)=>mt.created-ft.created);reactExports.useEffect(()=>{at(),ut()},[]);const it=ft=>{s(setLibraryInView({library:ft})),i(Paths.library.createRoute(ft.id))},ot=()=>{if(nt!=null)return jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:nt.length,next:ut,hasMore:tt,style:{display:"flex",flexDirections:"row"},children:nt.map(ft=>{const mt=`${ft.id}_${uuidv4()}`;return jsxRuntimeExports.jsxs("div",{onClick:()=>it(ft),className:"item",children:[jsxRuntimeExports.jsx("div",{className:"purpose",children:jsxRuntimeExports.jsx("p",{children:ft.purpose})}),jsxRuntimeExports.jsx("div",{className:"name",children:jsxRuntimeExports.jsxs("h5",{children:[" ",ft.name]})})]},mt)})})},st=()=>{if(a!=null)return jsxRuntimeExports.jsxs("div",{id:"book-list",children:[jsxRuntimeExports.jsx(MediaQuery,{minWidth:"768px",children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:a.length,next:at,hasMore:!1,children:a.map(ft=>{let mt=`${ft.id}_${uuidv4()}`;return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(BookListItem,{book:ft})},mt)})})}),jsxRuntimeExports.jsx(MediaQuery,{maxWidth:"768px",children:jsxRuntimeExports.jsx(InfiniteScroll,{style:{display:"flex",flexDirection:"row"},dataLength:a.length,next:at,hasMore:!1,children:a.map(ft=>{const mt=`${ft.id}_${uuidv4()}`;return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(BookListItem,{book:ft})},mt)})})})]})},lt=()=>{if(et!=null)return jsxRuntimeExports.jsxs("div",{id:"page-list",children:[jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:et.length,next:at,hasMore:!1,children:et.map(ft=>{const mt=`${ft.id}_${uuidv4()}`;return jsxRuntimeExports.jsx("div",{id:mt,children:jsxRuntimeExports.jsx(DashboardItem,{page:ft},ft.id)})})})," "]})},at=()=>{s(getPublicPages()).then(ft=>checkResult(ft,mt=>{},mt=>{window.alert(mt)})),s(getPublicBooks()).then(ft=>checkResult(ft,mt=>{},mt=>{}))},ut=()=>{rt(!0),s(getPublicLibraries()).then(ft=>checkResult(ft,mt=>{rt(!1)},mt=>{}))};return jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsxs("div",{id:"discover",children:[jsxRuntimeExports.jsx("div",{style:{paddingTop:"3em"},children:jsxRuntimeExports.jsx("h1",{children:"Discovery"})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{id:"library-forums",children:[jsxRuntimeExports.jsx("h3",{className:"label",children:"Libraries"}),ot()]}),jsxRuntimeExports.jsxs("div",{id:"forums-list",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"label",children:"Pages"}),lt()]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"label",children:"Books"}),st()]})]})]})]})})}function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$2(o,i){return o===i||o!==o&&i!==i}var eq_1=eq$2,eq$1=eq_1;function assocIndexOf$4(o,i){for(var s=o.length;s--;)if(eq$1(o[s][0],i))return s;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(o){var i=this.__data__,s=assocIndexOf$3(i,o);if(s<0)return!1;var a=i.length-1;return s==a?i.pop():splice.call(i,s,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(o){var i=this.__data__,s=assocIndexOf$2(i,o);return s<0?void 0:i[s][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(o){return assocIndexOf$1(this.__data__,o)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(o,i){var s=this.__data__,a=assocIndexOf(s,o);return a<0?(++this.size,s.push([o,i])):s[a][1]=i,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(o){var i=-1,s=o==null?0:o.length;for(this.clear();++i<s;){var a=o[i];this.set(a[0],a[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(o){var i=this.__data__,s=i.delete(o);return this.size=i.size,s}var _stackDelete=stackDelete$1;function stackGet$1(o){return this.__data__.get(o)}var _stackGet=stackGet$1;function stackHas$1(o){return this.__data__.has(o)}var _stackHas=stackHas$1,freeGlobal$1=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$8=freeGlobal||freeSelf||Function("return this")(),_root=root$8,root$7=_root,Symbol$4=root$7.Symbol,_Symbol=Symbol$4,Symbol$3=_Symbol,objectProto$b=Object.prototype,hasOwnProperty$9=objectProto$b.hasOwnProperty,nativeObjectToString$1=objectProto$b.toString,symToStringTag$1=Symbol$3?Symbol$3.toStringTag:void 0;function getRawTag$1(o){var i=hasOwnProperty$9.call(o,symToStringTag$1),s=o[symToStringTag$1];try{o[symToStringTag$1]=void 0;var a=!0}catch{}var et=nativeObjectToString$1.call(o);return a&&(i?o[symToStringTag$1]=s:delete o[symToStringTag$1]),et}var _getRawTag=getRawTag$1,objectProto$a=Object.prototype,nativeObjectToString=objectProto$a.toString;function objectToString$1(o){return nativeObjectToString.call(o)}var _objectToString=objectToString$1,Symbol$2=_Symbol,getRawTag=_getRawTag,objectToString=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$2?Symbol$2.toStringTag:void 0;function baseGetTag$4(o){return o==null?o===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(o)?getRawTag(o):objectToString(o)}var _baseGetTag=baseGetTag$4;function isObject$2(o){var i=typeof o;return o!=null&&(i=="object"||i=="function")}var isObject_1=isObject$2,baseGetTag$3=_baseGetTag,isObject$1=isObject_1,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$2(o){if(!isObject$1(o))return!1;var i=baseGetTag$3(o);return i==funcTag$1||i==genTag||i==asyncTag||i==proxyTag}var isFunction_1=isFunction$2,root$6=_root,coreJsData$1=root$6["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var o=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return o?"Symbol(src)_1."+o:""}();function isMasked$1(o){return!!maskSrcKey&&maskSrcKey in o}var _isMasked=isMasked$1,funcProto$1=Function.prototype,funcToString$1=funcProto$1.toString;function toSource$2(o){if(o!=null){try{return funcToString$1.call(o)}catch{}try{return o+""}catch{}}return""}var _toSource=toSource$2,isFunction$1=isFunction_1,isMasked=_isMasked,isObject=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto=Function.prototype,objectProto$9=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$8=objectProto$9.hasOwnProperty,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty$8).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(o){if(!isObject(o)||isMasked(o))return!1;var i=isFunction$1(o)?reIsNative:reIsHostCtor;return i.test(toSource$1(o))}var _baseIsNative=baseIsNative$1;function getValue$1(o,i){return o==null?void 0:o[i]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$6(o,i){var s=getValue(o,i);return baseIsNative(s)?s:void 0}var _getNative=getNative$6,getNative$5=_getNative,root$5=_root,Map$4=getNative$5(root$5,"Map"),_Map=Map$4,getNative$4=_getNative,nativeCreate$4=getNative$4(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(o){var i=this.has(o)&&delete this.__data__[o];return this.size-=i?1:0,i}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$8=Object.prototype,hasOwnProperty$7=objectProto$8.hasOwnProperty;function hashGet$1(o){var i=this.__data__;if(nativeCreate$2){var s=i[o];return s===HASH_UNDEFINED$2?void 0:s}return hasOwnProperty$7.call(i,o)?i[o]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$7=Object.prototype,hasOwnProperty$6=objectProto$7.hasOwnProperty;function hashHas$1(o){var i=this.__data__;return nativeCreate$1?i[o]!==void 0:hasOwnProperty$6.call(i,o)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(o,i){var s=this.__data__;return this.size+=this.has(o)?0:1,s[o]=nativeCreate&&i===void 0?HASH_UNDEFINED$1:i,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(o){var i=-1,s=o==null?0:o.length;for(this.clear();++i<s;){var a=o[i];this.set(a[0],a[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(o){var i=typeof o;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?o!=="__proto__":o===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(o,i){var s=o.__data__;return isKeyable(i)?s[typeof i=="string"?"string":"hash"]:s.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(o){var i=getMapData$3(this,o).delete(o);return this.size-=i?1:0,i}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(o){return getMapData$2(this,o).get(o)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(o){return getMapData$1(this,o).has(o)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(o,i){var s=getMapData(this,o),a=s.size;return s.set(o,i),this.size+=s.size==a?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$2(o){var i=-1,s=o==null?0:o.length;for(this.clear();++i<s;){var a=o[i];this.set(a[0],a[1])}}MapCache$2.prototype.clear=mapCacheClear;MapCache$2.prototype.delete=mapCacheDelete;MapCache$2.prototype.get=mapCacheGet;MapCache$2.prototype.has=mapCacheHas;MapCache$2.prototype.set=mapCacheSet;var _MapCache=MapCache$2,ListCache$1=_ListCache,Map$2=_Map,MapCache$1=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(o,i){var s=this.__data__;if(s instanceof ListCache$1){var a=s.__data__;if(!Map$2||a.length<LARGE_ARRAY_SIZE-1)return a.push([o,i]),this.size=++s.size,this;s=this.__data__=new MapCache$1(a)}return s.set(o,i),this.size=s.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$1(o){var i=this.__data__=new ListCache(o);this.size=i.size}Stack$1.prototype.clear=stackClear;Stack$1.prototype.delete=stackDelete;Stack$1.prototype.get=stackGet;Stack$1.prototype.has=stackHas;Stack$1.prototype.set=stackSet;var _Stack=Stack$1,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(o){return this.__data__.set(o,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(o){return this.__data__.has(o)}var _setCacheHas=setCacheHas$1,MapCache=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(o){var i=-1,s=o==null?0:o.length;for(this.__data__=new MapCache;++i<s;)this.add(o[i])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(o,i){for(var s=-1,a=o==null?0:o.length;++s<a;)if(i(o[s],s,o))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(o,i){return o.has(i)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$3=1,COMPARE_UNORDERED_FLAG$1=2;function equalArrays$2(o,i,s,a,et,tt){var rt=s&COMPARE_PARTIAL_FLAG$3,nt=o.length,it=i.length;if(nt!=it&&!(rt&&it>nt))return!1;var ot=tt.get(o),st=tt.get(i);if(ot&&st)return ot==i&&st==o;var lt=-1,at=!0,ut=s&COMPARE_UNORDERED_FLAG$1?new SetCache:void 0;for(tt.set(o,i),tt.set(i,o);++lt<nt;){var ft=o[lt],mt=i[lt];if(a)var yt=rt?a(mt,ft,lt,i,o,tt):a(ft,mt,lt,o,i,tt);if(yt!==void 0){if(yt)continue;at=!1;break}if(ut){if(!arraySome(i,function(ht,pt){if(!cacheHas(ut,pt)&&(ft===ht||et(ft,ht,s,a,tt)))return ut.push(pt)})){at=!1;break}}else if(!(ft===mt||et(ft,mt,s,a,tt))){at=!1;break}}return tt.delete(o),tt.delete(i),at}var _equalArrays=equalArrays$2,root$4=_root,Uint8Array$2=root$4.Uint8Array,_Uint8Array=Uint8Array$2;function mapToArray$1(o){var i=-1,s=Array(o.size);return o.forEach(function(a,et){s[++i]=[et,a]}),s}var _mapToArray=mapToArray$1;function setToArray$1(o){var i=-1,s=Array(o.size);return o.forEach(function(a){s[++i]=a}),s}var _setToArray=setToArray$1,Symbol$1=_Symbol,Uint8Array$1=_Uint8Array,eq=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$2=1,COMPARE_UNORDERED_FLAG=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$2="[object DataView]",symbolProto=Symbol$1?Symbol$1.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag$1(o,i,s,a,et,tt,rt){switch(s){case dataViewTag$2:if(o.byteLength!=i.byteLength||o.byteOffset!=i.byteOffset)return!1;o=o.buffer,i=i.buffer;case arrayBufferTag$1:return!(o.byteLength!=i.byteLength||!tt(new Uint8Array$1(o),new Uint8Array$1(i)));case boolTag$1:case dateTag$1:case numberTag$1:return eq(+o,+i);case errorTag$1:return o.name==i.name&&o.message==i.message;case regexpTag$1:case stringTag$1:return o==i+"";case mapTag$2:var nt=mapToArray;case setTag$2:var it=a&COMPARE_PARTIAL_FLAG$2;if(nt||(nt=setToArray),o.size!=i.size&&!it)return!1;var ot=rt.get(o);if(ot)return ot==i;a|=COMPARE_UNORDERED_FLAG,rt.set(o,i);var st=equalArrays$1(nt(o),nt(i),a,et,tt,rt);return rt.delete(o),st;case symbolTag:if(symbolValueOf)return symbolValueOf.call(o)==symbolValueOf.call(i)}return!1}var _equalByTag=equalByTag$1;function arrayPush$1(o,i){for(var s=-1,a=i.length,et=o.length;++s<a;)o[et+s]=i[s];return o}var _arrayPush=arrayPush$1,isArray$3=Array.isArray,isArray_1=isArray$3,arrayPush=_arrayPush,isArray$2=isArray_1;function baseGetAllKeys$1(o,i,s){var a=i(o);return isArray$2(o)?a:arrayPush(a,s(o))}var _baseGetAllKeys=baseGetAllKeys$1;function arrayFilter$1(o,i){for(var s=-1,a=o==null?0:o.length,et=0,tt=[];++s<a;){var rt=o[s];i(rt,s,o)&&(tt[et++]=rt)}return tt}var _arrayFilter=arrayFilter$1;function stubArray$1(){return[]}var stubArray_1=stubArray$1,arrayFilter=_arrayFilter,stubArray=stubArray_1,objectProto$6=Object.prototype,propertyIsEnumerable$1=objectProto$6.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols$1=nativeGetSymbols?function(o){return o==null?[]:(o=Object(o),arrayFilter(nativeGetSymbols(o),function(i){return propertyIsEnumerable$1.call(o,i)}))}:stubArray,_getSymbols=getSymbols$1;function baseTimes$1(o,i){for(var s=-1,a=Array(o);++s<o;)a[s]=i(s);return a}var _baseTimes=baseTimes$1;function isObjectLike$4(o){return o!=null&&typeof o=="object"}var isObjectLike_1=isObjectLike$4,baseGetTag$2=_baseGetTag,isObjectLike$3=isObjectLike_1,argsTag$2="[object Arguments]";function baseIsArguments$1(o){return isObjectLike$3(o)&&baseGetTag$2(o)==argsTag$2}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$2=isObjectLike_1,objectProto$5=Object.prototype,hasOwnProperty$5=objectProto$5.hasOwnProperty,propertyIsEnumerable=objectProto$5.propertyIsEnumerable,isArguments$1=baseIsArguments(function(){return arguments}())?baseIsArguments:function(o){return isObjectLike$2(o)&&hasOwnProperty$5.call(o,"callee")&&!propertyIsEnumerable.call(o,"callee")},isArguments_1=isArguments$1,isBuffer$2={exports:{}};function stubFalse(){return!1}var stubFalse_1=stubFalse;isBuffer$2.exports;(function(o,i){var s=_root,a=stubFalse_1,et=i&&!i.nodeType&&i,tt=et&&!0&&o&&!o.nodeType&&o,rt=tt&&tt.exports===et,nt=rt?s.Buffer:void 0,it=nt?nt.isBuffer:void 0,ot=it||a;o.exports=ot})(isBuffer$2,isBuffer$2.exports);var isBufferExports=isBuffer$2.exports,MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$1(o,i){var s=typeof o;return i=i??MAX_SAFE_INTEGER$1,!!i&&(s=="number"||s!="symbol"&&reIsUint.test(o))&&o>-1&&o%1==0&&o<i}var _isIndex=isIndex$1,MAX_SAFE_INTEGER=9007199254740991;function isLength$2(o){return typeof o=="number"&&o>-1&&o%1==0&&o<=MAX_SAFE_INTEGER}var isLength_1=isLength$2,baseGetTag$1=_baseGetTag,isLength$1=isLength_1,isObjectLike$1=isObjectLike_1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag$1="[object Map]",numberTag="[object Number]",objectTag$2="[object Object]",regexpTag="[object RegExp]",setTag$1="[object Set]",stringTag="[object String]",weakMapTag$1="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0;typedArrayTags[argsTag$1]=typedArrayTags[arrayTag$1]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag$1]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag$1]=typedArrayTags[numberTag]=typedArrayTags[objectTag$2]=typedArrayTags[regexpTag]=typedArrayTags[setTag$1]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag$1]=!1;function baseIsTypedArray$1(o){return isObjectLike$1(o)&&isLength$1(o.length)&&!!typedArrayTags[baseGetTag$1(o)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$1(o){return function(i){return o(i)}}var _baseUnary=baseUnary$1,_nodeUtil={exports:{}};_nodeUtil.exports;(function(o,i){var s=_freeGlobal,a=i&&!i.nodeType&&i,et=a&&!0&&o&&!o.nodeType&&o,tt=et&&et.exports===a,rt=tt&&s.process,nt=function(){try{var it=et&&et.require&&et.require("util").types;return it||rt&&rt.binding&&rt.binding("util")}catch{}}();o.exports=nt})(_nodeUtil,_nodeUtil.exports);var _nodeUtilExports=_nodeUtil.exports,baseIsTypedArray=_baseIsTypedArray,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsTypedArray=nodeUtil&&nodeUtil.isTypedArray,isTypedArray$2=nodeIsTypedArray?baseUnary(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$2,baseTimes=_baseTimes,isArguments=isArguments_1,isArray$1=isArray_1,isBuffer$1=isBufferExports,isIndex=_isIndex,isTypedArray$1=isTypedArray_1,objectProto$4=Object.prototype,hasOwnProperty$4=objectProto$4.hasOwnProperty;function arrayLikeKeys$1(o,i){var s=isArray$1(o),a=!s&&isArguments(o),et=!s&&!a&&isBuffer$1(o),tt=!s&&!a&&!et&&isTypedArray$1(o),rt=s||a||et||tt,nt=rt?baseTimes(o.length,String):[],it=nt.length;for(var ot in o)(i||hasOwnProperty$4.call(o,ot))&&!(rt&&(ot=="length"||et&&(ot=="offset"||ot=="parent")||tt&&(ot=="buffer"||ot=="byteLength"||ot=="byteOffset")||isIndex(ot,it)))&&nt.push(ot);return nt}var _arrayLikeKeys=arrayLikeKeys$1,objectProto$3=Object.prototype;function isPrototype$1(o){var i=o&&o.constructor,s=typeof i=="function"&&i.prototype||objectProto$3;return o===s}var _isPrototype=isPrototype$1;function overArg$1(o,i){return function(s){return o(i(s))}}var _overArg=overArg$1,overArg=_overArg,nativeKeys$1=overArg(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype=_isPrototype,nativeKeys=_nativeKeys,objectProto$2=Object.prototype,hasOwnProperty$3=objectProto$2.hasOwnProperty;function baseKeys$1(o){if(!isPrototype(o))return nativeKeys(o);var i=[];for(var s in Object(o))hasOwnProperty$3.call(o,s)&&s!="constructor"&&i.push(s);return i}var _baseKeys=baseKeys$1,isFunction=isFunction_1,isLength=isLength_1;function isArrayLike$1(o){return o!=null&&isLength(o.length)&&!isFunction(o)}var isArrayLike_1=isArrayLike$1,arrayLikeKeys=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike=isArrayLike_1;function keys$1(o){return isArrayLike(o)?arrayLikeKeys(o):baseKeys(o)}var keys_1=keys$1,baseGetAllKeys=_baseGetAllKeys,getSymbols=_getSymbols,keys=keys_1;function getAllKeys$1(o){return baseGetAllKeys(o,keys,getSymbols)}var _getAllKeys=getAllKeys$1,getAllKeys=_getAllKeys,COMPARE_PARTIAL_FLAG$1=1,objectProto$1=Object.prototype,hasOwnProperty$2=objectProto$1.hasOwnProperty;function equalObjects$1(o,i,s,a,et,tt){var rt=s&COMPARE_PARTIAL_FLAG$1,nt=getAllKeys(o),it=nt.length,ot=getAllKeys(i),st=ot.length;if(it!=st&&!rt)return!1;for(var lt=it;lt--;){var at=nt[lt];if(!(rt?at in i:hasOwnProperty$2.call(i,at)))return!1}var ut=tt.get(o),ft=tt.get(i);if(ut&&ft)return ut==i&&ft==o;var mt=!0;tt.set(o,i),tt.set(i,o);for(var yt=rt;++lt<it;){at=nt[lt];var ht=o[at],pt=i[at];if(a)var ct=rt?a(pt,ht,at,i,o,tt):a(ht,pt,at,o,i,tt);if(!(ct===void 0?ht===pt||et(ht,pt,s,a,tt):ct)){mt=!1;break}yt||(yt=at=="constructor")}if(mt&&!yt){var gt=o.constructor,Et=i.constructor;gt!=Et&&"constructor"in o&&"constructor"in i&&!(typeof gt=="function"&&gt instanceof gt&&typeof Et=="function"&&Et instanceof Et)&&(mt=!1)}return tt.delete(o),tt.delete(i),mt}var _equalObjects=equalObjects$1,getNative$3=_getNative,root$3=_root,DataView$2=getNative$3(root$3,"DataView"),_DataView=DataView$2,getNative$2=_getNative,root$2=_root,Promise$2=getNative$2(root$2,"Promise"),_Promise=Promise$2,getNative$1=_getNative,root$1=_root,Set$2=getNative$1(root$1,"Set"),_Set=Set$2,getNative=_getNative,root=_root,WeakMap$2=getNative(root,"WeakMap"),_WeakMap=WeakMap$2,DataView$1=_DataView,Map$1=_Map,Promise$1=_Promise,Set$1=_Set,WeakMap$1=_WeakMap,baseGetTag=_baseGetTag,toSource=_toSource,mapTag="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag="[object Set]",weakMapTag="[object WeakMap]",dataViewTag="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$1),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$1),getTag$1=baseGetTag;(DataView$1&&getTag$1(new DataView$1(new ArrayBuffer(1)))!=dataViewTag||Map$1&&getTag$1(new Map$1)!=mapTag||Promise$1&&getTag$1(Promise$1.resolve())!=promiseTag||Set$1&&getTag$1(new Set$1)!=setTag||WeakMap$1&&getTag$1(new WeakMap$1)!=weakMapTag)&&(getTag$1=function(o){var i=baseGetTag(o),s=i==objectTag$1?o.constructor:void 0,a=s?toSource(s):"";if(a)switch(a){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return promiseTag;case setCtorString:return setTag;case weakMapCtorString:return weakMapTag}return i});var _getTag=getTag$1,Stack=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag=_getTag,isArray=isArray_1,isBuffer=isBufferExports,isTypedArray=isTypedArray_1,COMPARE_PARTIAL_FLAG=1,argsTag="[object Arguments]",arrayTag="[object Array]",objectTag="[object Object]",objectProto=Object.prototype,hasOwnProperty$1=objectProto.hasOwnProperty;function baseIsEqualDeep$1(o,i,s,a,et,tt){var rt=isArray(o),nt=isArray(i),it=rt?arrayTag:getTag(o),ot=nt?arrayTag:getTag(i);it=it==argsTag?objectTag:it,ot=ot==argsTag?objectTag:ot;var st=it==objectTag,lt=ot==objectTag,at=it==ot;if(at&&isBuffer(o)){if(!isBuffer(i))return!1;rt=!0,st=!1}if(at&&!st)return tt||(tt=new Stack),rt||isTypedArray(o)?equalArrays(o,i,s,a,et,tt):equalByTag(o,i,it,s,a,et,tt);if(!(s&COMPARE_PARTIAL_FLAG)){var ut=st&&hasOwnProperty$1.call(o,"__wrapped__"),ft=lt&&hasOwnProperty$1.call(i,"__wrapped__");if(ut||ft){var mt=ut?o.value():o,yt=ft?i.value():i;return tt||(tt=new Stack),et(mt,yt,s,a,tt)}}return at?(tt||(tt=new Stack),equalObjects(o,i,s,a,et,tt)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike=isObjectLike_1;function baseIsEqual$1(o,i,s,a,et){return o===i?!0:o==null||i==null||!isObjectLike(o)&&!isObjectLike(i)?o!==o&&i!==i:baseIsEqualDeep(o,i,s,a,baseIsEqual$1,et)}var _baseIsEqual=baseIsEqual$1,baseIsEqual=_baseIsEqual;function isEqual$1(o,i){return baseIsEqual(o,i)}var isEqual_1$1=isEqual$1,quill={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(o,i){(function(a,et){o.exports=et()})(typeof self<"u"?self:commonjsGlobal$1,function(){return function(s){var a={};function et(tt){if(a[tt])return a[tt].exports;var rt=a[tt]={i:tt,l:!1,exports:{}};return s[tt].call(rt.exports,rt,rt.exports,et),rt.l=!0,rt.exports}return et.m=s,et.c=a,et.d=function(tt,rt,nt){et.o(tt,rt)||Object.defineProperty(tt,rt,{configurable:!1,enumerable:!0,get:nt})},et.n=function(tt){var rt=tt&&tt.__esModule?function(){return tt.default}:function(){return tt};return et.d(rt,"a",rt),rt},et.o=function(tt,rt){return Object.prototype.hasOwnProperty.call(tt,rt)},et.p="",et(et.s=109)}([function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(17),rt=et(18),nt=et(19),it=et(45),ot=et(46),st=et(47),lt=et(48),at=et(49),ut=et(12),ft=et(32),mt=et(33),yt=et(31),ht=et(1),pt={Scope:ht.Scope,create:ht.create,find:ht.find,query:ht.query,register:ht.register,Container:tt.default,Format:rt.default,Leaf:nt.default,Embed:lt.default,Scroll:it.default,Block:st.default,Inline:ot.default,Text:at.default,Attributor:{Attribute:ut.default,Class:ft.default,Style:mt.default,Store:yt.default}};a.default=pt},function(s,a,et){var tt=this&&this.__extends||function(){var yt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ht,pt){ht.__proto__=pt}||function(ht,pt){for(var ct in pt)pt.hasOwnProperty(ct)&&(ht[ct]=pt[ct])};return function(ht,pt){yt(ht,pt);function ct(){this.constructor=ht}ht.prototype=pt===null?Object.create(pt):(ct.prototype=pt.prototype,new ct)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=function(yt){tt(ht,yt);function ht(pt){var ct=this;return pt="[Parchment] "+pt,ct=yt.call(this,pt)||this,ct.message=pt,ct.name=ct.constructor.name,ct}return ht}(Error);a.ParchmentError=rt;var nt={},it={},ot={},st={};a.DATA_KEY="__blot";var lt;(function(yt){yt[yt.TYPE=3]="TYPE",yt[yt.LEVEL=12]="LEVEL",yt[yt.ATTRIBUTE=13]="ATTRIBUTE",yt[yt.BLOT=14]="BLOT",yt[yt.INLINE=7]="INLINE",yt[yt.BLOCK=11]="BLOCK",yt[yt.BLOCK_BLOT=10]="BLOCK_BLOT",yt[yt.INLINE_BLOT=6]="INLINE_BLOT",yt[yt.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",yt[yt.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",yt[yt.ANY=15]="ANY"})(lt=a.Scope||(a.Scope={}));function at(yt,ht){var pt=ft(yt);if(pt==null)throw new rt("Unable to create "+yt+" blot");var ct=pt,gt=yt instanceof Node||yt.nodeType===Node.TEXT_NODE?yt:ct.create(ht);return new ct(gt,ht)}a.create=at;function ut(yt,ht){return ht===void 0&&(ht=!1),yt==null?null:yt[a.DATA_KEY]!=null?yt[a.DATA_KEY].blot:ht?ut(yt.parentNode,ht):null}a.find=ut;function ft(yt,ht){ht===void 0&&(ht=lt.ANY);var pt;if(typeof yt=="string")pt=st[yt]||nt[yt];else if(yt instanceof Text||yt.nodeType===Node.TEXT_NODE)pt=st.text;else if(typeof yt=="number")yt&lt.LEVEL&lt.BLOCK?pt=st.block:yt&lt.LEVEL&lt.INLINE&&(pt=st.inline);else if(yt instanceof HTMLElement){var ct=(yt.getAttribute("class")||"").split(/\s+/);for(var gt in ct)if(pt=it[ct[gt]],pt)break;pt=pt||ot[yt.tagName]}return pt==null?null:ht&lt.LEVEL&pt.scope&&ht&lt.TYPE&pt.scope?pt:null}a.query=ft;function mt(){for(var yt=[],ht=0;ht<arguments.length;ht++)yt[ht]=arguments[ht];if(yt.length>1)return yt.map(function(gt){return mt(gt)});var pt=yt[0];if(typeof pt.blotName!="string"&&typeof pt.attrName!="string")throw new rt("Invalid definition");if(pt.blotName==="abstract")throw new rt("Cannot register abstract class");if(st[pt.blotName||pt.attrName]=pt,typeof pt.keyName=="string")nt[pt.keyName]=pt;else if(pt.className!=null&&(it[pt.className]=pt),pt.tagName!=null){Array.isArray(pt.tagName)?pt.tagName=pt.tagName.map(function(gt){return gt.toUpperCase()}):pt.tagName=pt.tagName.toUpperCase();var ct=Array.isArray(pt.tagName)?pt.tagName:[pt.tagName];ct.forEach(function(gt){(ot[gt]==null||pt.className==null)&&(ot[gt]=pt)})}return pt}a.register=mt},function(s,a,et){var tt=et(51),rt=et(11),nt=et(3),it=et(20),ot="\0",st=function(lt){Array.isArray(lt)?this.ops=lt:lt!=null&&Array.isArray(lt.ops)?this.ops=lt.ops:this.ops=[]};st.prototype.insert=function(lt,at){var ut={};return lt.length===0?this:(ut.insert=lt,at!=null&&typeof at=="object"&&Object.keys(at).length>0&&(ut.attributes=at),this.push(ut))},st.prototype.delete=function(lt){return lt<=0?this:this.push({delete:lt})},st.prototype.retain=function(lt,at){if(lt<=0)return this;var ut={retain:lt};return at!=null&&typeof at=="object"&&Object.keys(at).length>0&&(ut.attributes=at),this.push(ut)},st.prototype.push=function(lt){var at=this.ops.length,ut=this.ops[at-1];if(lt=nt(!0,{},lt),typeof ut=="object"){if(typeof lt.delete=="number"&&typeof ut.delete=="number")return this.ops[at-1]={delete:ut.delete+lt.delete},this;if(typeof ut.delete=="number"&&lt.insert!=null&&(at-=1,ut=this.ops[at-1],typeof ut!="object"))return this.ops.unshift(lt),this;if(rt(lt.attributes,ut.attributes)){if(typeof lt.insert=="string"&&typeof ut.insert=="string")return this.ops[at-1]={insert:ut.insert+lt.insert},typeof lt.attributes=="object"&&(this.ops[at-1].attributes=lt.attributes),this;if(typeof lt.retain=="number"&&typeof ut.retain=="number")return this.ops[at-1]={retain:ut.retain+lt.retain},typeof lt.attributes=="object"&&(this.ops[at-1].attributes=lt.attributes),this}}return at===this.ops.length?this.ops.push(lt):this.ops.splice(at,0,lt),this},st.prototype.chop=function(){var lt=this.ops[this.ops.length-1];return lt&&lt.retain&&!lt.attributes&&this.ops.pop(),this},st.prototype.filter=function(lt){return this.ops.filter(lt)},st.prototype.forEach=function(lt){this.ops.forEach(lt)},st.prototype.map=function(lt){return this.ops.map(lt)},st.prototype.partition=function(lt){var at=[],ut=[];return this.forEach(function(ft){var mt=lt(ft)?at:ut;mt.push(ft)}),[at,ut]},st.prototype.reduce=function(lt,at){return this.ops.reduce(lt,at)},st.prototype.changeLength=function(){return this.reduce(function(lt,at){return at.insert?lt+it.length(at):at.delete?lt-at.delete:lt},0)},st.prototype.length=function(){return this.reduce(function(lt,at){return lt+it.length(at)},0)},st.prototype.slice=function(lt,at){lt=lt||0,typeof at!="number"&&(at=1/0);for(var ut=[],ft=it.iterator(this.ops),mt=0;mt<at&&ft.hasNext();){var yt;mt<lt?yt=ft.next(lt-mt):(yt=ft.next(at-mt),ut.push(yt)),mt+=it.length(yt)}return new st(ut)},st.prototype.compose=function(lt){var at=it.iterator(this.ops),ut=it.iterator(lt.ops),ft=[],mt=ut.peek();if(mt!=null&&typeof mt.retain=="number"&&mt.attributes==null){for(var yt=mt.retain;at.peekType()==="insert"&&at.peekLength()<=yt;)yt-=at.peekLength(),ft.push(at.next());mt.retain-yt>0&&ut.next(mt.retain-yt)}for(var ht=new st(ft);at.hasNext()||ut.hasNext();)if(ut.peekType()==="insert")ht.push(ut.next());else if(at.peekType()==="delete")ht.push(at.next());else{var pt=Math.min(at.peekLength(),ut.peekLength()),ct=at.next(pt),gt=ut.next(pt);if(typeof gt.retain=="number"){var Et={};typeof ct.retain=="number"?Et.retain=pt:Et.insert=ct.insert;var bt=it.attributes.compose(ct.attributes,gt.attributes,typeof ct.retain=="number");if(bt&&(Et.attributes=bt),ht.push(Et),!ut.hasNext()&&rt(ht.ops[ht.ops.length-1],Et)){var xt=new st(at.rest());return ht.concat(xt).chop()}}else typeof gt.delete=="number"&&typeof ct.retain=="number"&&ht.push(gt)}return ht.chop()},st.prototype.concat=function(lt){var at=new st(this.ops.slice());return lt.ops.length>0&&(at.push(lt.ops[0]),at.ops=at.ops.concat(lt.ops.slice(1))),at},st.prototype.diff=function(lt,at){if(this.ops===lt.ops)return new st;var ut=[this,lt].map(function(pt){return pt.map(function(ct){if(ct.insert!=null)return typeof ct.insert=="string"?ct.insert:ot;var gt=pt===lt?"on":"with";throw new Error("diff() called "+gt+" non-document")}).join("")}),ft=new st,mt=tt(ut[0],ut[1],at),yt=it.iterator(this.ops),ht=it.iterator(lt.ops);return mt.forEach(function(pt){for(var ct=pt[1].length;ct>0;){var gt=0;switch(pt[0]){case tt.INSERT:gt=Math.min(ht.peekLength(),ct),ft.push(ht.next(gt));break;case tt.DELETE:gt=Math.min(ct,yt.peekLength()),yt.next(gt),ft.delete(gt);break;case tt.EQUAL:gt=Math.min(yt.peekLength(),ht.peekLength(),ct);var Et=yt.next(gt),bt=ht.next(gt);rt(Et.insert,bt.insert)?ft.retain(gt,it.attributes.diff(Et.attributes,bt.attributes)):ft.push(bt).delete(gt);break}ct-=gt}}),ft.chop()},st.prototype.eachLine=function(lt,at){at=at||`
`;for(var ut=it.iterator(this.ops),ft=new st,mt=0;ut.hasNext();){if(ut.peekType()!=="insert")return;var yt=ut.peek(),ht=it.length(yt)-ut.peekLength(),pt=typeof yt.insert=="string"?yt.insert.indexOf(at,ht)-ht:-1;if(pt<0)ft.push(ut.next());else if(pt>0)ft.push(ut.next(pt));else{if(lt(ft,ut.next(1).attributes||{},mt)===!1)return;mt+=1,ft=new st}}ft.length()>0&&lt(ft,{},mt)},st.prototype.transform=function(lt,at){if(at=!!at,typeof lt=="number")return this.transformPosition(lt,at);for(var ut=it.iterator(this.ops),ft=it.iterator(lt.ops),mt=new st;ut.hasNext()||ft.hasNext();)if(ut.peekType()==="insert"&&(at||ft.peekType()!=="insert"))mt.retain(it.length(ut.next()));else if(ft.peekType()==="insert")mt.push(ft.next());else{var yt=Math.min(ut.peekLength(),ft.peekLength()),ht=ut.next(yt),pt=ft.next(yt);if(ht.delete)continue;pt.delete?mt.push(pt):mt.retain(yt,it.attributes.transform(ht.attributes,pt.attributes,at))}return mt.chop()},st.prototype.transformPosition=function(lt,at){at=!!at;for(var ut=it.iterator(this.ops),ft=0;ut.hasNext()&&ft<=lt;){var mt=ut.peekLength(),yt=ut.peekType();if(ut.next(),yt==="delete"){lt-=Math.min(mt,lt-ft);continue}else yt==="insert"&&(ft<lt||!at)&&(lt+=mt);ft+=mt}return lt},s.exports=st},function(s,a){var et=Object.prototype.hasOwnProperty,tt=Object.prototype.toString,rt=Object.defineProperty,nt=Object.getOwnPropertyDescriptor,it=function(ut){return typeof Array.isArray=="function"?Array.isArray(ut):tt.call(ut)==="[object Array]"},ot=function(ut){if(!ut||tt.call(ut)!=="[object Object]")return!1;var ft=et.call(ut,"constructor"),mt=ut.constructor&&ut.constructor.prototype&&et.call(ut.constructor.prototype,"isPrototypeOf");if(ut.constructor&&!ft&&!mt)return!1;var yt;for(yt in ut);return typeof yt>"u"||et.call(ut,yt)},st=function(ut,ft){rt&&ft.name==="__proto__"?rt(ut,ft.name,{enumerable:!0,configurable:!0,value:ft.newValue,writable:!0}):ut[ft.name]=ft.newValue},lt=function(ut,ft){if(ft==="__proto__")if(et.call(ut,ft)){if(nt)return nt(ut,ft).value}else return;return ut[ft]};s.exports=function at(){var ut,ft,mt,yt,ht,pt,ct=arguments[0],gt=1,Et=arguments.length,bt=!1;for(typeof ct=="boolean"&&(bt=ct,ct=arguments[1]||{},gt=2),(ct==null||typeof ct!="object"&&typeof ct!="function")&&(ct={});gt<Et;++gt)if(ut=arguments[gt],ut!=null)for(ft in ut)mt=lt(ct,ft),yt=lt(ut,ft),ct!==yt&&(bt&&yt&&(ot(yt)||(ht=it(yt)))?(ht?(ht=!1,pt=mt&&it(mt)?mt:[]):pt=mt&&ot(mt)?mt:{},st(ct,{name:ft,newValue:at(bt,pt,yt)})):typeof yt<"u"&&st(ct,{name:ft,newValue:yt}));return ct}},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BlockEmbed=a.bubbleFormats=void 0;var tt=function(){function At(kt,Vt){for(var Mt=0;Mt<Vt.length;Mt++){var Ot=Vt[Mt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(kt,Ot.key,Ot)}}return function(kt,Vt,Mt){return Vt&&At(kt.prototype,Vt),Mt&&At(kt,Mt),kt}}(),rt=function At(kt,Vt,Mt){kt===null&&(kt=Function.prototype);var Ot=Object.getOwnPropertyDescriptor(kt,Vt);if(Ot===void 0){var Dt=Object.getPrototypeOf(kt);return Dt===null?void 0:At(Dt,Vt,Mt)}else{if("value"in Ot)return Ot.value;var Ct=Ot.get;return Ct===void 0?void 0:Ct.call(Mt)}},nt=et(3),it=ct(nt),ot=et(2),st=ct(ot),lt=et(0),at=ct(lt),ut=et(16),ft=ct(ut),mt=et(6),yt=ct(mt),ht=et(7),pt=ct(ht);function ct(At){return At&&At.__esModule?At:{default:At}}function gt(At,kt){if(!(At instanceof kt))throw new TypeError("Cannot call a class as a function")}function Et(At,kt){if(!At)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kt&&(typeof kt=="object"||typeof kt=="function")?kt:At}function bt(At,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kt);At.prototype=Object.create(kt&&kt.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),kt&&(Object.setPrototypeOf?Object.setPrototypeOf(At,kt):At.__proto__=kt)}var xt=1,Tt=function(At){bt(kt,At);function kt(){return gt(this,kt),Et(this,(kt.__proto__||Object.getPrototypeOf(kt)).apply(this,arguments))}return tt(kt,[{key:"attach",value:function(){rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"attach",this).call(this),this.attributes=new at.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new st.default().insert(this.value(),(0,it.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(Mt,Ot){var Dt=at.default.query(Mt,at.default.Scope.BLOCK_ATTRIBUTE);Dt!=null&&this.attributes.attribute(Dt,Ot)}},{key:"formatAt",value:function(Mt,Ot,Dt,Ct){this.format(Dt,Ct)}},{key:"insertAt",value:function(Mt,Ot,Dt){if(typeof Ot=="string"&&Ot.endsWith(`
`)){var Ct=at.default.create(wt.blotName);this.parent.insertBefore(Ct,Mt===0?this:this.next),Ct.insertAt(0,Ot.slice(0,-1))}else rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"insertAt",this).call(this,Mt,Ot,Dt)}}]),kt}(at.default.Embed);Tt.scope=at.default.Scope.BLOCK_BLOT;var wt=function(At){bt(kt,At);function kt(Vt){gt(this,kt);var Mt=Et(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this,Vt));return Mt.cache={},Mt}return tt(kt,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(at.default.Leaf).reduce(function(Mt,Ot){return Ot.length()===0?Mt:Mt.insert(Ot.value(),It(Ot))},new st.default).insert(`
`,It(this))),this.cache.delta}},{key:"deleteAt",value:function(Mt,Ot){rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"deleteAt",this).call(this,Mt,Ot),this.cache={}}},{key:"formatAt",value:function(Mt,Ot,Dt,Ct){Ot<=0||(at.default.query(Dt,at.default.Scope.BLOCK)?Mt+Ot===this.length()&&this.format(Dt,Ct):rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"formatAt",this).call(this,Mt,Math.min(Ot,this.length()-Mt-1),Dt,Ct),this.cache={})}},{key:"insertAt",value:function(Mt,Ot,Dt){if(Dt!=null)return rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"insertAt",this).call(this,Mt,Ot,Dt);if(Ot.length!==0){var Ct=Ot.split(`
`),St=Ct.shift();St.length>0&&(Mt<this.length()-1||this.children.tail==null?rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"insertAt",this).call(this,Math.min(Mt,this.length()-1),St):this.children.tail.insertAt(this.children.tail.length(),St),this.cache={});var $t=this;Ct.reduce(function(Lt,Rt){return $t=$t.split(Lt,!0),$t.insertAt(0,Rt),Rt.length},Mt+St.length)}}},{key:"insertBefore",value:function(Mt,Ot){var Dt=this.children.head;rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"insertBefore",this).call(this,Mt,Ot),Dt instanceof ft.default&&Dt.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"length",this).call(this)+xt),this.cache.length}},{key:"moveChildren",value:function(Mt,Ot){rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"moveChildren",this).call(this,Mt,Ot),this.cache={}}},{key:"optimize",value:function(Mt){rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"optimize",this).call(this,Mt),this.cache={}}},{key:"path",value:function(Mt){return rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"path",this).call(this,Mt,!0)}},{key:"removeChild",value:function(Mt){rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"removeChild",this).call(this,Mt),this.cache={}}},{key:"split",value:function(Mt){var Ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(Ot&&(Mt===0||Mt>=this.length()-xt)){var Dt=this.clone();return Mt===0?(this.parent.insertBefore(Dt,this),this):(this.parent.insertBefore(Dt,this.next),Dt)}else{var Ct=rt(kt.prototype.__proto__||Object.getPrototypeOf(kt.prototype),"split",this).call(this,Mt,Ot);return this.cache={},Ct}}}]),kt}(at.default.Block);wt.blotName="block",wt.tagName="P",wt.defaultChild="break",wt.allowedChildren=[yt.default,at.default.Embed,pt.default];function It(At){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return At==null||(typeof At.formats=="function"&&(kt=(0,it.default)(kt,At.formats())),At.parent==null||At.parent.blotName=="scroll"||At.parent.statics.scope!==At.statics.scope)?kt:It(At.parent,kt)}a.bubbleFormats=It,a.BlockEmbed=Tt,a.default=wt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.overload=a.expandConfig=void 0;var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($t){return typeof $t}:function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},rt=function(){function $t(Lt,Rt){var jt=[],Ft=!0,zt=!1,Gt=void 0;try{for(var Bt=Lt[Symbol.iterator](),Wt;!(Ft=(Wt=Bt.next()).done)&&(jt.push(Wt.value),!(Rt&&jt.length===Rt));Ft=!0);}catch(Kt){zt=!0,Gt=Kt}finally{try{!Ft&&Bt.return&&Bt.return()}finally{if(zt)throw Gt}}return jt}return function(Lt,Rt){if(Array.isArray(Lt))return Lt;if(Symbol.iterator in Object(Lt))return $t(Lt,Rt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),nt=function(){function $t(Lt,Rt){for(var jt=0;jt<Rt.length;jt++){var Ft=Rt[jt];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(Lt,Ft.key,Ft)}}return function(Lt,Rt,jt){return Rt&&$t(Lt.prototype,Rt),jt&&$t(Lt,jt),Lt}}();et(50);var it=et(2),ot=It(it),st=et(14),lt=It(st),at=et(8),ut=It(at),ft=et(9),mt=It(ft),yt=et(0),ht=It(yt),pt=et(15),ct=It(pt),gt=et(3),Et=It(gt),bt=et(10),xt=It(bt),Tt=et(34),wt=It(Tt);function It($t){return $t&&$t.__esModule?$t:{default:$t}}function At($t,Lt,Rt){return Lt in $t?Object.defineProperty($t,Lt,{value:Rt,enumerable:!0,configurable:!0,writable:!0}):$t[Lt]=Rt,$t}function kt($t,Lt){if(!($t instanceof Lt))throw new TypeError("Cannot call a class as a function")}var Vt=(0,xt.default)("quill"),Mt=function(){nt($t,null,[{key:"debug",value:function(Rt){Rt===!0&&(Rt="log"),xt.default.level(Rt)}},{key:"find",value:function(Rt){return Rt.__quill||ht.default.find(Rt)}},{key:"import",value:function(Rt){return this.imports[Rt]==null&&Vt.error("Cannot import "+Rt+". Are you sure it was registered?"),this.imports[Rt]}},{key:"register",value:function(Rt,jt){var Ft=this,zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof Rt!="string"){var Gt=Rt.attrName||Rt.blotName;typeof Gt=="string"?this.register("formats/"+Gt,Rt,jt):Object.keys(Rt).forEach(function(Bt){Ft.register(Bt,Rt[Bt],jt)})}else this.imports[Rt]!=null&&!zt&&Vt.warn("Overwriting "+Rt+" with",jt),this.imports[Rt]=jt,(Rt.startsWith("blots/")||Rt.startsWith("formats/"))&&jt.blotName!=="abstract"?ht.default.register(jt):Rt.startsWith("modules")&&typeof jt.register=="function"&&jt.register()}}]);function $t(Lt){var Rt=this,jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(kt(this,$t),this.options=Ot(Lt,jt),this.container=this.options.container,this.container==null)return Vt.error("Invalid Quill container",Lt);this.options.debug&&$t.debug(this.options.debug);var Ft=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new ut.default,this.scroll=ht.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new lt.default(this.scroll),this.selection=new ct.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(ut.default.events.EDITOR_CHANGE,function(Gt){Gt===ut.default.events.TEXT_CHANGE&&Rt.root.classList.toggle("ql-blank",Rt.editor.isBlank())}),this.emitter.on(ut.default.events.SCROLL_UPDATE,function(Gt,Bt){var Wt=Rt.selection.lastRange,Kt=Wt&&Wt.length===0?Wt.index:void 0;Dt.call(Rt,function(){return Rt.editor.update(null,Bt,Kt)},Gt)});var zt=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+Ft+"<p><br></p></div>");this.setContents(zt),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return nt($t,[{key:"addContainer",value:function(Rt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof Rt=="string"){var Ft=Rt;Rt=document.createElement("div"),Rt.classList.add(Ft)}return this.container.insertBefore(Rt,jt),Rt}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(Rt,jt,Ft){var zt=this,Gt=Ct(Rt,jt,Ft),Bt=rt(Gt,4);return Rt=Bt[0],jt=Bt[1],Ft=Bt[3],Dt.call(this,function(){return zt.editor.deleteText(Rt,jt)},Ft,Rt,-1*jt)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(Rt),this.container.classList.toggle("ql-disabled",!Rt)}},{key:"focus",value:function(){var Rt=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=Rt,this.scrollIntoView()}},{key:"format",value:function(Rt,jt){var Ft=this,zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ut.default.sources.API;return Dt.call(this,function(){var Gt=Ft.getSelection(!0),Bt=new ot.default;if(Gt==null)return Bt;if(ht.default.query(Rt,ht.default.Scope.BLOCK))Bt=Ft.editor.formatLine(Gt.index,Gt.length,At({},Rt,jt));else{if(Gt.length===0)return Ft.selection.format(Rt,jt),Bt;Bt=Ft.editor.formatText(Gt.index,Gt.length,At({},Rt,jt))}return Ft.setSelection(Gt,ut.default.sources.SILENT),Bt},zt)}},{key:"formatLine",value:function(Rt,jt,Ft,zt,Gt){var Bt=this,Wt=void 0,Kt=Ct(Rt,jt,Ft,zt,Gt),Qt=rt(Kt,4);return Rt=Qt[0],jt=Qt[1],Wt=Qt[2],Gt=Qt[3],Dt.call(this,function(){return Bt.editor.formatLine(Rt,jt,Wt)},Gt,Rt,0)}},{key:"formatText",value:function(Rt,jt,Ft,zt,Gt){var Bt=this,Wt=void 0,Kt=Ct(Rt,jt,Ft,zt,Gt),Qt=rt(Kt,4);return Rt=Qt[0],jt=Qt[1],Wt=Qt[2],Gt=Qt[3],Dt.call(this,function(){return Bt.editor.formatText(Rt,jt,Wt)},Gt,Rt,0)}},{key:"getBounds",value:function(Rt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ft=void 0;typeof Rt=="number"?Ft=this.selection.getBounds(Rt,jt):Ft=this.selection.getBounds(Rt.index,Rt.length);var zt=this.container.getBoundingClientRect();return{bottom:Ft.bottom-zt.top,height:Ft.height,left:Ft.left-zt.left,right:Ft.right-zt.left,top:Ft.top-zt.top,width:Ft.width}}},{key:"getContents",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Rt,Ft=Ct(Rt,jt),zt=rt(Ft,2);return Rt=zt[0],jt=zt[1],this.editor.getContents(Rt,jt)}},{key:"getFormat",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof Rt=="number"?this.editor.getFormat(Rt,jt):this.editor.getFormat(Rt.index,Rt.length)}},{key:"getIndex",value:function(Rt){return Rt.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(Rt){return this.scroll.leaf(Rt)}},{key:"getLine",value:function(Rt){return this.scroll.line(Rt)}},{key:"getLines",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof Rt!="number"?this.scroll.lines(Rt.index,Rt.length):this.scroll.lines(Rt,jt)}},{key:"getModule",value:function(Rt){return this.theme.modules[Rt]}},{key:"getSelection",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return Rt&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-Rt,Ft=Ct(Rt,jt),zt=rt(Ft,2);return Rt=zt[0],jt=zt[1],this.editor.getText(Rt,jt)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(Rt,jt,Ft){var zt=this,Gt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:$t.sources.API;return Dt.call(this,function(){return zt.editor.insertEmbed(Rt,jt,Ft)},Gt,Rt)}},{key:"insertText",value:function(Rt,jt,Ft,zt,Gt){var Bt=this,Wt=void 0,Kt=Ct(Rt,0,Ft,zt,Gt),Qt=rt(Kt,4);return Rt=Qt[0],Wt=Qt[2],Gt=Qt[3],Dt.call(this,function(){return Bt.editor.insertText(Rt,jt,Wt)},Gt,Rt,jt.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(Rt,jt,Ft){this.clipboard.dangerouslyPasteHTML(Rt,jt,Ft)}},{key:"removeFormat",value:function(Rt,jt,Ft){var zt=this,Gt=Ct(Rt,jt,Ft),Bt=rt(Gt,4);return Rt=Bt[0],jt=Bt[1],Ft=Bt[3],Dt.call(this,function(){return zt.editor.removeFormat(Rt,jt)},Ft,Rt)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(Rt){var jt=this,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut.default.sources.API;return Dt.call(this,function(){Rt=new ot.default(Rt);var zt=jt.getLength(),Gt=jt.editor.deleteText(0,zt),Bt=jt.editor.applyDelta(Rt),Wt=Bt.ops[Bt.ops.length-1];Wt!=null&&typeof Wt.insert=="string"&&Wt.insert[Wt.insert.length-1]===`
`&&(jt.editor.deleteText(jt.getLength()-1,1),Bt.delete(1));var Kt=Gt.compose(Bt);return Kt},Ft)}},{key:"setSelection",value:function(Rt,jt,Ft){if(Rt==null)this.selection.setRange(null,jt||$t.sources.API);else{var zt=Ct(Rt,jt,Ft),Gt=rt(zt,4);Rt=Gt[0],jt=Gt[1],Ft=Gt[3],this.selection.setRange(new pt.Range(Rt,jt),Ft),Ft!==ut.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(Rt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut.default.sources.API,Ft=new ot.default().insert(Rt);return this.setContents(Ft,jt)}},{key:"update",value:function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ut.default.sources.USER,jt=this.scroll.update(Rt);return this.selection.update(Rt),jt}},{key:"updateContents",value:function(Rt){var jt=this,Ft=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ut.default.sources.API;return Dt.call(this,function(){return Rt=new ot.default(Rt),jt.editor.applyDelta(Rt,Ft)},Ft,!0)}}]),$t}();Mt.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},Mt.events=ut.default.events,Mt.sources=ut.default.sources,Mt.version="1.3.7",Mt.imports={delta:ot.default,parchment:ht.default,"core/module":mt.default,"core/theme":wt.default};function Ot($t,Lt){if(Lt=(0,Et.default)(!0,{container:$t,modules:{clipboard:!0,keyboard:!0,history:!0}},Lt),!Lt.theme||Lt.theme===Mt.DEFAULTS.theme)Lt.theme=wt.default;else if(Lt.theme=Mt.import("themes/"+Lt.theme),Lt.theme==null)throw new Error("Invalid theme "+Lt.theme+". Did you register it?");var Rt=(0,Et.default)(!0,{},Lt.theme.DEFAULTS);[Rt,Lt].forEach(function(zt){zt.modules=zt.modules||{},Object.keys(zt.modules).forEach(function(Gt){zt.modules[Gt]===!0&&(zt.modules[Gt]={})})});var jt=Object.keys(Rt.modules).concat(Object.keys(Lt.modules)),Ft=jt.reduce(function(zt,Gt){var Bt=Mt.import("modules/"+Gt);return Bt==null?Vt.error("Cannot load "+Gt+" module. Are you sure you registered it?"):zt[Gt]=Bt.DEFAULTS||{},zt},{});return Lt.modules!=null&&Lt.modules.toolbar&&Lt.modules.toolbar.constructor!==Object&&(Lt.modules.toolbar={container:Lt.modules.toolbar}),Lt=(0,Et.default)(!0,{},Mt.DEFAULTS,{modules:Ft},Rt,Lt),["bounds","container","scrollingContainer"].forEach(function(zt){typeof Lt[zt]=="string"&&(Lt[zt]=document.querySelector(Lt[zt]))}),Lt.modules=Object.keys(Lt.modules).reduce(function(zt,Gt){return Lt.modules[Gt]&&(zt[Gt]=Lt.modules[Gt]),zt},{}),Lt}function Dt($t,Lt,Rt,jt){if(this.options.strict&&!this.isEnabled()&&Lt===ut.default.sources.USER)return new ot.default;var Ft=Rt==null?null:this.getSelection(),zt=this.editor.delta,Gt=$t();if(Ft!=null&&(Rt===!0&&(Rt=Ft.index),jt==null?Ft=St(Ft,Gt,Lt):jt!==0&&(Ft=St(Ft,Rt,jt,Lt)),this.setSelection(Ft,ut.default.sources.SILENT)),Gt.length()>0){var Bt,Wt=[ut.default.events.TEXT_CHANGE,Gt,zt,Lt];if((Bt=this.emitter).emit.apply(Bt,[ut.default.events.EDITOR_CHANGE].concat(Wt)),Lt!==ut.default.sources.SILENT){var Kt;(Kt=this.emitter).emit.apply(Kt,Wt)}}return Gt}function Ct($t,Lt,Rt,jt,Ft){var zt={};return typeof $t.index=="number"&&typeof $t.length=="number"?typeof Lt!="number"?(Ft=jt,jt=Rt,Rt=Lt,Lt=$t.length,$t=$t.index):(Lt=$t.length,$t=$t.index):typeof Lt!="number"&&(Ft=jt,jt=Rt,Rt=Lt,Lt=0),(typeof Rt>"u"?"undefined":tt(Rt))==="object"?(zt=Rt,Ft=jt):typeof Rt=="string"&&(jt!=null?zt[Rt]=jt:Ft=Rt),Ft=Ft||ut.default.sources.API,[$t,Lt,zt,Ft]}function St($t,Lt,Rt,jt){if($t==null)return null;var Ft=void 0,zt=void 0;if(Lt instanceof ot.default){var Gt=[$t.index,$t.index+$t.length].map(function(Qt){return Lt.transformPosition(Qt,jt!==ut.default.sources.USER)}),Bt=rt(Gt,2);Ft=Bt[0],zt=Bt[1]}else{var Wt=[$t.index,$t.index+$t.length].map(function(Qt){return Qt<Lt||Qt===Lt&&jt===ut.default.sources.USER?Qt:Rt>=0?Qt+Rt:Math.max(Lt,Qt+Rt)}),Kt=rt(Wt,2);Ft=Kt[0],zt=Kt[1]}return new pt.Range(Ft,zt-Ft)}a.expandConfig=Ot,a.overload=Ct,a.default=Mt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function yt(ht,pt){for(var ct=0;ct<pt.length;ct++){var gt=pt[ct];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ht,gt.key,gt)}}return function(ht,pt,ct){return pt&&yt(ht.prototype,pt),ct&&yt(ht,ct),ht}}(),rt=function yt(ht,pt,ct){ht===null&&(ht=Function.prototype);var gt=Object.getOwnPropertyDescriptor(ht,pt);if(gt===void 0){var Et=Object.getPrototypeOf(ht);return Et===null?void 0:yt(Et,pt,ct)}else{if("value"in gt)return gt.value;var bt=gt.get;return bt===void 0?void 0:bt.call(ct)}},nt=et(7),it=lt(nt),ot=et(0),st=lt(ot);function lt(yt){return yt&&yt.__esModule?yt:{default:yt}}function at(yt,ht){if(!(yt instanceof ht))throw new TypeError("Cannot call a class as a function")}function ut(yt,ht){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht&&(typeof ht=="object"||typeof ht=="function")?ht:yt}function ft(yt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ht);yt.prototype=Object.create(ht&&ht.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),ht&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,ht):yt.__proto__=ht)}var mt=function(yt){ft(ht,yt);function ht(){return at(this,ht),ut(this,(ht.__proto__||Object.getPrototypeOf(ht)).apply(this,arguments))}return tt(ht,[{key:"formatAt",value:function(ct,gt,Et,bt){if(ht.compare(this.statics.blotName,Et)<0&&st.default.query(Et,st.default.Scope.BLOT)){var xt=this.isolate(ct,gt);bt&&xt.wrap(Et,bt)}else rt(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"formatAt",this).call(this,ct,gt,Et,bt)}},{key:"optimize",value:function(ct){if(rt(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"optimize",this).call(this,ct),this.parent instanceof ht&&ht.compare(this.statics.blotName,this.parent.statics.blotName)>0){var gt=this.parent.isolate(this.offset(),this.length());this.moveChildren(gt),gt.wrap(this)}}}],[{key:"compare",value:function(ct,gt){var Et=ht.order.indexOf(ct),bt=ht.order.indexOf(gt);return Et>=0||bt>=0?Et-bt:ct===gt?0:ct<gt?-1:1}}]),ht}(st.default.Inline);mt.allowedChildren=[mt,st.default.Embed,it.default],mt.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],a.default=mt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(0),rt=nt(tt);function nt(at){return at&&at.__esModule?at:{default:at}}function it(at,ut){if(!(at instanceof ut))throw new TypeError("Cannot call a class as a function")}function ot(at,ut){if(!at)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut&&(typeof ut=="object"||typeof ut=="function")?ut:at}function st(at,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ut);at.prototype=Object.create(ut&&ut.prototype,{constructor:{value:at,enumerable:!1,writable:!0,configurable:!0}}),ut&&(Object.setPrototypeOf?Object.setPrototypeOf(at,ut):at.__proto__=ut)}var lt=function(at){st(ut,at);function ut(){return it(this,ut),ot(this,(ut.__proto__||Object.getPrototypeOf(ut)).apply(this,arguments))}return ut}(rt.default.Text);a.default=lt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function pt(ct,gt){for(var Et=0;Et<gt.length;Et++){var bt=gt[Et];bt.enumerable=bt.enumerable||!1,bt.configurable=!0,"value"in bt&&(bt.writable=!0),Object.defineProperty(ct,bt.key,bt)}}return function(ct,gt,Et){return gt&&pt(ct.prototype,gt),Et&&pt(ct,Et),ct}}(),rt=function pt(ct,gt,Et){ct===null&&(ct=Function.prototype);var bt=Object.getOwnPropertyDescriptor(ct,gt);if(bt===void 0){var xt=Object.getPrototypeOf(ct);return xt===null?void 0:pt(xt,gt,Et)}else{if("value"in bt)return bt.value;var Tt=bt.get;return Tt===void 0?void 0:Tt.call(Et)}},nt=et(54),it=lt(nt),ot=et(10),st=lt(ot);function lt(pt){return pt&&pt.__esModule?pt:{default:pt}}function at(pt,ct){if(!(pt instanceof ct))throw new TypeError("Cannot call a class as a function")}function ut(pt,ct){if(!pt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ct&&(typeof ct=="object"||typeof ct=="function")?ct:pt}function ft(pt,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ct);pt.prototype=Object.create(ct&&ct.prototype,{constructor:{value:pt,enumerable:!1,writable:!0,configurable:!0}}),ct&&(Object.setPrototypeOf?Object.setPrototypeOf(pt,ct):pt.__proto__=ct)}var mt=(0,st.default)("quill:events"),yt=["selectionchange","mousedown","mouseup","click"];yt.forEach(function(pt){document.addEventListener(pt,function(){for(var ct=arguments.length,gt=Array(ct),Et=0;Et<ct;Et++)gt[Et]=arguments[Et];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(bt){if(bt.__quill&&bt.__quill.emitter){var xt;(xt=bt.__quill.emitter).handleDOM.apply(xt,gt)}})})});var ht=function(pt){ft(ct,pt);function ct(){at(this,ct);var gt=ut(this,(ct.__proto__||Object.getPrototypeOf(ct)).call(this));return gt.listeners={},gt.on("error",mt.error),gt}return tt(ct,[{key:"emit",value:function(){mt.log.apply(mt,arguments),rt(ct.prototype.__proto__||Object.getPrototypeOf(ct.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(Et){for(var bt=arguments.length,xt=Array(bt>1?bt-1:0),Tt=1;Tt<bt;Tt++)xt[Tt-1]=arguments[Tt];(this.listeners[Et.type]||[]).forEach(function(wt){var It=wt.node,At=wt.handler;(Et.target===It||It.contains(Et.target))&&At.apply(void 0,[Et].concat(xt))})}},{key:"listenDOM",value:function(Et,bt,xt){this.listeners[Et]||(this.listeners[Et]=[]),this.listeners[Et].push({node:bt,handler:xt})}}]),ct}(it.default);ht.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},ht.sources={API:"api",SILENT:"silent",USER:"user"},a.default=ht},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});function tt(nt,it){if(!(nt instanceof it))throw new TypeError("Cannot call a class as a function")}var rt=function nt(it){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};tt(this,nt),this.quill=it,this.options=ot};rt.DEFAULTS={},a.default=rt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=["error","warn","log","info"],rt="warn";function nt(ot){if(tt.indexOf(ot)<=tt.indexOf(rt)){for(var st,lt=arguments.length,at=Array(lt>1?lt-1:0),ut=1;ut<lt;ut++)at[ut-1]=arguments[ut];(st=console)[ot].apply(st,at)}}function it(ot){return tt.reduce(function(st,lt){return st[lt]=nt.bind(console,lt,ot),st},{})}nt.level=it.level=function(ot){rt=ot},a.default=it},function(s,a,et){var tt=Array.prototype.slice,rt=et(52),nt=et(53),it=s.exports=function(at,ut,ft){return ft||(ft={}),at===ut?!0:at instanceof Date&&ut instanceof Date?at.getTime()===ut.getTime():!at||!ut||typeof at!="object"&&typeof ut!="object"?ft.strict?at===ut:at==ut:lt(at,ut,ft)};function ot(at){return at==null}function st(at){return!(!at||typeof at!="object"||typeof at.length!="number"||typeof at.copy!="function"||typeof at.slice!="function"||at.length>0&&typeof at[0]!="number")}function lt(at,ut,ft){var mt,yt;if(ot(at)||ot(ut)||at.prototype!==ut.prototype)return!1;if(nt(at))return nt(ut)?(at=tt.call(at),ut=tt.call(ut),it(at,ut,ft)):!1;if(st(at)){if(!st(ut)||at.length!==ut.length)return!1;for(mt=0;mt<at.length;mt++)if(at[mt]!==ut[mt])return!1;return!0}try{var ht=rt(at),pt=rt(ut)}catch{return!1}if(ht.length!=pt.length)return!1;for(ht.sort(),pt.sort(),mt=ht.length-1;mt>=0;mt--)if(ht[mt]!=pt[mt])return!1;for(mt=ht.length-1;mt>=0;mt--)if(yt=ht[mt],!it(at[yt],ut[yt],ft))return!1;return typeof at==typeof ut}},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(1),rt=function(){function nt(it,ot,st){st===void 0&&(st={}),this.attrName=it,this.keyName=ot;var lt=tt.Scope.TYPE&tt.Scope.ATTRIBUTE;st.scope!=null?this.scope=st.scope&tt.Scope.LEVEL|lt:this.scope=tt.Scope.ATTRIBUTE,st.whitelist!=null&&(this.whitelist=st.whitelist)}return nt.keys=function(it){return[].map.call(it.attributes,function(ot){return ot.name})},nt.prototype.add=function(it,ot){return this.canAdd(it,ot)?(it.setAttribute(this.keyName,ot),!0):!1},nt.prototype.canAdd=function(it,ot){var st=tt.query(it,tt.Scope.BLOT&(this.scope|tt.Scope.TYPE));return st==null?!1:this.whitelist==null?!0:typeof ot=="string"?this.whitelist.indexOf(ot.replace(/["']/g,""))>-1:this.whitelist.indexOf(ot)>-1},nt.prototype.remove=function(it){it.removeAttribute(this.keyName)},nt.prototype.value=function(it){var ot=it.getAttribute(this.keyName);return this.canAdd(it,ot)&&ot?ot:""},nt}();a.default=rt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Code=void 0;var tt=function(){function Tt(wt,It){var At=[],kt=!0,Vt=!1,Mt=void 0;try{for(var Ot=wt[Symbol.iterator](),Dt;!(kt=(Dt=Ot.next()).done)&&(At.push(Dt.value),!(It&&At.length===It));kt=!0);}catch(Ct){Vt=!0,Mt=Ct}finally{try{!kt&&Ot.return&&Ot.return()}finally{if(Vt)throw Mt}}return At}return function(wt,It){if(Array.isArray(wt))return wt;if(Symbol.iterator in Object(wt))return Tt(wt,It);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rt=function(){function Tt(wt,It){for(var At=0;At<It.length;At++){var kt=It[At];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(wt,kt.key,kt)}}return function(wt,It,At){return It&&Tt(wt.prototype,It),At&&Tt(wt,At),wt}}(),nt=function Tt(wt,It,At){wt===null&&(wt=Function.prototype);var kt=Object.getOwnPropertyDescriptor(wt,It);if(kt===void 0){var Vt=Object.getPrototypeOf(wt);return Vt===null?void 0:Tt(Vt,It,At)}else{if("value"in kt)return kt.value;var Mt=kt.get;return Mt===void 0?void 0:Mt.call(At)}},it=et(2),ot=pt(it),st=et(0),lt=pt(st),at=et(4),ut=pt(at),ft=et(6),mt=pt(ft),yt=et(7),ht=pt(yt);function pt(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}function ct(Tt,wt){if(!(Tt instanceof wt))throw new TypeError("Cannot call a class as a function")}function gt(Tt,wt){if(!Tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return wt&&(typeof wt=="object"||typeof wt=="function")?wt:Tt}function Et(Tt,wt){if(typeof wt!="function"&&wt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof wt);Tt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:Tt,enumerable:!1,writable:!0,configurable:!0}}),wt&&(Object.setPrototypeOf?Object.setPrototypeOf(Tt,wt):Tt.__proto__=wt)}var bt=function(Tt){Et(wt,Tt);function wt(){return ct(this,wt),gt(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}return wt}(mt.default);bt.blotName="code",bt.tagName="CODE";var xt=function(Tt){Et(wt,Tt);function wt(){return ct(this,wt),gt(this,(wt.__proto__||Object.getPrototypeOf(wt)).apply(this,arguments))}return rt(wt,[{key:"delta",value:function(){var At=this,kt=this.domNode.textContent;return kt.endsWith(`
`)&&(kt=kt.slice(0,-1)),kt.split(`
`).reduce(function(Vt,Mt){return Vt.insert(Mt).insert(`
`,At.formats())},new ot.default)}},{key:"format",value:function(At,kt){if(!(At===this.statics.blotName&&kt)){var Vt=this.descendant(ht.default,this.length()-1),Mt=tt(Vt,1),Ot=Mt[0];Ot!=null&&Ot.deleteAt(Ot.length()-1,1),nt(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"format",this).call(this,At,kt)}}},{key:"formatAt",value:function(At,kt,Vt,Mt){if(kt!==0&&!(lt.default.query(Vt,lt.default.Scope.BLOCK)==null||Vt===this.statics.blotName&&Mt===this.statics.formats(this.domNode))){var Ot=this.newlineIndex(At);if(!(Ot<0||Ot>=At+kt)){var Dt=this.newlineIndex(At,!0)+1,Ct=Ot-Dt+1,St=this.isolate(Dt,Ct),$t=St.next;St.format(Vt,Mt),$t instanceof wt&&$t.formatAt(0,At-Dt+kt-Ct,Vt,Mt)}}}},{key:"insertAt",value:function(At,kt,Vt){if(Vt==null){var Mt=this.descendant(ht.default,At),Ot=tt(Mt,2),Dt=Ot[0],Ct=Ot[1];Dt.insertAt(Ct,kt)}}},{key:"length",value:function(){var At=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?At:At+1}},{key:"newlineIndex",value:function(At){var kt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(kt)return this.domNode.textContent.slice(0,At).lastIndexOf(`
`);var Vt=this.domNode.textContent.slice(At).indexOf(`
`);return Vt>-1?At+Vt:-1}},{key:"optimize",value:function(At){this.domNode.textContent.endsWith(`
`)||this.appendChild(lt.default.create("text",`
`)),nt(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"optimize",this).call(this,At);var kt=this.next;kt!=null&&kt.prev===this&&kt.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===kt.statics.formats(kt.domNode)&&(kt.optimize(At),kt.moveChildren(this),kt.remove())}},{key:"replace",value:function(At){nt(wt.prototype.__proto__||Object.getPrototypeOf(wt.prototype),"replace",this).call(this,At),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(kt){var Vt=lt.default.find(kt);Vt==null?kt.parentNode.removeChild(kt):Vt instanceof lt.default.Embed?Vt.remove():Vt.unwrap()})}}],[{key:"create",value:function(At){var kt=nt(wt.__proto__||Object.getPrototypeOf(wt),"create",this).call(this,At);return kt.setAttribute("spellcheck",!1),kt}},{key:"formats",value:function(){return!0}}]),wt}(ut.default);xt.blotName="code-block",xt.tagName="PRE",xt.TAB="  ",a.Code=bt,a.default=xt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($t){return typeof $t}:function($t){return $t&&typeof Symbol=="function"&&$t.constructor===Symbol&&$t!==Symbol.prototype?"symbol":typeof $t},rt=function(){function $t(Lt,Rt){var jt=[],Ft=!0,zt=!1,Gt=void 0;try{for(var Bt=Lt[Symbol.iterator](),Wt;!(Ft=(Wt=Bt.next()).done)&&(jt.push(Wt.value),!(Rt&&jt.length===Rt));Ft=!0);}catch(Kt){zt=!0,Gt=Kt}finally{try{!Ft&&Bt.return&&Bt.return()}finally{if(zt)throw Gt}}return jt}return function(Lt,Rt){if(Array.isArray(Lt))return Lt;if(Symbol.iterator in Object(Lt))return $t(Lt,Rt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),nt=function(){function $t(Lt,Rt){for(var jt=0;jt<Rt.length;jt++){var Ft=Rt[jt];Ft.enumerable=Ft.enumerable||!1,Ft.configurable=!0,"value"in Ft&&(Ft.writable=!0),Object.defineProperty(Lt,Ft.key,Ft)}}return function(Lt,Rt,jt){return Rt&&$t(Lt.prototype,Rt),jt&&$t(Lt,jt),Lt}}(),it=et(2),ot=kt(it),st=et(20),lt=kt(st),at=et(0),ut=kt(at),ft=et(13),mt=kt(ft),yt=et(24),ht=kt(yt),pt=et(4),ct=kt(pt),gt=et(16),Et=kt(gt),bt=et(21),xt=kt(bt),Tt=et(11),wt=kt(Tt),It=et(3),At=kt(It);function kt($t){return $t&&$t.__esModule?$t:{default:$t}}function Vt($t,Lt,Rt){return Lt in $t?Object.defineProperty($t,Lt,{value:Rt,enumerable:!0,configurable:!0,writable:!0}):$t[Lt]=Rt,$t}function Mt($t,Lt){if(!($t instanceof Lt))throw new TypeError("Cannot call a class as a function")}var Ot=/^[ -~]*$/,Dt=function(){function $t(Lt){Mt(this,$t),this.scroll=Lt,this.delta=this.getDelta()}return nt($t,[{key:"applyDelta",value:function(Rt){var jt=this,Ft=!1;this.scroll.update();var zt=this.scroll.length();return this.scroll.batchStart(),Rt=St(Rt),Rt.reduce(function(Gt,Bt){var Wt=Bt.retain||Bt.delete||Bt.insert.length||1,Kt=Bt.attributes||{};if(Bt.insert!=null){if(typeof Bt.insert=="string"){var Qt=Bt.insert;Qt.endsWith(`
`)&&Ft&&(Ft=!1,Qt=Qt.slice(0,-1)),Gt>=zt&&!Qt.endsWith(`
`)&&(Ft=!0),jt.scroll.insertAt(Gt,Qt);var Xt=jt.scroll.line(Gt),er=rt(Xt,2),sr=er[0],ur=er[1],nr=(0,At.default)({},(0,pt.bubbleFormats)(sr));if(sr instanceof ct.default){var yr=sr.descendant(ut.default.Leaf,ur),Ar=rt(yr,1),Er=Ar[0];nr=(0,At.default)(nr,(0,pt.bubbleFormats)(Er))}Kt=lt.default.attributes.diff(nr,Kt)||{}}else if(tt(Bt.insert)==="object"){var lr=Object.keys(Bt.insert)[0];if(lr==null)return Gt;jt.scroll.insertAt(Gt,lr,Bt.insert[lr])}zt+=Wt}return Object.keys(Kt).forEach(function(dr){jt.scroll.formatAt(Gt,Wt,dr,Kt[dr])}),Gt+Wt},0),Rt.reduce(function(Gt,Bt){return typeof Bt.delete=="number"?(jt.scroll.deleteAt(Gt,Bt.delete),Gt):Gt+(Bt.retain||Bt.insert.length||1)},0),this.scroll.batchEnd(),this.update(Rt)}},{key:"deleteText",value:function(Rt,jt){return this.scroll.deleteAt(Rt,jt),this.update(new ot.default().retain(Rt).delete(jt))}},{key:"formatLine",value:function(Rt,jt){var Ft=this,zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(zt).forEach(function(Gt){if(!(Ft.scroll.whitelist!=null&&!Ft.scroll.whitelist[Gt])){var Bt=Ft.scroll.lines(Rt,Math.max(jt,1)),Wt=jt;Bt.forEach(function(Kt){var Qt=Kt.length();if(!(Kt instanceof mt.default))Kt.format(Gt,zt[Gt]);else{var Xt=Rt-Kt.offset(Ft.scroll),er=Kt.newlineIndex(Xt+Wt)-Xt+1;Kt.formatAt(Xt,er,Gt,zt[Gt])}Wt-=Qt})}}),this.scroll.optimize(),this.update(new ot.default().retain(Rt).retain(jt,(0,xt.default)(zt)))}},{key:"formatText",value:function(Rt,jt){var Ft=this,zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(zt).forEach(function(Gt){Ft.scroll.formatAt(Rt,jt,Gt,zt[Gt])}),this.update(new ot.default().retain(Rt).retain(jt,(0,xt.default)(zt)))}},{key:"getContents",value:function(Rt,jt){return this.delta.slice(Rt,Rt+jt)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Rt,jt){return Rt.concat(jt.delta())},new ot.default)}},{key:"getFormat",value:function(Rt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ft=[],zt=[];jt===0?this.scroll.path(Rt).forEach(function(Bt){var Wt=rt(Bt,1),Kt=Wt[0];Kt instanceof ct.default?Ft.push(Kt):Kt instanceof ut.default.Leaf&&zt.push(Kt)}):(Ft=this.scroll.lines(Rt,jt),zt=this.scroll.descendants(ut.default.Leaf,Rt,jt));var Gt=[Ft,zt].map(function(Bt){if(Bt.length===0)return{};for(var Wt=(0,pt.bubbleFormats)(Bt.shift());Object.keys(Wt).length>0;){var Kt=Bt.shift();if(Kt==null)return Wt;Wt=Ct((0,pt.bubbleFormats)(Kt),Wt)}return Wt});return At.default.apply(At.default,Gt)}},{key:"getText",value:function(Rt,jt){return this.getContents(Rt,jt).filter(function(Ft){return typeof Ft.insert=="string"}).map(function(Ft){return Ft.insert}).join("")}},{key:"insertEmbed",value:function(Rt,jt,Ft){return this.scroll.insertAt(Rt,jt,Ft),this.update(new ot.default().retain(Rt).insert(Vt({},jt,Ft)))}},{key:"insertText",value:function(Rt,jt){var Ft=this,zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return jt=jt.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Rt,jt),Object.keys(zt).forEach(function(Gt){Ft.scroll.formatAt(Rt,jt.length,Gt,zt[Gt])}),this.update(new ot.default().retain(Rt).insert(jt,(0,xt.default)(zt)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Rt=this.scroll.children.head;return Rt.statics.blotName!==ct.default.blotName||Rt.children.length>1?!1:Rt.children.head instanceof Et.default}},{key:"removeFormat",value:function(Rt,jt){var Ft=this.getText(Rt,jt),zt=this.scroll.line(Rt+jt),Gt=rt(zt,2),Bt=Gt[0],Wt=Gt[1],Kt=0,Qt=new ot.default;Bt!=null&&(Bt instanceof mt.default?Kt=Bt.newlineIndex(Wt)-Wt+1:Kt=Bt.length()-Wt,Qt=Bt.delta().slice(Wt,Wt+Kt-1).insert(`
`));var Xt=this.getContents(Rt,jt+Kt),er=Xt.diff(new ot.default().insert(Ft).concat(Qt)),sr=new ot.default().retain(Rt).concat(er);return this.applyDelta(sr)}},{key:"update",value:function(Rt){var jt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],Ft=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,zt=this.delta;if(jt.length===1&&jt[0].type==="characterData"&&jt[0].target.data.match(Ot)&&ut.default.find(jt[0].target)){var Gt=ut.default.find(jt[0].target),Bt=(0,pt.bubbleFormats)(Gt),Wt=Gt.offset(this.scroll),Kt=jt[0].oldValue.replace(ht.default.CONTENTS,""),Qt=new ot.default().insert(Kt),Xt=new ot.default().insert(Gt.value()),er=new ot.default().retain(Wt).concat(Qt.diff(Xt,Ft));Rt=er.reduce(function(sr,ur){return ur.insert?sr.insert(ur.insert,Bt):sr.push(ur)},new ot.default),this.delta=zt.compose(Rt)}else this.delta=this.getDelta(),(!Rt||!(0,wt.default)(zt.compose(Rt),this.delta))&&(Rt=zt.diff(this.delta,Ft));return Rt}}]),$t}();function Ct($t,Lt){return Object.keys(Lt).reduce(function(Rt,jt){return $t[jt]==null||(Lt[jt]===$t[jt]?Rt[jt]=Lt[jt]:Array.isArray(Lt[jt])?Lt[jt].indexOf($t[jt])<0&&(Rt[jt]=Lt[jt].concat([$t[jt]])):Rt[jt]=[Lt[jt],$t[jt]]),Rt},{})}function St($t){return $t.reduce(function(Lt,Rt){if(Rt.insert===1){var jt=(0,xt.default)(Rt.attributes);return delete jt.image,Lt.insert({image:Rt.attributes.image},jt)}if(Rt.attributes!=null&&(Rt.attributes.list===!0||Rt.attributes.bullet===!0)&&(Rt=(0,xt.default)(Rt),Rt.attributes.list?Rt.attributes.list="ordered":(Rt.attributes.list="bullet",delete Rt.attributes.bullet)),typeof Rt.insert=="string"){var Ft=Rt.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Lt.insert(Ft,Rt.attributes)}return Lt.push(Rt)},new ot.default)}a.default=Dt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.Range=void 0;var tt=function(){function Tt(wt,It){var At=[],kt=!0,Vt=!1,Mt=void 0;try{for(var Ot=wt[Symbol.iterator](),Dt;!(kt=(Dt=Ot.next()).done)&&(At.push(Dt.value),!(It&&At.length===It));kt=!0);}catch(Ct){Vt=!0,Mt=Ct}finally{try{!kt&&Ot.return&&Ot.return()}finally{if(Vt)throw Mt}}return At}return function(wt,It){if(Array.isArray(wt))return wt;if(Symbol.iterator in Object(wt))return Tt(wt,It);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rt=function(){function Tt(wt,It){for(var At=0;At<It.length;At++){var kt=It[At];kt.enumerable=kt.enumerable||!1,kt.configurable=!0,"value"in kt&&(kt.writable=!0),Object.defineProperty(wt,kt.key,kt)}}return function(wt,It,At){return It&&Tt(wt.prototype,It),At&&Tt(wt,At),wt}}(),nt=et(0),it=ht(nt),ot=et(21),st=ht(ot),lt=et(11),at=ht(lt),ut=et(8),ft=ht(ut),mt=et(10),yt=ht(mt);function ht(Tt){return Tt&&Tt.__esModule?Tt:{default:Tt}}function pt(Tt){if(Array.isArray(Tt)){for(var wt=0,It=Array(Tt.length);wt<Tt.length;wt++)It[wt]=Tt[wt];return It}else return Array.from(Tt)}function ct(Tt,wt){if(!(Tt instanceof wt))throw new TypeError("Cannot call a class as a function")}var gt=(0,yt.default)("quill:selection"),Et=function Tt(wt){var It=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;ct(this,Tt),this.index=wt,this.length=It},bt=function(){function Tt(wt,It){var At=this;ct(this,Tt),this.emitter=It,this.scroll=wt,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=it.default.create("cursor",this),this.lastRange=this.savedRange=new Et(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){At.mouseDown||setTimeout(At.update.bind(At,ft.default.sources.USER),1)}),this.emitter.on(ft.default.events.EDITOR_CHANGE,function(kt,Vt){kt===ft.default.events.TEXT_CHANGE&&Vt.length()>0&&At.update(ft.default.sources.SILENT)}),this.emitter.on(ft.default.events.SCROLL_BEFORE_UPDATE,function(){if(At.hasFocus()){var kt=At.getNativeRange();kt!=null&&kt.start.node!==At.cursor.textNode&&At.emitter.once(ft.default.events.SCROLL_UPDATE,function(){try{At.setNativeRange(kt.start.node,kt.start.offset,kt.end.node,kt.end.offset)}catch{}})}}),this.emitter.on(ft.default.events.SCROLL_OPTIMIZE,function(kt,Vt){if(Vt.range){var Mt=Vt.range,Ot=Mt.startNode,Dt=Mt.startOffset,Ct=Mt.endNode,St=Mt.endOffset;At.setNativeRange(Ot,Dt,Ct,St)}}),this.update(ft.default.sources.SILENT)}return rt(Tt,[{key:"handleComposition",value:function(){var It=this;this.root.addEventListener("compositionstart",function(){It.composing=!0}),this.root.addEventListener("compositionend",function(){if(It.composing=!1,It.cursor.parent){var At=It.cursor.restore();if(!At)return;setTimeout(function(){It.setNativeRange(At.startNode,At.startOffset,At.endNode,At.endOffset)},1)}})}},{key:"handleDragging",value:function(){var It=this;this.emitter.listenDOM("mousedown",document.body,function(){It.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){It.mouseDown=!1,It.update(ft.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(It,At){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[It])){this.scroll.update();var kt=this.getNativeRange();if(!(kt==null||!kt.native.collapsed||it.default.query(It,it.default.Scope.BLOCK))){if(kt.start.node!==this.cursor.textNode){var Vt=it.default.find(kt.start.node,!1);if(Vt==null)return;if(Vt instanceof it.default.Leaf){var Mt=Vt.split(kt.start.offset);Vt.parent.insertBefore(this.cursor,Mt)}else Vt.insertBefore(this.cursor,kt.start.node);this.cursor.attach()}this.cursor.format(It,At),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(It){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,kt=this.scroll.length();It=Math.min(It,kt-1),At=Math.min(It+At,kt-1)-It;var Vt=void 0,Mt=this.scroll.leaf(It),Ot=tt(Mt,2),Dt=Ot[0],Ct=Ot[1];if(Dt==null)return null;var St=Dt.position(Ct,!0),$t=tt(St,2);Vt=$t[0],Ct=$t[1];var Lt=document.createRange();if(At>0){Lt.setStart(Vt,Ct);var Rt=this.scroll.leaf(It+At),jt=tt(Rt,2);if(Dt=jt[0],Ct=jt[1],Dt==null)return null;var Ft=Dt.position(Ct,!0),zt=tt(Ft,2);return Vt=zt[0],Ct=zt[1],Lt.setEnd(Vt,Ct),Lt.getBoundingClientRect()}else{var Gt="left",Bt=void 0;return Vt instanceof Text?(Ct<Vt.data.length?(Lt.setStart(Vt,Ct),Lt.setEnd(Vt,Ct+1)):(Lt.setStart(Vt,Ct-1),Lt.setEnd(Vt,Ct),Gt="right"),Bt=Lt.getBoundingClientRect()):(Bt=Dt.domNode.getBoundingClientRect(),Ct>0&&(Gt="right")),{bottom:Bt.top+Bt.height,height:Bt.height,left:Bt[Gt],right:Bt[Gt],top:Bt.top,width:0}}}},{key:"getNativeRange",value:function(){var It=document.getSelection();if(It==null||It.rangeCount<=0)return null;var At=It.getRangeAt(0);if(At==null)return null;var kt=this.normalizeNative(At);return gt.info("getNativeRange",kt),kt}},{key:"getRange",value:function(){var It=this.getNativeRange();if(It==null)return[null,null];var At=this.normalizedToRange(It);return[At,It]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(It){var At=this,kt=[[It.start.node,It.start.offset]];It.native.collapsed||kt.push([It.end.node,It.end.offset]);var Vt=kt.map(function(Dt){var Ct=tt(Dt,2),St=Ct[0],$t=Ct[1],Lt=it.default.find(St,!0),Rt=Lt.offset(At.scroll);return $t===0?Rt:Lt instanceof it.default.Container?Rt+Lt.length():Rt+Lt.index(St,$t)}),Mt=Math.min(Math.max.apply(Math,pt(Vt)),this.scroll.length()-1),Ot=Math.min.apply(Math,[Mt].concat(pt(Vt)));return new Et(Ot,Mt-Ot)}},{key:"normalizeNative",value:function(It){if(!xt(this.root,It.startContainer)||!It.collapsed&&!xt(this.root,It.endContainer))return null;var At={start:{node:It.startContainer,offset:It.startOffset},end:{node:It.endContainer,offset:It.endOffset},native:It};return[At.start,At.end].forEach(function(kt){for(var Vt=kt.node,Mt=kt.offset;!(Vt instanceof Text)&&Vt.childNodes.length>0;)if(Vt.childNodes.length>Mt)Vt=Vt.childNodes[Mt],Mt=0;else if(Vt.childNodes.length===Mt)Vt=Vt.lastChild,Mt=Vt instanceof Text?Vt.data.length:Vt.childNodes.length+1;else break;kt.node=Vt,kt.offset=Mt}),At}},{key:"rangeToNative",value:function(It){var At=this,kt=It.collapsed?[It.index]:[It.index,It.index+It.length],Vt=[],Mt=this.scroll.length();return kt.forEach(function(Ot,Dt){Ot=Math.min(Mt-1,Ot);var Ct=void 0,St=At.scroll.leaf(Ot),$t=tt(St,2),Lt=$t[0],Rt=$t[1],jt=Lt.position(Rt,Dt!==0),Ft=tt(jt,2);Ct=Ft[0],Rt=Ft[1],Vt.push(Ct,Rt)}),Vt.length<2&&(Vt=Vt.concat(Vt)),Vt}},{key:"scrollIntoView",value:function(It){var At=this.lastRange;if(At!=null){var kt=this.getBounds(At.index,At.length);if(kt!=null){var Vt=this.scroll.length()-1,Mt=this.scroll.line(Math.min(At.index,Vt)),Ot=tt(Mt,1),Dt=Ot[0],Ct=Dt;if(At.length>0){var St=this.scroll.line(Math.min(At.index+At.length,Vt)),$t=tt(St,1);Ct=$t[0]}if(!(Dt==null||Ct==null)){var Lt=It.getBoundingClientRect();kt.top<Lt.top?It.scrollTop-=Lt.top-kt.top:kt.bottom>Lt.bottom&&(It.scrollTop+=kt.bottom-Lt.bottom)}}}}},{key:"setNativeRange",value:function(It,At){var kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:It,Vt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:At,Mt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(gt.info("setNativeRange",It,At,kt,Vt),!(It!=null&&(this.root.parentNode==null||It.parentNode==null||kt.parentNode==null))){var Ot=document.getSelection();if(Ot!=null)if(It!=null){this.hasFocus()||this.root.focus();var Dt=(this.getNativeRange()||{}).native;if(Dt==null||Mt||It!==Dt.startContainer||At!==Dt.startOffset||kt!==Dt.endContainer||Vt!==Dt.endOffset){It.tagName=="BR"&&(At=[].indexOf.call(It.parentNode.childNodes,It),It=It.parentNode),kt.tagName=="BR"&&(Vt=[].indexOf.call(kt.parentNode.childNodes,kt),kt=kt.parentNode);var Ct=document.createRange();Ct.setStart(It,At),Ct.setEnd(kt,Vt),Ot.removeAllRanges(),Ot.addRange(Ct)}}else Ot.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(It){var At=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,kt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:ft.default.sources.API;if(typeof At=="string"&&(kt=At,At=!1),gt.info("setRange",It),It!=null){var Vt=this.rangeToNative(It);this.setNativeRange.apply(this,pt(Vt).concat([At]))}else this.setNativeRange(null);this.update(kt)}},{key:"update",value:function(){var It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ft.default.sources.USER,At=this.lastRange,kt=this.getRange(),Vt=tt(kt,2),Mt=Vt[0],Ot=Vt[1];if(this.lastRange=Mt,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,at.default)(At,this.lastRange)){var Dt;!this.composing&&Ot!=null&&Ot.native.collapsed&&Ot.start.node!==this.cursor.textNode&&this.cursor.restore();var Ct=[ft.default.events.SELECTION_CHANGE,(0,st.default)(this.lastRange),(0,st.default)(At),It];if((Dt=this.emitter).emit.apply(Dt,[ft.default.events.EDITOR_CHANGE].concat(Ct)),It!==ft.default.sources.SILENT){var St;(St=this.emitter).emit.apply(St,Ct)}}}}]),Tt}();function xt(Tt,wt){try{wt.parentNode}catch{return!1}return wt instanceof Text&&(wt=wt.parentNode),Tt.contains(wt)}a.Range=Et,a.default=bt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ft(mt,yt){for(var ht=0;ht<yt.length;ht++){var pt=yt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(mt,pt.key,pt)}}return function(mt,yt,ht){return yt&&ft(mt.prototype,yt),ht&&ft(mt,ht),mt}}(),rt=function ft(mt,yt,ht){mt===null&&(mt=Function.prototype);var pt=Object.getOwnPropertyDescriptor(mt,yt);if(pt===void 0){var ct=Object.getPrototypeOf(mt);return ct===null?void 0:ft(ct,yt,ht)}else{if("value"in pt)return pt.value;var gt=pt.get;return gt===void 0?void 0:gt.call(ht)}},nt=et(0),it=ot(nt);function ot(ft){return ft&&ft.__esModule?ft:{default:ft}}function st(ft,mt){if(!(ft instanceof mt))throw new TypeError("Cannot call a class as a function")}function lt(ft,mt){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ft}function at(ft,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ft.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,mt):ft.__proto__=mt)}var ut=function(ft){at(mt,ft);function mt(){return st(this,mt),lt(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return tt(mt,[{key:"insertInto",value:function(ht,pt){ht.children.length===0?rt(mt.prototype.__proto__||Object.getPrototypeOf(mt.prototype),"insertInto",this).call(this,ht,pt):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),mt}(it.default.Embed);ut.blotName="break",ut.tagName="BR",a.default=ut},function(s,a,et){var tt=this&&this.__extends||function(){var lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,ut){at.__proto__=ut}||function(at,ut){for(var ft in ut)ut.hasOwnProperty(ft)&&(at[ft]=ut[ft])};return function(at,ut){lt(at,ut);function ft(){this.constructor=at}at.prototype=ut===null?Object.create(ut):(ft.prototype=ut.prototype,new ft)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(44),nt=et(30),it=et(1),ot=function(lt){tt(at,lt);function at(ut){var ft=lt.call(this,ut)||this;return ft.build(),ft}return at.prototype.appendChild=function(ut){this.insertBefore(ut)},at.prototype.attach=function(){lt.prototype.attach.call(this),this.children.forEach(function(ut){ut.attach()})},at.prototype.build=function(){var ut=this;this.children=new rt.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(ft){try{var mt=st(ft);ut.insertBefore(mt,ut.children.head||void 0)}catch(yt){if(yt instanceof it.ParchmentError)return;throw yt}})},at.prototype.deleteAt=function(ut,ft){if(ut===0&&ft===this.length())return this.remove();this.children.forEachAt(ut,ft,function(mt,yt,ht){mt.deleteAt(yt,ht)})},at.prototype.descendant=function(ut,ft){var mt=this.children.find(ft),yt=mt[0],ht=mt[1];return ut.blotName==null&&ut(yt)||ut.blotName!=null&&yt instanceof ut?[yt,ht]:yt instanceof at?yt.descendant(ut,ht):[null,-1]},at.prototype.descendants=function(ut,ft,mt){ft===void 0&&(ft=0),mt===void 0&&(mt=Number.MAX_VALUE);var yt=[],ht=mt;return this.children.forEachAt(ft,mt,function(pt,ct,gt){(ut.blotName==null&&ut(pt)||ut.blotName!=null&&pt instanceof ut)&&yt.push(pt),pt instanceof at&&(yt=yt.concat(pt.descendants(ut,ct,ht))),ht-=gt}),yt},at.prototype.detach=function(){this.children.forEach(function(ut){ut.detach()}),lt.prototype.detach.call(this)},at.prototype.formatAt=function(ut,ft,mt,yt){this.children.forEachAt(ut,ft,function(ht,pt,ct){ht.formatAt(pt,ct,mt,yt)})},at.prototype.insertAt=function(ut,ft,mt){var yt=this.children.find(ut),ht=yt[0],pt=yt[1];if(ht)ht.insertAt(pt,ft,mt);else{var ct=mt==null?it.create("text",ft):it.create(ft,mt);this.appendChild(ct)}},at.prototype.insertBefore=function(ut,ft){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(mt){return ut instanceof mt}))throw new it.ParchmentError("Cannot insert "+ut.statics.blotName+" into "+this.statics.blotName);ut.insertInto(this,ft)},at.prototype.length=function(){return this.children.reduce(function(ut,ft){return ut+ft.length()},0)},at.prototype.moveChildren=function(ut,ft){this.children.forEach(function(mt){ut.insertBefore(mt,ft)})},at.prototype.optimize=function(ut){if(lt.prototype.optimize.call(this,ut),this.children.length===0)if(this.statics.defaultChild!=null){var ft=it.create(this.statics.defaultChild);this.appendChild(ft),ft.optimize(ut)}else this.remove()},at.prototype.path=function(ut,ft){ft===void 0&&(ft=!1);var mt=this.children.find(ut,ft),yt=mt[0],ht=mt[1],pt=[[this,ut]];return yt instanceof at?pt.concat(yt.path(ht,ft)):(yt!=null&&pt.push([yt,ht]),pt)},at.prototype.removeChild=function(ut){this.children.remove(ut)},at.prototype.replace=function(ut){ut instanceof at&&ut.moveChildren(this),lt.prototype.replace.call(this,ut)},at.prototype.split=function(ut,ft){if(ft===void 0&&(ft=!1),!ft){if(ut===0)return this;if(ut===this.length())return this.next}var mt=this.clone();return this.parent.insertBefore(mt,this.next),this.children.forEachAt(ut,this.length(),function(yt,ht,pt){yt=yt.split(ht,ft),mt.appendChild(yt)}),mt},at.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},at.prototype.update=function(ut,ft){var mt=this,yt=[],ht=[];ut.forEach(function(pt){pt.target===mt.domNode&&pt.type==="childList"&&(yt.push.apply(yt,pt.addedNodes),ht.push.apply(ht,pt.removedNodes))}),ht.forEach(function(pt){if(!(pt.parentNode!=null&&pt.tagName!=="IFRAME"&&document.body.compareDocumentPosition(pt)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var ct=it.find(pt);ct!=null&&(ct.domNode.parentNode==null||ct.domNode.parentNode===mt.domNode)&&ct.detach()}}),yt.filter(function(pt){return pt.parentNode==mt.domNode}).sort(function(pt,ct){return pt===ct?0:pt.compareDocumentPosition(ct)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(pt){var ct=null;pt.nextSibling!=null&&(ct=it.find(pt.nextSibling));var gt=st(pt);(gt.next!=ct||gt.next==null)&&(gt.parent!=null&&gt.parent.removeChild(mt),mt.insertBefore(gt,ct||void 0))})},at}(nt.default);function st(lt){var at=it.find(lt);if(at==null)try{at=it.create(lt)}catch{at=it.create(it.Scope.INLINE),[].slice.call(lt.childNodes).forEach(function(ft){at.domNode.appendChild(ft)}),lt.parentNode&&lt.parentNode.replaceChild(at.domNode,lt),at.attach()}return at}a.default=ot},function(s,a,et){var tt=this&&this.__extends||function(){var lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,ut){at.__proto__=ut}||function(at,ut){for(var ft in ut)ut.hasOwnProperty(ft)&&(at[ft]=ut[ft])};return function(at,ut){lt(at,ut);function ft(){this.constructor=at}at.prototype=ut===null?Object.create(ut):(ft.prototype=ut.prototype,new ft)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(12),nt=et(31),it=et(17),ot=et(1),st=function(lt){tt(at,lt);function at(ut){var ft=lt.call(this,ut)||this;return ft.attributes=new nt.default(ft.domNode),ft}return at.formats=function(ut){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return ut.tagName.toLowerCase()},at.prototype.format=function(ut,ft){var mt=ot.query(ut);mt instanceof rt.default?this.attributes.attribute(mt,ft):ft&&mt!=null&&(ut!==this.statics.blotName||this.formats()[ut]!==ft)&&this.replaceWith(ut,ft)},at.prototype.formats=function(){var ut=this.attributes.values(),ft=this.statics.formats(this.domNode);return ft!=null&&(ut[this.statics.blotName]=ft),ut},at.prototype.replaceWith=function(ut,ft){var mt=lt.prototype.replaceWith.call(this,ut,ft);return this.attributes.copy(mt),mt},at.prototype.update=function(ut,ft){var mt=this;lt.prototype.update.call(this,ut,ft),ut.some(function(yt){return yt.target===mt.domNode&&yt.type==="attributes"})&&this.attributes.build()},at.prototype.wrap=function(ut,ft){var mt=lt.prototype.wrap.call(this,ut,ft);return mt instanceof at&&mt.statics.scope===this.statics.scope&&this.attributes.move(mt),mt},at}(it.default);a.default=st},function(s,a,et){var tt=this&&this.__extends||function(){var ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,lt){st.__proto__=lt}||function(st,lt){for(var at in lt)lt.hasOwnProperty(at)&&(st[at]=lt[at])};return function(st,lt){ot(st,lt);function at(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(at.prototype=lt.prototype,new at)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(30),nt=et(1),it=function(ot){tt(st,ot);function st(){return ot!==null&&ot.apply(this,arguments)||this}return st.value=function(lt){return!0},st.prototype.index=function(lt,at){return this.domNode===lt||this.domNode.compareDocumentPosition(lt)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(at,1):-1},st.prototype.position=function(lt,at){var ut=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return lt>0&&(ut+=1),[this.parent.domNode,ut]},st.prototype.value=function(){var lt;return lt={},lt[this.statics.blotName]=this.statics.value(this.domNode)||!0,lt},st.scope=nt.Scope.INLINE_BLOT,st}(rt.default);a.default=it},function(s,a,et){var tt=et(11),rt=et(3),nt={attributes:{compose:function(ot,st,lt){typeof ot!="object"&&(ot={}),typeof st!="object"&&(st={});var at=rt(!0,{},st);lt||(at=Object.keys(at).reduce(function(ft,mt){return at[mt]!=null&&(ft[mt]=at[mt]),ft},{}));for(var ut in ot)ot[ut]!==void 0&&st[ut]===void 0&&(at[ut]=ot[ut]);return Object.keys(at).length>0?at:void 0},diff:function(ot,st){typeof ot!="object"&&(ot={}),typeof st!="object"&&(st={});var lt=Object.keys(ot).concat(Object.keys(st)).reduce(function(at,ut){return tt(ot[ut],st[ut])||(at[ut]=st[ut]===void 0?null:st[ut]),at},{});return Object.keys(lt).length>0?lt:void 0},transform:function(ot,st,lt){if(typeof ot!="object")return st;if(typeof st=="object"){if(!lt)return st;var at=Object.keys(st).reduce(function(ut,ft){return ot[ft]===void 0&&(ut[ft]=st[ft]),ut},{});return Object.keys(at).length>0?at:void 0}}},iterator:function(ot){return new it(ot)},length:function(ot){return typeof ot.delete=="number"?ot.delete:typeof ot.retain=="number"?ot.retain:typeof ot.insert=="string"?ot.insert.length:1}};function it(ot){this.ops=ot,this.index=0,this.offset=0}it.prototype.hasNext=function(){return this.peekLength()<1/0},it.prototype.next=function(ot){ot||(ot=1/0);var st=this.ops[this.index];if(st){var lt=this.offset,at=nt.length(st);if(ot>=at-lt?(ot=at-lt,this.index+=1,this.offset=0):this.offset+=ot,typeof st.delete=="number")return{delete:ot};var ut={};return st.attributes&&(ut.attributes=st.attributes),typeof st.retain=="number"?ut.retain=ot:typeof st.insert=="string"?ut.insert=st.insert.substr(lt,ot):ut.insert=st.insert,ut}else return{retain:1/0}},it.prototype.peek=function(){return this.ops[this.index]},it.prototype.peekLength=function(){return this.ops[this.index]?nt.length(this.ops[this.index])-this.offset:1/0},it.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},it.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var ot=this.offset,st=this.index,lt=this.next(),at=this.ops.slice(this.index);return this.offset=ot,this.index=st,[lt].concat(at)}else return[]},s.exports=nt},function(s,a){var et=function(){function tt(mt,yt){return yt!=null&&mt instanceof yt}var rt;try{rt=Map}catch{rt=function(){}}var nt;try{nt=Set}catch{nt=function(){}}var it;try{it=Promise}catch{it=function(){}}function ot(mt,yt,ht,pt,ct){typeof yt=="object"&&(ht=yt.depth,pt=yt.prototype,ct=yt.includeNonEnumerable,yt=yt.circular);var gt=[],Et=[],bt=typeof Buffer<"u";typeof yt>"u"&&(yt=!0),typeof ht>"u"&&(ht=1/0);function xt(Tt,wt){if(Tt===null)return null;if(wt===0)return Tt;var It,At;if(typeof Tt!="object")return Tt;if(tt(Tt,rt))It=new rt;else if(tt(Tt,nt))It=new nt;else if(tt(Tt,it))It=new it(function(Lt,Rt){Tt.then(function(jt){Lt(xt(jt,wt-1))},function(jt){Rt(xt(jt,wt-1))})});else if(ot.__isArray(Tt))It=[];else if(ot.__isRegExp(Tt))It=new RegExp(Tt.source,ft(Tt)),Tt.lastIndex&&(It.lastIndex=Tt.lastIndex);else if(ot.__isDate(Tt))It=new Date(Tt.getTime());else{if(bt&&Buffer.isBuffer(Tt))return Buffer.allocUnsafe?It=Buffer.allocUnsafe(Tt.length):It=new Buffer(Tt.length),Tt.copy(It),It;tt(Tt,Error)?It=Object.create(Tt):typeof pt>"u"?(At=Object.getPrototypeOf(Tt),It=Object.create(At)):(It=Object.create(pt),At=pt)}if(yt){var kt=gt.indexOf(Tt);if(kt!=-1)return Et[kt];gt.push(Tt),Et.push(It)}tt(Tt,rt)&&Tt.forEach(function(Lt,Rt){var jt=xt(Rt,wt-1),Ft=xt(Lt,wt-1);It.set(jt,Ft)}),tt(Tt,nt)&&Tt.forEach(function(Lt){var Rt=xt(Lt,wt-1);It.add(Rt)});for(var Vt in Tt){var Mt;At&&(Mt=Object.getOwnPropertyDescriptor(At,Vt)),!(Mt&&Mt.set==null)&&(It[Vt]=xt(Tt[Vt],wt-1))}if(Object.getOwnPropertySymbols)for(var Ot=Object.getOwnPropertySymbols(Tt),Vt=0;Vt<Ot.length;Vt++){var Dt=Ot[Vt],Ct=Object.getOwnPropertyDescriptor(Tt,Dt);Ct&&!Ct.enumerable&&!ct||(It[Dt]=xt(Tt[Dt],wt-1),Ct.enumerable||Object.defineProperty(It,Dt,{enumerable:!1}))}if(ct)for(var St=Object.getOwnPropertyNames(Tt),Vt=0;Vt<St.length;Vt++){var $t=St[Vt],Ct=Object.getOwnPropertyDescriptor(Tt,$t);Ct&&Ct.enumerable||(It[$t]=xt(Tt[$t],wt-1),Object.defineProperty(It,$t,{enumerable:!1}))}return It}return xt(mt,ht)}ot.clonePrototype=function(yt){if(yt===null)return null;var ht=function(){};return ht.prototype=yt,new ht};function st(mt){return Object.prototype.toString.call(mt)}ot.__objToStr=st;function lt(mt){return typeof mt=="object"&&st(mt)==="[object Date]"}ot.__isDate=lt;function at(mt){return typeof mt=="object"&&st(mt)==="[object Array]"}ot.__isArray=at;function ut(mt){return typeof mt=="object"&&st(mt)==="[object RegExp]"}ot.__isRegExp=ut;function ft(mt){var yt="";return mt.global&&(yt+="g"),mt.ignoreCase&&(yt+="i"),mt.multiline&&(yt+="m"),yt}return ot.__getRegExpFlags=ft,ot}();typeof s=="object"&&s.exports&&(s.exports=et)},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function It(At,kt){var Vt=[],Mt=!0,Ot=!1,Dt=void 0;try{for(var Ct=At[Symbol.iterator](),St;!(Mt=(St=Ct.next()).done)&&(Vt.push(St.value),!(kt&&Vt.length===kt));Mt=!0);}catch($t){Ot=!0,Dt=$t}finally{try{!Mt&&Ct.return&&Ct.return()}finally{if(Ot)throw Dt}}return Vt}return function(At,kt){if(Array.isArray(At))return At;if(Symbol.iterator in Object(At))return It(At,kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rt=function(){function It(At,kt){for(var Vt=0;Vt<kt.length;Vt++){var Mt=kt[Vt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(At,Mt.key,Mt)}}return function(At,kt,Vt){return kt&&It(At.prototype,kt),Vt&&It(At,Vt),At}}(),nt=function It(At,kt,Vt){At===null&&(At=Function.prototype);var Mt=Object.getOwnPropertyDescriptor(At,kt);if(Mt===void 0){var Ot=Object.getPrototypeOf(At);return Ot===null?void 0:It(Ot,kt,Vt)}else{if("value"in Mt)return Mt.value;var Dt=Mt.get;return Dt===void 0?void 0:Dt.call(Vt)}},it=et(0),ot=gt(it),st=et(8),lt=gt(st),at=et(4),ut=gt(at),ft=et(16),mt=gt(ft),yt=et(13),ht=gt(yt),pt=et(25),ct=gt(pt);function gt(It){return It&&It.__esModule?It:{default:It}}function Et(It,At){if(!(It instanceof At))throw new TypeError("Cannot call a class as a function")}function bt(It,At){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At&&(typeof At=="object"||typeof At=="function")?At:It}function xt(It,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);It.prototype=Object.create(At&&At.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(It,At):It.__proto__=At)}function Tt(It){return It instanceof ut.default||It instanceof at.BlockEmbed}var wt=function(It){xt(At,It);function At(kt,Vt){Et(this,At);var Mt=bt(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,kt));return Mt.emitter=Vt.emitter,Array.isArray(Vt.whitelist)&&(Mt.whitelist=Vt.whitelist.reduce(function(Ot,Dt){return Ot[Dt]=!0,Ot},{})),Mt.domNode.addEventListener("DOMNodeInserted",function(){}),Mt.optimize(),Mt.enable(),Mt}return rt(At,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(Vt,Mt){var Ot=this.line(Vt),Dt=tt(Ot,2),Ct=Dt[0],St=Dt[1],$t=this.line(Vt+Mt),Lt=tt($t,1),Rt=Lt[0];if(nt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"deleteAt",this).call(this,Vt,Mt),Rt!=null&&Ct!==Rt&&St>0){if(Ct instanceof at.BlockEmbed||Rt instanceof at.BlockEmbed){this.optimize();return}if(Ct instanceof ht.default){var jt=Ct.newlineIndex(Ct.length(),!0);if(jt>-1&&(Ct=Ct.split(jt+1),Ct===Rt)){this.optimize();return}}else if(Rt instanceof ht.default){var Ft=Rt.newlineIndex(0);Ft>-1&&Rt.split(Ft+1)}var zt=Rt.children.head instanceof mt.default?null:Rt.children.head;Ct.moveChildren(Rt,zt),Ct.remove()}this.optimize()}},{key:"enable",value:function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",Vt)}},{key:"formatAt",value:function(Vt,Mt,Ot,Dt){this.whitelist!=null&&!this.whitelist[Ot]||(nt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"formatAt",this).call(this,Vt,Mt,Ot,Dt),this.optimize())}},{key:"insertAt",value:function(Vt,Mt,Ot){if(!(Ot!=null&&this.whitelist!=null&&!this.whitelist[Mt])){if(Vt>=this.length())if(Ot==null||ot.default.query(Mt,ot.default.Scope.BLOCK)==null){var Dt=ot.default.create(this.statics.defaultChild);this.appendChild(Dt),Ot==null&&Mt.endsWith(`
`)&&(Mt=Mt.slice(0,-1)),Dt.insertAt(0,Mt,Ot)}else{var Ct=ot.default.create(Mt,Ot);this.appendChild(Ct)}else nt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"insertAt",this).call(this,Vt,Mt,Ot);this.optimize()}}},{key:"insertBefore",value:function(Vt,Mt){if(Vt.statics.scope===ot.default.Scope.INLINE_BLOT){var Ot=ot.default.create(this.statics.defaultChild);Ot.appendChild(Vt),Vt=Ot}nt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"insertBefore",this).call(this,Vt,Mt)}},{key:"leaf",value:function(Vt){return this.path(Vt).pop()||[null,-1]}},{key:"line",value:function(Vt){return Vt===this.length()?this.line(Vt-1):this.descendant(Tt,Vt)}},{key:"lines",value:function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,Ot=function Dt(Ct,St,$t){var Lt=[],Rt=$t;return Ct.children.forEachAt(St,$t,function(jt,Ft,zt){Tt(jt)?Lt.push(jt):jt instanceof ot.default.Container&&(Lt=Lt.concat(Dt(jt,Ft,Rt))),Rt-=zt}),Lt};return Ot(this,Vt,Mt)}},{key:"optimize",value:function(){var Vt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],Mt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(nt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"optimize",this).call(this,Vt,Mt),Vt.length>0&&this.emitter.emit(lt.default.events.SCROLL_OPTIMIZE,Vt,Mt))}},{key:"path",value:function(Vt){return nt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"path",this).call(this,Vt).slice(1)}},{key:"update",value:function(Vt){if(this.batch!==!0){var Mt=lt.default.sources.USER;typeof Vt=="string"&&(Mt=Vt),Array.isArray(Vt)||(Vt=this.observer.takeRecords()),Vt.length>0&&this.emitter.emit(lt.default.events.SCROLL_BEFORE_UPDATE,Mt,Vt),nt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"update",this).call(this,Vt.concat([])),Vt.length>0&&this.emitter.emit(lt.default.events.SCROLL_UPDATE,Mt,Vt)}}}]),At}(ot.default.Scroll);wt.blotName="scroll",wt.className="ql-editor",wt.tagName="DIV",wt.defaultChild="block",wt.allowedChildren=[ut.default,at.BlockEmbed,ct.default],a.default=wt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.SHORTKEY=a.default=void 0;var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Bt){return typeof Bt}:function(Bt){return Bt&&typeof Symbol=="function"&&Bt.constructor===Symbol&&Bt!==Symbol.prototype?"symbol":typeof Bt},rt=function(){function Bt(Wt,Kt){var Qt=[],Xt=!0,er=!1,sr=void 0;try{for(var ur=Wt[Symbol.iterator](),nr;!(Xt=(nr=ur.next()).done)&&(Qt.push(nr.value),!(Kt&&Qt.length===Kt));Xt=!0);}catch(yr){er=!0,sr=yr}finally{try{!Xt&&ur.return&&ur.return()}finally{if(er)throw sr}}return Qt}return function(Wt,Kt){if(Array.isArray(Wt))return Wt;if(Symbol.iterator in Object(Wt))return Bt(Wt,Kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),nt=function(){function Bt(Wt,Kt){for(var Qt=0;Qt<Kt.length;Qt++){var Xt=Kt[Qt];Xt.enumerable=Xt.enumerable||!1,Xt.configurable=!0,"value"in Xt&&(Xt.writable=!0),Object.defineProperty(Wt,Xt.key,Xt)}}return function(Wt,Kt,Qt){return Kt&&Bt(Wt.prototype,Kt),Qt&&Bt(Wt,Qt),Wt}}(),it=et(21),ot=It(it),st=et(11),lt=It(st),at=et(3),ut=It(at),ft=et(2),mt=It(ft),yt=et(20),ht=It(yt),pt=et(0),ct=It(pt),gt=et(5),Et=It(gt),bt=et(10),xt=It(bt),Tt=et(9),wt=It(Tt);function It(Bt){return Bt&&Bt.__esModule?Bt:{default:Bt}}function At(Bt,Wt,Kt){return Wt in Bt?Object.defineProperty(Bt,Wt,{value:Kt,enumerable:!0,configurable:!0,writable:!0}):Bt[Wt]=Kt,Bt}function kt(Bt,Wt){if(!(Bt instanceof Wt))throw new TypeError("Cannot call a class as a function")}function Vt(Bt,Wt){if(!Bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Wt&&(typeof Wt=="object"||typeof Wt=="function")?Wt:Bt}function Mt(Bt,Wt){if(typeof Wt!="function"&&Wt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Wt);Bt.prototype=Object.create(Wt&&Wt.prototype,{constructor:{value:Bt,enumerable:!1,writable:!0,configurable:!0}}),Wt&&(Object.setPrototypeOf?Object.setPrototypeOf(Bt,Wt):Bt.__proto__=Wt)}var Ot=(0,xt.default)("quill:keyboard"),Dt=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",Ct=function(Bt){Mt(Wt,Bt),nt(Wt,null,[{key:"match",value:function(Qt,Xt){return Xt=Gt(Xt),["altKey","ctrlKey","metaKey","shiftKey"].some(function(er){return!!Xt[er]!==Qt[er]&&Xt[er]!==null})?!1:Xt.key===(Qt.which||Qt.keyCode)}}]);function Wt(Kt,Qt){kt(this,Wt);var Xt=Vt(this,(Wt.__proto__||Object.getPrototypeOf(Wt)).call(this,Kt,Qt));return Xt.bindings={},Object.keys(Xt.options.bindings).forEach(function(er){er==="list autofill"&&Kt.scroll.whitelist!=null&&!Kt.scroll.whitelist.list||Xt.options.bindings[er]&&Xt.addBinding(Xt.options.bindings[er])}),Xt.addBinding({key:Wt.keys.ENTER,shiftKey:null},jt),Xt.addBinding({key:Wt.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(Xt.addBinding({key:Wt.keys.BACKSPACE},{collapsed:!0},$t),Xt.addBinding({key:Wt.keys.DELETE},{collapsed:!0},Lt)):(Xt.addBinding({key:Wt.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},$t),Xt.addBinding({key:Wt.keys.DELETE},{collapsed:!0,suffix:/^.?$/},Lt)),Xt.addBinding({key:Wt.keys.BACKSPACE},{collapsed:!1},Rt),Xt.addBinding({key:Wt.keys.DELETE},{collapsed:!1},Rt),Xt.addBinding({key:Wt.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},$t),Xt.listen(),Xt}return nt(Wt,[{key:"addBinding",value:function(Qt){var Xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},er=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},sr=Gt(Qt);if(sr==null||sr.key==null)return Ot.warn("Attempted to add invalid keyboard binding",sr);typeof Xt=="function"&&(Xt={handler:Xt}),typeof er=="function"&&(er={handler:er}),sr=(0,ut.default)(sr,Xt,er),this.bindings[sr.key]=this.bindings[sr.key]||[],this.bindings[sr.key].push(sr)}},{key:"listen",value:function(){var Qt=this;this.quill.root.addEventListener("keydown",function(Xt){if(!Xt.defaultPrevented){var er=Xt.which||Xt.keyCode,sr=(Qt.bindings[er]||[]).filter(function(Br){return Wt.match(Xt,Br)});if(sr.length!==0){var ur=Qt.quill.getSelection();if(!(ur==null||!Qt.quill.hasFocus())){var nr=Qt.quill.getLine(ur.index),yr=rt(nr,2),Ar=yr[0],Er=yr[1],lr=Qt.quill.getLeaf(ur.index),dr=rt(lr,2),pr=dr[0],ar=dr[1],mr=ur.length===0?[pr,ar]:Qt.quill.getLeaf(ur.index+ur.length),wr=rt(mr,2),Sr=wr[0],Or=wr[1],Ur=pr instanceof ct.default.Text?pr.value().slice(0,ar):"",zr=Sr instanceof ct.default.Text?Sr.value().slice(Or):"",Vr={collapsed:ur.length===0,empty:ur.length===0&&Ar.length()<=1,format:Qt.quill.getFormat(ur),offset:Er,prefix:Ur,suffix:zr},Mr=sr.some(function(Br){if(Br.collapsed!=null&&Br.collapsed!==Vr.collapsed||Br.empty!=null&&Br.empty!==Vr.empty||Br.offset!=null&&Br.offset!==Vr.offset)return!1;if(Array.isArray(Br.format)){if(Br.format.every(function(fn){return Vr.format[fn]==null}))return!1}else if(tt(Br.format)==="object"&&!Object.keys(Br.format).every(function(fn){return Br.format[fn]===!0?Vr.format[fn]!=null:Br.format[fn]===!1?Vr.format[fn]==null:(0,lt.default)(Br.format[fn],Vr.format[fn])}))return!1;return Br.prefix!=null&&!Br.prefix.test(Vr.prefix)||Br.suffix!=null&&!Br.suffix.test(Vr.suffix)?!1:Br.handler.call(Qt,ur,Vr)!==!0});Mr&&Xt.preventDefault()}}}})}}]),Wt}(wt.default);Ct.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},Ct.DEFAULTS={bindings:{bold:zt("bold"),italic:zt("italic"),underline:zt("underline"),indent:{key:Ct.keys.TAB,format:["blockquote","indent","list"],handler:function(Wt,Kt){if(Kt.collapsed&&Kt.offset!==0)return!0;this.quill.format("indent","+1",Et.default.sources.USER)}},outdent:{key:Ct.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Wt,Kt){if(Kt.collapsed&&Kt.offset!==0)return!0;this.quill.format("indent","-1",Et.default.sources.USER)}},"outdent backspace":{key:Ct.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Wt,Kt){Kt.format.indent!=null?this.quill.format("indent","-1",Et.default.sources.USER):Kt.format.list!=null&&this.quill.format("list",!1,Et.default.sources.USER)}},"indent code-block":Ft(!0),"outdent code-block":Ft(!1),"remove tab":{key:Ct.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Wt){this.quill.deleteText(Wt.index-1,1,Et.default.sources.USER)}},tab:{key:Ct.keys.TAB,handler:function(Wt){this.quill.history.cutoff();var Kt=new mt.default().retain(Wt.index).delete(Wt.length).insert("	");this.quill.updateContents(Kt,Et.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Wt.index+1,Et.default.sources.SILENT)}},"list empty enter":{key:Ct.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Wt,Kt){this.quill.format("list",!1,Et.default.sources.USER),Kt.format.indent&&this.quill.format("indent",!1,Et.default.sources.USER)}},"checklist enter":{key:Ct.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Wt){var Kt=this.quill.getLine(Wt.index),Qt=rt(Kt,2),Xt=Qt[0],er=Qt[1],sr=(0,ut.default)({},Xt.formats(),{list:"checked"}),ur=new mt.default().retain(Wt.index).insert(`
`,sr).retain(Xt.length()-er-1).retain(1,{list:"unchecked"});this.quill.updateContents(ur,Et.default.sources.USER),this.quill.setSelection(Wt.index+1,Et.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:Ct.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Wt,Kt){var Qt=this.quill.getLine(Wt.index),Xt=rt(Qt,2),er=Xt[0],sr=Xt[1],ur=new mt.default().retain(Wt.index).insert(`
`,Kt.format).retain(er.length()-sr-1).retain(1,{header:null});this.quill.updateContents(ur,Et.default.sources.USER),this.quill.setSelection(Wt.index+1,Et.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Wt,Kt){var Qt=Kt.prefix.length,Xt=this.quill.getLine(Wt.index),er=rt(Xt,2),sr=er[0],ur=er[1];if(ur>Qt)return!0;var nr=void 0;switch(Kt.prefix.trim()){case"[]":case"[ ]":nr="unchecked";break;case"[x]":nr="checked";break;case"-":case"*":nr="bullet";break;default:nr="ordered"}this.quill.insertText(Wt.index," ",Et.default.sources.USER),this.quill.history.cutoff();var yr=new mt.default().retain(Wt.index-ur).delete(Qt+1).retain(sr.length()-2-ur).retain(1,{list:nr});this.quill.updateContents(yr,Et.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Wt.index-Qt,Et.default.sources.SILENT)}},"code exit":{key:Ct.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Wt){var Kt=this.quill.getLine(Wt.index),Qt=rt(Kt,2),Xt=Qt[0],er=Qt[1],sr=new mt.default().retain(Wt.index+Xt.length()-er-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(sr,Et.default.sources.USER)}},"embed left":St(Ct.keys.LEFT,!1),"embed left shift":St(Ct.keys.LEFT,!0),"embed right":St(Ct.keys.RIGHT,!1),"embed right shift":St(Ct.keys.RIGHT,!0)}};function St(Bt,Wt){var Kt,Qt=Bt===Ct.keys.LEFT?"prefix":"suffix";return Kt={key:Bt,shiftKey:Wt,altKey:null},At(Kt,Qt,/^$/),At(Kt,"handler",function(er){var sr=er.index;Bt===Ct.keys.RIGHT&&(sr+=er.length+1);var ur=this.quill.getLeaf(sr),nr=rt(ur,1),yr=nr[0];return yr instanceof ct.default.Embed?(Bt===Ct.keys.LEFT?Wt?this.quill.setSelection(er.index-1,er.length+1,Et.default.sources.USER):this.quill.setSelection(er.index-1,Et.default.sources.USER):Wt?this.quill.setSelection(er.index,er.length+1,Et.default.sources.USER):this.quill.setSelection(er.index+er.length+1,Et.default.sources.USER),!1):!0}),Kt}function $t(Bt,Wt){if(!(Bt.index===0||this.quill.getLength()<=1)){var Kt=this.quill.getLine(Bt.index),Qt=rt(Kt,1),Xt=Qt[0],er={};if(Wt.offset===0){var sr=this.quill.getLine(Bt.index-1),ur=rt(sr,1),nr=ur[0];if(nr!=null&&nr.length()>1){var yr=Xt.formats(),Ar=this.quill.getFormat(Bt.index-1,1);er=ht.default.attributes.diff(yr,Ar)||{}}}var Er=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Wt.prefix)?2:1;this.quill.deleteText(Bt.index-Er,Er,Et.default.sources.USER),Object.keys(er).length>0&&this.quill.formatLine(Bt.index-Er,Er,er,Et.default.sources.USER),this.quill.focus()}}function Lt(Bt,Wt){var Kt=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Wt.suffix)?2:1;if(!(Bt.index>=this.quill.getLength()-Kt)){var Qt={},Xt=0,er=this.quill.getLine(Bt.index),sr=rt(er,1),ur=sr[0];if(Wt.offset>=ur.length()-1){var nr=this.quill.getLine(Bt.index+1),yr=rt(nr,1),Ar=yr[0];if(Ar){var Er=ur.formats(),lr=this.quill.getFormat(Bt.index,1);Qt=ht.default.attributes.diff(Er,lr)||{},Xt=Ar.length()}}this.quill.deleteText(Bt.index,Kt,Et.default.sources.USER),Object.keys(Qt).length>0&&this.quill.formatLine(Bt.index+Xt-1,Kt,Qt,Et.default.sources.USER)}}function Rt(Bt){var Wt=this.quill.getLines(Bt),Kt={};if(Wt.length>1){var Qt=Wt[0].formats(),Xt=Wt[Wt.length-1].formats();Kt=ht.default.attributes.diff(Xt,Qt)||{}}this.quill.deleteText(Bt,Et.default.sources.USER),Object.keys(Kt).length>0&&this.quill.formatLine(Bt.index,1,Kt,Et.default.sources.USER),this.quill.setSelection(Bt.index,Et.default.sources.SILENT),this.quill.focus()}function jt(Bt,Wt){var Kt=this;Bt.length>0&&this.quill.scroll.deleteAt(Bt.index,Bt.length);var Qt=Object.keys(Wt.format).reduce(function(Xt,er){return ct.default.query(er,ct.default.Scope.BLOCK)&&!Array.isArray(Wt.format[er])&&(Xt[er]=Wt.format[er]),Xt},{});this.quill.insertText(Bt.index,`
`,Qt,Et.default.sources.USER),this.quill.setSelection(Bt.index+1,Et.default.sources.SILENT),this.quill.focus(),Object.keys(Wt.format).forEach(function(Xt){Qt[Xt]==null&&(Array.isArray(Wt.format[Xt])||Xt!=="link"&&Kt.quill.format(Xt,Wt.format[Xt],Et.default.sources.USER))})}function Ft(Bt){return{key:Ct.keys.TAB,shiftKey:!Bt,format:{"code-block":!0},handler:function(Kt){var Qt=ct.default.query("code-block"),Xt=Kt.index,er=Kt.length,sr=this.quill.scroll.descendant(Qt,Xt),ur=rt(sr,2),nr=ur[0],yr=ur[1];if(nr!=null){var Ar=this.quill.getIndex(nr),Er=nr.newlineIndex(yr,!0)+1,lr=nr.newlineIndex(Ar+yr+er),dr=nr.domNode.textContent.slice(Er,lr).split(`
`);yr=0,dr.forEach(function(pr,ar){Bt?(nr.insertAt(Er+yr,Qt.TAB),yr+=Qt.TAB.length,ar===0?Xt+=Qt.TAB.length:er+=Qt.TAB.length):pr.startsWith(Qt.TAB)&&(nr.deleteAt(Er+yr,Qt.TAB.length),yr-=Qt.TAB.length,ar===0?Xt-=Qt.TAB.length:er-=Qt.TAB.length),yr+=pr.length+1}),this.quill.update(Et.default.sources.USER),this.quill.setSelection(Xt,er,Et.default.sources.SILENT)}}}}function zt(Bt){return{key:Bt[0].toUpperCase(),shortKey:!0,handler:function(Kt,Qt){this.quill.format(Bt,!Qt.format[Bt],Et.default.sources.USER)}}}function Gt(Bt){if(typeof Bt=="string"||typeof Bt=="number")return Gt({key:Bt});if((typeof Bt>"u"?"undefined":tt(Bt))==="object"&&(Bt=(0,ot.default)(Bt,!1)),typeof Bt.key=="string")if(Ct.keys[Bt.key.toUpperCase()]!=null)Bt.key=Ct.keys[Bt.key.toUpperCase()];else if(Bt.key.length===1)Bt.key=Bt.key.toUpperCase().charCodeAt(0);else return null;return Bt.shortKey&&(Bt[Dt]=Bt.shortKey,delete Bt.shortKey),Bt}a.default=Ct,a.SHORTKEY=Dt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ht(pt,ct){var gt=[],Et=!0,bt=!1,xt=void 0;try{for(var Tt=pt[Symbol.iterator](),wt;!(Et=(wt=Tt.next()).done)&&(gt.push(wt.value),!(ct&&gt.length===ct));Et=!0);}catch(It){bt=!0,xt=It}finally{try{!Et&&Tt.return&&Tt.return()}finally{if(bt)throw xt}}return gt}return function(pt,ct){if(Array.isArray(pt))return pt;if(Symbol.iterator in Object(pt))return ht(pt,ct);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rt=function ht(pt,ct,gt){pt===null&&(pt=Function.prototype);var Et=Object.getOwnPropertyDescriptor(pt,ct);if(Et===void 0){var bt=Object.getPrototypeOf(pt);return bt===null?void 0:ht(bt,ct,gt)}else{if("value"in Et)return Et.value;var xt=Et.get;return xt===void 0?void 0:xt.call(gt)}},nt=function(){function ht(pt,ct){for(var gt=0;gt<ct.length;gt++){var Et=ct[gt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(pt,Et.key,Et)}}return function(pt,ct,gt){return ct&&ht(pt.prototype,ct),gt&&ht(pt,gt),pt}}(),it=et(0),ot=at(it),st=et(7),lt=at(st);function at(ht){return ht&&ht.__esModule?ht:{default:ht}}function ut(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")}function ft(ht,pt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt&&(typeof pt=="object"||typeof pt=="function")?pt:ht}function mt(ht,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);ht.prototype=Object.create(pt&&pt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,pt):ht.__proto__=pt)}var yt=function(ht){mt(pt,ht),nt(pt,null,[{key:"value",value:function(){}}]);function pt(ct,gt){ut(this,pt);var Et=ft(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this,ct));return Et.selection=gt,Et.textNode=document.createTextNode(pt.CONTENTS),Et.domNode.appendChild(Et.textNode),Et._length=0,Et}return nt(pt,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(gt,Et){if(this._length!==0)return rt(pt.prototype.__proto__||Object.getPrototypeOf(pt.prototype),"format",this).call(this,gt,Et);for(var bt=this,xt=0;bt!=null&&bt.statics.scope!==ot.default.Scope.BLOCK_BLOT;)xt+=bt.offset(bt.parent),bt=bt.parent;bt!=null&&(this._length=pt.CONTENTS.length,bt.optimize(),bt.formatAt(xt,pt.CONTENTS.length,gt,Et),this._length=0)}},{key:"index",value:function(gt,Et){return gt===this.textNode?0:rt(pt.prototype.__proto__||Object.getPrototypeOf(pt.prototype),"index",this).call(this,gt,Et)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){rt(pt.prototype.__proto__||Object.getPrototypeOf(pt.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var gt=this.textNode,Et=this.selection.getNativeRange(),bt=void 0,xt=void 0,Tt=void 0;if(Et!=null&&Et.start.node===gt&&Et.end.node===gt){var wt=[gt,Et.start.offset,Et.end.offset];bt=wt[0],xt=wt[1],Tt=wt[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==pt.CONTENTS){var It=this.textNode.data.split(pt.CONTENTS).join("");this.next instanceof lt.default?(bt=this.next.domNode,this.next.insertAt(0,It),this.textNode.data=pt.CONTENTS):(this.textNode.data=It,this.parent.insertBefore(ot.default.create(this.textNode),this),this.textNode=document.createTextNode(pt.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),xt!=null){var At=[xt,Tt].map(function(Vt){return Math.max(0,Math.min(bt.data.length,Vt-1))}),kt=tt(At,2);return xt=kt[0],Tt=kt[1],{startNode:bt,startOffset:xt,endNode:bt,endOffset:Tt}}}}},{key:"update",value:function(gt,Et){var bt=this;if(gt.some(function(Tt){return Tt.type==="characterData"&&Tt.target===bt.textNode})){var xt=this.restore();xt&&(Et.range=xt)}}},{key:"value",value:function(){return""}}]),pt}(ot.default.Embed);yt.blotName="cursor",yt.className="ql-cursor",yt.tagName="span",yt.CONTENTS="\uFEFF",a.default=yt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(0),rt=ot(tt),nt=et(4),it=ot(nt);function ot(ft){return ft&&ft.__esModule?ft:{default:ft}}function st(ft,mt){if(!(ft instanceof mt))throw new TypeError("Cannot call a class as a function")}function lt(ft,mt){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ft}function at(ft,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ft.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,mt):ft.__proto__=mt)}var ut=function(ft){at(mt,ft);function mt(){return st(this,mt),lt(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return mt}(rt.default.Container);ut.allowedChildren=[it.default,nt.BlockEmbed,ut],a.default=ut},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.ColorStyle=a.ColorClass=a.ColorAttributor=void 0;var tt=function(){function yt(ht,pt){for(var ct=0;ct<pt.length;ct++){var gt=pt[ct];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ht,gt.key,gt)}}return function(ht,pt,ct){return pt&&yt(ht.prototype,pt),ct&&yt(ht,ct),ht}}(),rt=function yt(ht,pt,ct){ht===null&&(ht=Function.prototype);var gt=Object.getOwnPropertyDescriptor(ht,pt);if(gt===void 0){var Et=Object.getPrototypeOf(ht);return Et===null?void 0:yt(Et,pt,ct)}else{if("value"in gt)return gt.value;var bt=gt.get;return bt===void 0?void 0:bt.call(ct)}},nt=et(0),it=ot(nt);function ot(yt){return yt&&yt.__esModule?yt:{default:yt}}function st(yt,ht){if(!(yt instanceof ht))throw new TypeError("Cannot call a class as a function")}function lt(yt,ht){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht&&(typeof ht=="object"||typeof ht=="function")?ht:yt}function at(yt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ht);yt.prototype=Object.create(ht&&ht.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),ht&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,ht):yt.__proto__=ht)}var ut=function(yt){at(ht,yt);function ht(){return st(this,ht),lt(this,(ht.__proto__||Object.getPrototypeOf(ht)).apply(this,arguments))}return tt(ht,[{key:"value",value:function(ct){var gt=rt(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"value",this).call(this,ct);return gt.startsWith("rgb(")?(gt=gt.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+gt.split(",").map(function(Et){return("00"+parseInt(Et).toString(16)).slice(-2)}).join("")):gt}}]),ht}(it.default.Attributor.Style),ft=new it.default.Attributor.Class("color","ql-color",{scope:it.default.Scope.INLINE}),mt=new ut("color","color",{scope:it.default.Scope.INLINE});a.ColorAttributor=ut,a.ColorClass=ft,a.ColorStyle=mt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.sanitize=a.default=void 0;var tt=function(){function mt(yt,ht){for(var pt=0;pt<ht.length;pt++){var ct=ht[pt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(yt,ct.key,ct)}}return function(yt,ht,pt){return ht&&mt(yt.prototype,ht),pt&&mt(yt,pt),yt}}(),rt=function mt(yt,ht,pt){yt===null&&(yt=Function.prototype);var ct=Object.getOwnPropertyDescriptor(yt,ht);if(ct===void 0){var gt=Object.getPrototypeOf(yt);return gt===null?void 0:mt(gt,ht,pt)}else{if("value"in ct)return ct.value;var Et=ct.get;return Et===void 0?void 0:Et.call(pt)}},nt=et(6),it=ot(nt);function ot(mt){return mt&&mt.__esModule?mt:{default:mt}}function st(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")}function lt(mt,yt){if(!mt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt&&(typeof yt=="object"||typeof yt=="function")?yt:mt}function at(mt,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof yt);mt.prototype=Object.create(yt&&yt.prototype,{constructor:{value:mt,enumerable:!1,writable:!0,configurable:!0}}),yt&&(Object.setPrototypeOf?Object.setPrototypeOf(mt,yt):mt.__proto__=yt)}var ut=function(mt){at(yt,mt);function yt(){return st(this,yt),lt(this,(yt.__proto__||Object.getPrototypeOf(yt)).apply(this,arguments))}return tt(yt,[{key:"format",value:function(pt,ct){if(pt!==this.statics.blotName||!ct)return rt(yt.prototype.__proto__||Object.getPrototypeOf(yt.prototype),"format",this).call(this,pt,ct);ct=this.constructor.sanitize(ct),this.domNode.setAttribute("href",ct)}}],[{key:"create",value:function(pt){var ct=rt(yt.__proto__||Object.getPrototypeOf(yt),"create",this).call(this,pt);return pt=this.sanitize(pt),ct.setAttribute("href",pt),ct.setAttribute("rel","noopener noreferrer"),ct.setAttribute("target","_blank"),ct}},{key:"formats",value:function(pt){return pt.getAttribute("href")}},{key:"sanitize",value:function(pt){return ft(pt,this.PROTOCOL_WHITELIST)?pt:this.SANITIZED_URL}}]),yt}(it.default);ut.blotName="link",ut.tagName="A",ut.SANITIZED_URL="about:blank",ut.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function ft(mt,yt){var ht=document.createElement("a");ht.href=mt;var pt=ht.href.slice(0,ht.href.indexOf(":"));return yt.indexOf(pt)>-1}a.default=ut,a.sanitize=ft},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(yt){return typeof yt}:function(yt){return yt&&typeof Symbol=="function"&&yt.constructor===Symbol&&yt!==Symbol.prototype?"symbol":typeof yt},rt=function(){function yt(ht,pt){for(var ct=0;ct<pt.length;ct++){var gt=pt[ct];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ht,gt.key,gt)}}return function(ht,pt,ct){return pt&&yt(ht.prototype,pt),ct&&yt(ht,ct),ht}}(),nt=et(23),it=lt(nt),ot=et(107),st=lt(ot);function lt(yt){return yt&&yt.__esModule?yt:{default:yt}}function at(yt,ht){if(!(yt instanceof ht))throw new TypeError("Cannot call a class as a function")}var ut=0;function ft(yt,ht){yt.setAttribute(ht,yt.getAttribute(ht)!=="true")}var mt=function(){function yt(ht){var pt=this;at(this,yt),this.select=ht,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){pt.togglePicker()}),this.label.addEventListener("keydown",function(ct){switch(ct.keyCode){case it.default.keys.ENTER:pt.togglePicker();break;case it.default.keys.ESCAPE:pt.escape(),ct.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return rt(yt,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),ft(this.label,"aria-expanded"),ft(this.options,"aria-hidden")}},{key:"buildItem",value:function(pt){var ct=this,gt=document.createElement("span");return gt.tabIndex="0",gt.setAttribute("role","button"),gt.classList.add("ql-picker-item"),pt.hasAttribute("value")&&gt.setAttribute("data-value",pt.getAttribute("value")),pt.textContent&&gt.setAttribute("data-label",pt.textContent),gt.addEventListener("click",function(){ct.selectItem(gt,!0)}),gt.addEventListener("keydown",function(Et){switch(Et.keyCode){case it.default.keys.ENTER:ct.selectItem(gt,!0),Et.preventDefault();break;case it.default.keys.ESCAPE:ct.escape(),Et.preventDefault();break}}),gt}},{key:"buildLabel",value:function(){var pt=document.createElement("span");return pt.classList.add("ql-picker-label"),pt.innerHTML=st.default,pt.tabIndex="0",pt.setAttribute("role","button"),pt.setAttribute("aria-expanded","false"),this.container.appendChild(pt),pt}},{key:"buildOptions",value:function(){var pt=this,ct=document.createElement("span");ct.classList.add("ql-picker-options"),ct.setAttribute("aria-hidden","true"),ct.tabIndex="-1",ct.id="ql-picker-options-"+ut,ut+=1,this.label.setAttribute("aria-controls",ct.id),this.options=ct,[].slice.call(this.select.options).forEach(function(gt){var Et=pt.buildItem(gt);ct.appendChild(Et),gt.selected===!0&&pt.selectItem(Et)}),this.container.appendChild(ct)}},{key:"buildPicker",value:function(){var pt=this;[].slice.call(this.select.attributes).forEach(function(ct){pt.container.setAttribute(ct.name,ct.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var pt=this;this.close(),setTimeout(function(){return pt.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(pt){var ct=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,gt=this.container.querySelector(".ql-selected");if(pt!==gt&&(gt!=null&&gt.classList.remove("ql-selected"),pt!=null&&(pt.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(pt.parentNode.children,pt),pt.hasAttribute("data-value")?this.label.setAttribute("data-value",pt.getAttribute("data-value")):this.label.removeAttribute("data-value"),pt.hasAttribute("data-label")?this.label.setAttribute("data-label",pt.getAttribute("data-label")):this.label.removeAttribute("data-label"),ct))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":tt(Event))==="object"){var Et=document.createEvent("Event");Et.initEvent("change",!0,!0),this.select.dispatchEvent(Et)}this.close()}}},{key:"update",value:function(){var pt=void 0;if(this.select.selectedIndex>-1){var ct=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];pt=this.select.options[this.select.selectedIndex],this.selectItem(ct)}else this.selectItem(null);var gt=pt!=null&&pt!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",gt)}}]),yt}();a.default=mt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(0),rt=Ot(tt),nt=et(5),it=Ot(nt),ot=et(4),st=Ot(ot),lt=et(16),at=Ot(lt),ut=et(25),ft=Ot(ut),mt=et(24),yt=Ot(mt),ht=et(35),pt=Ot(ht),ct=et(6),gt=Ot(ct),Et=et(22),bt=Ot(Et),xt=et(7),Tt=Ot(xt),wt=et(55),It=Ot(wt),At=et(42),kt=Ot(At),Vt=et(23),Mt=Ot(Vt);function Ot(Dt){return Dt&&Dt.__esModule?Dt:{default:Dt}}it.default.register({"blots/block":st.default,"blots/block/embed":ot.BlockEmbed,"blots/break":at.default,"blots/container":ft.default,"blots/cursor":yt.default,"blots/embed":pt.default,"blots/inline":gt.default,"blots/scroll":bt.default,"blots/text":Tt.default,"modules/clipboard":It.default,"modules/history":kt.default,"modules/keyboard":Mt.default}),rt.default.register(st.default,at.default,yt.default,gt.default,bt.default,Tt.default),a.default=it.default},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(1),rt=function(){function nt(it){this.domNode=it,this.domNode[tt.DATA_KEY]={blot:this}}return Object.defineProperty(nt.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),nt.create=function(it){if(this.tagName==null)throw new tt.ParchmentError("Blot definition missing tagName");var ot;return Array.isArray(this.tagName)?(typeof it=="string"&&(it=it.toUpperCase(),parseInt(it).toString()===it&&(it=parseInt(it))),typeof it=="number"?ot=document.createElement(this.tagName[it-1]):this.tagName.indexOf(it)>-1?ot=document.createElement(it):ot=document.createElement(this.tagName[0])):ot=document.createElement(this.tagName),this.className&&ot.classList.add(this.className),ot},nt.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},nt.prototype.clone=function(){var it=this.domNode.cloneNode(!1);return tt.create(it)},nt.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[tt.DATA_KEY]},nt.prototype.deleteAt=function(it,ot){var st=this.isolate(it,ot);st.remove()},nt.prototype.formatAt=function(it,ot,st,lt){var at=this.isolate(it,ot);if(tt.query(st,tt.Scope.BLOT)!=null&&lt)at.wrap(st,lt);else if(tt.query(st,tt.Scope.ATTRIBUTE)!=null){var ut=tt.create(this.statics.scope);at.wrap(ut),ut.format(st,lt)}},nt.prototype.insertAt=function(it,ot,st){var lt=st==null?tt.create("text",ot):tt.create(ot,st),at=this.split(it);this.parent.insertBefore(lt,at)},nt.prototype.insertInto=function(it,ot){ot===void 0&&(ot=null),this.parent!=null&&this.parent.children.remove(this);var st=null;it.children.insertBefore(this,ot),ot!=null&&(st=ot.domNode),(this.domNode.parentNode!=it.domNode||this.domNode.nextSibling!=st)&&it.domNode.insertBefore(this.domNode,st),this.parent=it,this.attach()},nt.prototype.isolate=function(it,ot){var st=this.split(it);return st.split(ot),st},nt.prototype.length=function(){return 1},nt.prototype.offset=function(it){return it===void 0&&(it=this.parent),this.parent==null||this==it?0:this.parent.children.offset(this)+this.parent.offset(it)},nt.prototype.optimize=function(it){this.domNode[tt.DATA_KEY]!=null&&delete this.domNode[tt.DATA_KEY].mutations},nt.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},nt.prototype.replace=function(it){it.parent!=null&&(it.parent.insertBefore(this,it.next),it.remove())},nt.prototype.replaceWith=function(it,ot){var st=typeof it=="string"?tt.create(it,ot):it;return st.replace(this),st},nt.prototype.split=function(it,ot){return it===0?this:this.next},nt.prototype.update=function(it,ot){},nt.prototype.wrap=function(it,ot){var st=typeof it=="string"?tt.create(it,ot):it;return this.parent!=null&&this.parent.insertBefore(st,this.next),st.appendChild(this),st},nt.blotName="abstract",nt}();a.default=rt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(12),rt=et(32),nt=et(33),it=et(1),ot=function(){function st(lt){this.attributes={},this.domNode=lt,this.build()}return st.prototype.attribute=function(lt,at){at?lt.add(this.domNode,at)&&(lt.value(this.domNode)!=null?this.attributes[lt.attrName]=lt:delete this.attributes[lt.attrName]):(lt.remove(this.domNode),delete this.attributes[lt.attrName])},st.prototype.build=function(){var lt=this;this.attributes={};var at=tt.default.keys(this.domNode),ut=rt.default.keys(this.domNode),ft=nt.default.keys(this.domNode);at.concat(ut).concat(ft).forEach(function(mt){var yt=it.query(mt,it.Scope.ATTRIBUTE);yt instanceof tt.default&&(lt.attributes[yt.attrName]=yt)})},st.prototype.copy=function(lt){var at=this;Object.keys(this.attributes).forEach(function(ut){var ft=at.attributes[ut].value(at.domNode);lt.format(ut,ft)})},st.prototype.move=function(lt){var at=this;this.copy(lt),Object.keys(this.attributes).forEach(function(ut){at.attributes[ut].remove(at.domNode)}),this.attributes={}},st.prototype.values=function(){var lt=this;return Object.keys(this.attributes).reduce(function(at,ut){return at[ut]=lt.attributes[ut].value(lt.domNode),at},{})},st}();a.default=ot},function(s,a,et){var tt=this&&this.__extends||function(){var ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,lt){st.__proto__=lt}||function(st,lt){for(var at in lt)lt.hasOwnProperty(at)&&(st[at]=lt[at])};return function(st,lt){ot(st,lt);function at(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(at.prototype=lt.prototype,new at)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(12);function nt(ot,st){var lt=ot.getAttribute("class")||"";return lt.split(/\s+/).filter(function(at){return at.indexOf(st+"-")===0})}var it=function(ot){tt(st,ot);function st(){return ot!==null&&ot.apply(this,arguments)||this}return st.keys=function(lt){return(lt.getAttribute("class")||"").split(/\s+/).map(function(at){return at.split("-").slice(0,-1).join("-")})},st.prototype.add=function(lt,at){return this.canAdd(lt,at)?(this.remove(lt),lt.classList.add(this.keyName+"-"+at),!0):!1},st.prototype.remove=function(lt){var at=nt(lt,this.keyName);at.forEach(function(ut){lt.classList.remove(ut)}),lt.classList.length===0&&lt.removeAttribute("class")},st.prototype.value=function(lt){var at=nt(lt,this.keyName)[0]||"",ut=at.slice(this.keyName.length+1);return this.canAdd(lt,ut)?ut:""},st}(rt.default);a.default=it},function(s,a,et){var tt=this&&this.__extends||function(){var ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,lt){st.__proto__=lt}||function(st,lt){for(var at in lt)lt.hasOwnProperty(at)&&(st[at]=lt[at])};return function(st,lt){ot(st,lt);function at(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(at.prototype=lt.prototype,new at)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(12);function nt(ot){var st=ot.split("-"),lt=st.slice(1).map(function(at){return at[0].toUpperCase()+at.slice(1)}).join("");return st[0]+lt}var it=function(ot){tt(st,ot);function st(){return ot!==null&&ot.apply(this,arguments)||this}return st.keys=function(lt){return(lt.getAttribute("style")||"").split(";").map(function(at){var ut=at.split(":");return ut[0].trim()})},st.prototype.add=function(lt,at){return this.canAdd(lt,at)?(lt.style[nt(this.keyName)]=at,!0):!1},st.prototype.remove=function(lt){lt.style[nt(this.keyName)]="",lt.getAttribute("style")||lt.removeAttribute("style")},st.prototype.value=function(lt){var at=lt.style[nt(this.keyName)];return this.canAdd(lt,at)?at:""},st}(rt.default);a.default=it},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function it(ot,st){for(var lt=0;lt<st.length;lt++){var at=st[lt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(ot,at.key,at)}}return function(ot,st,lt){return st&&it(ot.prototype,st),lt&&it(ot,lt),ot}}();function rt(it,ot){if(!(it instanceof ot))throw new TypeError("Cannot call a class as a function")}var nt=function(){function it(ot,st){rt(this,it),this.quill=ot,this.options=st,this.modules={}}return tt(it,[{key:"init",value:function(){var st=this;Object.keys(this.options.modules).forEach(function(lt){st.modules[lt]==null&&st.addModule(lt)})}},{key:"addModule",value:function(st){var lt=this.quill.constructor.import("modules/"+st);return this.modules[st]=new lt(this.quill,this.options.modules[st]||{}),this.modules[st]}}]),it}();nt.DEFAULTS={modules:{}},nt.themes={default:nt},a.default=nt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ht(pt,ct){for(var gt=0;gt<ct.length;gt++){var Et=ct[gt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(pt,Et.key,Et)}}return function(pt,ct,gt){return ct&&ht(pt.prototype,ct),gt&&ht(pt,gt),pt}}(),rt=function ht(pt,ct,gt){pt===null&&(pt=Function.prototype);var Et=Object.getOwnPropertyDescriptor(pt,ct);if(Et===void 0){var bt=Object.getPrototypeOf(pt);return bt===null?void 0:ht(bt,ct,gt)}else{if("value"in Et)return Et.value;var xt=Et.get;return xt===void 0?void 0:xt.call(gt)}},nt=et(0),it=lt(nt),ot=et(7),st=lt(ot);function lt(ht){return ht&&ht.__esModule?ht:{default:ht}}function at(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")}function ut(ht,pt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt&&(typeof pt=="object"||typeof pt=="function")?pt:ht}function ft(ht,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);ht.prototype=Object.create(pt&&pt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,pt):ht.__proto__=pt)}var mt="\uFEFF",yt=function(ht){ft(pt,ht);function pt(ct){at(this,pt);var gt=ut(this,(pt.__proto__||Object.getPrototypeOf(pt)).call(this,ct));return gt.contentNode=document.createElement("span"),gt.contentNode.setAttribute("contenteditable",!1),[].slice.call(gt.domNode.childNodes).forEach(function(Et){gt.contentNode.appendChild(Et)}),gt.leftGuard=document.createTextNode(mt),gt.rightGuard=document.createTextNode(mt),gt.domNode.appendChild(gt.leftGuard),gt.domNode.appendChild(gt.contentNode),gt.domNode.appendChild(gt.rightGuard),gt}return tt(pt,[{key:"index",value:function(gt,Et){return gt===this.leftGuard?0:gt===this.rightGuard?1:rt(pt.prototype.__proto__||Object.getPrototypeOf(pt.prototype),"index",this).call(this,gt,Et)}},{key:"restore",value:function(gt){var Et=void 0,bt=void 0,xt=gt.data.split(mt).join("");if(gt===this.leftGuard)if(this.prev instanceof st.default){var Tt=this.prev.length();this.prev.insertAt(Tt,xt),Et={startNode:this.prev.domNode,startOffset:Tt+xt.length}}else bt=document.createTextNode(xt),this.parent.insertBefore(it.default.create(bt),this),Et={startNode:bt,startOffset:xt.length};else gt===this.rightGuard&&(this.next instanceof st.default?(this.next.insertAt(0,xt),Et={startNode:this.next.domNode,startOffset:xt.length}):(bt=document.createTextNode(xt),this.parent.insertBefore(it.default.create(bt),this.next),Et={startNode:bt,startOffset:xt.length}));return gt.data=mt,Et}},{key:"update",value:function(gt,Et){var bt=this;gt.forEach(function(xt){if(xt.type==="characterData"&&(xt.target===bt.leftGuard||xt.target===bt.rightGuard)){var Tt=bt.restore(xt.target);Tt&&(Et.range=Tt)}})}}]),pt}(it.default.Embed);a.default=yt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.AlignStyle=a.AlignClass=a.AlignAttribute=void 0;var tt=et(0),rt=nt(tt);function nt(at){return at&&at.__esModule?at:{default:at}}var it={scope:rt.default.Scope.BLOCK,whitelist:["right","center","justify"]},ot=new rt.default.Attributor.Attribute("align","align",it),st=new rt.default.Attributor.Class("align","ql-align",it),lt=new rt.default.Attributor.Style("align","text-align",it);a.AlignAttribute=ot,a.AlignClass=st,a.AlignStyle=lt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.BackgroundStyle=a.BackgroundClass=void 0;var tt=et(0),rt=it(tt),nt=et(26);function it(lt){return lt&&lt.__esModule?lt:{default:lt}}var ot=new rt.default.Attributor.Class("background","ql-bg",{scope:rt.default.Scope.INLINE}),st=new nt.ColorAttributor("background","background-color",{scope:rt.default.Scope.INLINE});a.BackgroundClass=ot,a.BackgroundStyle=st},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.DirectionStyle=a.DirectionClass=a.DirectionAttribute=void 0;var tt=et(0),rt=nt(tt);function nt(at){return at&&at.__esModule?at:{default:at}}var it={scope:rt.default.Scope.BLOCK,whitelist:["rtl"]},ot=new rt.default.Attributor.Attribute("direction","dir",it),st=new rt.default.Attributor.Class("direction","ql-direction",it),lt=new rt.default.Attributor.Style("direction","direction",it);a.DirectionAttribute=ot,a.DirectionClass=st,a.DirectionStyle=lt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.FontClass=a.FontStyle=void 0;var tt=function(){function ht(pt,ct){for(var gt=0;gt<ct.length;gt++){var Et=ct[gt];Et.enumerable=Et.enumerable||!1,Et.configurable=!0,"value"in Et&&(Et.writable=!0),Object.defineProperty(pt,Et.key,Et)}}return function(pt,ct,gt){return ct&&ht(pt.prototype,ct),gt&&ht(pt,gt),pt}}(),rt=function ht(pt,ct,gt){pt===null&&(pt=Function.prototype);var Et=Object.getOwnPropertyDescriptor(pt,ct);if(Et===void 0){var bt=Object.getPrototypeOf(pt);return bt===null?void 0:ht(bt,ct,gt)}else{if("value"in Et)return Et.value;var xt=Et.get;return xt===void 0?void 0:xt.call(gt)}},nt=et(0),it=ot(nt);function ot(ht){return ht&&ht.__esModule?ht:{default:ht}}function st(ht,pt){if(!(ht instanceof pt))throw new TypeError("Cannot call a class as a function")}function lt(ht,pt){if(!ht)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return pt&&(typeof pt=="object"||typeof pt=="function")?pt:ht}function at(ht,pt){if(typeof pt!="function"&&pt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof pt);ht.prototype=Object.create(pt&&pt.prototype,{constructor:{value:ht,enumerable:!1,writable:!0,configurable:!0}}),pt&&(Object.setPrototypeOf?Object.setPrototypeOf(ht,pt):ht.__proto__=pt)}var ut={scope:it.default.Scope.INLINE,whitelist:["serif","monospace"]},ft=new it.default.Attributor.Class("font","ql-font",ut),mt=function(ht){at(pt,ht);function pt(){return st(this,pt),lt(this,(pt.__proto__||Object.getPrototypeOf(pt)).apply(this,arguments))}return tt(pt,[{key:"value",value:function(gt){return rt(pt.prototype.__proto__||Object.getPrototypeOf(pt.prototype),"value",this).call(this,gt).replace(/["']/g,"")}}]),pt}(it.default.Attributor.Style),yt=new mt("font","font-family",ut);a.FontStyle=yt,a.FontClass=ft},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.SizeStyle=a.SizeClass=void 0;var tt=et(0),rt=nt(tt);function nt(st){return st&&st.__esModule?st:{default:st}}var it=new rt.default.Attributor.Class("size","ql-size",{scope:rt.default.Scope.INLINE,whitelist:["small","large","huge"]}),ot=new rt.default.Attributor.Style("size","font-size",{scope:rt.default.Scope.INLINE,whitelist:["10px","18px","32px"]});a.SizeClass=it,a.SizeStyle=ot},function(s,a,et){s.exports={align:{"":et(76),center:et(77),right:et(78),justify:et(79)},background:et(80),blockquote:et(81),bold:et(82),clean:et(83),code:et(58),"code-block":et(58),color:et(84),direction:{"":et(85),rtl:et(86)},float:{center:et(87),full:et(88),left:et(89),right:et(90)},formula:et(91),header:{1:et(92),2:et(93)},italic:et(94),image:et(95),indent:{"+1":et(96),"-1":et(97)},link:et(98),list:{ordered:et(99),bullet:et(100),check:et(101)},script:{sub:et(102),super:et(103)},strike:et(104),underline:et(105),video:et(106)}},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.getLastChangeIndex=a.default=void 0;var tt=function(){function ct(gt,Et){for(var bt=0;bt<Et.length;bt++){var xt=Et[bt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(gt,xt.key,xt)}}return function(gt,Et,bt){return Et&&ct(gt.prototype,Et),bt&&ct(gt,bt),gt}}(),rt=et(0),nt=at(rt),it=et(5),ot=at(it),st=et(9),lt=at(st);function at(ct){return ct&&ct.__esModule?ct:{default:ct}}function ut(ct,gt){if(!(ct instanceof gt))throw new TypeError("Cannot call a class as a function")}function ft(ct,gt){if(!ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt&&(typeof gt=="object"||typeof gt=="function")?gt:ct}function mt(ct,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof gt);ct.prototype=Object.create(gt&&gt.prototype,{constructor:{value:ct,enumerable:!1,writable:!0,configurable:!0}}),gt&&(Object.setPrototypeOf?Object.setPrototypeOf(ct,gt):ct.__proto__=gt)}var yt=function(ct){mt(gt,ct);function gt(Et,bt){ut(this,gt);var xt=ft(this,(gt.__proto__||Object.getPrototypeOf(gt)).call(this,Et,bt));return xt.lastRecorded=0,xt.ignoreChange=!1,xt.clear(),xt.quill.on(ot.default.events.EDITOR_CHANGE,function(Tt,wt,It,At){Tt!==ot.default.events.TEXT_CHANGE||xt.ignoreChange||(!xt.options.userOnly||At===ot.default.sources.USER?xt.record(wt,It):xt.transform(wt))}),xt.quill.keyboard.addBinding({key:"Z",shortKey:!0},xt.undo.bind(xt)),xt.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},xt.redo.bind(xt)),/Win/i.test(navigator.platform)&&xt.quill.keyboard.addBinding({key:"Y",shortKey:!0},xt.redo.bind(xt)),xt}return tt(gt,[{key:"change",value:function(bt,xt){if(this.stack[bt].length!==0){var Tt=this.stack[bt].pop();this.stack[xt].push(Tt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(Tt[bt],ot.default.sources.USER),this.ignoreChange=!1;var wt=pt(Tt[bt]);this.quill.setSelection(wt)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(bt,xt){if(bt.ops.length!==0){this.stack.redo=[];var Tt=this.quill.getContents().diff(xt),wt=Date.now();if(this.lastRecorded+this.options.delay>wt&&this.stack.undo.length>0){var It=this.stack.undo.pop();Tt=Tt.compose(It.undo),bt=It.redo.compose(bt)}else this.lastRecorded=wt;this.stack.undo.push({redo:bt,undo:Tt}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(bt){this.stack.undo.forEach(function(xt){xt.undo=bt.transform(xt.undo,!0),xt.redo=bt.transform(xt.redo,!0)}),this.stack.redo.forEach(function(xt){xt.undo=bt.transform(xt.undo,!0),xt.redo=bt.transform(xt.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),gt}(lt.default);yt.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function ht(ct){var gt=ct.ops[ct.ops.length-1];return gt==null?!1:gt.insert!=null?typeof gt.insert=="string"&&gt.insert.endsWith(`
`):gt.attributes!=null?Object.keys(gt.attributes).some(function(Et){return nt.default.query(Et,nt.default.Scope.BLOCK)!=null}):!1}function pt(ct){var gt=ct.reduce(function(bt,xt){return bt+=xt.delete||0,bt},0),Et=ct.length()-gt;return ht(ct)&&(Et-=1),Et}a.default=yt,a.getLastChangeIndex=pt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BaseTooltip=void 0;var tt=function(){function jt(Ft,zt){for(var Gt=0;Gt<zt.length;Gt++){var Bt=zt[Gt];Bt.enumerable=Bt.enumerable||!1,Bt.configurable=!0,"value"in Bt&&(Bt.writable=!0),Object.defineProperty(Ft,Bt.key,Bt)}}return function(Ft,zt,Gt){return zt&&jt(Ft.prototype,zt),Gt&&jt(Ft,Gt),Ft}}(),rt=function jt(Ft,zt,Gt){Ft===null&&(Ft=Function.prototype);var Bt=Object.getOwnPropertyDescriptor(Ft,zt);if(Bt===void 0){var Wt=Object.getPrototypeOf(Ft);return Wt===null?void 0:jt(Wt,zt,Gt)}else{if("value"in Bt)return Bt.value;var Kt=Bt.get;return Kt===void 0?void 0:Kt.call(Gt)}},nt=et(3),it=wt(nt),ot=et(2),st=wt(ot),lt=et(8),at=wt(lt),ut=et(23),ft=wt(ut),mt=et(34),yt=wt(mt),ht=et(59),pt=wt(ht),ct=et(60),gt=wt(ct),Et=et(28),bt=wt(Et),xt=et(61),Tt=wt(xt);function wt(jt){return jt&&jt.__esModule?jt:{default:jt}}function It(jt,Ft){if(!(jt instanceof Ft))throw new TypeError("Cannot call a class as a function")}function At(jt,Ft){if(!jt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Ft&&(typeof Ft=="object"||typeof Ft=="function")?Ft:jt}function kt(jt,Ft){if(typeof Ft!="function"&&Ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ft);jt.prototype=Object.create(Ft&&Ft.prototype,{constructor:{value:jt,enumerable:!1,writable:!0,configurable:!0}}),Ft&&(Object.setPrototypeOf?Object.setPrototypeOf(jt,Ft):jt.__proto__=Ft)}var Vt=[!1,"center","right","justify"],Mt=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Ot=[!1,"serif","monospace"],Dt=["1","2","3",!1],Ct=["small",!1,"large","huge"],St=function(jt){kt(Ft,jt);function Ft(zt,Gt){It(this,Ft);var Bt=At(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,zt,Gt)),Wt=function Kt(Qt){if(!document.body.contains(zt.root))return document.body.removeEventListener("click",Kt);Bt.tooltip!=null&&!Bt.tooltip.root.contains(Qt.target)&&document.activeElement!==Bt.tooltip.textbox&&!Bt.quill.hasFocus()&&Bt.tooltip.hide(),Bt.pickers!=null&&Bt.pickers.forEach(function(Xt){Xt.container.contains(Qt.target)||Xt.close()})};return zt.emitter.listenDOM("click",document.body,Wt),Bt}return tt(Ft,[{key:"addModule",value:function(Gt){var Bt=rt(Ft.prototype.__proto__||Object.getPrototypeOf(Ft.prototype),"addModule",this).call(this,Gt);return Gt==="toolbar"&&this.extendToolbar(Bt),Bt}},{key:"buildButtons",value:function(Gt,Bt){Gt.forEach(function(Wt){var Kt=Wt.getAttribute("class")||"";Kt.split(/\s+/).forEach(function(Qt){if(Qt.startsWith("ql-")&&(Qt=Qt.slice(3),Bt[Qt]!=null))if(Qt==="direction")Wt.innerHTML=Bt[Qt][""]+Bt[Qt].rtl;else if(typeof Bt[Qt]=="string")Wt.innerHTML=Bt[Qt];else{var Xt=Wt.value||"";Xt!=null&&Bt[Qt][Xt]&&(Wt.innerHTML=Bt[Qt][Xt])}})})}},{key:"buildPickers",value:function(Gt,Bt){var Wt=this;this.pickers=Gt.map(function(Qt){if(Qt.classList.contains("ql-align"))return Qt.querySelector("option")==null&&Rt(Qt,Vt),new gt.default(Qt,Bt.align);if(Qt.classList.contains("ql-background")||Qt.classList.contains("ql-color")){var Xt=Qt.classList.contains("ql-background")?"background":"color";return Qt.querySelector("option")==null&&Rt(Qt,Mt,Xt==="background"?"#ffffff":"#000000"),new pt.default(Qt,Bt[Xt])}else return Qt.querySelector("option")==null&&(Qt.classList.contains("ql-font")?Rt(Qt,Ot):Qt.classList.contains("ql-header")?Rt(Qt,Dt):Qt.classList.contains("ql-size")&&Rt(Qt,Ct)),new bt.default(Qt)});var Kt=function(){Wt.pickers.forEach(function(Xt){Xt.update()})};this.quill.on(at.default.events.EDITOR_CHANGE,Kt)}}]),Ft}(yt.default);St.DEFAULTS=(0,it.default)(!0,{},yt.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var Ft=this,zt=this.container.querySelector("input.ql-image[type=file]");zt==null&&(zt=document.createElement("input"),zt.setAttribute("type","file"),zt.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),zt.classList.add("ql-image"),zt.addEventListener("change",function(){if(zt.files!=null&&zt.files[0]!=null){var Gt=new FileReader;Gt.onload=function(Bt){var Wt=Ft.quill.getSelection(!0);Ft.quill.updateContents(new st.default().retain(Wt.index).delete(Wt.length).insert({image:Bt.target.result}),at.default.sources.USER),Ft.quill.setSelection(Wt.index+1,at.default.sources.SILENT),zt.value=""},Gt.readAsDataURL(zt.files[0])}}),this.container.appendChild(zt)),zt.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var $t=function(jt){kt(Ft,jt);function Ft(zt,Gt){It(this,Ft);var Bt=At(this,(Ft.__proto__||Object.getPrototypeOf(Ft)).call(this,zt,Gt));return Bt.textbox=Bt.root.querySelector('input[type="text"]'),Bt.listen(),Bt}return tt(Ft,[{key:"listen",value:function(){var Gt=this;this.textbox.addEventListener("keydown",function(Bt){ft.default.match(Bt,"enter")?(Gt.save(),Bt.preventDefault()):ft.default.match(Bt,"escape")&&(Gt.cancel(),Bt.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var Gt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",Bt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),Bt!=null?this.textbox.value=Bt:Gt!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+Gt)||""),this.root.setAttribute("data-mode",Gt)}},{key:"restoreFocus",value:function(){var Gt=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=Gt}},{key:"save",value:function(){var Gt=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var Bt=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",Gt,at.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",Gt,at.default.sources.USER)),this.quill.root.scrollTop=Bt;break}case"video":Gt=Lt(Gt);case"formula":{if(!Gt)break;var Wt=this.quill.getSelection(!0);if(Wt!=null){var Kt=Wt.index+Wt.length;this.quill.insertEmbed(Kt,this.root.getAttribute("data-mode"),Gt,at.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(Kt+1," ",at.default.sources.USER),this.quill.setSelection(Kt+2,at.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),Ft}(Tt.default);function Lt(jt){var Ft=jt.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||jt.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return Ft?(Ft[1]||"https")+"://www.youtube.com/embed/"+Ft[2]+"?showinfo=0":(Ft=jt.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(Ft[1]||"https")+"://player.vimeo.com/video/"+Ft[2]+"/":jt}function Rt(jt,Ft){var zt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;Ft.forEach(function(Gt){var Bt=document.createElement("option");Gt===zt?Bt.setAttribute("selected","selected"):Bt.setAttribute("value",Gt),jt.appendChild(Bt)})}a.BaseTooltip=$t,a.default=St},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function rt(){this.head=this.tail=null,this.length=0}return rt.prototype.append=function(){for(var nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];this.insertBefore(nt[0],null),nt.length>1&&this.append.apply(this,nt.slice(1))},rt.prototype.contains=function(nt){for(var it,ot=this.iterator();it=ot();)if(it===nt)return!0;return!1},rt.prototype.insertBefore=function(nt,it){nt&&(nt.next=it,it!=null?(nt.prev=it.prev,it.prev!=null&&(it.prev.next=nt),it.prev=nt,it===this.head&&(this.head=nt)):this.tail!=null?(this.tail.next=nt,nt.prev=this.tail,this.tail=nt):(nt.prev=null,this.head=this.tail=nt),this.length+=1)},rt.prototype.offset=function(nt){for(var it=0,ot=this.head;ot!=null;){if(ot===nt)return it;it+=ot.length(),ot=ot.next}return-1},rt.prototype.remove=function(nt){this.contains(nt)&&(nt.prev!=null&&(nt.prev.next=nt.next),nt.next!=null&&(nt.next.prev=nt.prev),nt===this.head&&(this.head=nt.next),nt===this.tail&&(this.tail=nt.prev),this.length-=1)},rt.prototype.iterator=function(nt){return nt===void 0&&(nt=this.head),function(){var it=nt;return nt!=null&&(nt=nt.next),it}},rt.prototype.find=function(nt,it){it===void 0&&(it=!1);for(var ot,st=this.iterator();ot=st();){var lt=ot.length();if(nt<lt||it&&nt===lt&&(ot.next==null||ot.next.length()!==0))return[ot,nt];nt-=lt}return[null,0]},rt.prototype.forEach=function(nt){for(var it,ot=this.iterator();it=ot();)nt(it)},rt.prototype.forEachAt=function(nt,it,ot){if(!(it<=0))for(var st=this.find(nt),lt=st[0],at=st[1],ut,ft=nt-at,mt=this.iterator(lt);(ut=mt())&&ft<nt+it;){var yt=ut.length();nt>ft?ot(ut,nt-ft,Math.min(it,ft+yt-nt)):ot(ut,0,Math.min(yt,nt+it-ft)),ft+=yt}},rt.prototype.map=function(nt){return this.reduce(function(it,ot){return it.push(nt(ot)),it},[])},rt.prototype.reduce=function(nt,it){for(var ot,st=this.iterator();ot=st();)it=nt(it,ot);return it},rt}();a.default=tt},function(s,a,et){var tt=this&&this.__extends||function(){var lt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(at,ut){at.__proto__=ut}||function(at,ut){for(var ft in ut)ut.hasOwnProperty(ft)&&(at[ft]=ut[ft])};return function(at,ut){lt(at,ut);function ft(){this.constructor=at}at.prototype=ut===null?Object.create(ut):(ft.prototype=ut.prototype,new ft)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(17),nt=et(1),it={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},ot=100,st=function(lt){tt(at,lt);function at(ut){var ft=lt.call(this,ut)||this;return ft.scroll=ft,ft.observer=new MutationObserver(function(mt){ft.update(mt)}),ft.observer.observe(ft.domNode,it),ft.attach(),ft}return at.prototype.detach=function(){lt.prototype.detach.call(this),this.observer.disconnect()},at.prototype.deleteAt=function(ut,ft){this.update(),ut===0&&ft===this.length()?this.children.forEach(function(mt){mt.remove()}):lt.prototype.deleteAt.call(this,ut,ft)},at.prototype.formatAt=function(ut,ft,mt,yt){this.update(),lt.prototype.formatAt.call(this,ut,ft,mt,yt)},at.prototype.insertAt=function(ut,ft,mt){this.update(),lt.prototype.insertAt.call(this,ut,ft,mt)},at.prototype.optimize=function(ut,ft){var mt=this;ut===void 0&&(ut=[]),ft===void 0&&(ft={}),lt.prototype.optimize.call(this,ft);for(var yt=[].slice.call(this.observer.takeRecords());yt.length>0;)ut.push(yt.pop());for(var ht=function(Et,bt){bt===void 0&&(bt=!0),!(Et==null||Et===mt)&&Et.domNode.parentNode!=null&&(Et.domNode[nt.DATA_KEY].mutations==null&&(Et.domNode[nt.DATA_KEY].mutations=[]),bt&&ht(Et.parent))},pt=function(Et){Et.domNode[nt.DATA_KEY]==null||Et.domNode[nt.DATA_KEY].mutations==null||(Et instanceof rt.default&&Et.children.forEach(pt),Et.optimize(ft))},ct=ut,gt=0;ct.length>0;gt+=1){if(gt>=ot)throw new Error("[Parchment] Maximum optimize iterations reached");for(ct.forEach(function(Et){var bt=nt.find(Et.target,!0);bt!=null&&(bt.domNode===Et.target&&(Et.type==="childList"?(ht(nt.find(Et.previousSibling,!1)),[].forEach.call(Et.addedNodes,function(xt){var Tt=nt.find(xt,!1);ht(Tt,!1),Tt instanceof rt.default&&Tt.children.forEach(function(wt){ht(wt,!1)})})):Et.type==="attributes"&&ht(bt.prev)),ht(bt))}),this.children.forEach(pt),ct=[].slice.call(this.observer.takeRecords()),yt=ct.slice();yt.length>0;)ut.push(yt.pop())}},at.prototype.update=function(ut,ft){var mt=this;ft===void 0&&(ft={}),ut=ut||this.observer.takeRecords(),ut.map(function(yt){var ht=nt.find(yt.target,!0);return ht==null?null:ht.domNode[nt.DATA_KEY].mutations==null?(ht.domNode[nt.DATA_KEY].mutations=[yt],ht):(ht.domNode[nt.DATA_KEY].mutations.push(yt),null)}).forEach(function(yt){yt==null||yt===mt||yt.domNode[nt.DATA_KEY]==null||yt.update(yt.domNode[nt.DATA_KEY].mutations||[],ft)}),this.domNode[nt.DATA_KEY].mutations!=null&&lt.prototype.update.call(this,this.domNode[nt.DATA_KEY].mutations,ft),this.optimize(ut,ft)},at.blotName="scroll",at.defaultChild="block",at.scope=nt.Scope.BLOCK_BLOT,at.tagName="DIV",at}(rt.default);a.default=st},function(s,a,et){var tt=this&&this.__extends||function(){var st=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(lt,at){lt.__proto__=at}||function(lt,at){for(var ut in at)at.hasOwnProperty(ut)&&(lt[ut]=at[ut])};return function(lt,at){st(lt,at);function ut(){this.constructor=lt}lt.prototype=at===null?Object.create(at):(ut.prototype=at.prototype,new ut)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(18),nt=et(1);function it(st,lt){if(Object.keys(st).length!==Object.keys(lt).length)return!1;for(var at in st)if(st[at]!==lt[at])return!1;return!0}var ot=function(st){tt(lt,st);function lt(){return st!==null&&st.apply(this,arguments)||this}return lt.formats=function(at){if(at.tagName!==lt.tagName)return st.formats.call(this,at)},lt.prototype.format=function(at,ut){var ft=this;at===this.statics.blotName&&!ut?(this.children.forEach(function(mt){mt instanceof rt.default||(mt=mt.wrap(lt.blotName,!0)),ft.attributes.copy(mt)}),this.unwrap()):st.prototype.format.call(this,at,ut)},lt.prototype.formatAt=function(at,ut,ft,mt){if(this.formats()[ft]!=null||nt.query(ft,nt.Scope.ATTRIBUTE)){var yt=this.isolate(at,ut);yt.format(ft,mt)}else st.prototype.formatAt.call(this,at,ut,ft,mt)},lt.prototype.optimize=function(at){st.prototype.optimize.call(this,at);var ut=this.formats();if(Object.keys(ut).length===0)return this.unwrap();var ft=this.next;ft instanceof lt&&ft.prev===this&&it(ut,ft.formats())&&(ft.moveChildren(this),ft.remove())},lt.blotName="inline",lt.scope=nt.Scope.INLINE_BLOT,lt.tagName="SPAN",lt}(rt.default);a.default=ot},function(s,a,et){var tt=this&&this.__extends||function(){var ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,lt){st.__proto__=lt}||function(st,lt){for(var at in lt)lt.hasOwnProperty(at)&&(st[at]=lt[at])};return function(st,lt){ot(st,lt);function at(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(at.prototype=lt.prototype,new at)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(18),nt=et(1),it=function(ot){tt(st,ot);function st(){return ot!==null&&ot.apply(this,arguments)||this}return st.formats=function(lt){var at=nt.query(st.blotName).tagName;if(lt.tagName!==at)return ot.formats.call(this,lt)},st.prototype.format=function(lt,at){nt.query(lt,nt.Scope.BLOCK)!=null&&(lt===this.statics.blotName&&!at?this.replaceWith(st.blotName):ot.prototype.format.call(this,lt,at))},st.prototype.formatAt=function(lt,at,ut,ft){nt.query(ut,nt.Scope.BLOCK)!=null?this.format(ut,ft):ot.prototype.formatAt.call(this,lt,at,ut,ft)},st.prototype.insertAt=function(lt,at,ut){if(ut==null||nt.query(at,nt.Scope.INLINE)!=null)ot.prototype.insertAt.call(this,lt,at,ut);else{var ft=this.split(lt),mt=nt.create(at,ut);ft.parent.insertBefore(mt,ft)}},st.prototype.update=function(lt,at){navigator.userAgent.match(/Trident/)?this.build():ot.prototype.update.call(this,lt,at)},st.blotName="block",st.scope=nt.Scope.BLOCK_BLOT,st.tagName="P",st}(rt.default);a.default=it},function(s,a,et){var tt=this&&this.__extends||function(){var it=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(ot,st){ot.__proto__=st}||function(ot,st){for(var lt in st)st.hasOwnProperty(lt)&&(ot[lt]=st[lt])};return function(ot,st){it(ot,st);function lt(){this.constructor=ot}ot.prototype=st===null?Object.create(st):(lt.prototype=st.prototype,new lt)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(19),nt=function(it){tt(ot,it);function ot(){return it!==null&&it.apply(this,arguments)||this}return ot.formats=function(st){},ot.prototype.format=function(st,lt){it.prototype.formatAt.call(this,0,this.length(),st,lt)},ot.prototype.formatAt=function(st,lt,at,ut){st===0&&lt===this.length()?this.format(at,ut):it.prototype.formatAt.call(this,st,lt,at,ut)},ot.prototype.formats=function(){return this.statics.formats(this.domNode)},ot}(rt.default);a.default=nt},function(s,a,et){var tt=this&&this.__extends||function(){var ot=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(st,lt){st.__proto__=lt}||function(st,lt){for(var at in lt)lt.hasOwnProperty(at)&&(st[at]=lt[at])};return function(st,lt){ot(st,lt);function at(){this.constructor=st}st.prototype=lt===null?Object.create(lt):(at.prototype=lt.prototype,new at)}}();Object.defineProperty(a,"__esModule",{value:!0});var rt=et(19),nt=et(1),it=function(ot){tt(st,ot);function st(lt){var at=ot.call(this,lt)||this;return at.text=at.statics.value(at.domNode),at}return st.create=function(lt){return document.createTextNode(lt)},st.value=function(lt){var at=lt.data;return at.normalize&&(at=at.normalize()),at},st.prototype.deleteAt=function(lt,at){this.domNode.data=this.text=this.text.slice(0,lt)+this.text.slice(lt+at)},st.prototype.index=function(lt,at){return this.domNode===lt?at:-1},st.prototype.insertAt=function(lt,at,ut){ut==null?(this.text=this.text.slice(0,lt)+at+this.text.slice(lt),this.domNode.data=this.text):ot.prototype.insertAt.call(this,lt,at,ut)},st.prototype.length=function(){return this.text.length},st.prototype.optimize=function(lt){ot.prototype.optimize.call(this,lt),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof st&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},st.prototype.position=function(lt,at){return[this.domNode,lt]},st.prototype.split=function(lt,at){if(at===void 0&&(at=!1),!at){if(lt===0)return this;if(lt===this.length())return this.next}var ut=nt.create(this.domNode.splitText(lt));return this.parent.insertBefore(ut,this.next),this.text=this.statics.value(this.domNode),ut},st.prototype.update=function(lt,at){var ut=this;lt.some(function(ft){return ft.type==="characterData"&&ft.target===ut.domNode})&&(this.text=this.statics.value(this.domNode))},st.prototype.value=function(){return this.text},st.blotName="text",st.scope=nt.Scope.INLINE_BLOT,st}(rt.default);a.default=it},function(s,a,et){var tt=document.createElement("div");if(tt.classList.toggle("test-class",!1),tt.classList.contains("test-class")){var rt=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(nt,it){return arguments.length>1&&!this.contains(nt)==!it?it:rt.call(this,nt)}}String.prototype.startsWith||(String.prototype.startsWith=function(nt,it){return it=it||0,this.substr(it,nt.length)===nt}),String.prototype.endsWith||(String.prototype.endsWith=function(nt,it){var ot=this.toString();(typeof it!="number"||!isFinite(it)||Math.floor(it)!==it||it>ot.length)&&(it=ot.length),it-=nt.length;var st=ot.indexOf(nt,it);return st!==-1&&st===it}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(it){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof it!="function")throw new TypeError("predicate must be a function");for(var ot=Object(this),st=ot.length>>>0,lt=arguments[1],at,ut=0;ut<st;ut++)if(at=ot[ut],it.call(lt,at,ut,ot))return at}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(s,a){var et=-1,tt=1,rt=0;function nt(gt,Et,bt){if(gt==Et)return gt?[[rt,gt]]:[];(bt<0||gt.length<bt)&&(bt=null);var xt=lt(gt,Et),Tt=gt.substring(0,xt);gt=gt.substring(xt),Et=Et.substring(xt),xt=at(gt,Et);var wt=gt.substring(gt.length-xt);gt=gt.substring(0,gt.length-xt),Et=Et.substring(0,Et.length-xt);var It=it(gt,Et);return Tt&&It.unshift([rt,Tt]),wt&&It.push([rt,wt]),ft(It),bt!=null&&(It=ht(It,bt)),It=pt(It),It}function it(gt,Et){var bt;if(!gt)return[[tt,Et]];if(!Et)return[[et,gt]];var xt=gt.length>Et.length?gt:Et,Tt=gt.length>Et.length?Et:gt,wt=xt.indexOf(Tt);if(wt!=-1)return bt=[[tt,xt.substring(0,wt)],[rt,Tt],[tt,xt.substring(wt+Tt.length)]],gt.length>Et.length&&(bt[0][0]=bt[2][0]=et),bt;if(Tt.length==1)return[[et,gt],[tt,Et]];var It=ut(gt,Et);if(It){var At=It[0],kt=It[1],Vt=It[2],Mt=It[3],Ot=It[4],Dt=nt(At,Vt),Ct=nt(kt,Mt);return Dt.concat([[rt,Ot]],Ct)}return ot(gt,Et)}function ot(gt,Et){for(var bt=gt.length,xt=Et.length,Tt=Math.ceil((bt+xt)/2),wt=Tt,It=2*Tt,At=new Array(It),kt=new Array(It),Vt=0;Vt<It;Vt++)At[Vt]=-1,kt[Vt]=-1;At[wt+1]=0,kt[wt+1]=0;for(var Mt=bt-xt,Ot=Mt%2!=0,Dt=0,Ct=0,St=0,$t=0,Lt=0;Lt<Tt;Lt++){for(var Rt=-Lt+Dt;Rt<=Lt-Ct;Rt+=2){var jt=wt+Rt,Ft;Rt==-Lt||Rt!=Lt&&At[jt-1]<At[jt+1]?Ft=At[jt+1]:Ft=At[jt-1]+1;for(var zt=Ft-Rt;Ft<bt&&zt<xt&&gt.charAt(Ft)==Et.charAt(zt);)Ft++,zt++;if(At[jt]=Ft,Ft>bt)Ct+=2;else if(zt>xt)Dt+=2;else if(Ot){var Gt=wt+Mt-Rt;if(Gt>=0&&Gt<It&&kt[Gt]!=-1){var Bt=bt-kt[Gt];if(Ft>=Bt)return st(gt,Et,Ft,zt)}}}for(var Wt=-Lt+St;Wt<=Lt-$t;Wt+=2){var Gt=wt+Wt,Bt;Wt==-Lt||Wt!=Lt&&kt[Gt-1]<kt[Gt+1]?Bt=kt[Gt+1]:Bt=kt[Gt-1]+1;for(var Kt=Bt-Wt;Bt<bt&&Kt<xt&&gt.charAt(bt-Bt-1)==Et.charAt(xt-Kt-1);)Bt++,Kt++;if(kt[Gt]=Bt,Bt>bt)$t+=2;else if(Kt>xt)St+=2;else if(!Ot){var jt=wt+Mt-Wt;if(jt>=0&&jt<It&&At[jt]!=-1){var Ft=At[jt],zt=wt+Ft-jt;if(Bt=bt-Bt,Ft>=Bt)return st(gt,Et,Ft,zt)}}}}return[[et,gt],[tt,Et]]}function st(gt,Et,bt,xt){var Tt=gt.substring(0,bt),wt=Et.substring(0,xt),It=gt.substring(bt),At=Et.substring(xt),kt=nt(Tt,wt),Vt=nt(It,At);return kt.concat(Vt)}function lt(gt,Et){if(!gt||!Et||gt.charAt(0)!=Et.charAt(0))return 0;for(var bt=0,xt=Math.min(gt.length,Et.length),Tt=xt,wt=0;bt<Tt;)gt.substring(wt,Tt)==Et.substring(wt,Tt)?(bt=Tt,wt=bt):xt=Tt,Tt=Math.floor((xt-bt)/2+bt);return Tt}function at(gt,Et){if(!gt||!Et||gt.charAt(gt.length-1)!=Et.charAt(Et.length-1))return 0;for(var bt=0,xt=Math.min(gt.length,Et.length),Tt=xt,wt=0;bt<Tt;)gt.substring(gt.length-Tt,gt.length-wt)==Et.substring(Et.length-Tt,Et.length-wt)?(bt=Tt,wt=bt):xt=Tt,Tt=Math.floor((xt-bt)/2+bt);return Tt}function ut(gt,Et){var bt=gt.length>Et.length?gt:Et,xt=gt.length>Et.length?Et:gt;if(bt.length<4||xt.length*2<bt.length)return null;function Tt(Ct,St,$t){for(var Lt=Ct.substring($t,$t+Math.floor(Ct.length/4)),Rt=-1,jt="",Ft,zt,Gt,Bt;(Rt=St.indexOf(Lt,Rt+1))!=-1;){var Wt=lt(Ct.substring($t),St.substring(Rt)),Kt=at(Ct.substring(0,$t),St.substring(0,Rt));jt.length<Kt+Wt&&(jt=St.substring(Rt-Kt,Rt)+St.substring(Rt,Rt+Wt),Ft=Ct.substring(0,$t-Kt),zt=Ct.substring($t+Wt),Gt=St.substring(0,Rt-Kt),Bt=St.substring(Rt+Wt))}return jt.length*2>=Ct.length?[Ft,zt,Gt,Bt,jt]:null}var wt=Tt(bt,xt,Math.ceil(bt.length/4)),It=Tt(bt,xt,Math.ceil(bt.length/2)),At;if(!wt&&!It)return null;It?wt?At=wt[4].length>It[4].length?wt:It:At=It:At=wt;var kt,Vt,Mt,Ot;gt.length>Et.length?(kt=At[0],Vt=At[1],Mt=At[2],Ot=At[3]):(Mt=At[0],Ot=At[1],kt=At[2],Vt=At[3]);var Dt=At[4];return[kt,Vt,Mt,Ot,Dt]}function ft(gt){gt.push([rt,""]);for(var Et=0,bt=0,xt=0,Tt="",wt="",It;Et<gt.length;)switch(gt[Et][0]){case tt:xt++,wt+=gt[Et][1],Et++;break;case et:bt++,Tt+=gt[Et][1],Et++;break;case rt:bt+xt>1?(bt!==0&&xt!==0&&(It=lt(wt,Tt),It!==0&&(Et-bt-xt>0&&gt[Et-bt-xt-1][0]==rt?gt[Et-bt-xt-1][1]+=wt.substring(0,It):(gt.splice(0,0,[rt,wt.substring(0,It)]),Et++),wt=wt.substring(It),Tt=Tt.substring(It)),It=at(wt,Tt),It!==0&&(gt[Et][1]=wt.substring(wt.length-It)+gt[Et][1],wt=wt.substring(0,wt.length-It),Tt=Tt.substring(0,Tt.length-It))),bt===0?gt.splice(Et-xt,bt+xt,[tt,wt]):xt===0?gt.splice(Et-bt,bt+xt,[et,Tt]):gt.splice(Et-bt-xt,bt+xt,[et,Tt],[tt,wt]),Et=Et-bt-xt+(bt?1:0)+(xt?1:0)+1):Et!==0&&gt[Et-1][0]==rt?(gt[Et-1][1]+=gt[Et][1],gt.splice(Et,1)):Et++,xt=0,bt=0,Tt="",wt="";break}gt[gt.length-1][1]===""&&gt.pop();var At=!1;for(Et=1;Et<gt.length-1;)gt[Et-1][0]==rt&&gt[Et+1][0]==rt&&(gt[Et][1].substring(gt[Et][1].length-gt[Et-1][1].length)==gt[Et-1][1]?(gt[Et][1]=gt[Et-1][1]+gt[Et][1].substring(0,gt[Et][1].length-gt[Et-1][1].length),gt[Et+1][1]=gt[Et-1][1]+gt[Et+1][1],gt.splice(Et-1,1),At=!0):gt[Et][1].substring(0,gt[Et+1][1].length)==gt[Et+1][1]&&(gt[Et-1][1]+=gt[Et+1][1],gt[Et][1]=gt[Et][1].substring(gt[Et+1][1].length)+gt[Et+1][1],gt.splice(Et+1,1),At=!0)),Et++;At&&ft(gt)}var mt=nt;mt.INSERT=tt,mt.DELETE=et,mt.EQUAL=rt,s.exports=mt;function yt(gt,Et){if(Et===0)return[rt,gt];for(var bt=0,xt=0;xt<gt.length;xt++){var Tt=gt[xt];if(Tt[0]===et||Tt[0]===rt){var wt=bt+Tt[1].length;if(Et===wt)return[xt+1,gt];if(Et<wt){gt=gt.slice();var It=Et-bt,At=[Tt[0],Tt[1].slice(0,It)],kt=[Tt[0],Tt[1].slice(It)];return gt.splice(xt,1,At,kt),[xt+1,gt]}else bt=wt}}throw new Error("cursor_pos is out of bounds!")}function ht(gt,Et){var bt=yt(gt,Et),xt=bt[1],Tt=bt[0],wt=xt[Tt],It=xt[Tt+1];if(wt==null)return gt;if(wt[0]!==rt)return gt;if(It!=null&&wt[1]+It[1]===It[1]+wt[1])return xt.splice(Tt,2,It,wt),ct(xt,Tt,2);if(It!=null&&It[1].indexOf(wt[1])===0){xt.splice(Tt,2,[It[0],wt[1]],[0,wt[1]]);var At=It[1].slice(wt[1].length);return At.length>0&&xt.splice(Tt+2,0,[It[0],At]),ct(xt,Tt,3)}else return gt}function pt(gt){for(var Et=!1,bt=function(It){return It.charCodeAt(0)>=56320&&It.charCodeAt(0)<=57343},xt=function(It){return It.charCodeAt(It.length-1)>=55296&&It.charCodeAt(It.length-1)<=56319},Tt=2;Tt<gt.length;Tt+=1)gt[Tt-2][0]===rt&&xt(gt[Tt-2][1])&&gt[Tt-1][0]===et&&bt(gt[Tt-1][1])&&gt[Tt][0]===tt&&bt(gt[Tt][1])&&(Et=!0,gt[Tt-1][1]=gt[Tt-2][1].slice(-1)+gt[Tt-1][1],gt[Tt][1]=gt[Tt-2][1].slice(-1)+gt[Tt][1],gt[Tt-2][1]=gt[Tt-2][1].slice(0,-1));if(!Et)return gt;for(var wt=[],Tt=0;Tt<gt.length;Tt+=1)gt[Tt][1].length>0&&wt.push(gt[Tt]);return wt}function ct(gt,Et,bt){for(var xt=Et+bt-1;xt>=0&&xt>=Et-1;xt--)if(xt+1<gt.length){var Tt=gt[xt],wt=gt[xt+1];Tt[0]===wt[1]&&gt.splice(xt,2,[Tt[0],Tt[1]+wt[1]])}return gt}},function(s,a){a=s.exports=typeof Object.keys=="function"?Object.keys:et,a.shim=et;function et(tt){var rt=[];for(var nt in tt)rt.push(nt);return rt}},function(s,a){var et=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";a=s.exports=et?tt:rt,a.supported=tt;function tt(nt){return Object.prototype.toString.call(nt)=="[object Arguments]"}a.unsupported=rt;function rt(nt){return nt&&typeof nt=="object"&&typeof nt.length=="number"&&Object.prototype.hasOwnProperty.call(nt,"callee")&&!Object.prototype.propertyIsEnumerable.call(nt,"callee")||!1}},function(s,a){var et=Object.prototype.hasOwnProperty,tt="~";function rt(){}Object.create&&(rt.prototype=Object.create(null),new rt().__proto__||(tt=!1));function nt(ot,st,lt){this.fn=ot,this.context=st,this.once=lt||!1}function it(){this._events=new rt,this._eventsCount=0}it.prototype.eventNames=function(){var st=[],lt,at;if(this._eventsCount===0)return st;for(at in lt=this._events)et.call(lt,at)&&st.push(tt?at.slice(1):at);return Object.getOwnPropertySymbols?st.concat(Object.getOwnPropertySymbols(lt)):st},it.prototype.listeners=function(st,lt){var at=tt?tt+st:st,ut=this._events[at];if(lt)return!!ut;if(!ut)return[];if(ut.fn)return[ut.fn];for(var ft=0,mt=ut.length,yt=new Array(mt);ft<mt;ft++)yt[ft]=ut[ft].fn;return yt},it.prototype.emit=function(st,lt,at,ut,ft,mt){var yt=tt?tt+st:st;if(!this._events[yt])return!1;var ht=this._events[yt],pt=arguments.length,ct,gt;if(ht.fn){switch(ht.once&&this.removeListener(st,ht.fn,void 0,!0),pt){case 1:return ht.fn.call(ht.context),!0;case 2:return ht.fn.call(ht.context,lt),!0;case 3:return ht.fn.call(ht.context,lt,at),!0;case 4:return ht.fn.call(ht.context,lt,at,ut),!0;case 5:return ht.fn.call(ht.context,lt,at,ut,ft),!0;case 6:return ht.fn.call(ht.context,lt,at,ut,ft,mt),!0}for(gt=1,ct=new Array(pt-1);gt<pt;gt++)ct[gt-1]=arguments[gt];ht.fn.apply(ht.context,ct)}else{var Et=ht.length,bt;for(gt=0;gt<Et;gt++)switch(ht[gt].once&&this.removeListener(st,ht[gt].fn,void 0,!0),pt){case 1:ht[gt].fn.call(ht[gt].context);break;case 2:ht[gt].fn.call(ht[gt].context,lt);break;case 3:ht[gt].fn.call(ht[gt].context,lt,at);break;case 4:ht[gt].fn.call(ht[gt].context,lt,at,ut);break;default:if(!ct)for(bt=1,ct=new Array(pt-1);bt<pt;bt++)ct[bt-1]=arguments[bt];ht[gt].fn.apply(ht[gt].context,ct)}}return!0},it.prototype.on=function(st,lt,at){var ut=new nt(lt,at||this),ft=tt?tt+st:st;return this._events[ft]?this._events[ft].fn?this._events[ft]=[this._events[ft],ut]:this._events[ft].push(ut):(this._events[ft]=ut,this._eventsCount++),this},it.prototype.once=function(st,lt,at){var ut=new nt(lt,at||this,!0),ft=tt?tt+st:st;return this._events[ft]?this._events[ft].fn?this._events[ft]=[this._events[ft],ut]:this._events[ft].push(ut):(this._events[ft]=ut,this._eventsCount++),this},it.prototype.removeListener=function(st,lt,at,ut){var ft=tt?tt+st:st;if(!this._events[ft])return this;if(!lt)return--this._eventsCount===0?this._events=new rt:delete this._events[ft],this;var mt=this._events[ft];if(mt.fn)mt.fn===lt&&(!ut||mt.once)&&(!at||mt.context===at)&&(--this._eventsCount===0?this._events=new rt:delete this._events[ft]);else{for(var yt=0,ht=[],pt=mt.length;yt<pt;yt++)(mt[yt].fn!==lt||ut&&!mt[yt].once||at&&mt[yt].context!==at)&&ht.push(mt[yt]);ht.length?this._events[ft]=ht.length===1?ht[0]:ht:--this._eventsCount===0?this._events=new rt:delete this._events[ft]}return this},it.prototype.removeAllListeners=function(st){var lt;return st?(lt=tt?tt+st:st,this._events[lt]&&(--this._eventsCount===0?this._events=new rt:delete this._events[lt])):(this._events=new rt,this._eventsCount=0),this},it.prototype.off=it.prototype.removeListener,it.prototype.addListener=it.prototype.on,it.prototype.setMaxListeners=function(){return this},it.prefixed=tt,it.EventEmitter=it,typeof s<"u"&&(s.exports=it)},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.matchText=a.matchSpacing=a.matchNewline=a.matchBlot=a.matchAttributor=a.default=void 0;var tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(lr){return typeof lr}:function(lr){return lr&&typeof Symbol=="function"&&lr.constructor===Symbol&&lr!==Symbol.prototype?"symbol":typeof lr},rt=function(){function lr(dr,pr){var ar=[],mr=!0,wr=!1,Sr=void 0;try{for(var Or=dr[Symbol.iterator](),Ur;!(mr=(Ur=Or.next()).done)&&(ar.push(Ur.value),!(pr&&ar.length===pr));mr=!0);}catch(zr){wr=!0,Sr=zr}finally{try{!mr&&Or.return&&Or.return()}finally{if(wr)throw Sr}}return ar}return function(dr,pr){if(Array.isArray(dr))return dr;if(Symbol.iterator in Object(dr))return lr(dr,pr);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),nt=function(){function lr(dr,pr){for(var ar=0;ar<pr.length;ar++){var mr=pr[ar];mr.enumerable=mr.enumerable||!1,mr.configurable=!0,"value"in mr&&(mr.writable=!0),Object.defineProperty(dr,mr.key,mr)}}return function(dr,pr,ar){return pr&&lr(dr.prototype,pr),ar&&lr(dr,ar),dr}}(),it=et(3),ot=kt(it),st=et(2),lt=kt(st),at=et(0),ut=kt(at),ft=et(5),mt=kt(ft),yt=et(10),ht=kt(yt),pt=et(9),ct=kt(pt),gt=et(36),Et=et(37),bt=et(13),xt=kt(bt),Tt=et(26),wt=et(38),It=et(39),At=et(40);function kt(lr){return lr&&lr.__esModule?lr:{default:lr}}function Vt(lr,dr,pr){return dr in lr?Object.defineProperty(lr,dr,{value:pr,enumerable:!0,configurable:!0,writable:!0}):lr[dr]=pr,lr}function Mt(lr,dr){if(!(lr instanceof dr))throw new TypeError("Cannot call a class as a function")}function Ot(lr,dr){if(!lr)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return dr&&(typeof dr=="object"||typeof dr=="function")?dr:lr}function Dt(lr,dr){if(typeof dr!="function"&&dr!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof dr);lr.prototype=Object.create(dr&&dr.prototype,{constructor:{value:lr,enumerable:!1,writable:!0,configurable:!0}}),dr&&(Object.setPrototypeOf?Object.setPrototypeOf(lr,dr):lr.__proto__=dr)}var Ct=(0,ht.default)("quill:clipboard"),St="__ql-matcher",$t=[[Node.TEXT_NODE,Er],[Node.TEXT_NODE,nr],["br",er],[Node.ELEMENT_NODE,nr],[Node.ELEMENT_NODE,Xt],[Node.ELEMENT_NODE,yr],[Node.ELEMENT_NODE,Qt],[Node.ELEMENT_NODE,Ar],["li",ur],["b",Kt.bind(Kt,"bold")],["i",Kt.bind(Kt,"italic")],["style",sr]],Lt=[gt.AlignAttribute,wt.DirectionAttribute].reduce(function(lr,dr){return lr[dr.keyName]=dr,lr},{}),Rt=[gt.AlignStyle,Et.BackgroundStyle,Tt.ColorStyle,wt.DirectionStyle,It.FontStyle,At.SizeStyle].reduce(function(lr,dr){return lr[dr.keyName]=dr,lr},{}),jt=function(lr){Dt(dr,lr);function dr(pr,ar){Mt(this,dr);var mr=Ot(this,(dr.__proto__||Object.getPrototypeOf(dr)).call(this,pr,ar));return mr.quill.root.addEventListener("paste",mr.onPaste.bind(mr)),mr.container=mr.quill.addContainer("ql-clipboard"),mr.container.setAttribute("contenteditable",!0),mr.container.setAttribute("tabindex",-1),mr.matchers=[],$t.concat(mr.options.matchers).forEach(function(wr){var Sr=rt(wr,2),Or=Sr[0],Ur=Sr[1];!ar.matchVisual&&Ur===yr||mr.addMatcher(Or,Ur)}),mr}return nt(dr,[{key:"addMatcher",value:function(ar,mr){this.matchers.push([ar,mr])}},{key:"convert",value:function(ar){if(typeof ar=="string")return this.container.innerHTML=ar.replace(/\>\r?\n +\</g,"><"),this.convert();var mr=this.quill.getFormat(this.quill.selection.savedRange.index);if(mr[xt.default.blotName]){var wr=this.container.innerText;return this.container.innerHTML="",new lt.default().insert(wr,Vt({},xt.default.blotName,mr[xt.default.blotName]))}var Sr=this.prepareMatching(),Or=rt(Sr,2),Ur=Or[0],zr=Or[1],Vr=Wt(this.container,Ur,zr);return Gt(Vr,`
`)&&Vr.ops[Vr.ops.length-1].attributes==null&&(Vr=Vr.compose(new lt.default().retain(Vr.length()-1).delete(1))),Ct.log("convert",this.container.innerHTML,Vr),this.container.innerHTML="",Vr}},{key:"dangerouslyPasteHTML",value:function(ar,mr){var wr=arguments.length>2&&arguments[2]!==void 0?arguments[2]:mt.default.sources.API;if(typeof ar=="string")this.quill.setContents(this.convert(ar),mr),this.quill.setSelection(0,mt.default.sources.SILENT);else{var Sr=this.convert(mr);this.quill.updateContents(new lt.default().retain(ar).concat(Sr),wr),this.quill.setSelection(ar+Sr.length(),mt.default.sources.SILENT)}}},{key:"onPaste",value:function(ar){var mr=this;if(!(ar.defaultPrevented||!this.quill.isEnabled())){var wr=this.quill.getSelection(),Sr=new lt.default().retain(wr.index),Or=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(mt.default.sources.SILENT),setTimeout(function(){Sr=Sr.concat(mr.convert()).delete(wr.length),mr.quill.updateContents(Sr,mt.default.sources.USER),mr.quill.setSelection(Sr.length()-wr.length,mt.default.sources.SILENT),mr.quill.scrollingContainer.scrollTop=Or,mr.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ar=this,mr=[],wr=[];return this.matchers.forEach(function(Sr){var Or=rt(Sr,2),Ur=Or[0],zr=Or[1];switch(Ur){case Node.TEXT_NODE:wr.push(zr);break;case Node.ELEMENT_NODE:mr.push(zr);break;default:[].forEach.call(ar.container.querySelectorAll(Ur),function(Vr){Vr[St]=Vr[St]||[],Vr[St].push(zr)});break}}),[mr,wr]}}]),dr}(ct.default);jt.DEFAULTS={matchers:[],matchVisual:!0};function Ft(lr,dr,pr){return(typeof dr>"u"?"undefined":tt(dr))==="object"?Object.keys(dr).reduce(function(ar,mr){return Ft(ar,mr,dr[mr])},lr):lr.reduce(function(ar,mr){return mr.attributes&&mr.attributes[dr]?ar.push(mr):ar.insert(mr.insert,(0,ot.default)({},Vt({},dr,pr),mr.attributes))},new lt.default)}function zt(lr){if(lr.nodeType!==Node.ELEMENT_NODE)return{};var dr="__ql-computed-style";return lr[dr]||(lr[dr]=window.getComputedStyle(lr))}function Gt(lr,dr){for(var pr="",ar=lr.ops.length-1;ar>=0&&pr.length<dr.length;--ar){var mr=lr.ops[ar];if(typeof mr.insert!="string")break;pr=mr.insert+pr}return pr.slice(-1*dr.length)===dr}function Bt(lr){if(lr.childNodes.length===0)return!1;var dr=zt(lr);return["block","list-item"].indexOf(dr.display)>-1}function Wt(lr,dr,pr){return lr.nodeType===lr.TEXT_NODE?pr.reduce(function(ar,mr){return mr(lr,ar)},new lt.default):lr.nodeType===lr.ELEMENT_NODE?[].reduce.call(lr.childNodes||[],function(ar,mr){var wr=Wt(mr,dr,pr);return mr.nodeType===lr.ELEMENT_NODE&&(wr=dr.reduce(function(Sr,Or){return Or(mr,Sr)},wr),wr=(mr[St]||[]).reduce(function(Sr,Or){return Or(mr,Sr)},wr)),ar.concat(wr)},new lt.default):new lt.default}function Kt(lr,dr,pr){return Ft(pr,lr,!0)}function Qt(lr,dr){var pr=ut.default.Attributor.Attribute.keys(lr),ar=ut.default.Attributor.Class.keys(lr),mr=ut.default.Attributor.Style.keys(lr),wr={};return pr.concat(ar).concat(mr).forEach(function(Sr){var Or=ut.default.query(Sr,ut.default.Scope.ATTRIBUTE);Or!=null&&(wr[Or.attrName]=Or.value(lr),wr[Or.attrName])||(Or=Lt[Sr],Or!=null&&(Or.attrName===Sr||Or.keyName===Sr)&&(wr[Or.attrName]=Or.value(lr)||void 0),Or=Rt[Sr],Or!=null&&(Or.attrName===Sr||Or.keyName===Sr)&&(Or=Rt[Sr],wr[Or.attrName]=Or.value(lr)||void 0))}),Object.keys(wr).length>0&&(dr=Ft(dr,wr)),dr}function Xt(lr,dr){var pr=ut.default.query(lr);if(pr==null)return dr;if(pr.prototype instanceof ut.default.Embed){var ar={},mr=pr.value(lr);mr!=null&&(ar[pr.blotName]=mr,dr=new lt.default().insert(ar,pr.formats(lr)))}else typeof pr.formats=="function"&&(dr=Ft(dr,pr.blotName,pr.formats(lr)));return dr}function er(lr,dr){return Gt(dr,`
`)||dr.insert(`
`),dr}function sr(){return new lt.default}function ur(lr,dr){var pr=ut.default.query(lr);if(pr==null||pr.blotName!=="list-item"||!Gt(dr,`
`))return dr;for(var ar=-1,mr=lr.parentNode;!mr.classList.contains("ql-clipboard");)(ut.default.query(mr)||{}).blotName==="list"&&(ar+=1),mr=mr.parentNode;return ar<=0?dr:dr.compose(new lt.default().retain(dr.length()-1).retain(1,{indent:ar}))}function nr(lr,dr){return Gt(dr,`
`)||(Bt(lr)||dr.length()>0&&lr.nextSibling&&Bt(lr.nextSibling))&&dr.insert(`
`),dr}function yr(lr,dr){if(Bt(lr)&&lr.nextElementSibling!=null&&!Gt(dr,`

`)){var pr=lr.offsetHeight+parseFloat(zt(lr).marginTop)+parseFloat(zt(lr).marginBottom);lr.nextElementSibling.offsetTop>lr.offsetTop+pr*1.5&&dr.insert(`
`)}return dr}function Ar(lr,dr){var pr={},ar=lr.style||{};return ar.fontStyle&&zt(lr).fontStyle==="italic"&&(pr.italic=!0),ar.fontWeight&&(zt(lr).fontWeight.startsWith("bold")||parseInt(zt(lr).fontWeight)>=700)&&(pr.bold=!0),Object.keys(pr).length>0&&(dr=Ft(dr,pr)),parseFloat(ar.textIndent||0)>0&&(dr=new lt.default().insert("	").concat(dr)),dr}function Er(lr,dr){var pr=lr.data;if(lr.parentNode.tagName==="O:P")return dr.insert(pr.trim());if(pr.trim().length===0&&lr.parentNode.classList.contains("ql-clipboard"))return dr;if(!zt(lr.parentNode).whiteSpace.startsWith("pre")){var ar=function(wr,Sr){return Sr=Sr.replace(/[^\u00a0]/g,""),Sr.length<1&&wr?" ":Sr};pr=pr.replace(/\r\n/g," ").replace(/\n/g," "),pr=pr.replace(/\s\s+/g,ar.bind(ar,!0)),(lr.previousSibling==null&&Bt(lr.parentNode)||lr.previousSibling!=null&&Bt(lr.previousSibling))&&(pr=pr.replace(/^\s+/,ar.bind(ar,!1))),(lr.nextSibling==null&&Bt(lr.parentNode)||lr.nextSibling!=null&&Bt(lr.nextSibling))&&(pr=pr.replace(/\s+$/,ar.bind(ar,!1)))}return dr.insert(pr)}a.default=jt,a.matchAttributor=Qt,a.matchBlot=Xt,a.matchNewline=nr,a.matchSpacing=yr,a.matchText=Er},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ft(mt,yt){for(var ht=0;ht<yt.length;ht++){var pt=yt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(mt,pt.key,pt)}}return function(mt,yt,ht){return yt&&ft(mt.prototype,yt),ht&&ft(mt,ht),mt}}(),rt=function ft(mt,yt,ht){mt===null&&(mt=Function.prototype);var pt=Object.getOwnPropertyDescriptor(mt,yt);if(pt===void 0){var ct=Object.getPrototypeOf(mt);return ct===null?void 0:ft(ct,yt,ht)}else{if("value"in pt)return pt.value;var gt=pt.get;return gt===void 0?void 0:gt.call(ht)}},nt=et(6),it=ot(nt);function ot(ft){return ft&&ft.__esModule?ft:{default:ft}}function st(ft,mt){if(!(ft instanceof mt))throw new TypeError("Cannot call a class as a function")}function lt(ft,mt){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ft}function at(ft,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ft.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,mt):ft.__proto__=mt)}var ut=function(ft){at(mt,ft);function mt(){return st(this,mt),lt(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return tt(mt,[{key:"optimize",value:function(ht){rt(mt.prototype.__proto__||Object.getPrototypeOf(mt.prototype),"optimize",this).call(this,ht),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return rt(mt.__proto__||Object.getPrototypeOf(mt),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),mt}(it.default);ut.blotName="bold",ut.tagName=["STRONG","B"],a.default=ut},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.addControls=a.default=void 0;var tt=function(){function At(kt,Vt){var Mt=[],Ot=!0,Dt=!1,Ct=void 0;try{for(var St=kt[Symbol.iterator](),$t;!(Ot=($t=St.next()).done)&&(Mt.push($t.value),!(Vt&&Mt.length===Vt));Ot=!0);}catch(Lt){Dt=!0,Ct=Lt}finally{try{!Ot&&St.return&&St.return()}finally{if(Dt)throw Ct}}return Mt}return function(kt,Vt){if(Array.isArray(kt))return kt;if(Symbol.iterator in Object(kt))return At(kt,Vt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rt=function(){function At(kt,Vt){for(var Mt=0;Mt<Vt.length;Mt++){var Ot=Vt[Mt];Ot.enumerable=Ot.enumerable||!1,Ot.configurable=!0,"value"in Ot&&(Ot.writable=!0),Object.defineProperty(kt,Ot.key,Ot)}}return function(kt,Vt,Mt){return Vt&&At(kt.prototype,Vt),Mt&&At(kt,Mt),kt}}(),nt=et(2),it=ht(nt),ot=et(0),st=ht(ot),lt=et(5),at=ht(lt),ut=et(10),ft=ht(ut),mt=et(9),yt=ht(mt);function ht(At){return At&&At.__esModule?At:{default:At}}function pt(At,kt,Vt){return kt in At?Object.defineProperty(At,kt,{value:Vt,enumerable:!0,configurable:!0,writable:!0}):At[kt]=Vt,At}function ct(At,kt){if(!(At instanceof kt))throw new TypeError("Cannot call a class as a function")}function gt(At,kt){if(!At)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return kt&&(typeof kt=="object"||typeof kt=="function")?kt:At}function Et(At,kt){if(typeof kt!="function"&&kt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof kt);At.prototype=Object.create(kt&&kt.prototype,{constructor:{value:At,enumerable:!1,writable:!0,configurable:!0}}),kt&&(Object.setPrototypeOf?Object.setPrototypeOf(At,kt):At.__proto__=kt)}var bt=(0,ft.default)("quill:toolbar"),xt=function(At){Et(kt,At);function kt(Vt,Mt){ct(this,kt);var Ot=gt(this,(kt.__proto__||Object.getPrototypeOf(kt)).call(this,Vt,Mt));if(Array.isArray(Ot.options.container)){var Dt=document.createElement("div");wt(Dt,Ot.options.container),Vt.container.parentNode.insertBefore(Dt,Vt.container),Ot.container=Dt}else typeof Ot.options.container=="string"?Ot.container=document.querySelector(Ot.options.container):Ot.container=Ot.options.container;if(!(Ot.container instanceof HTMLElement)){var Ct;return Ct=bt.error("Container required for toolbar",Ot.options),gt(Ot,Ct)}return Ot.container.classList.add("ql-toolbar"),Ot.controls=[],Ot.handlers={},Object.keys(Ot.options.handlers).forEach(function(St){Ot.addHandler(St,Ot.options.handlers[St])}),[].forEach.call(Ot.container.querySelectorAll("button, select"),function(St){Ot.attach(St)}),Ot.quill.on(at.default.events.EDITOR_CHANGE,function(St,$t){St===at.default.events.SELECTION_CHANGE&&Ot.update($t)}),Ot.quill.on(at.default.events.SCROLL_OPTIMIZE,function(){var St=Ot.quill.selection.getRange(),$t=tt(St,1),Lt=$t[0];Ot.update(Lt)}),Ot}return rt(kt,[{key:"addHandler",value:function(Mt,Ot){this.handlers[Mt]=Ot}},{key:"attach",value:function(Mt){var Ot=this,Dt=[].find.call(Mt.classList,function(St){return St.indexOf("ql-")===0});if(Dt){if(Dt=Dt.slice(3),Mt.tagName==="BUTTON"&&Mt.setAttribute("type","button"),this.handlers[Dt]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[Dt]==null){bt.warn("ignoring attaching to disabled format",Dt,Mt);return}if(st.default.query(Dt)==null){bt.warn("ignoring attaching to nonexistent format",Dt,Mt);return}}var Ct=Mt.tagName==="SELECT"?"change":"click";Mt.addEventListener(Ct,function(St){var $t=void 0;if(Mt.tagName==="SELECT"){if(Mt.selectedIndex<0)return;var Lt=Mt.options[Mt.selectedIndex];Lt.hasAttribute("selected")?$t=!1:$t=Lt.value||!1}else Mt.classList.contains("ql-active")?$t=!1:$t=Mt.value||!Mt.hasAttribute("value"),St.preventDefault();Ot.quill.focus();var Rt=Ot.quill.selection.getRange(),jt=tt(Rt,1),Ft=jt[0];if(Ot.handlers[Dt]!=null)Ot.handlers[Dt].call(Ot,$t);else if(st.default.query(Dt).prototype instanceof st.default.Embed){if($t=prompt("Enter "+Dt),!$t)return;Ot.quill.updateContents(new it.default().retain(Ft.index).delete(Ft.length).insert(pt({},Dt,$t)),at.default.sources.USER)}else Ot.quill.format(Dt,$t,at.default.sources.USER);Ot.update(Ft)}),this.controls.push([Dt,Mt])}}},{key:"update",value:function(Mt){var Ot=Mt==null?{}:this.quill.getFormat(Mt);this.controls.forEach(function(Dt){var Ct=tt(Dt,2),St=Ct[0],$t=Ct[1];if($t.tagName==="SELECT"){var Lt=void 0;if(Mt==null)Lt=null;else if(Ot[St]==null)Lt=$t.querySelector("option[selected]");else if(!Array.isArray(Ot[St])){var Rt=Ot[St];typeof Rt=="string"&&(Rt=Rt.replace(/\"/g,'\\"')),Lt=$t.querySelector('option[value="'+Rt+'"]')}Lt==null?($t.value="",$t.selectedIndex=-1):Lt.selected=!0}else if(Mt==null)$t.classList.remove("ql-active");else if($t.hasAttribute("value")){var jt=Ot[St]===$t.getAttribute("value")||Ot[St]!=null&&Ot[St].toString()===$t.getAttribute("value")||Ot[St]==null&&!$t.getAttribute("value");$t.classList.toggle("ql-active",jt)}else $t.classList.toggle("ql-active",Ot[St]!=null)})}}]),kt}(yt.default);xt.DEFAULTS={};function Tt(At,kt,Vt){var Mt=document.createElement("button");Mt.setAttribute("type","button"),Mt.classList.add("ql-"+kt),Vt!=null&&(Mt.value=Vt),At.appendChild(Mt)}function wt(At,kt){Array.isArray(kt[0])||(kt=[kt]),kt.forEach(function(Vt){var Mt=document.createElement("span");Mt.classList.add("ql-formats"),Vt.forEach(function(Ot){if(typeof Ot=="string")Tt(Mt,Ot);else{var Dt=Object.keys(Ot)[0],Ct=Ot[Dt];Array.isArray(Ct)?It(Mt,Dt,Ct):Tt(Mt,Dt,Ct)}}),At.appendChild(Mt)})}function It(At,kt,Vt){var Mt=document.createElement("select");Mt.classList.add("ql-"+kt),Vt.forEach(function(Ot){var Dt=document.createElement("option");Ot!==!1?Dt.setAttribute("value",Ot):Dt.setAttribute("selected","selected"),Mt.appendChild(Dt)}),At.appendChild(Mt)}xt.DEFAULTS={container:null,handlers:{clean:function(){var kt=this,Vt=this.quill.getSelection();if(Vt!=null)if(Vt.length==0){var Mt=this.quill.getFormat();Object.keys(Mt).forEach(function(Ot){st.default.query(Ot,st.default.Scope.INLINE)!=null&&kt.quill.format(Ot,!1)})}else this.quill.removeFormat(Vt,at.default.sources.USER)},direction:function(kt){var Vt=this.quill.getFormat().align;kt==="rtl"&&Vt==null?this.quill.format("align","right",at.default.sources.USER):!kt&&Vt==="right"&&this.quill.format("align",!1,at.default.sources.USER),this.quill.format("direction",kt,at.default.sources.USER)},indent:function(kt){var Vt=this.quill.getSelection(),Mt=this.quill.getFormat(Vt),Ot=parseInt(Mt.indent||0);if(kt==="+1"||kt==="-1"){var Dt=kt==="+1"?1:-1;Mt.direction==="rtl"&&(Dt*=-1),this.quill.format("indent",Ot+Dt,at.default.sources.USER)}},link:function(kt){kt===!0&&(kt=prompt("Enter link URL:")),this.quill.format("link",kt,at.default.sources.USER)},list:function(kt){var Vt=this.quill.getSelection(),Mt=this.quill.getFormat(Vt);kt==="check"?Mt.list==="checked"||Mt.list==="unchecked"?this.quill.format("list",!1,at.default.sources.USER):this.quill.format("list","unchecked",at.default.sources.USER):this.quill.format("list",kt,at.default.sources.USER)}}},a.default=xt,a.addControls=wt},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ft(mt,yt){for(var ht=0;ht<yt.length;ht++){var pt=yt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(mt,pt.key,pt)}}return function(mt,yt,ht){return yt&&ft(mt.prototype,yt),ht&&ft(mt,ht),mt}}(),rt=function ft(mt,yt,ht){mt===null&&(mt=Function.prototype);var pt=Object.getOwnPropertyDescriptor(mt,yt);if(pt===void 0){var ct=Object.getPrototypeOf(mt);return ct===null?void 0:ft(ct,yt,ht)}else{if("value"in pt)return pt.value;var gt=pt.get;return gt===void 0?void 0:gt.call(ht)}},nt=et(28),it=ot(nt);function ot(ft){return ft&&ft.__esModule?ft:{default:ft}}function st(ft,mt){if(!(ft instanceof mt))throw new TypeError("Cannot call a class as a function")}function lt(ft,mt){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ft}function at(ft,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ft.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,mt):ft.__proto__=mt)}var ut=function(ft){at(mt,ft);function mt(yt,ht){st(this,mt);var pt=lt(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this,yt));return pt.label.innerHTML=ht,pt.container.classList.add("ql-color-picker"),[].slice.call(pt.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(ct){ct.classList.add("ql-primary")}),pt}return tt(mt,[{key:"buildItem",value:function(ht){var pt=rt(mt.prototype.__proto__||Object.getPrototypeOf(mt.prototype),"buildItem",this).call(this,ht);return pt.style.backgroundColor=ht.getAttribute("value")||"",pt}},{key:"selectItem",value:function(ht,pt){rt(mt.prototype.__proto__||Object.getPrototypeOf(mt.prototype),"selectItem",this).call(this,ht,pt);var ct=this.label.querySelector(".ql-color-label"),gt=ht&&ht.getAttribute("data-value")||"";ct&&(ct.tagName==="line"?ct.style.stroke=gt:ct.style.fill=gt)}}]),mt}(it.default);a.default=ut},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ft(mt,yt){for(var ht=0;ht<yt.length;ht++){var pt=yt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(mt,pt.key,pt)}}return function(mt,yt,ht){return yt&&ft(mt.prototype,yt),ht&&ft(mt,ht),mt}}(),rt=function ft(mt,yt,ht){mt===null&&(mt=Function.prototype);var pt=Object.getOwnPropertyDescriptor(mt,yt);if(pt===void 0){var ct=Object.getPrototypeOf(mt);return ct===null?void 0:ft(ct,yt,ht)}else{if("value"in pt)return pt.value;var gt=pt.get;return gt===void 0?void 0:gt.call(ht)}},nt=et(28),it=ot(nt);function ot(ft){return ft&&ft.__esModule?ft:{default:ft}}function st(ft,mt){if(!(ft instanceof mt))throw new TypeError("Cannot call a class as a function")}function lt(ft,mt){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ft}function at(ft,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ft.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,mt):ft.__proto__=mt)}var ut=function(ft){at(mt,ft);function mt(yt,ht){st(this,mt);var pt=lt(this,(mt.__proto__||Object.getPrototypeOf(mt)).call(this,yt));return pt.container.classList.add("ql-icon-picker"),[].forEach.call(pt.container.querySelectorAll(".ql-picker-item"),function(ct){ct.innerHTML=ht[ct.getAttribute("data-value")||""]}),pt.defaultItem=pt.container.querySelector(".ql-selected"),pt.selectItem(pt.defaultItem),pt}return tt(mt,[{key:"selectItem",value:function(ht,pt){rt(mt.prototype.__proto__||Object.getPrototypeOf(mt.prototype),"selectItem",this).call(this,ht,pt),ht=ht||this.defaultItem,this.label.innerHTML=ht.innerHTML}}]),mt}(it.default);a.default=ut},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function it(ot,st){for(var lt=0;lt<st.length;lt++){var at=st[lt];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(ot,at.key,at)}}return function(ot,st,lt){return st&&it(ot.prototype,st),lt&&it(ot,lt),ot}}();function rt(it,ot){if(!(it instanceof ot))throw new TypeError("Cannot call a class as a function")}var nt=function(){function it(ot,st){var lt=this;rt(this,it),this.quill=ot,this.boundsContainer=st||document.body,this.root=ot.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){lt.root.style.marginTop=-1*lt.quill.root.scrollTop+"px"}),this.hide()}return tt(it,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(st){var lt=st.left+st.width/2-this.root.offsetWidth/2,at=st.bottom+this.quill.root.scrollTop;this.root.style.left=lt+"px",this.root.style.top=at+"px",this.root.classList.remove("ql-flip");var ut=this.boundsContainer.getBoundingClientRect(),ft=this.root.getBoundingClientRect(),mt=0;if(ft.right>ut.right&&(mt=ut.right-ft.right,this.root.style.left=lt+mt+"px"),ft.left<ut.left&&(mt=ut.left-ft.left,this.root.style.left=lt+mt+"px"),ft.bottom>ut.bottom){var yt=ft.bottom-ft.top,ht=st.bottom-st.top+yt;this.root.style.top=at-ht+"px",this.root.classList.add("ql-flip")}return mt}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),it}();a.default=nt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function It(At,kt){var Vt=[],Mt=!0,Ot=!1,Dt=void 0;try{for(var Ct=At[Symbol.iterator](),St;!(Mt=(St=Ct.next()).done)&&(Vt.push(St.value),!(kt&&Vt.length===kt));Mt=!0);}catch($t){Ot=!0,Dt=$t}finally{try{!Mt&&Ct.return&&Ct.return()}finally{if(Ot)throw Dt}}return Vt}return function(At,kt){if(Array.isArray(At))return At;if(Symbol.iterator in Object(At))return It(At,kt);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rt=function It(At,kt,Vt){At===null&&(At=Function.prototype);var Mt=Object.getOwnPropertyDescriptor(At,kt);if(Mt===void 0){var Ot=Object.getPrototypeOf(At);return Ot===null?void 0:It(Ot,kt,Vt)}else{if("value"in Mt)return Mt.value;var Dt=Mt.get;return Dt===void 0?void 0:Dt.call(Vt)}},nt=function(){function It(At,kt){for(var Vt=0;Vt<kt.length;Vt++){var Mt=kt[Vt];Mt.enumerable=Mt.enumerable||!1,Mt.configurable=!0,"value"in Mt&&(Mt.writable=!0),Object.defineProperty(At,Mt.key,Mt)}}return function(At,kt,Vt){return kt&&It(At.prototype,kt),Vt&&It(At,Vt),At}}(),it=et(3),ot=ct(it),st=et(8),lt=ct(st),at=et(43),ut=ct(at),ft=et(27),mt=ct(ft),yt=et(15),ht=et(41),pt=ct(ht);function ct(It){return It&&It.__esModule?It:{default:It}}function gt(It,At){if(!(It instanceof At))throw new TypeError("Cannot call a class as a function")}function Et(It,At){if(!It)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return At&&(typeof At=="object"||typeof At=="function")?At:It}function bt(It,At){if(typeof At!="function"&&At!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof At);It.prototype=Object.create(At&&At.prototype,{constructor:{value:It,enumerable:!1,writable:!0,configurable:!0}}),At&&(Object.setPrototypeOf?Object.setPrototypeOf(It,At):It.__proto__=At)}var xt=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],Tt=function(It){bt(At,It);function At(kt,Vt){gt(this,At),Vt.modules.toolbar!=null&&Vt.modules.toolbar.container==null&&(Vt.modules.toolbar.container=xt);var Mt=Et(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,kt,Vt));return Mt.quill.container.classList.add("ql-snow"),Mt}return nt(At,[{key:"extendToolbar",value:function(Vt){Vt.container.classList.add("ql-snow"),this.buildButtons([].slice.call(Vt.container.querySelectorAll("button")),pt.default),this.buildPickers([].slice.call(Vt.container.querySelectorAll("select")),pt.default),this.tooltip=new wt(this.quill,this.options.bounds),Vt.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Mt,Ot){Vt.handlers.link.call(Vt,!Ot.format.link)})}}]),At}(ut.default);Tt.DEFAULTS=(0,ot.default)(!0,{},ut.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(At){if(At){var kt=this.quill.getSelection();if(kt==null||kt.length==0)return;var Vt=this.quill.getText(kt);/^\S+@\S+\.\S+$/.test(Vt)&&Vt.indexOf("mailto:")!==0&&(Vt="mailto:"+Vt);var Mt=this.quill.theme.tooltip;Mt.edit("link",Vt)}else this.quill.format("link",!1)}}}}});var wt=function(It){bt(At,It);function At(kt,Vt){gt(this,At);var Mt=Et(this,(At.__proto__||Object.getPrototypeOf(At)).call(this,kt,Vt));return Mt.preview=Mt.root.querySelector("a.ql-preview"),Mt}return nt(At,[{key:"listen",value:function(){var Vt=this;rt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Mt){Vt.root.classList.contains("ql-editing")?Vt.save():Vt.edit("link",Vt.preview.textContent),Mt.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Mt){if(Vt.linkRange!=null){var Ot=Vt.linkRange;Vt.restoreFocus(),Vt.quill.formatText(Ot,"link",!1,lt.default.sources.USER),delete Vt.linkRange}Mt.preventDefault(),Vt.hide()}),this.quill.on(lt.default.events.SELECTION_CHANGE,function(Mt,Ot,Dt){if(Mt!=null){if(Mt.length===0&&Dt===lt.default.sources.USER){var Ct=Vt.quill.scroll.descendant(mt.default,Mt.index),St=tt(Ct,2),$t=St[0],Lt=St[1];if($t!=null){Vt.linkRange=new yt.Range(Mt.index-Lt,$t.length());var Rt=mt.default.formats($t.domNode);Vt.preview.textContent=Rt,Vt.preview.setAttribute("href",Rt),Vt.show(),Vt.position(Vt.quill.getBounds(Vt.linkRange));return}}else delete Vt.linkRange;Vt.hide()}})}},{key:"show",value:function(){rt(At.prototype.__proto__||Object.getPrototypeOf(At.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),At}(at.BaseTooltip);wt.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),a.default=Tt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(29),rt=mr(tt),nt=et(36),it=et(38),ot=et(64),st=et(65),lt=mr(st),at=et(66),ut=mr(at),ft=et(67),mt=mr(ft),yt=et(37),ht=et(26),pt=et(39),ct=et(40),gt=et(56),Et=mr(gt),bt=et(68),xt=mr(bt),Tt=et(27),wt=mr(Tt),It=et(69),At=mr(It),kt=et(70),Vt=mr(kt),Mt=et(71),Ot=mr(Mt),Dt=et(72),Ct=mr(Dt),St=et(73),$t=mr(St),Lt=et(13),Rt=mr(Lt),jt=et(74),Ft=mr(jt),zt=et(75),Gt=mr(zt),Bt=et(57),Wt=mr(Bt),Kt=et(41),Qt=mr(Kt),Xt=et(28),er=mr(Xt),sr=et(59),ur=mr(sr),nr=et(60),yr=mr(nr),Ar=et(61),Er=mr(Ar),lr=et(108),dr=mr(lr),pr=et(62),ar=mr(pr);function mr(wr){return wr&&wr.__esModule?wr:{default:wr}}rt.default.register({"attributors/attribute/direction":it.DirectionAttribute,"attributors/class/align":nt.AlignClass,"attributors/class/background":yt.BackgroundClass,"attributors/class/color":ht.ColorClass,"attributors/class/direction":it.DirectionClass,"attributors/class/font":pt.FontClass,"attributors/class/size":ct.SizeClass,"attributors/style/align":nt.AlignStyle,"attributors/style/background":yt.BackgroundStyle,"attributors/style/color":ht.ColorStyle,"attributors/style/direction":it.DirectionStyle,"attributors/style/font":pt.FontStyle,"attributors/style/size":ct.SizeStyle},!0),rt.default.register({"formats/align":nt.AlignClass,"formats/direction":it.DirectionClass,"formats/indent":ot.IndentClass,"formats/background":yt.BackgroundStyle,"formats/color":ht.ColorStyle,"formats/font":pt.FontClass,"formats/size":ct.SizeClass,"formats/blockquote":lt.default,"formats/code-block":Rt.default,"formats/header":ut.default,"formats/list":mt.default,"formats/bold":Et.default,"formats/code":Lt.Code,"formats/italic":xt.default,"formats/link":wt.default,"formats/script":At.default,"formats/strike":Vt.default,"formats/underline":Ot.default,"formats/image":Ct.default,"formats/video":$t.default,"formats/list/item":ft.ListItem,"modules/formula":Ft.default,"modules/syntax":Gt.default,"modules/toolbar":Wt.default,"themes/bubble":dr.default,"themes/snow":ar.default,"ui/icons":Qt.default,"ui/picker":er.default,"ui/icon-picker":yr.default,"ui/color-picker":ur.default,"ui/tooltip":Er.default},!0),a.default=rt.default},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.IndentClass=void 0;var tt=function(){function mt(yt,ht){for(var pt=0;pt<ht.length;pt++){var ct=ht[pt];ct.enumerable=ct.enumerable||!1,ct.configurable=!0,"value"in ct&&(ct.writable=!0),Object.defineProperty(yt,ct.key,ct)}}return function(yt,ht,pt){return ht&&mt(yt.prototype,ht),pt&&mt(yt,pt),yt}}(),rt=function mt(yt,ht,pt){yt===null&&(yt=Function.prototype);var ct=Object.getOwnPropertyDescriptor(yt,ht);if(ct===void 0){var gt=Object.getPrototypeOf(yt);return gt===null?void 0:mt(gt,ht,pt)}else{if("value"in ct)return ct.value;var Et=ct.get;return Et===void 0?void 0:Et.call(pt)}},nt=et(0),it=ot(nt);function ot(mt){return mt&&mt.__esModule?mt:{default:mt}}function st(mt,yt){if(!(mt instanceof yt))throw new TypeError("Cannot call a class as a function")}function lt(mt,yt){if(!mt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt&&(typeof yt=="object"||typeof yt=="function")?yt:mt}function at(mt,yt){if(typeof yt!="function"&&yt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof yt);mt.prototype=Object.create(yt&&yt.prototype,{constructor:{value:mt,enumerable:!1,writable:!0,configurable:!0}}),yt&&(Object.setPrototypeOf?Object.setPrototypeOf(mt,yt):mt.__proto__=yt)}var ut=function(mt){at(yt,mt);function yt(){return st(this,yt),lt(this,(yt.__proto__||Object.getPrototypeOf(yt)).apply(this,arguments))}return tt(yt,[{key:"add",value:function(pt,ct){if(ct==="+1"||ct==="-1"){var gt=this.value(pt)||0;ct=ct==="+1"?gt+1:gt-1}return ct===0?(this.remove(pt),!0):rt(yt.prototype.__proto__||Object.getPrototypeOf(yt.prototype),"add",this).call(this,pt,ct)}},{key:"canAdd",value:function(pt,ct){return rt(yt.prototype.__proto__||Object.getPrototypeOf(yt.prototype),"canAdd",this).call(this,pt,ct)||rt(yt.prototype.__proto__||Object.getPrototypeOf(yt.prototype),"canAdd",this).call(this,pt,parseInt(ct))}},{key:"value",value:function(pt){return parseInt(rt(yt.prototype.__proto__||Object.getPrototypeOf(yt.prototype),"value",this).call(this,pt))||void 0}}]),yt}(it.default.Attributor.Class),ft=new ut("indent","ql-indent",{scope:it.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});a.IndentClass=ft},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(4),rt=nt(tt);function nt(at){return at&&at.__esModule?at:{default:at}}function it(at,ut){if(!(at instanceof ut))throw new TypeError("Cannot call a class as a function")}function ot(at,ut){if(!at)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut&&(typeof ut=="object"||typeof ut=="function")?ut:at}function st(at,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ut);at.prototype=Object.create(ut&&ut.prototype,{constructor:{value:at,enumerable:!1,writable:!0,configurable:!0}}),ut&&(Object.setPrototypeOf?Object.setPrototypeOf(at,ut):at.__proto__=ut)}var lt=function(at){st(ut,at);function ut(){return it(this,ut),ot(this,(ut.__proto__||Object.getPrototypeOf(ut)).apply(this,arguments))}return ut}(rt.default);lt.blotName="blockquote",lt.tagName="blockquote",a.default=lt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ut(ft,mt){for(var yt=0;yt<mt.length;yt++){var ht=mt[yt];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(ft,ht.key,ht)}}return function(ft,mt,yt){return mt&&ut(ft.prototype,mt),yt&&ut(ft,yt),ft}}(),rt=et(4),nt=it(rt);function it(ut){return ut&&ut.__esModule?ut:{default:ut}}function ot(ut,ft){if(!(ut instanceof ft))throw new TypeError("Cannot call a class as a function")}function st(ut,ft){if(!ut)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ft&&(typeof ft=="object"||typeof ft=="function")?ft:ut}function lt(ut,ft){if(typeof ft!="function"&&ft!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ft);ut.prototype=Object.create(ft&&ft.prototype,{constructor:{value:ut,enumerable:!1,writable:!0,configurable:!0}}),ft&&(Object.setPrototypeOf?Object.setPrototypeOf(ut,ft):ut.__proto__=ft)}var at=function(ut){lt(ft,ut);function ft(){return ot(this,ft),st(this,(ft.__proto__||Object.getPrototypeOf(ft)).apply(this,arguments))}return tt(ft,null,[{key:"formats",value:function(yt){return this.tagName.indexOf(yt.tagName)+1}}]),ft}(nt.default);at.blotName="header",at.tagName=["H1","H2","H3","H4","H5","H6"],a.default=at},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.ListItem=void 0;var tt=function(){function gt(Et,bt){for(var xt=0;xt<bt.length;xt++){var Tt=bt[xt];Tt.enumerable=Tt.enumerable||!1,Tt.configurable=!0,"value"in Tt&&(Tt.writable=!0),Object.defineProperty(Et,Tt.key,Tt)}}return function(Et,bt,xt){return bt&&gt(Et.prototype,bt),xt&&gt(Et,xt),Et}}(),rt=function gt(Et,bt,xt){Et===null&&(Et=Function.prototype);var Tt=Object.getOwnPropertyDescriptor(Et,bt);if(Tt===void 0){var wt=Object.getPrototypeOf(Et);return wt===null?void 0:gt(wt,bt,xt)}else{if("value"in Tt)return Tt.value;var It=Tt.get;return It===void 0?void 0:It.call(xt)}},nt=et(0),it=ut(nt),ot=et(4),st=ut(ot),lt=et(25),at=ut(lt);function ut(gt){return gt&&gt.__esModule?gt:{default:gt}}function ft(gt,Et,bt){return Et in gt?Object.defineProperty(gt,Et,{value:bt,enumerable:!0,configurable:!0,writable:!0}):gt[Et]=bt,gt}function mt(gt,Et){if(!(gt instanceof Et))throw new TypeError("Cannot call a class as a function")}function yt(gt,Et){if(!gt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Et&&(typeof Et=="object"||typeof Et=="function")?Et:gt}function ht(gt,Et){if(typeof Et!="function"&&Et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Et);gt.prototype=Object.create(Et&&Et.prototype,{constructor:{value:gt,enumerable:!1,writable:!0,configurable:!0}}),Et&&(Object.setPrototypeOf?Object.setPrototypeOf(gt,Et):gt.__proto__=Et)}var pt=function(gt){ht(Et,gt);function Et(){return mt(this,Et),yt(this,(Et.__proto__||Object.getPrototypeOf(Et)).apply(this,arguments))}return tt(Et,[{key:"format",value:function(xt,Tt){xt===ct.blotName&&!Tt?this.replaceWith(it.default.create(this.statics.scope)):rt(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"format",this).call(this,xt,Tt)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():rt(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(xt,Tt){return this.parent.isolate(this.offset(this.parent),this.length()),xt===this.parent.statics.blotName?(this.parent.replaceWith(xt,Tt),this):(this.parent.unwrap(),rt(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"replaceWith",this).call(this,xt,Tt))}}],[{key:"formats",value:function(xt){return xt.tagName===this.tagName?void 0:rt(Et.__proto__||Object.getPrototypeOf(Et),"formats",this).call(this,xt)}}]),Et}(st.default);pt.blotName="list-item",pt.tagName="LI";var ct=function(gt){ht(Et,gt),tt(Et,null,[{key:"create",value:function(xt){var Tt=xt==="ordered"?"OL":"UL",wt=rt(Et.__proto__||Object.getPrototypeOf(Et),"create",this).call(this,Tt);return(xt==="checked"||xt==="unchecked")&&wt.setAttribute("data-checked",xt==="checked"),wt}},{key:"formats",value:function(xt){if(xt.tagName==="OL")return"ordered";if(xt.tagName==="UL")return xt.hasAttribute("data-checked")?xt.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function Et(bt){mt(this,Et);var xt=yt(this,(Et.__proto__||Object.getPrototypeOf(Et)).call(this,bt)),Tt=function(It){if(It.target.parentNode===bt){var At=xt.statics.formats(bt),kt=it.default.find(It.target);At==="checked"?kt.format("list","unchecked"):At==="unchecked"&&kt.format("list","checked")}};return bt.addEventListener("touchstart",Tt),bt.addEventListener("mousedown",Tt),xt}return tt(Et,[{key:"format",value:function(xt,Tt){this.children.length>0&&this.children.tail.format(xt,Tt)}},{key:"formats",value:function(){return ft({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(xt,Tt){if(xt instanceof pt)rt(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"insertBefore",this).call(this,xt,Tt);else{var wt=Tt==null?this.length():Tt.offset(this),It=this.split(wt);It.parent.insertBefore(xt,It)}}},{key:"optimize",value:function(xt){rt(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"optimize",this).call(this,xt);var Tt=this.next;Tt!=null&&Tt.prev===this&&Tt.statics.blotName===this.statics.blotName&&Tt.domNode.tagName===this.domNode.tagName&&Tt.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(Tt.moveChildren(this),Tt.remove())}},{key:"replace",value:function(xt){if(xt.statics.blotName!==this.statics.blotName){var Tt=it.default.create(this.statics.defaultChild);xt.moveChildren(Tt),this.appendChild(Tt)}rt(Et.prototype.__proto__||Object.getPrototypeOf(Et.prototype),"replace",this).call(this,xt)}}]),Et}(at.default);ct.blotName="list",ct.scope=it.default.Scope.BLOCK_BLOT,ct.tagName=["OL","UL"],ct.defaultChild="list-item",ct.allowedChildren=[pt],a.ListItem=pt,a.default=ct},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(56),rt=nt(tt);function nt(at){return at&&at.__esModule?at:{default:at}}function it(at,ut){if(!(at instanceof ut))throw new TypeError("Cannot call a class as a function")}function ot(at,ut){if(!at)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut&&(typeof ut=="object"||typeof ut=="function")?ut:at}function st(at,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ut);at.prototype=Object.create(ut&&ut.prototype,{constructor:{value:at,enumerable:!1,writable:!0,configurable:!0}}),ut&&(Object.setPrototypeOf?Object.setPrototypeOf(at,ut):at.__proto__=ut)}var lt=function(at){st(ut,at);function ut(){return it(this,ut),ot(this,(ut.__proto__||Object.getPrototypeOf(ut)).apply(this,arguments))}return ut}(rt.default);lt.blotName="italic",lt.tagName=["EM","I"],a.default=lt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function ft(mt,yt){for(var ht=0;ht<yt.length;ht++){var pt=yt[ht];pt.enumerable=pt.enumerable||!1,pt.configurable=!0,"value"in pt&&(pt.writable=!0),Object.defineProperty(mt,pt.key,pt)}}return function(mt,yt,ht){return yt&&ft(mt.prototype,yt),ht&&ft(mt,ht),mt}}(),rt=function ft(mt,yt,ht){mt===null&&(mt=Function.prototype);var pt=Object.getOwnPropertyDescriptor(mt,yt);if(pt===void 0){var ct=Object.getPrototypeOf(mt);return ct===null?void 0:ft(ct,yt,ht)}else{if("value"in pt)return pt.value;var gt=pt.get;return gt===void 0?void 0:gt.call(ht)}},nt=et(6),it=ot(nt);function ot(ft){return ft&&ft.__esModule?ft:{default:ft}}function st(ft,mt){if(!(ft instanceof mt))throw new TypeError("Cannot call a class as a function")}function lt(ft,mt){if(!ft)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return mt&&(typeof mt=="object"||typeof mt=="function")?mt:ft}function at(ft,mt){if(typeof mt!="function"&&mt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof mt);ft.prototype=Object.create(mt&&mt.prototype,{constructor:{value:ft,enumerable:!1,writable:!0,configurable:!0}}),mt&&(Object.setPrototypeOf?Object.setPrototypeOf(ft,mt):ft.__proto__=mt)}var ut=function(ft){at(mt,ft);function mt(){return st(this,mt),lt(this,(mt.__proto__||Object.getPrototypeOf(mt)).apply(this,arguments))}return tt(mt,null,[{key:"create",value:function(ht){return ht==="super"?document.createElement("sup"):ht==="sub"?document.createElement("sub"):rt(mt.__proto__||Object.getPrototypeOf(mt),"create",this).call(this,ht)}},{key:"formats",value:function(ht){if(ht.tagName==="SUB")return"sub";if(ht.tagName==="SUP")return"super"}}]),mt}(it.default);ut.blotName="script",ut.tagName=["SUB","SUP"],a.default=ut},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(6),rt=nt(tt);function nt(at){return at&&at.__esModule?at:{default:at}}function it(at,ut){if(!(at instanceof ut))throw new TypeError("Cannot call a class as a function")}function ot(at,ut){if(!at)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut&&(typeof ut=="object"||typeof ut=="function")?ut:at}function st(at,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ut);at.prototype=Object.create(ut&&ut.prototype,{constructor:{value:at,enumerable:!1,writable:!0,configurable:!0}}),ut&&(Object.setPrototypeOf?Object.setPrototypeOf(at,ut):at.__proto__=ut)}var lt=function(at){st(ut,at);function ut(){return it(this,ut),ot(this,(ut.__proto__||Object.getPrototypeOf(ut)).apply(this,arguments))}return ut}(rt.default);lt.blotName="strike",lt.tagName="S",a.default=lt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=et(6),rt=nt(tt);function nt(at){return at&&at.__esModule?at:{default:at}}function it(at,ut){if(!(at instanceof ut))throw new TypeError("Cannot call a class as a function")}function ot(at,ut){if(!at)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ut&&(typeof ut=="object"||typeof ut=="function")?ut:at}function st(at,ut){if(typeof ut!="function"&&ut!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ut);at.prototype=Object.create(ut&&ut.prototype,{constructor:{value:at,enumerable:!1,writable:!0,configurable:!0}}),ut&&(Object.setPrototypeOf?Object.setPrototypeOf(at,ut):at.__proto__=ut)}var lt=function(at){st(ut,at);function ut(){return it(this,ut),ot(this,(ut.__proto__||Object.getPrototypeOf(ut)).apply(this,arguments))}return ut}(rt.default);lt.blotName="underline",lt.tagName="U",a.default=lt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function yt(ht,pt){for(var ct=0;ct<pt.length;ct++){var gt=pt[ct];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ht,gt.key,gt)}}return function(ht,pt,ct){return pt&&yt(ht.prototype,pt),ct&&yt(ht,ct),ht}}(),rt=function yt(ht,pt,ct){ht===null&&(ht=Function.prototype);var gt=Object.getOwnPropertyDescriptor(ht,pt);if(gt===void 0){var Et=Object.getPrototypeOf(ht);return Et===null?void 0:yt(Et,pt,ct)}else{if("value"in gt)return gt.value;var bt=gt.get;return bt===void 0?void 0:bt.call(ct)}},nt=et(0),it=st(nt),ot=et(27);function st(yt){return yt&&yt.__esModule?yt:{default:yt}}function lt(yt,ht){if(!(yt instanceof ht))throw new TypeError("Cannot call a class as a function")}function at(yt,ht){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht&&(typeof ht=="object"||typeof ht=="function")?ht:yt}function ut(yt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ht);yt.prototype=Object.create(ht&&ht.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),ht&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,ht):yt.__proto__=ht)}var ft=["alt","height","width"],mt=function(yt){ut(ht,yt);function ht(){return lt(this,ht),at(this,(ht.__proto__||Object.getPrototypeOf(ht)).apply(this,arguments))}return tt(ht,[{key:"format",value:function(ct,gt){ft.indexOf(ct)>-1?gt?this.domNode.setAttribute(ct,gt):this.domNode.removeAttribute(ct):rt(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"format",this).call(this,ct,gt)}}],[{key:"create",value:function(ct){var gt=rt(ht.__proto__||Object.getPrototypeOf(ht),"create",this).call(this,ct);return typeof ct=="string"&&gt.setAttribute("src",this.sanitize(ct)),gt}},{key:"formats",value:function(ct){return ft.reduce(function(gt,Et){return ct.hasAttribute(Et)&&(gt[Et]=ct.getAttribute(Et)),gt},{})}},{key:"match",value:function(ct){return/\.(jpe?g|gif|png)$/.test(ct)||/^data:image\/.+;base64/.test(ct)}},{key:"sanitize",value:function(ct){return(0,ot.sanitize)(ct,["http","https","data"])?ct:"//:0"}},{key:"value",value:function(ct){return ct.getAttribute("src")}}]),ht}(it.default.Embed);mt.blotName="image",mt.tagName="IMG",a.default=mt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0});var tt=function(){function yt(ht,pt){for(var ct=0;ct<pt.length;ct++){var gt=pt[ct];gt.enumerable=gt.enumerable||!1,gt.configurable=!0,"value"in gt&&(gt.writable=!0),Object.defineProperty(ht,gt.key,gt)}}return function(ht,pt,ct){return pt&&yt(ht.prototype,pt),ct&&yt(ht,ct),ht}}(),rt=function yt(ht,pt,ct){ht===null&&(ht=Function.prototype);var gt=Object.getOwnPropertyDescriptor(ht,pt);if(gt===void 0){var Et=Object.getPrototypeOf(ht);return Et===null?void 0:yt(Et,pt,ct)}else{if("value"in gt)return gt.value;var bt=gt.get;return bt===void 0?void 0:bt.call(ct)}},nt=et(4),it=et(27),ot=st(it);function st(yt){return yt&&yt.__esModule?yt:{default:yt}}function lt(yt,ht){if(!(yt instanceof ht))throw new TypeError("Cannot call a class as a function")}function at(yt,ht){if(!yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return ht&&(typeof ht=="object"||typeof ht=="function")?ht:yt}function ut(yt,ht){if(typeof ht!="function"&&ht!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof ht);yt.prototype=Object.create(ht&&ht.prototype,{constructor:{value:yt,enumerable:!1,writable:!0,configurable:!0}}),ht&&(Object.setPrototypeOf?Object.setPrototypeOf(yt,ht):yt.__proto__=ht)}var ft=["height","width"],mt=function(yt){ut(ht,yt);function ht(){return lt(this,ht),at(this,(ht.__proto__||Object.getPrototypeOf(ht)).apply(this,arguments))}return tt(ht,[{key:"format",value:function(ct,gt){ft.indexOf(ct)>-1?gt?this.domNode.setAttribute(ct,gt):this.domNode.removeAttribute(ct):rt(ht.prototype.__proto__||Object.getPrototypeOf(ht.prototype),"format",this).call(this,ct,gt)}}],[{key:"create",value:function(ct){var gt=rt(ht.__proto__||Object.getPrototypeOf(ht),"create",this).call(this,ct);return gt.setAttribute("frameborder","0"),gt.setAttribute("allowfullscreen",!0),gt.setAttribute("src",this.sanitize(ct)),gt}},{key:"formats",value:function(ct){return ft.reduce(function(gt,Et){return ct.hasAttribute(Et)&&(gt[Et]=ct.getAttribute(Et)),gt},{})}},{key:"sanitize",value:function(ct){return ot.default.sanitize(ct)}},{key:"value",value:function(ct){return ct.getAttribute("src")}}]),ht}(nt.BlockEmbed);mt.blotName="video",mt.className="ql-video",mt.tagName="IFRAME",a.default=mt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.FormulaBlot=void 0;var tt=function(){function ct(gt,Et){for(var bt=0;bt<Et.length;bt++){var xt=Et[bt];xt.enumerable=xt.enumerable||!1,xt.configurable=!0,"value"in xt&&(xt.writable=!0),Object.defineProperty(gt,xt.key,xt)}}return function(gt,Et,bt){return Et&&ct(gt.prototype,Et),bt&&ct(gt,bt),gt}}(),rt=function ct(gt,Et,bt){gt===null&&(gt=Function.prototype);var xt=Object.getOwnPropertyDescriptor(gt,Et);if(xt===void 0){var Tt=Object.getPrototypeOf(gt);return Tt===null?void 0:ct(Tt,Et,bt)}else{if("value"in xt)return xt.value;var wt=xt.get;return wt===void 0?void 0:wt.call(bt)}},nt=et(35),it=ut(nt),ot=et(5),st=ut(ot),lt=et(9),at=ut(lt);function ut(ct){return ct&&ct.__esModule?ct:{default:ct}}function ft(ct,gt){if(!(ct instanceof gt))throw new TypeError("Cannot call a class as a function")}function mt(ct,gt){if(!ct)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return gt&&(typeof gt=="object"||typeof gt=="function")?gt:ct}function yt(ct,gt){if(typeof gt!="function"&&gt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof gt);ct.prototype=Object.create(gt&&gt.prototype,{constructor:{value:ct,enumerable:!1,writable:!0,configurable:!0}}),gt&&(Object.setPrototypeOf?Object.setPrototypeOf(ct,gt):ct.__proto__=gt)}var ht=function(ct){yt(gt,ct);function gt(){return ft(this,gt),mt(this,(gt.__proto__||Object.getPrototypeOf(gt)).apply(this,arguments))}return tt(gt,null,[{key:"create",value:function(bt){var xt=rt(gt.__proto__||Object.getPrototypeOf(gt),"create",this).call(this,bt);return typeof bt=="string"&&(window.katex.render(bt,xt,{throwOnError:!1,errorColor:"#f00"}),xt.setAttribute("data-value",bt)),xt}},{key:"value",value:function(bt){return bt.getAttribute("data-value")}}]),gt}(it.default);ht.blotName="formula",ht.className="ql-formula",ht.tagName="SPAN";var pt=function(ct){yt(gt,ct),tt(gt,null,[{key:"register",value:function(){st.default.register(ht,!0)}}]);function gt(){ft(this,gt);var Et=mt(this,(gt.__proto__||Object.getPrototypeOf(gt)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return Et}return gt}(at.default);a.FormulaBlot=ht,a.default=pt},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.CodeToken=a.CodeBlock=void 0;var tt=function(){function bt(xt,Tt){for(var wt=0;wt<Tt.length;wt++){var It=Tt[wt];It.enumerable=It.enumerable||!1,It.configurable=!0,"value"in It&&(It.writable=!0),Object.defineProperty(xt,It.key,It)}}return function(xt,Tt,wt){return Tt&&bt(xt.prototype,Tt),wt&&bt(xt,wt),xt}}(),rt=function bt(xt,Tt,wt){xt===null&&(xt=Function.prototype);var It=Object.getOwnPropertyDescriptor(xt,Tt);if(It===void 0){var At=Object.getPrototypeOf(xt);return At===null?void 0:bt(At,Tt,wt)}else{if("value"in It)return It.value;var kt=It.get;return kt===void 0?void 0:kt.call(wt)}},nt=et(0),it=mt(nt),ot=et(5),st=mt(ot),lt=et(9),at=mt(lt),ut=et(13),ft=mt(ut);function mt(bt){return bt&&bt.__esModule?bt:{default:bt}}function yt(bt,xt){if(!(bt instanceof xt))throw new TypeError("Cannot call a class as a function")}function ht(bt,xt){if(!bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return xt&&(typeof xt=="object"||typeof xt=="function")?xt:bt}function pt(bt,xt){if(typeof xt!="function"&&xt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof xt);bt.prototype=Object.create(xt&&xt.prototype,{constructor:{value:bt,enumerable:!1,writable:!0,configurable:!0}}),xt&&(Object.setPrototypeOf?Object.setPrototypeOf(bt,xt):bt.__proto__=xt)}var ct=function(bt){pt(xt,bt);function xt(){return yt(this,xt),ht(this,(xt.__proto__||Object.getPrototypeOf(xt)).apply(this,arguments))}return tt(xt,[{key:"replaceWith",value:function(wt){this.domNode.textContent=this.domNode.textContent,this.attach(),rt(xt.prototype.__proto__||Object.getPrototypeOf(xt.prototype),"replaceWith",this).call(this,wt)}},{key:"highlight",value:function(wt){var It=this.domNode.textContent;this.cachedText!==It&&((It.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=wt(It),this.domNode.normalize(),this.attach()),this.cachedText=It)}}]),xt}(ft.default);ct.className="ql-syntax";var gt=new it.default.Attributor.Class("token","hljs",{scope:it.default.Scope.INLINE}),Et=function(bt){pt(xt,bt),tt(xt,null,[{key:"register",value:function(){st.default.register(gt,!0),st.default.register(ct,!0)}}]);function xt(Tt,wt){yt(this,xt);var It=ht(this,(xt.__proto__||Object.getPrototypeOf(xt)).call(this,Tt,wt));if(typeof It.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var At=null;return It.quill.on(st.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(At),At=setTimeout(function(){It.highlight(),At=null},It.options.interval)}),It.highlight(),It}return tt(xt,[{key:"highlight",value:function(){var wt=this;if(!this.quill.selection.composing){this.quill.update(st.default.sources.USER);var It=this.quill.getSelection();this.quill.scroll.descendants(ct).forEach(function(At){At.highlight(wt.options.highlight)}),this.quill.update(st.default.sources.SILENT),It!=null&&this.quill.setSelection(It,st.default.sources.SILENT)}}}]),xt}(at.default);Et.DEFAULTS={highlight:function(){return window.hljs==null?null:function(bt){var xt=window.hljs.highlightAuto(bt);return xt.value}}(),interval:1e3},a.CodeBlock=ct,a.CodeToken=gt,a.default=Et},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(s,a){s.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(s,a){s.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(s,a){s.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(s,a,et){Object.defineProperty(a,"__esModule",{value:!0}),a.default=a.BubbleTooltip=void 0;var tt=function xt(Tt,wt,It){Tt===null&&(Tt=Function.prototype);var At=Object.getOwnPropertyDescriptor(Tt,wt);if(At===void 0){var kt=Object.getPrototypeOf(Tt);return kt===null?void 0:xt(kt,wt,It)}else{if("value"in At)return At.value;var Vt=At.get;return Vt===void 0?void 0:Vt.call(It)}},rt=function(){function xt(Tt,wt){for(var It=0;It<wt.length;It++){var At=wt[It];At.enumerable=At.enumerable||!1,At.configurable=!0,"value"in At&&(At.writable=!0),Object.defineProperty(Tt,At.key,At)}}return function(Tt,wt,It){return wt&&xt(Tt.prototype,wt),It&&xt(Tt,It),Tt}}(),nt=et(3),it=yt(nt),ot=et(8),st=yt(ot),lt=et(43),at=yt(lt),ut=et(15),ft=et(41),mt=yt(ft);function yt(xt){return xt&&xt.__esModule?xt:{default:xt}}function ht(xt,Tt){if(!(xt instanceof Tt))throw new TypeError("Cannot call a class as a function")}function pt(xt,Tt){if(!xt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Tt&&(typeof Tt=="object"||typeof Tt=="function")?Tt:xt}function ct(xt,Tt){if(typeof Tt!="function"&&Tt!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Tt);xt.prototype=Object.create(Tt&&Tt.prototype,{constructor:{value:xt,enumerable:!1,writable:!0,configurable:!0}}),Tt&&(Object.setPrototypeOf?Object.setPrototypeOf(xt,Tt):xt.__proto__=Tt)}var gt=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],Et=function(xt){ct(Tt,xt);function Tt(wt,It){ht(this,Tt),It.modules.toolbar!=null&&It.modules.toolbar.container==null&&(It.modules.toolbar.container=gt);var At=pt(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this,wt,It));return At.quill.container.classList.add("ql-bubble"),At}return rt(Tt,[{key:"extendToolbar",value:function(It){this.tooltip=new bt(this.quill,this.options.bounds),this.tooltip.root.appendChild(It.container),this.buildButtons([].slice.call(It.container.querySelectorAll("button")),mt.default),this.buildPickers([].slice.call(It.container.querySelectorAll("select")),mt.default)}}]),Tt}(at.default);Et.DEFAULTS=(0,it.default)(!0,{},at.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(Tt){Tt?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var bt=function(xt){ct(Tt,xt);function Tt(wt,It){ht(this,Tt);var At=pt(this,(Tt.__proto__||Object.getPrototypeOf(Tt)).call(this,wt,It));return At.quill.on(st.default.events.EDITOR_CHANGE,function(kt,Vt,Mt,Ot){if(kt===st.default.events.SELECTION_CHANGE)if(Vt!=null&&Vt.length>0&&Ot===st.default.sources.USER){At.show(),At.root.style.left="0px",At.root.style.width="",At.root.style.width=At.root.offsetWidth+"px";var Dt=At.quill.getLines(Vt.index,Vt.length);if(Dt.length===1)At.position(At.quill.getBounds(Vt));else{var Ct=Dt[Dt.length-1],St=At.quill.getIndex(Ct),$t=Math.min(Ct.length()-1,Vt.index+Vt.length-St),Lt=At.quill.getBounds(new ut.Range(St,$t));At.position(Lt)}}else document.activeElement!==At.textbox&&At.quill.hasFocus()&&At.hide()}),At}return rt(Tt,[{key:"listen",value:function(){var It=this;tt(Tt.prototype.__proto__||Object.getPrototypeOf(Tt.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){It.root.classList.remove("ql-editing")}),this.quill.on(st.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!It.root.classList.contains("ql-hidden")){var At=It.quill.getSelection();At!=null&&It.position(It.quill.getBounds(At))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(It){var At=tt(Tt.prototype.__proto__||Object.getPrototypeOf(Tt.prototype),"position",this).call(this,It),kt=this.root.querySelector(".ql-tooltip-arrow");if(kt.style.marginLeft="",At===0)return At;kt.style.marginLeft=-1*At-kt.offsetWidth/2+"px"}}]),Tt}(lt.BaseTooltip);bt.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),a.BubbleTooltip=bt,a.default=Et},function(s,a,et){s.exports=et(63)}]).default})})(quill);var quillExports=quill.exports,__extends=commonjsGlobal$1&&commonjsGlobal$1.__extends||function(){var o=function(i,s){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,et){a.__proto__=et}||function(a,et){for(var tt in et)et.hasOwnProperty(tt)&&(a[tt]=et[tt])},o(i,s)};return function(i,s){o(i,s);function a(){this.constructor=i}i.prototype=s===null?Object.create(s):(a.prototype=s.prototype,new a)}}(),__assign=commonjsGlobal$1&&commonjsGlobal$1.__assign||function(){return __assign=Object.assign||function(o){for(var i,s=1,a=arguments.length;s<a;s++){i=arguments[s];for(var et in i)Object.prototype.hasOwnProperty.call(i,et)&&(o[et]=i[et])}return o},__assign.apply(this,arguments)},__spreadArrays=commonjsGlobal$1&&commonjsGlobal$1.__spreadArrays||function(){for(var o=0,i=0,s=arguments.length;i<s;i++)o+=arguments[i].length;for(var a=Array(o),et=0,i=0;i<s;i++)for(var tt=arguments[i],rt=0,nt=tt.length;rt<nt;rt++,et++)a[et]=tt[rt];return a},__importDefault=commonjsGlobal$1&&commonjsGlobal$1.__importDefault||function(o){return o&&o.__esModule?o:{default:o}},react_1=__importDefault(reactExports),react_dom_1=__importDefault(reactDomExports),isEqual_1=__importDefault(isEqual_1$1),quill_1=__importDefault(quillExports),ReactQuill=function(o){__extends(i,o);function i(s){var a=o.call(this,s)||this;a.dirtyProps=["modules","formats","bounds","theme","children"],a.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],a.state={generation:0},a.selection=null,a.onEditorChange=function(tt,rt,nt,it){var ot,st,lt,at;tt==="text-change"?(st=(ot=a).onEditorChangeText)===null||st===void 0||st.call(ot,a.editor.root.innerHTML,rt,it,a.unprivilegedEditor):tt==="selection-change"&&((at=(lt=a).onEditorChangeSelection)===null||at===void 0||at.call(lt,rt,it,a.unprivilegedEditor))};var et=a.isControlled()?s.value:s.defaultValue;return a.value=et??"",a}return i.prototype.validateProps=function(s){var a;if(react_1.default.Children.count(s.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(react_1.default.Children.count(s.children)){var et=react_1.default.Children.only(s.children);if(((a=et)===null||a===void 0?void 0:a.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&s.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},i.prototype.shouldComponentUpdate=function(s,a){var et=this,tt;if(this.validateProps(s),!this.editor||this.state.generation!==a.generation)return!0;if("value"in s){var rt=this.getEditorContents(),nt=(tt=s.value,tt??"");this.isEqualValue(nt,rt)||this.setEditorContents(this.editor,nt)}return s.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,s.readOnly),__spreadArrays(this.cleanProps,this.dirtyProps).some(function(it){return!isEqual_1.default(s[it],et.props[it])})},i.prototype.shouldComponentRegenerate=function(s){var a=this;return this.dirtyProps.some(function(et){return!isEqual_1.default(s[et],a.props[et])})},i.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},i.prototype.componentWillUnmount=function(){this.destroyEditor()},i.prototype.componentDidUpdate=function(s,a){var et=this;if(this.editor&&this.shouldComponentRegenerate(s)){var tt=this.editor.getContents(),rt=this.editor.getSelection();this.regenerationSnapshot={delta:tt,selection:rt},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==a.generation){var nt=this.regenerationSnapshot,tt=nt.delta,it=nt.selection;delete this.regenerationSnapshot,this.instantiateEditor();var ot=this.editor;ot.setContents(tt),postpone(function(){return et.setEditorSelection(ot,it)})}},i.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},i.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},i.prototype.isControlled=function(){return"value"in this.props},i.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},i.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},i.prototype.createEditor=function(s,a){var et=new quill_1.default(s,a);return a.tabIndex!=null&&this.setEditorTabIndex(et,a.tabIndex),this.hookEditor(et),et},i.prototype.hookEditor=function(s){this.unprivilegedEditor=this.makeUnprivilegedEditor(s),s.on("editor-change",this.onEditorChange)},i.prototype.unhookEditor=function(s){s.off("editor-change",this.onEditorChange)},i.prototype.getEditorContents=function(){return this.value},i.prototype.getEditorSelection=function(){return this.selection},i.prototype.isDelta=function(s){return s&&s.ops},i.prototype.isEqualValue=function(s,a){return this.isDelta(s)&&this.isDelta(a)?isEqual_1.default(s.ops,a.ops):isEqual_1.default(s,a)},i.prototype.setEditorContents=function(s,a){var et=this;this.value=a;var tt=this.getEditorSelection();typeof a=="string"?s.setContents(s.clipboard.convert(a)):s.setContents(a),postpone(function(){return et.setEditorSelection(s,tt)})},i.prototype.setEditorSelection=function(s,a){if(this.selection=a,a){var et=s.getLength();a.index=Math.max(0,Math.min(a.index,et-1)),a.length=Math.max(0,Math.min(a.length,et-1-a.index)),s.setSelection(a)}},i.prototype.setEditorTabIndex=function(s,a){var et,tt;!((tt=(et=s)===null||et===void 0?void 0:et.scroll)===null||tt===void 0)&&tt.domNode&&(s.scroll.domNode.tabIndex=a)},i.prototype.setEditorReadOnly=function(s,a){a?s.disable():s.enable()},i.prototype.makeUnprivilegedEditor=function(s){var a=s;return{getHTML:function(){return a.root.innerHTML},getLength:a.getLength.bind(a),getText:a.getText.bind(a),getContents:a.getContents.bind(a),getSelection:a.getSelection.bind(a),getBounds:a.getBounds.bind(a)}},i.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var s=react_dom_1.default.findDOMNode(this.editingArea);if(!s)throw new Error("Cannot find element for editing area");if(s.nodeType===3)throw new Error("Editing area cannot be a text node");return s},i.prototype.renderEditingArea=function(){var s=this,a=this.props,et=a.children,tt=a.preserveWhitespace,rt=this.state.generation,nt={key:rt,ref:function(it){s.editingArea=it}};return react_1.default.Children.count(et)?react_1.default.cloneElement(react_1.default.Children.only(et),nt):tt?react_1.default.createElement("pre",__assign({},nt)):react_1.default.createElement("div",__assign({},nt))},i.prototype.render=function(){var s;return react_1.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(s=this.props.className,s??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},i.prototype.onEditorChangeText=function(s,a,et,tt){var rt,nt;if(this.editor){var it=this.isDelta(this.value)?tt.getContents():tt.getHTML();it!==this.getEditorContents()&&(this.lastDeltaChangeSet=a,this.value=it,(nt=(rt=this.props).onChange)===null||nt===void 0||nt.call(rt,s,a,et,tt))}},i.prototype.onEditorChangeSelection=function(s,a,et){var tt,rt,nt,it,ot,st;if(this.editor){var lt=this.getEditorSelection(),at=!lt&&s,ut=lt&&!s;isEqual_1.default(s,lt)||(this.selection=s,(rt=(tt=this.props).onChangeSelection)===null||rt===void 0||rt.call(tt,s,a,et),at?(it=(nt=this.props).onFocus)===null||it===void 0||it.call(nt,s,a,et):ut&&((st=(ot=this.props).onBlur)===null||st===void 0||st.call(ot,lt,a,et)))}},i.prototype.focus=function(){this.editor&&this.editor.focus()},i.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},i.displayName="React Quill",i.Quill=quill_1.default,i.defaultProps={theme:"snow",modules:{},readOnly:!1},i}(react_1.default.Component);function postpone(o){Promise.resolve().then(o)}var lib$1=ReactQuill;const ReactQuill$1=getDefaultExportFromCjs(lib$1);function RichEditor(o){const i=useSelector(tt=>tt.pages.editorHtmlContent),s=useDispatch(),a={toolbar:[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{size:[]}],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]]},et=["header","font","size","bold","italic","underline","strike","blockquote","code-block","list","bullet","link","image","video","align"];return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ReactQuill$1,{theme:"snow",modules:a,formats:et,value:i,onChange:tt=>{s(setHtmlContent(tt))}})})}var Action;(function(o){o.Pop="POP",o.Push="PUSH",o.Replace="REPLACE"})(Action||(Action={}));var readOnly=function(o){return o},BeforeUnloadEventType="beforeunload",PopStateEventType="popstate";function createBrowserHistory(o){o===void 0&&(o={});var i=o,s=i.window,a=s===void 0?document.defaultView:s,et=a.history;function tt(){var xt=a.location,Tt=xt.pathname,wt=xt.search,It=xt.hash,At=et.state||{};return[At.idx,readOnly({pathname:Tt,search:wt,hash:It,state:At.usr||null,key:At.key||"default"})]}var rt=null;function nt(){if(rt)ut.call(rt),rt=null;else{var xt=Action.Pop,Tt=tt(),wt=Tt[0],It=Tt[1];if(ut.length){if(wt!=null){var At=st-wt;At&&(rt={action:xt,location:It,retry:function(){Et(At*-1)}},Et(At))}}else pt(xt)}}a.addEventListener(PopStateEventType,nt);var it=Action.Pop,ot=tt(),st=ot[0],lt=ot[1],at=createEvents(),ut=createEvents();st==null&&(st=0,et.replaceState(_extends$1({},et.state,{idx:st}),""));function ft(xt){return typeof xt=="string"?xt:createPath(xt)}function mt(xt,Tt){return Tt===void 0&&(Tt=null),readOnly(_extends$1({pathname:lt.pathname,hash:"",search:""},typeof xt=="string"?parsePath(xt):xt,{state:Tt,key:createKey()}))}function yt(xt,Tt){return[{usr:xt.state,key:xt.key,idx:Tt},ft(xt)]}function ht(xt,Tt,wt){return!ut.length||(ut.call({action:xt,location:Tt,retry:wt}),!1)}function pt(xt){it=xt;var Tt=tt();st=Tt[0],lt=Tt[1],at.call({action:it,location:lt})}function ct(xt,Tt){var wt=Action.Push,It=mt(xt,Tt);function At(){ct(xt,Tt)}if(ht(wt,It,At)){var kt=yt(It,st+1),Vt=kt[0],Mt=kt[1];try{et.pushState(Vt,"",Mt)}catch{a.location.assign(Mt)}pt(wt)}}function gt(xt,Tt){var wt=Action.Replace,It=mt(xt,Tt);function At(){gt(xt,Tt)}if(ht(wt,It,At)){var kt=yt(It,st),Vt=kt[0],Mt=kt[1];et.replaceState(Vt,"",Mt),pt(wt)}}function Et(xt){et.go(xt)}var bt={get action(){return it},get location(){return lt},createHref:ft,push:ct,replace:gt,go:Et,back:function(){Et(-1)},forward:function(){Et(1)},listen:function(Tt){return at.push(Tt)},block:function(Tt){var wt=ut.push(Tt);return ut.length===1&&a.addEventListener(BeforeUnloadEventType,promptBeforeUnload),function(){wt(),ut.length||a.removeEventListener(BeforeUnloadEventType,promptBeforeUnload)}}};return bt}function promptBeforeUnload(o){o.preventDefault(),o.returnValue=""}function createEvents(){var o=[];return{get length(){return o.length},push:function(s){return o.push(s),function(){o=o.filter(function(a){return a!==s})}},call:function(s){o.forEach(function(a){return a&&a(s)})}}}function createKey(){return Math.random().toString(36).substr(2,8)}function createPath(o){var i=o.pathname,s=i===void 0?"/":i,a=o.search,et=a===void 0?"":a,tt=o.hash,rt=tt===void 0?"":tt;return et&&et!=="?"&&(s+=et.charAt(0)==="?"?et:"?"+et),rt&&rt!=="#"&&(s+=rt.charAt(0)==="#"?rt:"#"+rt),s}function parsePath(o){var i={};if(o){var s=o.indexOf("#");s>=0&&(i.hash=o.substr(s),o=o.substr(0,s));var a=o.indexOf("?");a>=0&&(i.search=o.substr(a),o=o.substr(0,a)),o&&(i.pathname=o)}return i}const history=createBrowserHistory({forceRefresh:!0});history.listen((o,i)=>{});class Role{constructor(i,s,a,et=Timestamp.now()){Rr(this,"id");Rr(this,"profile");Rr(this,"role");Rr(this,"created");this.id=i,this.profile=s,this.role=a,this.created=et}}class BookRole extends Role{constructor(s,a,et,tt,rt=Timestamp.now()){super(s,a,tt,rt);Rr(this,"bookId");this.bookId=et}}Rr(BookRole,"type","book");class LibraryRole extends Role{constructor(s,a,et,tt,rt=Timestamp.now()){super(s,a,tt,rt);Rr(this,"libraryId");this.libraryId=et}}Rr(LibraryRole,"type","library");class PageRole extends Role{constructor(s,a,et,tt,rt=Timestamp.now()){super(s,a,tt,rt);Rr(this,"pageId");this.pageId=et}}Rr(PageRole,"type","page");function RoleList({getRoles:o,item:i,type:s}){const a=useDispatch(),[et,tt]=reactExports.useState([]),rt=useSelector(ct=>ct.users.profilesInView);useSelector(ct=>ct.pages.editingPage);const[nt,it]=reactExports.useState(!1),[ot,st]=reactExports.useState([]),lt=()=>{const ct=rt.filter(gt=>!et.find(bt=>bt.profile.id==gt.id));st(ct)};reactExports.useEffect(()=>{lt()},[et]);const at=()=>{rt!=null&&rt.length>0?(lt(),ft(),ht()):a(fetchAllProfiles()).then(ct=>{checkResult(ct,gt=>{lt(),ft(),ht()},gt=>{})})};reactExports.useEffect(()=>{at()},[i]),reactExports.useEffect(()=>{o(et)},[et]);const ut=(ct,gt)=>{let Et=ct.readers.map(wt=>{let It=rt.find(At=>At&&wt&&At.userId==wt);if(gt=="book")return new BookRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.reader);if(gt=="library")return new LibraryRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.reader);if(gt=="page")return new PageRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.reader)}),bt=ct.commenters.map(wt=>{let It=rt.find(At=>At&&wt&&At.userId==wt);if(gt=="book")return new BookRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.commenter);if(gt=="library")return new LibraryRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.commenter);if(gt=="page")return new PageRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.commenter)}),xt=ct.editors.map(wt=>{let It=rt.find(At=>At&&wt&&At.userId==wt);if(gt=="book")return new BookRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.editor);if(gt=="library")return new LibraryRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.editor);if(gt=="page")return new PageRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.editor)}),Tt=ct.writers.map(wt=>{let It=rt.find(At=>At&&wt&&At.userId==wt);if(gt=="book")return new BookRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.writer);if(gt=="library")return new LibraryRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.writer);if(gt=="page")return new PageRole(`${ct.id}_${It.userId}`,It,ct.id,RoleType.writer)});return new Contributors(bt,Et,Tt,xt)},ft=()=>{if(i){const ct=ut(i,s);tt([...ct.editors,...ct.writers,...ct.readers,...ct.commenters])}};reactExports.useEffect(()=>{ft()},[i]);const mt=(ct,gt,Et,bt)=>{switch(ct){case"page":return new PageRole(`${gt.id}_${Et.userId}`,Et,gt.id,bt);case"book":return new BookRole(`${gt.id}_${Et.userId}`,Et,gt.id,bt);case"library":return new LibraryRole(`${gt.id}_${Et.userId}`,Et,gt,bt);default:return new Role(`${gt.id}_${Et.userId}`,Et,bt)}},yt=(ct,gt)=>{const Et=mt(s,i,ct,gt);if(gt.length>0){let bt=ot.filter(Tt=>ct.id!=Tt.id);if(et.find(Tt=>Tt.id===Et.id)){let wt=et.map(It=>It.id==Et.id?Et:It);tt(wt)}else tt(Tt=>[...Tt,Et]);st(bt)}else{let bt=et.filter(xt=>xt.profile.id!=ct.id);tt(bt),st(xt=>[...xt,ct])}},ht=()=>{const ct=ut(i,s);let gt=[...ct.writers,...ct.editors,...ct.readers,...ct.commenters];tt(gt)},pt=()=>et!=null&&et.length>0?jsxRuntimeExports.jsx("div",{children:et.map(ct=>ct?jsxRuntimeExports.jsxs("div",{class:"role-item",children:[jsxRuntimeExports.jsx("div",{children:ct.profile.username}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$2,{children:ct.role}),jsxRuntimeExports.jsxs(Menu$5,{children:[jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct.profile,""),children:"Delete"}),jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct.profile,RoleType.editor),children:"Editor"}),jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct.profile,RoleType.writer),children:"Writer"}),jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct.profile,RoleType.commenter),children:"Commenter"}),jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct.profile,RoleType.reader),children:"Reader"})]})]})})]},ct.profile.id):null)}):jsxRuntimeExports.jsx("div",{});return jsxRuntimeExports.jsxs("div",{className:"role-list",children:[jsxRuntimeExports.jsx("label",{children:"Contributors   "}),jsxRuntimeExports.jsx("div",{className:"item-roles",children:pt()}),jsxRuntimeExports.jsx("label",{children:"Users  "}),jsxRuntimeExports.jsx("div",{className:"profile-list",children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:ot.length,next:at,hasMore:nt,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:ot.map(ct=>jsxRuntimeExports.jsxs("div",{className:"role-item",children:[ct.username,jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$2,{children:"Role"}),jsxRuntimeExports.jsxs(Menu$5,{children:[jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct,RoleType.editor),children:"Editor"}),jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct,RoleType.writer),children:"Writer"}),jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct,RoleType.commenter),children:"Commenter"}),jsxRuntimeExports.jsx(MenuItem2,{onClick:()=>yt(ct,RoleType.reader),children:"Reader"})]})]})]},ct.id))})})]})}var classnames={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(o){(function(){var i={}.hasOwnProperty;function s(){for(var tt="",rt=0;rt<arguments.length;rt++){var nt=arguments[rt];nt&&(tt=et(tt,a(nt)))}return tt}function a(tt){if(typeof tt=="string"||typeof tt=="number")return tt;if(typeof tt!="object")return"";if(Array.isArray(tt))return s.apply(null,tt);if(tt.toString!==Object.prototype.toString&&!tt.toString.toString().includes("[native code]"))return tt.toString();var rt="";for(var nt in tt)i.call(tt,nt)&&tt[nt]&&(rt=et(rt,nt));return rt}function et(tt,rt){return rt?tt?tt+" "+rt:tt+rt:tt}o.exports?(s.default=s,o.exports=s):window.classNames=s})()})(classnames);var classnamesExports=classnames.exports;const classNames=getDefaultExportFromCjs(classnamesExports);var invariant=function(o,i,s,a,et,tt,rt,nt){if(!o){var it;if(i===void 0)it=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var ot=[s,a,et,tt,rt,nt],st=0;it=new Error(i.replace(/%s/g,function(){return ot[st++]})),it.name="Invariant Violation"}throw it.framesToPop=1,it}},browser$1=invariant;const invariant$1=getDefaultExportFromCjs(browser$1);function defaultKey(o){return"default"+o.charAt(0).toUpperCase()+o.substr(1)}function _toPropertyKey(o){var i=_toPrimitive(o,"string");return typeof i=="symbol"?i:String(i)}function _toPrimitive(o,i){if(typeof o!="object"||o===null)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i||"default");if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function useUncontrolledProp$1(o,i,s){var a=reactExports.useRef(o!==void 0),et=reactExports.useState(i),tt=et[0],rt=et[1],nt=o!==void 0,it=a.current;return a.current=nt,!nt&&it&&tt!==i&&rt(i),[nt?o:tt,reactExports.useCallback(function(ot){for(var st=arguments.length,lt=new Array(st>1?st-1:0),at=1;at<st;at++)lt[at-1]=arguments[at];s&&s.apply(void 0,[ot].concat(lt)),rt(ot)},[s])]}function useUncontrolled(o,i){return Object.keys(i).reduce(function(s,a){var et,tt=s,rt=tt[defaultKey(a)],nt=tt[a],it=_objectWithoutPropertiesLoose$6(tt,[defaultKey(a),a].map(_toPropertyKey)),ot=i[a],st=useUncontrolledProp$1(nt,rt,o[ot]),lt=st[0],at=st[1];return _extends$1({},it,(et={},et[a]=lt,et[ot]=at,et))},o)}const DEFAULT_BREAKPOINTS=["xxl","xl","lg","md","sm","xs"],DEFAULT_MIN_BREAKPOINT="xs",ThemeContext=reactExports.createContext({prefixes:{},breakpoints:DEFAULT_BREAKPOINTS,minBreakpoint:DEFAULT_MIN_BREAKPOINT});function useBootstrapPrefix(o,i){const{prefixes:s}=reactExports.useContext(ThemeContext);return o||s[i]||i}function useIsRTL(){const{dir:o}=reactExports.useContext(ThemeContext);return o==="rtl"}function ownerDocument(o){return o&&o.ownerDocument||document}const canUseDOM$1=!!(typeof window<"u"&&window.document&&window.document.createElement);var optionsSupported=!1,onceSupported=!1;try{var options={get passive(){return optionsSupported=!0},get once(){return onceSupported=optionsSupported=!0}};canUseDOM$1&&(window.addEventListener("test",options,options),window.removeEventListener("test",options,!0))}catch(o){}function addEventListener(o,i,s,a){if(a&&typeof a!="boolean"&&!onceSupported){var et=a.once,tt=a.capture,rt=s;!onceSupported&&et&&(rt=s.__once||function nt(it){this.removeEventListener(i,nt,tt),s.call(this,it)},s.__once=rt),o.addEventListener(i,rt,optionsSupported?a:tt)}o.addEventListener(i,s,a)}function removeEventListener(o,i,s,a){var et=a&&typeof a!="boolean"?a.capture:a;o.removeEventListener(i,s,et),s.__once&&o.removeEventListener(i,s.__once,et)}function listen(o,i,s,a){return addEventListener(o,i,s,a),function(){removeEventListener(o,i,s,a)}}const toFnRef=o=>!o||typeof o=="function"?o:i=>{o.current=i};function mergeRefs(o,i){const s=toFnRef(o),a=toFnRef(i);return et=>{s&&s(et),a&&a(et)}}function useMergedRefs(o,i){return reactExports.useMemo(()=>mergeRefs(o,i),[o,i])}function useCommittedRef(o){const i=reactExports.useRef(o);return reactExports.useEffect(()=>{i.current=o},[o]),i}function useEventCallback(o){const i=useCommittedRef(o);return reactExports.useCallback(function(...s){return i.current&&i.current(...s)},[i])}function useCallbackRef(){return reactExports.useState(null)}function useEventListener(o,i,s,a=!1){const et=useEventCallback(s);reactExports.useEffect(()=>{const tt=typeof o=="function"?o():o;return tt.addEventListener(i,et,a),()=>tt.removeEventListener(i,et,a)},[o])}function useMounted(){const o=reactExports.useRef(!0),i=reactExports.useRef(()=>o.current);return reactExports.useEffect(()=>(o.current=!0,()=>{o.current=!1}),[]),i.current}function usePrevious(o){const i=reactExports.useRef(null);return reactExports.useEffect(()=>{i.current=o}),i.current}const isReactNative=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",isDOM=typeof document<"u",useIsomorphicEffect=isDOM||isReactNative?reactExports.useLayoutEffect:reactExports.useEffect,_excluded$4=["as","disabled"];function _objectWithoutPropertiesLoose$4(o,i){if(o==null)return{};var s={},a=Object.keys(o),et,tt;for(tt=0;tt<a.length;tt++)et=a[tt],!(i.indexOf(et)>=0)&&(s[et]=o[et]);return s}function isTrivialHref$1(o){return!o||o.trim()==="#"}function useButtonProps({tagName:o,disabled:i,href:s,target:a,rel:et,role:tt,onClick:rt,tabIndex:nt=0,type:it}){o||(s!=null||a!=null||et!=null?o="a":o="button");const ot={tagName:o};if(o==="button")return[{type:it||"button",disabled:i},ot];const st=at=>{if((i||o==="a"&&isTrivialHref$1(s))&&at.preventDefault(),i){at.stopPropagation();return}rt==null||rt(at)},lt=at=>{at.key===" "&&(at.preventDefault(),st(at))};return o==="a"&&(s||(s="#"),i&&(s=void 0)),[{role:tt??"button",disabled:void 0,tabIndex:i?void 0:nt,href:s,target:o==="a"?a:void 0,"aria-disabled":i||void 0,rel:o==="a"?et:void 0,onClick:st,onKeyDown:lt},ot]}const Button$2=reactExports.forwardRef((o,i)=>{let{as:s,disabled:a}=o,et=_objectWithoutPropertiesLoose$4(o,_excluded$4);const[tt,{tagName:rt}]=useButtonProps(Object.assign({tagName:s,disabled:a},et));return jsxRuntimeExports.jsx(rt,Object.assign({},et,tt,{ref:i}))});Button$2.displayName="Button";const _excluded$3=["onKeyDown"];function _objectWithoutPropertiesLoose$3(o,i){if(o==null)return{};var s={},a=Object.keys(o),et,tt;for(tt=0;tt<a.length;tt++)et=a[tt],!(i.indexOf(et)>=0)&&(s[et]=o[et]);return s}function isTrivialHref(o){return!o||o.trim()==="#"}const Anchor=reactExports.forwardRef((o,i)=>{let{onKeyDown:s}=o,a=_objectWithoutPropertiesLoose$3(o,_excluded$3);const[et]=useButtonProps(Object.assign({tagName:"a"},a)),tt=useEventCallback(rt=>{et.onKeyDown(rt),s==null||s(rt)});return isTrivialHref(a.href)||a.role==="button"?jsxRuntimeExports.jsx("a",Object.assign({ref:i},a,et,{onKeyDown:tt})):jsxRuntimeExports.jsx("a",Object.assign({ref:i},a,{onKeyDown:s}))});Anchor.displayName="Anchor";const Anchor$1=Anchor,Button=reactExports.forwardRef(({as:o,bsPrefix:i,variant:s="primary",size:a,active:et=!1,disabled:tt=!1,className:rt,...nt},it)=>{const ot=useBootstrapPrefix(i,"btn"),[st,{tagName:lt}]=useButtonProps({tagName:o,disabled:tt,...nt}),at=lt;return jsxRuntimeExports.jsx(at,{...st,...nt,ref:it,disabled:tt,className:classNames(rt,ot,et&&"active",s&&`${ot}-${s}`,a&&`${ot}-${a}`,nt.href&&tt&&"disabled")})});Button.displayName="Button";const Button$1=Button;var toArray=Function.prototype.bind.call(Function.prototype.call,[].slice);function qsa(o,i){return toArray(o.querySelectorAll(i))}function useUncontrolledProp(o,i,s){const a=reactExports.useRef(o!==void 0),[et,tt]=reactExports.useState(i),rt=o!==void 0,nt=a.current;return a.current=rt,!rt&&nt&&et!==i&&tt(i),[rt?o:et,reactExports.useCallback((...it)=>{const[ot,...st]=it;let lt=s==null?void 0:s(ot,...st);return tt(ot),lt},[s])]}function useForceUpdate(){const[,o]=reactExports.useReducer(i=>!i,!1);return o}const DropdownContext$2=reactExports.createContext(null),DropdownContext$3=DropdownContext$2;var has=Object.prototype.hasOwnProperty;function find(o,i,s){for(s of o.keys())if(dequal(s,i))return s}function dequal(o,i){var s,a,et;if(o===i)return!0;if(o&&i&&(s=o.constructor)===i.constructor){if(s===Date)return o.getTime()===i.getTime();if(s===RegExp)return o.toString()===i.toString();if(s===Array){if((a=o.length)===i.length)for(;a--&&dequal(o[a],i[a]););return a===-1}if(s===Set){if(o.size!==i.size)return!1;for(a of o)if(et=a,et&&typeof et=="object"&&(et=find(i,et),!et)||!i.has(et))return!1;return!0}if(s===Map){if(o.size!==i.size)return!1;for(a of o)if(et=a[0],et&&typeof et=="object"&&(et=find(i,et),!et)||!dequal(a[1],i.get(et)))return!1;return!0}if(s===ArrayBuffer)o=new Uint8Array(o),i=new Uint8Array(i);else if(s===DataView){if((a=o.byteLength)===i.byteLength)for(;a--&&o.getInt8(a)===i.getInt8(a););return a===-1}if(ArrayBuffer.isView(o)){if((a=o.byteLength)===i.byteLength)for(;a--&&o[a]===i[a];);return a===-1}if(!s||typeof o=="object"){a=0;for(s in o)if(has.call(o,s)&&++a&&!has.call(i,s)||!(s in i)||!dequal(o[s],i[s]))return!1;return Object.keys(i).length===a}}return o!==o&&i!==i}function useSafeState(o){const i=useMounted();return[o[0],reactExports.useCallback(s=>{if(i())return o[1](s)},[i,o[1]])]}const createPopper=popperGenerator({defaultModifiers:[hide$1,popperOffsets$1,computeStyles$1,eventListeners,offset$1,flip$1,preventOverflow$1,arrow$1]}),_excluded$2=["enabled","placement","strategy","modifiers"];function _objectWithoutPropertiesLoose$2(o,i){if(o==null)return{};var s={},a=Object.keys(o),et,tt;for(tt=0;tt<a.length;tt++)et=a[tt],!(i.indexOf(et)>=0)&&(s[et]=o[et]);return s}const disabledApplyStylesModifier={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},ariaDescribedByModifier={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:o})=>()=>{const{reference:i,popper:s}=o.elements;if("removeAttribute"in i){const a=(i.getAttribute("aria-describedby")||"").split(",").filter(et=>et.trim()!==s.id);a.length?i.setAttribute("aria-describedby",a.join(",")):i.removeAttribute("aria-describedby")}},fn:({state:o})=>{var i;const{popper:s,reference:a}=o.elements,et=(i=s.getAttribute("role"))==null?void 0:i.toLowerCase();if(s.id&&et==="tooltip"&&"setAttribute"in a){const tt=a.getAttribute("aria-describedby");if(tt&&tt.split(",").indexOf(s.id)!==-1)return;a.setAttribute("aria-describedby",tt?`${tt},${s.id}`:s.id)}}},EMPTY_MODIFIERS=[];function usePopper(o,i,s={}){let{enabled:a=!0,placement:et="bottom",strategy:tt="absolute",modifiers:rt=EMPTY_MODIFIERS}=s,nt=_objectWithoutPropertiesLoose$2(s,_excluded$2);const it=reactExports.useRef(rt),ot=reactExports.useRef(),st=reactExports.useCallback(()=>{var yt;(yt=ot.current)==null||yt.update()},[]),lt=reactExports.useCallback(()=>{var yt;(yt=ot.current)==null||yt.forceUpdate()},[]),[at,ut]=useSafeState(reactExports.useState({placement:et,update:st,forceUpdate:lt,attributes:{},styles:{popper:{},arrow:{}}})),ft=reactExports.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:yt})=>{const ht={},pt={};Object.keys(yt.elements).forEach(ct=>{ht[ct]=yt.styles[ct],pt[ct]=yt.attributes[ct]}),ut({state:yt,styles:ht,attributes:pt,update:st,forceUpdate:lt,placement:yt.placement})}}),[st,lt,ut]),mt=reactExports.useMemo(()=>(dequal(it.current,rt)||(it.current=rt),it.current),[rt]);return reactExports.useEffect(()=>{!ot.current||!a||ot.current.setOptions({placement:et,strategy:tt,modifiers:[...mt,ft,disabledApplyStylesModifier]})},[tt,et,ft,a,mt]),reactExports.useEffect(()=>{if(!(!a||o==null||i==null))return ot.current=createPopper(o,i,Object.assign({},nt,{placement:et,strategy:tt,modifiers:[...mt,ariaDescribedByModifier,ft]})),()=>{ot.current!=null&&(ot.current.destroy(),ot.current=void 0,ut(yt=>Object.assign({},yt,{attributes:{},styles:{popper:{}}})))}},[a,o,i]),at}function contains(o,i){if(o.contains)return o.contains(i);if(o.compareDocumentPosition)return o===i||!!(o.compareDocumentPosition(i)&16)}var warning=function(){},warning_1=warning;const warning$1=getDefaultExportFromCjs(warning_1),noop$2=()=>{};function isLeftClickEvent(o){return o.button===0}function isModifiedEvent(o){return!!(o.metaKey||o.altKey||o.ctrlKey||o.shiftKey)}const getRefTarget=o=>o&&("current"in o?o.current:o),InitialTriggerEvents={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function useClickOutside(o,i=noop$2,{disabled:s,clickTrigger:a="click"}={}){const et=reactExports.useRef(!1),tt=reactExports.useRef(!1),rt=reactExports.useCallback(ot=>{const st=getRefTarget(o);warning$1(!!st,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),et.current=!st||isModifiedEvent(ot)||!isLeftClickEvent(ot)||!!contains(st,ot.target)||tt.current,tt.current=!1},[o]),nt=useEventCallback(ot=>{const st=getRefTarget(o);st&&contains(st,ot.target)&&(tt.current=!0)}),it=useEventCallback(ot=>{et.current||i(ot)});reactExports.useEffect(()=>{var ot,st;if(s||o==null)return;const lt=ownerDocument(getRefTarget(o)),at=lt.defaultView||window;let ut=(ot=at.event)!=null?ot:(st=at.parent)==null?void 0:st.event,ft=null;InitialTriggerEvents[a]&&(ft=listen(lt,InitialTriggerEvents[a],nt,!0));const mt=listen(lt,a,rt,!0),yt=listen(lt,a,pt=>{if(pt===ut){ut=void 0;return}it(pt)});let ht=[];return"ontouchstart"in lt.documentElement&&(ht=[].slice.call(lt.body.children).map(pt=>listen(pt,"mousemove",noop$2))),()=>{ft==null||ft(),mt(),yt(),ht.forEach(pt=>pt())}},[o,s,a,rt,nt,it])}function toModifierMap(o){const i={};return Array.isArray(o)?(o==null||o.forEach(s=>{i[s.name]=s}),i):o||i}function toModifierArray(o={}){return Array.isArray(o)?o:Object.keys(o).map(i=>(o[i].name=i,o[i]))}function mergeOptionsWithPopperConfig({enabled:o,enableEvents:i,placement:s,flip:a,offset:et,fixed:tt,containerPadding:rt,arrowElement:nt,popperConfig:it={}}){var ot,st,lt,at,ut;const ft=toModifierMap(it.modifiers);return Object.assign({},it,{placement:s,enabled:o,strategy:tt?"fixed":it.strategy,modifiers:toModifierArray(Object.assign({},ft,{eventListeners:{enabled:i,options:(ot=ft.eventListeners)==null?void 0:ot.options},preventOverflow:Object.assign({},ft.preventOverflow,{options:rt?Object.assign({padding:rt},(st=ft.preventOverflow)==null?void 0:st.options):(lt=ft.preventOverflow)==null?void 0:lt.options}),offset:{options:Object.assign({offset:et},(at=ft.offset)==null?void 0:at.options)},arrow:Object.assign({},ft.arrow,{enabled:!!nt,options:Object.assign({},(ut=ft.arrow)==null?void 0:ut.options,{element:nt})}),flip:Object.assign({enabled:!!a},ft.flip)}))})}const _excluded$1=["children"];function _objectWithoutPropertiesLoose$1(o,i){if(o==null)return{};var s={},a=Object.keys(o),et,tt;for(tt=0;tt<a.length;tt++)et=a[tt],!(i.indexOf(et)>=0)&&(s[et]=o[et]);return s}const noop$1=()=>{};function useDropdownMenu(o={}){const i=reactExports.useContext(DropdownContext$3),[s,a]=useCallbackRef(),et=reactExports.useRef(!1),{flip:tt,offset:rt,rootCloseEvent:nt,fixed:it=!1,placement:ot,popperConfig:st={},enableEventListeners:lt=!0,usePopper:at=!!i}=o,ut=(i==null?void 0:i.show)==null?!!o.show:i.show;ut&&!et.current&&(et.current=!0);const ft=bt=>{i==null||i.toggle(!1,bt)},{placement:mt,setMenu:yt,menuElement:ht,toggleElement:pt}=i||{},ct=usePopper(pt,ht,mergeOptionsWithPopperConfig({placement:ot||mt||"bottom-start",enabled:at,enableEvents:lt??ut,offset:rt,flip:tt,fixed:it,arrowElement:s,popperConfig:st})),gt=Object.assign({ref:yt||noop$1,"aria-labelledby":pt==null?void 0:pt.id},ct.attributes.popper,{style:ct.styles.popper}),Et={show:ut,placement:mt,hasShown:et.current,toggle:i==null?void 0:i.toggle,popper:at?ct:null,arrowProps:at?Object.assign({ref:a},ct.attributes.arrow,{style:ct.styles.arrow}):{}};return useClickOutside(ht,ft,{clickTrigger:nt,disabled:!ut}),[gt,Et]}const defaultProps$1={usePopper:!0};function DropdownMenu$2(o){let{children:i}=o,s=_objectWithoutPropertiesLoose$1(o,_excluded$1);const[a,et]=useDropdownMenu(s);return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:i(a,et)})}DropdownMenu$2.displayName="DropdownMenu";DropdownMenu$2.defaultProps=defaultProps$1;const $b5e257d569688ac6$var$defaultContext={prefix:String(Math.round(Math.random()*1e10)),current:0},$b5e257d569688ac6$var$SSRContext=React$2.createContext($b5e257d569688ac6$var$defaultContext),$b5e257d569688ac6$var$IsSSRContext=React$2.createContext(!1);let $b5e257d569688ac6$var$canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement),$b5e257d569688ac6$var$componentIds=new WeakMap;function $b5e257d569688ac6$var$useCounter(o=!1){let i=reactExports.useContext($b5e257d569688ac6$var$SSRContext),s=reactExports.useRef(null);if(s.current===null&&!o){var a,et;let tt=(et=React$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||et===void 0||(a=et.ReactCurrentOwner)===null||a===void 0?void 0:a.current;if(tt){let rt=$b5e257d569688ac6$var$componentIds.get(tt);rt==null?$b5e257d569688ac6$var$componentIds.set(tt,{id:i.current,state:tt.memoizedState}):tt.memoizedState!==rt.state&&(i.current=rt.id,$b5e257d569688ac6$var$componentIds.delete(tt))}s.current=++i.current}return s.current}function $b5e257d569688ac6$var$useLegacySSRSafeId(o){let i=reactExports.useContext($b5e257d569688ac6$var$SSRContext);i===$b5e257d569688ac6$var$defaultContext&&!$b5e257d569688ac6$var$canUseDOM&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let s=$b5e257d569688ac6$var$useCounter(!!o),a=`react-aria${i.prefix}`;return o||`${a}-${s}`}function $b5e257d569688ac6$var$useModernSSRSafeId(o){let i=React$2.useId(),[s]=reactExports.useState($b5e257d569688ac6$export$535bd6ca7f90a273()),a=s?"react-aria":`react-aria${$b5e257d569688ac6$var$defaultContext.prefix}`;return o||`${a}-${i}`}const $b5e257d569688ac6$export$619500959fc48b26=typeof React$2.useId=="function"?$b5e257d569688ac6$var$useModernSSRSafeId:$b5e257d569688ac6$var$useLegacySSRSafeId;function $b5e257d569688ac6$var$getSnapshot(){return!1}function $b5e257d569688ac6$var$getServerSnapshot(){return!0}function $b5e257d569688ac6$var$subscribe(o){return()=>{}}function $b5e257d569688ac6$export$535bd6ca7f90a273(){return typeof React$2.useSyncExternalStore=="function"?React$2.useSyncExternalStore($b5e257d569688ac6$var$subscribe,$b5e257d569688ac6$var$getSnapshot,$b5e257d569688ac6$var$getServerSnapshot):reactExports.useContext($b5e257d569688ac6$var$IsSSRContext)}const isRoleMenu=o=>{var i;return((i=o.getAttribute("role"))==null?void 0:i.toLowerCase())==="menu"},noop=()=>{};function useDropdownToggle(){const o=$b5e257d569688ac6$export$619500959fc48b26(),{show:i=!1,toggle:s=noop,setToggle:a,menuElement:et}=reactExports.useContext(DropdownContext$3)||{},tt=reactExports.useCallback(nt=>{s(!i,nt)},[i,s]),rt={id:o,ref:a||noop,onClick:tt,"aria-expanded":!!i};return et&&isRoleMenu(et)&&(rt["aria-haspopup"]=!0),[rt,{show:i,toggle:s}]}function DropdownToggle$2({children:o}){const[i,s]=useDropdownToggle();return jsxRuntimeExports.jsx(jsxRuntimeExports.Fragment,{children:o(i,s)})}DropdownToggle$2.displayName="DropdownToggle";const SelectableContext=reactExports.createContext(null),makeEventKey=(o,i=null)=>o!=null?String(o):i||null,SelectableContext$1=SelectableContext,NavContext=reactExports.createContext(null);NavContext.displayName="NavContext";const NavContext$1=NavContext,ATTRIBUTE_PREFIX="data-rr-ui-";function dataAttr(o){return`${ATTRIBUTE_PREFIX}${o}`}const _excluded=["eventKey","disabled","onClick","active","as"];function _objectWithoutPropertiesLoose(o,i){if(o==null)return{};var s={},a=Object.keys(o),et,tt;for(tt=0;tt<a.length;tt++)et=a[tt],!(i.indexOf(et)>=0)&&(s[et]=o[et]);return s}function useDropdownItem({key:o,href:i,active:s,disabled:a,onClick:et}){const tt=reactExports.useContext(SelectableContext$1),rt=reactExports.useContext(NavContext$1),{activeKey:nt}=rt||{},it=makeEventKey(o,i),ot=s==null&&o!=null?makeEventKey(nt)===it:s;return[{onClick:useEventCallback(lt=>{a||(et==null||et(lt),tt&&!lt.isPropagationStopped()&&tt(it,lt))}),"aria-disabled":a||void 0,"aria-selected":ot,[dataAttr("dropdown-item")]:""},{isActive:ot}]}const DropdownItem$2=reactExports.forwardRef((o,i)=>{let{eventKey:s,disabled:a,onClick:et,active:tt,as:rt=Button$2}=o,nt=_objectWithoutPropertiesLoose(o,_excluded);const[it]=useDropdownItem({key:s,href:nt.href,disabled:a,onClick:et,active:tt});return jsxRuntimeExports.jsx(rt,Object.assign({},nt,{ref:i},it))});DropdownItem$2.displayName="DropdownItem";const Context=reactExports.createContext(canUseDOM$1?window:void 0);Context.Provider;function useWindow(){return reactExports.useContext(Context)}function useRefWithUpdate(){const o=useForceUpdate(),i=reactExports.useRef(null),s=reactExports.useCallback(a=>{i.current=a,o()},[o]);return[i,s]}function Dropdown$2({defaultShow:o,show:i,onSelect:s,onToggle:a,itemSelector:et=`* [${dataAttr("dropdown-item")}]`,focusFirstItemOnShow:tt,placement:rt="bottom-start",children:nt}){const it=useWindow(),[ot,st]=useUncontrolledProp(i,o,a),[lt,at]=useRefWithUpdate(),ut=lt.current,[ft,mt]=useRefWithUpdate(),yt=ft.current,ht=usePrevious(ot),pt=reactExports.useRef(null),ct=reactExports.useRef(!1),gt=reactExports.useContext(SelectableContext$1),Et=reactExports.useCallback((At,kt,Vt=kt==null?void 0:kt.type)=>{st(At,{originalEvent:kt,source:Vt})},[st]),bt=useEventCallback((At,kt)=>{s==null||s(At,kt),Et(!1,kt,"select"),kt.isPropagationStopped()||gt==null||gt(At,kt)}),xt=reactExports.useMemo(()=>({toggle:Et,placement:rt,show:ot,menuElement:ut,toggleElement:yt,setMenu:at,setToggle:mt}),[Et,rt,ot,ut,yt,at,mt]);ut&&ht&&!ot&&(ct.current=ut.contains(ut.ownerDocument.activeElement));const Tt=useEventCallback(()=>{yt&&yt.focus&&yt.focus()}),wt=useEventCallback(()=>{const At=pt.current;let kt=tt;if(kt==null&&(kt=lt.current&&isRoleMenu(lt.current)?"keyboard":!1),kt===!1||kt==="keyboard"&&!/^key.+$/.test(At))return;const Vt=qsa(lt.current,et)[0];Vt&&Vt.focus&&Vt.focus()});reactExports.useEffect(()=>{ot?wt():ct.current&&(ct.current=!1,Tt())},[ot,ct,Tt,wt]),reactExports.useEffect(()=>{pt.current=null});const It=(At,kt)=>{if(!lt.current)return null;const Vt=qsa(lt.current,et);let Mt=Vt.indexOf(At)+kt;return Mt=Math.max(0,Math.min(Mt,Vt.length)),Vt[Mt]};return useEventListener(reactExports.useCallback(()=>it.document,[it]),"keydown",At=>{var kt,Vt;const{key:Mt}=At,Ot=At.target,Dt=(kt=lt.current)==null?void 0:kt.contains(Ot),Ct=(Vt=ft.current)==null?void 0:Vt.contains(Ot);if(/input|textarea/i.test(Ot.tagName)&&(Mt===" "||Mt!=="Escape"&&Dt||Mt==="Escape"&&Ot.type==="search")||!Dt&&!Ct||Mt==="Tab"&&(!lt.current||!ot))return;pt.current=At.type;const $t={originalEvent:At,source:At.type};switch(Mt){case"ArrowUp":{const Lt=It(Ot,-1);Lt&&Lt.focus&&Lt.focus(),At.preventDefault();return}case"ArrowDown":if(At.preventDefault(),!ot)st(!0,$t);else{const Lt=It(Ot,1);Lt&&Lt.focus&&Lt.focus()}return;case"Tab":addEventListener(Ot.ownerDocument,"keyup",Lt=>{var Rt;(Lt.key==="Tab"&&!Lt.target||!((Rt=lt.current)!=null&&Rt.contains(Lt.target)))&&st(!1,$t)},{once:!0});break;case"Escape":Mt==="Escape"&&(At.preventDefault(),At.stopPropagation()),st(!1,$t);break}}),jsxRuntimeExports.jsx(SelectableContext$1.Provider,{value:bt,children:jsxRuntimeExports.jsx(DropdownContext$3.Provider,{value:xt,children:nt})})}Dropdown$2.displayName="Dropdown";Dropdown$2.Menu=DropdownMenu$2;Dropdown$2.Toggle=DropdownToggle$2;Dropdown$2.Item=DropdownItem$2;const DropdownContext=reactExports.createContext({});DropdownContext.displayName="DropdownContext";const DropdownContext$1=DropdownContext,DropdownDivider=reactExports.forwardRef(({className:o,bsPrefix:i,as:s="hr",role:a="separator",...et},tt)=>(i=useBootstrapPrefix(i,"dropdown-divider"),jsxRuntimeExports.jsx(s,{ref:tt,className:classNames(o,i),role:a,...et})));DropdownDivider.displayName="DropdownDivider";const DropdownDivider$1=DropdownDivider,DropdownHeader=reactExports.forwardRef(({className:o,bsPrefix:i,as:s="div",role:a="heading",...et},tt)=>(i=useBootstrapPrefix(i,"dropdown-header"),jsxRuntimeExports.jsx(s,{ref:tt,className:classNames(o,i),role:a,...et})));DropdownHeader.displayName="DropdownHeader";const DropdownHeader$1=DropdownHeader,DropdownItem=reactExports.forwardRef(({bsPrefix:o,className:i,eventKey:s,disabled:a=!1,onClick:et,active:tt,as:rt=Anchor$1,...nt},it)=>{const ot=useBootstrapPrefix(o,"dropdown-item"),[st,lt]=useDropdownItem({key:s,href:nt.href,disabled:a,onClick:et,active:tt});return jsxRuntimeExports.jsx(rt,{...nt,...st,ref:it,className:classNames(i,ot,lt.isActive&&"active",a&&"disabled")})});DropdownItem.displayName="DropdownItem";const DropdownItem$1=DropdownItem,DropdownItemText=reactExports.forwardRef(({className:o,bsPrefix:i,as:s="span",...a},et)=>(i=useBootstrapPrefix(i,"dropdown-item-text"),jsxRuntimeExports.jsx(s,{ref:et,className:classNames(o,i),...a})));DropdownItemText.displayName="DropdownItemText";const DropdownItemText$1=DropdownItemText,context$1=reactExports.createContext(null);context$1.displayName="InputGroupContext";const InputGroupContext=context$1,context=reactExports.createContext(null);context.displayName="NavbarContext";const NavbarContext=context;function useWrappedRefWithWarning(o,i){return o}function getDropdownMenuPlacement(o,i,s){const a=s?"top-end":"top-start",et=s?"top-start":"top-end",tt=s?"bottom-end":"bottom-start",rt=s?"bottom-start":"bottom-end",nt=s?"right-start":"left-start",it=s?"right-end":"left-end",ot=s?"left-start":"right-start",st=s?"left-end":"right-end";let lt=o?rt:tt;return i==="up"?lt=o?et:a:i==="end"?lt=o?st:ot:i==="start"?lt=o?it:nt:i==="down-centered"?lt="bottom":i==="up-centered"&&(lt="top"),lt}const DropdownMenu=reactExports.forwardRef(({bsPrefix:o,className:i,align:s,rootCloseEvent:a,flip:et=!0,show:tt,renderOnMount:rt,as:nt="div",popperConfig:it,variant:ot,...st},lt)=>{let at=!1;const ut=reactExports.useContext(NavbarContext),ft=useBootstrapPrefix(o,"dropdown-menu"),{align:mt,drop:yt,isRTL:ht}=reactExports.useContext(DropdownContext$1);s=s||mt;const pt=reactExports.useContext(InputGroupContext),ct=[];if(s)if(typeof s=="object"){const At=Object.keys(s);if(At.length){const kt=At[0],Vt=s[kt];at=Vt==="start",ct.push(`${ft}-${kt}-${Vt}`)}}else s==="end"&&(at=!0);const gt=getDropdownMenuPlacement(at,yt,ht),[Et,{hasShown:bt,popper:xt,show:Tt,toggle:wt}]=useDropdownMenu({flip:et,rootCloseEvent:a,show:tt,usePopper:!ut&&ct.length===0,offset:[0,2],popperConfig:it,placement:gt});if(Et.ref=useMergedRefs(useWrappedRefWithWarning(lt),Et.ref),useIsomorphicEffect(()=>{Tt&&(xt==null||xt.update())},[Tt]),!bt&&!rt&&!pt)return null;typeof nt!="string"&&(Et.show=Tt,Et.close=()=>wt==null?void 0:wt(!1),Et.align=s);let It=st.style;return xt!=null&&xt.placement&&(It={...st.style,...Et.style},st["x-placement"]=xt.placement),jsxRuntimeExports.jsx(nt,{...st,...Et,style:It,...(ct.length||ut)&&{"data-bs-popper":"static"},className:classNames(i,ft,Tt&&"show",at&&`${ft}-end`,ot&&`${ft}-${ot}`,...ct)})});DropdownMenu.displayName="DropdownMenu";const DropdownMenu$1=DropdownMenu,DropdownToggle=reactExports.forwardRef(({bsPrefix:o,split:i,className:s,childBsPrefix:a,as:et=Button$1,...tt},rt)=>{const nt=useBootstrapPrefix(o,"dropdown-toggle"),it=reactExports.useContext(DropdownContext$3);a!==void 0&&(tt.bsPrefix=a);const[ot]=useDropdownToggle();return ot.ref=useMergedRefs(ot.ref,useWrappedRefWithWarning(rt)),jsxRuntimeExports.jsx(et,{className:classNames(s,nt,i&&`${nt}-split`,(it==null?void 0:it.show)&&"show"),...ot,...tt})});DropdownToggle.displayName="DropdownToggle";const DropdownToggle$1=DropdownToggle,Dropdown=reactExports.forwardRef((o,i)=>{const{bsPrefix:s,drop:a="down",show:et,className:tt,align:rt="start",onSelect:nt,onToggle:it,focusFirstItemOnShow:ot,as:st="div",navbar:lt,autoClose:at=!0,...ut}=useUncontrolled(o,{show:"onToggle"}),ft=reactExports.useContext(InputGroupContext),mt=useBootstrapPrefix(s,"dropdown"),yt=useIsRTL(),ht=xt=>at===!1?xt==="click":at==="inside"?xt!=="rootClose":at==="outside"?xt!=="select":!0,pt=useEventCallback((xt,Tt)=>{var wt,It;!((wt=Tt.originalEvent)==null||(It=wt.target)==null)&&It.classList.contains("dropdown-toggle")&&Tt.source==="mousedown"||(Tt.originalEvent.currentTarget===document&&(Tt.source!=="keydown"||Tt.originalEvent.key==="Escape")&&(Tt.source="rootClose"),ht(Tt.source)&&(it==null||it(xt,Tt)))}),gt=getDropdownMenuPlacement(rt==="end",a,yt),Et=reactExports.useMemo(()=>({align:rt,drop:a,isRTL:yt}),[rt,a,yt]),bt={down:mt,"down-centered":`${mt}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return jsxRuntimeExports.jsx(DropdownContext$1.Provider,{value:Et,children:jsxRuntimeExports.jsx(Dropdown$2,{placement:gt,show:et,onSelect:nt,onToggle:pt,focusFirstItemOnShow:ot,itemSelector:`.${mt}-item:not(.disabled):not(:disabled)`,children:ft?ut.children:jsxRuntimeExports.jsx(st,{...ut,ref:i,className:classNames(tt,et&&"show",bt[a])})})})});Dropdown.displayName="Dropdown";const Dropdown$1=Object.assign(Dropdown,{Toggle:DropdownToggle$1,Menu:DropdownMenu$1,Item:DropdownItem$1,ItemText:DropdownItemText$1,Divider:DropdownDivider$1,Header:DropdownHeader$1}),VisuallyHiddenInput=styled("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),checkmarkStyle={color:theme.palette.secondary.main},saveButtonStyle={backgroundColor:theme.palette.primary.main,color:theme.palette.secondary.contrastText},textareaStyle={padding:"1em",borderRadius:"16px"},btnStyle={fontSize:"1em",paddingTop:"1em",color:theme.palette.primary.contrastText,height:"100%"},iconStyle={color:theme.palette.primary.dark,fontSize:"2em"},isValidUrl=o=>{let i;var s=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(s.test(o)){try{i=new URL(o)}catch{return!1}return i.protocol==="http:"||i.protocol==="https:"}else return!1};function PicturePageForm(){const o=useDispatch(),i=useSelector(ot=>ot.pages.editorHtmlContent),s=useSelector(ot=>ot.pages.editingPage),[a,et]=reactExports.useState("");reactExports.useEffect(()=>{et(i)},[]);const tt=ot=>{o(setHtmlContent(ot))},rt=()=>{let ot=window.location.href.split("/");const st=ot[ot.length-1];return s==null?nt(st):nt(s.type)},nt=ot=>ot.toUpperCase()=="link".toUpperCase()?isValidUrl(i)?jsxRuntimeExports.jsx(LinkPreview,{url:i}):jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{children:"URL is not valid"})}):jsxRuntimeExports.jsx("img",{src:i,alt:""}),it=()=>{let ot=window.location.href.split("/");return ot[ot.length-1].toUpperCase()=="image".toUpperCase()?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Button$4,{style:{backgroundColor:saveButtonStyle.backgroundColor,marginTop:"2em"},component:"label",variant:"contained",startIcon:jsxRuntimeExports.jsx(default_1$c,{}),children:["Upload Picture",jsxRuntimeExports.jsx(VisuallyHiddenInput,{type:"file",name:"picture",onInput:lt=>{const ut={file:Array.from(lt.target.files)[0]};o(uploadPicture(ut)).then(ft=>checkResult(ft,mt=>{const yt=mt.url;tt(yt)},mt=>{}))}})]})}):jsxRuntimeExports.jsx("div",{})};return jsxRuntimeExports.jsx("div",{className:"upload-picture",children:jsxRuntimeExports.jsxs(FormGroup$1,{style:{backgroundColor:theme.palette.primary.light},className:"form",children:[jsxRuntimeExports.jsx(TextField$1,{value:i,style:{backgroundColor:"white",borderRadius:"8px",maxWidth:"100%"},label:"URL",placeholder:"URL",onChange:ot=>debounce(tt(ot.target.value),20)}),it(),rt()]})})}var lodash={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */lodash.exports;(function(o,i){(function(){var s,a="4.17.21",et=200,tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",rt="Expected a function",nt="Invalid `variable` option passed into `_.template`",it="__lodash_hash_undefined__",ot=500,st="__lodash_placeholder__",lt=1,at=2,ut=4,ft=1,mt=2,yt=1,ht=2,pt=4,ct=8,gt=16,Et=32,bt=64,xt=128,Tt=256,wt=512,It=30,At="...",kt=800,Vt=16,Mt=1,Ot=2,Dt=3,Ct=1/0,St=9007199254740991,$t=17976931348623157e292,Lt=NaN,Rt=4294967295,jt=Rt-1,Ft=Rt>>>1,zt=[["ary",xt],["bind",yt],["bindKey",ht],["curry",ct],["curryRight",gt],["flip",wt],["partial",Et],["partialRight",bt],["rearg",Tt]],Gt="[object Arguments]",Bt="[object Array]",Wt="[object AsyncFunction]",Kt="[object Boolean]",Qt="[object Date]",Xt="[object DOMException]",er="[object Error]",sr="[object Function]",ur="[object GeneratorFunction]",nr="[object Map]",yr="[object Number]",Ar="[object Null]",Er="[object Object]",lr="[object Promise]",dr="[object Proxy]",pr="[object RegExp]",ar="[object Set]",mr="[object String]",wr="[object Symbol]",Sr="[object Undefined]",Or="[object WeakMap]",Ur="[object WeakSet]",zr="[object ArrayBuffer]",Vr="[object DataView]",Mr="[object Float32Array]",Br="[object Float64Array]",fn="[object Int8Array]",In="[object Int16Array]",Nr="[object Int32Array]",on="[object Uint8Array]",ln="[object Uint8ClampedArray]",Rn="[object Uint16Array]",oo="[object Uint32Array]",os=/\b__p \+= '';/g,Ds=/\b(__p \+=) '' \+/g,Os=/(__e\(.*?\)|\b__t\)) \+\n'';/g,ss=/&(?:amp|lt|gt|quot|#39);/g,Fo=/[&<>"']/g,as=RegExp(ss.source),ls=RegExp(Fo.source),so=/<%-([\s\S]+?)%>/g,Bo=/<%([\s\S]+?)%>/g,Uo=/<%=([\s\S]+?)%>/g,Vs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ms=/^\w*$/,zo=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,go=/[\\^$.*+?()[\]{}|]/g,Ls=RegExp(go.source),ao=/^\s+/,Wo=/\s/,Ln=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,yo=/\{\n\/\* \[wrapped with (.+)\] \*/,us=/,? & /,vo=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,qo=/[()=,{}\[\]\/\s]/,cs=/\\(\\)?/g,ds=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ho=/\w*$/,fs=/^[-+]0x[0-9a-f]+$/i,js=/^0b[01]+$/i,Ns=/^\[object .+?Constructor\]$/,Fs=/^0o[0-7]+$/i,hs=/^(?:0|[1-9]\d*)$/,Zr=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Pn=/($^)/,Il=/['\n\r\u2028\u2029\\]/g,ps="\\ud800-\\udfff",Eu="\\u0300-\\u036f",xu="\\ufe20-\\ufe2f",bu="\\u20d0-\\u20ff",ms=Eu+xu+bu,Rl="\\u2700-\\u27bf",gs="a-z\\xdf-\\xf6\\xf8-\\xff",Tu="\\xac\\xb1\\xd7\\xf7",Bs="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Al="\\u2000-\\u206f",Sl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Us="A-Z\\xc0-\\xd6\\xd8-\\xde",zs="\\ufe0e\\ufe0f",Cl=Tu+Bs+Al+Sl,vn="['’]",So="["+ps+"]",ys="["+Cl+"]",vs="["+ms+"]",$l="\\d+",Pu="["+Rl+"]",Ws="["+gs+"]",qt="[^"+ps+Cl+$l+Rl+gs+Us+"]",Jt="\\ud83c[\\udffb-\\udfff]",Zt="(?:"+vs+"|"+Jt+")",rr="[^"+ps+"]",gr="(?:\\ud83c[\\udde6-\\uddff]){2}",Ir="[\\ud800-\\udbff][\\udc00-\\udfff]",Cr="["+Us+"]",Tr="\\u200d",$r="(?:"+Ws+"|"+qt+")",jr="(?:"+Cr+"|"+qt+")",kr="(?:"+vn+"(?:d|ll|m|re|s|t|ve))?",Kr="(?:"+vn+"(?:D|LL|M|RE|S|T|VE))?",Gr=Zt+"?",rn="["+zs+"]?",Xr="(?:"+Tr+"(?:"+[rr,gr,Ir].join("|")+")"+rn+Gr+")*",hn="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",gn="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",$n=rn+Gr+Xr,Go="(?:"+[Pu,gr,Ir].join("|")+")"+$n,On="(?:"+[rr+vs+"?",vs,gr,Ir,So].join("|")+")",Sn=RegExp(vn,"g"),_o=RegExp(vs,"g"),Xn=RegExp(Jt+"(?="+Jt+")|"+On+$n,"g"),Co=RegExp([Cr+"?"+Ws+"+"+kr+"(?="+[ys,Cr,"$"].join("|")+")",jr+"+"+Kr+"(?="+[ys,Cr+$r,"$"].join("|")+")",Cr+"?"+$r+"+"+kr,Cr+"+"+Kr,gn,hn,$l,Go].join("|"),"g"),Ko=RegExp("["+Tr+ps+ms+zs+"]"),_s=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,qs=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Iu=-1,yn={};yn[Mr]=yn[Br]=yn[fn]=yn[In]=yn[Nr]=yn[on]=yn[ln]=yn[Rn]=yn[oo]=!0,yn[Gt]=yn[Bt]=yn[zr]=yn[Kt]=yn[Vr]=yn[Qt]=yn[er]=yn[sr]=yn[nr]=yn[yr]=yn[Er]=yn[pr]=yn[ar]=yn[mr]=yn[Or]=!1;var mn={};mn[Gt]=mn[Bt]=mn[zr]=mn[Vr]=mn[Kt]=mn[Qt]=mn[Mr]=mn[Br]=mn[fn]=mn[In]=mn[Nr]=mn[nr]=mn[yr]=mn[Er]=mn[pr]=mn[ar]=mn[mr]=mn[wr]=mn[on]=mn[ln]=mn[Rn]=mn[oo]=!0,mn[er]=mn[sr]=mn[Or]=!1;var Fy={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},By={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Uy={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},zy={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Wy=parseFloat,qy=parseInt,Cp=typeof commonjsGlobal$1=="object"&&commonjsGlobal$1&&commonjsGlobal$1.Object===Object&&commonjsGlobal$1,Hy=typeof self=="object"&&self&&self.Object===Object&&self,kn=Cp||Hy||Function("return this")(),Ru=i&&!i.nodeType&&i,Qo=Ru&&!0&&o&&!o.nodeType&&o,$p=Qo&&Qo.exports===Ru,Au=$p&&Cp.process,Jn=function(){try{var cr=Qo&&Qo.require&&Qo.require("util").types;return cr||Au&&Au.binding&&Au.binding("util")}catch{}}(),kp=Jn&&Jn.isArrayBuffer,Dp=Jn&&Jn.isDate,Op=Jn&&Jn.isMap,Vp=Jn&&Jn.isRegExp,Mp=Jn&&Jn.isSet,Lp=Jn&&Jn.isTypedArray;function qn(cr,_r,vr){switch(vr.length){case 0:return cr.call(_r);case 1:return cr.call(_r,vr[0]);case 2:return cr.call(_r,vr[0],vr[1]);case 3:return cr.call(_r,vr[0],vr[1],vr[2])}return cr.apply(_r,vr)}function Gy(cr,_r,vr,Lr){for(var Qr=-1,un=cr==null?0:cr.length;++Qr<un;){var An=cr[Qr];_r(Lr,An,vr(An),cr)}return Lr}function Zn(cr,_r){for(var vr=-1,Lr=cr==null?0:cr.length;++vr<Lr&&_r(cr[vr],vr,cr)!==!1;);return cr}function Ky(cr,_r){for(var vr=cr==null?0:cr.length;vr--&&_r(cr[vr],vr,cr)!==!1;);return cr}function jp(cr,_r){for(var vr=-1,Lr=cr==null?0:cr.length;++vr<Lr;)if(!_r(cr[vr],vr,cr))return!1;return!0}function $o(cr,_r){for(var vr=-1,Lr=cr==null?0:cr.length,Qr=0,un=[];++vr<Lr;){var An=cr[vr];_r(An,vr,cr)&&(un[Qr++]=An)}return un}function Dl(cr,_r){var vr=cr==null?0:cr.length;return!!vr&&Es(cr,_r,0)>-1}function wu(cr,_r,vr){for(var Lr=-1,Qr=cr==null?0:cr.length;++Lr<Qr;)if(vr(_r,cr[Lr]))return!0;return!1}function _n(cr,_r){for(var vr=-1,Lr=cr==null?0:cr.length,Qr=Array(Lr);++vr<Lr;)Qr[vr]=_r(cr[vr],vr,cr);return Qr}function ko(cr,_r){for(var vr=-1,Lr=_r.length,Qr=cr.length;++vr<Lr;)cr[Qr+vr]=_r[vr];return cr}function Su(cr,_r,vr,Lr){var Qr=-1,un=cr==null?0:cr.length;for(Lr&&un&&(vr=cr[++Qr]);++Qr<un;)vr=_r(vr,cr[Qr],Qr,cr);return vr}function Qy(cr,_r,vr,Lr){var Qr=cr==null?0:cr.length;for(Lr&&Qr&&(vr=cr[--Qr]);Qr--;)vr=_r(vr,cr[Qr],Qr,cr);return vr}function Cu(cr,_r){for(var vr=-1,Lr=cr==null?0:cr.length;++vr<Lr;)if(_r(cr[vr],vr,cr))return!0;return!1}var Yy=$u("length");function Xy(cr){return cr.split("")}function Jy(cr){return cr.match(vo)||[]}function Np(cr,_r,vr){var Lr;return vr(cr,function(Qr,un,An){if(_r(Qr,un,An))return Lr=un,!1}),Lr}function Ol(cr,_r,vr,Lr){for(var Qr=cr.length,un=vr+(Lr?1:-1);Lr?un--:++un<Qr;)if(_r(cr[un],un,cr))return un;return-1}function Es(cr,_r,vr){return _r===_r?cv(cr,_r,vr):Ol(cr,Fp,vr)}function Zy(cr,_r,vr,Lr){for(var Qr=vr-1,un=cr.length;++Qr<un;)if(Lr(cr[Qr],_r))return Qr;return-1}function Fp(cr){return cr!==cr}function Bp(cr,_r){var vr=cr==null?0:cr.length;return vr?Du(cr,_r)/vr:Lt}function $u(cr){return function(_r){return _r==null?s:_r[cr]}}function ku(cr){return function(_r){return cr==null?s:cr[_r]}}function Up(cr,_r,vr,Lr,Qr){return Qr(cr,function(un,An,pn){vr=Lr?(Lr=!1,un):_r(vr,un,An,pn)}),vr}function ev(cr,_r){var vr=cr.length;for(cr.sort(_r);vr--;)cr[vr]=cr[vr].value;return cr}function Du(cr,_r){for(var vr,Lr=-1,Qr=cr.length;++Lr<Qr;){var un=_r(cr[Lr]);un!==s&&(vr=vr===s?un:vr+un)}return vr}function Ou(cr,_r){for(var vr=-1,Lr=Array(cr);++vr<cr;)Lr[vr]=_r(vr);return Lr}function tv(cr,_r){return _n(_r,function(vr){return[vr,cr[vr]]})}function zp(cr){return cr&&cr.slice(0,Gp(cr)+1).replace(ao,"")}function Hn(cr){return function(_r){return cr(_r)}}function Vu(cr,_r){return _n(_r,function(vr){return cr[vr]})}function Hs(cr,_r){return cr.has(_r)}function Wp(cr,_r){for(var vr=-1,Lr=cr.length;++vr<Lr&&Es(_r,cr[vr],0)>-1;);return vr}function qp(cr,_r){for(var vr=cr.length;vr--&&Es(_r,cr[vr],0)>-1;);return vr}function rv(cr,_r){for(var vr=cr.length,Lr=0;vr--;)cr[vr]===_r&&++Lr;return Lr}var nv=ku(Fy),iv=ku(By);function ov(cr){return"\\"+zy[cr]}function sv(cr,_r){return cr==null?s:cr[_r]}function xs(cr){return Ko.test(cr)}function av(cr){return _s.test(cr)}function lv(cr){for(var _r,vr=[];!(_r=cr.next()).done;)vr.push(_r.value);return vr}function Mu(cr){var _r=-1,vr=Array(cr.size);return cr.forEach(function(Lr,Qr){vr[++_r]=[Qr,Lr]}),vr}function Hp(cr,_r){return function(vr){return cr(_r(vr))}}function Do(cr,_r){for(var vr=-1,Lr=cr.length,Qr=0,un=[];++vr<Lr;){var An=cr[vr];(An===_r||An===st)&&(cr[vr]=st,un[Qr++]=vr)}return un}function Vl(cr){var _r=-1,vr=Array(cr.size);return cr.forEach(function(Lr){vr[++_r]=Lr}),vr}function uv(cr){var _r=-1,vr=Array(cr.size);return cr.forEach(function(Lr){vr[++_r]=[Lr,Lr]}),vr}function cv(cr,_r,vr){for(var Lr=vr-1,Qr=cr.length;++Lr<Qr;)if(cr[Lr]===_r)return Lr;return-1}function dv(cr,_r,vr){for(var Lr=vr+1;Lr--;)if(cr[Lr]===_r)return Lr;return Lr}function bs(cr){return xs(cr)?hv(cr):Yy(cr)}function lo(cr){return xs(cr)?pv(cr):Xy(cr)}function Gp(cr){for(var _r=cr.length;_r--&&Wo.test(cr.charAt(_r)););return _r}var fv=ku(Uy);function hv(cr){for(var _r=Xn.lastIndex=0;Xn.test(cr);)++_r;return _r}function pv(cr){return cr.match(Xn)||[]}function mv(cr){return cr.match(Co)||[]}var gv=function cr(_r){_r=_r==null?kn:Ts.defaults(kn.Object(),_r,Ts.pick(kn,qs));var vr=_r.Array,Lr=_r.Date,Qr=_r.Error,un=_r.Function,An=_r.Math,pn=_r.Object,Lu=_r.RegExp,yv=_r.String,_i=_r.TypeError,Ml=vr.prototype,vv=un.prototype,Ps=pn.prototype,Ll=_r["__core-js_shared__"],Nl=vv.toString,dn=Ps.hasOwnProperty,_v=0,Kp=function(){var dt=/[^.]+$/.exec(Ll&&Ll.keys&&Ll.keys.IE_PROTO||"");return dt?"Symbol(src)_1."+dt:""}(),Fl=Ps.toString,Ev=Nl.call(pn),xv=kn._,bv=Lu("^"+Nl.call(dn).replace(go,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Bl=$p?_r.Buffer:s,Oo=_r.Symbol,Ul=_r.Uint8Array,Qp=Bl?Bl.allocUnsafe:s,zl=Hp(pn.getPrototypeOf,pn),Yp=pn.create,Xp=Ps.propertyIsEnumerable,Wl=Ml.splice,Jp=Oo?Oo.isConcatSpreadable:s,Gs=Oo?Oo.iterator:s,Yo=Oo?Oo.toStringTag:s,Hl=function(){try{var dt=ts(pn,"defineProperty");return dt({},"",{}),dt}catch{}}(),Tv=_r.clearTimeout!==kn.clearTimeout&&_r.clearTimeout,Pv=Lr&&Lr.now!==kn.Date.now&&Lr.now,Iv=_r.setTimeout!==kn.setTimeout&&_r.setTimeout,Gl=An.ceil,Kl=An.floor,ju=pn.getOwnPropertySymbols,Rv=Bl?Bl.isBuffer:s,Zp=_r.isFinite,Av=Ml.join,wv=Hp(pn.keys,pn),wn=An.max,Vn=An.min,Sv=Lr.now,Cv=_r.parseInt,em=An.random,$v=Ml.reverse,Nu=ts(_r,"DataView"),Ks=ts(_r,"Map"),Fu=ts(_r,"Promise"),Is=ts(_r,"Set"),Qs=ts(_r,"WeakMap"),Ys=ts(pn,"create"),Ql=Qs&&new Qs,Rs={},kv=rs(Nu),Dv=rs(Ks),Ov=rs(Fu),Vv=rs(Is),Mv=rs(Qs),Yl=Oo?Oo.prototype:s,Xs=Yl?Yl.valueOf:s,tm=Yl?Yl.toString:s;function Ht(dt){if(xn(dt)&&!Yr(dt)&&!(dt instanceof sn)){if(dt instanceof eo)return dt;if(dn.call(dt,"__wrapped__"))return ry(dt)}return new eo(dt)}var As=function(){function dt(){}return function(vt){if(!En(vt))return{};if(Yp)return Yp(vt);dt.prototype=vt;var Pt=new dt;return dt.prototype=s,Pt}}();function Xl(){}function eo(dt,vt){this.__wrapped__=dt,this.__actions__=[],this.__chain__=!!vt,this.__index__=0,this.__values__=s}Ht.templateSettings={escape:so,evaluate:Bo,interpolate:Uo,variable:"",imports:{_:Ht}},Ht.prototype=Xl.prototype,Ht.prototype.constructor=Ht,eo.prototype=As(Xl.prototype),eo.prototype.constructor=eo;function sn(dt){this.__wrapped__=dt,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Rt,this.__views__=[]}function Lv(){var dt=new sn(this.__wrapped__);return dt.__actions__=Bn(this.__actions__),dt.__dir__=this.__dir__,dt.__filtered__=this.__filtered__,dt.__iteratees__=Bn(this.__iteratees__),dt.__takeCount__=this.__takeCount__,dt.__views__=Bn(this.__views__),dt}function jv(){if(this.__filtered__){var dt=new sn(this);dt.__dir__=-1,dt.__filtered__=!0}else dt=this.clone(),dt.__dir__*=-1;return dt}function Nv(){var dt=this.__wrapped__.value(),vt=this.__dir__,Pt=Yr(dt),Nt=vt<0,Ut=Pt?dt.length:0,Yt=X_(0,Ut,this.__views__),tr=Yt.start,ir=Yt.end,hr=ir-tr,xr=Nt?ir:tr-1,br=this.__iteratees__,Pr=br.length,Dr=0,Fr=Vn(hr,this.__takeCount__);if(!Pt||!Nt&&Ut==hr&&Fr==hr)return Rm(dt,this.__actions__);var qr=[];e:for(;hr--&&Dr<Fr;){xr+=vt;for(var en=-1,Hr=dt[xr];++en<Pr;){var nn=br[en],an=nn.iteratee,Qn=nn.type,Fn=an(Hr);if(Qn==Ot)Hr=Fn;else if(!Fn){if(Qn==Mt)continue e;break e}}qr[Dr++]=Hr}return qr}sn.prototype=As(Xl.prototype),sn.prototype.constructor=sn;function Xo(dt){var vt=-1,Pt=dt==null?0:dt.length;for(this.clear();++vt<Pt;){var Nt=dt[vt];this.set(Nt[0],Nt[1])}}function Fv(){this.__data__=Ys?Ys(null):{},this.size=0}function Bv(dt){var vt=this.has(dt)&&delete this.__data__[dt];return this.size-=vt?1:0,vt}function Uv(dt){var vt=this.__data__;if(Ys){var Pt=vt[dt];return Pt===it?s:Pt}return dn.call(vt,dt)?vt[dt]:s}function zv(dt){var vt=this.__data__;return Ys?vt[dt]!==s:dn.call(vt,dt)}function Wv(dt,vt){var Pt=this.__data__;return this.size+=this.has(dt)?0:1,Pt[dt]=Ys&&vt===s?it:vt,this}Xo.prototype.clear=Fv,Xo.prototype.delete=Bv,Xo.prototype.get=Uv,Xo.prototype.has=zv,Xo.prototype.set=Wv;function Eo(dt){var vt=-1,Pt=dt==null?0:dt.length;for(this.clear();++vt<Pt;){var Nt=dt[vt];this.set(Nt[0],Nt[1])}}function qv(){this.__data__=[],this.size=0}function Hv(dt){var vt=this.__data__,Pt=Jl(vt,dt);if(Pt<0)return!1;var Nt=vt.length-1;return Pt==Nt?vt.pop():Wl.call(vt,Pt,1),--this.size,!0}function Gv(dt){var vt=this.__data__,Pt=Jl(vt,dt);return Pt<0?s:vt[Pt][1]}function Kv(dt){return Jl(this.__data__,dt)>-1}function Qv(dt,vt){var Pt=this.__data__,Nt=Jl(Pt,dt);return Nt<0?(++this.size,Pt.push([dt,vt])):Pt[Nt][1]=vt,this}Eo.prototype.clear=qv,Eo.prototype.delete=Hv,Eo.prototype.get=Gv,Eo.prototype.has=Kv,Eo.prototype.set=Qv;function xo(dt){var vt=-1,Pt=dt==null?0:dt.length;for(this.clear();++vt<Pt;){var Nt=dt[vt];this.set(Nt[0],Nt[1])}}function Yv(){this.size=0,this.__data__={hash:new Xo,map:new(Ks||Eo),string:new Xo}}function Xv(dt){var vt=cu(this,dt).delete(dt);return this.size-=vt?1:0,vt}function Jv(dt){return cu(this,dt).get(dt)}function Zv(dt){return cu(this,dt).has(dt)}function e_(dt,vt){var Pt=cu(this,dt),Nt=Pt.size;return Pt.set(dt,vt),this.size+=Pt.size==Nt?0:1,this}xo.prototype.clear=Yv,xo.prototype.delete=Xv,xo.prototype.get=Jv,xo.prototype.has=Zv,xo.prototype.set=e_;function Jo(dt){var vt=-1,Pt=dt==null?0:dt.length;for(this.__data__=new xo;++vt<Pt;)this.add(dt[vt])}function t_(dt){return this.__data__.set(dt,it),this}function r_(dt){return this.__data__.has(dt)}Jo.prototype.add=Jo.prototype.push=t_,Jo.prototype.has=r_;function uo(dt){var vt=this.__data__=new Eo(dt);this.size=vt.size}function n_(){this.__data__=new Eo,this.size=0}function i_(dt){var vt=this.__data__,Pt=vt.delete(dt);return this.size=vt.size,Pt}function o_(dt){return this.__data__.get(dt)}function s_(dt){return this.__data__.has(dt)}function a_(dt,vt){var Pt=this.__data__;if(Pt instanceof Eo){var Nt=Pt.__data__;if(!Ks||Nt.length<et-1)return Nt.push([dt,vt]),this.size=++Pt.size,this;Pt=this.__data__=new xo(Nt)}return Pt.set(dt,vt),this.size=Pt.size,this}uo.prototype.clear=n_,uo.prototype.delete=i_,uo.prototype.get=o_,uo.prototype.has=s_,uo.prototype.set=a_;function rm(dt,vt){var Pt=Yr(dt),Nt=!Pt&&ns(dt),Ut=!Pt&&!Nt&&No(dt),Yt=!Pt&&!Nt&&!Ut&&$s(dt),tr=Pt||Nt||Ut||Yt,ir=tr?Ou(dt.length,yv):[],hr=ir.length;for(var xr in dt)(vt||dn.call(dt,xr))&&!(tr&&(xr=="length"||Ut&&(xr=="offset"||xr=="parent")||Yt&&(xr=="buffer"||xr=="byteLength"||xr=="byteOffset")||Io(xr,hr)))&&ir.push(xr);return ir}function im(dt){var vt=dt.length;return vt?dt[Xu(0,vt-1)]:s}function l_(dt,vt){return du(Bn(dt),Zo(vt,0,dt.length))}function u_(dt){return du(Bn(dt))}function Bu(dt,vt,Pt){(Pt!==s&&!co(dt[vt],Pt)||Pt===s&&!(vt in dt))&&bo(dt,vt,Pt)}function Js(dt,vt,Pt){var Nt=dt[vt];(!(dn.call(dt,vt)&&co(Nt,Pt))||Pt===s&&!(vt in dt))&&bo(dt,vt,Pt)}function Jl(dt,vt){for(var Pt=dt.length;Pt--;)if(co(dt[Pt][0],vt))return Pt;return-1}function c_(dt,vt,Pt,Nt){return Vo(dt,function(Ut,Yt,tr){vt(Nt,Ut,Pt(Ut),tr)}),Nt}function om(dt,vt){return dt&&po(vt,Cn(vt),dt)}function d_(dt,vt){return dt&&po(vt,zn(vt),dt)}function bo(dt,vt,Pt){vt=="__proto__"&&Hl?Hl(dt,vt,{configurable:!0,enumerable:!0,value:Pt,writable:!0}):dt[vt]=Pt}function Uu(dt,vt){for(var Pt=-1,Nt=vt.length,Ut=vr(Nt),Yt=dt==null;++Pt<Nt;)Ut[Pt]=Yt?s:Ep(dt,vt[Pt]);return Ut}function Zo(dt,vt,Pt){return dt===dt&&(Pt!==s&&(dt=dt<=Pt?dt:Pt),vt!==s&&(dt=dt>=vt?dt:vt)),dt}function to(dt,vt,Pt,Nt,Ut,Yt){var tr,ir=vt&lt,hr=vt&at,xr=vt&ut;if(Pt&&(tr=Ut?Pt(dt,Nt,Ut,Yt):Pt(dt)),tr!==s)return tr;if(!En(dt))return dt;var br=Yr(dt);if(br){if(tr=Z_(dt),!ir)return Bn(dt,tr)}else{var Pr=Mn(dt),Dr=Pr==sr||Pr==ur;if(No(dt))return Sm(dt,ir);if(Pr==Er||Pr==Gt||Dr&&!Ut){if(tr=hr||Dr?{}:Km(dt),!ir)return hr?U_(dt,d_(tr,dt)):B_(dt,om(tr,dt))}else{if(!mn[Pr])return Ut?dt:{};tr=eE(dt,Pr,ir)}}Yt||(Yt=new uo);var Fr=Yt.get(dt);if(Fr)return Fr;Yt.set(dt,tr),by(dt)?dt.forEach(function(Hr){tr.add(to(Hr,vt,Pt,Hr,dt,Yt))}):Ey(dt)&&dt.forEach(function(Hr,nn){tr.set(nn,to(Hr,vt,Pt,nn,dt,Yt))});var qr=xr?hr?sp:np:hr?zn:Cn,en=br?s:qr(dt);return Zn(en||dt,function(Hr,nn){en&&(nn=Hr,Hr=dt[nn]),Js(tr,nn,to(Hr,vt,Pt,nn,dt,Yt))}),tr}function f_(dt){var vt=Cn(dt);return function(Pt){return sm(Pt,dt,vt)}}function sm(dt,vt,Pt){var Nt=Pt.length;if(dt==null)return!Nt;for(dt=pn(dt);Nt--;){var Ut=Pt[Nt],Yt=vt[Ut],tr=dt[Ut];if(tr===s&&!(Ut in dt)||!Yt(tr))return!1}return!0}function am(dt,vt,Pt){if(typeof dt!="function")throw new _i(rt);return xl(function(){dt.apply(s,Pt)},vt)}function Zs(dt,vt,Pt,Nt){var Ut=-1,Yt=Dl,tr=!0,ir=dt.length,hr=[],xr=vt.length;if(!ir)return hr;Pt&&(vt=_n(vt,Hn(Pt))),Nt?(Yt=wu,tr=!1):vt.length>=et&&(Yt=Hs,tr=!1,vt=new Jo(vt));e:for(;++Ut<ir;){var br=dt[Ut],Pr=Pt==null?br:Pt(br);if(br=Nt||br!==0?br:0,tr&&Pr===Pr){for(var Dr=xr;Dr--;)if(vt[Dr]===Pr)continue e;hr.push(br)}else Yt(vt,Pr,Nt)||hr.push(br)}return hr}var Vo=Om(ho),lm=Om(Wu,!0);function h_(dt,vt){var Pt=!0;return Vo(dt,function(Nt,Ut,Yt){return Pt=!!vt(Nt,Ut,Yt),Pt}),Pt}function Zl(dt,vt,Pt){for(var Nt=-1,Ut=dt.length;++Nt<Ut;){var Yt=dt[Nt],tr=vt(Yt);if(tr!=null&&(ir===s?tr===tr&&!Kn(tr):Pt(tr,ir)))var ir=tr,hr=Yt}return hr}function p_(dt,vt,Pt,Nt){var Ut=dt.length;for(Pt=Jr(Pt),Pt<0&&(Pt=-Pt>Ut?0:Ut+Pt),Nt=Nt===s||Nt>Ut?Ut:Jr(Nt),Nt<0&&(Nt+=Ut),Nt=Pt>Nt?0:Py(Nt);Pt<Nt;)dt[Pt++]=vt;return dt}function um(dt,vt){var Pt=[];return Vo(dt,function(Nt,Ut,Yt){vt(Nt,Ut,Yt)&&Pt.push(Nt)}),Pt}function Dn(dt,vt,Pt,Nt,Ut){var Yt=-1,tr=dt.length;for(Pt||(Pt=rE),Ut||(Ut=[]);++Yt<tr;){var ir=dt[Yt];vt>0&&Pt(ir)?vt>1?Dn(ir,vt-1,Pt,Nt,Ut):ko(Ut,ir):Nt||(Ut[Ut.length]=ir)}return Ut}var zu=Vm(),cm=Vm(!0);function ho(dt,vt){return dt&&zu(dt,vt,Cn)}function Wu(dt,vt){return dt&&cm(dt,vt,Cn)}function eu(dt,vt){return $o(vt,function(Pt){return Ro(dt[Pt])})}function es(dt,vt){vt=Lo(vt,dt);for(var Pt=0,Nt=vt.length;dt!=null&&Pt<Nt;)dt=dt[mo(vt[Pt++])];return Pt&&Pt==Nt?dt:s}function dm(dt,vt,Pt){var Nt=vt(dt);return Yr(dt)?Nt:ko(Nt,Pt(dt))}function jn(dt){return dt==null?dt===s?Sr:Ar:Yo&&Yo in pn(dt)?Y_(dt):uE(dt)}function qu(dt,vt){return dt>vt}function m_(dt,vt){return dt!=null&&dn.call(dt,vt)}function g_(dt,vt){return dt!=null&&vt in pn(dt)}function y_(dt,vt,Pt){return dt>=Vn(vt,Pt)&&dt<wn(vt,Pt)}function Hu(dt,vt,Pt){for(var Nt=Pt?wu:Dl,Ut=dt[0].length,Yt=dt.length,tr=Yt,ir=vr(Yt),hr=1/0,xr=[];tr--;){var br=dt[tr];tr&&vt&&(br=_n(br,Hn(vt))),hr=Vn(br.length,hr),ir[tr]=!Pt&&(vt||Ut>=120&&br.length>=120)?new Jo(tr&&br):s}br=dt[0];var Pr=-1,Dr=ir[0];e:for(;++Pr<Ut&&xr.length<hr;){var Fr=br[Pr],qr=vt?vt(Fr):Fr;if(Fr=Pt||Fr!==0?Fr:0,!(Dr?Hs(Dr,qr):Nt(xr,qr,Pt))){for(tr=Yt;--tr;){var en=ir[tr];if(!(en?Hs(en,qr):Nt(dt[tr],qr,Pt)))continue e}Dr&&Dr.push(qr),xr.push(Fr)}}return xr}function v_(dt,vt,Pt,Nt){return ho(dt,function(Ut,Yt,tr){vt(Nt,Pt(Ut),Yt,tr)}),Nt}function ga(dt,vt,Pt){vt=Lo(vt,dt),dt=Jm(dt,vt);var Nt=dt==null?dt:dt[mo(no(vt))];return Nt==null?s:qn(Nt,dt,Pt)}function fm(dt){return xn(dt)&&jn(dt)==Gt}function __(dt){return xn(dt)&&jn(dt)==zr}function E_(dt){return xn(dt)&&jn(dt)==Qt}function _a(dt,vt,Pt,Nt,Ut){return dt===vt?!0:dt==null||vt==null||!xn(dt)&&!xn(vt)?dt!==dt&&vt!==vt:x_(dt,vt,Pt,Nt,_a,Ut)}function x_(dt,vt,Pt,Nt,Ut,Yt){var tr=Yr(dt),ir=Yr(vt),hr=tr?Bt:Mn(dt),xr=ir?Bt:Mn(vt);hr=hr==Gt?Er:hr,xr=xr==Gt?Er:xr;var br=hr==Er,Pr=xr==Er,Dr=hr==xr;if(Dr&&No(dt)){if(!No(vt))return!1;tr=!0,br=!1}if(Dr&&!br)return Yt||(Yt=new uo),tr||$s(dt)?qm(dt,vt,Pt,Nt,Ut,Yt):K_(dt,vt,hr,Pt,Nt,Ut,Yt);if(!(Pt&ft)){var Fr=br&&dn.call(dt,"__wrapped__"),qr=Pr&&dn.call(vt,"__wrapped__");if(Fr||qr){var en=Fr?dt.value():dt,Hr=qr?vt.value():vt;return Yt||(Yt=new uo),Ut(en,Hr,Pt,Nt,Yt)}}return Dr?(Yt||(Yt=new uo),Q_(dt,vt,Pt,Nt,Ut,Yt)):!1}function b_(dt){return xn(dt)&&Mn(dt)==nr}function Gu(dt,vt,Pt,Nt){var Ut=Pt.length,Yt=Ut,tr=!Nt;if(dt==null)return!Yt;for(dt=pn(dt);Ut--;){var ir=Pt[Ut];if(tr&&ir[2]?ir[1]!==dt[ir[0]]:!(ir[0]in dt))return!1}for(;++Ut<Yt;){ir=Pt[Ut];var hr=ir[0],xr=dt[hr],br=ir[1];if(tr&&ir[2]){if(xr===s&&!(hr in dt))return!1}else{var Pr=new uo;if(Nt)var Dr=Nt(xr,br,hr,dt,vt,Pr);if(!(Dr===s?_a(br,xr,ft|mt,Nt,Pr):Dr))return!1}}return!0}function hm(dt){if(!En(dt)||iE(dt))return!1;var vt=Ro(dt)?bv:Ns;return vt.test(rs(dt))}function T_(dt){return xn(dt)&&jn(dt)==pr}function P_(dt){return xn(dt)&&Mn(dt)==ar}function I_(dt){return xn(dt)&&yu(dt.length)&&!!yn[jn(dt)]}function pm(dt){return typeof dt=="function"?dt:dt==null?Wn:typeof dt=="object"?Yr(dt)?ym(dt[0],dt[1]):gm(dt):Vy(dt)}function Ku(dt){if(!El(dt))return wv(dt);var vt=[];for(var Pt in pn(dt))dn.call(dt,Pt)&&Pt!="constructor"&&vt.push(Pt);return vt}function R_(dt){if(!En(dt))return lE(dt);var vt=El(dt),Pt=[];for(var Nt in dt)Nt=="constructor"&&(vt||!dn.call(dt,Nt))||Pt.push(Nt);return Pt}function Qu(dt,vt){return dt<vt}function mm(dt,vt){var Pt=-1,Nt=Un(dt)?vr(dt.length):[];return Vo(dt,function(Ut,Yt,tr){Nt[++Pt]=vt(Ut,Yt,tr)}),Nt}function gm(dt){var vt=lp(dt);return vt.length==1&&vt[0][2]?Ym(vt[0][0],vt[0][1]):function(Pt){return Pt===dt||Gu(Pt,dt,vt)}}function ym(dt,vt){return cp(dt)&&Qm(vt)?Ym(mo(dt),vt):function(Pt){var Nt=Ep(Pt,dt);return Nt===s&&Nt===vt?xp(Pt,dt):_a(vt,Nt,ft|mt)}}function tu(dt,vt,Pt,Nt,Ut){dt!==vt&&zu(vt,function(Yt,tr){if(Ut||(Ut=new uo),En(Yt))A_(dt,vt,tr,Pt,tu,Nt,Ut);else{var ir=Nt?Nt(fp(dt,tr),Yt,tr+"",dt,vt,Ut):s;ir===s&&(ir=Yt),Bu(dt,tr,ir)}},zn)}function A_(dt,vt,Pt,Nt,Ut,Yt,tr){var ir=fp(dt,Pt),hr=fp(vt,Pt),xr=tr.get(hr);if(xr){Bu(dt,Pt,xr);return}var br=Yt?Yt(ir,hr,Pt+"",dt,vt,tr):s,Pr=br===s;if(Pr){var Dr=Yr(hr),Fr=!Dr&&No(hr),qr=!Dr&&!Fr&&$s(hr);br=hr,Dr||Fr||qr?Yr(ir)?br=ir:bn(ir)?br=Bn(ir):Fr?(Pr=!1,br=Sm(hr,!0)):qr?(Pr=!1,br=Cm(hr,!0)):br=[]:Tl(hr)||ns(hr)?(br=ir,ns(ir)?br=Iy(ir):(!En(ir)||Ro(ir))&&(br=Km(hr))):Pr=!1}Pr&&(tr.set(hr,br),Ut(br,hr,Nt,Yt,tr),tr.delete(hr)),Bu(dt,Pt,br)}function vm(dt,vt){var Pt=dt.length;if(Pt)return vt+=vt<0?Pt:0,Io(vt,Pt)?dt[vt]:s}function _m(dt,vt,Pt){vt.length?vt=_n(vt,function(Yt){return Yr(Yt)?function(tr){return es(tr,Yt.length===1?Yt[0]:Yt)}:Yt}):vt=[Wn];var Nt=-1;vt=_n(vt,Hn(Wr()));var Ut=mm(dt,function(Yt,tr,ir){var hr=_n(vt,function(xr){return xr(Yt)});return{criteria:hr,index:++Nt,value:Yt}});return ev(Ut,function(Yt,tr){return F_(Yt,tr,Pt)})}function w_(dt,vt){return Em(dt,vt,function(Pt,Nt){return xp(dt,Nt)})}function Em(dt,vt,Pt){for(var Nt=-1,Ut=vt.length,Yt={};++Nt<Ut;){var tr=vt[Nt],ir=es(dt,tr);Pt(ir,tr)&&yl(Yt,Lo(tr,dt),ir)}return Yt}function S_(dt){return function(vt){return es(vt,dt)}}function Yu(dt,vt,Pt,Nt){var Ut=Nt?Zy:Es,Yt=-1,tr=vt.length,ir=dt;for(dt===vt&&(vt=Bn(vt)),Pt&&(ir=_n(dt,Hn(Pt)));++Yt<tr;)for(var hr=0,xr=vt[Yt],br=Pt?Pt(xr):xr;(hr=Ut(ir,br,hr,Nt))>-1;)ir!==dt&&Wl.call(ir,hr,1),Wl.call(dt,hr,1);return dt}function xm(dt,vt){for(var Pt=dt?vt.length:0,Nt=Pt-1;Pt--;){var Ut=vt[Pt];if(Pt==Nt||Ut!==Yt){var Yt=Ut;Io(Ut)?Wl.call(dt,Ut,1):_c(dt,Ut)}}return dt}function Xu(dt,vt){return dt+Kl(em()*(vt-dt+1))}function C_(dt,vt,Pt,Nt){for(var Ut=-1,Yt=wn(Gl((vt-dt)/(Pt||1)),0),tr=vr(Yt);Yt--;)tr[Nt?Yt:++Ut]=dt,dt+=Pt;return tr}function Ju(dt,vt){var Pt="";if(!dt||vt<1||vt>St)return Pt;do vt%2&&(Pt+=dt),vt=Kl(vt/2),vt&&(dt+=dt);while(vt);return Pt}function tn(dt,vt){return hp(Xm(dt,vt,Wn),dt+"")}function $_(dt){return im(ks(dt))}function k_(dt,vt){var Pt=ks(dt);return du(Pt,Zo(vt,0,Pt.length))}function yl(dt,vt,Pt,Nt){if(!En(dt))return dt;vt=Lo(vt,dt);for(var Ut=-1,Yt=vt.length,tr=Yt-1,ir=dt;ir!=null&&++Ut<Yt;){var hr=mo(vt[Ut]),xr=Pt;if(hr==="__proto__"||hr==="constructor"||hr==="prototype")return dt;if(Ut!=tr){var br=ir[hr];xr=Nt?Nt(br,hr,ir):s,xr===s&&(xr=En(br)?br:Io(vt[Ut+1])?[]:{})}Js(ir,hr,xr),ir=ir[hr]}return dt}var bm=Ql?function(dt,vt){return Ql.set(dt,vt),dt}:Wn,D_=Hl?function(dt,vt){return Hl(dt,"toString",{configurable:!0,enumerable:!1,value:Tp(vt),writable:!0})}:Wn;function O_(dt){return du(ks(dt))}function ro(dt,vt,Pt){var Nt=-1,Ut=dt.length;vt<0&&(vt=-vt>Ut?0:Ut+vt),Pt=Pt>Ut?Ut:Pt,Pt<0&&(Pt+=Ut),Ut=vt>Pt?0:Pt-vt>>>0,vt>>>=0;for(var Yt=vr(Ut);++Nt<Ut;)Yt[Nt]=dt[Nt+vt];return Yt}function V_(dt,vt){var Pt;return Vo(dt,function(Nt,Ut,Yt){return Pt=vt(Nt,Ut,Yt),!Pt}),!!Pt}function ru(dt,vt,Pt){var Nt=0,Ut=dt==null?Nt:dt.length;if(typeof vt=="number"&&vt===vt&&Ut<=Ft){for(;Nt<Ut;){var Yt=Nt+Ut>>>1,tr=dt[Yt];tr!==null&&!Kn(tr)&&(Pt?tr<=vt:tr<vt)?Nt=Yt+1:Ut=Yt}return Ut}return Zu(dt,vt,Wn,Pt)}function Zu(dt,vt,Pt,Nt){var Ut=0,Yt=dt==null?0:dt.length;if(Yt===0)return 0;vt=Pt(vt);for(var tr=vt!==vt,ir=vt===null,hr=Kn(vt),xr=vt===s;Ut<Yt;){var br=Kl((Ut+Yt)/2),Pr=Pt(dt[br]),Dr=Pr!==s,Fr=Pr===null,qr=Pr===Pr,en=Kn(Pr);if(tr)var Hr=Nt||qr;else xr?Hr=qr&&(Nt||Dr):ir?Hr=qr&&Dr&&(Nt||!Fr):hr?Hr=qr&&Dr&&!Fr&&(Nt||!en):Fr||en?Hr=!1:Hr=Nt?Pr<=vt:Pr<vt;Hr?Ut=br+1:Yt=br}return Vn(Yt,jt)}function Tm(dt,vt){for(var Pt=-1,Nt=dt.length,Ut=0,Yt=[];++Pt<Nt;){var tr=dt[Pt],ir=vt?vt(tr):tr;if(!Pt||!co(ir,hr)){var hr=ir;Yt[Ut++]=tr===0?0:tr}}return Yt}function Pm(dt){return typeof dt=="number"?dt:Kn(dt)?Lt:+dt}function Gn(dt){if(typeof dt=="string")return dt;if(Yr(dt))return _n(dt,Gn)+"";if(Kn(dt))return tm?tm.call(dt):"";var vt=dt+"";return vt=="0"&&1/dt==-Ct?"-0":vt}function Mo(dt,vt,Pt){var Nt=-1,Ut=Dl,Yt=dt.length,tr=!0,ir=[],hr=ir;if(Pt)tr=!1,Ut=wu;else if(Yt>=et){var xr=vt?null:H_(dt);if(xr)return Vl(xr);tr=!1,Ut=Hs,hr=new Jo}else hr=vt?[]:ir;e:for(;++Nt<Yt;){var br=dt[Nt],Pr=vt?vt(br):br;if(br=Pt||br!==0?br:0,tr&&Pr===Pr){for(var Dr=hr.length;Dr--;)if(hr[Dr]===Pr)continue e;vt&&hr.push(Pr),ir.push(br)}else Ut(hr,Pr,Pt)||(hr!==ir&&hr.push(Pr),ir.push(br))}return ir}function _c(dt,vt){return vt=Lo(vt,dt),dt=Jm(dt,vt),dt==null||delete dt[mo(no(vt))]}function Im(dt,vt,Pt,Nt){return yl(dt,vt,Pt(es(dt,vt)),Nt)}function nu(dt,vt,Pt,Nt){for(var Ut=dt.length,Yt=Nt?Ut:-1;(Nt?Yt--:++Yt<Ut)&&vt(dt[Yt],Yt,dt););return Pt?ro(dt,Nt?0:Yt,Nt?Yt+1:Ut):ro(dt,Nt?Yt+1:0,Nt?Ut:Yt)}function Rm(dt,vt){var Pt=dt;return Pt instanceof sn&&(Pt=Pt.value()),Su(vt,function(Nt,Ut){return Ut.func.apply(Ut.thisArg,ko([Nt],Ut.args))},Pt)}function _d(dt,vt,Pt){var Nt=dt.length;if(Nt<2)return Nt?Mo(dt[0]):[];for(var Ut=-1,Yt=vr(Nt);++Ut<Nt;)for(var tr=dt[Ut],ir=-1;++ir<Nt;)ir!=Ut&&(Yt[Ut]=Zs(Yt[Ut]||tr,dt[ir],vt,Pt));return Mo(Dn(Yt,1),vt,Pt)}function Am(dt,vt,Pt){for(var Nt=-1,Ut=dt.length,Yt=vt.length,tr={};++Nt<Ut;){var ir=Nt<Yt?vt[Nt]:s;Pt(tr,dt[Nt],ir)}return tr}function _f(dt){return bn(dt)?dt:[]}function _h(dt){return typeof dt=="function"?dt:Wn}function Lo(dt,vt){return Yr(dt)?dt:cp(dt,vt)?[dt]:ty(cn(dt))}var M_=tn;function jo(dt,vt,Pt){var Nt=dt.length;return Pt=Pt===s?Nt:Pt,!vt&&Pt>=Nt?dt:ro(dt,vt,Pt)}var wm=Tv||function(dt){return kn.clearTimeout(dt)};function Sm(dt,vt){if(vt)return dt.slice();var Pt=dt.length,Nt=Qp?Qp(Pt):new dt.constructor(Pt);return dt.copy(Nt),Nt}function ep(dt){var vt=new dt.constructor(dt.byteLength);return new Ul(vt).set(new Ul(dt)),vt}function L_(dt,vt){var Pt=vt?ep(dt.buffer):dt.buffer;return new dt.constructor(Pt,dt.byteOffset,dt.byteLength)}function j_(dt){var vt=new dt.constructor(dt.source,Ho.exec(dt));return vt.lastIndex=dt.lastIndex,vt}function N_(dt){return Xs?pn(Xs.call(dt)):{}}function Cm(dt,vt){var Pt=vt?ep(dt.buffer):dt.buffer;return new dt.constructor(Pt,dt.byteOffset,dt.length)}function $m(dt,vt){if(dt!==vt){var Pt=dt!==s,Nt=dt===null,Ut=dt===dt,Yt=Kn(dt),tr=vt!==s,ir=vt===null,hr=vt===vt,xr=Kn(vt);if(!ir&&!xr&&!Yt&&dt>vt||Yt&&tr&&hr&&!ir&&!xr||Nt&&tr&&hr||!Pt&&hr||!Ut)return 1;if(!Nt&&!Yt&&!xr&&dt<vt||xr&&Pt&&Ut&&!Nt&&!Yt||ir&&Pt&&Ut||!tr&&Ut||!hr)return-1}return 0}function F_(dt,vt,Pt){for(var Nt=-1,Ut=dt.criteria,Yt=vt.criteria,tr=Ut.length,ir=Pt.length;++Nt<tr;){var hr=$m(Ut[Nt],Yt[Nt]);if(hr){if(Nt>=ir)return hr;var xr=Pt[Nt];return hr*(xr=="desc"?-1:1)}}return dt.index-vt.index}function km(dt,vt,Pt,Nt){for(var Ut=-1,Yt=dt.length,tr=Pt.length,ir=-1,hr=vt.length,xr=wn(Yt-tr,0),br=vr(hr+xr),Pr=!Nt;++ir<hr;)br[ir]=vt[ir];for(;++Ut<tr;)(Pr||Ut<Yt)&&(br[Pt[Ut]]=dt[Ut]);for(;xr--;)br[ir++]=dt[Ut++];return br}function Dm(dt,vt,Pt,Nt){for(var Ut=-1,Yt=dt.length,tr=-1,ir=Pt.length,hr=-1,xr=vt.length,br=wn(Yt-ir,0),Pr=vr(br+xr),Dr=!Nt;++Ut<br;)Pr[Ut]=dt[Ut];for(var Fr=Ut;++hr<xr;)Pr[Fr+hr]=vt[hr];for(;++tr<ir;)(Dr||Ut<Yt)&&(Pr[Fr+Pt[tr]]=dt[Ut++]);return Pr}function Bn(dt,vt){var Pt=-1,Nt=dt.length;for(vt||(vt=vr(Nt));++Pt<Nt;)vt[Pt]=dt[Pt];return vt}function po(dt,vt,Pt,Nt){var Ut=!Pt;Pt||(Pt={});for(var Yt=-1,tr=vt.length;++Yt<tr;){var ir=vt[Yt],hr=Nt?Nt(Pt[ir],dt[ir],ir,Pt,dt):s;hr===s&&(hr=dt[ir]),Ut?bo(Pt,ir,hr):Js(Pt,ir,hr)}return Pt}function B_(dt,vt){return po(dt,up(dt),vt)}function U_(dt,vt){return po(dt,Hm(dt),vt)}function iu(dt,vt){return function(Pt,Nt){var Ut=Yr(Pt)?Gy:c_,Yt=vt?vt():{};return Ut(Pt,dt,Wr(Nt,2),Yt)}}function ws(dt){return tn(function(vt,Pt){var Nt=-1,Ut=Pt.length,Yt=Ut>1?Pt[Ut-1]:s,tr=Ut>2?Pt[2]:s;for(Yt=dt.length>3&&typeof Yt=="function"?(Ut--,Yt):s,tr&&Nn(Pt[0],Pt[1],tr)&&(Yt=Ut<3?s:Yt,Ut=1),vt=pn(vt);++Nt<Ut;){var ir=Pt[Nt];ir&&dt(vt,ir,Nt,Yt)}return vt})}function Om(dt,vt){return function(Pt,Nt){if(Pt==null)return Pt;if(!Un(Pt))return dt(Pt,Nt);for(var Ut=Pt.length,Yt=vt?Ut:-1,tr=pn(Pt);(vt?Yt--:++Yt<Ut)&&Nt(tr[Yt],Yt,tr)!==!1;);return Pt}}function Vm(dt){return function(vt,Pt,Nt){for(var Ut=-1,Yt=pn(vt),tr=Nt(vt),ir=tr.length;ir--;){var hr=tr[dt?ir:++Ut];if(Pt(Yt[hr],hr,Yt)===!1)break}return vt}}function z_(dt,vt,Pt){var Nt=vt&yt,Ut=_l(dt);function Yt(){var tr=this&&this!==kn&&this instanceof Yt?Ut:dt;return tr.apply(Nt?Pt:this,arguments)}return Yt}function Mm(dt){return function(vt){vt=cn(vt);var Pt=xs(vt)?lo(vt):s,Nt=Pt?Pt[0]:vt.charAt(0),Ut=Pt?jo(Pt,1).join(""):vt.slice(1);return Nt[dt]()+Ut}}function Ss(dt){return function(vt){return Su(Dy(ky(vt).replace(Sn,"")),dt,"")}}function _l(dt){return function(){var vt=arguments;switch(vt.length){case 0:return new dt;case 1:return new dt(vt[0]);case 2:return new dt(vt[0],vt[1]);case 3:return new dt(vt[0],vt[1],vt[2]);case 4:return new dt(vt[0],vt[1],vt[2],vt[3]);case 5:return new dt(vt[0],vt[1],vt[2],vt[3],vt[4]);case 6:return new dt(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5]);case 7:return new dt(vt[0],vt[1],vt[2],vt[3],vt[4],vt[5],vt[6])}var Pt=As(dt.prototype),Nt=dt.apply(Pt,vt);return En(Nt)?Nt:Pt}}function W_(dt,vt,Pt){var Nt=_l(dt);function Ut(){for(var Yt=arguments.length,tr=vr(Yt),ir=Yt,hr=Cs(Ut);ir--;)tr[ir]=arguments[ir];var xr=Yt<3&&tr[0]!==hr&&tr[Yt-1]!==hr?[]:Do(tr,hr);if(Yt-=xr.length,Yt<Pt)return Bm(dt,vt,ou,Ut.placeholder,s,tr,xr,s,s,Pt-Yt);var br=this&&this!==kn&&this instanceof Ut?Nt:dt;return qn(br,this,tr)}return Ut}function Lm(dt){return function(vt,Pt,Nt){var Ut=pn(vt);if(!Un(vt)){var Yt=Wr(Pt,3);vt=Cn(vt),Pt=function(ir){return Yt(Ut[ir],ir,Ut)}}var tr=dt(vt,Pt,Nt);return tr>-1?Ut[Yt?vt[tr]:tr]:s}}function jm(dt){return Po(function(vt){var Pt=vt.length,Nt=Pt,Ut=eo.prototype.thru;for(dt&&vt.reverse();Nt--;){var Yt=vt[Nt];if(typeof Yt!="function")throw new _i(rt);if(Ut&&!tr&&uu(Yt)=="wrapper")var tr=new eo([],!0)}for(Nt=tr?Nt:Pt;++Nt<Pt;){Yt=vt[Nt];var ir=uu(Yt),hr=ir=="wrapper"?ap(Yt):s;hr&&dp(hr[0])&&hr[1]==(xt|ct|Et|Tt)&&!hr[4].length&&hr[9]==1?tr=tr[uu(hr[0])].apply(tr,hr[3]):tr=Yt.length==1&&dp(Yt)?tr[ir]():tr.thru(Yt)}return function(){var xr=arguments,br=xr[0];if(tr&&xr.length==1&&Yr(br))return tr.plant(br).value();for(var Pr=0,Dr=Pt?vt[Pr].apply(this,xr):br;++Pr<Pt;)Dr=vt[Pr].call(this,Dr);return Dr}})}function ou(dt,vt,Pt,Nt,Ut,Yt,tr,ir,hr,xr){var br=vt&xt,Pr=vt&yt,Dr=vt&ht,Fr=vt&(ct|gt),qr=vt&wt,en=Dr?s:_l(dt);function Hr(){for(var nn=arguments.length,an=vr(nn),Qn=nn;Qn--;)an[Qn]=arguments[Qn];if(Fr)var Fn=Cs(Hr),Yn=rv(an,Fn);if(Nt&&(an=km(an,Nt,Ut,Fr)),Yt&&(an=Dm(an,Yt,tr,Fr)),nn-=Yn,Fr&&nn<xr){var Tn=Do(an,Fn);return Bm(dt,vt,ou,Hr.placeholder,Pt,an,Tn,ir,hr,xr-nn)}var fo=Pr?Pt:this,wo=Dr?fo[dt]:dt;return nn=an.length,ir?an=cE(an,ir):qr&&nn>1&&an.reverse(),br&&hr<nn&&(an.length=hr),this&&this!==kn&&this instanceof Hr&&(wo=en||_l(wo)),wo.apply(fo,an)}return Hr}function Nm(dt,vt){return function(Pt,Nt){return v_(Pt,dt,vt(Nt),{})}}function su(dt,vt){return function(Pt,Nt){var Ut;if(Pt===s&&Nt===s)return vt;if(Pt!==s&&(Ut=Pt),Nt!==s){if(Ut===s)return Nt;typeof Pt=="string"||typeof Nt=="string"?(Pt=Gn(Pt),Nt=Gn(Nt)):(Pt=Pm(Pt),Nt=Pm(Nt)),Ut=dt(Pt,Nt)}return Ut}}function tp(dt){return Po(function(vt){return vt=_n(vt,Hn(Wr())),tn(function(Pt){var Nt=this;return dt(vt,function(Ut){return qn(Ut,Nt,Pt)})})})}function au(dt,vt){vt=vt===s?" ":Gn(vt);var Pt=vt.length;if(Pt<2)return Pt?Ju(vt,dt):vt;var Nt=Ju(vt,Gl(dt/bs(vt)));return xs(vt)?jo(lo(Nt),0,dt).join(""):Nt.slice(0,dt)}function q_(dt,vt,Pt,Nt){var Ut=vt&yt,Yt=_l(dt);function tr(){for(var ir=-1,hr=arguments.length,xr=-1,br=Nt.length,Pr=vr(br+hr),Dr=this&&this!==kn&&this instanceof tr?Yt:dt;++xr<br;)Pr[xr]=Nt[xr];for(;hr--;)Pr[xr++]=arguments[++ir];return qn(Dr,Ut?Pt:this,Pr)}return tr}function Fm(dt){return function(vt,Pt,Nt){return Nt&&typeof Nt!="number"&&Nn(vt,Pt,Nt)&&(Pt=Nt=s),vt=Ao(vt),Pt===s?(Pt=vt,vt=0):Pt=Ao(Pt),Nt=Nt===s?vt<Pt?1:-1:Ao(Nt),C_(vt,Pt,Nt,dt)}}function lu(dt){return function(vt,Pt){return typeof vt=="string"&&typeof Pt=="string"||(vt=io(vt),Pt=io(Pt)),dt(vt,Pt)}}function Bm(dt,vt,Pt,Nt,Ut,Yt,tr,ir,hr,xr){var br=vt&ct,Pr=br?tr:s,Dr=br?s:tr,Fr=br?Yt:s,qr=br?s:Yt;vt|=br?Et:bt,vt&=~(br?bt:Et),vt&pt||(vt&=~(yt|ht));var en=[dt,vt,Ut,Fr,Pr,qr,Dr,ir,hr,xr],Hr=Pt.apply(s,en);return dp(dt)&&Zm(Hr,en),Hr.placeholder=Nt,_g(Hr,dt,vt)}function rp(dt){var vt=An[dt];return function(Pt,Nt){if(Pt=io(Pt),Nt=Nt==null?0:Vn(Jr(Nt),292),Nt&&Zp(Pt)){var Ut=(cn(Pt)+"e").split("e"),Yt=vt(Ut[0]+"e"+(+Ut[1]+Nt));return Ut=(cn(Yt)+"e").split("e"),+(Ut[0]+"e"+(+Ut[1]-Nt))}return vt(Pt)}}var H_=Is&&1/Vl(new Is([,-0]))[1]==Ct?function(dt){return new Is(dt)}:Rp;function Um(dt){return function(vt){var Pt=Mn(vt);return Pt==nr?Mu(vt):Pt==ar?uv(vt):tv(vt,dt(vt))}}function To(dt,vt,Pt,Nt,Ut,Yt,tr,ir){var hr=vt&ht;if(!hr&&typeof dt!="function")throw new _i(rt);var xr=Nt?Nt.length:0;if(xr||(vt&=~(Et|bt),Nt=Ut=s),tr=tr===s?tr:wn(Jr(tr),0),ir=ir===s?ir:Jr(ir),xr-=Ut?Ut.length:0,vt&bt){var br=Nt,Pr=Ut;Nt=Ut=s}var Dr=hr?s:ap(dt),Fr=[dt,vt,Pt,Nt,Ut,br,Pr,Yt,tr,ir];if(Dr&&aE(Fr,Dr),dt=Fr[0],vt=Fr[1],Pt=Fr[2],Nt=Fr[3],Ut=Fr[4],ir=Fr[9]=Fr[9]===s?hr?0:dt.length:wn(Fr[9]-xr,0),!ir&&vt&(ct|gt)&&(vt&=~(ct|gt)),!vt||vt==yt)var qr=z_(dt,vt,Pt);else vt==ct||vt==gt?qr=W_(dt,vt,ir):(vt==Et||vt==(yt|Et))&&!Ut.length?qr=q_(dt,vt,Pt,Nt):qr=ou.apply(s,Fr);var en=Dr?bm:Zm;return _g(en(qr,Fr),dt,vt)}function zm(dt,vt,Pt,Nt){return dt===s||co(dt,Ps[Pt])&&!dn.call(Nt,Pt)?vt:dt}function Wm(dt,vt,Pt,Nt,Ut,Yt){return En(dt)&&En(vt)&&(Yt.set(vt,dt),tu(dt,vt,s,Wm,Yt),Yt.delete(vt)),dt}function G_(dt){return Tl(dt)?s:dt}function qm(dt,vt,Pt,Nt,Ut,Yt){var tr=Pt&ft,ir=dt.length,hr=vt.length;if(ir!=hr&&!(tr&&hr>ir))return!1;var xr=Yt.get(dt),br=Yt.get(vt);if(xr&&br)return xr==vt&&br==dt;var Pr=-1,Dr=!0,Fr=Pt&mt?new Jo:s;for(Yt.set(dt,vt),Yt.set(vt,dt);++Pr<ir;){var qr=dt[Pr],en=vt[Pr];if(Nt)var Hr=tr?Nt(en,qr,Pr,vt,dt,Yt):Nt(qr,en,Pr,dt,vt,Yt);if(Hr!==s){if(Hr)continue;Dr=!1;break}if(Fr){if(!Cu(vt,function(nn,an){if(!Hs(Fr,an)&&(qr===nn||Ut(qr,nn,Pt,Nt,Yt)))return Fr.push(an)})){Dr=!1;break}}else if(!(qr===en||Ut(qr,en,Pt,Nt,Yt))){Dr=!1;break}}return Yt.delete(dt),Yt.delete(vt),Dr}function K_(dt,vt,Pt,Nt,Ut,Yt,tr){switch(Pt){case Vr:if(dt.byteLength!=vt.byteLength||dt.byteOffset!=vt.byteOffset)return!1;dt=dt.buffer,vt=vt.buffer;case zr:return!(dt.byteLength!=vt.byteLength||!Yt(new Ul(dt),new Ul(vt)));case Kt:case Qt:case yr:return co(+dt,+vt);case er:return dt.name==vt.name&&dt.message==vt.message;case pr:case mr:return dt==vt+"";case nr:var ir=Mu;case ar:var hr=Nt&ft;if(ir||(ir=Vl),dt.size!=vt.size&&!hr)return!1;var xr=tr.get(dt);if(xr)return xr==vt;Nt|=mt,tr.set(dt,vt);var br=qm(ir(dt),ir(vt),Nt,Ut,Yt,tr);return tr.delete(dt),br;case wr:if(Xs)return Xs.call(dt)==Xs.call(vt)}return!1}function Q_(dt,vt,Pt,Nt,Ut,Yt){var tr=Pt&ft,ir=np(dt),hr=ir.length,xr=np(vt),br=xr.length;if(hr!=br&&!tr)return!1;for(var Pr=hr;Pr--;){var Dr=ir[Pr];if(!(tr?Dr in vt:dn.call(vt,Dr)))return!1}var Fr=Yt.get(dt),qr=Yt.get(vt);if(Fr&&qr)return Fr==vt&&qr==dt;var en=!0;Yt.set(dt,vt),Yt.set(vt,dt);for(var Hr=tr;++Pr<hr;){Dr=ir[Pr];var nn=dt[Dr],an=vt[Dr];if(Nt)var Qn=tr?Nt(an,nn,Dr,vt,dt,Yt):Nt(nn,an,Dr,dt,vt,Yt);if(!(Qn===s?nn===an||Ut(nn,an,Pt,Nt,Yt):Qn)){en=!1;break}Hr||(Hr=Dr=="constructor")}if(en&&!Hr){var Fn=dt.constructor,Yn=vt.constructor;Fn!=Yn&&"constructor"in dt&&"constructor"in vt&&!(typeof Fn=="function"&&Fn instanceof Fn&&typeof Yn=="function"&&Yn instanceof Yn)&&(en=!1)}return Yt.delete(dt),Yt.delete(vt),en}function Po(dt){return hp(Xm(dt,s,oy),dt+"")}function np(dt){return dm(dt,Cn,up)}function sp(dt){return dm(dt,zn,Hm)}var ap=Ql?function(dt){return Ql.get(dt)}:Rp;function uu(dt){for(var vt=dt.name+"",Pt=Rs[vt],Nt=dn.call(Rs,vt)?Pt.length:0;Nt--;){var Ut=Pt[Nt],Yt=Ut.func;if(Yt==null||Yt==dt)return Ut.name}return vt}function Cs(dt){var vt=dn.call(Ht,"placeholder")?Ht:dt;return vt.placeholder}function Wr(){var dt=Ht.iteratee||Pp;return dt=dt===Pp?pm:dt,arguments.length?dt(arguments[0],arguments[1]):dt}function cu(dt,vt){var Pt=dt.__data__;return nE(vt)?Pt[typeof vt=="string"?"string":"hash"]:Pt.map}function lp(dt){for(var vt=Cn(dt),Pt=vt.length;Pt--;){var Nt=vt[Pt],Ut=dt[Nt];vt[Pt]=[Nt,Ut,Qm(Ut)]}return vt}function ts(dt,vt){var Pt=sv(dt,vt);return hm(Pt)?Pt:s}function Y_(dt){var vt=dn.call(dt,Yo),Pt=dt[Yo];try{dt[Yo]=s;var Nt=!0}catch{}var Ut=Fl.call(dt);return Nt&&(vt?dt[Yo]=Pt:delete dt[Yo]),Ut}var up=ju?function(dt){return dt==null?[]:(dt=pn(dt),$o(ju(dt),function(vt){return Xp.call(dt,vt)}))}:Ap,Hm=ju?function(dt){for(var vt=[];dt;)ko(vt,up(dt)),dt=zl(dt);return vt}:Ap,Mn=jn;(Nu&&Mn(new Nu(new ArrayBuffer(1)))!=Vr||Ks&&Mn(new Ks)!=nr||Fu&&Mn(Fu.resolve())!=lr||Is&&Mn(new Is)!=ar||Qs&&Mn(new Qs)!=Or)&&(Mn=function(dt){var vt=jn(dt),Pt=vt==Er?dt.constructor:s,Nt=Pt?rs(Pt):"";if(Nt)switch(Nt){case kv:return Vr;case Dv:return nr;case Ov:return lr;case Vv:return ar;case Mv:return Or}return vt});function X_(dt,vt,Pt){for(var Nt=-1,Ut=Pt.length;++Nt<Ut;){var Yt=Pt[Nt],tr=Yt.size;switch(Yt.type){case"drop":dt+=tr;break;case"dropRight":vt-=tr;break;case"take":vt=Vn(vt,dt+tr);break;case"takeRight":dt=wn(dt,vt-tr);break}}return{start:dt,end:vt}}function J_(dt){var vt=dt.match(yo);return vt?vt[1].split(us):[]}function Gm(dt,vt,Pt){vt=Lo(vt,dt);for(var Nt=-1,Ut=vt.length,Yt=!1;++Nt<Ut;){var tr=mo(vt[Nt]);if(!(Yt=dt!=null&&Pt(dt,tr)))break;dt=dt[tr]}return Yt||++Nt!=Ut?Yt:(Ut=dt==null?0:dt.length,!!Ut&&yu(Ut)&&Io(tr,Ut)&&(Yr(dt)||ns(dt)))}function Z_(dt){var vt=dt.length,Pt=new dt.constructor(vt);return vt&&typeof dt[0]=="string"&&dn.call(dt,"index")&&(Pt.index=dt.index,Pt.input=dt.input),Pt}function Km(dt){return typeof dt.constructor=="function"&&!El(dt)?As(zl(dt)):{}}function eE(dt,vt,Pt){var Nt=dt.constructor;switch(vt){case zr:return ep(dt);case Kt:case Qt:return new Nt(+dt);case Vr:return L_(dt,Pt);case Mr:case Br:case fn:case In:case Nr:case on:case ln:case Rn:case oo:return Cm(dt,Pt);case nr:return new Nt;case yr:case mr:return new Nt(dt);case pr:return j_(dt);case ar:return new Nt;case wr:return N_(dt)}}function tE(dt,vt){var Pt=vt.length;if(!Pt)return dt;var Nt=Pt-1;return vt[Nt]=(Pt>1?"& ":"")+vt[Nt],vt=vt.join(Pt>2?", ":" "),dt.replace(Ln,`{
/* [wrapped with `+vt+`] */
`)}function rE(dt){return Yr(dt)||ns(dt)||!!(Jp&&dt&&dt[Jp])}function Io(dt,vt){var Pt=typeof dt;return vt=vt??St,!!vt&&(Pt=="number"||Pt!="symbol"&&hs.test(dt))&&dt>-1&&dt%1==0&&dt<vt}function Nn(dt,vt,Pt){if(!En(Pt))return!1;var Nt=typeof vt;return(Nt=="number"?Un(Pt)&&Io(vt,Pt.length):Nt=="string"&&vt in Pt)?co(Pt[vt],dt):!1}function cp(dt,vt){if(Yr(dt))return!1;var Pt=typeof dt;return Pt=="number"||Pt=="symbol"||Pt=="boolean"||dt==null||Kn(dt)?!0:Ms.test(dt)||!Vs.test(dt)||vt!=null&&dt in pn(vt)}function nE(dt){var vt=typeof dt;return vt=="string"||vt=="number"||vt=="symbol"||vt=="boolean"?dt!=="__proto__":dt===null}function dp(dt){var vt=uu(dt),Pt=Ht[vt];if(typeof Pt!="function"||!(vt in sn.prototype))return!1;if(dt===Pt)return!0;var Nt=ap(Pt);return!!Nt&&dt===Nt[0]}function iE(dt){return!!Kp&&Kp in dt}var oE=Ll?Ro:wp;function El(dt){var vt=dt&&dt.constructor,Pt=typeof vt=="function"&&vt.prototype||Ps;return dt===Pt}function Qm(dt){return dt===dt&&!En(dt)}function Ym(dt,vt){return function(Pt){return Pt==null?!1:Pt[dt]===vt&&(vt!==s||dt in pn(Pt))}}function sE(dt){var vt=mu(dt,function(Nt){return Pt.size===ot&&Pt.clear(),Nt}),Pt=vt.cache;return vt}function aE(dt,vt){var Pt=dt[1],Nt=vt[1],Ut=Pt|Nt,Yt=Ut<(yt|ht|xt),tr=Nt==xt&&Pt==ct||Nt==xt&&Pt==Tt&&dt[7].length<=vt[8]||Nt==(xt|Tt)&&vt[7].length<=vt[8]&&Pt==ct;if(!(Yt||tr))return dt;Nt&yt&&(dt[2]=vt[2],Ut|=Pt&yt?0:pt);var ir=vt[3];if(ir){var hr=dt[3];dt[3]=hr?km(hr,ir,vt[4]):ir,dt[4]=hr?Do(dt[3],st):vt[4]}return ir=vt[5],ir&&(hr=dt[5],dt[5]=hr?Dm(hr,ir,vt[6]):ir,dt[6]=hr?Do(dt[5],st):vt[6]),ir=vt[7],ir&&(dt[7]=ir),Nt&xt&&(dt[8]=dt[8]==null?vt[8]:Vn(dt[8],vt[8])),dt[9]==null&&(dt[9]=vt[9]),dt[0]=vt[0],dt[1]=Ut,dt}function lE(dt){var vt=[];if(dt!=null)for(var Pt in pn(dt))vt.push(Pt);return vt}function uE(dt){return Fl.call(dt)}function Xm(dt,vt,Pt){return vt=wn(vt===s?dt.length-1:vt,0),function(){for(var Nt=arguments,Ut=-1,Yt=wn(Nt.length-vt,0),tr=vr(Yt);++Ut<Yt;)tr[Ut]=Nt[vt+Ut];Ut=-1;for(var ir=vr(vt+1);++Ut<vt;)ir[Ut]=Nt[Ut];return ir[vt]=Pt(tr),qn(dt,this,ir)}}function Jm(dt,vt){return vt.length<2?dt:es(dt,ro(vt,0,-1))}function cE(dt,vt){for(var Pt=dt.length,Nt=Vn(vt.length,Pt),Ut=Bn(dt);Nt--;){var Yt=vt[Nt];dt[Nt]=Io(Yt,Pt)?Ut[Yt]:s}return dt}function fp(dt,vt){if(!(vt==="constructor"&&typeof dt[vt]=="function")&&vt!="__proto__")return dt[vt]}var Zm=ey(bm),xl=Iv||function(dt,vt){return kn.setTimeout(dt,vt)},hp=ey(D_);function _g(dt,vt,Pt){var Nt=vt+"";return hp(dt,tE(Nt,dE(J_(Nt),Pt)))}function ey(dt){var vt=0,Pt=0;return function(){var Nt=Sv(),Ut=Vt-(Nt-Pt);if(Pt=Nt,Ut>0){if(++vt>=kt)return arguments[0]}else vt=0;return dt.apply(s,arguments)}}function du(dt,vt){var Pt=-1,Nt=dt.length,Ut=Nt-1;for(vt=vt===s?Nt:vt;++Pt<vt;){var Yt=Xu(Pt,Ut),tr=dt[Yt];dt[Yt]=dt[Pt],dt[Pt]=tr}return dt.length=vt,dt}var ty=sE(function(dt){var vt=[];return dt.charCodeAt(0)===46&&vt.push(""),dt.replace(zo,function(Pt,Nt,Ut,Yt){vt.push(Ut?Yt.replace(cs,"$1"):Nt||Pt)}),vt});function mo(dt){if(typeof dt=="string"||Kn(dt))return dt;var vt=dt+"";return vt=="0"&&1/dt==-Ct?"-0":vt}function rs(dt){if(dt!=null){try{return Nl.call(dt)}catch{}try{return dt+""}catch{}}return""}function dE(dt,vt){return Zn(zt,function(Pt){var Nt="_."+Pt[0];vt&Pt[1]&&!Dl(dt,Nt)&&dt.push(Nt)}),dt.sort()}function ry(dt){if(dt instanceof sn)return dt.clone();var vt=new eo(dt.__wrapped__,dt.__chain__);return vt.__actions__=Bn(dt.__actions__),vt.__index__=dt.__index__,vt.__values__=dt.__values__,vt}function fE(dt,vt,Pt){(Pt?Nn(dt,vt,Pt):vt===s)?vt=1:vt=wn(Jr(vt),0);var Nt=dt==null?0:dt.length;if(!Nt||vt<1)return[];for(var Ut=0,Yt=0,tr=vr(Gl(Nt/vt));Ut<Nt;)tr[Yt++]=ro(dt,Ut,Ut+=vt);return tr}function hE(dt){for(var vt=-1,Pt=dt==null?0:dt.length,Nt=0,Ut=[];++vt<Pt;){var Yt=dt[vt];Yt&&(Ut[Nt++]=Yt)}return Ut}function pE(){var dt=arguments.length;if(!dt)return[];for(var vt=vr(dt-1),Pt=arguments[0],Nt=dt;Nt--;)vt[Nt-1]=arguments[Nt];return ko(Yr(Pt)?Bn(Pt):[Pt],Dn(vt,1))}var mE=tn(function(dt,vt){return bn(dt)?Zs(dt,Dn(vt,1,bn,!0)):[]}),gE=tn(function(dt,vt){var Pt=no(vt);return bn(Pt)&&(Pt=s),bn(dt)?Zs(dt,Dn(vt,1,bn,!0),Wr(Pt,2)):[]}),yE=tn(function(dt,vt){var Pt=no(vt);return bn(Pt)&&(Pt=s),bn(dt)?Zs(dt,Dn(vt,1,bn,!0),s,Pt):[]});function vE(dt,vt,Pt){var Nt=dt==null?0:dt.length;return Nt?(vt=Pt||vt===s?1:Jr(vt),ro(dt,vt<0?0:vt,Nt)):[]}function _E(dt,vt,Pt){var Nt=dt==null?0:dt.length;return Nt?(vt=Pt||vt===s?1:Jr(vt),vt=Nt-vt,ro(dt,0,vt<0?0:vt)):[]}function EE(dt,vt){return dt&&dt.length?nu(dt,Wr(vt,3),!0,!0):[]}function xE(dt,vt){return dt&&dt.length?nu(dt,Wr(vt,3),!0):[]}function bE(dt,vt,Pt,Nt){var Ut=dt==null?0:dt.length;return Ut?(Pt&&typeof Pt!="number"&&Nn(dt,vt,Pt)&&(Pt=0,Nt=Ut),p_(dt,vt,Pt,Nt)):[]}function ny(dt,vt,Pt){var Nt=dt==null?0:dt.length;if(!Nt)return-1;var Ut=Pt==null?0:Jr(Pt);return Ut<0&&(Ut=wn(Nt+Ut,0)),Ol(dt,Wr(vt,3),Ut)}function iy(dt,vt,Pt){var Nt=dt==null?0:dt.length;if(!Nt)return-1;var Ut=Nt-1;return Pt!==s&&(Ut=Jr(Pt),Ut=Pt<0?wn(Nt+Ut,0):Vn(Ut,Nt-1)),Ol(dt,Wr(vt,3),Ut,!0)}function oy(dt){var vt=dt==null?0:dt.length;return vt?Dn(dt,1):[]}function TE(dt){var vt=dt==null?0:dt.length;return vt?Dn(dt,Ct):[]}function PE(dt,vt){var Pt=dt==null?0:dt.length;return Pt?(vt=vt===s?1:Jr(vt),Dn(dt,vt)):[]}function IE(dt){for(var vt=-1,Pt=dt==null?0:dt.length,Nt={};++vt<Pt;){var Ut=dt[vt];Nt[Ut[0]]=Ut[1]}return Nt}function sy(dt){return dt&&dt.length?dt[0]:s}function RE(dt,vt,Pt){var Nt=dt==null?0:dt.length;if(!Nt)return-1;var Ut=Pt==null?0:Jr(Pt);return Ut<0&&(Ut=wn(Nt+Ut,0)),Es(dt,vt,Ut)}function AE(dt){var vt=dt==null?0:dt.length;return vt?ro(dt,0,-1):[]}var wE=tn(function(dt){var vt=_n(dt,_f);return vt.length&&vt[0]===dt[0]?Hu(vt):[]}),SE=tn(function(dt){var vt=no(dt),Pt=_n(dt,_f);return vt===no(Pt)?vt=s:Pt.pop(),Pt.length&&Pt[0]===dt[0]?Hu(Pt,Wr(vt,2)):[]}),CE=tn(function(dt){var vt=no(dt),Pt=_n(dt,_f);return vt=typeof vt=="function"?vt:s,vt&&Pt.pop(),Pt.length&&Pt[0]===dt[0]?Hu(Pt,s,vt):[]});function $E(dt,vt){return dt==null?"":Av.call(dt,vt)}function no(dt){var vt=dt==null?0:dt.length;return vt?dt[vt-1]:s}function kE(dt,vt,Pt){var Nt=dt==null?0:dt.length;if(!Nt)return-1;var Ut=Nt;return Pt!==s&&(Ut=Jr(Pt),Ut=Ut<0?wn(Nt+Ut,0):Vn(Ut,Nt-1)),vt===vt?dv(dt,vt,Ut):Ol(dt,Fp,Ut,!0)}function DE(dt,vt){return dt&&dt.length?vm(dt,Jr(vt)):s}var OE=tn(ay);function ay(dt,vt){return dt&&dt.length&&vt&&vt.length?Yu(dt,vt):dt}function VE(dt,vt,Pt){return dt&&dt.length&&vt&&vt.length?Yu(dt,vt,Wr(Pt,2)):dt}function ME(dt,vt,Pt){return dt&&dt.length&&vt&&vt.length?Yu(dt,vt,s,Pt):dt}var LE=Po(function(dt,vt){var Pt=dt==null?0:dt.length,Nt=Uu(dt,vt);return xm(dt,_n(vt,function(Ut){return Io(Ut,Pt)?+Ut:Ut}).sort($m)),Nt});function jE(dt,vt){var Pt=[];if(!(dt&&dt.length))return Pt;var Nt=-1,Ut=[],Yt=dt.length;for(vt=Wr(vt,3);++Nt<Yt;){var tr=dt[Nt];vt(tr,Nt,dt)&&(Pt.push(tr),Ut.push(Nt))}return xm(dt,Ut),Pt}function pp(dt){return dt==null?dt:$v.call(dt)}function NE(dt,vt,Pt){var Nt=dt==null?0:dt.length;return Nt?(Pt&&typeof Pt!="number"&&Nn(dt,vt,Pt)?(vt=0,Pt=Nt):(vt=vt==null?0:Jr(vt),Pt=Pt===s?Nt:Jr(Pt)),ro(dt,vt,Pt)):[]}function FE(dt,vt){return ru(dt,vt)}function BE(dt,vt,Pt){return Zu(dt,vt,Wr(Pt,2))}function UE(dt,vt){var Pt=dt==null?0:dt.length;if(Pt){var Nt=ru(dt,vt);if(Nt<Pt&&co(dt[Nt],vt))return Nt}return-1}function zE(dt,vt){return ru(dt,vt,!0)}function WE(dt,vt,Pt){return Zu(dt,vt,Wr(Pt,2),!0)}function qE(dt,vt){var Pt=dt==null?0:dt.length;if(Pt){var Nt=ru(dt,vt,!0)-1;if(co(dt[Nt],vt))return Nt}return-1}function HE(dt){return dt&&dt.length?Tm(dt):[]}function GE(dt,vt){return dt&&dt.length?Tm(dt,Wr(vt,2)):[]}function KE(dt){var vt=dt==null?0:dt.length;return vt?ro(dt,1,vt):[]}function QE(dt,vt,Pt){return dt&&dt.length?(vt=Pt||vt===s?1:Jr(vt),ro(dt,0,vt<0?0:vt)):[]}function YE(dt,vt,Pt){var Nt=dt==null?0:dt.length;return Nt?(vt=Pt||vt===s?1:Jr(vt),vt=Nt-vt,ro(dt,vt<0?0:vt,Nt)):[]}function XE(dt,vt){return dt&&dt.length?nu(dt,Wr(vt,3),!1,!0):[]}function JE(dt,vt){return dt&&dt.length?nu(dt,Wr(vt,3)):[]}var ZE=tn(function(dt){return Mo(Dn(dt,1,bn,!0))}),ex=tn(function(dt){var vt=no(dt);return bn(vt)&&(vt=s),Mo(Dn(dt,1,bn,!0),Wr(vt,2))}),tx=tn(function(dt){var vt=no(dt);return vt=typeof vt=="function"?vt:s,Mo(Dn(dt,1,bn,!0),s,vt)});function rx(dt){return dt&&dt.length?Mo(dt):[]}function nx(dt,vt){return dt&&dt.length?Mo(dt,Wr(vt,2)):[]}function ix(dt,vt){return vt=typeof vt=="function"?vt:s,dt&&dt.length?Mo(dt,s,vt):[]}function mp(dt){if(!(dt&&dt.length))return[];var vt=0;return dt=$o(dt,function(Pt){if(bn(Pt))return vt=wn(Pt.length,vt),!0}),Ou(vt,function(Pt){return _n(dt,$u(Pt))})}function ly(dt,vt){if(!(dt&&dt.length))return[];var Pt=mp(dt);return vt==null?Pt:_n(Pt,function(Nt){return qn(vt,s,Nt)})}var ox=tn(function(dt,vt){return bn(dt)?Zs(dt,vt):[]}),sx=tn(function(dt){return _d($o(dt,bn))}),ax=tn(function(dt){var vt=no(dt);return bn(vt)&&(vt=s),_d($o(dt,bn),Wr(vt,2))}),lx=tn(function(dt){var vt=no(dt);return vt=typeof vt=="function"?vt:s,_d($o(dt,bn),s,vt)}),ux=tn(mp);function cx(dt,vt){return Am(dt||[],vt||[],Js)}function dx(dt,vt){return Am(dt||[],vt||[],yl)}var fx=tn(function(dt){var vt=dt.length,Pt=vt>1?dt[vt-1]:s;return Pt=typeof Pt=="function"?(dt.pop(),Pt):s,ly(dt,Pt)});function uy(dt){var vt=Ht(dt);return vt.__chain__=!0,vt}function hx(dt,vt){return vt(dt),dt}function fu(dt,vt){return vt(dt)}var px=Po(function(dt){var vt=dt.length,Pt=vt?dt[0]:0,Nt=this.__wrapped__,Ut=function(Yt){return Uu(Yt,dt)};return vt>1||this.__actions__.length||!(Nt instanceof sn)||!Io(Pt)?this.thru(Ut):(Nt=Nt.slice(Pt,+Pt+(vt?1:0)),Nt.__actions__.push({func:fu,args:[Ut],thisArg:s}),new eo(Nt,this.__chain__).thru(function(Yt){return vt&&!Yt.length&&Yt.push(s),Yt}))});function mx(){return uy(this)}function gx(){return new eo(this.value(),this.__chain__)}function yx(){this.__values__===s&&(this.__values__=Ty(this.value()));var dt=this.__index__>=this.__values__.length,vt=dt?s:this.__values__[this.__index__++];return{done:dt,value:vt}}function vx(){return this}function _x(dt){for(var vt,Pt=this;Pt instanceof Xl;){var Nt=ry(Pt);Nt.__index__=0,Nt.__values__=s,vt?Ut.__wrapped__=Nt:vt=Nt;var Ut=Nt;Pt=Pt.__wrapped__}return Ut.__wrapped__=dt,vt}function Ex(){var dt=this.__wrapped__;if(dt instanceof sn){var vt=dt;return this.__actions__.length&&(vt=new sn(this)),vt=vt.reverse(),vt.__actions__.push({func:fu,args:[pp],thisArg:s}),new eo(vt,this.__chain__)}return this.thru(pp)}function xx(){return Rm(this.__wrapped__,this.__actions__)}var bx=iu(function(dt,vt,Pt){dn.call(dt,Pt)?++dt[Pt]:bo(dt,Pt,1)});function Tx(dt,vt,Pt){var Nt=Yr(dt)?jp:h_;return Pt&&Nn(dt,vt,Pt)&&(vt=s),Nt(dt,Wr(vt,3))}function Px(dt,vt){var Pt=Yr(dt)?$o:um;return Pt(dt,Wr(vt,3))}var Ix=Lm(ny),Rx=Lm(iy);function Ax(dt,vt){return Dn(hu(dt,vt),1)}function wx(dt,vt){return Dn(hu(dt,vt),Ct)}function Sx(dt,vt,Pt){return Pt=Pt===s?1:Jr(Pt),Dn(hu(dt,vt),Pt)}function cy(dt,vt){var Pt=Yr(dt)?Zn:Vo;return Pt(dt,Wr(vt,3))}function dy(dt,vt){var Pt=Yr(dt)?Ky:lm;return Pt(dt,Wr(vt,3))}var Cx=iu(function(dt,vt,Pt){dn.call(dt,Pt)?dt[Pt].push(vt):bo(dt,Pt,[vt])});function $x(dt,vt,Pt,Nt){dt=Un(dt)?dt:ks(dt),Pt=Pt&&!Nt?Jr(Pt):0;var Ut=dt.length;return Pt<0&&(Pt=wn(Ut+Pt,0)),vu(dt)?Pt<=Ut&&dt.indexOf(vt,Pt)>-1:!!Ut&&Es(dt,vt,Pt)>-1}var kx=tn(function(dt,vt,Pt){var Nt=-1,Ut=typeof vt=="function",Yt=Un(dt)?vr(dt.length):[];return Vo(dt,function(tr){Yt[++Nt]=Ut?qn(vt,tr,Pt):ga(tr,vt,Pt)}),Yt}),Dx=iu(function(dt,vt,Pt){bo(dt,Pt,vt)});function hu(dt,vt){var Pt=Yr(dt)?_n:mm;return Pt(dt,Wr(vt,3))}function Ox(dt,vt,Pt,Nt){return dt==null?[]:(Yr(vt)||(vt=vt==null?[]:[vt]),Pt=Nt?s:Pt,Yr(Pt)||(Pt=Pt==null?[]:[Pt]),_m(dt,vt,Pt))}var Vx=iu(function(dt,vt,Pt){dt[Pt?0:1].push(vt)},function(){return[[],[]]});function Mx(dt,vt,Pt){var Nt=Yr(dt)?Su:Up,Ut=arguments.length<3;return Nt(dt,Wr(vt,4),Pt,Ut,Vo)}function Lx(dt,vt,Pt){var Nt=Yr(dt)?Qy:Up,Ut=arguments.length<3;return Nt(dt,Wr(vt,4),Pt,Ut,lm)}function jx(dt,vt){var Pt=Yr(dt)?$o:um;return Pt(dt,gu(Wr(vt,3)))}function Nx(dt){var vt=Yr(dt)?im:$_;return vt(dt)}function Fx(dt,vt,Pt){(Pt?Nn(dt,vt,Pt):vt===s)?vt=1:vt=Jr(vt);var Nt=Yr(dt)?l_:k_;return Nt(dt,vt)}function Bx(dt){var vt=Yr(dt)?u_:O_;return vt(dt)}function Ux(dt){if(dt==null)return 0;if(Un(dt))return vu(dt)?bs(dt):dt.length;var vt=Mn(dt);return vt==nr||vt==ar?dt.size:Ku(dt).length}function zx(dt,vt,Pt){var Nt=Yr(dt)?Cu:V_;return Pt&&Nn(dt,vt,Pt)&&(vt=s),Nt(dt,Wr(vt,3))}var Wx=tn(function(dt,vt){if(dt==null)return[];var Pt=vt.length;return Pt>1&&Nn(dt,vt[0],vt[1])?vt=[]:Pt>2&&Nn(vt[0],vt[1],vt[2])&&(vt=[vt[0]]),_m(dt,Dn(vt,1),[])}),pu=Pv||function(){return kn.Date.now()};function qx(dt,vt){if(typeof vt!="function")throw new _i(rt);return dt=Jr(dt),function(){if(--dt<1)return vt.apply(this,arguments)}}function fy(dt,vt,Pt){return vt=Pt?s:vt,vt=dt&&vt==null?dt.length:vt,To(dt,xt,s,s,s,s,vt)}function hy(dt,vt){var Pt;if(typeof vt!="function")throw new _i(rt);return dt=Jr(dt),function(){return--dt>0&&(Pt=vt.apply(this,arguments)),dt<=1&&(vt=s),Pt}}var gp=tn(function(dt,vt,Pt){var Nt=yt;if(Pt.length){var Ut=Do(Pt,Cs(gp));Nt|=Et}return To(dt,Nt,vt,Pt,Ut)}),py=tn(function(dt,vt,Pt){var Nt=yt|ht;if(Pt.length){var Ut=Do(Pt,Cs(py));Nt|=Et}return To(vt,Nt,dt,Pt,Ut)});function my(dt,vt,Pt){vt=Pt?s:vt;var Nt=To(dt,ct,s,s,s,s,s,vt);return Nt.placeholder=my.placeholder,Nt}function gy(dt,vt,Pt){vt=Pt?s:vt;var Nt=To(dt,gt,s,s,s,s,s,vt);return Nt.placeholder=gy.placeholder,Nt}function yy(dt,vt,Pt){var Nt,Ut,Yt,tr,ir,hr,xr=0,br=!1,Pr=!1,Dr=!0;if(typeof dt!="function")throw new _i(rt);vt=io(vt)||0,En(Pt)&&(br=!!Pt.leading,Pr="maxWait"in Pt,Yt=Pr?wn(io(Pt.maxWait)||0,vt):Yt,Dr="trailing"in Pt?!!Pt.trailing:Dr);function Fr(Tn){var fo=Nt,wo=Ut;return Nt=Ut=s,xr=Tn,tr=dt.apply(wo,fo),tr}function qr(Tn){return xr=Tn,ir=xl(nn,vt),br?Fr(Tn):tr}function en(Tn){var fo=Tn-hr,wo=Tn-xr,My=vt-fo;return Pr?Vn(My,Yt-wo):My}function Hr(Tn){var fo=Tn-hr,wo=Tn-xr;return hr===s||fo>=vt||fo<0||Pr&&wo>=Yt}function nn(){var Tn=pu();if(Hr(Tn))return an(Tn);ir=xl(nn,en(Tn))}function an(Tn){return ir=s,Dr&&Nt?Fr(Tn):(Nt=Ut=s,tr)}function Qn(){ir!==s&&wm(ir),xr=0,Nt=hr=Ut=ir=s}function Fn(){return ir===s?tr:an(pu())}function Yn(){var Tn=pu(),fo=Hr(Tn);if(Nt=arguments,Ut=this,hr=Tn,fo){if(ir===s)return qr(hr);if(Pr)return wm(ir),ir=xl(nn,vt),Fr(hr)}return ir===s&&(ir=xl(nn,vt)),tr}return Yn.cancel=Qn,Yn.flush=Fn,Yn}var Hx=tn(function(dt,vt){return am(dt,1,vt)}),Gx=tn(function(dt,vt,Pt){return am(dt,io(vt)||0,Pt)});function Kx(dt){return To(dt,wt)}function mu(dt,vt){if(typeof dt!="function"||vt!=null&&typeof vt!="function")throw new _i(rt);var Pt=function(){var Nt=arguments,Ut=vt?vt.apply(this,Nt):Nt[0],Yt=Pt.cache;if(Yt.has(Ut))return Yt.get(Ut);var tr=dt.apply(this,Nt);return Pt.cache=Yt.set(Ut,tr)||Yt,tr};return Pt.cache=new(mu.Cache||xo),Pt}mu.Cache=xo;function gu(dt){if(typeof dt!="function")throw new _i(rt);return function(){var vt=arguments;switch(vt.length){case 0:return!dt.call(this);case 1:return!dt.call(this,vt[0]);case 2:return!dt.call(this,vt[0],vt[1]);case 3:return!dt.call(this,vt[0],vt[1],vt[2])}return!dt.apply(this,vt)}}function Qx(dt){return hy(2,dt)}var Yx=M_(function(dt,vt){vt=vt.length==1&&Yr(vt[0])?_n(vt[0],Hn(Wr())):_n(Dn(vt,1),Hn(Wr()));var Pt=vt.length;return tn(function(Nt){for(var Ut=-1,Yt=Vn(Nt.length,Pt);++Ut<Yt;)Nt[Ut]=vt[Ut].call(this,Nt[Ut]);return qn(dt,this,Nt)})}),yp=tn(function(dt,vt){var Pt=Do(vt,Cs(yp));return To(dt,Et,s,vt,Pt)}),vy=tn(function(dt,vt){var Pt=Do(vt,Cs(vy));return To(dt,bt,s,vt,Pt)}),Xx=Po(function(dt,vt){return To(dt,Tt,s,s,s,vt)});function Jx(dt,vt){if(typeof dt!="function")throw new _i(rt);return vt=vt===s?vt:Jr(vt),tn(dt,vt)}function Zx(dt,vt){if(typeof dt!="function")throw new _i(rt);return vt=vt==null?0:wn(Jr(vt),0),tn(function(Pt){var Nt=Pt[vt],Ut=jo(Pt,0,vt);return Nt&&ko(Ut,Nt),qn(dt,this,Ut)})}function e1(dt,vt,Pt){var Nt=!0,Ut=!0;if(typeof dt!="function")throw new _i(rt);return En(Pt)&&(Nt="leading"in Pt?!!Pt.leading:Nt,Ut="trailing"in Pt?!!Pt.trailing:Ut),yy(dt,vt,{leading:Nt,maxWait:vt,trailing:Ut})}function t1(dt){return fy(dt,1)}function r1(dt,vt){return yp(_h(vt),dt)}function n1(){if(!arguments.length)return[];var dt=arguments[0];return Yr(dt)?dt:[dt]}function i1(dt){return to(dt,ut)}function o1(dt,vt){return vt=typeof vt=="function"?vt:s,to(dt,ut,vt)}function s1(dt){return to(dt,lt|ut)}function a1(dt,vt){return vt=typeof vt=="function"?vt:s,to(dt,lt|ut,vt)}function l1(dt,vt){return vt==null||sm(dt,vt,Cn(vt))}function co(dt,vt){return dt===vt||dt!==dt&&vt!==vt}var u1=lu(qu),c1=lu(function(dt,vt){return dt>=vt}),ns=fm(function(){return arguments}())?fm:function(dt){return xn(dt)&&dn.call(dt,"callee")&&!Xp.call(dt,"callee")},Yr=vr.isArray,d1=kp?Hn(kp):__;function Un(dt){return dt!=null&&yu(dt.length)&&!Ro(dt)}function bn(dt){return xn(dt)&&Un(dt)}function f1(dt){return dt===!0||dt===!1||xn(dt)&&jn(dt)==Kt}var No=Rv||wp,h1=Dp?Hn(Dp):E_;function p1(dt){return xn(dt)&&dt.nodeType===1&&!Tl(dt)}function m1(dt){if(dt==null)return!0;if(Un(dt)&&(Yr(dt)||typeof dt=="string"||typeof dt.splice=="function"||No(dt)||$s(dt)||ns(dt)))return!dt.length;var vt=Mn(dt);if(vt==nr||vt==ar)return!dt.size;if(El(dt))return!Ku(dt).length;for(var Pt in dt)if(dn.call(dt,Pt))return!1;return!0}function g1(dt,vt){return _a(dt,vt)}function y1(dt,vt,Pt){Pt=typeof Pt=="function"?Pt:s;var Nt=Pt?Pt(dt,vt):s;return Nt===s?_a(dt,vt,s,Pt):!!Nt}function vp(dt){if(!xn(dt))return!1;var vt=jn(dt);return vt==er||vt==Xt||typeof dt.message=="string"&&typeof dt.name=="string"&&!Tl(dt)}function v1(dt){return typeof dt=="number"&&Zp(dt)}function Ro(dt){if(!En(dt))return!1;var vt=jn(dt);return vt==sr||vt==ur||vt==Wt||vt==dr}function _y(dt){return typeof dt=="number"&&dt==Jr(dt)}function yu(dt){return typeof dt=="number"&&dt>-1&&dt%1==0&&dt<=St}function En(dt){var vt=typeof dt;return dt!=null&&(vt=="object"||vt=="function")}function xn(dt){return dt!=null&&typeof dt=="object"}var Ey=Op?Hn(Op):b_;function _1(dt,vt){return dt===vt||Gu(dt,vt,lp(vt))}function E1(dt,vt,Pt){return Pt=typeof Pt=="function"?Pt:s,Gu(dt,vt,lp(vt),Pt)}function x1(dt){return xy(dt)&&dt!=+dt}function b1(dt){if(oE(dt))throw new Qr(tt);return hm(dt)}function T1(dt){return dt===null}function P1(dt){return dt==null}function xy(dt){return typeof dt=="number"||xn(dt)&&jn(dt)==yr}function Tl(dt){if(!xn(dt)||jn(dt)!=Er)return!1;var vt=zl(dt);if(vt===null)return!0;var Pt=dn.call(vt,"constructor")&&vt.constructor;return typeof Pt=="function"&&Pt instanceof Pt&&Nl.call(Pt)==Ev}var _p=Vp?Hn(Vp):T_;function I1(dt){return _y(dt)&&dt>=-St&&dt<=St}var by=Mp?Hn(Mp):P_;function vu(dt){return typeof dt=="string"||!Yr(dt)&&xn(dt)&&jn(dt)==mr}function Kn(dt){return typeof dt=="symbol"||xn(dt)&&jn(dt)==wr}var $s=Lp?Hn(Lp):I_;function R1(dt){return dt===s}function A1(dt){return xn(dt)&&Mn(dt)==Or}function w1(dt){return xn(dt)&&jn(dt)==Ur}var S1=lu(Qu),C1=lu(function(dt,vt){return dt<=vt});function Ty(dt){if(!dt)return[];if(Un(dt))return vu(dt)?lo(dt):Bn(dt);if(Gs&&dt[Gs])return lv(dt[Gs]());var vt=Mn(dt),Pt=vt==nr?Mu:vt==ar?Vl:ks;return Pt(dt)}function Ao(dt){if(!dt)return dt===0?dt:0;if(dt=io(dt),dt===Ct||dt===-Ct){var vt=dt<0?-1:1;return vt*$t}return dt===dt?dt:0}function Jr(dt){var vt=Ao(dt),Pt=vt%1;return vt===vt?Pt?vt-Pt:vt:0}function Py(dt){return dt?Zo(Jr(dt),0,Rt):0}function io(dt){if(typeof dt=="number")return dt;if(Kn(dt))return Lt;if(En(dt)){var vt=typeof dt.valueOf=="function"?dt.valueOf():dt;dt=En(vt)?vt+"":vt}if(typeof dt!="string")return dt===0?dt:+dt;dt=zp(dt);var Pt=js.test(dt);return Pt||Fs.test(dt)?qy(dt.slice(2),Pt?2:8):fs.test(dt)?Lt:+dt}function Iy(dt){return po(dt,zn(dt))}function $1(dt){return dt?Zo(Jr(dt),-St,St):dt===0?dt:0}function cn(dt){return dt==null?"":Gn(dt)}var k1=ws(function(dt,vt){if(El(vt)||Un(vt)){po(vt,Cn(vt),dt);return}for(var Pt in vt)dn.call(vt,Pt)&&Js(dt,Pt,vt[Pt])}),Ry=ws(function(dt,vt){po(vt,zn(vt),dt)}),_u=ws(function(dt,vt,Pt,Nt){po(vt,zn(vt),dt,Nt)}),D1=ws(function(dt,vt,Pt,Nt){po(vt,Cn(vt),dt,Nt)}),O1=Po(Uu);function V1(dt,vt){var Pt=As(dt);return vt==null?Pt:om(Pt,vt)}var M1=tn(function(dt,vt){dt=pn(dt);var Pt=-1,Nt=vt.length,Ut=Nt>2?vt[2]:s;for(Ut&&Nn(vt[0],vt[1],Ut)&&(Nt=1);++Pt<Nt;)for(var Yt=vt[Pt],tr=zn(Yt),ir=-1,hr=tr.length;++ir<hr;){var xr=tr[ir],br=dt[xr];(br===s||co(br,Ps[xr])&&!dn.call(dt,xr))&&(dt[xr]=Yt[xr])}return dt}),L1=tn(function(dt){return dt.push(s,Wm),qn(Ay,s,dt)});function j1(dt,vt){return Np(dt,Wr(vt,3),ho)}function N1(dt,vt){return Np(dt,Wr(vt,3),Wu)}function F1(dt,vt){return dt==null?dt:zu(dt,Wr(vt,3),zn)}function B1(dt,vt){return dt==null?dt:cm(dt,Wr(vt,3),zn)}function U1(dt,vt){return dt&&ho(dt,Wr(vt,3))}function z1(dt,vt){return dt&&Wu(dt,Wr(vt,3))}function W1(dt){return dt==null?[]:eu(dt,Cn(dt))}function q1(dt){return dt==null?[]:eu(dt,zn(dt))}function Ep(dt,vt,Pt){var Nt=dt==null?s:es(dt,vt);return Nt===s?Pt:Nt}function H1(dt,vt){return dt!=null&&Gm(dt,vt,m_)}function xp(dt,vt){return dt!=null&&Gm(dt,vt,g_)}var G1=Nm(function(dt,vt,Pt){vt!=null&&typeof vt.toString!="function"&&(vt=Fl.call(vt)),dt[vt]=Pt},Tp(Wn)),K1=Nm(function(dt,vt,Pt){vt!=null&&typeof vt.toString!="function"&&(vt=Fl.call(vt)),dn.call(dt,vt)?dt[vt].push(Pt):dt[vt]=[Pt]},Wr),Q1=tn(ga);function Cn(dt){return Un(dt)?rm(dt):Ku(dt)}function zn(dt){return Un(dt)?rm(dt,!0):R_(dt)}function Y1(dt,vt){var Pt={};return vt=Wr(vt,3),ho(dt,function(Nt,Ut,Yt){bo(Pt,vt(Nt,Ut,Yt),Nt)}),Pt}function X1(dt,vt){var Pt={};return vt=Wr(vt,3),ho(dt,function(Nt,Ut,Yt){bo(Pt,Ut,vt(Nt,Ut,Yt))}),Pt}var J1=ws(function(dt,vt,Pt){tu(dt,vt,Pt)}),Ay=ws(function(dt,vt,Pt,Nt){tu(dt,vt,Pt,Nt)}),Z1=Po(function(dt,vt){var Pt={};if(dt==null)return Pt;var Nt=!1;vt=_n(vt,function(Yt){return Yt=Lo(Yt,dt),Nt||(Nt=Yt.length>1),Yt}),po(dt,sp(dt),Pt),Nt&&(Pt=to(Pt,lt|at|ut,G_));for(var Ut=vt.length;Ut--;)_c(Pt,vt[Ut]);return Pt});function e0(dt,vt){return wy(dt,gu(Wr(vt)))}var t0=Po(function(dt,vt){return dt==null?{}:w_(dt,vt)});function wy(dt,vt){if(dt==null)return{};var Pt=_n(sp(dt),function(Nt){return[Nt]});return vt=Wr(vt),Em(dt,Pt,function(Nt,Ut){return vt(Nt,Ut[0])})}function r0(dt,vt,Pt){vt=Lo(vt,dt);var Nt=-1,Ut=vt.length;for(Ut||(Ut=1,dt=s);++Nt<Ut;){var Yt=dt==null?s:dt[mo(vt[Nt])];Yt===s&&(Nt=Ut,Yt=Pt),dt=Ro(Yt)?Yt.call(dt):Yt}return dt}function n0(dt,vt,Pt){return dt==null?dt:yl(dt,vt,Pt)}function i0(dt,vt,Pt,Nt){return Nt=typeof Nt=="function"?Nt:s,dt==null?dt:yl(dt,vt,Pt,Nt)}var Sy=Um(Cn),Cy=Um(zn);function o0(dt,vt,Pt){var Nt=Yr(dt),Ut=Nt||No(dt)||$s(dt);if(vt=Wr(vt,4),Pt==null){var Yt=dt&&dt.constructor;Ut?Pt=Nt?new Yt:[]:En(dt)?Pt=Ro(Yt)?As(zl(dt)):{}:Pt={}}return(Ut?Zn:ho)(dt,function(tr,ir,hr){return vt(Pt,tr,ir,hr)}),Pt}function s0(dt,vt){return dt==null?!0:_c(dt,vt)}function a0(dt,vt,Pt){return dt==null?dt:Im(dt,vt,_h(Pt))}function l0(dt,vt,Pt,Nt){return Nt=typeof Nt=="function"?Nt:s,dt==null?dt:Im(dt,vt,_h(Pt),Nt)}function ks(dt){return dt==null?[]:Vu(dt,Cn(dt))}function u0(dt){return dt==null?[]:Vu(dt,zn(dt))}function c0(dt,vt,Pt){return Pt===s&&(Pt=vt,vt=s),Pt!==s&&(Pt=io(Pt),Pt=Pt===Pt?Pt:0),vt!==s&&(vt=io(vt),vt=vt===vt?vt:0),Zo(io(dt),vt,Pt)}function d0(dt,vt,Pt){return vt=Ao(vt),Pt===s?(Pt=vt,vt=0):Pt=Ao(Pt),dt=io(dt),y_(dt,vt,Pt)}function f0(dt,vt,Pt){if(Pt&&typeof Pt!="boolean"&&Nn(dt,vt,Pt)&&(vt=Pt=s),Pt===s&&(typeof vt=="boolean"?(Pt=vt,vt=s):typeof dt=="boolean"&&(Pt=dt,dt=s)),dt===s&&vt===s?(dt=0,vt=1):(dt=Ao(dt),vt===s?(vt=dt,dt=0):vt=Ao(vt)),dt>vt){var Nt=dt;dt=vt,vt=Nt}if(Pt||dt%1||vt%1){var Ut=em();return Vn(dt+Ut*(vt-dt+Wy("1e-"+((Ut+"").length-1))),vt)}return Xu(dt,vt)}var h0=Ss(function(dt,vt,Pt){return vt=vt.toLowerCase(),dt+(Pt?$y(vt):vt)});function $y(dt){return bp(cn(dt).toLowerCase())}function ky(dt){return dt=cn(dt),dt&&dt.replace(Zr,nv).replace(_o,"")}function p0(dt,vt,Pt){dt=cn(dt),vt=Gn(vt);var Nt=dt.length;Pt=Pt===s?Nt:Zo(Jr(Pt),0,Nt);var Ut=Pt;return Pt-=vt.length,Pt>=0&&dt.slice(Pt,Ut)==vt}function m0(dt){return dt=cn(dt),dt&&ls.test(dt)?dt.replace(Fo,iv):dt}function g0(dt){return dt=cn(dt),dt&&Ls.test(dt)?dt.replace(go,"\\$&"):dt}var y0=Ss(function(dt,vt,Pt){return dt+(Pt?"-":"")+vt.toLowerCase()}),v0=Ss(function(dt,vt,Pt){return dt+(Pt?" ":"")+vt.toLowerCase()}),_0=Mm("toLowerCase");function E0(dt,vt,Pt){dt=cn(dt),vt=Jr(vt);var Nt=vt?bs(dt):0;if(!vt||Nt>=vt)return dt;var Ut=(vt-Nt)/2;return au(Kl(Ut),Pt)+dt+au(Gl(Ut),Pt)}function x0(dt,vt,Pt){dt=cn(dt),vt=Jr(vt);var Nt=vt?bs(dt):0;return vt&&Nt<vt?dt+au(vt-Nt,Pt):dt}function b0(dt,vt,Pt){dt=cn(dt),vt=Jr(vt);var Nt=vt?bs(dt):0;return vt&&Nt<vt?au(vt-Nt,Pt)+dt:dt}function T0(dt,vt,Pt){return Pt||vt==null?vt=0:vt&&(vt=+vt),Cv(cn(dt).replace(ao,""),vt||0)}function P0(dt,vt,Pt){return(Pt?Nn(dt,vt,Pt):vt===s)?vt=1:vt=Jr(vt),Ju(cn(dt),vt)}function I0(){var dt=arguments,vt=cn(dt[0]);return dt.length<3?vt:vt.replace(dt[1],dt[2])}var R0=Ss(function(dt,vt,Pt){return dt+(Pt?"_":"")+vt.toLowerCase()});function A0(dt,vt,Pt){return Pt&&typeof Pt!="number"&&Nn(dt,vt,Pt)&&(vt=Pt=s),Pt=Pt===s?Rt:Pt>>>0,Pt?(dt=cn(dt),dt&&(typeof vt=="string"||vt!=null&&!_p(vt))&&(vt=Gn(vt),!vt&&xs(dt))?jo(lo(dt),0,Pt):dt.split(vt,Pt)):[]}var w0=Ss(function(dt,vt,Pt){return dt+(Pt?" ":"")+bp(vt)});function S0(dt,vt,Pt){return dt=cn(dt),Pt=Pt==null?0:Zo(Jr(Pt),0,dt.length),vt=Gn(vt),dt.slice(Pt,Pt+vt.length)==vt}function C0(dt,vt,Pt){var Nt=Ht.templateSettings;Pt&&Nn(dt,vt,Pt)&&(vt=s),dt=cn(dt),vt=_u({},vt,Nt,zm);var Ut=_u({},vt.imports,Nt.imports,zm),Yt=Cn(Ut),tr=Vu(Ut,Yt),ir,hr,xr=0,br=vt.interpolate||Pn,Pr="__p += '",Dr=Lu((vt.escape||Pn).source+"|"+br.source+"|"+(br===Uo?ds:Pn).source+"|"+(vt.evaluate||Pn).source+"|$","g"),Fr="//# sourceURL="+(dn.call(vt,"sourceURL")?(vt.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Iu+"]")+`
`;dt.replace(Dr,function(Hr,nn,an,Qn,Fn,Yn){return an||(an=Qn),Pr+=dt.slice(xr,Yn).replace(Il,ov),nn&&(ir=!0,Pr+=`' +
__e(`+nn+`) +
'`),Fn&&(hr=!0,Pr+=`';
`+Fn+`;
__p += '`),an&&(Pr+=`' +
((__t = (`+an+`)) == null ? '' : __t) +
'`),xr=Yn+Hr.length,Hr}),Pr+=`';
`;var qr=dn.call(vt,"variable")&&vt.variable;if(!qr)Pr=`with (obj) {
`+Pr+`
}
`;else if(qo.test(qr))throw new Qr(nt);Pr=(hr?Pr.replace(os,""):Pr).replace(Ds,"$1").replace(Os,"$1;"),Pr="function("+(qr||"obj")+`) {
`+(qr?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ir?", __e = _.escape":"")+(hr?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+Pr+`return __p
}`;var en=Oy(function(){return un(Yt,Fr+"return "+Pr).apply(s,tr)});if(en.source=Pr,vp(en))throw en;return en}function $0(dt){return cn(dt).toLowerCase()}function k0(dt){return cn(dt).toUpperCase()}function D0(dt,vt,Pt){if(dt=cn(dt),dt&&(Pt||vt===s))return zp(dt);if(!dt||!(vt=Gn(vt)))return dt;var Nt=lo(dt),Ut=lo(vt),Yt=Wp(Nt,Ut),tr=qp(Nt,Ut)+1;return jo(Nt,Yt,tr).join("")}function O0(dt,vt,Pt){if(dt=cn(dt),dt&&(Pt||vt===s))return dt.slice(0,Gp(dt)+1);if(!dt||!(vt=Gn(vt)))return dt;var Nt=lo(dt),Ut=qp(Nt,lo(vt))+1;return jo(Nt,0,Ut).join("")}function V0(dt,vt,Pt){if(dt=cn(dt),dt&&(Pt||vt===s))return dt.replace(ao,"");if(!dt||!(vt=Gn(vt)))return dt;var Nt=lo(dt),Ut=Wp(Nt,lo(vt));return jo(Nt,Ut).join("")}function M0(dt,vt){var Pt=It,Nt=At;if(En(vt)){var Ut="separator"in vt?vt.separator:Ut;Pt="length"in vt?Jr(vt.length):Pt,Nt="omission"in vt?Gn(vt.omission):Nt}dt=cn(dt);var Yt=dt.length;if(xs(dt)){var tr=lo(dt);Yt=tr.length}if(Pt>=Yt)return dt;var ir=Pt-bs(Nt);if(ir<1)return Nt;var hr=tr?jo(tr,0,ir).join(""):dt.slice(0,ir);if(Ut===s)return hr+Nt;if(tr&&(ir+=hr.length-ir),_p(Ut)){if(dt.slice(ir).search(Ut)){var xr,br=hr;for(Ut.global||(Ut=Lu(Ut.source,cn(Ho.exec(Ut))+"g")),Ut.lastIndex=0;xr=Ut.exec(br);)var Pr=xr.index;hr=hr.slice(0,Pr===s?ir:Pr)}}else if(dt.indexOf(Gn(Ut),ir)!=ir){var Dr=hr.lastIndexOf(Ut);Dr>-1&&(hr=hr.slice(0,Dr))}return hr+Nt}function L0(dt){return dt=cn(dt),dt&&as.test(dt)?dt.replace(ss,fv):dt}var j0=Ss(function(dt,vt,Pt){return dt+(Pt?" ":"")+vt.toUpperCase()}),bp=Mm("toUpperCase");function Dy(dt,vt,Pt){return dt=cn(dt),vt=Pt?s:vt,vt===s?av(dt)?mv(dt):Jy(dt):dt.match(vt)||[]}var Oy=tn(function(dt,vt){try{return qn(dt,s,vt)}catch(Pt){return vp(Pt)?Pt:new Qr(Pt)}}),N0=Po(function(dt,vt){return Zn(vt,function(Pt){Pt=mo(Pt),bo(dt,Pt,gp(dt[Pt],dt))}),dt});function F0(dt){var vt=dt==null?0:dt.length,Pt=Wr();return dt=vt?_n(dt,function(Nt){if(typeof Nt[1]!="function")throw new _i(rt);return[Pt(Nt[0]),Nt[1]]}):[],tn(function(Nt){for(var Ut=-1;++Ut<vt;){var Yt=dt[Ut];if(qn(Yt[0],this,Nt))return qn(Yt[1],this,Nt)}})}function B0(dt){return f_(to(dt,lt))}function Tp(dt){return function(){return dt}}function U0(dt,vt){return dt==null||dt!==dt?vt:dt}var z0=jm(),W0=jm(!0);function Wn(dt){return dt}function Pp(dt){return pm(typeof dt=="function"?dt:to(dt,lt))}function q0(dt){return gm(to(dt,lt))}function H0(dt,vt){return ym(dt,to(vt,lt))}var G0=tn(function(dt,vt){return function(Pt){return ga(Pt,dt,vt)}}),K0=tn(function(dt,vt){return function(Pt){return ga(dt,Pt,vt)}});function Ip(dt,vt,Pt){var Nt=Cn(vt),Ut=eu(vt,Nt);Pt==null&&!(En(vt)&&(Ut.length||!Nt.length))&&(Pt=vt,vt=dt,dt=this,Ut=eu(vt,Cn(vt)));var Yt=!(En(Pt)&&"chain"in Pt)||!!Pt.chain,tr=Ro(dt);return Zn(Ut,function(ir){var hr=vt[ir];dt[ir]=hr,tr&&(dt.prototype[ir]=function(){var xr=this.__chain__;if(Yt||xr){var br=dt(this.__wrapped__),Pr=br.__actions__=Bn(this.__actions__);return Pr.push({func:hr,args:arguments,thisArg:dt}),br.__chain__=xr,br}return hr.apply(dt,ko([this.value()],arguments))})}),dt}function Q0(){return kn._===this&&(kn._=xv),this}function Rp(){}function Y0(dt){return dt=Jr(dt),tn(function(vt){return vm(vt,dt)})}var X0=tp(_n),J0=tp(jp),Z0=tp(Cu);function Vy(dt){return cp(dt)?$u(mo(dt)):S_(dt)}function _b(dt){return function(vt){return dt==null?s:es(dt,vt)}}var eT=Fm(),tT=Fm(!0);function Ap(){return[]}function wp(){return!1}function rT(){return{}}function nT(){return""}function iT(){return!0}function oT(dt,vt){if(dt=Jr(dt),dt<1||dt>St)return[];var Pt=Rt,Nt=Vn(dt,Rt);vt=Wr(vt),dt-=Rt;for(var Ut=Ou(Nt,vt);++Pt<dt;)vt(Pt);return Ut}function sT(dt){return Yr(dt)?_n(dt,mo):Kn(dt)?[dt]:Bn(ty(cn(dt)))}function aT(dt){var vt=++_v;return cn(dt)+vt}var lT=su(function(dt,vt){return dt+vt},0),uT=rp("ceil"),cT=su(function(dt,vt){return dt/vt},1),dT=rp("floor");function fT(dt){return dt&&dt.length?Zl(dt,Wn,qu):s}function hT(dt,vt){return dt&&dt.length?Zl(dt,Wr(vt,2),qu):s}function pT(dt){return Bp(dt,Wn)}function mT(dt,vt){return Bp(dt,Wr(vt,2))}function yT(dt){return dt&&dt.length?Zl(dt,Wn,Qu):s}function vT(dt,vt){return dt&&dt.length?Zl(dt,Wr(vt,2),Qu):s}var _T=su(function(dt,vt){return dt*vt},1),ET=rp("round"),xT=su(function(dt,vt){return dt-vt},0);function bT(dt){return dt&&dt.length?Du(dt,Wn):0}function TT(dt,vt){return dt&&dt.length?Du(dt,Wr(vt,2)):0}return Ht.after=qx,Ht.ary=fy,Ht.assign=k1,Ht.assignIn=Ry,Ht.assignInWith=_u,Ht.assignWith=D1,Ht.at=O1,Ht.before=hy,Ht.bind=gp,Ht.bindAll=N0,Ht.bindKey=py,Ht.castArray=n1,Ht.chain=uy,Ht.chunk=fE,Ht.compact=hE,Ht.concat=pE,Ht.cond=F0,Ht.conforms=B0,Ht.constant=Tp,Ht.countBy=bx,Ht.create=V1,Ht.curry=my,Ht.curryRight=gy,Ht.debounce=yy,Ht.defaults=M1,Ht.defaultsDeep=L1,Ht.defer=Hx,Ht.delay=Gx,Ht.difference=mE,Ht.differenceBy=gE,Ht.differenceWith=yE,Ht.drop=vE,Ht.dropRight=_E,Ht.dropRightWhile=EE,Ht.dropWhile=xE,Ht.fill=bE,Ht.filter=Px,Ht.flatMap=Ax,Ht.flatMapDeep=wx,Ht.flatMapDepth=Sx,Ht.flatten=oy,Ht.flattenDeep=TE,Ht.flattenDepth=PE,Ht.flip=Kx,Ht.flow=z0,Ht.flowRight=W0,Ht.fromPairs=IE,Ht.functions=W1,Ht.functionsIn=q1,Ht.groupBy=Cx,Ht.initial=AE,Ht.intersection=wE,Ht.intersectionBy=SE,Ht.intersectionWith=CE,Ht.invert=G1,Ht.invertBy=K1,Ht.invokeMap=kx,Ht.iteratee=Pp,Ht.keyBy=Dx,Ht.keys=Cn,Ht.keysIn=zn,Ht.map=hu,Ht.mapKeys=Y1,Ht.mapValues=X1,Ht.matches=q0,Ht.matchesProperty=H0,Ht.memoize=mu,Ht.merge=J1,Ht.mergeWith=Ay,Ht.method=G0,Ht.methodOf=K0,Ht.mixin=Ip,Ht.negate=gu,Ht.nthArg=Y0,Ht.omit=Z1,Ht.omitBy=e0,Ht.once=Qx,Ht.orderBy=Ox,Ht.over=X0,Ht.overArgs=Yx,Ht.overEvery=J0,Ht.overSome=Z0,Ht.partial=yp,Ht.partialRight=vy,Ht.partition=Vx,Ht.pick=t0,Ht.pickBy=wy,Ht.property=Vy,Ht.propertyOf=_b,Ht.pull=OE,Ht.pullAll=ay,Ht.pullAllBy=VE,Ht.pullAllWith=ME,Ht.pullAt=LE,Ht.range=eT,Ht.rangeRight=tT,Ht.rearg=Xx,Ht.reject=jx,Ht.remove=jE,Ht.rest=Jx,Ht.reverse=pp,Ht.sampleSize=Fx,Ht.set=n0,Ht.setWith=i0,Ht.shuffle=Bx,Ht.slice=NE,Ht.sortBy=Wx,Ht.sortedUniq=HE,Ht.sortedUniqBy=GE,Ht.split=A0,Ht.spread=Zx,Ht.tail=KE,Ht.take=QE,Ht.takeRight=YE,Ht.takeRightWhile=XE,Ht.takeWhile=JE,Ht.tap=hx,Ht.throttle=e1,Ht.thru=fu,Ht.toArray=Ty,Ht.toPairs=Sy,Ht.toPairsIn=Cy,Ht.toPath=sT,Ht.toPlainObject=Iy,Ht.transform=o0,Ht.unary=t1,Ht.union=ZE,Ht.unionBy=ex,Ht.unionWith=tx,Ht.uniq=rx,Ht.uniqBy=nx,Ht.uniqWith=ix,Ht.unset=s0,Ht.unzip=mp,Ht.unzipWith=ly,Ht.update=a0,Ht.updateWith=l0,Ht.values=ks,Ht.valuesIn=u0,Ht.without=ox,Ht.words=Dy,Ht.wrap=r1,Ht.xor=sx,Ht.xorBy=ax,Ht.xorWith=lx,Ht.zip=ux,Ht.zipObject=cx,Ht.zipObjectDeep=dx,Ht.zipWith=fx,Ht.entries=Sy,Ht.entriesIn=Cy,Ht.extend=Ry,Ht.extendWith=_u,Ip(Ht,Ht),Ht.add=lT,Ht.attempt=Oy,Ht.camelCase=h0,Ht.capitalize=$y,Ht.ceil=uT,Ht.clamp=c0,Ht.clone=i1,Ht.cloneDeep=s1,Ht.cloneDeepWith=a1,Ht.cloneWith=o1,Ht.conformsTo=l1,Ht.deburr=ky,Ht.defaultTo=U0,Ht.divide=cT,Ht.endsWith=p0,Ht.eq=co,Ht.escape=m0,Ht.escapeRegExp=g0,Ht.every=Tx,Ht.find=Ix,Ht.findIndex=ny,Ht.findKey=j1,Ht.findLast=Rx,Ht.findLastIndex=iy,Ht.findLastKey=N1,Ht.floor=dT,Ht.forEach=cy,Ht.forEachRight=dy,Ht.forIn=F1,Ht.forInRight=B1,Ht.forOwn=U1,Ht.forOwnRight=z1,Ht.get=Ep,Ht.gt=u1,Ht.gte=c1,Ht.has=H1,Ht.hasIn=xp,Ht.head=sy,Ht.identity=Wn,Ht.includes=$x,Ht.indexOf=RE,Ht.inRange=d0,Ht.invoke=Q1,Ht.isArguments=ns,Ht.isArray=Yr,Ht.isArrayBuffer=d1,Ht.isArrayLike=Un,Ht.isArrayLikeObject=bn,Ht.isBoolean=f1,Ht.isBuffer=No,Ht.isDate=h1,Ht.isElement=p1,Ht.isEmpty=m1,Ht.isEqual=g1,Ht.isEqualWith=y1,Ht.isError=vp,Ht.isFinite=v1,Ht.isFunction=Ro,Ht.isInteger=_y,Ht.isLength=yu,Ht.isMap=Ey,Ht.isMatch=_1,Ht.isMatchWith=E1,Ht.isNaN=x1,Ht.isNative=b1,Ht.isNil=P1,Ht.isNull=T1,Ht.isNumber=xy,Ht.isObject=En,Ht.isObjectLike=xn,Ht.isPlainObject=Tl,Ht.isRegExp=_p,Ht.isSafeInteger=I1,Ht.isSet=by,Ht.isString=vu,Ht.isSymbol=Kn,Ht.isTypedArray=$s,Ht.isUndefined=R1,Ht.isWeakMap=A1,Ht.isWeakSet=w1,Ht.join=$E,Ht.kebabCase=y0,Ht.last=no,Ht.lastIndexOf=kE,Ht.lowerCase=v0,Ht.lowerFirst=_0,Ht.lt=S1,Ht.lte=C1,Ht.max=fT,Ht.maxBy=hT,Ht.mean=pT,Ht.meanBy=mT,Ht.min=yT,Ht.minBy=vT,Ht.stubArray=Ap,Ht.stubFalse=wp,Ht.stubObject=rT,Ht.stubString=nT,Ht.stubTrue=iT,Ht.multiply=_T,Ht.nth=DE,Ht.noConflict=Q0,Ht.noop=Rp,Ht.now=pu,Ht.pad=E0,Ht.padEnd=x0,Ht.padStart=b0,Ht.parseInt=T0,Ht.random=f0,Ht.reduce=Mx,Ht.reduceRight=Lx,Ht.repeat=P0,Ht.replace=I0,Ht.result=r0,Ht.round=ET,Ht.runInContext=cr,Ht.sample=Nx,Ht.size=Ux,Ht.snakeCase=R0,Ht.some=zx,Ht.sortedIndex=FE,Ht.sortedIndexBy=BE,Ht.sortedIndexOf=UE,Ht.sortedLastIndex=zE,Ht.sortedLastIndexBy=WE,Ht.sortedLastIndexOf=qE,Ht.startCase=w0,Ht.startsWith=S0,Ht.subtract=xT,Ht.sum=bT,Ht.sumBy=TT,Ht.template=C0,Ht.times=oT,Ht.toFinite=Ao,Ht.toInteger=Jr,Ht.toLength=Py,Ht.toLower=$0,Ht.toNumber=io,Ht.toSafeInteger=$1,Ht.toString=cn,Ht.toUpper=k0,Ht.trim=D0,Ht.trimEnd=O0,Ht.trimStart=V0,Ht.truncate=M0,Ht.unescape=L0,Ht.uniqueId=aT,Ht.upperCase=j0,Ht.upperFirst=bp,Ht.each=cy,Ht.eachRight=dy,Ht.first=sy,Ip(Ht,function(){var dt={};return ho(Ht,function(vt,Pt){dn.call(Ht.prototype,Pt)||(dt[Pt]=vt)}),dt}(),{chain:!1}),Ht.VERSION=a,Zn(["bind","bindKey","curry","curryRight","partial","partialRight"],function(dt){Ht[dt].placeholder=Ht}),Zn(["drop","take"],function(dt,vt){sn.prototype[dt]=function(Pt){Pt=Pt===s?1:wn(Jr(Pt),0);var Nt=this.__filtered__&&!vt?new sn(this):this.clone();return Nt.__filtered__?Nt.__takeCount__=Vn(Pt,Nt.__takeCount__):Nt.__views__.push({size:Vn(Pt,Rt),type:dt+(Nt.__dir__<0?"Right":"")}),Nt},sn.prototype[dt+"Right"]=function(Pt){return this.reverse()[dt](Pt).reverse()}}),Zn(["filter","map","takeWhile"],function(dt,vt){var Pt=vt+1,Nt=Pt==Mt||Pt==Dt;sn.prototype[dt]=function(Ut){var Yt=this.clone();return Yt.__iteratees__.push({iteratee:Wr(Ut,3),type:Pt}),Yt.__filtered__=Yt.__filtered__||Nt,Yt}}),Zn(["head","last"],function(dt,vt){var Pt="take"+(vt?"Right":"");sn.prototype[dt]=function(){return this[Pt](1).value()[0]}}),Zn(["initial","tail"],function(dt,vt){var Pt="drop"+(vt?"":"Right");sn.prototype[dt]=function(){return this.__filtered__?new sn(this):this[Pt](1)}}),sn.prototype.compact=function(){return this.filter(Wn)},sn.prototype.find=function(dt){return this.filter(dt).head()},sn.prototype.findLast=function(dt){return this.reverse().find(dt)},sn.prototype.invokeMap=tn(function(dt,vt){return typeof dt=="function"?new sn(this):this.map(function(Pt){return ga(Pt,dt,vt)})}),sn.prototype.reject=function(dt){return this.filter(gu(Wr(dt)))},sn.prototype.slice=function(dt,vt){dt=Jr(dt);var Pt=this;return Pt.__filtered__&&(dt>0||vt<0)?new sn(Pt):(dt<0?Pt=Pt.takeRight(-dt):dt&&(Pt=Pt.drop(dt)),vt!==s&&(vt=Jr(vt),Pt=vt<0?Pt.dropRight(-vt):Pt.take(vt-dt)),Pt)},sn.prototype.takeRightWhile=function(dt){return this.reverse().takeWhile(dt).reverse()},sn.prototype.toArray=function(){return this.take(Rt)},ho(sn.prototype,function(dt,vt){var Pt=/^(?:filter|find|map|reject)|While$/.test(vt),Nt=/^(?:head|last)$/.test(vt),Ut=Ht[Nt?"take"+(vt=="last"?"Right":""):vt],Yt=Nt||/^find/.test(vt);Ut&&(Ht.prototype[vt]=function(){var tr=this.__wrapped__,ir=Nt?[1]:arguments,hr=tr instanceof sn,xr=ir[0],br=hr||Yr(tr),Pr=function(nn){var an=Ut.apply(Ht,ko([nn],ir));return Nt&&Dr?an[0]:an};br&&Pt&&typeof xr=="function"&&xr.length!=1&&(hr=br=!1);var Dr=this.__chain__,Fr=!!this.__actions__.length,qr=Yt&&!Dr,en=hr&&!Fr;if(!Yt&&br){tr=en?tr:new sn(this);var Hr=dt.apply(tr,ir);return Hr.__actions__.push({func:fu,args:[Pr],thisArg:s}),new eo(Hr,Dr)}return qr&&en?dt.apply(this,ir):(Hr=this.thru(Pr),qr?Nt?Hr.value()[0]:Hr.value():Hr)})}),Zn(["pop","push","shift","sort","splice","unshift"],function(dt){var vt=Ml[dt],Pt=/^(?:push|sort|unshift)$/.test(dt)?"tap":"thru",Nt=/^(?:pop|shift)$/.test(dt);Ht.prototype[dt]=function(){var Ut=arguments;if(Nt&&!this.__chain__){var Yt=this.value();return vt.apply(Yr(Yt)?Yt:[],Ut)}return this[Pt](function(tr){return vt.apply(Yr(tr)?tr:[],Ut)})}}),ho(sn.prototype,function(dt,vt){var Pt=Ht[vt];if(Pt){var Nt=Pt.name+"";dn.call(Rs,Nt)||(Rs[Nt]=[]),Rs[Nt].push({name:vt,func:Pt})}}),Rs[ou(s,ht).name]=[{name:"wrapper",func:s}],sn.prototype.clone=Lv,sn.prototype.reverse=jv,sn.prototype.value=Nv,Ht.prototype.at=px,Ht.prototype.chain=mx,Ht.prototype.commit=gx,Ht.prototype.next=yx,Ht.prototype.plant=_x,Ht.prototype.reverse=Ex,Ht.prototype.toJSON=Ht.prototype.valueOf=Ht.prototype.value=xx,Ht.prototype.first=Ht.prototype.head,Gs&&(Ht.prototype[Gs]=vx),Ht},Ts=gv();Qo?((Qo.exports=Ts)._=Ts,Ru._=Ts):kn._=Ts}).call(commonjsGlobal$1)})(lodash,lodash.exports);lodash.exports;function EditorContainer({currentProfile:o}){const i=useParams(),s=useDispatch(),[a,et]=reactExports.useState(""),tt=useNavigate(),[rt,nt]=reactExports.useState(!1),[it,ot]=reactExports.useState(!0),[st,lt]=reactExports.useState([]),[at,ut]=reactExports.useState(null),ft=useSelector(Mt=>Mt.pages.editingPage),mt=useSelector(Mt=>Mt.pages.editorHtmlContent);reactExports.useEffect(()=>{const{id:Mt}=i;Mt&&at==null?s(fetchEditingPage({id:Mt})).then(Dt=>checkResult(Dt,Ct=>{const{page:St}=Ct;yt(St)},Ct=>{})):at!=null&&at.id==Mt?yt(at):s(setHtmlContent(""))},[]);const yt=Mt=>{ut(Mt),s(setEditingPage({page:Mt})),et(Mt.title),nt(Mt.privacy),ot(Mt.commentable),s(setHtmlContent(Mt.data))},ht=Mt=>{let Ot=window.location.href.split("/"),Dt=Ot[Ot.length-1];Dt=="link"?Dt=PageType.link:Dt=="text"?Dt=PageType.text:Dt=="image"?Dt=PageType.image:Dt=PageType.text;const Ct={profileId:o.id,data:mt,title:a,privacy:rt,approvalScore:0,commentable:it,readers:[],commenters:[],editors:[],writers:[],type:Dt};s(createPage(Ct)).then(St=>{checkResult(St,$t=>{const{page:Lt}=$t;yt(Lt),Mt&&Mt(Lt)},$t=>{console.error($t.message)})})},pt=Mt=>{let Ot={page:at,title:a,data:mt,privacy:rt,commentable:it};at.type===PageType.picture&&(Ot={page:at,title:a,data:ft.data,privacy:rt,commentable:it}),s(updatePage(Ot)).then(Dt=>{checkResult(Dt,Ct=>{const{page:St}=Ct,$t=st.filter(zt=>zt.role==RoleType.reader).map(zt=>zt.profile.userId),Lt=st.filter(zt=>zt.role==RoleType.commenter).map(zt=>zt.profile.userId),Rt=st.filter(zt=>zt.role==RoleType.editor).map(zt=>zt.profile.userId),jt=st.filter(zt=>zt.role==RoleType.writer).map(zt=>zt.profile.userId);s(saveRolesForPage({page:St,readers:$t,commenters:Lt,editors:Rt,writers:jt})).then(zt=>checkResult(zt,Gt=>{const{page:Bt}=Gt;s(setEditingPage({page:Bt})),yt(Bt),window.alert("Saved"),Mt&&Mt(Bt)},Gt=>{window.alert("Error updating roles")}))},Ct=>{window.alert("Error updating pages")})})},ct=Mt=>{at==null?ht(Mt):pt(Mt)},[gt,Et]=reactExports.useState(!1),bt=()=>{Et(!0)},xt=()=>{Et(!1)},Tt=()=>{xt(),at&&s(deletePage({page:at})).then(()=>{tt("/profile/home")})},wt=()=>{if(o){if(at)return at.type===PageType.text?jsxRuntimeExports.jsx("div",{id:"editor",children:jsxRuntimeExports.jsx(RichEditor,{initialContent:mt})}):at.type===PageType.picture?jsxRuntimeExports.jsx("div",{className:"image",children:jsxRuntimeExports.jsx("img",{src:mt,alt:at.data})}):at.type===PageType.link?jsxRuntimeExports.jsx("div",{id:"editor",className:"link",children:jsxRuntimeExports.jsx(PicturePageForm,{})}):jsxRuntimeExports.jsx("div",{id:"editor",children:jsxRuntimeExports.jsx(RichEditor,{initialContent:mt})});{let Mt=window.location.href.split("/"),Ot=Mt[Mt.length-1];return Ot.toUpperCase()=="image".toUpperCase()||Ot.toUpperCase()=="link".toUpperCase()?jsxRuntimeExports.jsx(PicturePageForm,{}):jsxRuntimeExports.jsx("div",{id:"editor",children:jsxRuntimeExports.jsx(RichEditor,{initialContent:""})})}}},[It,At]=reactExports.useState(null),kt=()=>ft?jsxRuntimeExports.jsxs(Dropdown$1,{children:[jsxRuntimeExports.jsxs(IconButton$1,{onClick:Mt=>At(Mt.currentTarget),children:["  ",jsxRuntimeExports.jsx(Add$1,{})]}),jsxRuntimeExports.jsxs(Menu$4,{anchorEl:It,open:!!It,children:[jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{s(setPagesToBeAdded({pageList:[at]})),tt("/book/new")},children:"Add to Book"}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{s(setPagesToBeAdded({pageList:[at]})),tt("/library/new")},children:"Add to Library"})]})]}):jsxRuntimeExports.jsx("div",{});let Vt=jsxRuntimeExports.jsx("div",{});return ft&&(Vt=jsxRuntimeExports.jsx(Button$4,{variant:"outlined",onClick:bt,style:{marginTop:"4em",width:"10em",color:theme.palette.error.contrastText,backgroundColor:theme.palette.error.dark},children:"Delete"})),jsxRuntimeExports.jsxs("div",{className:"edit-container",children:[jsxRuntimeExports.jsx("div",{children:wt()}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(FormGroup$1,{style:{marginBottom:"3em"},className:"create-form",children:[jsxRuntimeExports.jsx(TextField$1,{onChange:Mt=>et(Mt.target.value),value:a,label:"Title"}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{style:checkmarkStyle,checked:!rt,onChange:Mt=>nt(!Mt.target.checked)}),label:rt?"Draft":"Public"}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{style:checkmarkStyle,checked:it,onChange:Mt=>{ot(Mt.target.checked)}}),label:it?"Commenting is on":"Commenting is off"}),jsxRuntimeExports.jsx(Button$4,{style:{backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText},onClick:Mt=>ct(Ot=>{history.replace(`/page/${at.id}/edit`)}),className:"",children:"Save"}),jsxRuntimeExports.jsxs("div",{className:"button-row",children:[kt(),ft?jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{s(setPageInView({page:ft})),tt(Paths.page.createRoute(ft.id))},children:jsxRuntimeExports.jsx(Visibility$1,{})}):jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsx("div",{id:"post-button-row",children:jsxRuntimeExports.jsx(Button$4,{onClick:()=>debounce(ct(Mt=>{nt(!1),s(setPageInView({page:Mt})),tt(Paths.page.createRoute(Mt.id))}),10),style:{backgroundColor:theme.palette.secondary.main,color:theme.palette.primary.contrastText,width:"100%",marginTop:"2em",padding:"2em"},children:"Post"})}),Vt]}),at?jsxRuntimeExports.jsx(RoleList,{item:at,type:"page",getRoles:Mt=>{lt(Mt)}}):jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Dialog$1,{open:gt,onClose:xt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[jsxRuntimeExports.jsx(DialogTitle$1,{id:"alert-dialog-title",children:"Deleting?"}),jsxRuntimeExports.jsx(DialogContent$1,{children:jsxRuntimeExports.jsx(DialogContentText$1,{id:"alert-dialog-description",children:"Are you sure you want to delete this page?"})}),jsxRuntimeExports.jsxs(DialogActions$1,{children:[jsxRuntimeExports.jsx(Button$4,{onClick:xt,children:"Disagree"}),jsxRuntimeExports.jsx(Button$4,{onClick:()=>Tt(),autoFocus:!0,children:"Agree"})]})]})})]})]})}function CommentInput({editing:o,page:i,parentComment:s,parentProfile:a}){const et=useDispatch(),tt=useSelector(ft=>ft.users.currentProfile),[rt,nt]=reactExports.useState(""),[it,ot]=reactExports.useState(!0),st=()=>{if(tt&&i&&rt.length>0){let ft="";s&&(ft=s.id);const mt={profileId:tt.id,text:rt,pageId:i.id,parentCommentId:ft};et(createComment(mt)).then(yt=>{checkResult(yt,ht=>{nt(""),ot(!1),et(appendComment({comment:ht}))},ht=>{window.alert(ht)})})}};reactExports.useEffect(()=>{o&&nt(s.text)},[o]);let lt=jsxRuntimeExports.jsx("div",{});a&&(lt=jsxRuntimeExports.jsx("h6",{children:a.usernmae}));const at=()=>{et(updateComment({comment:s,newText:rt}))};return jsxRuntimeExports.jsxs("div",{style:{display:it?"":"none"},className:"comment-input",children:[jsxRuntimeExports.jsx("div",{className:"comment-input-header",children:lt}),jsxRuntimeExports.jsx(TextareaAutosize,{style:{width:"100%",padding:"1em"},value:rt,minRows:2,onChange:ft=>{nt(ft.target.value)}}),jsxRuntimeExports.jsx("div",{className:"button-row",children:o?jsxRuntimeExports.jsx(Button$4,{onClick:at,children:"Update"}):jsxRuntimeExports.jsx(Button$4,{disabled:!tt,onClick:st,children:"Reply"})})]})}function CommentItem({page:o,comment:i}){let s=jsxRuntimeExports.jsx("div",{});const a=useDispatch(),et=useSelector(bt=>bt.users.currentProfile),tt=useSelector(bt=>bt.users.profilesInView),rt=useSelector(bt=>bt.pages.commentsInView);let nt=tt.find(bt=>bt.id==i.profileId);const[it,ot]=reactExports.useState(nt);let[st,lt]=reactExports.useState([]);const[at,ut]=reactExports.useState(!1),[ft,mt]=reactExports.useState(!1);reactExports.useEffect(()=>{let bt=rt.filter(xt=>xt.parentCommentId==i.id);lt(bt)},[]);const yt=()=>{i&&a(deleteComment({comment:i}))};it&&(s=jsxRuntimeExports.jsx("div",{className:"comment-author",children:it.username}));function ht(){mt(!ft)}const[pt,ct]=reactExports.useState(null),gt=()=>i&&et&&i.profileId==et.id?jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(IconButton$1,{onClick:bt=>{ct(pt?null:bt.currentTarget)},style:{border:""},children:jsxRuntimeExports.jsx(MoreHoriz,{})}),jsxRuntimeExports.jsxs(Menu$4,{anchorEl:pt,open:!!pt,children:[jsxRuntimeExports.jsx(MenuItem$1,{onClick:yt,children:"Delete"}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{ct(null),ut(!at)},children:"Edit"})]})]}):jsxRuntimeExports.jsx("div",{});reactExports.useEffect(()=>{at&&ut(!1)},[i]);const Et=()=>{if(ft||at)return jsxRuntimeExports.jsx(CommentInput,{editing:at,page:o,parentComment:i,parentProfile:it})};return jsxRuntimeExports.jsxs("div",{className:"comment-thread",children:[jsxRuntimeExports.jsxs("div",{className:"comment",children:[jsxRuntimeExports.jsxs("div",{className:"comment-heading",children:[s,gt()]}),jsxRuntimeExports.jsx("div",{className:"text",children:i.text}),jsxRuntimeExports.jsx("div",{className:"btn-row",children:jsxRuntimeExports.jsx(Button$4,{onClick:ht,children:"Reply"})}),Et()]}),jsxRuntimeExports.jsx("div",{className:"replies",children:st.map(bt=>jsxRuntimeExports.jsx(CommentItem,{page:o,comment:bt},bt.id))})]})}function PageViewItem({page:o}){PageViewItem.propTypes={page:PropTypes.object.isRequired};const i=useSelector(yt=>yt.users.currentProfile),s=useDispatch(),a=useNavigate(),[et,tt]=reactExports.useState(!1),rt=useSelector(yt=>yt.users.profilesInView),[nt,it]=reactExports.useState(!1),ot=useSelector(yt=>yt.libraries.bookmarkLibrary),st=yt=>{if(yt)return jsxRuntimeExports.jsx(CommentInput,{page:o})};let lt=jsxRuntimeExports.jsx("div",{});const[at,ut]=reactExports.useState(null),ft=yt=>{ut(ht=>ht==null?yt.currentTarget:null)},mt=()=>{if(et&&o){let yt=ot.pageIdList.filter(pt=>pt!=o.id);const ht={library:ot,pageIdList:yt,bookIdList:ot.bookIdList};s(updateLibraryContent(ht)),tt(!1)}else if(ot&&i&&o){const yt=[...ot.pageIdList,o.id],ht={library:ot,pageIdList:yt,bookIdList:ot.bookIdList};s(updateLibraryContent(ht)).then(pt=>{checkResult(pt,ct=>{const{library:gt}=ct;let Et=gt.pageIdList.find(bt=>bt==o.id);tt(!!Et)},()=>{})})}};if(o){switch(o.type){case PageType.text:lt=jsxRuntimeExports.jsx("div",{className:"dashboard-content text ql-editor",dangerouslySetInnerHTML:{__html:o.data}});break;case PageType.picture:lt=jsxRuntimeExports.jsx("img",{className:"dashboard-content image",src:o.data,alt:o.title});break;case PageType.link:lt=jsxRuntimeExports.jsx("div",{className:"dashboard-content",children:jsxRuntimeExports.jsx(LinkPreview,{url:o.data})});break;default:lt=jsxRuntimeExports.jsx("div",{className:"dashboard-content",dangerouslySetInnerHTML:{__html:o.data}});break}const yt=()=>{setProfileInView({profile:pt}),a(`/profile/${pt.id}`)};let ht=jsxRuntimeExports.jsx("div",{}),pt=rt.find(ct=>ct.id==o.profileId);return pt&&(ht=jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("p",{onClick:yt,children:pt.username})})),jsxRuntimeExports.jsxs("div",{className:"content-item",children:[jsxRuntimeExports.jsxs("div",{className:"dashboard-header",children:[jsxRuntimeExports.jsx("div",{className:"titles",children:o.title.length>0?jsxRuntimeExports.jsx("p",{children:o.title}):jsxRuntimeExports.jsx("p",{children:"Untitled"})}),ht]}),jsxRuntimeExports.jsx("div",{children:lt}),jsxRuntimeExports.jsxs("div",{className:"btn-row",children:[jsxRuntimeExports.jsx(Button$4,{style:{color:theme.palette.info.contrastText,backgroundColor:i?theme.palette.info.main:theme.palette.info.disabled},disabled:!i,children:"Yea"}),jsxRuntimeExports.jsx(Button$4,{style:{color:"white",backgroundColor:i?theme.palette.info.main:theme.palette.info.disabled},disabled:!i,onClick:()=>{it(!nt)},children:"Comment"}),jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(Button$4,{onClick:ct=>{ft(ct)},"aria-controls":at?"menu":void 0,"aria-haspopup":"true","aria-expanded":at?"true":void 0,children:"Share"}),jsxRuntimeExports.jsxs(Menu$4,{id:"menu",anchorEl:at,onClose:()=>ut(null),open:!!at,children:[jsxRuntimeExports.jsx(MenuItem$3,{disabled:!i,onClick:()=>{s(setPagesToBeAdded({pageList:[o]})),a("/book/new")},children:"Add to Book"}),jsxRuntimeExports.jsx(MenuItem$3,{disabled:!i,onClick:()=>{s(setPagesToBeAdded({pageList:[o]})),a("/library/new")},children:"Add to Library"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{navigator.clipboard.writeText(`plumbum.app/page/${o.id}`).then(()=>{alert("Text copied to clipboard")})},children:"Copy Share Link"}),i&&o&&i.id===o.profileId?jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{s(setEditingPage({page:o})),a(Paths.editPage.createRoute(o.id))},children:"Edit"}):jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:mt,disabled:!i,children:et?jsxRuntimeExports.jsx(default_1$d,{}):jsxRuntimeExports.jsx(default_1$e,{})})]})]})]}),st(nt)]})}}function _interopDefault(o){return o&&typeof o=="object"&&"default"in o?o.default:o}var React=reactExports,React__default=_interopDefault(React);function _defineProperty$1(o,i,s){return i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _inheritsLoose(o,i){o.prototype=Object.create(i.prototype),o.prototype.constructor=o,o.__proto__=i}var canUseDOM=!!(typeof window<"u"&&window.document&&window.document.createElement);function withSideEffect(o,i,s){if(typeof o!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof i!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof s<"u"&&typeof s!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function a(et){return et.displayName||et.name||"Component"}return function(tt){if(typeof tt!="function")throw new Error("Expected WrappedComponent to be a React component.");var rt=[],nt;function it(){nt=o(rt.map(function(st){return st.props})),ot.canUseDOM?i(nt):s&&(nt=s(nt))}var ot=function(st){_inheritsLoose(lt,st);function lt(){return st.apply(this,arguments)||this}lt.peek=function(){return nt},lt.rewind=function(){if(lt.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var ft=nt;return nt=void 0,rt=[],ft};var at=lt.prototype;return at.UNSAFE_componentWillMount=function(){rt.push(this),it()},at.componentDidUpdate=function(){it()},at.componentWillUnmount=function(){var ft=rt.indexOf(this);rt.splice(ft,1),it()},at.render=function(){return React__default.createElement(tt,this.props)},lt}(React.PureComponent);return _defineProperty$1(ot,"displayName","SideEffect("+a(tt)+")"),_defineProperty$1(ot,"canUseDOM",canUseDOM),ot}}var lib=withSideEffect;const withSideEffect$1=getDefaultExportFromCjs(lib);var hasElementType=typeof Element<"u",hasMap=typeof Map=="function",hasSet=typeof Set=="function",hasArrayBuffer=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function equal(o,i){if(o===i)return!0;if(o&&i&&typeof o=="object"&&typeof i=="object"){if(o.constructor!==i.constructor)return!1;var s,a,et;if(Array.isArray(o)){if(s=o.length,s!=i.length)return!1;for(a=s;a--!==0;)if(!equal(o[a],i[a]))return!1;return!0}var tt;if(hasMap&&o instanceof Map&&i instanceof Map){if(o.size!==i.size)return!1;for(tt=o.entries();!(a=tt.next()).done;)if(!i.has(a.value[0]))return!1;for(tt=o.entries();!(a=tt.next()).done;)if(!equal(a.value[1],i.get(a.value[0])))return!1;return!0}if(hasSet&&o instanceof Set&&i instanceof Set){if(o.size!==i.size)return!1;for(tt=o.entries();!(a=tt.next()).done;)if(!i.has(a.value[0]))return!1;return!0}if(hasArrayBuffer&&ArrayBuffer.isView(o)&&ArrayBuffer.isView(i)){if(s=o.length,s!=i.length)return!1;for(a=s;a--!==0;)if(o[a]!==i[a])return!1;return!0}if(o.constructor===RegExp)return o.source===i.source&&o.flags===i.flags;if(o.valueOf!==Object.prototype.valueOf&&typeof o.valueOf=="function"&&typeof i.valueOf=="function")return o.valueOf()===i.valueOf();if(o.toString!==Object.prototype.toString&&typeof o.toString=="function"&&typeof i.toString=="function")return o.toString()===i.toString();if(et=Object.keys(o),s=et.length,s!==Object.keys(i).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(i,et[a]))return!1;if(hasElementType&&o instanceof Element)return!1;for(a=s;a--!==0;)if(!((et[a]==="_owner"||et[a]==="__v"||et[a]==="__o")&&o.$$typeof)&&!equal(o[et[a]],i[et[a]]))return!1;return!0}return o!==o&&i!==i}var reactFastCompare=function o(i,s){try{return equal(i,s)}catch(a){if((a.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw a}};const isEqual=getDefaultExportFromCjs(reactFastCompare);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;function toObject(o){if(o==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(o)}function shouldUseNative(){try{if(!Object.assign)return!1;var o=new String("abc");if(o[5]="de",Object.getOwnPropertyNames(o)[0]==="5")return!1;for(var i={},s=0;s<10;s++)i["_"+String.fromCharCode(s)]=s;var a=Object.getOwnPropertyNames(i).map(function(tt){return i[tt]});if(a.join("")!=="0123456789")return!1;var et={};return"abcdefghijklmnopqrst".split("").forEach(function(tt){et[tt]=tt}),Object.keys(Object.assign({},et)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var objectAssign=shouldUseNative()?Object.assign:function(o,i){for(var s,a=toObject(o),et,tt=1;tt<arguments.length;tt++){s=Object(arguments[tt]);for(var rt in s)hasOwnProperty.call(s,rt)&&(a[rt]=s[rt]);if(getOwnPropertySymbols){et=getOwnPropertySymbols(s);for(var nt=0;nt<et.length;nt++)propIsEnumerable.call(s,et[nt])&&(a[et[nt]]=s[et[nt]])}}return a};const objectAssign$1=getDefaultExportFromCjs(objectAssign);var ATTRIBUTE_NAMES={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},TAG_NAMES={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(TAG_NAMES).map(function(o){return TAG_NAMES[o]});var TAG_PROPERTIES={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},REACT_TAG_MAP={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},HELMET_PROPS={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},HTML_TAG_MAP=Object.keys(REACT_TAG_MAP).reduce(function(o,i){return o[REACT_TAG_MAP[i]]=i,o},{}),SELF_CLOSING_TAGS=[TAG_NAMES.NOSCRIPT,TAG_NAMES.SCRIPT,TAG_NAMES.STYLE],HELMET_ATTRIBUTE="data-react-helmet",_typeof$1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(o){return typeof o}:function(o){return o&&typeof Symbol=="function"&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},classCallCheck=function(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")},createClass=function(){function o(i,s){for(var a=0;a<s.length;a++){var et=s[a];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(i,et.key,et)}}return function(i,s,a){return s&&o(i.prototype,s),a&&o(i,a),i}}(),_extends=Object.assign||function(o){for(var i=1;i<arguments.length;i++){var s=arguments[i];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(o[a]=s[a])}return o},inherits=function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)},objectWithoutProperties=function(o,i){var s={};for(var a in o)i.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(o,a)&&(s[a]=o[a]);return s},possibleConstructorReturn=function(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return i&&(typeof i=="object"||typeof i=="function")?i:o},encodeSpecialCharacters=function o(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return s===!1?String(i):String(i).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},getTitleFromPropsList=function o(i){var s=getInnermostProperty(i,TAG_NAMES.TITLE),a=getInnermostProperty(i,HELMET_PROPS.TITLE_TEMPLATE);if(a&&s)return a.replace(/%s/g,function(){return Array.isArray(s)?s.join(""):s});var et=getInnermostProperty(i,HELMET_PROPS.DEFAULT_TITLE);return s||et||void 0},getOnChangeClientState=function o(i){return getInnermostProperty(i,HELMET_PROPS.ON_CHANGE_CLIENT_STATE)||function(){}},getAttributesFromPropsList=function o(i,s){return s.filter(function(a){return typeof a[i]<"u"}).map(function(a){return a[i]}).reduce(function(a,et){return _extends({},a,et)},{})},getBaseTagFromPropsList=function o(i,s){return s.filter(function(a){return typeof a[TAG_NAMES.BASE]<"u"}).map(function(a){return a[TAG_NAMES.BASE]}).reverse().reduce(function(a,et){if(!a.length)for(var tt=Object.keys(et),rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.toLowerCase();if(i.indexOf(it)!==-1&&et[it])return a.concat(et)}return a},[])},getTagsFromPropsList=function o(i,s,a){var et={};return a.filter(function(tt){return Array.isArray(tt[i])?!0:(typeof tt[i]<"u"&&warn("Helmet: "+i+' should be of type "Array". Instead found type "'+_typeof$1(tt[i])+'"'),!1)}).map(function(tt){return tt[i]}).reverse().reduce(function(tt,rt){var nt={};rt.filter(function(at){for(var ut=void 0,ft=Object.keys(at),mt=0;mt<ft.length;mt++){var yt=ft[mt],ht=yt.toLowerCase();s.indexOf(ht)!==-1&&!(ut===TAG_PROPERTIES.REL&&at[ut].toLowerCase()==="canonical")&&!(ht===TAG_PROPERTIES.REL&&at[ht].toLowerCase()==="stylesheet")&&(ut=ht),s.indexOf(yt)!==-1&&(yt===TAG_PROPERTIES.INNER_HTML||yt===TAG_PROPERTIES.CSS_TEXT||yt===TAG_PROPERTIES.ITEM_PROP)&&(ut=yt)}if(!ut||!at[ut])return!1;var pt=at[ut].toLowerCase();return et[ut]||(et[ut]={}),nt[ut]||(nt[ut]={}),et[ut][pt]?!1:(nt[ut][pt]=!0,!0)}).reverse().forEach(function(at){return tt.push(at)});for(var it=Object.keys(nt),ot=0;ot<it.length;ot++){var st=it[ot],lt=objectAssign$1({},et[st],nt[st]);et[st]=lt}return tt},[]).reverse()},getInnermostProperty=function o(i,s){for(var a=i.length-1;a>=0;a--){var et=i[a];if(et.hasOwnProperty(s))return et[s]}return null},reducePropsToState=function o(i){return{baseTag:getBaseTagFromPropsList([TAG_PROPERTIES.HREF,TAG_PROPERTIES.TARGET],i),bodyAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.BODY,i),defer:getInnermostProperty(i,HELMET_PROPS.DEFER),encode:getInnermostProperty(i,HELMET_PROPS.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.HTML,i),linkTags:getTagsFromPropsList(TAG_NAMES.LINK,[TAG_PROPERTIES.REL,TAG_PROPERTIES.HREF],i),metaTags:getTagsFromPropsList(TAG_NAMES.META,[TAG_PROPERTIES.NAME,TAG_PROPERTIES.CHARSET,TAG_PROPERTIES.HTTPEQUIV,TAG_PROPERTIES.PROPERTY,TAG_PROPERTIES.ITEM_PROP],i),noscriptTags:getTagsFromPropsList(TAG_NAMES.NOSCRIPT,[TAG_PROPERTIES.INNER_HTML],i),onChangeClientState:getOnChangeClientState(i),scriptTags:getTagsFromPropsList(TAG_NAMES.SCRIPT,[TAG_PROPERTIES.SRC,TAG_PROPERTIES.INNER_HTML],i),styleTags:getTagsFromPropsList(TAG_NAMES.STYLE,[TAG_PROPERTIES.CSS_TEXT],i),title:getTitleFromPropsList(i),titleAttributes:getAttributesFromPropsList(ATTRIBUTE_NAMES.TITLE,i)}},rafPolyfill=function(){var o=Date.now();return function(i){var s=Date.now();s-o>16?(o=s,i(s)):setTimeout(function(){rafPolyfill(i)},0)}}(),cafPolyfill=function o(i){return clearTimeout(i)},requestAnimationFrame$1=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||rafPolyfill:global.requestAnimationFrame||rafPolyfill,cancelAnimationFrame$1=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||cafPolyfill:global.cancelAnimationFrame||cafPolyfill,warn=function o(i){return console&&typeof console.warn=="function"&&console.warn(i)},_helmetCallback=null,handleClientStateChange=function o(i){_helmetCallback&&cancelAnimationFrame$1(_helmetCallback),i.defer?_helmetCallback=requestAnimationFrame$1(function(){commitTagChanges(i,function(){_helmetCallback=null})}):(commitTagChanges(i),_helmetCallback=null)},commitTagChanges=function o(i,s){var a=i.baseTag,et=i.bodyAttributes,tt=i.htmlAttributes,rt=i.linkTags,nt=i.metaTags,it=i.noscriptTags,ot=i.onChangeClientState,st=i.scriptTags,lt=i.styleTags,at=i.title,ut=i.titleAttributes;updateAttributes(TAG_NAMES.BODY,et),updateAttributes(TAG_NAMES.HTML,tt),updateTitle(at,ut);var ft={baseTag:updateTags(TAG_NAMES.BASE,a),linkTags:updateTags(TAG_NAMES.LINK,rt),metaTags:updateTags(TAG_NAMES.META,nt),noscriptTags:updateTags(TAG_NAMES.NOSCRIPT,it),scriptTags:updateTags(TAG_NAMES.SCRIPT,st),styleTags:updateTags(TAG_NAMES.STYLE,lt)},mt={},yt={};Object.keys(ft).forEach(function(ht){var pt=ft[ht],ct=pt.newTags,gt=pt.oldTags;ct.length&&(mt[ht]=ct),gt.length&&(yt[ht]=ft[ht].oldTags)}),s&&s(),ot(i,mt,yt)},flattenArray=function o(i){return Array.isArray(i)?i.join(""):i},updateTitle=function o(i,s){typeof i<"u"&&document.title!==i&&(document.title=flattenArray(i)),updateAttributes(TAG_NAMES.TITLE,s)},updateAttributes=function o(i,s){var a=document.getElementsByTagName(i)[0];if(a){for(var et=a.getAttribute(HELMET_ATTRIBUTE),tt=et?et.split(","):[],rt=[].concat(tt),nt=Object.keys(s),it=0;it<nt.length;it++){var ot=nt[it],st=s[ot]||"";a.getAttribute(ot)!==st&&a.setAttribute(ot,st),tt.indexOf(ot)===-1&&tt.push(ot);var lt=rt.indexOf(ot);lt!==-1&&rt.splice(lt,1)}for(var at=rt.length-1;at>=0;at--)a.removeAttribute(rt[at]);tt.length===rt.length?a.removeAttribute(HELMET_ATTRIBUTE):a.getAttribute(HELMET_ATTRIBUTE)!==nt.join(",")&&a.setAttribute(HELMET_ATTRIBUTE,nt.join(","))}},updateTags=function o(i,s){var a=document.head||document.querySelector(TAG_NAMES.HEAD),et=a.querySelectorAll(i+"["+HELMET_ATTRIBUTE+"]"),tt=Array.prototype.slice.call(et),rt=[],nt=void 0;return s&&s.length&&s.forEach(function(it){var ot=document.createElement(i);for(var st in it)if(it.hasOwnProperty(st))if(st===TAG_PROPERTIES.INNER_HTML)ot.innerHTML=it.innerHTML;else if(st===TAG_PROPERTIES.CSS_TEXT)ot.styleSheet?ot.styleSheet.cssText=it.cssText:ot.appendChild(document.createTextNode(it.cssText));else{var lt=typeof it[st]>"u"?"":it[st];ot.setAttribute(st,lt)}ot.setAttribute(HELMET_ATTRIBUTE,"true"),tt.some(function(at,ut){return nt=ut,ot.isEqualNode(at)})?tt.splice(nt,1):rt.push(ot)}),tt.forEach(function(it){return it.parentNode.removeChild(it)}),rt.forEach(function(it){return a.appendChild(it)}),{oldTags:tt,newTags:rt}},generateElementAttributesAsString=function o(i){return Object.keys(i).reduce(function(s,a){var et=typeof i[a]<"u"?a+'="'+i[a]+'"':""+a;return s?s+" "+et:et},"")},generateTitleAsString=function o(i,s,a,et){var tt=generateElementAttributesAsString(a),rt=flattenArray(s);return tt?"<"+i+" "+HELMET_ATTRIBUTE+'="true" '+tt+">"+encodeSpecialCharacters(rt,et)+"</"+i+">":"<"+i+" "+HELMET_ATTRIBUTE+'="true">'+encodeSpecialCharacters(rt,et)+"</"+i+">"},generateTagsAsString=function o(i,s,a){return s.reduce(function(et,tt){var rt=Object.keys(tt).filter(function(ot){return!(ot===TAG_PROPERTIES.INNER_HTML||ot===TAG_PROPERTIES.CSS_TEXT)}).reduce(function(ot,st){var lt=typeof tt[st]>"u"?st:st+'="'+encodeSpecialCharacters(tt[st],a)+'"';return ot?ot+" "+lt:lt},""),nt=tt.innerHTML||tt.cssText||"",it=SELF_CLOSING_TAGS.indexOf(i)===-1;return et+"<"+i+" "+HELMET_ATTRIBUTE+'="true" '+rt+(it?"/>":">"+nt+"</"+i+">")},"")},convertElementAttributestoReactProps=function o(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(i).reduce(function(a,et){return a[REACT_TAG_MAP[et]||et]=i[et],a},s)},convertReactPropstoHtmlAttributes=function o(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(i).reduce(function(a,et){return a[HTML_TAG_MAP[et]||et]=i[et],a},s)},generateTitleAsReactComponent=function o(i,s,a){var et,tt=(et={key:s},et[HELMET_ATTRIBUTE]=!0,et),rt=convertElementAttributestoReactProps(a,tt);return[React$2.createElement(TAG_NAMES.TITLE,rt,s)]},generateTagsAsReactComponent=function o(i,s){return s.map(function(a,et){var tt,rt=(tt={key:et},tt[HELMET_ATTRIBUTE]=!0,tt);return Object.keys(a).forEach(function(nt){var it=REACT_TAG_MAP[nt]||nt;if(it===TAG_PROPERTIES.INNER_HTML||it===TAG_PROPERTIES.CSS_TEXT){var ot=a.innerHTML||a.cssText;rt.dangerouslySetInnerHTML={__html:ot}}else rt[it]=a[nt]}),React$2.createElement(i,rt)})},getMethodsForTag=function o(i,s,a){switch(i){case TAG_NAMES.TITLE:return{toComponent:function(){return generateTitleAsReactComponent(i,s.title,s.titleAttributes)},toString:function(){return generateTitleAsString(i,s.title,s.titleAttributes,a)}};case ATTRIBUTE_NAMES.BODY:case ATTRIBUTE_NAMES.HTML:return{toComponent:function(){return convertElementAttributestoReactProps(s)},toString:function(){return generateElementAttributesAsString(s)}};default:return{toComponent:function(){return generateTagsAsReactComponent(i,s)},toString:function(){return generateTagsAsString(i,s,a)}}}},mapStateOnServer=function o(i){var s=i.baseTag,a=i.bodyAttributes,et=i.encode,tt=i.htmlAttributes,rt=i.linkTags,nt=i.metaTags,it=i.noscriptTags,ot=i.scriptTags,st=i.styleTags,lt=i.title,at=lt===void 0?"":lt,ut=i.titleAttributes;return{base:getMethodsForTag(TAG_NAMES.BASE,s,et),bodyAttributes:getMethodsForTag(ATTRIBUTE_NAMES.BODY,a,et),htmlAttributes:getMethodsForTag(ATTRIBUTE_NAMES.HTML,tt,et),link:getMethodsForTag(TAG_NAMES.LINK,rt,et),meta:getMethodsForTag(TAG_NAMES.META,nt,et),noscript:getMethodsForTag(TAG_NAMES.NOSCRIPT,it,et),script:getMethodsForTag(TAG_NAMES.SCRIPT,ot,et),style:getMethodsForTag(TAG_NAMES.STYLE,st,et),title:getMethodsForTag(TAG_NAMES.TITLE,{title:at,titleAttributes:ut},et)}},Helmet=function o(i){var s,a;return a=s=function(et){inherits(tt,et);function tt(){return classCallCheck(this,tt),possibleConstructorReturn(this,et.apply(this,arguments))}return tt.prototype.shouldComponentUpdate=function(nt){return!isEqual(this.props,nt)},tt.prototype.mapNestedChildrenToProps=function(nt,it){if(!it)return null;switch(nt.type){case TAG_NAMES.SCRIPT:case TAG_NAMES.NOSCRIPT:return{innerHTML:it};case TAG_NAMES.STYLE:return{cssText:it}}throw new Error("<"+nt.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},tt.prototype.flattenArrayTypeChildren=function(nt){var it,ot=nt.child,st=nt.arrayTypeChildren,lt=nt.newChildProps,at=nt.nestedChildren;return _extends({},st,(it={},it[ot.type]=[].concat(st[ot.type]||[],[_extends({},lt,this.mapNestedChildrenToProps(ot,at))]),it))},tt.prototype.mapObjectTypeChildren=function(nt){var it,ot,st=nt.child,lt=nt.newProps,at=nt.newChildProps,ut=nt.nestedChildren;switch(st.type){case TAG_NAMES.TITLE:return _extends({},lt,(it={},it[st.type]=ut,it.titleAttributes=_extends({},at),it));case TAG_NAMES.BODY:return _extends({},lt,{bodyAttributes:_extends({},at)});case TAG_NAMES.HTML:return _extends({},lt,{htmlAttributes:_extends({},at)})}return _extends({},lt,(ot={},ot[st.type]=_extends({},at),ot))},tt.prototype.mapArrayTypeChildrenToProps=function(nt,it){var ot=_extends({},it);return Object.keys(nt).forEach(function(st){var lt;ot=_extends({},ot,(lt={},lt[st]=nt[st],lt))}),ot},tt.prototype.warnOnInvalidChildren=function(nt,it){return!0},tt.prototype.mapChildrenToProps=function(nt,it){var ot=this,st={};return React$2.Children.forEach(nt,function(lt){if(!(!lt||!lt.props)){var at=lt.props,ut=at.children,ft=objectWithoutProperties(at,["children"]),mt=convertReactPropstoHtmlAttributes(ft);switch(ot.warnOnInvalidChildren(lt,ut),lt.type){case TAG_NAMES.LINK:case TAG_NAMES.META:case TAG_NAMES.NOSCRIPT:case TAG_NAMES.SCRIPT:case TAG_NAMES.STYLE:st=ot.flattenArrayTypeChildren({child:lt,arrayTypeChildren:st,newChildProps:mt,nestedChildren:ut});break;default:it=ot.mapObjectTypeChildren({child:lt,newProps:it,newChildProps:mt,nestedChildren:ut});break}}}),it=this.mapArrayTypeChildrenToProps(st,it),it},tt.prototype.render=function(){var nt=this.props,it=nt.children,ot=objectWithoutProperties(nt,["children"]),st=_extends({},ot);return it&&(st=this.mapChildrenToProps(it,st)),React$2.createElement(i,st)},createClass(tt,null,[{key:"canUseDOM",set:function(nt){i.canUseDOM=nt}}]),tt}(React$2.Component),s.propTypes={base:PropTypes.object,bodyAttributes:PropTypes.object,children:PropTypes.oneOfType([PropTypes.arrayOf(PropTypes.node),PropTypes.node]),defaultTitle:PropTypes.string,defer:PropTypes.bool,encodeSpecialCharacters:PropTypes.bool,htmlAttributes:PropTypes.object,link:PropTypes.arrayOf(PropTypes.object),meta:PropTypes.arrayOf(PropTypes.object),noscript:PropTypes.arrayOf(PropTypes.object),onChangeClientState:PropTypes.func,script:PropTypes.arrayOf(PropTypes.object),style:PropTypes.arrayOf(PropTypes.object),title:PropTypes.string,titleAttributes:PropTypes.object,titleTemplate:PropTypes.string},s.defaultProps={defer:!0,encodeSpecialCharacters:!0},s.peek=i.peek,s.rewind=function(){var et=i.rewind();return et||(et=mapStateOnServer({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),et},a},NullComponent=function o(){return null},HelmetSideEffects=withSideEffect$1(reducePropsToState,handleClientStateChange,mapStateOnServer)(NullComponent),HelmetExport=Helmet(HelmetSideEffects);HelmetExport.renderStatic=HelmetExport.rewind;function PageViewContainer({page:o}){PageViewContainer.propTypes={page:PropTypes.object.isRequired};const i=useParams(),s=useDispatch(),a=useSelector(yt=>yt.users.currentProfile),et=useSelector(yt=>yt.pages.commentsInView);useSelector(yt=>yt.users.profilesInView);const[tt,rt]=reactExports.useState(!1),nt=useSelector(yt=>yt.pages.loading),[it,ot]=reactExports.useState([]),st=()=>{i.id,s(fetchPage(i)).then(yt=>{checkResult(yt,ht=>{const{page:pt}=ht;lt(pt)},ht=>{})})};reactExports.useEffect(()=>{const{id:yt}=i;o==null||o.id!=yt?st():(rt(!0),o&&lt(o))},[]),reactExports.useEffect(()=>{o&&lt(o)},[]),reactExports.useEffect(()=>{ot(et)},[et]);const lt=yt=>{yt!=null&&s(fetchCommentsOfPage({page:yt})).then(pt=>{checkResult(pt,ct=>{const{comments:gt}=ct;ot(gt),rt(!1)},()=>{})})};if(reactExports.useEffect(()=>{et[0]!=null&&o!=null&&et[0].pageId==o.id?(ot(et),rt(!1)):lt()},[et]),!nt&&o!=null)switch(o.type){case PageType.text:o.data;break;case PageType.picture:o.data,o.title;break;case PageType.video:o.data;break;default:o.data;break}const at=()=>it&&it.length>0?jsxRuntimeExports.jsx("div",{className:"comment-thread",children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:it.length,next:lt,hasMore:tt,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),children:it.map(yt=>{if(yt.parentCommentId==""||yt.parentCommentId==null)return jsxRuntimeExports.jsx(CommentItem,{page:o,comment:yt})})})}):jsxRuntimeExports.jsx("div",{className:"empty",children:jsxRuntimeExports.jsx("h1",{children:" 0 Comments"})}),ut=()=>o?jsxRuntimeExports.jsx(PageViewItem,{page:o,currentProfile:a}):jsxRuntimeExports.jsx("div",{className:"empty",children:jsxRuntimeExports.jsx("h6",{children:"This page doesn't exist"})});let ft="";o&&(ft=o.data,o.data.length>200&&(ft=o.data.slice(0,200)));const mt=()=>o?jsxRuntimeExports.jsxs(HelmetExport,{children:[jsxRuntimeExports.jsx("title",{children:o.title}),jsxRuntimeExports.jsx("meta",{name:"description",content:ft})]}):jsxRuntimeExports.jsx("div",{});return jsxRuntimeExports.jsxs("div",{className:"center",children:[mt(),jsxRuntimeExports.jsxs("div",{id:"page",children:[ut(),at()]})]})}function BookViewContainer({book:o}){const i=useNavigate(),s=useParams(),a=useDispatch();useSelector(Ot=>Ot.books.loading);const et=useSelector(Ot=>Ot.users.currentProfile),[tt,rt]=reactExports.useState([]),[nt,it]=reactExports.useState(!1),ot=useSelector(Ot=>Ot.users.followedBooks),st=useSelector(Ot=>Ot.users.homeCollection),lt=useSelector(Ot=>Ot.libraries.bookmarkLibrary),[at,ut]=reactExports.useState(null),[ft,mt]=reactExports.useState(!1),[yt,ht]=reactExports.useState(!1),pt=()=>{if(ft&&o){let Ot=lt.bookIdList.filter(Ct=>Ct!=o.id);const Dt={library:lt,pageIdList:lt.pageIdList,bookIdList:Ot};a(updateLibraryContent(Dt)),mt(!1)}else if(lt&&et&&o){const Ot=[...lt.bookIdList,o.id],Dt={library:lt,pageIdList:lt.pageIdList,bookIdList:Ot};a(updateLibraryContent(Dt)).then(Ct=>{checkResult(Ct,St=>{const{library:$t}=St;a(setBookmarkLibrary({library:$t}));let Lt=$t.bookIdList.find(Rt=>Rt==o.id);mt(!!Lt)},()=>{window.alert("Error saving bookmark")})})}else ft?et||window.alert("First log in"):window.alert("You'll need to set a bookmark library")},ct=()=>{const Dt={id:s.id};a(fetchBook(Dt)).then(Ct=>{checkResult(Ct,St=>{bt()},St=>{})})};reactExports.useEffect(()=>{o&&gt(o)},[o,et]);const gt=Ot=>{if(Ot.privacy)if(et){let Dt=Ot.readers.find(Rt=>et&&Rt==et.userId),Ct=Ot.commenters.find(Rt=>et&&Rt==et.userId),St=Ot.writers.find(Rt=>et&&Rt==et.userId),$t=Ot.editors.find(Rt=>et&&Rt==et.userId),Lt=et&&Ot.profileId==et.id;if(Dt||Ct||St||$t||Lt){Et(Ot);const Rt={id:Ot.profileId};a(fetchProfile(Rt)),ht(!1)}else ht(!0)}else ht(!0);else{ht(!1),Et(Ot);const Dt={id:Ot.profileId};a(fetchProfile(Dt))}},Et=Ot=>{if(rt([]),Ot.pageIdList&&tt.length==Ot.pageIdList.length)it(!1);else if(Ot.pageIdList&&Ot.pageIdList.length==0)it(!1);else if(Ot.pageIdList){it(!0);for(let Dt=0;Dt<Ot.pageIdList.length;Dt++){const Ct=Ot.pageIdList[Dt];a(fetchPage({id:Ct})).then($t=>{checkResult($t,Lt=>{const{page:Rt}=Lt;let jt=tt;jt[Dt]=Rt,rt(jt),it(!1)},Lt=>{rt(Rt=>[...Rt,new Page(Ct,"Deleted","Deleted","Delted",0,!1,!1,PageType.text,new Contributors([],[],[],[]))]),it(!1)})})}}else rt([]),it(!1)};reactExports.useEffect(()=>{ct()},[]),reactExports.useEffect(()=>{if(lt&&o){let Ot=lt.bookIdList.find(Dt=>Dt==o.id);mt(!!Ot)}},[lt]);const bt=()=>{et&&o?a(fetchFollowBooksForProfile({profile:et})).then(Dt=>{checkResult(Dt,Ct=>{const{followList:St}=Ct;let $t=St.find(Lt=>Lt!=null&&o&&Lt.bookId==o.id&&Lt.profileId==et.id);ut($t)},()=>{})}):ut(null)},xt=()=>o?o.pageIdList.length>0?jsxRuntimeExports.jsx("div",{className:"content",children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:tt.length,next:()=>Et(o),hasMore:nt,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsxs("div",{className:"no-more-data",children:[jsxRuntimeExports.jsx("p",{children:"No more data to load."}),"   "]}),scrollableTarget:"scrollableDiv",children:tt.map(Ot=>Ot?jsxRuntimeExports.jsx(DashboardItem,{book:o,page:Ot},Ot.id):jsxRuntimeExports.jsx("div",{className:"Empty",children:" Page has been deleted"}))})}):jsxRuntimeExports.jsx("h1",{children:"0"}):jsxRuntimeExports.jsx("div",{children:"A Loading..."}),Tt=()=>{et&&a(createFollowBook({book:o,profile:et})).then(Dt=>{checkResult(Dt,Ct=>{let St=[...st.books];st.books.find(zt=>o.id)||(St=[...st.books,o.id]);let Lt=[...st.libraries],Rt=[...st.pages],jt=[...st.profiles];a(updateHomeCollection({profile:et,books:St,pages:Rt,libraries:Lt,profiles:jt}))},()=>{window.alert("Log in first")})})},wt=()=>{if(et&&o){const Dt={followBook:ot.find(Ct=>Ct!=null&&Ct.id==`${et.id}_${o.id}`),book:o,profile:et};a(deleteFollowBook(Dt)).then(Ct=>{checkResult(Ct,St=>{ut(null)},()=>{window.alert("Error deleting follow")})})}};let It=()=>ot&&et&&o&&o.profileId==et.id?jsxRuntimeExports.jsx(Button$4,{style:iconStyle,onClick:Ot=>{setBookInView({book:o}),i(`/book/${o.id}/edit`)},children:jsxRuntimeExports.jsx(Settings$1,{})},o.id):jsxRuntimeExports.jsx("div",{});const At=()=>at?jsxRuntimeExports.jsx(Button$4,{variant:"outlined",style:{backgroundColor:theme.palette.secondary.light,color:theme.palette.secondary.dark},lassName:"follow-btn",onClick:()=>debounce(wt(),10),children:"Reader"}):jsxRuntimeExports.jsx(Button$4,{variant:"outlined",style:{backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText},className:"follow-btn",onClick:()=>debounce(Tt(),10),children:"Read"});function kt(){if(et){let Ot=o.profileId==et.id,Dt=null;o.writers&&(Dt=o.writers.find(St=>et.userId==St));let Ct=null;return o.editors&&(Ct=o.editors.find(St=>et.userId==St)),!!Ot||!!Dt||!!Ct}else return!1}const Vt=()=>et&&o&&kt()?jsxRuntimeExports.jsx(IconButton$1,{style:iconStyle,onClick:()=>{setBookInView({book:o}),i(`/book/${o.id}/add`)},children:jsxRuntimeExports.jsx(Add$1,{})}):jsxRuntimeExports.jsx("div",{}),Mt=()=>jsxRuntimeExports.jsxs("div",{className:"info view",children:[jsxRuntimeExports.jsxs("div",{className:"",children:[jsxRuntimeExports.jsxs("h4",{className:"",children:[" ",o.title]}),jsxRuntimeExports.jsx("div",{className:"",children:jsxRuntimeExports.jsxs("h6",{children:[" ",o.purpose]})})]}),jsxRuntimeExports.jsxs("div",{className:"button-row",children:[At(),Vt(),It(),ft?jsxRuntimeExports.jsx(IconButton$1,{style:iconStyle,onClick:pt,children:jsxRuntimeExports.jsx(default_1$d,{})}):jsxRuntimeExports.jsx(IconButton$1,{style:iconStyle,disabled:!et,onClick:pt,children:jsxRuntimeExports.jsx(default_1$e,{})})]})]});if(o&&!yt)return jsxRuntimeExports.jsxs("div",{className:"screen",children:[jsxRuntimeExports.jsxs(HelmetExport,{children:[jsxRuntimeExports.jsx("title",{children:o.title}),jsxRuntimeExports.jsx("meta",{name:"description",content:o.purpose})]}),jsxRuntimeExports.jsx("div",{className:"left-bar",children:Mt()}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:jsxRuntimeExports.jsx("div",{className:"content-list dashboard",children:xt()})})]});if(yt)return jsxRuntimeExports.jsx("div",{className:"evenly container view",children:jsxRuntimeExports.jsx("h2",{children:"This book isn't for your eyes."})})}function ProfileCard(o){const i=useSelector(s=>s.users.currentProfile);return i?jsxRuntimeExports.jsx("div",{className:"",children:jsxRuntimeExports.jsxs("div",{className:"profile-container",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("img",{className:"profile-pic",inline:"true",src:i.profilePicture}),jsxRuntimeExports.jsx("h6",{className:"username",children:i.username})]}),jsxRuntimeExports.jsx("div",{className:"statement",children:jsxRuntimeExports.jsx("h6",{children:i.selfStatement})})]})}):jsxRuntimeExports.jsx("img",{src:"https://media.giphy.com/media/sSgvbe1m3n93G/source.gif",alt:"gif",width:"50",height:"50"})}var Add={},_interopRequireDefault$4=interopRequireDefaultExports;Object.defineProperty(Add,"__esModule",{value:!0});var default_1$4=Add.default=void 0,_createSvgIcon$4=_interopRequireDefault$4(requireCreateSvgIcon()),_jsxRuntime$4=jsxRuntimeExports;default_1$4=Add.default=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var MoreVert={},_interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(MoreVert,"__esModule",{value:!0});var default_1$3=MoreVert.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=jsxRuntimeExports;default_1$3=MoreVert.default=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");function PageListItem({page:o,onDelete:i}){reactExports.useState(!1);const s=useSelector(nt=>nt.users.currentProfile),a=useDispatch(),et=useNavigate(),tt=()=>{setPageInView({page:o}),et(`/page/${o.id}`)},rt=nt=>{o&&(a(setPagesToBeAdded({pageList:[o]})),et(`/${nt}/new`))};if(o!=null){switch(o.type){case PageType.text:o.data;break;case PageType.picture:o.data,o.title;break;case PageType.video:o.data;break;default:o.data;break}const nt={border:"none",marginLeft:"1em"},it={fontSize:"2rem",color:theme.palette.primary.main};let ot=jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$1,{style:nt,children:jsxRuntimeExports.jsx(default_1$3,{style:it})}),jsxRuntimeExports.jsxs(Menu$4,{children:[jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>rt("book"),children:"Book"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>rt("library"),children:"Library"})]})]})});return s!=null&&o.profileId==s.id&&(ot=jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$1,{style:nt,children:jsxRuntimeExports.jsx(default_1$4,{style:it})}),jsxRuntimeExports.jsxs(Menu$4,{children:[jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>rt("book"),children:"Book"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>rt("library"),children:"Library"})]})]}),jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$1,{style:nt,children:jsxRuntimeExports.jsx(default_1$3,{style:it})}),jsxRuntimeExports.jsxs(Menu$4,{children:[jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{et(`/page/${o.id}/edit`)},children:"Edit"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{a(deletePage({page:o})).then(lt=>checkResult(lt,at=>{i()},at=>{}))},children:"Delete"})]})]})]})),jsxRuntimeExports.jsxs("div",{className:"list-item",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("a",{className:"title",onClick:tt,children:o.title.length>0?jsxRuntimeExports.jsx("h6",{children:o.title}):jsxRuntimeExports.jsx("h6",{children:"Unititled"})})}),jsxRuntimeExports.jsx("div",{className:"button-row",children:ot})]})}else return jsxRuntimeExports.jsx("div",{className:"list-item",children:"Loading..."})}function ListItem({type:o,id:i,title:s,item:a,onDelete:et}){reactExports.useState(!1);const tt=useSelector(ft=>ft.users.currentProfile),rt=useNavigate(),nt=useDispatch(),it=()=>{switch(rt(`/${o}/${i}`),o){case"book":setBookInView(a);case"library":setLibraryInView(a)}},ot=()=>{switch(rt(`/${o}/${i}/edit`),o){case"book":setBookInView(a);case"library":setLibraryInView(a)}},st=()=>{switch(o){case"book":nt(deleteBook({book:a})).then(mt=>{checkResult(mt,yt=>{et()},yt=>{})});case"library":nt(deleteLibrary({library:a})).then(mt=>checkResult(mt,yt=>{et()},yt=>{}))}},lt={color:theme.palette.primary.main,fontSize:"2rem"},at={border:"none",marginLeft:"1em"},ut=()=>{switch(o){case"book":return tt!=null&&a.profileId==tt.id?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$1,{style:at,children:jsxRuntimeExports.jsx(default_1$3,{style:lt})}),jsxRuntimeExports.jsxs(Menu$4,{children:[jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{nt(setBooksToBeAdded({bookList:[a]})),rt("/library/new")},children:"Add to Library"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:ot,children:"Edit"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{window.confirm("Are you sure you want to delete this")&&st()},children:"Delete"})]})]})}):jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$1,{style:at,children:jsxRuntimeExports.jsx(default_1$3,{style:lt})}),jsxRuntimeExports.jsxs(Menu$4,{children:[jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{nt(setBooksToBeAdded({bookList:[a]})),rt("/library/new")},children:"Add To Library"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{nt(createFollowBook({book:a,profile:tt}))},children:"Follow"})]})]});case"library":return tt!=null&&a.profileId==tt.id?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$1,{style:at,children:jsxRuntimeExports.jsx(default_1$3,{style:lt})}),jsxRuntimeExports.jsxs(Menu$4,{children:[jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{rt(`/${o}/${i}/edit`)},type:"button",children:"Edit"}),jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{window.confirm("Are you sure you want to delete this")&&st()},type:"button",children:"Delete"})]})]})}):jsxRuntimeExports.jsxs(Dropdown$3,{children:[jsxRuntimeExports.jsx(MenuButton$1,{style:at,children:jsxRuntimeExports.jsx(default_1$3,{style:lt})}),jsxRuntimeExports.jsx(Menu$4,{children:jsxRuntimeExports.jsx(MenuItem$3,{onClick:()=>{},children:"Follow"})})]})}};return jsxRuntimeExports.jsxs("div",{className:"list-item",children:[jsxRuntimeExports.jsx("div",{className:"title",children:jsxRuntimeExports.jsx("a",{onClick:it,children:s.length>0?jsxRuntimeExports.jsxs("h6",{children:["  ",s]}):jsxRuntimeExports.jsx("h6",{children:"Untitled"})})}),jsxRuntimeExports.jsxs("div",{className:"button-row",children:[ut(),jsxRuntimeExports.jsx("div",{})]})]})}var SortByAlpha={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(SortByAlpha,"__esModule",{value:!0});var default_1$2=SortByAlpha.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=jsxRuntimeExports;default_1$2=SortByAlpha.default=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27 1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27zm-1.13 7.37 1.94-5.18 1.94 5.18zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26z"}),"SortByAlpha");function ContentList({profile:o}){const[i,s]=reactExports.useState(1),[a,et]=reactExports.useState("page"),tt=useSelector(Ct=>Ct.pages.pagesInView),[rt,nt]=reactExports.useState(!0),[it,ot]=reactExports.useState(!0),[st,lt]=reactExports.useState(!0),[at,ut]=reactExports.useState(!0),[ft,mt]=reactExports.useState([]),[yt,ht]=reactExports.useState([]),[pt,ct]=reactExports.useState([]),[gt,Et]=reactExports.useState(!1),[bt,xt]=reactExports.useState(!1),Tt=useDispatch();reactExports.useEffect(()=>{It(),At(),kt()},[o]);const wt=()=>{const Ct=jsxRuntimeExports.jsx("div",{className:"empty",children:"Empty"});return ft!=null?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InfiniteScroll,{className:"scroll",dataLength:ft.length,next:It,hasMore:it,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),children:ft.map(St=>jsxRuntimeExports.jsx(PageListItem,{page:St,onDelete:()=>{let $t=ft.filter(Lt=>Lt!==St);mt($t)}},St.id))})}):Ct};reactExports.useEffect(()=>{},[tt]);const It=()=>{Tt(getProfilePages({profile:o,page:i,groupBy:9})).then(St=>{checkResult(St,$t=>{const{pageList:Lt}=$t;mt(Lt),ot(!1)},$t=>{ot(!1)})})},At=()=>{Tt(getProfileBooks({profile:o,page:i,groupBy:9})).then(St=>{checkResult(St,$t=>{const{bookList:Lt}=$t;ht(Lt),lt(!1)},$t=>{lt(!1)})}).catch(St=>{lt(!1)})},kt=()=>{Tt(getProfileLibraries({profile:o,page:i,groupBy:9})).then(St=>{checkResult(St,$t=>{const{libList:Lt}=$t;ct(Lt),ut(!1)},$t=>{ut(!1)})}).catch(St=>{ut(!1)})},Vt=()=>{const Ct=jsxRuntimeExports.jsx("div",{className:"empty",children:jsxRuntimeExports.jsx("h1",{children:"Empty"})});return a=="page"?ft!=null&&ft.length>0?wt():Ct:a=="book"?yt!=null&&yt.length>0?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InfiniteScroll,{className:"scroll",dataLength:yt.length,next:At,hasMore:st,loader:jsxRuntimeExports.jsx("div",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),children:yt.map(St=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ListItem,{ownerProfileId:St.profileId,title:St.title,id:St.id,type:Book.className,item:St})},St.id))})}):Ct:a=="library"?pt!=null&&pt.length>0?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InfiniteScroll,{className:"scroll",dataLength:pt.length,next:kt,hasMore:at,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),children:pt.map(St=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(ListItem,{ownerProfileId:St.profileId,title:St.name,type:"library",id:St.id,item:St},St.id)},St.id))})}):Ct:jsxRuntimeExports.jsx("div",{children:wt()})},Mt=()=>{if(gt){let Ct=[...ft].sort((Lt,Rt)=>Rt.created-Lt.created);mt(Ct);let St=[...yt].sort((Lt,Rt)=>Rt.updatedAt-Lt.updatedAt);ht(St);let $t=[...pt].sort((Lt,Rt)=>Rt.updatedAt-Lt.updatedAt);ct($t)}else{let Ct=[...ft].sort((Lt,Rt)=>Lt.created-Rt.created);mt(Ct);let St=[...yt].sort((Lt,Rt)=>Lt.updatedAt-Rt.updatedAt);ht(St);let $t=[...pt].sort((Lt,Rt)=>Lt.updatedAt-Rt.updatedAt);ct($t)}},Ot=Ct=>{if(xt(Ct),Ct){let St=[...ft].sort((Rt,jt)=>Rt.title<jt.title?-1:Rt.title>jt.title?1:0);mt(St);let $t=[...yt].sort((Rt,jt)=>Rt.title<jt.title?-1:Rt.title>jt.title?1:0);ht($t);let Lt=[...pt].sort((Rt,jt)=>Rt.name<jt.name?-1:Rt.name>jt.name?1:0);ct(Lt)}else{let St=[...ft].sort((Rt,jt)=>jt.title<Rt.title?-1:jt.title>Rt.title?1:0);mt(St);let $t=[...yt].sort((Rt,jt)=>jt.title<Rt.title?-1:jt.title>Rt.title?1:0);ht($t);let Lt=[...pt].sort((Rt,jt)=>jt.name<Rt.name?-1:jt.name>Rt.name?1:0);ct(Lt)}},Dt=Ct=>{et(Ct),nt(!rt),nt(!0)};return jsxRuntimeExports.jsx("div",{className:"content-list",children:jsxRuntimeExports.jsxs("div",{className:"inner",children:[jsxRuntimeExports.jsxs("div",{className:"btn-row",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(Button$4,{style:btnStyle,onClick:()=>{Dt("page")},children:"Page"}),jsxRuntimeExports.jsx(Button$4,{style:btnStyle,onClick:()=>{Dt("book")},children:"Book"}),jsxRuntimeExports.jsx(Button$4,{style:btnStyle,onClick:()=>{Dt("library")},children:"Library"})]}),jsxRuntimeExports.jsxs("div",{className:"sort",children:[gt?jsxRuntimeExports.jsx(Button$4,{style:btnStyle,onClick:()=>{Et(!1),Mt()},children:"New to Old"}):jsxRuntimeExports.jsx(Button$4,{style:btnStyle,onClick:()=>{Et(!0),Mt()},children:"Old to New"}),jsxRuntimeExports.jsx(Button$4,{style:btnStyle,onClick:()=>{Ot(!bt)},children:jsxRuntimeExports.jsx(default_1$2,{})})]})]}),jsxRuntimeExports.jsx("div",{className:`${rt?"visible":"hidden"}`,style:{maxHeight:rt?"":"0",transition:"max-height 0.3s ease-in-out"},children:Vt()})]})})}function MyProfileContainer({booksInView:o,currentProfile:i,librariesInView:s}){return i?jsxRuntimeExports.jsxs("div",{className:"two-panel",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:jsxRuntimeExports.jsx(ContentList,{profile:i,booksInView:o,librariesInView:s})}),jsxRuntimeExports.jsxs("div",{className:"right-bar",children:[jsxRuntimeExports.jsx(ProfileCard,{profile:i}),jsxRuntimeExports.jsx(CreateButtons,{})]})]}):jsxRuntimeExports.jsx("div",{children:"Loading..."})}function CreateButtons(o){const i=useDispatch(),s=useNavigate(),[a,et]=reactExports.useState(null),[tt,rt]=reactExports.useState(null),nt=ot=>{rt(ot.currentTarget)},it=()=>{rt(null)};return jsxRuntimeExports.jsxs("div",{className:"create-buttons",children:[jsxRuntimeExports.jsxs(Button$4,{id:"demo-customized-button",style:{backgroundColor:theme.palette.primary.main,color:theme.palette.primary.contrastText,boxShadow:"0 5px 18px rgba(0, 0, 0, 0.6)",padding:"1em 2em"},"aria-controls":tt?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":tt?"true":void 0,sx:{my:2,color:"white",display:"block"},onClick:ot=>debounce(nt(ot),5),children:["Create ",tt?jsxRuntimeExports.jsx(ExpandLess$1,{}):jsxRuntimeExports.jsx(ExpandMore$1,{})]}),jsxRuntimeExports.jsxs(Menu$2,{anchorEl:tt,open:tt,onClose:it,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},style:{width:"10em"},MenuListProps:{"aria-labelledby":"demo-customized-button"},children:[jsxRuntimeExports.jsxs(MenuItem$1,{onClick:ot=>{et(a?null:ot.currentTarget)},children:["Page ",a?jsxRuntimeExports.jsx(ExpandMore$1,{}):jsxRuntimeExports.jsx(ExpandLess$1,{})]},"page"),jsxRuntimeExports.jsxs(List$1,{style:{display:a?"":"none"},children:[jsxRuntimeExports.jsx(ListItemButton$1,{onClick:ot=>{i(setEditingPage({page:null})),et(null),s("/page/text")},sx:{pl:4},children:jsxRuntimeExports.jsx(default_1$7,{})},"page"),jsxRuntimeExports.jsx(ListItemButton$1,{onClick:ot=>{i(setEditingPage({page:null})),et(null),s("/page/image")},sx:{pl:4},children:jsxRuntimeExports.jsx(default_1$6,{})},"image"),jsxRuntimeExports.jsx(ListItemButton$1,{sx:{pl:4},onClick:()=>{i(setEditingPage({page:null})),it(),s("/page/link")},children:jsxRuntimeExports.jsx(default_1$8,{})})]}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{s("/book/new")},children:"Book"}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>{s("/library/new")},children:"Library"})]})]})}const inputStyle={width:"100%"};function CreateForm(o){const[i,s]=reactExports.useState(""),[a,et]=reactExports.useState(""),tt=useDispatch(),rt=useNavigate(),[nt,it]=reactExports.useState(!1),ot=useSelector(mt=>mt.users.currentProfile),[st,lt]=reactExports.useState(!1),at=useSelector(mt=>mt.pages.pagesToBeAdded),ut=mt=>{s(mt.target.value)},ft=mt=>{mt.preventDefault();const yt=at.map(pt=>pt.id),ht={title:i,purpose:a,profileId:ot.id,pageIdList:yt,writingIsOpen:st,privacy:nt,commenters:[],editors:[],readers:[],writers:[]};tt(createBook(ht)).then(pt=>{const{payload:ct}=pt;pt!=null&&pt.error==null&&rt(`/book/${ct.book.id}`)})};return jsxRuntimeExports.jsxs(FormGroup$1,{className:"create-form",children:[jsxRuntimeExports.jsx(TextField$1,{style:inputStyle,label:"Book Title",placeholder:"Title",value:i,onChange:mt=>ut(mt)}),jsxRuntimeExports.jsx(FormControlLabel$1,{style:inputStyle,control:jsxRuntimeExports.jsx(Checkbox$1,{checked:nt,onChange:mt=>{it(mt.target.checked)}}),label:nt?"Private":"Public",value:nt}),jsxRuntimeExports.jsx(FormControlLabel$1,{style:inputStyle,control:jsxRuntimeExports.jsx(Checkbox$1,{checked:st,onChange:mt=>{lt(mt.target.checked)}}),label:`Writing is ${st?"open":"close"}`}),jsxRuntimeExports.jsx("div",{style:inputStyle,className:"purpose",children:jsxRuntimeExports.jsx("label",{children:"Purpose"})}),jsxRuntimeExports.jsx(TextareaAutosize,{style:{width:"100%",padding:"1em",borderRadius:textareaStyle.borderRadius},value:a,minRows:3,onChange:mt=>{et(mt.target.value)}}),jsxRuntimeExports.jsx(Button$4,{variant:"outlined",style:{width:inputStyle.width,marginLeft:inputStyle.marginLeft,padding:"1em",marginTop:"2em",backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText},onClick:mt=>ft(mt),children:"Save"}),jsxRuntimeExports.jsx(List$1,{children:at.map(mt=>jsxRuntimeExports.jsx(ListItem$2,{onClick:()=>{rt(Paths.page.createRoute(mt.id))},children:mt.title},mt.id))})]})}function CreateBookContainer({pagesInView:o}){const i=useNavigate(),[s,a]=reactExports.useState([]),et=useSelector(st=>st.users.currentProfile),tt=useSelector(st=>st.pages.pagesToBeAdded),rt=useDispatch();reactExports.useEffect(()=>{nt()},[]);const nt=()=>{et&&rt(getProfileBooks({profile:et})).then(lt=>checkResult(lt,at=>{const{bookList:ut}=at;a(ut)},at=>{}))},it=st=>{tt.forEach(ft=>{let mt=[...st.commenters,...st.writers,...st.editors,...st.readers],yt=tt.map(ct=>ct.id),ht=[...st.pageIdList,...yt];ht.push(ft.id),rt(appendSaveRolesForPage({pageIdList:ht,readers:mt})).then(ct=>{checkResult(ct,gt=>{window.alert("Book contributors added to page readers")},gt=>{window.alert("Error others may not be able to read page. Check roles")})})});let lt=tt.map(ft=>ft.id),at=[...st.pageIdList,...lt];const ut={book:st,title:st.title,purpose:st.purpose,pageIdList:at,privacy:st.privacy,writingIsOpen:st.writingIsOpen};rt(updateBook(ut)).then(ft=>{checkResult(ft,mt=>{i(`/book/${st.id}`)},()=>{})}).catch(ft=>{})},ot=()=>{let st=0;return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InfiniteScroll,{style:{maxHeight:"90vh"},className:"create-list",dataLength:s.length,next:nt,hasMore:!1,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("p",{className:"no-more-data",children:"No more data to load."}),children:s.map(lt=>{st+=1;let at=lt.pageIdList.find(ut=>tt.find(mt=>mt.id==ut));return jsxRuntimeExports.jsxs("div",{className:`list-item rounded ${at?"add":""}`,children:[jsxRuntimeExports.jsx("h6",{children:lt.title}),jsxRuntimeExports.jsx("div",{className:"button-row",children:jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>it(lt),children:jsxRuntimeExports.jsx(Add$1,{style:iconStyle})})})]},`${lt.id}_${st}`)})})})};return jsxRuntimeExports.jsxs("div",{className:"two-panel",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:ot()}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:jsxRuntimeExports.jsx(CreateForm,{})})]})}function LibraryCreateForm(o){const i=useSelector(yt=>yt.books.booksToBeAdded),s=useSelector(yt=>yt.pages.pagesToBeAdded),a=useSelector(yt=>yt.users.currentProfile),[et,tt]=reactExports.useState(""),[rt,nt]=reactExports.useState(""),it=useDispatch(),ot=useNavigate(),[st,lt]=reactExports.useState(!1),[at,ut]=reactExports.useState(!1),ft=yt=>{const ht=i.map(gt=>gt.id),pt=s.map(gt=>gt.id);yt.preventDefault();const ct={name:et,purpose:rt,profileId:a.id,pageIdList:pt,bookIdList:ht,writingIsOpen:at,privacy:st,commenters:[],readers:[],editors:[],writers:[]};it(createLibrary(ct)).then(gt=>{const{payload:Et}=gt;ot(`/library/${Et.library.id}`)}).catch(gt=>{})},mt=yt=>{tt(yt.target.value)};return jsxRuntimeExports.jsxs(FormGroup$1,{style:{},className:"create-form",children:[jsxRuntimeExports.jsx(TextField$1,{type:"text",label:"Library Name",placeholder:"Library Name",className:"text-input",value:et,onChange:yt=>mt(yt)}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{onChange:yt=>{lt(yt.target.checked)},name:"privacy",checked:st,className:"checkbox"}),label:`${st?"Private":"Public"}`}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{onChange:yt=>{ut(yt.target.checked)},checked:at}),label:`Writing is ${at?"open":"close"}`}),jsxRuntimeExports.jsx("label",{children:"Purpose:"}),jsxRuntimeExports.jsx(TextareaAutosize,{onChange:yt=>{nt(yt.target.value)},id:"purpose",name:"purpose",style:{padding:"1em",borderRadius:"16px"},rows:"5",cols:"33"}),jsxRuntimeExports.jsx(Button$4,{variant:"outlined",style:{marginTop:"2em",backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText},type:"submit",onClick:yt=>ft(yt),children:"Save"})]})}function CreateLibraryContainer(o){const i=useSelector(st=>st.books.booksToBeAdded),s=useSelector(st=>st.pages.pagesToBeAdded),a=useNavigate(),et=useSelector(st=>st.users.currentProfile),tt=useSelector(st=>st.libraries.librariesInView),rt=useDispatch(),nt=st=>{const lt=s.map(yt=>yt.id),at=i.map(yt=>yt.id);let ut={library:st,pageIdList:lt,bookIdList:at};const ft={bookIdList:at,readers:st.readers,commenters:st.commenters},mt={pageIdList:lt,reader:st.readers,commenters:st.commenters};rt(appendSaveRolesFoBook(ft)),rt(appendSaveRolesForPage(mt)),rt(appendLibraryContent(ut)).then(yt=>{yt.error==null&&a(`/library/${st.id}`)})},it=()=>{et&&rt(getProfileLibraries({profile:et}))};reactExports.useEffect(()=>{it()},[]);const ot=()=>tt&&tt.length>0?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:tt.length,next:it,hasMore:!1,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),children:tt.map(st=>jsxRuntimeExports.jsxs("div",{className:"list-item",children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h6",{children:st.name})}),jsxRuntimeExports.jsx("div",{className:"button-row",children:jsxRuntimeExports.jsx(Button$4,{onClick:()=>nt(st),children:jsxRuntimeExports.jsx(Add$1,{style:iconStyle})})})]},st.id))})}):jsxRuntimeExports.jsx("div",{children:"Loading..."});return jsxRuntimeExports.jsx("div",{id:"CreateLibrary",children:jsxRuntimeExports.jsxs("div",{className:"screen",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:jsxRuntimeExports.jsx(MediaQuery,{maxWidth:"1000px",children:jsxRuntimeExports.jsx(LibraryCreateForm,{})})}),jsxRuntimeExports.jsx("div",{className:"main-bar",children:ot()}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:jsxRuntimeExports.jsx(MediaQuery,{minWidth:"1000px",children:jsxRuntimeExports.jsx(LibraryCreateForm,{})})})]})})}function useAuth(o){const[i,s]=reactExports.useState({isSignedIn:!1,pending:!0,user:null}),a=useSelector(tt=>tt.users.currentProfile),et=useDispatch();return reactExports.useEffect(()=>{onAuthStateChanged(auth,tt=>{tt&&(tt.emailVerified&&(!a||a.userId!=tt.uid)&&(localStorage.setItem("user",JSON.stringify(tt)),et(getCurrentProfile({userId:tt.uid})).then(rt=>{if(rt.error==null){const{payload:nt}=rt;if(nt.error==null){const{profile:it}=nt,ot={profile:it},st={id:it.bookmarkLibraryId};et(fetchBookmarkLibrary(st)),et(fetchHomeCollection(ot))}}})),s({user:tt,pending:!1,isSignedIn:!!tt}))})},[a]),{...i}}function SettingsContainer(o){const i=useNavigate(),[s,a]=reactExports.useState([!1,"bookmark"]);let et=useAuth();const tt=useSelector(Qt=>Qt.users.currentProfile),[rt,nt]=reactExports.useState(""),it=useSelector(Qt=>Qt.users.homeCollection),[ot,st]=reactExports.useState(""),[lt,at]=reactExports.useState(!1),[ut,ft]=reactExports.useState(et),[mt,yt]=reactExports.useState([]),[ht,pt]=reactExports.useState(!1),ct=useDispatch();let[gt,Et]=reactExports.useState(!1);const[bt,xt]=reactExports.useState(!1),[Tt,wt]=reactExports.useState([]),[It,At]=reactExports.useState([]),[kt,Vt]=reactExports.useState([]),[Mt,Ot]=reactExports.useState([]),Dt=Qt=>{yt([]),Qt&&(Tt.forEach(Xt=>{ct(fetchPage({id:Xt})).then(er=>checkResult(er,sr=>{const{page:ur}=sr;let nr={type:"page",page:ur,id:ur.id};yt(yr=>[...yr,nr])},sr=>{}))}),It.forEach(Xt=>{ct(fetchBook({id:Xt})).then(er=>checkResult(er,sr=>{const{book:ur}=sr;let nr={type:"book",book:ur,id:ur.id};yt(yr=>[...yr,nr])},sr=>{}))}),kt.forEach(Xt=>{ct(fetchLibrary({id:Xt})).then(er=>checkResult(er,sr=>{let{library:ur}=sr,nr={type:"library",library:ur,id:ur.id};yt(yr=>[...yr,nr])},sr=>{}))}),Mt.forEach(Xt=>{ct(fetchProfile({id:Xt})).then(er=>checkResult(er,sr=>{const{profile:ur}=sr,nr={type:"profile",profile:ur,id:ur.id};yt(yr=>[...yr,nr])},sr=>{}))}))},Ct=Qt=>{it?St(it):ct(fetchHomeCollection({profile:Qt})).then(Xt=>checkResult(Xt,er=>{const{collection:sr}=er;St(sr)},er=>{}))},St=Qt=>{wt([]),At([]),Vt([]),Ot([]),Qt&&(Qt.pages&&wt(it.pages),Qt.books&&At(it.books),Qt.libraries&&Vt(it.libraries),Qt.profiles&&Ot(it.profiles),Dt(Qt))},$t=()=>{xt(!0)},Lt=()=>{ct(deleteUserAccounts()).then(()=>{i("/")})},Rt=()=>{xt(!1)};reactExports.useEffect(()=>{jt()},[]);const jt=()=>{if(tt)Ft(tt);else{const Qt={userId:ut.user.uid};ct(getCurrentProfile(Qt)).then(Xt=>checkResult(Xt,er=>{const{profile:sr}=er;Ft(sr)},er=>{i(Paths.login())}))}},Ft=Qt=>{Et(!0),rt.length<=0&&nt(Qt.username),st(Qt.selfStatement),at(Qt.privacy),Et(!1),Ct(Qt)},zt=Qt=>{Qt.preventDefault(),tt!=null&&ct(updateProfile({profile:tt,username:rt,selfStatement:ot,privacy:lt})).then(er=>checkResult(er,sr=>{window.alert("Updated")},sr=>{window.alert(sr.message)})),ct(updateHomeCollection({profile:tt,pages:Tt,books:It,libraries:kt,profiles:Mt})).then(Xt=>checkResult(Xt,er=>{window.alert("Updated Collection")},er=>{}))},Gt=Qt=>{switch(Qt.type){case"page":{let Xt=mt.filter(sr=>sr!==Qt);yt(Xt);let er=Tt.filter(sr=>sr!==Qt.id);wt(er);break}case"book":{let Xt=mt.filter(sr=>sr!==Qt);yt(Xt);let er=It.filter(sr=>sr!==Qt.id);At(er);break}case"library":{let Xt=mt.filter(sr=>sr!==Qt);yt(Xt);let er=kt.filter(sr=>sr!==Qt.id);Vt(er);break}case"profile":{let Xt=mt.filter(sr=>sr!==Qt);yt(Xt);let er=Mt.filter(sr=>sr!==Qt.id);Ot(er);break}}},Bt=Qt=>{switch(Qt.type){case"page":return jsxRuntimeExports.jsxs("div",{className:"home-item",children:[Qt.page.title,jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>Gt(Qt),children:jsxRuntimeExports.jsx(Clear$1,{})})]});case"book":return jsxRuntimeExports.jsxs("div",{className:"home-item",children:[Qt.book.title,jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>Gt(Qt),children:jsxRuntimeExports.jsx(Clear$1,{})})]});case"library":return jsxRuntimeExports.jsxs("div",{className:"home-item",children:[Qt.library.name,jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>Gt(Qt),children:jsxRuntimeExports.jsx(Clear$1,{})})]});case"profile":return jsxRuntimeExports.jsxs("div",{className:"home-item",children:[Qt.profile.username,jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>Gt(Qt),children:jsxRuntimeExports.jsx(Clear$1,{})})]})}},Wt=()=>jsxRuntimeExports.jsx("div",{className:"collection",children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:mt.length,hasMore:ht,next:()=>Dt(it),loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:mt.map(Qt=>jsxRuntimeExports.jsx("div",{children:Bt(Qt)},Qt.id))})}),Kt={backgroundColor:theme.palette.primary.extraLight,borderRadius:"8px",width:"100%"};return gt?jsxRuntimeExports.jsx("div",{children:"Something's wrong"}):jsxRuntimeExports.jsx("div",{style:{backgroundColor:theme.palette.primary.light,marginBottom:"2em"},className:"SettingsContainer",children:jsxRuntimeExports.jsxs("div",{className:"SettingForm",children:[jsxRuntimeExports.jsxs(FormGroup$1,{children:[jsxRuntimeExports.jsx(TextField$1,{style:Kt,className:"input text",value:rt,onChange:Qt=>nt(Qt.target.value),label:"Username"}),jsxRuntimeExports.jsxs("label",{className:"self-statement",id:"self-statement",children:[jsxRuntimeExports.jsx("h6",{children:"Self Statement:"}),jsxRuntimeExports.jsx(TextareaAutosize,{style:{padding:"1em",borderRadius:Kt.borderRadius,backgroundColor:Kt.backgroundColor},onChange:Qt=>{st(Qt.target.value)},minRows:3,cols:30,value:ot,placeholder:"Self Statement"})]}),jsxRuntimeExports.jsx("div",{style:{width:"100%"},onClick:()=>a([!s[0],"bookmark"]),children:jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{style:checkmarkStyle,checked:lt,onChange:()=>{at(!lt)}}),label:"Private"})}),jsxRuntimeExports.jsxs("div",{style:{marginTop:"2em",marginBottom:"2em"},children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("h5",{children:"Collection"})}),Wt()]}),jsxRuntimeExports.jsx(Button$4,{style:{backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText,padding:"1em",fontWeight:"bold",fontSize:"1em"},variant:"outlined",onClick:Qt=>zt(Qt),children:"Update"})]}),jsxRuntimeExports.jsx(Button$4,{className:"delete",onClick:$t,style:{marginTop:"4em",maxWidth:"10em",marginBottom:"5em",backgroundColor:theme.palette.error.main,color:theme.palette.error.contrastText},children:" Delete"}),jsxRuntimeExports.jsxs(Dialog$1,{open:bt,onClose:Rt,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[jsxRuntimeExports.jsx(DialogTitle$1,{id:"alert-dialog-title",children:"Are you sure you want to delete your account?"}),jsxRuntimeExports.jsx(DialogContent$1,{children:jsxRuntimeExports.jsx(DialogContentText$1,{id:"alert-dialog-description",children:"Deleting your account can't be reversed"})}),jsxRuntimeExports.jsxs(DialogActions$1,{children:[jsxRuntimeExports.jsx(Button$4,{onClick:Rt,children:"Disagree"}),jsxRuntimeExports.jsx(Button$4,{onClick:Lt,autoFocus:!0,children:"Agree"})]})]})]})})}function ProfileContainer(o){const i=useSelector(ft=>ft.users.currentProfile),s=useSelector(ft=>ft.users.profileInView);useSelector(ft=>ft.pages.pagesInView);const a=useSelector(ft=>ft.users.followedProfiles),et=useSelector(ft=>ft.users.homeCollection),tt=useDispatch(),rt=useParams(),[nt,it]=reactExports.useState(null),ot=()=>{if(s){const ft={profile:s};tt(getProfilePages(ft)),tt(getProfileBooks(ft)),tt(getProfileLibraries(ft))}};reactExports.useEffect(()=>{ot()},[]),reactExports.useEffect(()=>{tt(fetchProfile(rt)).then(ft=>{checkResult(ft,mt=>{st()},()=>{})})},[s]);const st=()=>{if(i&&s&&a.length<=0)tt(fetchFollowProfilesForProfile({profile:i})).then(mt=>{checkResult(mt,yt=>{const{followList:ht}=yt;let pt=ht.find(ct=>ct!=null&&ct.followerId==i.id&&ct.followingId==s.id);it(pt)},()=>{})});else if(i&&s){let ft=a.find(mt=>mt!=null&&mt.followerId==i.id&&mt.followingId==s.id);it(ft)}};let lt=jsxRuntimeExports.jsx("div",{});const at=()=>{i?nt?tt(deleteFollowProfile({followProfile:nt,follower:i,following:s})).then(mt=>{checkResult(mt,()=>{it(null)},()=>{})}):tt(createFollowProfile({follower:i,following:s})).then(mt=>{checkResult(mt,yt=>{const{followProfile:ht}=yt;it(ht);let pt=[...et.books],ct=[...et.libraries],gt=[...et.pages],Et=[...et.profiles];et.profiles.find(xt=>xt==ht.followingId)||(Et=[...et.profiles,ht.followingId],tt(updateHomeCollection({profile:i,books:pt,pages:gt,libraries:ct,profiles:Et})))},()=>{})}):window.alert("Please login first!")};let ut=()=>nt?jsxRuntimeExports.jsx(Button$4,{style:{backgroundColor:theme.palette.secondary.light},onClick:at,variant:"outlined",children:"Reader"}):jsxRuntimeExports.jsx(Button$4,{style:{backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText},variant:"outlined",onClick:at,children:"Read"});return s!=null&&(lt=jsxRuntimeExports.jsxs("div",{className:"profile-card",children:[jsxRuntimeExports.jsxs("div",{className:"profile-info",children:[jsxRuntimeExports.jsx("img",{src:s.profilePicture,alt:"proflile-picture"}),jsxRuntimeExports.jsx("h5",{className:"username",children:s.username}),jsxRuntimeExports.jsx("div",{children:ut()})]}),jsxRuntimeExports.jsx("div",{className:"statement",children:jsxRuntimeExports.jsx("p",{children:s.selfStatement})})]})),jsxRuntimeExports.jsxs("div",{className:"two-panel",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:lt}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:jsxRuntimeExports.jsx(ContentList,{profile:s})})]})}function UpdateLibraryContainer(o){const i=useNavigate(),s=useDispatch(),a=useParams(),et=useSelector(Ct=>Ct.users.currentProfile),tt=useSelector(Ct=>Ct.libraries.libraryInView),[rt,nt]=reactExports.useState(""),[it,ot]=reactExports.useState(!1),[st,lt]=reactExports.useState(!1),[at,ut]=reactExports.useState(""),[ft,mt]=reactExports.useState(!1),[yt,ht]=reactExports.useState(!1),[pt,ct]=reactExports.useState([]),[gt,Et]=reactExports.useState([]);reactExports.useEffect(()=>{bt()},[]);const bt=()=>{s(fetchLibrary(a)).then(Ct=>checkResult(Ct,St=>{const{library:$t}=St;xt($t)},St=>{}))},xt=Ct=>{Ct&&(nt(Ct.name),ot(Ct.writingIsOpen),lt(Ct.privacy),ut(Ct.purpose),At(Ct))},Tt=Ct=>{s(fetchArrayOfBooks({bookIdList:Ct.bookIdList})).then(St=>checkResult(St,$t=>{const{bookList:Lt}=$t;let Rt=Lt.map(jt=>({uId:`${jt.id}_${uuidv4()}`,book:jt}));console.log(Lt),Et(jt=>[...jt,...Rt])},$t=>{}))},wt=Ct=>{let $t=gt.filter(Lt=>Ct.uId!==Lt.uId);Et($t)},It=Ct=>{s(fetchArrayOfPages({pageIdList:Ct.pageIdList,profile:et})).then(St=>checkResult(St,$t=>{const{pageList:Lt}=$t;let Rt=Lt.map(jt=>({uId:`${jt.id}_${uuidv4()}`,page:jt}));Et(jt=>[...jt,...Rt])},$t=>{}))},At=Ct=>{Et([]),It(Ct),Tt(Ct)},kt=()=>jsxRuntimeExports.jsxs("div",{className:"info create",children:[jsxRuntimeExports.jsxs(FormGroup$1,{style:{padding:"1em"},children:[jsxRuntimeExports.jsx(TextField$1,{style:{backgroundColor:theme.palette.primary.contrastText},type:"text",label:"Name",placeholder:"Library Name",value:rt,onChange:Ct=>{nt(Ct.target.value)}}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{checked:st,onChange:Ct=>{lt(!st)}}),label:st?"Private":"Public"}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{onChange:Ct=>{ot(!it)},checked:it}),label:it?"Writing is Open":"Writing is Closed"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h6",{children:"Purpose"}),jsxRuntimeExports.jsx(Textarea$1,{value:at,onChange:Ct=>ut(Ct.target.value)})]}),jsxRuntimeExports.jsx(Button$4,{style:{marginTop:"2em",backgroundColor:theme.palette.primary.main,color:theme.palette.error.contrastText},type:"submit",variant:"outlined",onClick:Ct=>Mt(Ct),children:"Update"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{children:[tt?jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{i(Paths.library.createRoute(tt.id))},children:jsxRuntimeExports.jsx(Visibility$1,{})}):jsxRuntimeExports.jsx("div",{}),tt?jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>i(`/library/${tt.id}/add`),children:jsxRuntimeExports.jsx(Add$1,{})}):jsxRuntimeExports.jsx("div",{})]}),jsxRuntimeExports.jsx(Button$4,{onClick:()=>ht(!0),style:{width:"100%",margin:"auto",marginTop:"4em",backgroundColor:theme.palette.error.main,color:theme.palette.error.contrastText},children:"Delete"})]})]}),Vt=()=>{s(deleteLibrary({library:tt})).then(St=>checkResult(St,$t=>{i(Paths.myProfile())},$t=>{}))},Mt=Ct=>{Ct.preventDefault(),s(updateLibrary({library:tt,name:rt,purpose:at,privacy:st,writingIsOpen:it})).then($t=>{checkResult($t,Lt=>{const{library:Rt}=Lt;window.alert("Updated Library Details");const jt=gt.filter(Wt=>Wt.page!==null).map(Wt=>Wt&&Wt.page&&Wt.page.id),Ft=gt.filter(Wt=>Wt.book!==null).map(Wt=>Wt&&Wt.book&&Wt.book.id),zt=jt.filter(Wt=>Wt!=null),Gt=Ft.filter(Wt=>Wt!=null);s(updateLibraryContent({library:Rt,pageIdList:zt,bookIdList:Gt})).then(Wt=>{checkResult(Wt,Kt=>{window.alert("Success Library Content");const{library:Qt}=Kt,Xt=pt.filter(yr=>yr.role==RoleType.writer).map(yr=>yr.profile.userId),er=pt.filter(yr=>yr.role==RoleType.editor).map(yr=>yr.profile.userId),sr=pt.filter(yr=>yr.role==RoleType.commenter).map(yr=>yr.profile.userId),ur=pt.filter(yr=>yr.role==RoleType.reader).map(yr=>yr.profile.userId);s(saveRolesForLibrary({library:Qt,readers:ur,commenters:sr,editors:er,writers:Xt})).then(yr=>{checkResult(yr,Ar=>{window.alert("Roles Saved Successfully")},Ar=>{window.alert("Error saving roles")})})},Kt=>{window.alert("Error"+Kt.message)})})},Lt=>{window.alert("Error:"+Lt.message)})})},Ot=Ct=>{if(Ct.page){const{page:St}=Ct;return jsxRuntimeExports.jsxs("div",{className:"list-item",children:[jsxRuntimeExports.jsxs("div",{children:["Page:",St.title]}),jsxRuntimeExports.jsx(Button$4,{onDoubleClick:()=>wt(Ct),children:"Remove"})]},`${Ct.uId}`)}else if(Ct.book){const{book:St}=Ct;return jsxRuntimeExports.jsxs("div",{className:"list-item",children:[jsxRuntimeExports.jsxs("div",{children:["Book:",St.title]}),jsxRuntimeExports.jsx(Button$4,{onDoubleClick:()=>wt(Ct),children:"Remove"})]},`${Ct.uId}`)}else`${Ct.uId}`},Dt=()=>tt&&(tt.bookIdList.length>0||tt.pageIdList.length>0)?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:gt.length,next:()=>{},hasMore:ft,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),children:gt.map(Ct=>Ot(Ct))})}):jsxRuntimeExports.jsx("div",{children:"So Empty"});return jsxRuntimeExports.jsxs("div",{className:"screen reverse",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:jsxRuntimeExports.jsx("div",{className:"content-list",children:Dt()})}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:jsxRuntimeExports.jsxs("div",{className:"info",children:[jsxRuntimeExports.jsx("div",{children:kt()}),jsxRuntimeExports.jsx("div",{children:tt?jsxRuntimeExports.jsx(RoleList,{item:tt,type:"library",getRoles:Ct=>{ct(Ct)}}):jsxRuntimeExports.jsx("div",{})})]})}),jsxRuntimeExports.jsxs(Dialog$1,{open:yt,onClose:()=>ht(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[jsxRuntimeExports.jsx(DialogTitle$1,{id:"alert-dialog-title",children:"Deleting?"}),jsxRuntimeExports.jsx(DialogContent$1,{children:jsxRuntimeExports.jsx(DialogContentText$1,{id:"alert-dialog-description",children:"Are you sure you want to delete this library?"})}),jsxRuntimeExports.jsxs(DialogActions$1,{children:[jsxRuntimeExports.jsx(Button$4,{onClick:()=>ht(!1),children:"Disagree"}),jsxRuntimeExports.jsx(Button$4,{onClick:()=>Vt(),autoFocus:!0,children:"Agree"})]})]})]})}var Visibility={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(Visibility,"__esModule",{value:!0});var default_1$1=Visibility.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=jsxRuntimeExports;default_1$1=Visibility.default=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");function PageItem({page:o,setPageIdList:i}){const[s,a]=reactExports.useState(!1);PageItem.propTypes={page:PropTypes.object.isRequired,setPageIdList:PropTypes.func.isRequired};let et=jsxRuntimeExports.jsx("div",{});switch(o.type){case PageType.text:et=jsxRuntimeExports.jsx("div",{className:"dashboard-content ql-editor text",dangerouslySetInnerHTML:{__html:o.data}});break;case PageType.picture:et=jsxRuntimeExports.jsx("img",{className:"dashborad-content",src:o.data,alt:o.title});break;case PageType.link:et=jsxRuntimeExports.jsx(LinkPreview,{url:o.data});break;default:et=jsxRuntimeExports.jsx("div",{className:"dashboard-content",dangerouslySetInnerHTML:{__html:o.data}});break}const tt=()=>{a(!s)};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"list-item",children:[jsxRuntimeExports.jsx("div",{onClick:tt,className:"title",children:jsxRuntimeExports.jsx("h6",{children:o.title})}),jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{i()},children:jsxRuntimeExports.jsx(default_1$4,{})})]}),jsxRuntimeExports.jsx("div",{style:{display:s?"":"none"},children:et})]})}function AddPageToBookContainer(){const o=useNavigate(),i=useParams(),s=useDispatch(),a=useSelector(wt=>wt.users.currentProfile),et=useSelector(wt=>wt.pages.loading),tt=useSelector(wt=>wt.pages.pagesInView),rt=useSelector(wt=>wt.books.bookInView),[nt,it]=reactExports.useState([]),[ot,st]=reactExports.useState([]),[lt,at]=reactExports.useState(!1),[ut,ft]=reactExports.useState(null),[mt,yt]=reactExports.useState(!1),[ht,pt]=reactExports.useState(!1),ct=()=>{if(a){const wt=i.id;(rt.id!=wt||rt==null)&&s(fetchBook({id:wt})).then(It=>{checkResult(It,At=>{const{book:kt}=At;st(kt.pageIdList)})})}},gt=()=>{a&&s(getProfilePages({profile:a})).then(It=>{checkResult(It,At=>{const{pageList:kt}=At;it(kt)},At=>{})})};reactExports.useEffect(()=>{ct(),gt()},[]);const Et=wt=>{let It=ot;It.push(wt.id);let At=rt.profileId==a.id,kt=rt.editors.find(Mt=>Mt==a.userId),Vt=rt.writers.find(Mt=>Mt==a.userId);(At||rt.writingIsOpen||kt||Vt)&&s(updateBookContent({book:rt,pageIdList:It})).then(Ot=>{checkResult(Ot,Dt=>{const{book:Ct}=Dt;let St=[...Ct.readers,...Ct.writers,...Ct.editors,...Ct.commenters];const $t={pageIdList:It,readers:St};alert("Updated Book Content"),st(It),s(appendSaveRolesForPage($t)).then(Lt=>{checkResult(Lt,Rt=>{window.alert("Updated Roles for Pages")},()=>{})})},()=>{})})},bt=()=>{if(ht){if(nt){let wt=[...nt].sort((It,At)=>At.created-It.created);it(wt)}}else if(nt){let wt=[...nt].sort((It,At)=>It.created-At.created);it(wt)}},xt=()=>{if(mt){let wt=[...nt].sort((It,At)=>It.title<At.title?-1:It.title>At.title?1:0);it(wt)}else{let wt=[...nt].sort((It,At)=>At.title<It.title?-1:At.title>It.title?1:0);it(wt)}},Tt=()=>{if(et==!1&&rt)if(tt&&tt.length!=0){const wt={backgroundColor:"transparent"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"inner",children:jsxRuntimeExports.jsxs("div",{className:"btn-row",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{yt(!mt),xt()},children:jsxRuntimeExports.jsx(default_1$2,{style:{color:theme.palette.primary.contrastText}})}),ht?jsxRuntimeExports.jsx(Button$6,{style:wt,onClick:()=>{pt(!1),bt()},children:"New to Old"}):jsxRuntimeExports.jsx(Button$6,{style:wt,onClick:()=>{pt(!0),bt()},children:"Old to New"})]})]})}),jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:nt.length,next:gt,hasMore:lt,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:nt.map(It=>jsxRuntimeExports.jsx(PageItem,{page:It,setPageIdList:()=>{debounce(Et(It),5)}},It.key))})]})}else return jsxRuntimeExports.jsx("h1",{children:"0"});else return jsxRuntimeExports.jsx("div",{children:"Loading..."})};return rt?jsxRuntimeExports.jsxs("div",{className:"screen",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:jsxRuntimeExports.jsxs("div",{className:"info create",children:[jsxRuntimeExports.jsxs("h5",{children:[" ",rt.title]}),jsxRuntimeExports.jsx("div",{className:"purpose",children:jsxRuntimeExports.jsxs("h6",{children:[" ",rt.purpose]})}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{o(`/book/${rt.id}`)},children:jsxRuntimeExports.jsx(default_1$1,{})}),jsxRuntimeExports.jsx(IconButton$1,{onClick:wt=>ft(wt.currentTarget),children:jsxRuntimeExports.jsx(Add$1,{})}),jsxRuntimeExports.jsxs(Menu$2,{id:"basic-menu",anchorEl:ut,open:!!ut,onClose:()=>ft(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>o(Paths.editor.text()),children:jsxRuntimeExports.jsx(default_1$7,{})}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>o(Paths.editor.image()),children:jsxRuntimeExports.jsx(default_1$6,{})}),jsxRuntimeExports.jsx(MenuItem$1,{onClick:()=>o(Paths.editor.link()),children:jsxRuntimeExports.jsx(default_1$8,{})})]}),jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{o("/page/image")},children:jsxRuntimeExports.jsx(default_1$6,{})})]})]})}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:Tt()})]}):jsxRuntimeExports.jsx("div",{children:"Loading"})}function AddItemsToLibraryContainer(){const o=useNavigate(),i=useParams(),s=useDispatch(),a=useSelector(bt=>bt.users.currentProfile),et=useSelector(bt=>bt.libraries.libraryInView),[tt,rt]=reactExports.useState(!1),[nt,it]=reactExports.useState([]),[ot,st]=reactExports.useState(!1),[lt,at]=reactExports.useState(!1),ut=()=>{a&&(rt(!0),s(getProfileBooks({profile:a})).then(xt=>checkResult(xt,Tt=>{const{bookList:wt}=Tt,It=wt.map(At=>({item:At,type:"book"}));it(It),rt(!1)},Tt=>{rt(!1)})))},ft=()=>{if(a&&et){const bt={profile:a};rt(!0),s(getProfilePages(bt)).then(xt=>checkResult(xt,Tt=>{const{pageList:wt}=Tt,It=wt.map(At=>({item:At,type:"page"}));it(At=>[...At,...It]),rt(!1)},Tt=>{rt(!1)}))}},mt=()=>{const{id:bt}=i;(et==null||et.id!=bt)&&s(fetchLibrary(i)).then(xt=>checkResult(xt,Tt=>{},Tt=>{}))};reactExports.useEffect(()=>{mt()},[]),reactExports.useEffect(()=>{yt()},[]);const yt=()=>{it([]),ut(),ft()},ht=(bt,xt)=>{let Tt=et.profileId==a.id,wt=et.editors.find(At=>At==a.userId),It=et.writers.find(At=>At==a.userId);(Tt||et.writingIsOpen||wt||It)&&s(appendLibraryContent({library:et,pageIdList:xt,bookIdList:bt})).then(kt=>{checkResult(kt,Vt=>{window.alert("Success")},Vt=>{window.alert("Error"+Vt.message)})})},pt=()=>{if(lt){if(nt){let bt=[...nt].sort((xt,Tt)=>Tt.item.created-xt.item.created);it(bt)}}else if(nt){let bt=[...nt].sort((xt,Tt)=>xt.item.created-Tt.item.created);it(bt)}},ct=()=>{if(ot){let bt=[...nt].sort((xt,Tt)=>xt.item.title<Tt.item.title?-1:xt.item.title>Tt.item.title?1:0);it(bt)}else{let bt=[...nt].sort((xt,Tt)=>Tt.item.title<xt.item.title?-1:Tt.item.title>xt.item.title?1:0);it(bt)}},gt=bt=>{if(bt.type=="page"){const xt=[...et.pageIdList,bt.item.id];ht(et.bookIdList,xt)}else if(bt.type=="book"){const xt=[...et.bookIdList,bt.item.id];ht(xt,et.pageIdList)}},Et=()=>{if(et!=null)if(nt.length>0){const bt={backgroundColor:"#50874F"};return jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{className:"inner",children:jsxRuntimeExports.jsxs("div",{className:"btn-row",children:[jsxRuntimeExports.jsx("div",{}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{st(!ot),ct()},children:jsxRuntimeExports.jsx(default_1$2,{style:{color:theme.palette.primary.contrastText}})}),lt?jsxRuntimeExports.jsx(Button$6,{style:bt,onClick:()=>{at(!1),pt()},children:"New to Old"}):jsxRuntimeExports.jsx(Button$6,{style:bt,onClick:()=>{at(!0),pt()},children:"Old to New"})]})]})})}),jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:nt.length,next:yt,hasMore:tt,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:nt.map(xt=>{let Tt=xt.type;const It=Tt.charAt(0).toUpperCase(),At=Tt.slice(1),kt=It+At;return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"list-item",children:[jsxRuntimeExports.jsx("a",{className:"title",children:jsxRuntimeExports.jsxs("h6",{children:[kt,":",xt.item.title]})}),jsxRuntimeExports.jsx("div",{className:"button-row",children:jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{debounce(gt(xt),5)},children:jsxRuntimeExports.jsx(Add$1,{})})})]})},xt.item.id)})})]})}else return jsxRuntimeExports.jsx("div",{className:"empty",children:jsxRuntimeExports.jsx("h1",{children:"Empty"})});else return jsxRuntimeExports.jsx("div",{children:"Loading..."})};return et?jsxRuntimeExports.jsxs("div",{className:"screen",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:jsxRuntimeExports.jsxs("div",{className:"info create",children:[et.name.length>0?jsxRuntimeExports.jsxs("h5",{children:[" ",et.name]}):jsxRuntimeExports.jsx("h5",{children:"Untitled"}),jsxRuntimeExports.jsx("div",{className:"purpose",children:jsxRuntimeExports.jsxs("h6",{children:[" ",et.purpose]})}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{o(`/library/${et.id}`)},children:jsxRuntimeExports.jsx(default_1$1,{})})})]})}),jsxRuntimeExports.jsx("div",{className:"right bar",children:Et()})]}):jsxRuntimeExports.jsx("div",{children:"Loading"})}const PrivateRoute=({loggedIn:o,children:i})=>o?i:jsxRuntimeExports.jsx(Navigate,{to:"/login"}),LoggedRoute=({profile:o,children:i})=>o?i:jsxRuntimeExports.jsx(Navigate,{to:"/profile/home"});function _arrayWithHoles(o){if(Array.isArray(o))return o}function _iterableToArrayLimit(o,i){var s=o==null?null:typeof Symbol<"u"&&o[Symbol.iterator]||o["@@iterator"];if(s!=null){var a,et,tt,rt,nt=[],it=!0,ot=!1;try{if(tt=(s=s.call(o)).next,i===0){if(Object(s)!==s)return;it=!1}else for(;!(it=(a=tt.call(s)).done)&&(nt.push(a.value),nt.length!==i);it=!0);}catch(st){ot=!0,et=st}finally{try{if(!it&&s.return!=null&&(rt=s.return(),Object(rt)!==rt))return}finally{if(ot)throw et}}return nt}}function _arrayLikeToArray(o,i){(i==null||i>o.length)&&(i=o.length);for(var s=0,a=new Array(i);s<i;s++)a[s]=o[s];return a}function _unsupportedIterableToArray(o,i){if(o){if(typeof o=="string")return _arrayLikeToArray(o,i);var s=Object.prototype.toString.call(o).slice(8,-1);if(s==="Object"&&o.constructor&&(s=o.constructor.name),s==="Map"||s==="Set")return Array.from(o);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return _arrayLikeToArray(o,i)}}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _slicedToArray(o,i){return _arrayWithHoles(o)||_iterableToArrayLimit(o,i)||_unsupportedIterableToArray(o,i)||_nonIterableRest()}function _typeof(o){"@babel/helpers - typeof";return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},_typeof(o)}function toPrimitive(o,i){if(_typeof(o)!="object"||!o)return o;var s=o[Symbol.toPrimitive];if(s!==void 0){var a=s.call(o,i||"default");if(_typeof(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(i==="string"?String:Number)(o)}function toPropertyKey(o){var i=toPrimitive(o,"string");return _typeof(i)=="symbol"?i:String(i)}function _defineProperty(o,i,s){return i=toPropertyKey(i),i in o?Object.defineProperty(o,i,{value:s,enumerable:!0,configurable:!0,writable:!0}):o[i]=s,o}function _objectSpread(o){for(var i=1;i<arguments.length;i++){var s=arguments[i]!=null?Object(arguments[i]):{},a=Object.keys(s);typeof Object.getOwnPropertySymbols=="function"&&a.push.apply(a,Object.getOwnPropertySymbols(s).filter(function(et){return Object.getOwnPropertyDescriptor(s,et).enumerable})),a.forEach(function(et){_defineProperty(o,et,s[et])})}return o}function _classCallCheck(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function _defineProperties(o,i){for(var s=0;s<i.length;s++){var a=i[s];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(o,toPropertyKey(a.key),a)}}function _createClass(o,i,s){return i&&_defineProperties(o.prototype,i),s&&_defineProperties(o,s),Object.defineProperty(o,"prototype",{writable:!1}),o}function _possibleConstructorReturn(o,i){if(i&&(_typeof(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(o)}function _getPrototypeOf(o){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(s){return s.__proto__||Object.getPrototypeOf(s)},_getPrototypeOf(o)}function _inherits(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),i&&_setPrototypeOf(o,i)}function _arrayWithoutHoles(o){if(Array.isArray(o))return _arrayLikeToArray(o)}function _iterableToArray(o){if(typeof Symbol<"u"&&o[Symbol.iterator]!=null||o["@@iterator"]!=null)return Array.from(o)}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toConsumableArray(o){return _arrayWithoutHoles(o)||_iterableToArray(o)||_unsupportedIterableToArray(o)||_nonIterableSpread()}var Manager=function(){function o(){_classCallCheck(this,o),_defineProperty(this,"refs",{})}return _createClass(o,[{key:"add",value:function(s,a){this.refs[s]||(this.refs[s]=[]),this.refs[s].push(a)}},{key:"remove",value:function(s,a){var et=this.getIndex(s,a);et!==-1&&this.refs[s].splice(et,1)}},{key:"isActive",value:function(){return this.active}},{key:"getActive",value:function(){var s=this;return this.refs[this.active.collection].find(function(a){var et=a.node;return et.sortableInfo.index==s.active.index})}},{key:"getIndex",value:function(s,a){return this.refs[s].indexOf(a)}},{key:"getOrderedRefs",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.active.collection;return this.refs[s].sort(sortByIndex)}}]),o}();function sortByIndex(o,i){var s=o.node.sortableInfo.index,a=i.node.sortableInfo.index;return s-a}function omit(o,i){return Object.keys(o).reduce(function(s,a){return i.indexOf(a)===-1&&(s[a]=o[a]),s},{})}var events={end:["touchend","touchcancel","mouseup"],move:["touchmove","mousemove"],start:["touchstart","mousedown"]},vendorPrefix=function(){if(typeof window>"u"||typeof document>"u")return"";var o=window.getComputedStyle(document.documentElement,"")||["-moz-hidden-iframe"],i=(Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/)||o.OLink===""&&["","o"])[1];switch(i){case"ms":return"ms";default:return i&&i.length?i[0].toUpperCase()+i.substr(1):""}}();function setInlineStyles(o,i){Object.keys(i).forEach(function(s){o.style[s]=i[s]})}function setTranslate3d(o,i){o.style["".concat(vendorPrefix,"Transform")]=i==null?"":"translate3d(".concat(i.x,"px,").concat(i.y,"px,0)")}function setTransitionDuration(o,i){o.style["".concat(vendorPrefix,"TransitionDuration")]=i==null?"":"".concat(i,"ms")}function closest(o,i){for(;o;){if(i(o))return o;o=o.parentNode}return null}function limit(o,i,s){return Math.max(o,Math.min(s,i))}function getPixelValue(o){return o.substr(-2)==="px"?parseFloat(o):0}function getElementMargin(o){var i=window.getComputedStyle(o);return{bottom:getPixelValue(i.marginBottom),left:getPixelValue(i.marginLeft),right:getPixelValue(i.marginRight),top:getPixelValue(i.marginTop)}}function provideDisplayName(o,i){var s=i.displayName||i.name;return s?"".concat(o,"(").concat(s,")"):o}function getScrollAdjustedBoundingClientRect(o,i){var s=o.getBoundingClientRect();return{top:s.top+i.top,left:s.left+i.left}}function getPosition(o){return o.touches&&o.touches.length?{x:o.touches[0].pageX,y:o.touches[0].pageY}:o.changedTouches&&o.changedTouches.length?{x:o.changedTouches[0].pageX,y:o.changedTouches[0].pageY}:{x:o.pageX,y:o.pageY}}function isTouchEvent(o){return o.touches&&o.touches.length||o.changedTouches&&o.changedTouches.length}function getEdgeOffset(o,i){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{left:0,top:0};if(o){var a={left:s.left+o.offsetLeft,top:s.top+o.offsetTop};return o.parentNode===i?a:getEdgeOffset(o.parentNode,i,a)}}function getTargetIndex(o,i,s){return o<s&&o>i?o-1:o>s&&o<i?o+1:o}function getLockPixelOffset(o){var i=o.lockOffset,s=o.width,a=o.height,et=i,tt=i,rt="px";if(typeof i=="string"){var nt=/^[+-]?\d*(?:\.\d*)?(px|%)$/.exec(i);invariant$1(nt!==null,'lockOffset value should be a number or a string of a number followed by "px" or "%". Given %s',i),et=parseFloat(i),tt=parseFloat(i),rt=nt[1]}return invariant$1(isFinite(et)&&isFinite(tt),"lockOffset value should be a finite. Given %s",i),rt==="%"&&(et=et*s/100,tt=tt*a/100),{x:et,y:tt}}function getLockPixelOffsets(o){var i=o.height,s=o.width,a=o.lockOffset,et=Array.isArray(a)?a:[a,a];invariant$1(et.length===2,"lockOffset prop of SortableContainer should be a single value or an array of exactly two values. Given %s",a);var tt=_slicedToArray(et,2),rt=tt[0],nt=tt[1];return[getLockPixelOffset({height:i,lockOffset:rt,width:s}),getLockPixelOffset({height:i,lockOffset:nt,width:s})]}function isScrollable(o){var i=window.getComputedStyle(o),s=/(auto|scroll)/,a=["overflow","overflowX","overflowY"];return a.find(function(et){return s.test(i[et])})}function getScrollingParent(o){return o instanceof HTMLElement?isScrollable(o)?o:getScrollingParent(o.parentNode):null}function getContainerGridGap(o){var i=window.getComputedStyle(o);return i.display==="grid"?{x:getPixelValue(i.gridColumnGap),y:getPixelValue(i.gridRowGap)}:{x:0,y:0}}var KEYCODE={TAB:9,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40},NodeType={Anchor:"A",Button:"BUTTON",Canvas:"CANVAS",Input:"INPUT",Option:"OPTION",Textarea:"TEXTAREA",Select:"SELECT"};function cloneNode(o){var i="input, textarea, select, canvas, [contenteditable]",s=o.querySelectorAll(i),a=o.cloneNode(!0),et=_toConsumableArray(a.querySelectorAll(i));return et.forEach(function(tt,rt){if(tt.type!=="file"&&(tt.value=s[rt].value),tt.type==="radio"&&tt.name&&(tt.name="__sortableClone__".concat(tt.name)),tt.tagName===NodeType.Canvas&&s[rt].width>0&&s[rt].height>0){var nt=tt.getContext("2d");nt.drawImage(s[rt],0,0)}}),a}function sortableHandle(o){var i,s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return s=i=function(et){_inherits(tt,et);function tt(){var rt,nt;_classCallCheck(this,tt);for(var it=arguments.length,ot=new Array(it),st=0;st<it;st++)ot[st]=arguments[st];return nt=_possibleConstructorReturn(this,(rt=_getPrototypeOf(tt)).call.apply(rt,[this].concat(ot))),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"wrappedInstance",reactExports.createRef()),nt}return _createClass(tt,[{key:"componentDidMount",value:function(){var nt=reactDomExports.findDOMNode(this);nt.sortableHandle=!0}},{key:"getWrappedInstance",value:function(){return invariant$1(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableHandle() call"),this.wrappedInstance.current}},{key:"render",value:function(){var nt=a.withRef?this.wrappedInstance:null;return reactExports.createElement(o,_extends$1({ref:nt},this.props))}}]),tt}(reactExports.Component),_defineProperty(i,"displayName",provideDisplayName("sortableHandle",o)),s}function isSortableHandle(o){return o.sortableHandle!=null}var AutoScroller=function(){function o(i,s){_classCallCheck(this,o),this.container=i,this.onScrollCallback=s}return _createClass(o,[{key:"clear",value:function(){this.interval!=null&&(clearInterval(this.interval),this.interval=null)}},{key:"update",value:function(s){var a=this,et=s.translate,tt=s.minTranslate,rt=s.maxTranslate,nt=s.width,it=s.height,ot={x:0,y:0},st={x:1,y:1},lt={x:10,y:10},at=this.container,ut=at.scrollTop,ft=at.scrollLeft,mt=at.scrollHeight,yt=at.scrollWidth,ht=at.clientHeight,pt=at.clientWidth,ct=ut===0,gt=mt-ut-ht===0,Et=ft===0,bt=yt-ft-pt===0;et.y>=rt.y-it/2&&!gt?(ot.y=1,st.y=lt.y*Math.abs((rt.y-it/2-et.y)/it)):et.x>=rt.x-nt/2&&!bt?(ot.x=1,st.x=lt.x*Math.abs((rt.x-nt/2-et.x)/nt)):et.y<=tt.y+it/2&&!ct?(ot.y=-1,st.y=lt.y*Math.abs((et.y-it/2-tt.y)/it)):et.x<=tt.x+nt/2&&!Et&&(ot.x=-1,st.x=lt.x*Math.abs((et.x-nt/2-tt.x)/nt)),this.interval&&(this.clear(),this.isAutoScrolling=!1),(ot.x!==0||ot.y!==0)&&(this.interval=setInterval(function(){a.isAutoScrolling=!0;var xt={left:st.x*ot.x,top:st.y*ot.y};a.container.scrollTop+=xt.top,a.container.scrollLeft+=xt.left,a.onScrollCallback(xt)},5))}}]),o}();function defaultGetHelperDimensions(o){var i=o.node;return{height:i.offsetHeight,width:i.offsetWidth}}function defaultShouldCancelStart(o){var i=[NodeType.Input,NodeType.Textarea,NodeType.Select,NodeType.Option,NodeType.Button];return!!(i.indexOf(o.target.tagName)!==-1||closest(o.target,function(s){return s.contentEditable==="true"}))}var propTypes={axis:PropTypes.oneOf(["x","y","xy"]),contentWindow:PropTypes.any,disableAutoscroll:PropTypes.bool,distance:PropTypes.number,getContainer:PropTypes.func,getHelperDimensions:PropTypes.func,helperClass:PropTypes.string,helperContainer:PropTypes.oneOfType([PropTypes.func,typeof HTMLElement>"u"?PropTypes.any:PropTypes.instanceOf(HTMLElement)]),hideSortableGhost:PropTypes.bool,keyboardSortingTransitionDuration:PropTypes.number,lockAxis:PropTypes.string,lockOffset:PropTypes.oneOfType([PropTypes.number,PropTypes.string,PropTypes.arrayOf(PropTypes.oneOfType([PropTypes.number,PropTypes.string]))]),lockToContainerEdges:PropTypes.bool,onSortEnd:PropTypes.func,onSortMove:PropTypes.func,onSortOver:PropTypes.func,onSortStart:PropTypes.func,pressDelay:PropTypes.number,pressThreshold:PropTypes.number,keyCodes:PropTypes.shape({lift:PropTypes.arrayOf(PropTypes.number),drop:PropTypes.arrayOf(PropTypes.number),cancel:PropTypes.arrayOf(PropTypes.number),up:PropTypes.arrayOf(PropTypes.number),down:PropTypes.arrayOf(PropTypes.number)}),shouldCancelStart:PropTypes.func,transitionDuration:PropTypes.number,updateBeforeSortStart:PropTypes.func,useDragHandle:PropTypes.bool,useWindowAsScrollContainer:PropTypes.bool},defaultKeyCodes={lift:[KEYCODE.SPACE],drop:[KEYCODE.SPACE],cancel:[KEYCODE.ESC],up:[KEYCODE.UP,KEYCODE.LEFT],down:[KEYCODE.DOWN,KEYCODE.RIGHT]},defaultProps={axis:"y",disableAutoscroll:!1,distance:0,getHelperDimensions:defaultGetHelperDimensions,hideSortableGhost:!0,lockOffset:"50%",lockToContainerEdges:!1,pressDelay:0,pressThreshold:5,keyCodes:defaultKeyCodes,shouldCancelStart:defaultShouldCancelStart,transitionDuration:300,useWindowAsScrollContainer:!1},omittedProps=Object.keys(propTypes);function validateProps(o){invariant$1(!(o.distance&&o.pressDelay),"Attempted to set both `pressDelay` and `distance` on SortableContainer, you may only use one or the other, not both at the same time.")}function _finallyRethrows(o,i){try{var s=o()}catch(a){return i(!0,a)}return s&&s.then?s.then(i.bind(null,!1),i.bind(null,!0)):i(!1,value)}var SortableContext=reactExports.createContext({manager:{}});function sortableContainer(o){var i,s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return s=i=function(et){_inherits(tt,et);function tt(rt){var nt;_classCallCheck(this,tt),nt=_possibleConstructorReturn(this,_getPrototypeOf(tt).call(this,rt)),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"state",{}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handleStart",function(ot){var st=nt.props,lt=st.distance,at=st.shouldCancelStart;if(!(ot.button===2||at(ot))){nt.touched=!0,nt.position=getPosition(ot);var ut=closest(ot.target,function(ct){return ct.sortableInfo!=null});if(ut&&ut.sortableInfo&&nt.nodeIsChild(ut)&&!nt.state.sorting){var ft=nt.props.useDragHandle,mt=ut.sortableInfo,yt=mt.index,ht=mt.collection,pt=mt.disabled;if(pt||ft&&!closest(ot.target,isSortableHandle))return;nt.manager.active={collection:ht,index:yt},!isTouchEvent(ot)&&ot.target.tagName===NodeType.Anchor&&ot.preventDefault(),lt||(nt.props.pressDelay===0?nt.handlePress(ot):nt.pressTimer=setTimeout(function(){return nt.handlePress(ot)},nt.props.pressDelay))}}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"nodeIsChild",function(ot){return ot.sortableInfo.manager===nt.manager}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handleMove",function(ot){var st=nt.props,lt=st.distance,at=st.pressThreshold;if(!nt.state.sorting&&nt.touched&&!nt._awaitingUpdateBeforeSortStart){var ut=getPosition(ot),ft={x:nt.position.x-ut.x,y:nt.position.y-ut.y},mt=Math.abs(ft.x)+Math.abs(ft.y);nt.delta=ft,!lt&&(!at||mt>=at)?(clearTimeout(nt.cancelTimer),nt.cancelTimer=setTimeout(nt.cancel,0)):lt&&mt>=lt&&nt.manager.isActive()&&nt.handlePress(ot)}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handleEnd",function(){nt.touched=!1,nt.cancel()}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"cancel",function(){var ot=nt.props.distance,st=nt.state.sorting;st||(ot||clearTimeout(nt.pressTimer),nt.manager.active=null)}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handlePress",function(ot){try{var st=nt.manager.getActive(),lt=function(){if(st){var at=function(){var It=Et.sortableInfo.index,At=getElementMargin(Et),kt=getContainerGridGap(nt.container),Vt=nt.scrollContainer.getBoundingClientRect(),Mt=mt({index:It,node:Et,collection:bt});if(nt.node=Et,nt.margin=At,nt.gridGap=kt,nt.width=Mt.width,nt.height=Mt.height,nt.marginOffset={x:nt.margin.left+nt.margin.right+nt.gridGap.x,y:Math.max(nt.margin.top,nt.margin.bottom,nt.gridGap.y)},nt.boundingClientRect=Et.getBoundingClientRect(),nt.containerBoundingRect=Vt,nt.index=It,nt.newIndex=It,nt.axis={x:ft.indexOf("x")>=0,y:ft.indexOf("y")>=0},nt.offsetEdge=getEdgeOffset(Et,nt.container),xt?nt.initialOffset=getPosition(_objectSpread({},ot,{pageX:nt.boundingClientRect.left,pageY:nt.boundingClientRect.top})):nt.initialOffset=getPosition(ot),nt.initialScroll={left:nt.scrollContainer.scrollLeft,top:nt.scrollContainer.scrollTop},nt.initialWindowScroll={left:window.pageXOffset,top:window.pageYOffset},nt.helper=nt.helperContainer.appendChild(cloneNode(Et)),setInlineStyles(nt.helper,{boxSizing:"border-box",height:"".concat(nt.height,"px"),left:"".concat(nt.boundingClientRect.left-At.left,"px"),pointerEvents:"none",position:"fixed",top:"".concat(nt.boundingClientRect.top-At.top,"px"),width:"".concat(nt.width,"px")}),xt&&nt.helper.focus(),ht&&(nt.sortableGhost=Et,setInlineStyles(Et,{opacity:0,visibility:"hidden"})),nt.minTranslate={},nt.maxTranslate={},xt){var Ot=gt?{top:0,left:0,width:nt.contentWindow.innerWidth,height:nt.contentWindow.innerHeight}:nt.containerBoundingRect,Dt=Ot.top,Ct=Ot.left,St=Ot.width,$t=Ot.height,Lt=Dt+$t,Rt=Ct+St;nt.axis.x&&(nt.minTranslate.x=Ct-nt.boundingClientRect.left,nt.maxTranslate.x=Rt-(nt.boundingClientRect.left+nt.width)),nt.axis.y&&(nt.minTranslate.y=Dt-nt.boundingClientRect.top,nt.maxTranslate.y=Lt-(nt.boundingClientRect.top+nt.height))}else nt.axis.x&&(nt.minTranslate.x=(gt?0:Vt.left)-nt.boundingClientRect.left-nt.width/2,nt.maxTranslate.x=(gt?nt.contentWindow.innerWidth:Vt.left+Vt.width)-nt.boundingClientRect.left-nt.width/2),nt.axis.y&&(nt.minTranslate.y=(gt?0:Vt.top)-nt.boundingClientRect.top-nt.height/2,nt.maxTranslate.y=(gt?nt.contentWindow.innerHeight:Vt.top+Vt.height)-nt.boundingClientRect.top-nt.height/2);yt&&yt.split(" ").forEach(function(jt){return nt.helper.classList.add(jt)}),nt.listenerNode=ot.touches?ot.target:nt.contentWindow,xt?(nt.listenerNode.addEventListener("wheel",nt.handleKeyEnd,!0),nt.listenerNode.addEventListener("mousedown",nt.handleKeyEnd,!0),nt.listenerNode.addEventListener("keydown",nt.handleKeyDown)):(events.move.forEach(function(jt){return nt.listenerNode.addEventListener(jt,nt.handleSortMove,!1)}),events.end.forEach(function(jt){return nt.listenerNode.addEventListener(jt,nt.handleSortEnd,!1)})),nt.setState({sorting:!0,sortingIndex:It}),ct&&ct({node:Et,index:It,collection:bt,isKeySorting:xt,nodes:nt.manager.getOrderedRefs(),helper:nt.helper},ot),xt&&nt.keyMove(0)},ut=nt.props,ft=ut.axis,mt=ut.getHelperDimensions,yt=ut.helperClass,ht=ut.hideSortableGhost,pt=ut.updateBeforeSortStart,ct=ut.onSortStart,gt=ut.useWindowAsScrollContainer,Et=st.node,bt=st.collection,xt=nt.manager.isKeySorting,Tt=function(){if(typeof pt=="function"){nt._awaitingUpdateBeforeSortStart=!0;var wt=_finallyRethrows(function(){var It=Et.sortableInfo.index;return Promise.resolve(pt({collection:bt,index:It,node:Et,isKeySorting:xt},ot)).then(function(){})},function(It,At){if(nt._awaitingUpdateBeforeSortStart=!1,It)throw At;return At});if(wt&&wt.then)return wt.then(function(){})}}();return Tt&&Tt.then?Tt.then(at):at(Tt)}}();return Promise.resolve(lt&&lt.then?lt.then(function(){}):void 0)}catch(at){return Promise.reject(at)}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handleSortMove",function(ot){var st=nt.props.onSortMove;typeof ot.preventDefault=="function"&&ot.cancelable&&ot.preventDefault(),nt.updateHelperPosition(ot),nt.animateNodes(),nt.autoscroll(),st&&st(ot)}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handleSortEnd",function(ot){var st=nt.props,lt=st.hideSortableGhost,at=st.onSortEnd,ut=nt.manager,ft=ut.active.collection,mt=ut.isKeySorting,yt=nt.manager.getOrderedRefs();nt.listenerNode&&(mt?(nt.listenerNode.removeEventListener("wheel",nt.handleKeyEnd,!0),nt.listenerNode.removeEventListener("mousedown",nt.handleKeyEnd,!0),nt.listenerNode.removeEventListener("keydown",nt.handleKeyDown)):(events.move.forEach(function(Et){return nt.listenerNode.removeEventListener(Et,nt.handleSortMove)}),events.end.forEach(function(Et){return nt.listenerNode.removeEventListener(Et,nt.handleSortEnd)}))),nt.helper.parentNode.removeChild(nt.helper),lt&&nt.sortableGhost&&setInlineStyles(nt.sortableGhost,{opacity:"",visibility:""});for(var ht=0,pt=yt.length;ht<pt;ht++){var ct=yt[ht],gt=ct.node;ct.edgeOffset=null,ct.boundingClientRect=null,setTranslate3d(gt,null),setTransitionDuration(gt,null),ct.translate=null}nt.autoScroller.clear(),nt.manager.active=null,nt.manager.isKeySorting=!1,nt.setState({sorting:!1,sortingIndex:null}),typeof at=="function"&&at({collection:ft,newIndex:nt.newIndex,oldIndex:nt.index,isKeySorting:mt,nodes:yt},ot),nt.touched=!1}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"autoscroll",function(){var ot=nt.props.disableAutoscroll,st=nt.manager.isKeySorting;if(ot){nt.autoScroller.clear();return}if(st){var lt=_objectSpread({},nt.translate),at=0,ut=0;nt.axis.x&&(lt.x=Math.min(nt.maxTranslate.x,Math.max(nt.minTranslate.x,nt.translate.x)),at=nt.translate.x-lt.x),nt.axis.y&&(lt.y=Math.min(nt.maxTranslate.y,Math.max(nt.minTranslate.y,nt.translate.y)),ut=nt.translate.y-lt.y),nt.translate=lt,setTranslate3d(nt.helper,nt.translate),nt.scrollContainer.scrollLeft+=at,nt.scrollContainer.scrollTop+=ut;return}nt.autoScroller.update({height:nt.height,maxTranslate:nt.maxTranslate,minTranslate:nt.minTranslate,translate:nt.translate,width:nt.width})}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"onAutoScroll",function(ot){nt.translate.x+=ot.left,nt.translate.y+=ot.top,nt.animateNodes()}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handleKeyDown",function(ot){var st=ot.keyCode,lt=nt.props,at=lt.shouldCancelStart,ut=lt.keyCodes,ft=ut===void 0?{}:ut,mt=_objectSpread({},defaultKeyCodes,ft);nt.manager.active&&!nt.manager.isKeySorting||!nt.manager.active&&(!mt.lift.includes(st)||at(ot)||!nt.isValidSortingTarget(ot))||(ot.stopPropagation(),ot.preventDefault(),mt.lift.includes(st)&&!nt.manager.active?nt.keyLift(ot):mt.drop.includes(st)&&nt.manager.active?nt.keyDrop(ot):mt.cancel.includes(st)?(nt.newIndex=nt.manager.active.index,nt.keyDrop(ot)):mt.up.includes(st)?nt.keyMove(-1):mt.down.includes(st)&&nt.keyMove(1))}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"keyLift",function(ot){var st=ot.target,lt=closest(st,function(mt){return mt.sortableInfo!=null}),at=lt.sortableInfo,ut=at.index,ft=at.collection;nt.initialFocusedNode=st,nt.manager.isKeySorting=!0,nt.manager.active={index:ut,collection:ft},nt.handlePress(ot)}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"keyMove",function(ot){var st=nt.manager.getOrderedRefs(),lt=st[st.length-1].node.sortableInfo.index,at=nt.newIndex+ot,ut=nt.newIndex;if(!(at<0||at>lt)){nt.prevIndex=ut,nt.newIndex=at;var ft=getTargetIndex(nt.newIndex,nt.prevIndex,nt.index),mt=st.find(function(xt){var Tt=xt.node;return Tt.sortableInfo.index===ft}),yt=mt.node,ht=nt.containerScrollDelta,pt=mt.boundingClientRect||getScrollAdjustedBoundingClientRect(yt,ht),ct=mt.translate||{x:0,y:0},gt={top:pt.top+ct.y-ht.top,left:pt.left+ct.x-ht.left},Et=ut<at,bt={x:Et&&nt.axis.x?yt.offsetWidth-nt.width:0,y:Et&&nt.axis.y?yt.offsetHeight-nt.height:0};nt.handleSortMove({pageX:gt.left+bt.x,pageY:gt.top+bt.y,ignoreTransition:ot===0})}}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"keyDrop",function(ot){nt.handleSortEnd(ot),nt.initialFocusedNode&&nt.initialFocusedNode.focus()}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"handleKeyEnd",function(ot){nt.manager.active&&nt.keyDrop(ot)}),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"isValidSortingTarget",function(ot){var st=nt.props.useDragHandle,lt=ot.target,at=closest(lt,function(ut){return ut.sortableInfo!=null});return at&&at.sortableInfo&&!at.sortableInfo.disabled&&(st?isSortableHandle(lt):lt.sortableInfo)});var it=new Manager;return validateProps(rt),nt.manager=it,nt.wrappedInstance=reactExports.createRef(),nt.sortableContextValue={manager:it},nt.events={end:nt.handleEnd,move:nt.handleMove,start:nt.handleStart},nt}return _createClass(tt,[{key:"componentDidMount",value:function(){var nt=this,it=this.props.useWindowAsScrollContainer,ot=this.getContainer();Promise.resolve(ot).then(function(st){nt.container=st,nt.document=nt.container.ownerDocument||document;var lt=nt.props.contentWindow||nt.document.defaultView||window;nt.contentWindow=typeof lt=="function"?lt():lt,nt.scrollContainer=it?nt.document.scrollingElement||nt.document.documentElement:getScrollingParent(nt.container)||nt.container,nt.autoScroller=new AutoScroller(nt.scrollContainer,nt.onAutoScroll),Object.keys(nt.events).forEach(function(at){return events[at].forEach(function(ut){return nt.container.addEventListener(ut,nt.events[at],!1)})}),nt.container.addEventListener("keydown",nt.handleKeyDown)})}},{key:"componentWillUnmount",value:function(){var nt=this;this.helper&&this.helper.parentNode&&this.helper.parentNode.removeChild(this.helper),this.container&&(Object.keys(this.events).forEach(function(it){return events[it].forEach(function(ot){return nt.container.removeEventListener(ot,nt.events[it])})}),this.container.removeEventListener("keydown",this.handleKeyDown))}},{key:"updateHelperPosition",value:function(nt){var it=this.props,ot=it.lockAxis,st=it.lockOffset,lt=it.lockToContainerEdges,at=it.transitionDuration,ut=it.keyboardSortingTransitionDuration,ft=ut===void 0?at:ut,mt=this.manager.isKeySorting,yt=nt.ignoreTransition,ht=getPosition(nt),pt={x:ht.x-this.initialOffset.x,y:ht.y-this.initialOffset.y};if(pt.y-=window.pageYOffset-this.initialWindowScroll.top,pt.x-=window.pageXOffset-this.initialWindowScroll.left,this.translate=pt,lt){var ct=getLockPixelOffsets({height:this.height,lockOffset:st,width:this.width}),gt=_slicedToArray(ct,2),Et=gt[0],bt=gt[1],xt={x:this.width/2-Et.x,y:this.height/2-Et.y},Tt={x:this.width/2-bt.x,y:this.height/2-bt.y};pt.x=limit(this.minTranslate.x+xt.x,this.maxTranslate.x-Tt.x,pt.x),pt.y=limit(this.minTranslate.y+xt.y,this.maxTranslate.y-Tt.y,pt.y)}ot==="x"?pt.y=0:ot==="y"&&(pt.x=0),mt&&ft&&!yt&&setTransitionDuration(this.helper,ft),setTranslate3d(this.helper,pt)}},{key:"animateNodes",value:function(){var nt=this.props,it=nt.transitionDuration,ot=nt.hideSortableGhost,st=nt.onSortOver,lt=this.containerScrollDelta,at=this.windowScrollDelta,ut=this.manager.getOrderedRefs(),ft={left:this.offsetEdge.left+this.translate.x+lt.left,top:this.offsetEdge.top+this.translate.y+lt.top},mt=this.manager.isKeySorting,yt=this.newIndex;this.newIndex=null;for(var ht=0,pt=ut.length;ht<pt;ht++){var ct=ut[ht].node,gt=ct.sortableInfo.index,Et=ct.offsetWidth,bt=ct.offsetHeight,xt={height:this.height>bt?bt/2:this.height/2,width:this.width>Et?Et/2:this.width/2},Tt=mt&&gt>this.index&&gt<=yt,wt=mt&&gt<this.index&&gt>=yt,It={x:0,y:0},At=ut[ht].edgeOffset;At||(At=getEdgeOffset(ct,this.container),ut[ht].edgeOffset=At,mt&&(ut[ht].boundingClientRect=getScrollAdjustedBoundingClientRect(ct,lt)));var kt=ht<ut.length-1&&ut[ht+1],Vt=ht>0&&ut[ht-1];if(kt&&!kt.edgeOffset&&(kt.edgeOffset=getEdgeOffset(kt.node,this.container),mt&&(kt.boundingClientRect=getScrollAdjustedBoundingClientRect(kt.node,lt))),gt===this.index){ot&&(this.sortableGhost=ct,setInlineStyles(ct,{opacity:0,visibility:"hidden"}));continue}it&&setTransitionDuration(ct,it),this.axis.x?this.axis.y?wt||gt<this.index&&(ft.left+at.left-xt.width<=At.left&&ft.top+at.top<=At.top+xt.height||ft.top+at.top+xt.height<=At.top)?(It.x=this.width+this.marginOffset.x,At.left+It.x>this.containerBoundingRect.width-xt.width&&kt&&(It.x=kt.edgeOffset.left-At.left,It.y=kt.edgeOffset.top-At.top),this.newIndex===null&&(this.newIndex=gt)):(Tt||gt>this.index&&(ft.left+at.left+xt.width>=At.left&&ft.top+at.top+xt.height>=At.top||ft.top+at.top+xt.height>=At.top+bt))&&(It.x=-(this.width+this.marginOffset.x),At.left+It.x<this.containerBoundingRect.left+xt.width&&Vt&&(It.x=Vt.edgeOffset.left-At.left,It.y=Vt.edgeOffset.top-At.top),this.newIndex=gt):Tt||gt>this.index&&ft.left+at.left+xt.width>=At.left?(It.x=-(this.width+this.marginOffset.x),this.newIndex=gt):(wt||gt<this.index&&ft.left+at.left<=At.left+xt.width)&&(It.x=this.width+this.marginOffset.x,this.newIndex==null&&(this.newIndex=gt)):this.axis.y&&(Tt||gt>this.index&&ft.top+at.top+xt.height>=At.top?(It.y=-(this.height+this.marginOffset.y),this.newIndex=gt):(wt||gt<this.index&&ft.top+at.top<=At.top+xt.height)&&(It.y=this.height+this.marginOffset.y,this.newIndex==null&&(this.newIndex=gt))),setTranslate3d(ct,It),ut[ht].translate=It}this.newIndex==null&&(this.newIndex=this.index),mt&&(this.newIndex=yt);var Mt=mt?this.prevIndex:yt;st&&this.newIndex!==Mt&&st({collection:this.manager.active.collection,index:this.index,newIndex:this.newIndex,oldIndex:Mt,isKeySorting:mt,nodes:ut,helper:this.helper})}},{key:"getWrappedInstance",value:function(){return invariant$1(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableContainer() call"),this.wrappedInstance.current}},{key:"getContainer",value:function(){var nt=this.props.getContainer;return typeof nt!="function"?reactDomExports.findDOMNode(this):nt(a.withRef?this.getWrappedInstance():void 0)}},{key:"render",value:function(){var nt=a.withRef?this.wrappedInstance:null;return reactExports.createElement(SortableContext.Provider,{value:this.sortableContextValue},reactExports.createElement(o,_extends$1({ref:nt},omit(this.props,omittedProps))))}},{key:"helperContainer",get:function(){var nt=this.props.helperContainer;return typeof nt=="function"?nt():this.props.helperContainer||this.document.body}},{key:"containerScrollDelta",get:function(){var nt=this.props.useWindowAsScrollContainer;return nt?{left:0,top:0}:{left:this.scrollContainer.scrollLeft-this.initialScroll.left,top:this.scrollContainer.scrollTop-this.initialScroll.top}}},{key:"windowScrollDelta",get:function(){return{left:this.contentWindow.pageXOffset-this.initialWindowScroll.left,top:this.contentWindow.pageYOffset-this.initialWindowScroll.top}}}]),tt}(reactExports.Component),_defineProperty(i,"displayName",provideDisplayName("sortableList",o)),_defineProperty(i,"defaultProps",defaultProps),_defineProperty(i,"propTypes",propTypes),s}var propTypes$1={index:PropTypes.number.isRequired,collection:PropTypes.oneOfType([PropTypes.number,PropTypes.string]),disabled:PropTypes.bool},omittedProps$1=Object.keys(propTypes$1);function sortableElement(o){var i,s,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{withRef:!1};return s=i=function(et){_inherits(tt,et);function tt(){var rt,nt;_classCallCheck(this,tt);for(var it=arguments.length,ot=new Array(it),st=0;st<it;st++)ot[st]=arguments[st];return nt=_possibleConstructorReturn(this,(rt=_getPrototypeOf(tt)).call.apply(rt,[this].concat(ot))),_defineProperty(_assertThisInitialized(_assertThisInitialized(nt)),"wrappedInstance",reactExports.createRef()),nt}return _createClass(tt,[{key:"componentDidMount",value:function(){this.register()}},{key:"componentDidUpdate",value:function(nt){this.node&&(nt.index!==this.props.index&&(this.node.sortableInfo.index=this.props.index),nt.disabled!==this.props.disabled&&(this.node.sortableInfo.disabled=this.props.disabled)),nt.collection!==this.props.collection&&(this.unregister(nt.collection),this.register())}},{key:"componentWillUnmount",value:function(){this.unregister()}},{key:"register",value:function(){var nt=this.props,it=nt.collection,ot=nt.disabled,st=nt.index,lt=reactDomExports.findDOMNode(this);lt.sortableInfo={collection:it,disabled:ot,index:st,manager:this.context.manager},this.node=lt,this.ref={node:lt},this.context.manager.add(it,this.ref)}},{key:"unregister",value:function(){var nt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props.collection;this.context.manager.remove(nt,this.ref)}},{key:"getWrappedInstance",value:function(){return invariant$1(a.withRef,"To access the wrapped instance, you need to pass in {withRef: true} as the second argument of the SortableElement() call"),this.wrappedInstance.current}},{key:"render",value:function(){var nt=a.withRef?this.wrappedInstance:null;return reactExports.createElement(o,_extends$1({ref:nt},omit(this.props,omittedProps$1)))}}]),tt}(reactExports.Component),_defineProperty(i,"displayName",provideDisplayName("sortableElement",o)),_defineProperty(i,"contextType",SortableContext),_defineProperty(i,"propTypes",propTypes$1),_defineProperty(i,"defaultProps",{collection:0}),s}function arrayMoveMutable(o,i,s){const a=i<0?o.length+i:i;if(a>=0&&a<o.length){const et=s<0?o.length+s:s,[tt]=o.splice(i,1);o.splice(et,0,tt)}}function arrayMoveImmutable(o,i,s){return o=[...o],arrayMoveMutable(o,i,s),o}const SortableItem=sortableElement(({value:o,handleRemove:i,index:s})=>{const{item:a}=o;return a?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"sort-item",children:[jsxRuntimeExports.jsx("h5",{children:a.title}),jsxRuntimeExports.jsxs("div",{className:"button-row",children:[jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{i(s)},children:jsxRuntimeExports.jsx(Remove,{})}),jsxRuntimeExports.jsx(DragHandle,{})]})]},`${o.uId}`)}):jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"sort-item",children:jsxRuntimeExports.jsx("h1",{children:"Page Deleted"})},`${o.uId}`)," "]})}),targetHasProp=(o,i)=>{for(;o;){if(i(o))return!0;o=o.parentElement}return!1},shouldCancelSortStart=o=>targetHasProp(o.target,i=>["button"].includes(i.tagName.toLowerCase())),SortableList=sortableContainer(({items:o,handleRemove:i})=>jsxRuntimeExports.jsx("ul",{children:o.map((s,a)=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(SortableItem,{handleRemove:()=>{i(s,a)},index:a,idx:a,value:s},"item-"+s.uId)}))})),DragHandle=sortableHandle(()=>jsxRuntimeExports.jsx(IconButton$1,{children:jsxRuntimeExports.jsx(DragIndicator,{})})),SortableComponent=({items:o,getItems:i})=>{const[s,a]=reactExports.useState(o);reactExports.useEffect(()=>{i(s)},[s]);const et=({oldIndex:rt,newIndex:nt})=>{a(it=>arrayMoveImmutable(it,rt,nt))},tt=rt=>{const nt=s.filter(it=>it!==rt);a(nt)};return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(SortableList,{axis:"y",useDragHandle:!0,items:s,shouldCancelSortStart,onSortEnd:et,handleRemove:rt=>tt(rt)})})};function EditBookContainer({book:o}){const i=useParams(),s=useDispatch(),a=useNavigate(),[et,tt]=reactExports.useState([BookRole]),[rt,nt]=reactExports.useState(""),[it,ot]=reactExports.useState(!1),[st,lt]=reactExports.useState(""),[at,ut]=reactExports.useState(!1),[ft,mt]=reactExports.useState([]),[yt,ht]=reactExports.useState([]),pt=()=>{const It={id:i.id};s(fetchBook(It)).then(At=>{checkResult(At,kt=>{const Vt=kt.book;ct(Vt),gt(Vt.pageIdList)},kt=>{})})},ct=wt=>{nt(wt.title),ot(wt.privacy),ut(wt.writingIsOpen),lt(wt.purpose)};reactExports.useEffect(()=>{pt()},[]);const gt=wt=>{wt.length>0?(mt([]),wt.forEach((It,At)=>{s(fetchPage({id:It})).then(Vt=>{checkResult(Vt,Mt=>{const{page:Ot}=Mt,Ct={uId:`${Ot.id}_${uuidv4()}`,item:Ot};if(Ct){let St=ft;St[At]=Ct,mt(St)}else{const $t={uId:`${Ot.id}_${uuidv4()}`,item:{title:"Error Fetching Page"}};let Lt=ft;Lt[At]=$t,mt(Lt)}},()=>{})})})):wt.length<1&&mt([])},Et=()=>ft&&ft.length==0?jsxRuntimeExports.jsx("div",{className:"empty",children:"Empty"}):ft&&ft.length>0?jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx("div",{id:"sort-list",children:jsxRuntimeExports.jsx(ErrorBoundary,{children:jsxRuntimeExports.jsx(SortableComponent,{items:ft,getItems:wt=>{ht(wt)}})})})}):jsxRuntimeExports.jsx("div",{children:"Loading..."}),bt=wt=>{nt(wt.target.value)},xt=wt=>{if(wt.preventDefault(),o!=null){const It=yt.map(Ct=>Ct.item.id).filter(Ct=>Ct!==null);s(updateBook({book:o,title:rt,pageIdList:It,purpose:st,privacy:it,writingIsOpen:at})).then(Ct=>{checkResult(Ct,St=>{pt(),window.alert("Book Info Updated")},St=>{window.alert(`${St.message}`)})});const kt=et.filter(Ct=>Ct.role==RoleType.reader).map(Ct=>Ct.profile.userId),Vt=et.filter(Ct=>Ct.role==RoleType.commenter).map(Ct=>Ct.profile.userId),Mt=et.filter(Ct=>Ct.role==RoleType.editor).map(Ct=>Ct.profile.userId),Ot=et.filter(Ct=>Ct.role==RoleType.writer).map(Ct=>Ct.profile.userId);s(saveRolesForBook({book:o,readers:kt,commenters:Vt,editors:Mt,writers:Ot})).then(Ct=>{checkResult(Ct,St=>{window.alert("Roles saved successfully")},St=>{window.alert(`${St.message}`)})})}},Tt=()=>jsxRuntimeExports.jsxs(FormGroup$1,{style:{padding:"2em 1em"},children:[jsxRuntimeExports.jsx(TextField$1,{style:{backgroundColor:theme.palette.primary.contrastText},onChange:wt=>bt(wt),id:"standard-required",label:"Title",value:rt}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{checked:it,onChange:()=>{ot(!it)}}),label:it?"Private":"Public",value:it}),jsxRuntimeExports.jsx(FormControlLabel$1,{control:jsxRuntimeExports.jsx(Checkbox$1,{checked:at,onChange:()=>{ut(!at)}}),label:"Writing is Open to Others"}),jsxRuntimeExports.jsxs("div",{id:"purpose",children:[jsxRuntimeExports.jsx("label",{children:"Purpose"}),jsxRuntimeExports.jsx(TextareaAutosize,{value:st,minRows:3,onChange:wt=>{lt(wt.target.value)}})]}),jsxRuntimeExports.jsx(Button$4,{onClick:xt,style:{backgroundColor:theme.palette.secondary.main},variant:"contained",type:"submit",children:"Save"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{s(setBookInView({book:o})),a(`/book/${o.id}`)},children:jsxRuntimeExports.jsx(Visibility$1,{})}),jsxRuntimeExports.jsx(IconButton$1,{onClick:()=>{a(`/book/${o.id}/add`)},children:jsxRuntimeExports.jsx(Add$1,{})})]})]});return o!=null?jsxRuntimeExports.jsxs("div",{id:"EditBook",className:"container",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:Et()}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:jsxRuntimeExports.jsx("div",{className:"edit",children:jsxRuntimeExports.jsxs("div",{children:[Tt(),jsxRuntimeExports.jsx("div",{className:"roles",children:jsxRuntimeExports.jsx(RoleList,{item:o,book:o,type:"book",getRoles:wt=>{tt(wt)}})})]})})})]}):jsxRuntimeExports.jsx("div",{children:"Loading..."})}var Settings={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(Settings,"__esModule",{value:!0});var default_1=Settings.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=jsxRuntimeExports;default_1=Settings.default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");function LibraryViewContainer(o){const i=useParams(),s=useDispatch(),a=useNavigate(),et=useSelector(Mt=>Mt.users.currentProfile),tt=useSelector(Mt=>Mt.libraries.libraryInView);useSelector(Mt=>Mt.libraries.loading);const rt=useSelector(Mt=>Mt.users.followedLibraries),[nt,it]=reactExports.useState(null),[ot,st]=reactExports.useState([]),[lt,at]=reactExports.useState(!1),[ut,ft]=reactExports.useState(!1),[mt,yt]=reactExports.useState("Error"),ht=useSelector(Mt=>Mt.users.homeCollection);reactExports.useEffect(()=>{s(fetchLibrary(i)).then(Mt=>{checkResult(Mt,Ot=>{const{library:Dt}=Ot;ct(Dt),pt()},Ot=>{})})},[]);const pt=()=>{et&&tt&&s(fetchFollowLibraryForProfile({profile:et})).then(Ot=>{checkResult(Ot,Dt=>{const{followList:Ct}=Dt;let St=Ct.find($t=>$t&&$t.libraryId===tt.id&&$t.profileId===et.id);it(St)},()=>{})})},ct=Mt=>{if(Mt.privacy)if(et){let Ot=Mt.readers.find(Lt=>et&&Lt==et.userId),Dt=Mt.commenters.find(Lt=>et&&Lt==et.userId),Ct=Mt.writers.find(Lt=>et&&Lt==et.userId),St=Mt.editors.find(Lt=>et&&Lt==et.userId),$t=et&&Mt.profileId==et.id;Ot||Dt||Ct||St||$t?(ft(!1),It(Mt)):(ft(!0),yt("Not for your viewing"))}else ft(!0),yt("Not for your viewing");else ft(!1),It(Mt)},gt=()=>{if(tt!=null){const Mt=tt;let Ot=jsxRuntimeExports.jsx("div",{});return et!=null&&et.id==tt.profileId&&(Ot=jsxRuntimeExports.jsx(Button$4,{onClick:()=>{a(`/library/${tt.id}/edit`)},children:jsxRuntimeExports.jsx(default_1,{style:iconStyle})})),jsxRuntimeExports.jsx("div",{className:"info view",children:jsxRuntimeExports.jsxs("div",{className:"inner",children:[jsxRuntimeExports.jsx("h2",{className:"name",children:Mt.name}),jsxRuntimeExports.jsxs("p",{className:"purpose",children:[" ",Mt.purpose]}),jsxRuntimeExports.jsxs("div",{className:"button-row",children:[Tt(),Ot,Et()]})]})})}else return jsxRuntimeExports.jsx("div",{children:"Loading..."})},Et=()=>{if(et&&tt){let Mt=tt.profileId==et.id,Ot=tt.writers.find(Ct=>et.userId==Ct),Dt=tt.editors.find(Ct=>et.userId==Ct);if(Mt||Ot||Dt||tt.writingIsOpen)return jsxRuntimeExports.jsx(IconButton$3,{onClick:()=>{setLibraryInView({library:tt}),a(`/library/${tt.id}/add`)},children:jsxRuntimeExports.jsx(default_1$4,{style:iconStyle})})}return jsxRuntimeExports.jsx("div",{})},bt=()=>{let Mt=rt.find(Ot=>Ot!=null&&Ot.libraryId==tt.id&&Ot.profileId==et.id);Mt&&s(deleteFollowLibrary({followLibrary:Mt,profile:et,library:tt})).then(Dt=>{if(Dt.error==null){const{payload:Ct}=Dt;Ct.error==null&&it(null)}})},xt=()=>{et?tt?bt():s(createFollowLibrary({library:tt,profile:et})).then(Ot=>{if(Ot.error==null){const{payload:Dt}=Ot;if(Dt.error==null){if(it(Dt.followLibrary),ht){let Ct=[...ht.libraries];ht.libraries.find(Ft=>tt.id==Ft)||(Ct=[...ht.libraries,tt.id]);let $t=[...ht.books],Lt=[...ht.pages],Rt=[...ht.profiles];s(updateHomeCollection({profile:et,books:$t,pages:Lt,libraries:Ct,profiles:Rt}))}}else window.alert("Follow error: Try logging in again")}}):window.alert("You'll need to login first")},Tt=()=>nt?jsxRuntimeExports.jsx(Button$4,{style:{backgroundColor:theme.palette.secondary.light,color:theme.palette.secondary.contrastText},variant:"outlined",onClick:xt,children:"Reader"}):jsxRuntimeExports.jsx(Button$4,{style:{backgroundColor:theme.palette.secondary.main,color:theme.palette.secondary.contrastText},variant:"outlined",onClick:xt,children:"Read"}),wt=Mt=>{Mt?s(fetchArrayOfPages({pageIdList:Mt.pageIdList})).then(Ot=>checkResult(Ot,Dt=>{let{pageList:Ct}=Dt,St=Ct.map($t=>({uId:`${uuidv4}_${$t.id}`,page:$t}));st($t=>[...$t,...St])},Dt=>{console.error(Dt)})):(ft(!0),yt("Library is Null"))},It=Mt=>{st([]),wt(Mt),At(Mt)},At=Mt=>{Mt?Mt.bookIdList.forEach(Ot=>{s(fetchBook({id:Ot})).then(Dt=>{checkResult(Dt,Ct=>{const{book:St}=Ct;St.pageIdList.forEach($t=>{s(fetchPage({id:$t})).then(Lt=>{checkResult(Lt,Rt=>{const{page:jt}=Rt,Ft={uId:`${uuidv4}_${St.id}_${jt.id}`,book:St,page:jt};st(zt=>[...zt,Ft]),ft(!1)},Rt=>{})})})},Ct=>{yt("Error "+Ct.message)})}),ft(!1)}):(ft(!0),yt("Library null"))},kt=()=>{if(ut)return jsxRuntimeExports.jsx("div",{className:"error",children:jsxRuntimeExports.jsx("h6",{children:mt})});{const Mt=jsxRuntimeExports.jsx("div",{className:"empty",children:jsxRuntimeExports.jsx("h1",{children:"Empty"})});return ot.length>0&&tt?jsxRuntimeExports.jsx("div",{className:"content-list",children:jsxRuntimeExports.jsx("div",{className:"",children:jsxRuntimeExports.jsx(InfiniteScroll,{dataLength:ot.length,next:()=>It(tt),hasMore:lt,loader:jsxRuntimeExports.jsx("p",{children:"Loading..."}),endMessage:jsxRuntimeExports.jsx("div",{className:"no-more-data",children:jsxRuntimeExports.jsx("p",{children:"No more data to load."})}),scrollableTarget:"scrollableDiv",children:jsxRuntimeExports.jsx("div",{children:ot.map(Ot=>{if(Ot.page)return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(DashboardItem,{book:Ot.book,library:tt,page:Ot.page})},Ot.page.id+"_"+uuidv4());if(Ot.book)return jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsx(BookListItem,{book:Ot.book})},Ot.book.id+"_"+uuidv4())})})})})}):Mt}},Vt=()=>{if(tt)return jsxRuntimeExports.jsxs(HelmetExport,{children:[jsxRuntimeExports.jsx("title",{children:tt.title}),jsxRuntimeExports.jsx("meta",{name:"description",content:tt.purpose})]})};return jsxRuntimeExports.jsxs("div",{children:[Vt(),jsxRuntimeExports.jsxs("div",{className:"two-panel",children:[jsxRuntimeExports.jsx("div",{className:"left-bar",children:kt()}),jsxRuntimeExports.jsx("div",{className:"right-bar",children:gt()})]})]})}const rickyBookshelf="/assets/ricky-bookshelf-HbNkErP-.jpg",groupJpg="/assets/write-brooke-group-ulXcTxe7.jpg";function AboutContainer(o){useDispatch();const i=useNavigate(),s=()=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{className:"box",children:[jsxRuntimeExports.jsx("h1",{className:"poppins",children:"For Creatives"}),jsxRuntimeExports.jsx("p",{children:"Plumbum is for writers to help recreate the writers' workshop online. Writers' workshop are a place to receive feedback on your work from people with the same goal as you of getting better at their craft."})]})}),a=()=>jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{id:"ready",children:[jsxRuntimeExports.jsx("p",{children:"Ready to start your writing journey? Sign up today, start a page and write anything. It's the place for your story on Plumbum."}),jsxRuntimeExports.jsx(Button$4,{onClick:()=>{i(Paths.login())},style:{padding:"0.5em 1em",backgroundColor:theme.palette.primary.dark,boxShadow:theme.attributes.boxShadow,color:"#5CCA61",fontSize:"2em"},children:"Sign Up"})]})}),et=()=>jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("h3",{className:"poppins",children:"What is a Writers' Workshop?"}),jsxRuntimeExports.jsxs("ul",{children:[jsxRuntimeExports.jsx("p",{children:"🔒It's a creative sanctuary. A place to receive feedback, control privacy, and build community."}),jsxRuntimeExports.jsx("p",{children:" 📝 Tired of oversharing your work? Plumbum allows you to control the visibility of your writing, whether you want it to be a private diary or a public masterpiece."}),jsxRuntimeExports.jsx("p",{children:"💬 Need constructive feedback to refine your craft? Join a community of fellow writers eager to share their insights and support your journey."}),jsxRuntimeExports.jsx("p",{children:" 🌟 Create or join groups that resonate with your writing style, genre, or interests, connect with like-minded individuals who appreciate your unique voice."}),jsxRuntimeExports.jsx("p",{children:"📘 Organize all your related writing into books. Reorganzing the work until you're satisfied."}),jsxRuntimeExports.jsx("p",{children:"📚 Whether you're a seasoned novelist or just beginning your literary adventure. Plumbum is great place to begin work and find support to complete work."})]})]}),tt=()=>jsxRuntimeExports.jsx("div",{id:"image-container1",children:jsxRuntimeExports.jsx("img",{src:groupJpg,id:"group",alt:"books"})});return jsxRuntimeExports.jsxs("div",{id:"about",children:[jsxRuntimeExports.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Yanone+Kaffeesatz:wght@300;400;700&display=swap"}),jsxRuntimeExports.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),jsxRuntimeExports.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}),jsxRuntimeExports.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@1,300&family=Roboto:wght@500&display=swap",rel:"stylesheet"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"welcome",children:[jsxRuntimeExports.jsx("div",{id:"title",children:jsxRuntimeExports.jsx("h1",{children:jsxRuntimeExports.jsx("strong",{children:"Welcome to Plumbum"})})}),jsxRuntimeExports.jsx(MediaQuery,{minWidth:"1000px",children:jsxRuntimeExports.jsx("div",{id:"bookshelf",children:jsxRuntimeExports.jsx("img",{src:rickyBookshelf,alt:"bookshelves"})})})]}),jsxRuntimeExports.jsx("div",{children:jsxRuntimeExports.jsxs("div",{id:"for",children:[tt(),s()]})}),jsxRuntimeExports.jsx("div",{className:"details box",children:et()})]}),jsxRuntimeExports.jsx("div",{className:"details box",children:a()}),jsxRuntimeExports.jsx("div",{className:"request",children:jsxRuntimeExports.jsx("p",{children:"Any request for more feautres, problems, encoragement, send to plumbumapp@gmail.com"})})]})}function App(o){const i=useAuth();reactExports.useEffect(()=>{s()},[o.currentProfile]),reactExports.useEffect(()=>{o.fetchAllProfiles()},[]),reactExports.useEffect(()=>{if(i.user&&!i.user.isAnonymous&&!o.currentProfile||o.currentProfile&&i.user&&o.currentProfile.userId!=i.user.uid){const a={userId:i.user.uid};o.getCurrentProfile(a)}},[i.user]);const s=()=>{if(o.currentProfile!=null){const a={id:o.currentProfile.bookmarkLibraryId},et={profile:o.currentProfile};o.fetchHomeCollection(et),o.fetchBookmarkLibrary(a),o.getPageApprovals(et),o.fetchFollowBooksForProfile(et),o.fetchFollowLibraryForProfile(et),o.fetchFollowProfilesForProfile(et)}};return jsxRuntimeExports.jsxs("div",{className:"App",children:[jsxRuntimeExports.jsxs(HelmetExport,{children:[jsxRuntimeExports.jsx("meta",{charSet:"utf-8"}),jsxRuntimeExports.jsx("title",{children:"Plumbum"}),jsxRuntimeExports.jsx("meta",{name:"description",content:"The place for writers to connect"})]}),jsxRuntimeExports.jsx("link",{rel:"stylesheet",href:"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css"}),jsxRuntimeExports.jsx("script",{src:"https://unpkg.com/react@16/umd/react.development.js",crossorigin:!0}),jsxRuntimeExports.jsx("script",{src:"https://unpkg.com/react-dom@16/umd/react-dom.development.js",crossorigin:!0}),jsxRuntimeExports.jsx("script",{src:"https://unpkg.com/react-quill@1.3.3/dist/react-quill.js"}),jsxRuntimeExports.jsx("script",{src:"https://unpkg.com/babel-standalone@6/babel.min.js"}),jsxRuntimeExports.jsx("script",{type:"text/babel",src:"/my-scripts.js"}),jsxRuntimeExports.jsx("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM",crossOrigin:"anonymous"}),jsxRuntimeExports.jsx("script",{src:"https://kit.fontawesome.com/08dbe310f1.js",crossorigin:"anonymous"}),jsxRuntimeExports.jsx("script",{type:"text/javascript",src:"Scripts/bootstrap.min.js"}),jsxRuntimeExports.jsx("script",{type:"text/javascript",src:"Scripts/jquery-2.1.1.min.js"}),jsxRuntimeExports.jsx("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js",integrity:"sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz",crossOrigin:"anonymous"}),jsxRuntimeExports.jsx(NavbarContainer,{loggedIn:o.currentProfile,profile:o.currentProfile}),jsxRuntimeExports.jsx(SearchDialog,{}),jsxRuntimeExports.jsxs(Routes,{history,children:[jsxRuntimeExports.jsx(Route,{exact:!0,path:Paths.home(),element:jsxRuntimeExports.jsx(DashboardContainer,{getPublicPages:o.getPublicPages,pagesInView:o.pagesInView})}),jsxRuntimeExports.jsx(Route,{path:"/discovery",element:jsxRuntimeExports.jsx(DiscoveryContainer,{getPublicLibraries:o.getPublicLibraries,getPublicPages:o.getPublicPages,getPublicBooks:o.getPublicBooks,pagesInView:o.pagesInView,fetchAllProfiles:o.fetchAllProfiles})}),jsxRuntimeExports.jsx(Route,{path:"/login",element:jsxRuntimeExports.jsx(LoggedRoute,{profile:!o.currentProfile,children:jsxRuntimeExports.jsx(LogInContainer,{logIn:o.logIn})})}),jsxRuntimeExports.jsx(Route,{path:Paths.about(),element:jsxRuntimeExports.jsx(AboutContainer,{})}),jsxRuntimeExports.jsx(Route,{path:Paths.myProfile(),element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(MyProfileContainer,{currentProfile:o.currentProfile,pagesInView:o.pagesInView,booksInView:o.booksInView,librariesInView:o.librariesInView})})}),jsxRuntimeExports.jsx(Route,{path:"/profile/:id",element:jsxRuntimeExports.jsx(ProfileContainer,{profile:o.profileInView})}),jsxRuntimeExports.jsx(Route,{path:"/book/:id",element:jsxRuntimeExports.jsx(BookViewContainer,{book:o.bookInView,pages:o.pagesInView})}),jsxRuntimeExports.jsx(Route,{path:"/page/image",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(EditorContainer,{htmlContent:o.htmlContent,currentProfile:o.currentProfile})})}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/page/text",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(EditorContainer,{htmlContent:o.htmlContent,currentProfile:o.currentProfile})})}),jsxRuntimeExports.jsx(Route,{exact:!0,path:"/page/link",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(EditorContainer,{htmlContent:o.htmlContent,currentProfile:o.currentProfile})})}),jsxRuntimeExports.jsx(Route,{path:"/page/:id",element:jsxRuntimeExports.jsx(PageViewContainer,{page:o.pageInView})}),jsxRuntimeExports.jsx(Route,{path:"/page/:id/edit",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(EditorContainer,{htmlContent:o.htmlContent,currentProfile:o.currentProfile})})}),jsxRuntimeExports.jsx(Route,{path:"/book/new",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(CreateBookContainer,{pagesInView:o.pagesInView,booksInView:o.booksInView})})}),jsxRuntimeExports.jsx(Route,{path:"/book/:id/edit",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(EditBookContainer,{book:o.bookInView,pages:o.pagesInView})})}),jsxRuntimeExports.jsx(Route,{path:"/library/new",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(CreateLibraryContainer,{})})}),jsxRuntimeExports.jsx(Route,{path:"/library/:id",element:jsxRuntimeExports.jsx(LibraryViewContainer,{})}),jsxRuntimeExports.jsx(Route,{path:"/profile/edit",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(SettingsContainer,{})})}),jsxRuntimeExports.jsx(Route,{path:"/library/:id/edit",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(UpdateLibraryContainer,{})})}),jsxRuntimeExports.jsx(Route,{path:"/book/:id/add",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(AddPageToBookContainer,{})})}),jsxRuntimeExports.jsx(Route,{path:"/library/:id/add",element:jsxRuntimeExports.jsx(PrivateRoute,{loggedIn:!!o.currentProfile,children:jsxRuntimeExports.jsx(AddItemsToLibraryContainer,{})})})]})]})}function mapDispatchToProps(o){return{getCurrentProfile:i=>o(getCurrentProfile(i)),getPublicBooks:()=>o(getPublicBooks()),fetchBookmarkLibrary:i=>o(fetchBookmarkLibrary(i)),getPublicLibraries:()=>o(getPublicLibraries()),getPublicPages:()=>o(getPublicPages()),fetchAllProfiles:()=>o(fetchAllProfiles()),fetchFollowBooksForProfile:i=>o(fetchFollowBooksForProfile(i)),fetchFollowLibraryForProfile:i=>o(fetchFollowLibraryForProfile(i)),fetchFollowProfilesForProfile:i=>o(fetchFollowProfilesForProfile(i)),fetchHomeCollection:i=>o(fetchHomeCollection(i)),setSignedInTrue:()=>o(setSignedInTrue()),setSignedInFalse:()=>o(setSignedInFalse()),getPageApprovals:i=>o(getPageApprovals(i))}}function mapStateToProps(o){return{profile:o.users.profileInView,signedIn:o.users.signedIn,bookInView:o.books.bookInView,booksInView:o.books.booksInView,currentProfile:o.users.currentProfile,pageInView:o.pages.pageInView,pagesInView:o.pages.pagesInView,librariesInView:o.libraries.librariesInView,bookLoading:o.books.loading}}const App$1=connect_default(mapStateToProps,mapDispatchToProps)(App),initialState$3={pagesInView:[],editingPage:null,loading:!1,editorHtmlContent:"",error:"",pageInView:null,pagesToBeAdded:[],commentsInView:[]},pageSlice=createSlice({name:"pages",initialState:initialState$3,extraReducers(o){o.addCase(getPublicPages.pending,i=>{i.loading=!0}).addCase(getPublicPages.fulfilled,(i,{payload:s})=>{i.loading=!1;const a=s.pageList;i.pagesInView=a}).addCase(getPublicPages.rejected,i=>{i.loading=!1}).addCase(setHtmlContent,(i,{payload:s})=>{i.editorHtmlContent=s.html}).addCase(getProfilePages.pending,i=>{i.loading=!0}).addCase(getProfilePages.fulfilled,(i,{payload:s})=>{i.loading=!1,i.pagesInView=s.pageList}).addCase(getProfilePages.rejected,(i,{payload:s,error:a})=>{a!=null?i.error=a.name:i.error=s.error,i.loading=!1}).addCase(deletePage.fulfilled,(i,{payload:s})=>{let a=i.pagesInView.filter(et=>et.id!==s.page.id);i.pagesInView=a}).addCase(createPage.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(createPage.pending,i=>{i.loading=!0}).addCase(createPage.fulfilled,(i,{payload:s})=>{i.loading=!1,i.editingPage=s.page}).addCase(clearEditingPage,i=>{i.editingPage=null}).addCase(setPageInView,(i,{payload:s})=>{i.pageInView=s.page}).addCase(setEditingPage.type,(i,{payload:s})=>{i.editingPage=s}).addCase(saveRolesForPage.fulfilled,(i,{payload:s})=>{s.page&&(i.editingPage=s.page)}).addCase(saveRolesForPage.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchPage.pending,i=>{i.loading=!0}).addCase(fetchPage.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchPage.fulfilled,(i,{payload:s})=>{i.loading=!1,i.pageInView=s.page}).addCase(fetchArrayOfPages.fulfilled,(i,{payload:s})=>{i.pagesInView=s.pageList,i.loading=!1}).addCase(fetchArrayOfPages.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(fetchArrayOfPages.pending,i=>{i.loading=!0}).addCase(setPagesToBeAdded.type,(i,{payload:s})=>{i.pagesToBeAdded=s}).addCase(fetchArrayOfPagesAppened.fulfilled,(i,{payload:s})=>{i.pagesInView=[...i.pagesInView,...s.pageList],i.loading=!1}).addCase(fetchArrayOfPagesAppened.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(clearPagesInView.type,i=>{i.pagesInView=[]}).addCase(fetchEditingPage.fulfilled,(i,{payload:s})=>{s.page&&(i.editingPage=s.page)}).addCase(fetchCommentsOfPage.pending,(i,{payload:s})=>{i.loading=!0}).addCase(fetchCommentsOfPage.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(fetchCommentsOfPage.fulfilled,(i,{payload:s})=>{Array.isArray(s.comments)?i.commentsInView=s.comments:i.error=s.error,i.loading=!1}).addCase(deleteComment.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(deleteComment.fulfilled,(i,{payload:s})=>{let a=i.commentsInView.filter(et=>et.id!==s.comment);i.commentsInView=a}).addCase(appendComment,(i,{payload:s})=>{Array.isArray(i.commentsInView)?i.commentsInView=[...i.commentsInView,s.comment]:i.commentsInView=[s.comment]}).addCase(updateComment.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(updateComment.fulfilled,(i,{payload:s})=>{let a=i.commentsInView.map(et=>et.id===s.comment.id?s.comment:et);i.commentsInView=a}).addCase(fetchAppendPagesOfProfile.fulfilled,(i,{payload:s})=>{i.pagesInView=[...i.pagesInView,...s.pageList]}).addCase(fetchAppendPagesOfProfile.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(updatePage.fulfilled,(i,{payload:s})=>{s.page&&(i.editingPage=s.page)}).addCase(updatePage.rejected,(i,{payload:s})=>{i.error=s.error})}}),initialState$2={signedIn:!0,currentProfile:null,homeCollection:null,loading:!1,userApprovals:[],followedBooks:[],followedProfiles:[],followedLibraries:[],profileInView:null,profilesInView:[],searchResults:[],searchDialogOpen:!1,error:""},userSlice=createSlice({name:"users",initialState:initialState$2,extraReducers(o){o.addCase(logIn.pending,i=>{i.loading=!0}).addCase(logIn.fulfilled,(i,{payload:s})=>{i.loading=!1,i.signedIn=!0,i.currentProfile=s.profile}).addCase(logIn.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(signUp.pending,i=>{i.loading=!0}).addCase(signUp.fulfilled,(i,{payload:s})=>{i.currentProfile=s.profile,i.signedIn=!0,i.loading=!1}).addCase(signUp.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(getCurrentProfile.rejected,(i,{payload:s})=>{i.loading=!1,i.signedIn=!1}).addCase(getCurrentProfile.pending,i=>{i.loading=!0}).addCase(getCurrentProfile.fulfilled,(i,{payload:s})=>{i.currentProfile=s.profile,i.loading=!1}).addCase(fetchAllProfiles.fulfilled,(i,{payload:s})=>{i.profilesInView=s.profileList,i.loading=!1}).addCase(fetchAllProfiles.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(fetchProfile.pending,i=>{i.loading=!0}).addCase(fetchProfile.fulfilled,(i,{payload:s})=>{i.profileInView=s.profile,i.loading=!1}).addCase(fetchProfile.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(setProfileInView,(i,{payload:s})=>{i.profileInView=s.profile}).addCase(fetchFollowBooksForProfile.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchFollowBooksForProfile.fulfilled,(i,{payload:s})=>{Array.isArray(s.followList)&&(i.followedBooks=s.followList)}).addCase(fetchFollowLibraryForProfile.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchFollowLibraryForProfile.fulfilled,(i,{payload:s})=>{Array.isArray(s.followList)&&(i.followedLibraries=s.followList)}).addCase(createFollowBook.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(createFollowBook.fulfilled,(i,{payload:s})=>{i.followedBooks=[...i.followedBooks,s.followBook]}).addCase(createFollowLibrary.fulfilled,(i,{payload:s})=>{i.followedLibraries=[...i.followedLibraries,s.followLibrary]}).addCase(createFollowLibrary.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchFollowProfilesForProfile.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchFollowProfilesForProfile.fulfilled,(i,{payload:s})=>{Array.isArray(s.followList)&&(i.followedProfiles=s.followList)}).addCase(createFollowProfile.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(createFollowProfile.fulfilled,(i,{payload:s})=>{i.followedProfiles=[...i.followedProfiles,s.followProfile]}).addCase(signOutAction.fulfilled,(i,{payload:s})=>{i.currentProfile=null,i.followedBooks=[],i.followedLibraries=[],i.followedProfiles=[],i.homeCollection=null,i.loading=!1,i.signedIn=!1}).addCase(signOutAction.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchHomeCollection.fulfilled,(i,{payload:s})=>{i.homeCollection=s.collection}).addCase(fetchHomeCollection.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(updateHomeCollection.fulfilled,(i,{payload:s})=>{i.homeCollection=s.collection}).addCase(updateHomeCollection.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(deleteFollowBook.fulfilled,(i,{payload:s})=>{const a=i.followedBooks.filter(et=>et!=null&&et.id!=s.followBook.id);i.followedBooks=a}).addCase(deleteFollowLibrary.fulfilled,(i,{payload:s})=>{const a=i.followedLibraries.filter(et=>et!=null&&et.id!=s.followLibrary.id);i.followedBooks=a}).addCase(deleteFollowProfile.fulfilled,(i,{payload:s})=>{const a=i.followedProfiles.filter(et=>et!=null&&s.followLibrary&&et.id!=s.followLibrary.id);i.followedBooks=a}).addCase(setSignedInTrue.type,(i,{payload:s})=>{i.signedIn=!0}).addCase(setSignedInFalse.type,(i,{payload:s})=>{i.signedIn=!1}).addCase(getPageApprovals.fulfilled,(i,{payload:s})=>{s.userApprovals!==null&&(i.userApprovals=s.userApprovals)}).addCase(getPageApprovals.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(createPageApproval.fulfilled,(i,{payload:s})=>{i.userApprovals=[...i.userApprovals,s.userApproval]}).addCase(deletePageApproval.fulfilled,(i,{payload:s})=>{const a=i.userApprovals.filter(et=>et!=null&&s.userApproval&&et.id!=s.userApproval.id);i.userApprovals=a}).addCase(searchDialogToggle.type,(i,{payload:s})=>{i.searchDialogOpen=s}).addCase(searchMultipleIndexes.fulfilled,(i,{payload:s})=>{i.searchResults=s.searchResults}).addCase(searchMultipleIndexes.rejected,(i,{payload:s})=>{i.error=s.error})}}),initialState$1={booksInView:[],loading:!1,error:"",bookInView:null,booksToBeAdded:[],bookRoles:[]},bookSlice=createSlice({name:"books",initialState:initialState$1,extraReducers(o){o.addCase(getPublicBooks.pending,(i,{payload:s})=>{i.loading=!0}).addCase(getPublicBooks.rejected,(i,{payload:s})=>{i.loading=!1,i.error=s.error}).addCase(getPublicBooks.fulfilled,(i,{payload:s})=>{i.loading=!1,i.booksInView=s.bookList}).addCase(fetchBook.pending,i=>{i.loading=!0}).addCase(fetchBook.rejected,(i,{payload:s})=>{i.loading=!1,i.error=s.error}).addCase(fetchBook.fulfilled,(i,{payload:s})=>{i.loading=!1,i.bookInView=s.book}).addCase(getProfileBooks.pending,i=>{i.loading=!0}).addCase(getProfileBooks.fulfilled,(i,{payload:s})=>{i.loading=!1,i.booksInView=s.bookList}).addCase(getProfileBooks.rejected,(i,{payload:s})=>{i.loading=!1,i.error=s.error}).addCase(fetchArrayOfBooks.fulfilled,(i,{payload:s})=>{i.booksInView=s.bookList,i.loading=!1}).addCase(fetchArrayOfBooksAppened.fulfilled,(i,{payload:s})=>{i.booksInView=[...i.booksInView,...s.bookList],i.loading=!1}).addCase(clearBooksInView,i=>{i.booksInView=[]}).addCase(saveRolesForBook.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(saveRolesForBook.fulfilled,(i,{payload:s})=>{i.bookInView=s.book}).addCase(updateBook.fulfilled,(i,{payload:s})=>{i.bookInView=s.book,i.loading=!1}).addCase(updateBook.pending,i=>{i.loading=!0}).addCase(updateBook.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(setBooksToBeAdded.type,(i,{payload:s})=>{i.booksToBeAdded=s}).addCase(setBookInView.type,(i,{payload:s})=>{i.bookInView=s.book}).addCase(deleteBook.fulfilled,(i,{payload:s})=>{let a=i.booksInView.filter(et=>et.id!=s.book.id);i.booksInView=a}).addCase(deleteBook.rejected,(i,{payload:s})=>{i.error=s.error})}}),initialState={librariesInView:[Library],loading:!1,error:"",bookmarkLibrary:null,libraryInView:null},libSlice=createSlice({name:"libraries",initialState,extraReducers(o){o.addCase(getProfileLibraries.rejected,(i,{payload:s})=>({...i,error:s.error})).addCase(getProfileLibraries.fulfilled,(i,{payload:s})=>({...i,librariesInView:s.libList})).addCase(getProfileLibraries.pending,i=>({...i,loading:!0})).addCase(fetchLibrary.pending,i=>({...i,loading:!0})).addCase(fetchLibrary.rejected,(i,{payload:s})=>({...i,loading:!1,error:s.error})).addCase(fetchLibrary.fulfilled,(i,{payload:s})=>({...i,loading:!1,libraryInView:s.library})).addCase(createLibrary.pending,i=>({...i,loading:!0})).addCase(createLibrary.rejected,(i,{payload:s})=>({...i,error:s.error})).addCase(createLibrary.fulfilled,(i,{payload:s})=>({...i,loading:!1,libraryInView:s.library})).addCase(fetchBookmarkLibrary.fulfilled,(i,{payload:s})=>{s.library&&(i.bookmarkLibrary=s.library)}).addCase(fetchBookmarkLibrary.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(updateLibrary.fulfilled,(i,{payload:s})=>{i.libraryInView=s.library,i.loading=!1}).addCase(updateLibrary.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(updateLibrary.pending,(i,{payload:s})=>{i.loading=!0}).addCase(setLibraryInView.type,(i,{payload:s})=>{s?i.libraryInView=s.library:i.error="No Payload"}).addCase(getPublicLibraries.pending,i=>{i.pending=!0}).addCase(getPublicLibraries.fulfilled,(i,{payload:s})=>{i.librariesInView=s.libraryList,i.loading=!1}).addCase(getPublicLibraries.rejected,(i,{payload:s})=>{i.loading=!1,i.error=s.error}).addCase(fetchArrayOfLibraries.rejected,(i,{payload:s})=>{i.error=s.error,i.loading=!1}).addCase(fetchArrayOfLibraries.fulfilled,(i,{payload:s})=>{i.librariesInView=s.libraryList}).addCase(fetchArrayOfLibrariesAppend.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(fetchArrayOfLibrariesAppend.fulfilled,(i,{payload:s})=>{i.librariesInView=[...i.librariesInView,...s.libraryList]}).addCase(clearLibrariesInView.type,i=>{i.librariesInView=[]}).addCase(updateLibraryContent.fulfilled,(i,{payload:s})=>{s.library&&(i.libraryInView=s.library)}).addCase(updateLibraryContent.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(setBookmarkLibrary.type,(i,{payload:s})=>{i.bookmarkLibrary=s.library}).addCase(saveRolesForLibrary.fulfilled,(i,{payload:s})=>{s.library&&(i.libraryInView=s.library)}).addCase(saveRolesForLibrary.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(deleteLibrary.rejected,(i,{payload:s})=>{i.error=s.error}).addCase(deleteLibrary.fulfilled,(i,{payload:s})=>{i.libraryInView=null})}});var reduxLogger={exports:{}};(function(o,i){(function(s,a){a(i)})(commonjsGlobal$1,function(s){function a(Rt,jt){Rt.super_=jt,Rt.prototype=Object.create(jt.prototype,{constructor:{value:Rt,enumerable:!1,writable:!0,configurable:!0}})}function et(Rt,jt){Object.defineProperty(this,"kind",{value:Rt,enumerable:!0}),jt&&jt.length&&Object.defineProperty(this,"path",{value:jt,enumerable:!0})}function tt(Rt,jt,Ft){tt.super_.call(this,"E",Rt),Object.defineProperty(this,"lhs",{value:jt,enumerable:!0}),Object.defineProperty(this,"rhs",{value:Ft,enumerable:!0})}function rt(Rt,jt){rt.super_.call(this,"N",Rt),Object.defineProperty(this,"rhs",{value:jt,enumerable:!0})}function nt(Rt,jt){nt.super_.call(this,"D",Rt),Object.defineProperty(this,"lhs",{value:jt,enumerable:!0})}function it(Rt,jt,Ft){it.super_.call(this,"A",Rt),Object.defineProperty(this,"index",{value:jt,enumerable:!0}),Object.defineProperty(this,"item",{value:Ft,enumerable:!0})}function ot(Rt,jt,Ft){var zt=Rt.slice((Ft||jt)+1||Rt.length);return Rt.length=jt<0?Rt.length+jt:jt,Rt.push.apply(Rt,zt),Rt}function st(Rt){var jt=typeof Rt>"u"?"undefined":Ot(Rt);return jt!=="object"?jt:Rt===Math?"math":Rt===null?"null":Array.isArray(Rt)?"array":Object.prototype.toString.call(Rt)==="[object Date]"?"date":typeof Rt.toString=="function"&&/^\/.*\//.test(Rt.toString())?"regexp":"object"}function lt(Rt,jt,Ft,zt,Gt,Bt,Wt){Gt=Gt||[],Wt=Wt||[];var Kt=Gt.slice(0);if(typeof Bt<"u"){if(zt){if(typeof zt=="function"&&zt(Kt,Bt))return;if((typeof zt>"u"?"undefined":Ot(zt))==="object"){if(zt.prefilter&&zt.prefilter(Kt,Bt))return;if(zt.normalize){var Qt=zt.normalize(Kt,Bt,Rt,jt);Qt&&(Rt=Qt[0],jt=Qt[1])}}}Kt.push(Bt)}st(Rt)==="regexp"&&st(jt)==="regexp"&&(Rt=Rt.toString(),jt=jt.toString());var Xt=typeof Rt>"u"?"undefined":Ot(Rt),er=typeof jt>"u"?"undefined":Ot(jt),sr=Xt!=="undefined"||Wt&&Wt[Wt.length-1].lhs&&Wt[Wt.length-1].lhs.hasOwnProperty(Bt),ur=er!=="undefined"||Wt&&Wt[Wt.length-1].rhs&&Wt[Wt.length-1].rhs.hasOwnProperty(Bt);if(!sr&&ur)Ft(new rt(Kt,jt));else if(!ur&&sr)Ft(new nt(Kt,Rt));else if(st(Rt)!==st(jt))Ft(new tt(Kt,Rt,jt));else if(st(Rt)==="date"&&Rt-jt!==0)Ft(new tt(Kt,Rt,jt));else if(Xt==="object"&&Rt!==null&&jt!==null)if(Wt.filter(function(Er){return Er.lhs===Rt}).length)Rt!==jt&&Ft(new tt(Kt,Rt,jt));else{if(Wt.push({lhs:Rt,rhs:jt}),Array.isArray(Rt)){var nr;for(Rt.length,nr=0;nr<Rt.length;nr++)nr>=jt.length?Ft(new it(Kt,nr,new nt(void 0,Rt[nr]))):lt(Rt[nr],jt[nr],Ft,zt,Kt,nr,Wt);for(;nr<jt.length;)Ft(new it(Kt,nr,new rt(void 0,jt[nr++])))}else{var yr=Object.keys(Rt),Ar=Object.keys(jt);yr.forEach(function(Er,lr){var dr=Ar.indexOf(Er);dr>=0?(lt(Rt[Er],jt[Er],Ft,zt,Kt,Er,Wt),Ar=ot(Ar,dr)):lt(Rt[Er],void 0,Ft,zt,Kt,Er,Wt)}),Ar.forEach(function(Er){lt(void 0,jt[Er],Ft,zt,Kt,Er,Wt)})}Wt.length=Wt.length-1}else Rt!==jt&&(Xt==="number"&&isNaN(Rt)&&isNaN(jt)||Ft(new tt(Kt,Rt,jt)))}function at(Rt,jt,Ft,zt){return zt=zt||[],lt(Rt,jt,function(Gt){Gt&&zt.push(Gt)},Ft),zt.length?zt:void 0}function ut(Rt,jt,Ft){if(Ft.path&&Ft.path.length){var zt,Gt=Rt[jt],Bt=Ft.path.length-1;for(zt=0;zt<Bt;zt++)Gt=Gt[Ft.path[zt]];switch(Ft.kind){case"A":ut(Gt[Ft.path[zt]],Ft.index,Ft.item);break;case"D":delete Gt[Ft.path[zt]];break;case"E":case"N":Gt[Ft.path[zt]]=Ft.rhs}}else switch(Ft.kind){case"A":ut(Rt[jt],Ft.index,Ft.item);break;case"D":Rt=ot(Rt,jt);break;case"E":case"N":Rt[jt]=Ft.rhs}return Rt}function ft(Rt,jt,Ft){if(Rt&&jt&&Ft&&Ft.kind){for(var zt=Rt,Gt=-1,Bt=Ft.path?Ft.path.length-1:0;++Gt<Bt;)typeof zt[Ft.path[Gt]]>"u"&&(zt[Ft.path[Gt]]=typeof Ft.path[Gt]=="number"?[]:{}),zt=zt[Ft.path[Gt]];switch(Ft.kind){case"A":ut(Ft.path?zt[Ft.path[Gt]]:zt,Ft.index,Ft.item);break;case"D":delete zt[Ft.path[Gt]];break;case"E":case"N":zt[Ft.path[Gt]]=Ft.rhs}}}function mt(Rt,jt,Ft){if(Ft.path&&Ft.path.length){var zt,Gt=Rt[jt],Bt=Ft.path.length-1;for(zt=0;zt<Bt;zt++)Gt=Gt[Ft.path[zt]];switch(Ft.kind){case"A":mt(Gt[Ft.path[zt]],Ft.index,Ft.item);break;case"D":Gt[Ft.path[zt]]=Ft.lhs;break;case"E":Gt[Ft.path[zt]]=Ft.lhs;break;case"N":delete Gt[Ft.path[zt]]}}else switch(Ft.kind){case"A":mt(Rt[jt],Ft.index,Ft.item);break;case"D":Rt[jt]=Ft.lhs;break;case"E":Rt[jt]=Ft.lhs;break;case"N":Rt=ot(Rt,jt)}return Rt}function yt(Rt,jt,Ft){if(Rt&&jt&&Ft&&Ft.kind){var zt,Gt,Bt=Rt;for(Gt=Ft.path.length-1,zt=0;zt<Gt;zt++)typeof Bt[Ft.path[zt]]>"u"&&(Bt[Ft.path[zt]]={}),Bt=Bt[Ft.path[zt]];switch(Ft.kind){case"A":mt(Bt[Ft.path[zt]],Ft.index,Ft.item);break;case"D":Bt[Ft.path[zt]]=Ft.lhs;break;case"E":Bt[Ft.path[zt]]=Ft.lhs;break;case"N":delete Bt[Ft.path[zt]]}}}function ht(Rt,jt,Ft){if(Rt&&jt){var zt=function(Gt){Ft&&!Ft(Rt,jt,Gt)||ft(Rt,jt,Gt)};lt(Rt,jt,zt)}}function pt(Rt){return"color: "+St[Rt].color+"; font-weight: bold"}function ct(Rt){var jt=Rt.kind,Ft=Rt.path,zt=Rt.lhs,Gt=Rt.rhs,Bt=Rt.index,Wt=Rt.item;switch(jt){case"E":return[Ft.join("."),zt,"→",Gt];case"N":return[Ft.join("."),Gt];case"D":return[Ft.join(".")];case"A":return[Ft.join(".")+"["+Bt+"]",Wt];default:return[]}}function gt(Rt,jt,Ft,zt){var Gt=at(Rt,jt);try{zt?Ft.groupCollapsed("diff"):Ft.group("diff")}catch{Ft.log("diff")}Gt?Gt.forEach(function(Bt){var Wt=Bt.kind,Kt=ct(Bt);Ft.log.apply(Ft,["%c "+St[Wt].text,pt(Wt)].concat(Dt(Kt)))}):Ft.log("—— no diff ——");try{Ft.groupEnd()}catch{Ft.log("—— diff end —— ")}}function Et(Rt,jt,Ft,zt){switch(typeof Rt>"u"?"undefined":Ot(Rt)){case"object":return typeof Rt[zt]=="function"?Rt[zt].apply(Rt,Dt(Ft)):Rt[zt];case"function":return Rt(jt);default:return Rt}}function bt(Rt){var jt=Rt.timestamp,Ft=Rt.duration;return function(zt,Gt,Bt){var Wt=["action"];return Wt.push("%c"+String(zt.type)),jt&&Wt.push("%c@ "+Gt),Ft&&Wt.push("%c(in "+Bt.toFixed(2)+" ms)"),Wt.join(" ")}}function xt(Rt,jt){var Ft=jt.logger,zt=jt.actionTransformer,Gt=jt.titleFormatter,Bt=Gt===void 0?bt(jt):Gt,Wt=jt.collapsed,Kt=jt.colors,Qt=jt.level,Xt=jt.diff,er=typeof jt.titleFormatter>"u";Rt.forEach(function(sr,ur){var nr=sr.started,yr=sr.startedTime,Ar=sr.action,Er=sr.prevState,lr=sr.error,dr=sr.took,pr=sr.nextState,ar=Rt[ur+1];ar&&(pr=ar.prevState,dr=ar.started-nr);var mr=zt(Ar),wr=typeof Wt=="function"?Wt(function(){return pr},Ar,sr):Wt,Sr=Vt(yr),Or=Kt.title?"color: "+Kt.title(mr)+";":"",Ur=["color: gray; font-weight: lighter;"];Ur.push(Or),jt.timestamp&&Ur.push("color: gray; font-weight: lighter;"),jt.duration&&Ur.push("color: gray; font-weight: lighter;");var zr=Bt(mr,Sr,dr);try{wr?Kt.title&&er?Ft.groupCollapsed.apply(Ft,["%c "+zr].concat(Ur)):Ft.groupCollapsed(zr):Kt.title&&er?Ft.group.apply(Ft,["%c "+zr].concat(Ur)):Ft.group(zr)}catch{Ft.log(zr)}var Vr=Et(Qt,mr,[Er],"prevState"),Mr=Et(Qt,mr,[mr],"action"),Br=Et(Qt,mr,[lr,Er],"error"),fn=Et(Qt,mr,[pr],"nextState");if(Vr)if(Kt.prevState){var In="color: "+Kt.prevState(Er)+"; font-weight: bold";Ft[Vr]("%c prev state",In,Er)}else Ft[Vr]("prev state",Er);if(Mr)if(Kt.action){var Nr="color: "+Kt.action(mr)+"; font-weight: bold";Ft[Mr]("%c action    ",Nr,mr)}else Ft[Mr]("action    ",mr);if(lr&&Br)if(Kt.error){var on="color: "+Kt.error(lr,Er)+"; font-weight: bold;";Ft[Br]("%c error     ",on,lr)}else Ft[Br]("error     ",lr);if(fn)if(Kt.nextState){var ln="color: "+Kt.nextState(pr)+"; font-weight: bold";Ft[fn]("%c next state",ln,pr)}else Ft[fn]("next state",pr);Xt&&gt(Er,pr,Ft,wr);try{Ft.groupEnd()}catch{Ft.log("—— log end ——")}})}function Tt(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jt=Object.assign({},$t,Rt),Ft=jt.logger,zt=jt.stateTransformer,Gt=jt.errorTransformer,Bt=jt.predicate,Wt=jt.logErrors,Kt=jt.diffPredicate;if(typeof Ft>"u")return function(){return function(Xt){return function(er){return Xt(er)}}};if(Rt.getState&&Rt.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(Xt){return function(er){return Xt(er)}}};var Qt=[];return function(Xt){var er=Xt.getState;return function(sr){return function(ur){if(typeof Bt=="function"&&!Bt(er,ur))return sr(ur);var nr={};Qt.push(nr),nr.started=Mt.now(),nr.startedTime=new Date,nr.prevState=zt(er()),nr.action=ur;var yr=void 0;if(Wt)try{yr=sr(ur)}catch(Er){nr.error=Gt(Er)}else yr=sr(ur);nr.took=Mt.now()-nr.started,nr.nextState=zt(er());var Ar=jt.diff&&typeof Kt=="function"?Kt(er,ur):jt.diff;if(xt(Qt,Object.assign({},jt,{diff:Ar})),Qt.length=0,nr.error)throw nr.error;return yr}}}}var wt,It,At=function(Rt,jt){return new Array(jt+1).join(Rt)},kt=function(Rt,jt){return At("0",jt-Rt.toString().length)+Rt},Vt=function(Rt){return kt(Rt.getHours(),2)+":"+kt(Rt.getMinutes(),2)+":"+kt(Rt.getSeconds(),2)+"."+kt(Rt.getMilliseconds(),3)},Mt=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,Ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Rt){return typeof Rt}:function(Rt){return Rt&&typeof Symbol=="function"&&Rt.constructor===Symbol&&Rt!==Symbol.prototype?"symbol":typeof Rt},Dt=function(Rt){if(Array.isArray(Rt)){for(var jt=0,Ft=Array(Rt.length);jt<Rt.length;jt++)Ft[jt]=Rt[jt];return Ft}return Array.from(Rt)},Ct=[];wt=(typeof commonjsGlobal$1>"u"?"undefined":Ot(commonjsGlobal$1))==="object"&&commonjsGlobal$1?commonjsGlobal$1:typeof window<"u"?window:{},It=wt.DeepDiff,It&&Ct.push(function(){typeof It<"u"&&wt.DeepDiff===at&&(wt.DeepDiff=It,It=void 0)}),a(tt,et),a(rt,et),a(nt,et),a(it,et),Object.defineProperties(at,{diff:{value:at,enumerable:!0},observableDiff:{value:lt,enumerable:!0},applyDiff:{value:ht,enumerable:!0},applyChange:{value:ft,enumerable:!0},revertChange:{value:yt,enumerable:!0},isConflict:{value:function(){return typeof It<"u"},enumerable:!0},noConflict:{value:function(){return Ct&&(Ct.forEach(function(Rt){Rt()}),Ct=null),at},enumerable:!0}});var St={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},$t={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(Rt){return Rt},actionTransformer:function(Rt){return Rt},errorTransformer:function(Rt){return Rt},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},Lt=function(){var Rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},jt=Rt.dispatch,Ft=Rt.getState;return typeof jt=="function"||typeof Ft=="function"?Tt()({dispatch:jt,getState:Ft}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};s.defaults=$t,s.createLogger=Tt,s.logger=Lt,s.default=Lt,Object.defineProperty(s,"__esModule",{value:!0})})})(reduxLogger,reduxLogger.exports);var reduxLoggerExports=reduxLogger.exports;const logger=getDefaultExportFromCjs(reduxLoggerExports),reducer=combineReducers({pages:pageSlice.reducer,users:userSlice.reducer,books:bookSlice.reducer,libraries:libSlice.reducer}),store=configureStore({reducer,middleware:o=>o({serializableCheck:!1}).concat(logger)});client$1.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(BrowserRouter,{children:jsxRuntimeExports.jsx(Provider_default,{store,children:jsxRuntimeExports.jsx(React$2.StrictMode,{children:jsxRuntimeExports.jsx(App$1,{})})})}));
