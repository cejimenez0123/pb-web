const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/status-tap-CYhcoNRv.js","assets/index8-Cp6oPzne.js","assets/input-shims-wT8hHNPw.js"])))=>i.map(i=>d[i]);
var c$=Object.defineProperty;var u$=(t,e,n)=>e in t?c$(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qt=(t,e,n)=>u$(t,typeof e!="symbol"?e+"":e,n);function d$(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function Uw(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fk={exports:{}},vm={},Bk={exports:{}},be={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _d=Symbol.for("react.element"),h$=Symbol.for("react.portal"),f$=Symbol.for("react.fragment"),p$=Symbol.for("react.strict_mode"),m$=Symbol.for("react.profiler"),g$=Symbol.for("react.provider"),y$=Symbol.for("react.context"),v$=Symbol.for("react.forward_ref"),_$=Symbol.for("react.suspense"),w$=Symbol.for("react.memo"),b$=Symbol.for("react.lazy"),VT=Symbol.iterator;function E$(t){return t===null||typeof t!="object"?null:(t=VT&&t[VT]||t["@@iterator"],typeof t=="function"?t:null)}var Uk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zk=Object.assign,jk={};function zl(t,e,n){this.props=t,this.context=e,this.refs=jk,this.updater=n||Uk}zl.prototype.isReactComponent={};zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qk(){}qk.prototype=zl.prototype;function zw(t,e,n){this.props=t,this.context=e,this.refs=jk,this.updater=n||Uk}var jw=zw.prototype=new qk;jw.constructor=zw;zk(jw,zl.prototype);jw.isPureReactComponent=!0;var MT=Array.isArray,Hk=Object.prototype.hasOwnProperty,qw={current:null},Wk={key:!0,ref:!0,__self:!0,__source:!0};function Gk(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)Hk.call(e,r)&&!Wk.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:_d,type:t,key:s,ref:o,props:i,_owner:qw.current}}function T$(t,e){return{$$typeof:_d,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hw(t){return typeof t=="object"&&t!==null&&t.$$typeof===_d}function I$(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var FT=/\/+/g;function Zg(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I$(""+t.key):e.toString(36)}function hf(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case _d:case h$:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Zg(o,0):r,MT(i)?(n="",t!=null&&(n=t.replace(FT,"$&/")+"/"),hf(i,e,n,"",function(c){return c})):i!=null&&(Hw(i)&&(i=T$(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(FT,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",MT(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Zg(s,a);o+=hf(s,e,n,l,i)}else if(l=E$(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Zg(s,a++),o+=hf(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Th(t,e,n){if(t==null)return t;var r=[],i=0;return hf(t,r,"","",function(s){return e.call(n,s,i++)}),r}function S$(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var fn={current:null},ff={transition:null},x$={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:ff,ReactCurrentOwner:qw};function Kk(){throw Error("act(...) is not supported in production builds of React.")}be.Children={map:Th,forEach:function(t,e,n){Th(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Th(t,function(){e++}),e},toArray:function(t){return Th(t,function(e){return e})||[]},only:function(t){if(!Hw(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};be.Component=zl;be.Fragment=f$;be.Profiler=m$;be.PureComponent=zw;be.StrictMode=p$;be.Suspense=_$;be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=x$;be.act=Kk;be.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=zk({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=qw.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Hk.call(e,l)&&!Wk.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:_d,type:t.type,key:i,ref:s,props:r,_owner:o}};be.createContext=function(t){return t={$$typeof:y$,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:g$,_context:t},t.Consumer=t};be.createElement=Gk;be.createFactory=function(t){var e=Gk.bind(null,t);return e.type=t,e};be.createRef=function(){return{current:null}};be.forwardRef=function(t){return{$$typeof:v$,render:t}};be.isValidElement=Hw;be.lazy=function(t){return{$$typeof:b$,_payload:{_status:-1,_result:t},_init:S$}};be.memo=function(t,e){return{$$typeof:w$,type:t,compare:e===void 0?null:e}};be.startTransition=function(t){var e=ff.transition;ff.transition={};try{t()}finally{ff.transition=e}};be.unstable_act=Kk;be.useCallback=function(t,e){return fn.current.useCallback(t,e)};be.useContext=function(t){return fn.current.useContext(t)};be.useDebugValue=function(){};be.useDeferredValue=function(t){return fn.current.useDeferredValue(t)};be.useEffect=function(t,e){return fn.current.useEffect(t,e)};be.useId=function(){return fn.current.useId()};be.useImperativeHandle=function(t,e,n){return fn.current.useImperativeHandle(t,e,n)};be.useInsertionEffect=function(t,e){return fn.current.useInsertionEffect(t,e)};be.useLayoutEffect=function(t,e){return fn.current.useLayoutEffect(t,e)};be.useMemo=function(t,e){return fn.current.useMemo(t,e)};be.useReducer=function(t,e,n){return fn.current.useReducer(t,e,n)};be.useRef=function(t){return fn.current.useRef(t)};be.useState=function(t){return fn.current.useState(t)};be.useSyncExternalStore=function(t,e,n){return fn.current.useSyncExternalStore(t,e,n)};be.useTransition=function(){return fn.current.useTransition()};be.version="18.3.1";Bk.exports=be;var Q=Bk.exports;const pe=Uw(Q),k$=d$({__proto__:null,default:pe},[Q]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A$=Q,C$=Symbol.for("react.element"),R$=Symbol.for("react.fragment"),P$=Object.prototype.hasOwnProperty,O$=A$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,D$={key:!0,ref:!0,__self:!0,__source:!0};function Qk(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)P$.call(e,r)&&!D$.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:C$,type:t,key:s,ref:o,props:i,_owner:O$.current}}vm.Fragment=R$;vm.jsx=Qk;vm.jsxs=Qk;Fk.exports=vm;var q=Fk.exports,wv={},Xk={exports:{}},zn={},Yk={exports:{}},Jk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(M,W){var G=M.length;M.push(W);e:for(;0<G;){var ae=G-1>>>1,ne=M[ae];if(0<i(ne,W))M[ae]=W,M[G]=ne,G=ae;else break e}}function n(M){return M.length===0?null:M[0]}function r(M){if(M.length===0)return null;var W=M[0],G=M.pop();if(G!==W){M[0]=G;e:for(var ae=0,ne=M.length,ue=ne>>>1;ae<ue;){var de=2*(ae+1)-1,Le=M[de],at=de+1,lt=M[at];if(0>i(Le,G))at<ne&&0>i(lt,Le)?(M[ae]=lt,M[at]=G,ae=at):(M[ae]=Le,M[de]=G,ae=de);else if(at<ne&&0>i(lt,G))M[ae]=lt,M[at]=G,ae=at;else break e}}return W}function i(M,W){var G=M.sortIndex-W.sortIndex;return G!==0?G:M.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,m=!1,y=!1,w=!1,b=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function I(M){for(var W=n(c);W!==null;){if(W.callback===null)r(c);else if(W.startTime<=M)r(c),W.sortIndex=W.expirationTime,e(l,W);else break;W=n(c)}}function R(M){if(w=!1,I(M),!y)if(n(l)!==null)y=!0,N(D);else{var W=n(c);W!==null&&j(R,W.startTime-M)}}function D(M,W){y=!1,w&&(w=!1,T(v),v=-1),m=!0;var G=f;try{for(I(W),h=n(l);h!==null&&(!(h.expirationTime>W)||M&&!P());){var ae=h.callback;if(typeof ae=="function"){h.callback=null,f=h.priorityLevel;var ne=ae(h.expirationTime<=W);W=t.unstable_now(),typeof ne=="function"?h.callback=ne:h===n(l)&&r(l),I(W)}else r(l);h=n(l)}if(h!==null)var ue=!0;else{var de=n(c);de!==null&&j(R,de.startTime-W),ue=!1}return ue}finally{h=null,f=G,m=!1}}var $=!1,x=null,v=-1,_=5,k=-1;function P(){return!(t.unstable_now()-k<_)}function O(){if(x!==null){var M=t.unstable_now();k=M;var W=!0;try{W=x(!0,M)}finally{W?A():($=!1,x=null)}}else $=!1}var A;if(typeof E=="function")A=function(){E(O)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,C=H.port2;H.port1.onmessage=O,A=function(){C.postMessage(null)}}else A=function(){b(O,0)};function N(M){x=M,$||($=!0,A())}function j(M,W){v=b(function(){M(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(M){M.callback=null},t.unstable_continueExecution=function(){y||m||(y=!0,N(D))},t.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<M?Math.floor(1e3/M):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(M){switch(f){case 1:case 2:case 3:var W=3;break;default:W=f}var G=f;f=W;try{return M()}finally{f=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(M,W){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var G=f;f=M;try{return W()}finally{f=G}},t.unstable_scheduleCallback=function(M,W,G){var ae=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,M){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=G+ne,M={id:d++,callback:W,priorityLevel:M,startTime:G,expirationTime:ne,sortIndex:-1},G>ae?(M.sortIndex=G,e(c,M),n(l)===null&&M===n(c)&&(w?(T(v),v=-1):w=!0,j(R,G-ae))):(M.sortIndex=ne,e(l,M),y||m||(y=!0,N(D))),M},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(M){var W=f;return function(){var G=f;f=W;try{return M.apply(this,arguments)}finally{f=G}}}})(Jk);Yk.exports=Jk;var N$=Yk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L$=Q,Fn=N$;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Zk=new Set,xu={};function Jo(t,e){cl(t,e),cl(t+"Capture",e)}function cl(t,e){for(xu[t]=e,t=0;t<e.length;t++)Zk.add(e[t])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bv=Object.prototype.hasOwnProperty,$$=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,BT={},UT={};function V$(t){return bv.call(UT,t)?!0:bv.call(BT,t)?!1:$$.test(t)?UT[t]=!0:(BT[t]=!0,!1)}function M$(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F$(t,e,n,r){if(e===null||typeof e>"u"||M$(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function pn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Bt[t]=new pn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Bt[e]=new pn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Bt[t]=new pn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Bt[t]=new pn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Bt[t]=new pn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Bt[t]=new pn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Bt[t]=new pn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Bt[t]=new pn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Bt[t]=new pn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Ww=/[\-:]([a-z])/g;function Gw(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Ww,Gw);Bt[e]=new pn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Ww,Gw);Bt[e]=new pn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Ww,Gw);Bt[e]=new pn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Bt[t]=new pn(t,1,!1,t.toLowerCase(),null,!1,!1)});Bt.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Bt[t]=new pn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Kw(t,e,n,r){var i=Bt.hasOwnProperty(e)?Bt[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(F$(e,n,i,r)&&(n=null),r||i===null?V$(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Ai=L$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ih=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Oa=Symbol.for("react.fragment"),Qw=Symbol.for("react.strict_mode"),Ev=Symbol.for("react.profiler"),eA=Symbol.for("react.provider"),tA=Symbol.for("react.context"),Xw=Symbol.for("react.forward_ref"),Tv=Symbol.for("react.suspense"),Iv=Symbol.for("react.suspense_list"),Yw=Symbol.for("react.memo"),Yi=Symbol.for("react.lazy"),nA=Symbol.for("react.offscreen"),zT=Symbol.iterator;function Cc(t){return t===null||typeof t!="object"?null:(t=zT&&t[zT]||t["@@iterator"],typeof t=="function"?t:null)}var Ze=Object.assign,ey;function Gc(t){if(ey===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ey=e&&e[1]||""}return`
`+ey+t}var ty=!1;function ny(t,e){if(!t||ty)return"";ty=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{ty=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Gc(t):""}function B$(t){switch(t.tag){case 5:return Gc(t.type);case 16:return Gc("Lazy");case 13:return Gc("Suspense");case 19:return Gc("SuspenseList");case 0:case 2:case 15:return t=ny(t.type,!1),t;case 11:return t=ny(t.type.render,!1),t;case 1:return t=ny(t.type,!0),t;default:return""}}function Sv(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Oa:return"Fragment";case Pa:return"Portal";case Ev:return"Profiler";case Qw:return"StrictMode";case Tv:return"Suspense";case Iv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case tA:return(t.displayName||"Context")+".Consumer";case eA:return(t._context.displayName||"Context")+".Provider";case Xw:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Yw:return e=t.displayName||null,e!==null?e:Sv(t.type)||"Memo";case Yi:e=t._payload,t=t._init;try{return Sv(t(e))}catch{}}return null}function U$(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Sv(e);case 8:return e===Qw?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function rA(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function z$(t){var e=rA(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Sh(t){t._valueTracker||(t._valueTracker=z$(t))}function iA(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=rA(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Jf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function xv(t,e){var n=e.checked;return Ze({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function jT(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ss(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function sA(t,e){e=e.checked,e!=null&&Kw(t,"checked",e,!1)}function kv(t,e){sA(t,e);var n=Ss(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Av(t,e.type,n):e.hasOwnProperty("defaultValue")&&Av(t,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qT(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Av(t,e,n){(e!=="number"||Jf(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Kc=Array.isArray;function Wa(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ss(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Cv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return Ze({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function HT(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Y(92));if(Kc(n)){if(1<n.length)throw Error(Y(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ss(n)}}function oA(t,e){var n=Ss(e.value),r=Ss(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function WT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function aA(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Rv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?aA(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xh,lA=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xh=xh||document.createElement("div"),xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ku(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var iu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},j$=["Webkit","ms","Moz","O"];Object.keys(iu).forEach(function(t){j$.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),iu[e]=iu[t]})});function cA(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||iu.hasOwnProperty(t)&&iu[t]?(""+e).trim():e+"px"}function uA(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=cA(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var q$=Ze({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Pv(t,e){if(e){if(q$[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function Ov(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dv=null;function Jw(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Nv=null,Ga=null,Ka=null;function GT(t){if(t=Ed(t)){if(typeof Nv!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Tm(e),Nv(t.stateNode,t.type,e))}}function dA(t){Ga?Ka?Ka.push(t):Ka=[t]:Ga=t}function hA(){if(Ga){var t=Ga,e=Ka;if(Ka=Ga=null,GT(t),e)for(t=0;t<e.length;t++)GT(e[t])}}function fA(t,e){return t(e)}function pA(){}var ry=!1;function mA(t,e,n){if(ry)return t(e,n);ry=!0;try{return fA(t,e,n)}finally{ry=!1,(Ga!==null||Ka!==null)&&(pA(),hA())}}function Au(t,e){var n=t.stateNode;if(n===null)return null;var r=Tm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Y(231,e,typeof n));return n}var Lv=!1;if(pi)try{var Rc={};Object.defineProperty(Rc,"passive",{get:function(){Lv=!0}}),window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,Rc)}catch{Lv=!1}function H$(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var su=!1,Zf=null,ep=!1,$v=null,W$={onError:function(t){su=!0,Zf=t}};function G$(t,e,n,r,i,s,o,a,l){su=!1,Zf=null,H$.apply(W$,arguments)}function K$(t,e,n,r,i,s,o,a,l){if(G$.apply(this,arguments),su){if(su){var c=Zf;su=!1,Zf=null}else throw Error(Y(198));ep||(ep=!0,$v=c)}}function Zo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function gA(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function KT(t){if(Zo(t)!==t)throw Error(Y(188))}function Q$(t){var e=t.alternate;if(!e){if(e=Zo(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return KT(i),t;if(s===r)return KT(i),e;s=s.sibling}throw Error(Y(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(Y(189))}}if(n.alternate!==r)throw Error(Y(190))}if(n.tag!==3)throw Error(Y(188));return n.stateNode.current===n?t:e}function yA(t){return t=Q$(t),t!==null?vA(t):null}function vA(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vA(t);if(e!==null)return e;t=t.sibling}return null}var _A=Fn.unstable_scheduleCallback,QT=Fn.unstable_cancelCallback,X$=Fn.unstable_shouldYield,Y$=Fn.unstable_requestPaint,ct=Fn.unstable_now,J$=Fn.unstable_getCurrentPriorityLevel,Zw=Fn.unstable_ImmediatePriority,wA=Fn.unstable_UserBlockingPriority,tp=Fn.unstable_NormalPriority,Z$=Fn.unstable_LowPriority,bA=Fn.unstable_IdlePriority,_m=null,Lr=null;function eV(t){if(Lr&&typeof Lr.onCommitFiberRoot=="function")try{Lr.onCommitFiberRoot(_m,t,void 0,(t.current.flags&128)===128)}catch{}}var mr=Math.clz32?Math.clz32:rV,tV=Math.log,nV=Math.LN2;function rV(t){return t>>>=0,t===0?32:31-(tV(t)/nV|0)|0}var kh=64,Ah=4194304;function Qc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function np(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Qc(a):(s&=o,s!==0&&(r=Qc(s)))}else o=n&~i,o!==0?r=Qc(o):s!==0&&(r=Qc(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-mr(e),i=1<<n,r|=t[n],e&=~i;return r}function iV(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sV(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-mr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=iV(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Vv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EA(){var t=kh;return kh<<=1,!(kh&4194240)&&(kh=64),t}function iy(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function wd(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-mr(e),t[e]=n}function oV(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-mr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function eb(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-mr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Oe=0;function TA(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var IA,tb,SA,xA,kA,Mv=!1,Ch=[],ds=null,hs=null,fs=null,Cu=new Map,Ru=new Map,Zi=[],aV="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function XT(t,e){switch(t){case"focusin":case"focusout":ds=null;break;case"dragenter":case"dragleave":hs=null;break;case"mouseover":case"mouseout":fs=null;break;case"pointerover":case"pointerout":Cu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ru.delete(e.pointerId)}}function Pc(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ed(e),e!==null&&tb(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function lV(t,e,n,r,i){switch(e){case"focusin":return ds=Pc(ds,t,e,n,r,i),!0;case"dragenter":return hs=Pc(hs,t,e,n,r,i),!0;case"mouseover":return fs=Pc(fs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Cu.set(s,Pc(Cu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ru.set(s,Pc(Ru.get(s)||null,t,e,n,r,i)),!0}return!1}function AA(t){var e=po(t.target);if(e!==null){var n=Zo(e);if(n!==null){if(e=n.tag,e===13){if(e=gA(n),e!==null){t.blockedOn=e,kA(t.priority,function(){SA(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function pf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Fv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Dv=r,n.target.dispatchEvent(r),Dv=null}else return e=Ed(n),e!==null&&tb(e),t.blockedOn=n,!1;e.shift()}return!0}function YT(t,e,n){pf(t)&&n.delete(e)}function cV(){Mv=!1,ds!==null&&pf(ds)&&(ds=null),hs!==null&&pf(hs)&&(hs=null),fs!==null&&pf(fs)&&(fs=null),Cu.forEach(YT),Ru.forEach(YT)}function Oc(t,e){t.blockedOn===e&&(t.blockedOn=null,Mv||(Mv=!0,Fn.unstable_scheduleCallback(Fn.unstable_NormalPriority,cV)))}function Pu(t){function e(i){return Oc(i,t)}if(0<Ch.length){Oc(Ch[0],t);for(var n=1;n<Ch.length;n++){var r=Ch[n];r.blockedOn===t&&(r.blockedOn=null)}}for(ds!==null&&Oc(ds,t),hs!==null&&Oc(hs,t),fs!==null&&Oc(fs,t),Cu.forEach(e),Ru.forEach(e),n=0;n<Zi.length;n++)r=Zi[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zi.length&&(n=Zi[0],n.blockedOn===null);)AA(n),n.blockedOn===null&&Zi.shift()}var Qa=Ai.ReactCurrentBatchConfig,rp=!0;function uV(t,e,n,r){var i=Oe,s=Qa.transition;Qa.transition=null;try{Oe=1,nb(t,e,n,r)}finally{Oe=i,Qa.transition=s}}function dV(t,e,n,r){var i=Oe,s=Qa.transition;Qa.transition=null;try{Oe=4,nb(t,e,n,r)}finally{Oe=i,Qa.transition=s}}function nb(t,e,n,r){if(rp){var i=Fv(t,e,n,r);if(i===null)py(t,e,r,ip,n),XT(t,r);else if(lV(i,t,e,n,r))r.stopPropagation();else if(XT(t,r),e&4&&-1<aV.indexOf(t)){for(;i!==null;){var s=Ed(i);if(s!==null&&IA(s),s=Fv(t,e,n,r),s===null&&py(t,e,r,ip,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else py(t,e,r,null,n)}}var ip=null;function Fv(t,e,n,r){if(ip=null,t=Jw(r),t=po(t),t!==null)if(e=Zo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=gA(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ip=t,null}function CA(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(J$()){case Zw:return 1;case wA:return 4;case tp:case Z$:return 16;case bA:return 536870912;default:return 16}default:return 16}}var os=null,rb=null,mf=null;function RA(){if(mf)return mf;var t,e=rb,n=e.length,r,i="value"in os?os.value:os.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return mf=i.slice(t,1<r?1-r:void 0)}function gf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Rh(){return!0}function JT(){return!1}function jn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Rh:JT,this.isPropagationStopped=JT,this}return Ze(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Rh)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Rh)},persist:function(){},isPersistent:Rh}),e}var jl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ib=jn(jl),bd=Ze({},jl,{view:0,detail:0}),hV=jn(bd),sy,oy,Dc,wm=Ze({},bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sb,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dc&&(Dc&&t.type==="mousemove"?(sy=t.screenX-Dc.screenX,oy=t.screenY-Dc.screenY):oy=sy=0,Dc=t),sy)},movementY:function(t){return"movementY"in t?t.movementY:oy}}),ZT=jn(wm),fV=Ze({},wm,{dataTransfer:0}),pV=jn(fV),mV=Ze({},bd,{relatedTarget:0}),ay=jn(mV),gV=Ze({},jl,{animationName:0,elapsedTime:0,pseudoElement:0}),yV=jn(gV),vV=Ze({},jl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),_V=jn(vV),wV=Ze({},jl,{data:0}),eI=jn(wV),bV={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},EV={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TV={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function IV(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TV[t])?!!e[t]:!1}function sb(){return IV}var SV=Ze({},bd,{key:function(t){if(t.key){var e=bV[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=gf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?EV[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sb,charCode:function(t){return t.type==="keypress"?gf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?gf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),xV=jn(SV),kV=Ze({},wm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tI=jn(kV),AV=Ze({},bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sb}),CV=jn(AV),RV=Ze({},jl,{propertyName:0,elapsedTime:0,pseudoElement:0}),PV=jn(RV),OV=Ze({},wm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),DV=jn(OV),NV=[9,13,27,32],ob=pi&&"CompositionEvent"in window,ou=null;pi&&"documentMode"in document&&(ou=document.documentMode);var LV=pi&&"TextEvent"in window&&!ou,PA=pi&&(!ob||ou&&8<ou&&11>=ou),nI=" ",rI=!1;function OA(t,e){switch(t){case"keyup":return NV.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DA(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Da=!1;function $V(t,e){switch(t){case"compositionend":return DA(e);case"keypress":return e.which!==32?null:(rI=!0,nI);case"textInput":return t=e.data,t===nI&&rI?null:t;default:return null}}function VV(t,e){if(Da)return t==="compositionend"||!ob&&OA(t,e)?(t=RA(),mf=rb=os=null,Da=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PA&&e.locale!=="ko"?null:e.data;default:return null}}var MV={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function iI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!MV[t.type]:e==="textarea"}function NA(t,e,n,r){dA(r),e=sp(e,"onChange"),0<e.length&&(n=new ib("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var au=null,Ou=null;function FV(t){HA(t,0)}function bm(t){var e=$a(t);if(iA(e))return t}function BV(t,e){if(t==="change")return e}var LA=!1;if(pi){var ly;if(pi){var cy="oninput"in document;if(!cy){var sI=document.createElement("div");sI.setAttribute("oninput","return;"),cy=typeof sI.oninput=="function"}ly=cy}else ly=!1;LA=ly&&(!document.documentMode||9<document.documentMode)}function oI(){au&&(au.detachEvent("onpropertychange",$A),Ou=au=null)}function $A(t){if(t.propertyName==="value"&&bm(Ou)){var e=[];NA(e,Ou,t,Jw(t)),mA(FV,e)}}function UV(t,e,n){t==="focusin"?(oI(),au=e,Ou=n,au.attachEvent("onpropertychange",$A)):t==="focusout"&&oI()}function zV(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return bm(Ou)}function jV(t,e){if(t==="click")return bm(e)}function qV(t,e){if(t==="input"||t==="change")return bm(e)}function HV(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _r=typeof Object.is=="function"?Object.is:HV;function Du(t,e){if(_r(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!bv.call(e,i)||!_r(t[i],e[i]))return!1}return!0}function aI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function lI(t,e){var n=aI(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aI(n)}}function VA(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?VA(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function MA(){for(var t=window,e=Jf();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Jf(t.document)}return e}function ab(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WV(t){var e=MA(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&VA(n.ownerDocument.documentElement,n)){if(r!==null&&ab(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=lI(n,s);var o=lI(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var GV=pi&&"documentMode"in document&&11>=document.documentMode,Na=null,Bv=null,lu=null,Uv=!1;function cI(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uv||Na==null||Na!==Jf(r)||(r=Na,"selectionStart"in r&&ab(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Du(lu,r)||(lu=r,r=sp(Bv,"onSelect"),0<r.length&&(e=new ib("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Na)))}function Ph(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var La={animationend:Ph("Animation","AnimationEnd"),animationiteration:Ph("Animation","AnimationIteration"),animationstart:Ph("Animation","AnimationStart"),transitionend:Ph("Transition","TransitionEnd")},uy={},FA={};pi&&(FA=document.createElement("div").style,"AnimationEvent"in window||(delete La.animationend.animation,delete La.animationiteration.animation,delete La.animationstart.animation),"TransitionEvent"in window||delete La.transitionend.transition);function Em(t){if(uy[t])return uy[t];if(!La[t])return t;var e=La[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in FA)return uy[t]=e[n];return t}var BA=Em("animationend"),UA=Em("animationiteration"),zA=Em("animationstart"),jA=Em("transitionend"),qA=new Map,uI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fs(t,e){qA.set(t,e),Jo(e,[t])}for(var dy=0;dy<uI.length;dy++){var hy=uI[dy],KV=hy.toLowerCase(),QV=hy[0].toUpperCase()+hy.slice(1);Fs(KV,"on"+QV)}Fs(BA,"onAnimationEnd");Fs(UA,"onAnimationIteration");Fs(zA,"onAnimationStart");Fs("dblclick","onDoubleClick");Fs("focusin","onFocus");Fs("focusout","onBlur");Fs(jA,"onTransitionEnd");cl("onMouseEnter",["mouseout","mouseover"]);cl("onMouseLeave",["mouseout","mouseover"]);cl("onPointerEnter",["pointerout","pointerover"]);cl("onPointerLeave",["pointerout","pointerover"]);Jo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Jo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Jo("onBeforeInput",["compositionend","keypress","textInput","paste"]);Jo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Jo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XV=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xc));function dI(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,K$(r,e,void 0,t),t.currentTarget=null}function HA(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;dI(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;dI(i,a,c),s=l}}}if(ep)throw t=$v,ep=!1,$v=null,t}function Be(t,e){var n=e[Wv];n===void 0&&(n=e[Wv]=new Set);var r=t+"__bubble";n.has(r)||(WA(e,t,2,!1),n.add(r))}function fy(t,e,n){var r=0;e&&(r|=4),WA(n,t,r,e)}var Oh="_reactListening"+Math.random().toString(36).slice(2);function Nu(t){if(!t[Oh]){t[Oh]=!0,Zk.forEach(function(n){n!=="selectionchange"&&(XV.has(n)||fy(n,!1,t),fy(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Oh]||(e[Oh]=!0,fy("selectionchange",!1,e))}}function WA(t,e,n,r){switch(CA(e)){case 1:var i=uV;break;case 4:i=dV;break;default:i=nb}n=i.bind(null,e,n,t),i=void 0,!Lv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function py(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=po(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}mA(function(){var c=s,d=Jw(n),h=[];e:{var f=qA.get(t);if(f!==void 0){var m=ib,y=t;switch(t){case"keypress":if(gf(n)===0)break e;case"keydown":case"keyup":m=xV;break;case"focusin":y="focus",m=ay;break;case"focusout":y="blur",m=ay;break;case"beforeblur":case"afterblur":m=ay;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=ZT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=pV;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=CV;break;case BA:case UA:case zA:m=yV;break;case jA:m=PV;break;case"scroll":m=hV;break;case"wheel":m=DV;break;case"copy":case"cut":case"paste":m=_V;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=tI}var w=(e&4)!==0,b=!w&&t==="scroll",T=w?f!==null?f+"Capture":null:f;w=[];for(var E=c,I;E!==null;){I=E;var R=I.stateNode;if(I.tag===5&&R!==null&&(I=R,T!==null&&(R=Au(E,T),R!=null&&w.push(Lu(E,R,I)))),b)break;E=E.return}0<w.length&&(f=new m(f,y,null,n,d),h.push({event:f,listeners:w}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",f&&n!==Dv&&(y=n.relatedTarget||n.fromElement)&&(po(y)||y[mi]))break e;if((m||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,m?(y=n.relatedTarget||n.toElement,m=c,y=y?po(y):null,y!==null&&(b=Zo(y),y!==b||y.tag!==5&&y.tag!==6)&&(y=null)):(m=null,y=c),m!==y)){if(w=ZT,R="onMouseLeave",T="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(w=tI,R="onPointerLeave",T="onPointerEnter",E="pointer"),b=m==null?f:$a(m),I=y==null?f:$a(y),f=new w(R,E+"leave",m,n,d),f.target=b,f.relatedTarget=I,R=null,po(d)===c&&(w=new w(T,E+"enter",y,n,d),w.target=I,w.relatedTarget=b,R=w),b=R,m&&y)t:{for(w=m,T=y,E=0,I=w;I;I=ma(I))E++;for(I=0,R=T;R;R=ma(R))I++;for(;0<E-I;)w=ma(w),E--;for(;0<I-E;)T=ma(T),I--;for(;E--;){if(w===T||T!==null&&w===T.alternate)break t;w=ma(w),T=ma(T)}w=null}else w=null;m!==null&&hI(h,f,m,w,!1),y!==null&&b!==null&&hI(h,b,y,w,!0)}}e:{if(f=c?$a(c):window,m=f.nodeName&&f.nodeName.toLowerCase(),m==="select"||m==="input"&&f.type==="file")var D=BV;else if(iI(f))if(LA)D=qV;else{D=zV;var $=UV}else(m=f.nodeName)&&m.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(D=jV);if(D&&(D=D(t,c))){NA(h,D,n,d);break e}$&&$(t,f,c),t==="focusout"&&($=f._wrapperState)&&$.controlled&&f.type==="number"&&Av(f,"number",f.value)}switch($=c?$a(c):window,t){case"focusin":(iI($)||$.contentEditable==="true")&&(Na=$,Bv=c,lu=null);break;case"focusout":lu=Bv=Na=null;break;case"mousedown":Uv=!0;break;case"contextmenu":case"mouseup":case"dragend":Uv=!1,cI(h,n,d);break;case"selectionchange":if(GV)break;case"keydown":case"keyup":cI(h,n,d)}var x;if(ob)e:{switch(t){case"compositionstart":var v="onCompositionStart";break e;case"compositionend":v="onCompositionEnd";break e;case"compositionupdate":v="onCompositionUpdate";break e}v=void 0}else Da?OA(t,n)&&(v="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(v="onCompositionStart");v&&(PA&&n.locale!=="ko"&&(Da||v!=="onCompositionStart"?v==="onCompositionEnd"&&Da&&(x=RA()):(os=d,rb="value"in os?os.value:os.textContent,Da=!0)),$=sp(c,v),0<$.length&&(v=new eI(v,t,null,n,d),h.push({event:v,listeners:$}),x?v.data=x:(x=DA(n),x!==null&&(v.data=x)))),(x=LV?$V(t,n):VV(t,n))&&(c=sp(c,"onBeforeInput"),0<c.length&&(d=new eI("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=x))}HA(h,e)})}function Lu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function sp(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Au(t,n),s!=null&&r.unshift(Lu(t,s,i)),s=Au(t,e),s!=null&&r.push(Lu(t,s,i))),t=t.return}return r}function ma(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function hI(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Au(n,s),l!=null&&o.unshift(Lu(n,l,a))):i||(l=Au(n,s),l!=null&&o.push(Lu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var YV=/\r\n?/g,JV=/\u0000|\uFFFD/g;function fI(t){return(typeof t=="string"?t:""+t).replace(YV,`
`).replace(JV,"")}function Dh(t,e,n){if(e=fI(e),fI(t)!==e&&n)throw Error(Y(425))}function op(){}var zv=null,jv=null;function qv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Hv=typeof setTimeout=="function"?setTimeout:void 0,ZV=typeof clearTimeout=="function"?clearTimeout:void 0,pI=typeof Promise=="function"?Promise:void 0,eM=typeof queueMicrotask=="function"?queueMicrotask:typeof pI<"u"?function(t){return pI.resolve(null).then(t).catch(tM)}:Hv;function tM(t){setTimeout(function(){throw t})}function my(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Pu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Pu(e)}function ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function mI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var ql=Math.random().toString(36).slice(2),Pr="__reactFiber$"+ql,$u="__reactProps$"+ql,mi="__reactContainer$"+ql,Wv="__reactEvents$"+ql,nM="__reactListeners$"+ql,rM="__reactHandles$"+ql;function po(t){var e=t[Pr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[mi]||n[Pr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=mI(t);t!==null;){if(n=t[Pr])return n;t=mI(t)}return e}t=n,n=t.parentNode}return null}function Ed(t){return t=t[Pr]||t[mi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $a(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Tm(t){return t[$u]||null}var Gv=[],Va=-1;function Bs(t){return{current:t}}function ze(t){0>Va||(t.current=Gv[Va],Gv[Va]=null,Va--)}function $e(t,e){Va++,Gv[Va]=t.current,t.current=e}var xs={},Zt=Bs(xs),In=Bs(!1),Ro=xs;function ul(t,e){var n=t.type.contextTypes;if(!n)return xs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Sn(t){return t=t.childContextTypes,t!=null}function ap(){ze(In),ze(Zt)}function gI(t,e,n){if(Zt.current!==xs)throw Error(Y(168));$e(Zt,e),$e(In,n)}function GA(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Y(108,U$(t)||"Unknown",i));return Ze({},n,r)}function lp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xs,Ro=Zt.current,$e(Zt,t),$e(In,In.current),!0}function yI(t,e,n){var r=t.stateNode;if(!r)throw Error(Y(169));n?(t=GA(t,e,Ro),r.__reactInternalMemoizedMergedChildContext=t,ze(In),ze(Zt),$e(Zt,t)):ze(In),$e(In,n)}var ti=null,Im=!1,gy=!1;function KA(t){ti===null?ti=[t]:ti.push(t)}function iM(t){Im=!0,KA(t)}function Us(){if(!gy&&ti!==null){gy=!0;var t=0,e=Oe;try{var n=ti;for(Oe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,Im=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),_A(Zw,Us),i}finally{Oe=e,gy=!1}}return null}var Ma=[],Fa=0,cp=null,up=0,qn=[],Hn=0,Po=null,ai=1,li="";function ro(t,e){Ma[Fa++]=up,Ma[Fa++]=cp,cp=t,up=e}function QA(t,e,n){qn[Hn++]=ai,qn[Hn++]=li,qn[Hn++]=Po,Po=t;var r=ai;t=li;var i=32-mr(r)-1;r&=~(1<<i),n+=1;var s=32-mr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ai=1<<32-mr(e)+i|n<<i|r,li=s+t}else ai=1<<s|n<<i|r,li=t}function lb(t){t.return!==null&&(ro(t,1),QA(t,1,0))}function cb(t){for(;t===cp;)cp=Ma[--Fa],Ma[Fa]=null,up=Ma[--Fa],Ma[Fa]=null;for(;t===Po;)Po=qn[--Hn],qn[Hn]=null,li=qn[--Hn],qn[Hn]=null,ai=qn[--Hn],qn[Hn]=null}var Mn=null,$n=null,We=!1,cr=null;function XA(t,e){var n=Qn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vI(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Mn=t,$n=ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Mn=t,$n=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Po!==null?{id:ai,overflow:li}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Qn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Mn=t,$n=null,!0):!1;default:return!1}}function Kv(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Qv(t){if(We){var e=$n;if(e){var n=e;if(!vI(t,e)){if(Kv(t))throw Error(Y(418));e=ps(n.nextSibling);var r=Mn;e&&vI(t,e)?XA(r,n):(t.flags=t.flags&-4097|2,We=!1,Mn=t)}}else{if(Kv(t))throw Error(Y(418));t.flags=t.flags&-4097|2,We=!1,Mn=t}}}function _I(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Mn=t}function Nh(t){if(t!==Mn)return!1;if(!We)return _I(t),We=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qv(t.type,t.memoizedProps)),e&&(e=$n)){if(Kv(t))throw YA(),Error(Y(418));for(;e;)XA(t,e),e=ps(e.nextSibling)}if(_I(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){$n=ps(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}$n=null}}else $n=Mn?ps(t.stateNode.nextSibling):null;return!0}function YA(){for(var t=$n;t;)t=ps(t.nextSibling)}function dl(){$n=Mn=null,We=!1}function ub(t){cr===null?cr=[t]:cr.push(t)}var sM=Ai.ReactCurrentBatchConfig;function Nc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Y(309));var r=n.stateNode}if(!r)throw Error(Y(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!n._owner)throw Error(Y(290,t))}return t}function Lh(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function wI(t){var e=t._init;return e(t._payload)}function JA(t){function e(T,E){if(t){var I=T.deletions;I===null?(T.deletions=[E],T.flags|=16):I.push(E)}}function n(T,E){if(!t)return null;for(;E!==null;)e(T,E),E=E.sibling;return null}function r(T,E){for(T=new Map;E!==null;)E.key!==null?T.set(E.key,E):T.set(E.index,E),E=E.sibling;return T}function i(T,E){return T=vs(T,E),T.index=0,T.sibling=null,T}function s(T,E,I){return T.index=I,t?(I=T.alternate,I!==null?(I=I.index,I<E?(T.flags|=2,E):I):(T.flags|=2,E)):(T.flags|=1048576,E)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,E,I,R){return E===null||E.tag!==6?(E=Ty(I,T.mode,R),E.return=T,E):(E=i(E,I),E.return=T,E)}function l(T,E,I,R){var D=I.type;return D===Oa?d(T,E,I.props.children,R,I.key):E!==null&&(E.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yi&&wI(D)===E.type)?(R=i(E,I.props),R.ref=Nc(T,E,I),R.return=T,R):(R=Tf(I.type,I.key,I.props,null,T.mode,R),R.ref=Nc(T,E,I),R.return=T,R)}function c(T,E,I,R){return E===null||E.tag!==4||E.stateNode.containerInfo!==I.containerInfo||E.stateNode.implementation!==I.implementation?(E=Iy(I,T.mode,R),E.return=T,E):(E=i(E,I.children||[]),E.return=T,E)}function d(T,E,I,R,D){return E===null||E.tag!==7?(E=To(I,T.mode,R,D),E.return=T,E):(E=i(E,I),E.return=T,E)}function h(T,E,I){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Ty(""+E,T.mode,I),E.return=T,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Ih:return I=Tf(E.type,E.key,E.props,null,T.mode,I),I.ref=Nc(T,null,E),I.return=T,I;case Pa:return E=Iy(E,T.mode,I),E.return=T,E;case Yi:var R=E._init;return h(T,R(E._payload),I)}if(Kc(E)||Cc(E))return E=To(E,T.mode,I,null),E.return=T,E;Lh(T,E)}return null}function f(T,E,I,R){var D=E!==null?E.key:null;if(typeof I=="string"&&I!==""||typeof I=="number")return D!==null?null:a(T,E,""+I,R);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Ih:return I.key===D?l(T,E,I,R):null;case Pa:return I.key===D?c(T,E,I,R):null;case Yi:return D=I._init,f(T,E,D(I._payload),R)}if(Kc(I)||Cc(I))return D!==null?null:d(T,E,I,R,null);Lh(T,I)}return null}function m(T,E,I,R,D){if(typeof R=="string"&&R!==""||typeof R=="number")return T=T.get(I)||null,a(E,T,""+R,D);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case Ih:return T=T.get(R.key===null?I:R.key)||null,l(E,T,R,D);case Pa:return T=T.get(R.key===null?I:R.key)||null,c(E,T,R,D);case Yi:var $=R._init;return m(T,E,I,$(R._payload),D)}if(Kc(R)||Cc(R))return T=T.get(I)||null,d(E,T,R,D,null);Lh(E,R)}return null}function y(T,E,I,R){for(var D=null,$=null,x=E,v=E=0,_=null;x!==null&&v<I.length;v++){x.index>v?(_=x,x=null):_=x.sibling;var k=f(T,x,I[v],R);if(k===null){x===null&&(x=_);break}t&&x&&k.alternate===null&&e(T,x),E=s(k,E,v),$===null?D=k:$.sibling=k,$=k,x=_}if(v===I.length)return n(T,x),We&&ro(T,v),D;if(x===null){for(;v<I.length;v++)x=h(T,I[v],R),x!==null&&(E=s(x,E,v),$===null?D=x:$.sibling=x,$=x);return We&&ro(T,v),D}for(x=r(T,x);v<I.length;v++)_=m(x,T,v,I[v],R),_!==null&&(t&&_.alternate!==null&&x.delete(_.key===null?v:_.key),E=s(_,E,v),$===null?D=_:$.sibling=_,$=_);return t&&x.forEach(function(P){return e(T,P)}),We&&ro(T,v),D}function w(T,E,I,R){var D=Cc(I);if(typeof D!="function")throw Error(Y(150));if(I=D.call(I),I==null)throw Error(Y(151));for(var $=D=null,x=E,v=E=0,_=null,k=I.next();x!==null&&!k.done;v++,k=I.next()){x.index>v?(_=x,x=null):_=x.sibling;var P=f(T,x,k.value,R);if(P===null){x===null&&(x=_);break}t&&x&&P.alternate===null&&e(T,x),E=s(P,E,v),$===null?D=P:$.sibling=P,$=P,x=_}if(k.done)return n(T,x),We&&ro(T,v),D;if(x===null){for(;!k.done;v++,k=I.next())k=h(T,k.value,R),k!==null&&(E=s(k,E,v),$===null?D=k:$.sibling=k,$=k);return We&&ro(T,v),D}for(x=r(T,x);!k.done;v++,k=I.next())k=m(x,T,v,k.value,R),k!==null&&(t&&k.alternate!==null&&x.delete(k.key===null?v:k.key),E=s(k,E,v),$===null?D=k:$.sibling=k,$=k);return t&&x.forEach(function(O){return e(T,O)}),We&&ro(T,v),D}function b(T,E,I,R){if(typeof I=="object"&&I!==null&&I.type===Oa&&I.key===null&&(I=I.props.children),typeof I=="object"&&I!==null){switch(I.$$typeof){case Ih:e:{for(var D=I.key,$=E;$!==null;){if($.key===D){if(D=I.type,D===Oa){if($.tag===7){n(T,$.sibling),E=i($,I.props.children),E.return=T,T=E;break e}}else if($.elementType===D||typeof D=="object"&&D!==null&&D.$$typeof===Yi&&wI(D)===$.type){n(T,$.sibling),E=i($,I.props),E.ref=Nc(T,$,I),E.return=T,T=E;break e}n(T,$);break}else e(T,$);$=$.sibling}I.type===Oa?(E=To(I.props.children,T.mode,R,I.key),E.return=T,T=E):(R=Tf(I.type,I.key,I.props,null,T.mode,R),R.ref=Nc(T,E,I),R.return=T,T=R)}return o(T);case Pa:e:{for($=I.key;E!==null;){if(E.key===$)if(E.tag===4&&E.stateNode.containerInfo===I.containerInfo&&E.stateNode.implementation===I.implementation){n(T,E.sibling),E=i(E,I.children||[]),E.return=T,T=E;break e}else{n(T,E);break}else e(T,E);E=E.sibling}E=Iy(I,T.mode,R),E.return=T,T=E}return o(T);case Yi:return $=I._init,b(T,E,$(I._payload),R)}if(Kc(I))return y(T,E,I,R);if(Cc(I))return w(T,E,I,R);Lh(T,I)}return typeof I=="string"&&I!==""||typeof I=="number"?(I=""+I,E!==null&&E.tag===6?(n(T,E.sibling),E=i(E,I),E.return=T,T=E):(n(T,E),E=Ty(I,T.mode,R),E.return=T,T=E),o(T)):n(T,E)}return b}var hl=JA(!0),ZA=JA(!1),dp=Bs(null),hp=null,Ba=null,db=null;function hb(){db=Ba=hp=null}function fb(t){var e=dp.current;ze(dp),t._currentValue=e}function Xv(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Xa(t,e){hp=t,db=Ba=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(wn=!0),t.firstContext=null)}function er(t){var e=t._currentValue;if(db!==t)if(t={context:t,memoizedValue:e,next:null},Ba===null){if(hp===null)throw Error(Y(308));Ba=t,hp.dependencies={lanes:0,firstContext:t}}else Ba=Ba.next=t;return e}var mo=null;function pb(t){mo===null?mo=[t]:mo.push(t)}function eC(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,pb(e)):(n.next=i.next,i.next=n),e.interleaved=n,gi(t,r)}function gi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ji=!1;function mb(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function tC(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ms(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,gi(t,n)}return i=r.interleaved,i===null?(e.next=e,pb(r)):(e.next=i.next,i.next=e),r.interleaved=e,gi(t,n)}function yf(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eb(t,n)}}function bI(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function fp(t,e,n,r){var i=t.updateQueue;Ji=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,d=c=l=null,a=s;do{var f=a.lane,m=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,w=a;switch(f=e,m=n,w.tag){case 1:if(y=w.payload,typeof y=="function"){h=y.call(m,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=w.payload,f=typeof y=="function"?y.call(m,h,f):y,f==null)break e;h=Ze({},h,f);break e;case 2:Ji=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else m={eventTime:m,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Do|=o,t.lanes=o,t.memoizedState=h}}function EI(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Y(191,i));i.call(r)}}}var Td={},$r=Bs(Td),Vu=Bs(Td),Mu=Bs(Td);function go(t){if(t===Td)throw Error(Y(174));return t}function gb(t,e){switch($e(Mu,e),$e(Vu,t),$e($r,Td),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Rv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Rv(e,t)}ze($r),$e($r,e)}function fl(){ze($r),ze(Vu),ze(Mu)}function nC(t){go(Mu.current);var e=go($r.current),n=Rv(e,t.type);e!==n&&($e(Vu,t),$e($r,n))}function yb(t){Vu.current===t&&(ze($r),ze(Vu))}var Ye=Bs(0);function pp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var yy=[];function vb(){for(var t=0;t<yy.length;t++)yy[t]._workInProgressVersionPrimary=null;yy.length=0}var vf=Ai.ReactCurrentDispatcher,vy=Ai.ReactCurrentBatchConfig,Oo=0,Je=null,_t=null,At=null,mp=!1,cu=!1,Fu=0,oM=0;function Ht(){throw Error(Y(321))}function _b(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_r(t[n],e[n]))return!1;return!0}function wb(t,e,n,r,i,s){if(Oo=s,Je=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,vf.current=t===null||t.memoizedState===null?uM:dM,t=n(r,i),cu){s=0;do{if(cu=!1,Fu=0,25<=s)throw Error(Y(301));s+=1,At=_t=null,e.updateQueue=null,vf.current=hM,t=n(r,i)}while(cu)}if(vf.current=gp,e=_t!==null&&_t.next!==null,Oo=0,At=_t=Je=null,mp=!1,e)throw Error(Y(300));return t}function bb(){var t=Fu!==0;return Fu=0,t}function Ar(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?Je.memoizedState=At=t:At=At.next=t,At}function tr(){if(_t===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=_t.next;var e=At===null?Je.memoizedState:At.next;if(e!==null)At=e,_t=t;else{if(t===null)throw Error(Y(310));_t=t,t={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},At===null?Je.memoizedState=At=t:At=At.next=t}return At}function Bu(t,e){return typeof e=="function"?e(t):e}function _y(t){var e=tr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=_t,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var d=c.lane;if((Oo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Je.lanes|=d,Do|=d}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,_r(r,e.memoizedState)||(wn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Je.lanes|=s,Do|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function wy(t){var e=tr(),n=e.queue;if(n===null)throw Error(Y(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_r(s,e.memoizedState)||(wn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function rC(){}function iC(t,e){var n=Je,r=tr(),i=e(),s=!_r(r.memoizedState,i);if(s&&(r.memoizedState=i,wn=!0),r=r.queue,Eb(aC.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,Uu(9,oC.bind(null,n,r,i,e),void 0,null),Rt===null)throw Error(Y(349));Oo&30||sC(n,e,i)}return i}function sC(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function oC(t,e,n,r){e.value=n,e.getSnapshot=r,lC(e)&&cC(t)}function aC(t,e,n){return n(function(){lC(e)&&cC(t)})}function lC(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_r(t,n)}catch{return!0}}function cC(t){var e=gi(t,1);e!==null&&gr(e,t,1,-1)}function TI(t){var e=Ar();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bu,lastRenderedState:t},e.queue=t,t=t.dispatch=cM.bind(null,Je,t),[e.memoizedState,t]}function Uu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Je.updateQueue,e===null?(e={lastEffect:null,stores:null},Je.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function uC(){return tr().memoizedState}function _f(t,e,n,r){var i=Ar();Je.flags|=t,i.memoizedState=Uu(1|e,n,void 0,r===void 0?null:r)}function Sm(t,e,n,r){var i=tr();r=r===void 0?null:r;var s=void 0;if(_t!==null){var o=_t.memoizedState;if(s=o.destroy,r!==null&&_b(r,o.deps)){i.memoizedState=Uu(e,n,s,r);return}}Je.flags|=t,i.memoizedState=Uu(1|e,n,s,r)}function II(t,e){return _f(8390656,8,t,e)}function Eb(t,e){return Sm(2048,8,t,e)}function dC(t,e){return Sm(4,2,t,e)}function hC(t,e){return Sm(4,4,t,e)}function fC(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function pC(t,e,n){return n=n!=null?n.concat([t]):null,Sm(4,4,fC.bind(null,e,t),n)}function Tb(){}function mC(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_b(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function gC(t,e){var n=tr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&_b(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function yC(t,e,n){return Oo&21?(_r(n,e)||(n=EA(),Je.lanes|=n,Do|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,wn=!0),t.memoizedState=n)}function aM(t,e){var n=Oe;Oe=n!==0&&4>n?n:4,t(!0);var r=vy.transition;vy.transition={};try{t(!1),e()}finally{Oe=n,vy.transition=r}}function vC(){return tr().memoizedState}function lM(t,e,n){var r=ys(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},_C(t))wC(e,n);else if(n=eC(t,e,n,r),n!==null){var i=cn();gr(n,t,r,i),bC(n,e,r)}}function cM(t,e,n){var r=ys(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(_C(t))wC(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_r(a,o)){var l=e.interleaved;l===null?(i.next=i,pb(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=eC(t,e,i,r),n!==null&&(i=cn(),gr(n,t,r,i),bC(n,e,r))}}function _C(t){var e=t.alternate;return t===Je||e!==null&&e===Je}function wC(t,e){cu=mp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bC(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,eb(t,n)}}var gp={readContext:er,useCallback:Ht,useContext:Ht,useEffect:Ht,useImperativeHandle:Ht,useInsertionEffect:Ht,useLayoutEffect:Ht,useMemo:Ht,useReducer:Ht,useRef:Ht,useState:Ht,useDebugValue:Ht,useDeferredValue:Ht,useTransition:Ht,useMutableSource:Ht,useSyncExternalStore:Ht,useId:Ht,unstable_isNewReconciler:!1},uM={readContext:er,useCallback:function(t,e){return Ar().memoizedState=[t,e===void 0?null:e],t},useContext:er,useEffect:II,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,_f(4194308,4,fC.bind(null,e,t),n)},useLayoutEffect:function(t,e){return _f(4194308,4,t,e)},useInsertionEffect:function(t,e){return _f(4,2,t,e)},useMemo:function(t,e){var n=Ar();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ar();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=lM.bind(null,Je,t),[r.memoizedState,t]},useRef:function(t){var e=Ar();return t={current:t},e.memoizedState=t},useState:TI,useDebugValue:Tb,useDeferredValue:function(t){return Ar().memoizedState=t},useTransition:function(){var t=TI(!1),e=t[0];return t=aM.bind(null,t[1]),Ar().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Je,i=Ar();if(We){if(n===void 0)throw Error(Y(407));n=n()}else{if(n=e(),Rt===null)throw Error(Y(349));Oo&30||sC(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,II(aC.bind(null,r,s,t),[t]),r.flags|=2048,Uu(9,oC.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ar(),e=Rt.identifierPrefix;if(We){var n=li,r=ai;n=(r&~(1<<32-mr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Fu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=oM++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},dM={readContext:er,useCallback:mC,useContext:er,useEffect:Eb,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:gC,useReducer:_y,useRef:uC,useState:function(){return _y(Bu)},useDebugValue:Tb,useDeferredValue:function(t){var e=tr();return yC(e,_t.memoizedState,t)},useTransition:function(){var t=_y(Bu)[0],e=tr().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1},hM={readContext:er,useCallback:mC,useContext:er,useEffect:Eb,useImperativeHandle:pC,useInsertionEffect:dC,useLayoutEffect:hC,useMemo:gC,useReducer:wy,useRef:uC,useState:function(){return wy(Bu)},useDebugValue:Tb,useDeferredValue:function(t){var e=tr();return _t===null?e.memoizedState=t:yC(e,_t.memoizedState,t)},useTransition:function(){var t=wy(Bu)[0],e=tr().memoizedState;return[t,e]},useMutableSource:rC,useSyncExternalStore:iC,useId:vC,unstable_isNewReconciler:!1};function sr(t,e){if(t&&t.defaultProps){e=Ze({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Yv(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Ze({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var xm={isMounted:function(t){return(t=t._reactInternals)?Zo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=cn(),i=ys(t),s=hi(r,i);s.payload=e,n!=null&&(s.callback=n),e=ms(t,s,i),e!==null&&(gr(e,t,i,r),yf(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=cn(),i=ys(t),s=hi(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=ms(t,s,i),e!==null&&(gr(e,t,i,r),yf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=cn(),r=ys(t),i=hi(n,r);i.tag=2,e!=null&&(i.callback=e),e=ms(t,i,r),e!==null&&(gr(e,t,r,n),yf(e,t,r))}};function SI(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Du(n,r)||!Du(i,s):!0}function EC(t,e,n){var r=!1,i=xs,s=e.contextType;return typeof s=="object"&&s!==null?s=er(s):(i=Sn(e)?Ro:Zt.current,r=e.contextTypes,s=(r=r!=null)?ul(t,i):xs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=xm,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function xI(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&xm.enqueueReplaceState(e,e.state,null)}function Jv(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},mb(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=er(s):(s=Sn(e)?Ro:Zt.current,i.context=ul(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Yv(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&xm.enqueueReplaceState(i,i.state,null),fp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pl(t,e){try{var n="",r=e;do n+=B$(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function by(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Zv(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var fM=typeof WeakMap=="function"?WeakMap:Map;function TC(t,e,n){n=hi(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vp||(vp=!0,c_=r),Zv(t,e)},n}function IC(t,e,n){n=hi(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Zv(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Zv(t,e),typeof r!="function"&&(gs===null?gs=new Set([this]):gs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function kI(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new fM;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=kM.bind(null,t,e,n),e.then(t,t))}function AI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function CI(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hi(-1,1),e.tag=2,ms(n,e,1))),n.lanes|=1),t)}var pM=Ai.ReactCurrentOwner,wn=!1;function sn(t,e,n,r){e.child=t===null?ZA(e,null,n,r):hl(e,t.child,n,r)}function RI(t,e,n,r,i){n=n.render;var s=e.ref;return Xa(e,i),r=wb(t,e,n,r,s,i),n=bb(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(We&&n&&lb(e),e.flags|=1,sn(t,e,r,i),e.child)}function PI(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Pb(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,SC(t,e,s,r,i)):(t=Tf(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Du,n(o,r)&&t.ref===e.ref)return yi(t,e,i)}return e.flags|=1,t=vs(s,r),t.ref=e.ref,t.return=e,e.child=t}function SC(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Du(s,r)&&t.ref===e.ref)if(wn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(wn=!0);else return e.lanes=t.lanes,yi(t,e,i)}return e_(t,e,n,r,i)}function xC(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(za,Nn),Nn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,$e(za,Nn),Nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,$e(za,Nn),Nn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,$e(za,Nn),Nn|=r;return sn(t,e,i,n),e.child}function kC(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function e_(t,e,n,r,i){var s=Sn(n)?Ro:Zt.current;return s=ul(e,s),Xa(e,i),n=wb(t,e,n,r,s,i),r=bb(),t!==null&&!wn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,yi(t,e,i)):(We&&r&&lb(e),e.flags|=1,sn(t,e,n,i),e.child)}function OI(t,e,n,r,i){if(Sn(n)){var s=!0;lp(e)}else s=!1;if(Xa(e,i),e.stateNode===null)wf(t,e),EC(e,n,r),Jv(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=er(c):(c=Sn(n)?Ro:Zt.current,c=ul(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&xI(e,o,r,c),Ji=!1;var f=e.memoizedState;o.state=f,fp(e,r,o,i),l=e.memoizedState,a!==r||f!==l||In.current||Ji?(typeof d=="function"&&(Yv(e,n,d,r),l=e.memoizedState),(a=Ji||SI(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,tC(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:sr(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=er(l):(l=Sn(n)?Ro:Zt.current,l=ul(e,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&xI(e,o,r,l),Ji=!1,f=e.memoizedState,o.state=f,fp(e,r,o,i);var y=e.memoizedState;a!==h||f!==y||In.current||Ji?(typeof m=="function"&&(Yv(e,n,m,r),y=e.memoizedState),(c=Ji||SI(e,n,c,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return t_(t,e,n,r,s,i)}function t_(t,e,n,r,i,s){kC(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&yI(e,n,!1),yi(t,e,s);r=e.stateNode,pM.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=hl(e,t.child,null,s),e.child=hl(e,null,a,s)):sn(t,e,a,s),e.memoizedState=r.state,i&&yI(e,n,!0),e.child}function AC(t){var e=t.stateNode;e.pendingContext?gI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&gI(t,e.context,!1),gb(t,e.containerInfo)}function DI(t,e,n,r,i){return dl(),ub(i),e.flags|=256,sn(t,e,n,r),e.child}var n_={dehydrated:null,treeContext:null,retryLane:0};function r_(t){return{baseLanes:t,cachePool:null,transitions:null}}function CC(t,e,n){var r=e.pendingProps,i=Ye.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),$e(Ye,i&1),t===null)return Qv(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Cm(o,r,0,null),t=To(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=r_(n),e.memoizedState=n_,t):Ib(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return mM(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=vs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=vs(a,s):(s=To(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?r_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=n_,r}return s=t.child,t=s.sibling,r=vs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ib(t,e){return e=Cm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function $h(t,e,n,r){return r!==null&&ub(r),hl(e,t.child,null,n),t=Ib(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function mM(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=by(Error(Y(422))),$h(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Cm({mode:"visible",children:r.children},i,0,null),s=To(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&hl(e,t.child,null,o),e.child.memoizedState=r_(o),e.memoizedState=n_,s);if(!(e.mode&1))return $h(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(Y(419)),r=by(s,r,void 0),$h(t,e,o,r)}if(a=(o&t.childLanes)!==0,wn||a){if(r=Rt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,gi(t,i),gr(r,t,i,-1))}return Rb(),r=by(Error(Y(421))),$h(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=AM.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$n=ps(i.nextSibling),Mn=e,We=!0,cr=null,t!==null&&(qn[Hn++]=ai,qn[Hn++]=li,qn[Hn++]=Po,ai=t.id,li=t.overflow,Po=e),e=Ib(e,r.children),e.flags|=4096,e)}function NI(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Xv(t.return,e,n)}function Ey(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function RC(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(sn(t,e,r.children,n),r=Ye.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&NI(t,n,e);else if(t.tag===19)NI(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if($e(Ye,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&pp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Ey(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&pp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Ey(e,!0,n,null,s);break;case"together":Ey(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function wf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function yi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,n=vs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=vs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function gM(t,e,n){switch(e.tag){case 3:AC(e),dl();break;case 5:nC(e);break;case 1:Sn(e.type)&&lp(e);break;case 4:gb(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;$e(dp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?($e(Ye,Ye.current&1),e.flags|=128,null):n&e.child.childLanes?CC(t,e,n):($e(Ye,Ye.current&1),t=yi(t,e,n),t!==null?t.sibling:null);$e(Ye,Ye.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return RC(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),$e(Ye,Ye.current),r)break;return null;case 22:case 23:return e.lanes=0,xC(t,e,n)}return yi(t,e,n)}var PC,i_,OC,DC;PC=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};i_=function(){};OC=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,go($r.current);var s=null;switch(n){case"input":i=xv(t,i),r=xv(t,r),s=[];break;case"select":i=Ze({},i,{value:void 0}),r=Ze({},r,{value:void 0}),s=[];break;case"textarea":i=Cv(t,i),r=Cv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=op)}Pv(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(xu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(xu.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Be("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};DC=function(t,e,n,r){n!==r&&(e.flags|=4)};function Lc(t,e){if(!We)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Wt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function yM(t,e,n){var r=e.pendingProps;switch(cb(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wt(e),null;case 1:return Sn(e.type)&&ap(),Wt(e),null;case 3:return r=e.stateNode,fl(),ze(In),ze(Zt),vb(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Nh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,cr!==null&&(h_(cr),cr=null))),i_(t,e),Wt(e),null;case 5:yb(e);var i=go(Mu.current);if(n=e.type,t!==null&&e.stateNode!=null)OC(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Y(166));return Wt(e),null}if(t=go($r.current),Nh(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Pr]=e,r[$u]=s,t=(e.mode&1)!==0,n){case"dialog":Be("cancel",r),Be("close",r);break;case"iframe":case"object":case"embed":Be("load",r);break;case"video":case"audio":for(i=0;i<Xc.length;i++)Be(Xc[i],r);break;case"source":Be("error",r);break;case"img":case"image":case"link":Be("error",r),Be("load",r);break;case"details":Be("toggle",r);break;case"input":jT(r,s),Be("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Be("invalid",r);break;case"textarea":HT(r,s),Be("invalid",r)}Pv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Dh(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Dh(r.textContent,a,t),i=["children",""+a]):xu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Be("scroll",r)}switch(n){case"input":Sh(r),qT(r,s,!0);break;case"textarea":Sh(r),WT(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=op)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=aA(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Pr]=e,t[$u]=r,PC(t,e,!1,!1),e.stateNode=t;e:{switch(o=Ov(n,r),n){case"dialog":Be("cancel",t),Be("close",t),i=r;break;case"iframe":case"object":case"embed":Be("load",t),i=r;break;case"video":case"audio":for(i=0;i<Xc.length;i++)Be(Xc[i],t);i=r;break;case"source":Be("error",t),i=r;break;case"img":case"image":case"link":Be("error",t),Be("load",t),i=r;break;case"details":Be("toggle",t),i=r;break;case"input":jT(t,r),i=xv(t,r),Be("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Ze({},r,{value:void 0}),Be("invalid",t);break;case"textarea":HT(t,r),i=Cv(t,r),Be("invalid",t);break;default:i=r}Pv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?uA(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&lA(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&ku(t,l):typeof l=="number"&&ku(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(xu.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Be("scroll",t):l!=null&&Kw(t,s,l,o))}switch(n){case"input":Sh(t),qT(t,r,!1);break;case"textarea":Sh(t),WT(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ss(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Wa(t,!!r.multiple,s,!1):r.defaultValue!=null&&Wa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=op)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Wt(e),null;case 6:if(t&&e.stateNode!=null)DC(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Y(166));if(n=go(Mu.current),go($r.current),Nh(e)){if(r=e.stateNode,n=e.memoizedProps,r[Pr]=e,(s=r.nodeValue!==n)&&(t=Mn,t!==null))switch(t.tag){case 3:Dh(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Dh(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Pr]=e,e.stateNode=r}return Wt(e),null;case 13:if(ze(Ye),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(We&&$n!==null&&e.mode&1&&!(e.flags&128))YA(),dl(),e.flags|=98560,s=!1;else if(s=Nh(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[Pr]=e}else dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Wt(e),s=!1}else cr!==null&&(h_(cr),cr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Ye.current&1?wt===0&&(wt=3):Rb())),e.updateQueue!==null&&(e.flags|=4),Wt(e),null);case 4:return fl(),i_(t,e),t===null&&Nu(e.stateNode.containerInfo),Wt(e),null;case 10:return fb(e.type._context),Wt(e),null;case 17:return Sn(e.type)&&ap(),Wt(e),null;case 19:if(ze(Ye),s=e.memoizedState,s===null)return Wt(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Lc(s,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=pp(t),o!==null){for(e.flags|=128,Lc(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return $e(Ye,Ye.current&1|2),e.child}t=t.sibling}s.tail!==null&&ct()>ml&&(e.flags|=128,r=!0,Lc(s,!1),e.lanes=4194304)}else{if(!r)if(t=pp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Lc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!We)return Wt(e),null}else 2*ct()-s.renderingStartTime>ml&&n!==1073741824&&(e.flags|=128,r=!0,Lc(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ct(),e.sibling=null,n=Ye.current,$e(Ye,r?n&1|2:n&1),e):(Wt(e),null);case 22:case 23:return Cb(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Nn&1073741824&&(Wt(e),e.subtreeFlags&6&&(e.flags|=8192)):Wt(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function vM(t,e){switch(cb(e),e.tag){case 1:return Sn(e.type)&&ap(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fl(),ze(In),ze(Zt),vb(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yb(e),null;case 13:if(ze(Ye),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ze(Ye),null;case 4:return fl(),null;case 10:return fb(e.type._context),null;case 22:case 23:return Cb(),null;case 24:return null;default:return null}}var Vh=!1,Qt=!1,_M=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){nt(t,e,r)}else n.current=null}function s_(t,e,n){try{n()}catch(r){nt(t,e,r)}}var LI=!1;function wM(t,e){if(zv=rp,t=MA(),ab(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var m;h!==n||i!==0&&h.nodeType!==3||(a=o+i),h!==s||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(m=h.firstChild)!==null;)f=h,h=m;for(;;){if(h===t)break t;if(f===n&&++c===i&&(a=o),f===s&&++d===r&&(l=o),(m=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(jv={focusedElem:t,selectionRange:n},rp=!1,oe=e;oe!==null;)if(e=oe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,oe=t;else for(;oe!==null;){e=oe;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var w=y.memoizedProps,b=y.memoizedState,T=e.stateNode,E=T.getSnapshotBeforeUpdate(e.elementType===e.type?w:sr(e.type,w),b);T.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var I=e.stateNode.containerInfo;I.nodeType===1?I.textContent="":I.nodeType===9&&I.documentElement&&I.removeChild(I.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(R){nt(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,oe=t;break}oe=e.return}return y=LI,LI=!1,y}function uu(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&s_(e,n,s)}i=i.next}while(i!==r)}}function km(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function o_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function NC(t){var e=t.alternate;e!==null&&(t.alternate=null,NC(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Pr],delete e[$u],delete e[Wv],delete e[nM],delete e[rM])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function LC(t){return t.tag===5||t.tag===3||t.tag===4}function $I(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||LC(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function a_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=op));else if(r!==4&&(t=t.child,t!==null))for(a_(t,e,n),t=t.sibling;t!==null;)a_(t,e,n),t=t.sibling}function l_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(l_(t,e,n),t=t.sibling;t!==null;)l_(t,e,n),t=t.sibling}var Lt=null,or=!1;function Hi(t,e,n){for(n=n.child;n!==null;)$C(t,e,n),n=n.sibling}function $C(t,e,n){if(Lr&&typeof Lr.onCommitFiberUnmount=="function")try{Lr.onCommitFiberUnmount(_m,n)}catch{}switch(n.tag){case 5:Qt||Ua(n,e);case 6:var r=Lt,i=or;Lt=null,Hi(t,e,n),Lt=r,or=i,Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Lt.removeChild(n.stateNode));break;case 18:Lt!==null&&(or?(t=Lt,n=n.stateNode,t.nodeType===8?my(t.parentNode,n):t.nodeType===1&&my(t,n),Pu(t)):my(Lt,n.stateNode));break;case 4:r=Lt,i=or,Lt=n.stateNode.containerInfo,or=!0,Hi(t,e,n),Lt=r,or=i;break;case 0:case 11:case 14:case 15:if(!Qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&s_(n,e,o),i=i.next}while(i!==r)}Hi(t,e,n);break;case 1:if(!Qt&&(Ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){nt(n,e,a)}Hi(t,e,n);break;case 21:Hi(t,e,n);break;case 22:n.mode&1?(Qt=(r=Qt)||n.memoizedState!==null,Hi(t,e,n),Qt=r):Hi(t,e,n);break;default:Hi(t,e,n)}}function VI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new _M),e.forEach(function(r){var i=CM.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ir(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Lt=a.stateNode,or=!1;break e;case 3:Lt=a.stateNode.containerInfo,or=!0;break e;case 4:Lt=a.stateNode.containerInfo,or=!0;break e}a=a.return}if(Lt===null)throw Error(Y(160));$C(s,o,i),Lt=null,or=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){nt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)VC(e,t),e=e.sibling}function VC(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ir(e,t),xr(t),r&4){try{uu(3,t,t.return),km(3,t)}catch(w){nt(t,t.return,w)}try{uu(5,t,t.return)}catch(w){nt(t,t.return,w)}}break;case 1:ir(e,t),xr(t),r&512&&n!==null&&Ua(n,n.return);break;case 5:if(ir(e,t),xr(t),r&512&&n!==null&&Ua(n,n.return),t.flags&32){var i=t.stateNode;try{ku(i,"")}catch(w){nt(t,t.return,w)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&sA(i,s),Ov(a,o);var c=Ov(a,s);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?uA(i,h):d==="dangerouslySetInnerHTML"?lA(i,h):d==="children"?ku(i,h):Kw(i,d,h,c)}switch(a){case"input":kv(i,s);break;case"textarea":oA(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var m=s.value;m!=null?Wa(i,!!s.multiple,m,!1):f!==!!s.multiple&&(s.defaultValue!=null?Wa(i,!!s.multiple,s.defaultValue,!0):Wa(i,!!s.multiple,s.multiple?[]:"",!1))}i[$u]=s}catch(w){nt(t,t.return,w)}}break;case 6:if(ir(e,t),xr(t),r&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){nt(t,t.return,w)}}break;case 3:if(ir(e,t),xr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Pu(e.containerInfo)}catch(w){nt(t,t.return,w)}break;case 4:ir(e,t),xr(t);break;case 13:ir(e,t),xr(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kb=ct())),r&4&&VI(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(Qt=(c=Qt)||d,ir(e,t),Qt=c):ir(e,t),xr(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(oe=t,d=t.child;d!==null;){for(h=oe=d;oe!==null;){switch(f=oe,m=f.child,f.tag){case 0:case 11:case 14:case 15:uu(4,f,f.return);break;case 1:Ua(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(w){nt(r,n,w)}}break;case 5:Ua(f,f.return);break;case 22:if(f.memoizedState!==null){FI(h);continue}}m!==null?(m.return=f,oe=m):FI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=cA("display",o))}catch(w){nt(t,t.return,w)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(w){nt(t,t.return,w)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ir(e,t),xr(t),r&4&&VI(t);break;case 21:break;default:ir(e,t),xr(t)}}function xr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(LC(n)){var r=n;break e}n=n.return}throw Error(Y(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ku(i,""),r.flags&=-33);var s=$I(t);l_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=$I(t);a_(t,a,o);break;default:throw Error(Y(161))}}catch(l){nt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bM(t,e,n){oe=t,MC(t)}function MC(t,e,n){for(var r=(t.mode&1)!==0;oe!==null;){var i=oe,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Vh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Qt;a=Vh;var c=Qt;if(Vh=o,(Qt=l)&&!c)for(oe=i;oe!==null;)o=oe,l=o.child,o.tag===22&&o.memoizedState!==null?BI(i):l!==null?(l.return=o,oe=l):BI(i);for(;s!==null;)oe=s,MC(s),s=s.sibling;oe=i,Vh=a,Qt=c}MI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,oe=s):MI(t)}}function MI(t){for(;oe!==null;){var e=oe;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Qt||km(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Qt)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:sr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&EI(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}EI(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Pu(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}Qt||e.flags&512&&o_(e)}catch(f){nt(e,e.return,f)}}if(e===t){oe=null;break}if(n=e.sibling,n!==null){n.return=e.return,oe=n;break}oe=e.return}}function FI(t){for(;oe!==null;){var e=oe;if(e===t){oe=null;break}var n=e.sibling;if(n!==null){n.return=e.return,oe=n;break}oe=e.return}}function BI(t){for(;oe!==null;){var e=oe;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{km(4,e)}catch(l){nt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){nt(e,i,l)}}var s=e.return;try{o_(e)}catch(l){nt(e,s,l)}break;case 5:var o=e.return;try{o_(e)}catch(l){nt(e,o,l)}}}catch(l){nt(e,e.return,l)}if(e===t){oe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,oe=a;break}oe=e.return}}var EM=Math.ceil,yp=Ai.ReactCurrentDispatcher,Sb=Ai.ReactCurrentOwner,Yn=Ai.ReactCurrentBatchConfig,ke=0,Rt=null,gt=null,Mt=0,Nn=0,za=Bs(0),wt=0,zu=null,Do=0,Am=0,xb=0,du=null,_n=null,kb=0,ml=1/0,ei=null,vp=!1,c_=null,gs=null,Mh=!1,as=null,_p=0,hu=0,u_=null,bf=-1,Ef=0;function cn(){return ke&6?ct():bf!==-1?bf:bf=ct()}function ys(t){return t.mode&1?ke&2&&Mt!==0?Mt&-Mt:sM.transition!==null?(Ef===0&&(Ef=EA()),Ef):(t=Oe,t!==0||(t=window.event,t=t===void 0?16:CA(t.type)),t):1}function gr(t,e,n,r){if(50<hu)throw hu=0,u_=null,Error(Y(185));wd(t,n,r),(!(ke&2)||t!==Rt)&&(t===Rt&&(!(ke&2)&&(Am|=n),wt===4&&es(t,Mt)),xn(t,r),n===1&&ke===0&&!(e.mode&1)&&(ml=ct()+500,Im&&Us()))}function xn(t,e){var n=t.callbackNode;sV(t,e);var r=np(t,t===Rt?Mt:0);if(r===0)n!==null&&QT(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&QT(n),e===1)t.tag===0?iM(UI.bind(null,t)):KA(UI.bind(null,t)),eM(function(){!(ke&6)&&Us()}),n=null;else{switch(TA(r)){case 1:n=Zw;break;case 4:n=wA;break;case 16:n=tp;break;case 536870912:n=bA;break;default:n=tp}n=WC(n,FC.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FC(t,e){if(bf=-1,Ef=0,ke&6)throw Error(Y(327));var n=t.callbackNode;if(Ya()&&t.callbackNode!==n)return null;var r=np(t,t===Rt?Mt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=wp(t,r);else{e=r;var i=ke;ke|=2;var s=UC();(Rt!==t||Mt!==e)&&(ei=null,ml=ct()+500,Eo(t,e));do try{SM();break}catch(a){BC(t,a)}while(!0);hb(),yp.current=s,ke=i,gt!==null?e=0:(Rt=null,Mt=0,e=wt)}if(e!==0){if(e===2&&(i=Vv(t),i!==0&&(r=i,e=d_(t,i))),e===1)throw n=zu,Eo(t,0),es(t,r),xn(t,ct()),n;if(e===6)es(t,r);else{if(i=t.current.alternate,!(r&30)&&!TM(i)&&(e=wp(t,r),e===2&&(s=Vv(t),s!==0&&(r=s,e=d_(t,s))),e===1))throw n=zu,Eo(t,0),es(t,r),xn(t,ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Y(345));case 2:io(t,_n,ei);break;case 3:if(es(t,r),(r&130023424)===r&&(e=kb+500-ct(),10<e)){if(np(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){cn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Hv(io.bind(null,t,_n,ei),e);break}io(t,_n,ei);break;case 4:if(es(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-mr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*EM(r/1960))-r,10<r){t.timeoutHandle=Hv(io.bind(null,t,_n,ei),r);break}io(t,_n,ei);break;case 5:io(t,_n,ei);break;default:throw Error(Y(329))}}}return xn(t,ct()),t.callbackNode===n?FC.bind(null,t):null}function d_(t,e){var n=du;return t.current.memoizedState.isDehydrated&&(Eo(t,e).flags|=256),t=wp(t,e),t!==2&&(e=_n,_n=n,e!==null&&h_(e)),t}function h_(t){_n===null?_n=t:_n.push.apply(_n,t)}function TM(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_r(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function es(t,e){for(e&=~xb,e&=~Am,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-mr(e),r=1<<n;t[n]=-1,e&=~r}}function UI(t){if(ke&6)throw Error(Y(327));Ya();var e=np(t,0);if(!(e&1))return xn(t,ct()),null;var n=wp(t,e);if(t.tag!==0&&n===2){var r=Vv(t);r!==0&&(e=r,n=d_(t,r))}if(n===1)throw n=zu,Eo(t,0),es(t,e),xn(t,ct()),n;if(n===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,io(t,_n,ei),xn(t,ct()),null}function Ab(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(ml=ct()+500,Im&&Us())}}function No(t){as!==null&&as.tag===0&&!(ke&6)&&Ya();var e=ke;ke|=1;var n=Yn.transition,r=Oe;try{if(Yn.transition=null,Oe=1,t)return t()}finally{Oe=r,Yn.transition=n,ke=e,!(ke&6)&&Us()}}function Cb(){Nn=za.current,ze(za)}function Eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,ZV(n)),gt!==null)for(n=gt.return;n!==null;){var r=n;switch(cb(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ap();break;case 3:fl(),ze(In),ze(Zt),vb();break;case 5:yb(r);break;case 4:fl();break;case 13:ze(Ye);break;case 19:ze(Ye);break;case 10:fb(r.type._context);break;case 22:case 23:Cb()}n=n.return}if(Rt=t,gt=t=vs(t.current,null),Mt=Nn=e,wt=0,zu=null,xb=Am=Do=0,_n=du=null,mo!==null){for(e=0;e<mo.length;e++)if(n=mo[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}mo=null}return t}function BC(t,e){do{var n=gt;try{if(hb(),vf.current=gp,mp){for(var r=Je.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}mp=!1}if(Oo=0,At=_t=Je=null,cu=!1,Fu=0,Sb.current=null,n===null||n.return===null){wt=1,zu=e,gt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Mt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=AI(o);if(m!==null){m.flags&=-257,CI(m,o,a,s,e),m.mode&1&&kI(s,c,e),e=m,l=c;var y=e.updateQueue;if(y===null){var w=new Set;w.add(l),e.updateQueue=w}else y.add(l);break e}else{if(!(e&1)){kI(s,c,e),Rb();break e}l=Error(Y(426))}}else if(We&&a.mode&1){var b=AI(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),CI(b,o,a,s,e),ub(pl(l,a));break e}}s=l=pl(l,a),wt!==4&&(wt=2),du===null?du=[s]:du.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=TC(s,l,e);bI(s,T);break e;case 1:a=l;var E=s.type,I=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||I!==null&&typeof I.componentDidCatch=="function"&&(gs===null||!gs.has(I)))){s.flags|=65536,e&=-e,s.lanes|=e;var R=IC(s,a,e);bI(s,R);break e}}s=s.return}while(s!==null)}jC(n)}catch(D){e=D,gt===n&&n!==null&&(gt=n=n.return);continue}break}while(!0)}function UC(){var t=yp.current;return yp.current=gp,t===null?gp:t}function Rb(){(wt===0||wt===3||wt===2)&&(wt=4),Rt===null||!(Do&268435455)&&!(Am&268435455)||es(Rt,Mt)}function wp(t,e){var n=ke;ke|=2;var r=UC();(Rt!==t||Mt!==e)&&(ei=null,Eo(t,e));do try{IM();break}catch(i){BC(t,i)}while(!0);if(hb(),ke=n,yp.current=r,gt!==null)throw Error(Y(261));return Rt=null,Mt=0,wt}function IM(){for(;gt!==null;)zC(gt)}function SM(){for(;gt!==null&&!X$();)zC(gt)}function zC(t){var e=HC(t.alternate,t,Nn);t.memoizedProps=t.pendingProps,e===null?jC(t):gt=e,Sb.current=null}function jC(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=vM(n,e),n!==null){n.flags&=32767,gt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,gt=null;return}}else if(n=yM(n,e,Nn),n!==null){gt=n;return}if(e=e.sibling,e!==null){gt=e;return}gt=e=t}while(e!==null);wt===0&&(wt=5)}function io(t,e,n){var r=Oe,i=Yn.transition;try{Yn.transition=null,Oe=1,xM(t,e,n,r)}finally{Yn.transition=i,Oe=r}return null}function xM(t,e,n,r){do Ya();while(as!==null);if(ke&6)throw Error(Y(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(oV(t,s),t===Rt&&(gt=Rt=null,Mt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mh||(Mh=!0,WC(tp,function(){return Ya(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Yn.transition,Yn.transition=null;var o=Oe;Oe=1;var a=ke;ke|=4,Sb.current=null,wM(t,n),VC(n,t),WV(jv),rp=!!zv,jv=zv=null,t.current=n,bM(n),Y$(),ke=a,Oe=o,Yn.transition=s}else t.current=n;if(Mh&&(Mh=!1,as=t,_p=i),s=t.pendingLanes,s===0&&(gs=null),eV(n.stateNode),xn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(vp)throw vp=!1,t=c_,c_=null,t;return _p&1&&t.tag!==0&&Ya(),s=t.pendingLanes,s&1?t===u_?hu++:(hu=0,u_=t):hu=0,Us(),null}function Ya(){if(as!==null){var t=TA(_p),e=Yn.transition,n=Oe;try{if(Yn.transition=null,Oe=16>t?16:t,as===null)var r=!1;else{if(t=as,as=null,_p=0,ke&6)throw Error(Y(331));var i=ke;for(ke|=4,oe=t.current;oe!==null;){var s=oe,o=s.child;if(oe.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(oe=c;oe!==null;){var d=oe;switch(d.tag){case 0:case 11:case 15:uu(8,d,s)}var h=d.child;if(h!==null)h.return=d,oe=h;else for(;oe!==null;){d=oe;var f=d.sibling,m=d.return;if(NC(d),d===c){oe=null;break}if(f!==null){f.return=m,oe=f;break}oe=m}}}var y=s.alternate;if(y!==null){var w=y.child;if(w!==null){y.child=null;do{var b=w.sibling;w.sibling=null,w=b}while(w!==null)}}oe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,oe=o;else e:for(;oe!==null;){if(s=oe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uu(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,oe=T;break e}oe=s.return}}var E=t.current;for(oe=E;oe!==null;){o=oe;var I=o.child;if(o.subtreeFlags&2064&&I!==null)I.return=o,oe=I;else e:for(o=E;oe!==null;){if(a=oe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:km(9,a)}}catch(D){nt(a,a.return,D)}if(a===o){oe=null;break e}var R=a.sibling;if(R!==null){R.return=a.return,oe=R;break e}oe=a.return}}if(ke=i,Us(),Lr&&typeof Lr.onPostCommitFiberRoot=="function")try{Lr.onPostCommitFiberRoot(_m,t)}catch{}r=!0}return r}finally{Oe=n,Yn.transition=e}}return!1}function zI(t,e,n){e=pl(n,e),e=TC(t,e,1),t=ms(t,e,1),e=cn(),t!==null&&(wd(t,1,e),xn(t,e))}function nt(t,e,n){if(t.tag===3)zI(t,t,n);else for(;e!==null;){if(e.tag===3){zI(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(gs===null||!gs.has(r))){t=pl(n,t),t=IC(e,t,1),e=ms(e,t,1),t=cn(),e!==null&&(wd(e,1,t),xn(e,t));break}}e=e.return}}function kM(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=cn(),t.pingedLanes|=t.suspendedLanes&n,Rt===t&&(Mt&n)===n&&(wt===4||wt===3&&(Mt&130023424)===Mt&&500>ct()-kb?Eo(t,0):xb|=n),xn(t,e)}function qC(t,e){e===0&&(t.mode&1?(e=Ah,Ah<<=1,!(Ah&130023424)&&(Ah=4194304)):e=1);var n=cn();t=gi(t,e),t!==null&&(wd(t,e,n),xn(t,n))}function AM(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qC(t,n)}function CM(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Y(314))}r!==null&&r.delete(e),qC(t,n)}var HC;HC=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||In.current)wn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return wn=!1,gM(t,e,n);wn=!!(t.flags&131072)}else wn=!1,We&&e.flags&1048576&&QA(e,up,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;wf(t,e),t=e.pendingProps;var i=ul(e,Zt.current);Xa(e,n),i=wb(null,e,r,t,i,n);var s=bb();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Sn(r)?(s=!0,lp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,mb(e),i.updater=xm,e.stateNode=i,i._reactInternals=e,Jv(e,r,t,n),e=t_(null,e,r,!0,s,n)):(e.tag=0,We&&s&&lb(e),sn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(wf(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=PM(r),t=sr(r,t),i){case 0:e=e_(null,e,r,t,n);break e;case 1:e=OI(null,e,r,t,n);break e;case 11:e=RI(null,e,r,t,n);break e;case 14:e=PI(null,e,r,sr(r.type,t),n);break e}throw Error(Y(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),e_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),OI(t,e,r,i,n);case 3:e:{if(AC(e),t===null)throw Error(Y(387));r=e.pendingProps,s=e.memoizedState,i=s.element,tC(t,e),fp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pl(Error(Y(423)),e),e=DI(t,e,r,n,i);break e}else if(r!==i){i=pl(Error(Y(424)),e),e=DI(t,e,r,n,i);break e}else for($n=ps(e.stateNode.containerInfo.firstChild),Mn=e,We=!0,cr=null,n=ZA(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(dl(),r===i){e=yi(t,e,n);break e}sn(t,e,r,n)}e=e.child}return e;case 5:return nC(e),t===null&&Qv(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,qv(r,i)?o=null:s!==null&&qv(r,s)&&(e.flags|=32),kC(t,e),sn(t,e,o,n),e.child;case 6:return t===null&&Qv(e),null;case 13:return CC(t,e,n);case 4:return gb(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=hl(e,null,r,n):sn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),RI(t,e,r,i,n);case 7:return sn(t,e,e.pendingProps,n),e.child;case 8:return sn(t,e,e.pendingProps.children,n),e.child;case 12:return sn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,$e(dp,r._currentValue),r._currentValue=o,s!==null)if(_r(s.value,o)){if(s.children===i.children&&!In.current){e=yi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=hi(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Xv(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(Y(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Xv(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}sn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Xa(e,n),i=er(i),r=r(i),e.flags|=1,sn(t,e,r,n),e.child;case 14:return r=e.type,i=sr(r,e.pendingProps),i=sr(r.type,i),PI(t,e,r,i,n);case 15:return SC(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:sr(r,i),wf(t,e),e.tag=1,Sn(r)?(t=!0,lp(e)):t=!1,Xa(e,n),EC(e,r,i),Jv(e,r,i,n),t_(null,e,r,!0,t,n);case 19:return RC(t,e,n);case 22:return xC(t,e,n)}throw Error(Y(156,e.tag))};function WC(t,e){return _A(t,e)}function RM(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Qn(t,e,n,r){return new RM(t,e,n,r)}function Pb(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PM(t){if(typeof t=="function")return Pb(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Xw)return 11;if(t===Yw)return 14}return 2}function vs(t,e){var n=t.alternate;return n===null?(n=Qn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Tf(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Pb(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Oa:return To(n.children,i,s,e);case Qw:o=8,i|=8;break;case Ev:return t=Qn(12,n,e,i|2),t.elementType=Ev,t.lanes=s,t;case Tv:return t=Qn(13,n,e,i),t.elementType=Tv,t.lanes=s,t;case Iv:return t=Qn(19,n,e,i),t.elementType=Iv,t.lanes=s,t;case nA:return Cm(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case eA:o=10;break e;case tA:o=9;break e;case Xw:o=11;break e;case Yw:o=14;break e;case Yi:o=16,r=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=Qn(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function To(t,e,n,r){return t=Qn(7,t,r,e),t.lanes=n,t}function Cm(t,e,n,r){return t=Qn(22,t,r,e),t.elementType=nA,t.lanes=n,t.stateNode={isHidden:!1},t}function Ty(t,e,n){return t=Qn(6,t,null,e),t.lanes=n,t}function Iy(t,e,n){return e=Qn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function OM(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=iy(0),this.expirationTimes=iy(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=iy(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ob(t,e,n,r,i,s,o,a,l){return t=new OM(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Qn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mb(s),t}function DM(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function GC(t){if(!t)return xs;t=t._reactInternals;e:{if(Zo(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var n=t.type;if(Sn(n))return GA(t,n,e)}return e}function KC(t,e,n,r,i,s,o,a,l){return t=Ob(n,r,!0,t,i,s,o,a,l),t.context=GC(null),n=t.current,r=cn(),i=ys(n),s=hi(r,i),s.callback=e??null,ms(n,s,i),t.current.lanes=i,wd(t,i,r),xn(t,r),t}function Rm(t,e,n,r){var i=e.current,s=cn(),o=ys(i);return n=GC(n),e.context===null?e.context=n:e.pendingContext=n,e=hi(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ms(i,e,o),t!==null&&(gr(t,i,o,s),yf(t,i,o)),o}function bp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function jI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Db(t,e){jI(t,e),(t=t.alternate)&&jI(t,e)}function NM(){return null}var QC=typeof reportError=="function"?reportError:function(t){console.error(t)};function Nb(t){this._internalRoot=t}Pm.prototype.render=Nb.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Rm(t,e,null,null)};Pm.prototype.unmount=Nb.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;No(function(){Rm(null,t,null,null)}),e[mi]=null}};function Pm(t){this._internalRoot=t}Pm.prototype.unstable_scheduleHydration=function(t){if(t){var e=xA();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zi.length&&e!==0&&e<Zi[n].priority;n++);Zi.splice(n,0,t),n===0&&AA(t)}};function Lb(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Om(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qI(){}function LM(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=bp(o);s.call(c)}}var o=KC(e,r,t,0,null,!1,!1,"",qI);return t._reactRootContainer=o,t[mi]=o.current,Nu(t.nodeType===8?t.parentNode:t),No(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=bp(l);a.call(c)}}var l=Ob(t,0,!1,null,null,!1,!1,"",qI);return t._reactRootContainer=l,t[mi]=l.current,Nu(t.nodeType===8?t.parentNode:t),No(function(){Rm(e,l,n,r)}),l}function Dm(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=bp(o);a.call(l)}}Rm(e,o,t,i)}else o=LM(n,e,t,i,r);return bp(o)}IA=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Qc(e.pendingLanes);n!==0&&(eb(e,n|1),xn(e,ct()),!(ke&6)&&(ml=ct()+500,Us()))}break;case 13:No(function(){var r=gi(t,1);if(r!==null){var i=cn();gr(r,t,1,i)}}),Db(t,1)}};tb=function(t){if(t.tag===13){var e=gi(t,134217728);if(e!==null){var n=cn();gr(e,t,134217728,n)}Db(t,134217728)}};SA=function(t){if(t.tag===13){var e=ys(t),n=gi(t,e);if(n!==null){var r=cn();gr(n,t,e,r)}Db(t,e)}};xA=function(){return Oe};kA=function(t,e){var n=Oe;try{return Oe=t,e()}finally{Oe=n}};Nv=function(t,e,n){switch(e){case"input":if(kv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Tm(r);if(!i)throw Error(Y(90));iA(r),kv(r,i)}}}break;case"textarea":oA(t,n);break;case"select":e=n.value,e!=null&&Wa(t,!!n.multiple,e,!1)}};fA=Ab;pA=No;var $M={usingClientEntryPoint:!1,Events:[Ed,$a,Tm,dA,hA,Ab]},$c={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},VM={bundleType:$c.bundleType,version:$c.version,rendererPackageName:$c.rendererPackageName,rendererConfig:$c.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ai.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yA(t),t===null?null:t.stateNode},findFiberByHostInstance:$c.findFiberByHostInstance||NM,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fh.isDisabled&&Fh.supportsFiber)try{_m=Fh.inject(VM),Lr=Fh}catch{}}zn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$M;zn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Lb(e))throw Error(Y(200));return DM(t,e,null,n)};zn.createRoot=function(t,e){if(!Lb(t))throw Error(Y(299));var n=!1,r="",i=QC;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ob(t,1,!1,null,null,n,!1,r,i),t[mi]=e.current,Nu(t.nodeType===8?t.parentNode:t),new Nb(e)};zn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=yA(e),t=t===null?null:t.stateNode,t};zn.flushSync=function(t){return No(t)};zn.hydrate=function(t,e,n){if(!Om(e))throw Error(Y(200));return Dm(null,t,e,!0,n)};zn.hydrateRoot=function(t,e,n){if(!Lb(t))throw Error(Y(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=QC;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=KC(e,null,t,1,n??null,i,!1,s,o),t[mi]=e.current,Nu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Pm(e)};zn.render=function(t,e,n){if(!Om(e))throw Error(Y(200));return Dm(null,t,e,!1,n)};zn.unmountComponentAtNode=function(t){if(!Om(t))throw Error(Y(40));return t._reactRootContainer?(No(function(){Dm(null,null,t,!1,function(){t._reactRootContainer=null,t[mi]=null})}),!0):!1};zn.unstable_batchedUpdates=Ab;zn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Om(n))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return Dm(t,e,n,!1,r)};zn.version="18.3.1-next-f1338f8080-20240426";function XC(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(XC)}catch(t){console.error(t)}}XC(),Xk.exports=zn;var $b=Xk.exports;const MM=Uw($b);var HI=$b;wv.createRoot=HI.createRoot,wv.hydrateRoot=HI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ju(){return ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ju.apply(this,arguments)}var ls;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ls||(ls={}));const WI="popstate";function FM(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return f_("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:YC(i)}return UM(e,n,null,t)}function bt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Vb(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BM(){return Math.random().toString(36).substr(2,8)}function GI(t,e){return{usr:t.state,key:t.key,idx:e}}function f_(t,e,n,r){return n===void 0&&(n=null),ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Hl(e):e,{state:n,key:e&&e.key||r||BM()})}function YC(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Hl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function UM(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=ls.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(ju({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=ls.Pop;let b=d(),T=b==null?null:b-c;c=b,l&&l({action:a,location:w.location,delta:T})}function f(b,T){a=ls.Push;let E=f_(w.location,b,T);c=d()+1;let I=GI(E,c),R=w.createHref(E);try{o.pushState(I,"",R)}catch(D){if(D instanceof DOMException&&D.name==="DataCloneError")throw D;i.location.assign(R)}s&&l&&l({action:a,location:w.location,delta:1})}function m(b,T){a=ls.Replace;let E=f_(w.location,b,T);c=d();let I=GI(E,c),R=w.createHref(E);o.replaceState(I,"",R),s&&l&&l({action:a,location:w.location,delta:0})}function y(b){let T=i.location.origin!=="null"?i.location.origin:i.location.href,E=typeof b=="string"?b:YC(b);return E=E.replace(/ $/,"%20"),bt(T,"No window.location.(origin|href) available to create URL for href: "+E),new URL(E,T)}let w={get action(){return a},get location(){return t(i,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WI,h),l=b,()=>{i.removeEventListener(WI,h),l=null}},createHref(b){return e(i,b)},createURL:y,encodeLocation(b){let T=y(b);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:f,replace:m,go(b){return o.go(b)}};return w}var KI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(KI||(KI={}));function zM(t,e,n){return n===void 0&&(n="/"),jM(t,e,n)}function jM(t,e,n,r){let i=typeof e=="string"?Hl(e):e,s=eR(i.pathname||"/",n);if(s==null)return null;let o=JC(t);qM(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=n4(s);a=ZM(o[l],c)}return a}function JC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(bt(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Io([r,l.relativePath]),d=n.concat(l);s.children&&s.children.length>0&&(bt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),JC(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:YM(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of ZC(s.path))i(s,o,l)}),e}function ZC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=ZC(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function qM(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:JM(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const HM=/^:[\w-]+$/,WM=3,GM=2,KM=1,QM=10,XM=-2,QI=t=>t==="*";function YM(t,e){let n=t.split("/"),r=n.length;return n.some(QI)&&(r+=XM),e&&(r+=GM),n.filter(i=>!QI(i)).reduce((i,s)=>i+(HM.test(s)?WM:s===""?KM:QM),r)}function JM(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function ZM(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=e4({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:Io([s,h.pathname]),pathnameBase:c4(Io([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Io([s,h.pathnameBase]))}return o}function e4(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t4(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:m}=d;if(f==="*"){let w=a[h]||"";o=s.slice(0,s.length-w.length).replace(/(.)\/+$/,"$1")}const y=a[h];return m&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:o,pattern:t}}function t4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Vb(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Vb(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function eR(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}const r4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,i4=t=>r4.test(t);function s4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Hl(t):t,s;if(n)if(i4(n))s=n;else{if(n.includes("//")){let o=n;n=n.replace(/\/\/+/g,"/"),Vb(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+n))}n.startsWith("/")?s=XI(n.substring(1),"/"):s=XI(n,e)}else s=e;return{pathname:s,search:u4(r),hash:d4(i)}}function XI(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function Sy(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function o4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function a4(t,e){let n=o4(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function l4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Hl(t):(i=ju({},t),bt(!i.pathname||!i.pathname.includes("?"),Sy("?","pathname","search",i)),bt(!i.pathname||!i.pathname.includes("#"),Sy("#","pathname","hash",i)),bt(!i.search||!i.search.includes("#"),Sy("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=s4(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Io=t=>t.join("/").replace(/\/\/+/g,"/"),c4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),u4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,d4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function h4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const tR=["post","put","patch","delete"];new Set(tR);const f4=["get",...tR];new Set(f4);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qu(){return qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qu.apply(this,arguments)}const Mb=Q.createContext(null),p4=Q.createContext(null),Nm=Q.createContext(null),Lm=Q.createContext(null),Wl=Q.createContext({outlet:null,matches:[],isDataRoute:!1}),nR=Q.createContext(null);function $m(){return Q.useContext(Lm)!=null}function Vm(){return $m()||bt(!1),Q.useContext(Lm).location}function rR(t){Q.useContext(Nm).static||Q.useLayoutEffect(t)}function m4(){let{isDataRoute:t}=Q.useContext(Wl);return t?A4():g4()}function g4(){$m()||bt(!1);let t=Q.useContext(Mb),{basename:e,future:n,navigator:r}=Q.useContext(Nm),{matches:i}=Q.useContext(Wl),{pathname:s}=Vm(),o=JSON.stringify(a4(i,n.v7_relativeSplatPath)),a=Q.useRef(!1);return rR(()=>{a.current=!0}),Q.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=l4(c,JSON.parse(o),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Io([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,s,t])}function y4(t,e){return v4(t,e)}function v4(t,e,n,r){$m()||bt(!1);let{navigator:i}=Q.useContext(Nm),{matches:s}=Q.useContext(Wl),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=Vm(),d;if(e){var h;let b=typeof e=="string"?Hl(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||bt(!1),d=b}else d=c;let f=d.pathname||"/",m=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let y=zM(t,{pathname:m}),w=T4(y&&y.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:Io([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Io([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,n,r);return e&&w?Q.createElement(Lm.Provider,{value:{location:qu({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:ls.Pop}},w):w}function _4(){let t=k4(),e=h4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return Q.createElement(Q.Fragment,null,Q.createElement("h2",null,"Unexpected Application Error!"),Q.createElement("h3",{style:{fontStyle:"italic"}},e),n?Q.createElement("pre",{style:i},n):null,null)}const w4=Q.createElement(_4,null);class b4 extends Q.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?Q.createElement(Wl.Provider,{value:this.props.routeContext},Q.createElement(nR.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function E4(t){let{routeContext:e,match:n,children:r}=t,i=Q.useContext(Mb);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),Q.createElement(Wl.Provider,{value:e},r)}function T4(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||bt(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:m}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!m||m[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let m,y=!1,w=null,b=null;n&&(m=a&&h.route.id?a[h.route.id]:void 0,w=h.route.errorElement||w4,l&&(c<0&&f===0?(C4("route-fallback"),y=!0,b=null):c===f&&(y=!0,b=h.route.hydrateFallbackElement||null)));let T=e.concat(o.slice(0,f+1)),E=()=>{let I;return m?I=w:y?I=b:h.route.Component?I=Q.createElement(h.route.Component,null):h.route.element?I=h.route.element:I=d,Q.createElement(E4,{match:h,routeContext:{outlet:d,matches:T,isDataRoute:n!=null},children:I})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?Q.createElement(b4,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:E(),routeContext:{outlet:null,matches:T,isDataRoute:!0}}):E()},null)}var iR=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(iR||{}),sR=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(sR||{});function I4(t){let e=Q.useContext(Mb);return e||bt(!1),e}function S4(t){let e=Q.useContext(p4);return e||bt(!1),e}function x4(t){let e=Q.useContext(Wl);return e||bt(!1),e}function oR(t){let e=x4(),n=e.matches[e.matches.length-1];return n.route.id||bt(!1),n.route.id}function k4(){var t;let e=Q.useContext(nR),n=S4(),r=oR();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function A4(){let{router:t}=I4(iR.UseNavigateStable),e=oR(sR.UseNavigateStable),n=Q.useRef(!1);return rR(()=>{n.current=!0}),Q.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,qu({fromRouteId:e},s)))},[t,e])}const YI={};function C4(t,e,n){YI[t]||(YI[t]=!0)}function R4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function aR(t){bt(!1)}function P4(t){let{basename:e="/",children:n=null,location:r,navigationType:i=ls.Pop,navigator:s,static:o=!1,future:a}=t;$m()&&bt(!1);let l=e.replace(/^\/*/,"/"),c=Q.useMemo(()=>({basename:l,navigator:s,static:o,future:qu({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof r=="string"&&(r=Hl(r));let{pathname:d="/",search:h="",hash:f="",state:m=null,key:y="default"}=r,w=Q.useMemo(()=>{let b=eR(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:m,key:y},navigationType:i}},[l,d,h,f,m,y,i]);return w==null?null:Q.createElement(Nm.Provider,{value:c},Q.createElement(Lm.Provider,{children:n,value:w}))}function O4(t){let{children:e,location:n}=t;return y4(p_(e),n)}new Promise(()=>{});function p_(t,e){e===void 0&&(e=[]);let n=[];return Q.Children.forEach(t,(r,i)=>{if(!Q.isValidElement(r))return;let s=[...e,i];if(r.type===Q.Fragment){n.push.apply(n,p_(r.props.children,s));return}r.type!==aR&&bt(!1),!r.props.index||!r.props.children||bt(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=p_(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const D4="6";try{window.__reactRouterVersion=D4}catch{}const N4="startTransition",JI=k$[N4];function L4(t){let{basename:e,children:n,future:r,window:i}=t,s=Q.useRef();s.current==null&&(s.current=FM({window:i,v5Compat:!0}));let o=s.current,[a,l]=Q.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=Q.useCallback(h=>{c&&JI?JI(()=>l(h)):l(h)},[l,c]);return Q.useLayoutEffect(()=>o.listen(d),[o,d]),Q.useEffect(()=>R4(r),[r]),Q.createElement(P4,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}var ZI;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(ZI||(ZI={}));var eS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(eS||(eS={}));const $4="modulepreload",V4=function(t){return"/"+t},tS={},Wn=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=V4(l),l in tS)return;tS[l]=!0;const c=l.endsWith(".css"),d=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=c?"stylesheet":$4,c||(h.as="script"),h.crossOrigin="",h.href=l,a&&h.setAttribute("nonce",a),document.head.appendChild(h),c)return new Promise((f,m)=>{h.addEventListener("load",f),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};var ut={allRenderFn:!1,element:!0,event:!0,hasRenderFn:!0,hostListener:!0,hostListenerTargetWindow:!0,hostListenerTargetDocument:!0,hostListenerTargetBody:!0,hostListenerTargetParent:!1,hostListenerTarget:!0,member:!0,method:!0,mode:!0,observeAttribute:!0,prop:!0,propMutable:!0,reflect:!0,scoped:!0,shadowDom:!0,slot:!0,cssAnnotations:!0,state:!0,style:!0,formAssociated:!1,svg:!0,updatable:!0,vdomAttribute:!0,vdomXlink:!0,vdomClass:!0,vdomFunctional:!0,vdomKey:!0,vdomListener:!0,vdomRef:!0,vdomPropOrAttr:!0,vdomRender:!0,vdomStyle:!0,vdomText:!0,propChangeCallback:!0,taskQueue:!0,hotModuleReplacement:!1,isDebug:!1,isDev:!1,isTesting:!1,hydrateServerSide:!1,hydrateClientSide:!1,lifecycleDOMEvents:!1,lazyLoad:!1,profile:!1,slotRelocation:!0,appendChildSlotFix:!1,cloneNodeFix:!1,hydratedAttribute:!1,hydratedClass:!0,scriptDataOpts:!1,scopedSlotTextContentFix:!1,shadowDomShim:!1,slotChildNodesFix:!1,invisiblePrehydration:!0,propBoolean:!0,propNumber:!0,propString:!0,constructableCSS:!0,devTools:!1,shadowDelegatesFocus:!0,initializeNextTick:!1,asyncLoading:!0,asyncQueue:!1,transformTagName:!1,attachStyles:!0,experimentalSlotFixes:!1},M4="app",F4=Object.defineProperty,B4=(t,e)=>{for(var n in e)F4(t,n,{get:e[n],enumerable:!0})},U4={isBrowser:!0},z4="http://www.w3.org/2000/svg",j4="http://www.w3.org/1999/xhtml",q4=(t,e)=>{var n;const r=e.$cmpMeta$;Object.entries((n=r.$members$)!=null?n:{}).map(([s,[o]])=>{if(o&31||o&32){const a=t[s],l=H4(Object.getPrototypeOf(t),s)||Object.getOwnPropertyDescriptor(t,s);l&&Object.defineProperty(t,s,{get(){return l.get.call(this)},set(c){l.set.call(this,c)},configurable:!0,enumerable:!0}),t[s]=e.$instanceValues$.has(s)?e.$instanceValues$.get(s):a}})};function H4(t,e){for(;t;){const n=Object.getOwnPropertyDescriptor(t,e);if(n!=null&&n.get)return n;t=Object.getPrototypeOf(t)}}var vi=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},W4=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map,$serializerValues$:new Map};n.$onReadyPromise$=new Promise(i=>n.$onReadyResolve$=i),t["s-p"]=[],t["s-rc"]=[];const r=n;return t.__stencil__getHostRef=()=>r,ut.modernPropertyDecls&&ut.state&&q4(t,n),r},nS=(t,e)=>e in t,Id=(t,e)=>(0,console.error)(t,e),Ep=new Map,G4=[],K4="slot-fb{display:contents}slot-fb[hidden]{display:none}",rS="http://www.w3.org/1999/xlink",rt=typeof window<"u"?window:{},en=rt.HTMLElement||class{},Ut={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},Q4=(()=>{var t;let e=!1;try{(t=rt.document)==null||t.addEventListener("e",null,Object.defineProperty({},"passive",{get(){e=!0}}))}catch{}return e})(),X4=t=>Promise.resolve(t),Fb=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),m_=Fb?!!rt.document&&Object.getOwnPropertyDescriptor(rt.document.adoptedStyleSheets,"length").writable:!1,g_=!1,y_=[],lR=[],cR=(t,e)=>n=>{t.push(n),g_||(g_=!0,e&&Ut.$flags$&4?Bb(v_):Ut.raf(v_))},iS=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Id(n)}t.length=0},v_=()=>{iS(y_),iS(lR),(g_=y_.length>0)&&Ut.raf(v_)},Bb=t=>X4().then(t),__=cR(y_,!1),Ub=cR(lR,!0),Y4=t=>{const e=new URL(t,Ut.$resourcesUrl$);return e.origin!==rt.location.origin?e.href:e.pathname},J4=t=>t!=null&&t!==void 0,zb=t=>(t=typeof t,t==="object"||t==="function");function Z4(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var eF=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),tF={};B4(tF,{err:()=>uR,map:()=>nF,ok:()=>w_,unwrap:()=>rF,unwrapErr:()=>iF});var w_=t=>({isOk:!0,isErr:!1,value:t}),uR=t=>({isOk:!1,isErr:!0,value:t});function nF(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>w_(r)):w_(n)}if(t.isErr){const n=t.value;return uR(n)}throw"should never get here"}var rF=t=>{if(t.isOk)return t.value;throw t.value},iF=t=>{if(t.isErr)return t.value;throw t.value};var Vc;function sF(t){var e;const n=this.attachShadow({mode:"open",delegatesFocus:!!(t.$flags$&16)});Vc===void 0&&(Vc=(e=void 0)!=null?e:null),Vc&&(m_?n.adoptedStyleSheets.push(Vc):n.adoptedStyleSheets=[...n.adoptedStyleSheets,Vc])}var dR=t=>{const e=oS(t,"childNodes");t.tagName&&t.tagName.includes("-")&&t["s-cr"]&&t.tagName!=="SLOT-FB"&&hR(e,t.tagName).forEach(r=>{r.nodeType===1&&r.tagName==="SLOT-FB"&&(aF(r,jb(r),!1).length?r.hidden=!0:r.hidden=!1)});let n=0;for(n=0;n<e.length;n++){const r=e[n];r.nodeType===1&&oS(r,"childNodes").length&&dR(r)}},oF=t=>{const e=[];for(let n=0;n<t.length;n++){const r=t[n]["s-nr"]||void 0;r&&r.isConnected&&e.push(r)}return e};function hR(t,e,n){let r=0,i=[],s;for(;r<t.length;r++)s=t[r],s["s-sr"]&&(!e||s["s-hn"]===e)&&n===void 0&&i.push(s),i=[...i,...hR(s.childNodes,e,n)];return i}var aF=(t,e,n=!0)=>{const r=[];(n&&t["s-sr"]||!t["s-sr"])&&r.push(t);let i=t;for(;i=i.nextSibling;)jb(i)===e&&(n||!i["s-sr"])&&r.push(i);return r},sS=(t,e)=>t.nodeType===1?t.getAttribute("slot")===null&&e===""||t.getAttribute("slot")===e:t["s-sn"]===e?!0:e==="",jb=t=>typeof t["s-sn"]=="string"?t["s-sn"]:t.nodeType===1&&t.getAttribute("slot")||void 0;function lF(t){if(t.assignedElements||t.assignedNodes||!t["s-sr"])return;const e=n=>(function(r){const i=[],s=this["s-sn"];r!=null&&r.flatten&&console.error(`
          Flattening is not supported for Stencil non-shadow slots.
          You can use \`.childNodes\` to nested slot fallback content.
          If you have a particular use case, please open an issue on the Stencil repo.
        `);const o=this["s-cr"].parentElement;return(o.__childNodes?o.childNodes:oF(o.childNodes)).forEach(l=>{s===jb(l)&&i.push(l)}),n?i.filter(l=>l.nodeType===1):i}).bind(t);t.assignedElements=e(!0),t.assignedNodes=e(!1)}function oS(t,e){if("__"+e in t){const n=t["__"+e];return typeof n!="function"?n:n.bind(t)}else return typeof t[e]!="function"?t[e]:t[e].bind(t)}var Lo=(t,e="")=>()=>{},ja=new WeakMap,cF=(t,e,n)=>{let r=Ep.get(t);Fb&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Ep.set(t,r)},uF=(t,e,n)=>{var r;const i=fR(e,n),s=Ep.get(i);if(!rt.document)return i;if(t=t.nodeType===11?t:rt.document,s)if(typeof s=="string"){t=t.head||t;let o=ja.get(t),a;if(o||ja.set(t,o=new Set),!o.has(i)){{a=rt.document.createElement("style"),a.innerHTML=s;const l=(r=Ut.$nonce$)!=null?r:Z4(rt.document);if(l!=null&&a.setAttribute("nonce",l),!(e.$flags$&1))if(t.nodeName==="HEAD"){const c=t.querySelectorAll("link[rel=preconnect]"),d=c.length>0?c[c.length-1].nextSibling:t.querySelector("style");t.insertBefore(a,(d==null?void 0:d.parentNode)===t?d:null)}else if("host"in t)if(Fb){const c=new CSSStyleSheet;c.replaceSync(s),m_?t.adoptedStyleSheets.unshift(c):t.adoptedStyleSheets=[c,...t.adoptedStyleSheets]}else{const c=t.querySelector("style");c?c.innerHTML=s+c.innerHTML:t.prepend(a)}else t.append(a);e.$flags$&1&&t.insertBefore(a,null)}e.$flags$&4&&(a.innerHTML+=K4),o&&o.add(i)}}else t.adoptedStyleSheets.includes(s)||(m_?t.adoptedStyleSheets.push(s):t.adoptedStyleSheets=[...t.adoptedStyleSheets,s]);return i},dF=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=Lo("attachStyles",e.$tagName$),s=uF(n.shadowRoot?n.shadowRoot:n.getRootNode(),e,t.$modeName$);r&10&&(n["s-sc"]=s,n.classList.add(s+"-h")),i()},fR=(t,e)=>"sc-"+(e&&t.$flags$&32?t.$tagName$+"-"+e:t.$tagName$),re=(t,e,...n)=>{let r=null,i=null,s=null,o=!1,a=!1;const l=[],c=h=>{for(let f=0;f<h.length;f++)r=h[f],Array.isArray(r)?c(r):r!=null&&typeof r!="boolean"&&((o=typeof t!="function"&&!zb(r))&&(r=String(r)),o&&a?l[l.length-1].$text$+=r:l.push(o?Tp(null,r):r),a=o)};if(c(n),e){e.key&&(i=e.key),e.name&&(s=e.name);{const h=e.className||e.class;h&&(e.class=typeof h!="object"?h:Object.keys(h).filter(f=>h[f]).join(" "))}}if(typeof t=="function")return t(e===null?{}:e,l,fF);const d=Tp(t,null);return d.$attrs$=e,l.length>0&&(d.$children$=l),d.$key$=i,d.$name$=s,d},Tp=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n.$name$=null,n},mn={},hF=t=>t&&t.$tag$===mn,fF={forEach:(t,e)=>t.map(aS).forEach(e),map:(t,e)=>t.map(aS).map(e).map(pF)},aS=t=>({vattrs:t.$attrs$,vchildren:t.$children$,vkey:t.$key$,vname:t.$name$,vtag:t.$tag$,vtext:t.$text$}),pF=t=>{if(typeof t.vtag=="function"){const n={...t.vattrs};return t.vkey&&(n.key=t.vkey),t.vname&&(n.name=t.vname),re(t.vtag,n,...t.vchildren||[])}const e=Tp(t.vtag,t.vtext);return e.$attrs$=t.vattrs,e.$children$=t.vchildren,e.$key$=t.vkey,e.$name$=t.vname,e},qb=t=>{const e=eF(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};qb("::slotted");qb(":host");qb(":host-context");var mF=t=>G4.map(e=>e(t)).find(e=>!!e),gF=t=>{var e;return(e=vi(t))==null?void 0:e.$modeName$},pR=(t,e,n)=>t!=null&&!zb(t)?e&4?t==="false"?!1:t===""||!!t:e&2?typeof t=="string"?parseFloat(t):typeof t=="number"?t:NaN:e&1?String(t):t:t,yF=t=>t,it=(t,e,n)=>{const r=yF(t);return{emit:i=>mR(r,e,{bubbles:!!(n&4),composed:!!(n&2),cancelable:!!(n&1),detail:i})}},mR=(t,e,n)=>{const r=Ut.ce(e,n);return t.dispatchEvent(r),r},lS=(t,e,n,r,i,s,o)=>{if(n===r)return;let a=nS(t,e),l=e.toLowerCase();if(e==="class"){const c=t.classList,d=cS(n);let h=cS(r);c.remove(...d.filter(f=>f&&!h.includes(f))),c.add(...h.filter(f=>f&&!d.includes(f)))}else if(e==="style"){for(const c in n)(!r||r[c]==null)&&(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in r)(!n||r[c]!==n[c])&&(c.includes("-")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):nS(rt,l)?e=l.slice(2):e=l[2]+e.slice(3),n||r){const c=e.endsWith(gR);e=e.replace(_F,""),n&&Ut.rel(t,e,n,c),r&&Ut.ael(t,e,r,c)}}else{const c=zb(r);if((a||c&&r!==null)&&!i)try{if(t.tagName.includes("-"))t[e]!==r&&(t[e]=r);else{const h=r??"";e==="list"?a=!1:(n==null||t[e]!=h)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=h:t.setAttribute(e,h))}}catch{}let d=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(e=l,d=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(d?t.removeAttributeNS(rS,e):t.removeAttribute(e)):(!a||s&4||i)&&!c&&t.nodeType===1&&(r=r===!0?"":r,d?t.setAttributeNS(rS,e,r):t.setAttribute(e,r))}},vF=/\s/,cS=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(vF)),gR="Capture",_F=new RegExp(gR+"$"),b_=(t,e,n,r)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=t&&t.$attrs$||{},o=e.$attrs$||{};for(const a of uS(Object.keys(s)))a in o||lS(i,a,s[a],void 0,n,e.$flags$);for(const a of uS(Object.keys(o)))lS(i,a,s[a],o[a],n,e.$flags$)};function uS(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var If,Ip,Hu,E_=!1,Sp=!1,Hb=!1,yn=!1,xp=(t,e,n)=>{var r;const i=e.$children$[n];let s=0,o,a,l;if(E_||(Hb=!0,i.$tag$==="slot"&&(i.$flags$|=i.$children$?2:1)),i.$text$!==null)o=i.$elm$=rt.document.createTextNode(i.$text$);else if(i.$flags$&1)o=i.$elm$=rt.document.createTextNode(""),b_(null,i,yn);else{if(yn||(yn=i.$tag$==="svg"),!rt.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(o=i.$elm$=rt.document.createElementNS(yn?z4:j4,!E_&&ut.slotRelocation&&i.$flags$&2?"slot-fb":i.$tag$),yn&&i.$tag$==="foreignObject"&&(yn=!1),b_(null,i,yn),J4(If)&&o["s-si"]!==If&&o.classList.add(o["s-si"]=If),i.$children$)for(s=0;s<i.$children$.length;++s)a=xp(t,i,s),a&&o.appendChild(a);i.$tag$==="svg"?yn=!1:o.tagName==="foreignObject"&&(yn=!0)}return o["s-hn"]=Hu,i.$flags$&3&&(o["s-sr"]=!0,o["s-cr"]=Ip,o["s-sn"]=i.$name$||"",o["s-rf"]=(r=i.$attrs$)==null?void 0:r.ref,lF(o),l=t&&t.$children$&&t.$children$[n],l&&l.$tag$===i.$tag$&&t.$elm$&&Wu(t.$elm$,!1),bR(Ip,o,e.$elm$,t==null?void 0:t.$elm$)),o},Wu=(t,e)=>{Ut.$flags$|=1;const n=Array.from(t.__childNodes||t.childNodes);t["s-sr"]&&ut.experimentalSlotFixes;for(let r=n.length-1;r>=0;r--){const i=n[r];i["s-hn"]!==Hu&&i["s-ol"]&&(_s(Gu(i).parentNode,i,Gu(i)),i["s-ol"].remove(),i["s-ol"]=void 0,i["s-sh"]=void 0,Hb=!0),e&&Wu(i,e)}Ut.$flags$&=-2},yR=(t,e,n,r,i,s)=>{let o=t["s-cr"]&&t["s-cr"].parentNode||t,a;for(o.shadowRoot&&o.tagName===Hu&&(o=o.shadowRoot);i<=s;++i)r[i]&&(a=xp(null,n,i),a&&(r[i].$elm$=a,_s(o,a,Gu(e))))},vR=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const s=i.$elm$;wR(i),s&&(Sp=!0,s["s-ol"]?s["s-ol"].remove():Wu(s,!0),s.remove())}}},wF=(t,e,n,r,i=!1)=>{let s=0,o=0,a=0,l=0,c=e.length-1,d=e[0],h=e[c],f=r.length-1,m=r[0],y=r[f],w,b;for(;s<=c&&o<=f;)if(d==null)d=e[++s];else if(h==null)h=e[--c];else if(m==null)m=r[++o];else if(y==null)y=r[--f];else if(Bh(d,m,i))Ta(d,m,i),d=e[++s],m=r[++o];else if(Bh(h,y,i))Ta(h,y,i),h=e[--c],y=r[--f];else if(Bh(d,y,i))(d.$tag$==="slot"||y.$tag$==="slot")&&Wu(d.$elm$.parentNode,!1),Ta(d,y,i),_s(t,d.$elm$,h.$elm$.nextSibling),d=e[++s],y=r[--f];else if(Bh(h,m,i))(d.$tag$==="slot"||y.$tag$==="slot")&&Wu(h.$elm$.parentNode,!1),Ta(h,m,i),_s(t,h.$elm$,d.$elm$),h=e[--c],m=r[++o];else{for(a=-1,l=s;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===m.$key$){a=l;break}a>=0?(b=e[a],b.$tag$!==m.$tag$?w=xp(e&&e[o],n,a):(Ta(b,m,i),e[a]=void 0,w=b.$elm$),m=r[++o]):(w=xp(e&&e[o],n,o),m=r[++o]),w&&_s(Gu(d.$elm$).parentNode,w,Gu(d.$elm$))}s>c?yR(t,r[f+1]==null?null:r[f+1].$elm$,n,r,o,f):o>f&&vR(e,s,c)},Bh=(t,e,n=!1)=>t.$tag$===e.$tag$?t.$tag$==="slot"?t.$name$===e.$name$:n?(n&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,Gu=t=>t&&t["s-ol"]||t,Ta=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,s=e.$children$,o=e.$tag$,a=e.$text$;let l;a===null?(yn=o==="svg"?!0:o==="foreignObject"?!1:yn,b_(t,e,yn),i!==null&&s!==null?wF(r,i,e,s,n):s!==null?(t.$text$!==null&&(r.textContent=""),yR(r,null,e,s,0,s.length-1)):!n&&ut.updatable&&i!==null&&vR(i,0,i.length-1),yn&&o==="svg"&&(yn=!1)):(l=r["s-cr"])?l.parentNode.textContent=a:t.$text$!==a&&(r.data=a)},ni=[],_R=t=>{let e,n,r;const i=t.__childNodes||t.childNodes;for(const s of i){if(s["s-sr"]&&(e=s["s-cr"])&&e.parentNode){n=e.parentNode.__childNodes||e.parentNode.childNodes;const o=s["s-sn"];for(r=n.length-1;r>=0;r--)if(e=n[r],!e["s-cn"]&&!e["s-nr"]&&e["s-hn"]!==s["s-hn"])if(sS(e,o)){let a=ni.find(l=>l.$nodeToRelocate$===e);Sp=!0,e["s-sn"]=e["s-sn"]||o,a?(a.$nodeToRelocate$["s-sh"]=s["s-hn"],a.$slotRefNode$=s):(e["s-sh"]=s["s-hn"],ni.push({$slotRefNode$:s,$nodeToRelocate$:e})),e["s-sr"]&&ni.map(l=>{sS(l.$nodeToRelocate$,e["s-sn"])&&(a=ni.find(c=>c.$nodeToRelocate$===e),a&&!l.$slotRefNode$&&(l.$slotRefNode$=a.$slotRefNode$))})}else ni.some(a=>a.$nodeToRelocate$===e)||ni.push({$nodeToRelocate$:e})}s.nodeType===1&&_R(s)}},wR=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(wR)},_s=(t,e,n)=>(typeof e["s-sn"]=="string"&&e["s-sr"]&&e["s-cr"]&&bR(e["s-cr"],e,t,e.parentElement),t==null?void 0:t.insertBefore(e,n));function bR(t,e,n,r){var i,s;let o;if(t&&typeof e["s-sn"]=="string"&&e["s-sr"]&&t.parentNode&&t.parentNode["s-sc"]&&(o=e["s-si"]||t.parentNode["s-sc"])){const a=e["s-sn"],l=e["s-hn"];if((i=n.classList)==null||i.add(o+"-s"),r&&((s=r.classList)!=null&&s.contains(o+"-s"))){let c=(r.__childNodes||r.childNodes)[0],d=!1;for(;c;){if(c["s-sn"]!==a&&c["s-hn"]===l&&c["s-sr"]){d=!0;break}c=c.nextSibling}d||r.classList.remove(o+"-s")}}}var bF=(t,e,n=!1)=>{var r,i,s,o,a;const l=t.$hostElement$,c=t.$cmpMeta$,d=t.$vnode$||Tp(null,null),f=hF(e)?e:re(null,null,e);if(Hu=l.tagName,c.$attrsToReflect$&&(f.$attrs$=f.$attrs$||{},c.$attrsToReflect$.forEach(([m,y])=>{ut.serializer&&t.$serializerValues$.has(m)?f.$attrs$[y]=t.$serializerValues$.get(m):f.$attrs$[y]=l[m]})),n&&f.$attrs$)for(const m of Object.keys(f.$attrs$))l.hasAttribute(m)&&!["key","ref","style","class"].includes(m)&&(f.$attrs$[m]=l[m]);f.$tag$=null,f.$flags$|=4,t.$vnode$=f,f.$elm$=d.$elm$=l.shadowRoot||l,If=l["s-sc"],E_=!!(c.$flags$&1)&&!(c.$flags$&128),Ip=l["s-cr"],Sp=!1,Ta(d,f,n);{if(Ut.$flags$|=1,Hb){_R(f.$elm$);for(const m of ni){const y=m.$nodeToRelocate$;if(!y["s-ol"]&&rt.document){const w=rt.document.createTextNode("");w["s-nr"]=y,_s(y.parentNode,y["s-ol"]=w,y)}}for(const m of ni){const y=m.$nodeToRelocate$,w=m.$slotRefNode$;if(w){const b=w.parentNode;let T=w.nextSibling;{let R=(r=y["s-ol"])==null?void 0:r.previousSibling;for(;R;){let D=(i=R["s-nr"])!=null?i:null;if(D&&D["s-sn"]===y["s-sn"]&&b===(D.__parentNode||D.parentNode)){for(D=D.nextSibling;D===y||D!=null&&D["s-sr"];)D=D==null?void 0:D.nextSibling;if(!D||!D["s-nr"]){T=D;break}}R=R.previousSibling}}const E=y.__parentNode||y.parentNode,I=y.__nextSibling||y.nextSibling;(!T&&b!==E||I!==T)&&y!==T&&(!y["s-hn"]&&y["s-ol"]&&(y["s-hn"]=y["s-ol"].parentNode.nodeName),_s(b,y,T),y.nodeType===1&&y.tagName!=="SLOT-FB"&&(y.hidden=(s=y["s-ih"])!=null?s:!1)),y&&typeof w["s-rf"]=="function"&&w["s-rf"](w)}else y.nodeType===1&&(n&&(y["s-ih"]=(o=y.hidden)!=null?o:!1),y.hidden=!0)}}Sp&&dR(f.$elm$),Ut.$flags$&=-2,ni.length=0}if(ut.experimentalScopedSlotChanges&&c.$flags$&2){const m=f.$elm$.__childNodes||f.$elm$.childNodes;for(const y of m)y["s-hn"]!==Hu&&!y["s-sh"]&&(n&&y["s-ih"]==null&&(y["s-ih"]=(a=y.hidden)!=null?a:!1),y.hidden=!0)}Ip=void 0},ER=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const n=e["s-p"].push(new Promise(r=>t.$onRenderResolve$=()=>{e["s-p"].splice(n-1,1),r()}))}},Mm=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}ER(t,t.$ancestorComponent$);const n=()=>EF(t,e);if(e){queueMicrotask(()=>{n()});return}return Ub(n)},EF=(t,e)=>{const n=t.$hostElement$,r=Lo("scheduleUpdate",t.$cmpMeta$.$tagName$),i=n;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return e?s=Za(i,"componentWillLoad",void 0,n):s=Za(i,"componentWillUpdate",void 0,n),s=dS(s,()=>Za(i,"componentWillRender",void 0,n)),r(),dS(s,()=>IF(t,i,e))},dS=(t,e)=>TF(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),TF=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",IF=async(t,e,n)=>{var r;const i=t.$hostElement$,s=Lo("update",t.$cmpMeta$.$tagName$),o=i["s-rc"];n&&dF(t);const a=Lo("render",t.$cmpMeta$.$tagName$);SF(t,e,i,n),o&&(o.map(l=>l()),i["s-rc"]=void 0),a(),s();{const l=(r=i["s-p"])!=null?r:[],c=()=>xF(t);l.length===0?c():(Promise.all(l).then(c),t.$flags$|=4,l.length=0)}},hS=null,SF=(t,e,n,r)=>{try{hS=e,e=e.render&&e.render(),t.$flags$&=-17,t.$flags$|=2,(ut.hasRenderFn||ut.reflect)&&(ut.vdomRender||ut.reflect)&&(ut.hydrateServerSide||bF(t,e,r))}catch(l){Id(l,t.$hostElement$)}return hS=null,null},xF=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=Lo("postUpdate",e),i=n,s=t.$ancestorComponent$;Za(i,"componentDidRender",void 0,n),t.$flags$&64?(Za(i,"componentDidUpdate",void 0,n),r()):(t.$flags$|=64,AF(n),Za(i,"componentDidLoad",void 0,n),r(),t.$onReadyResolve$(n),s||kF()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&Bb(()=>Mm(t,!1)),t.$flags$&=-517},Ja=t=>{var e;{const n=vi(t),r=(e=n==null?void 0:n.$hostElement$)==null?void 0:e.isConnected;return r&&(n.$flags$&18)===2&&Mm(n,!1),r}},kF=t=>{Bb(()=>mR(rt,"appload",{detail:{namespace:M4}}))},Za=(t,e,n,r)=>{if(t&&t[e])try{return t[e](n)}catch(i){Id(i,r)}},AF=t=>{var e;return t.classList.add((e=ut.hydratedSelectorName)!=null?e:"hydrated")},CF=(t,e)=>vi(t).$instanceValues$.get(e),fS=(t,e,n,r)=>{const i=vi(t);if(!i||ut.serializer&&i.$serializerValues$.has(e)&&i.$serializerValues$.get(e)===n)return;const s=t,o=i.$instanceValues$.get(e),a=i.$flags$,l=s;n=pR(n,r.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!c){if(i.$instanceValues$.set(e,n),ut.serializer&&ut.reflect&&r.$attrsToReflect$&&l&&r.$serializers$&&r.$serializers$[e]){let h=n;for(const f of r.$serializers$[e])h=l[f](h,e);i.$serializerValues$.set(e,h)}{if(r.$watchers$&&a&128){const h=r.$watchers$[e];h&&h.map(f=>{try{l[f](n,o,e)}catch(m){Id(m,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,o,e)===!1)return;Mm(i,!1)}}}},RF=(t,e,n)=>{var r,i;const s=t.prototype;if(e.$members$||ut.propChangeCallback){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers),t.deserializers&&!e.$deserializers$&&(e.$deserializers$=t.deserializers),t.serializers&&!e.$serializers$&&(e.$serializers$=t.serializers);const o=Object.entries((r=e.$members$)!=null?r:{});o.map(([a,[l]])=>{if(l&31||l&32){const{get:c,set:d}=Object.getOwnPropertyDescriptor(s,a)||{};c&&(e.$members$[a][0]|=2048),d&&(e.$members$[a][0]|=4096),Object.defineProperty(s,a,{get(){return c?c.apply(this):CF(this,a)},configurable:!0,enumerable:!0}),Object.defineProperty(s,a,{set(h){const f=vi(this);if(f){if(d){typeof(l&32?this[a]:f.$hostElement$[a])>"u"&&f.$instanceValues$.get(a)&&(h=f.$instanceValues$.get(a)),d.apply(this,[pR(h,l)]),h=l&32?this[a]:f.$hostElement$[a],fS(this,a,h,e);return}{fS(this,a,h,e);return}}}})}});{const a=new Map;s.attributeChangedCallback=function(l,c,d){Ut.jmp(()=>{var h;const f=a.get(l),m=vi(this);if(ut.serializer&&m.$serializerValues$.has(f)&&m.$serializerValues$.get(f)===d)return;if(this.hasOwnProperty(f)&&ut.lazyLoad,ut.deserializer&&e.$deserializers$&&e.$deserializers$[f]){const w=(b,T)=>{const E=T==null?void 0:T[b](d,f);E!==this[f]&&(this[f]=E)};for(const b of e.$deserializers$[f])w(b,this);return}else{if(s.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==d)return;if(f==null){const w=m==null?void 0:m.$flags$;if(m&&w&&!(w&8)&&w&128&&d!==c){const T=this,E=(h=e.$watchers$)==null?void 0:h[l];E==null||E.forEach(I=>{T[I]!=null&&T[I].call(T,d,c,l)})}return}}const y=Object.getOwnPropertyDescriptor(s,f);d=d===null&&typeof this[f]=="boolean"?!1:d,d!=this[f]&&(!y.get||y.set)&&(this[f]=d)})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter(([l,c])=>c[0]&31).map(([l,c])=>{var d;const h=c[1]||l;return a.set(h,l),c[0]&512&&((d=e.$attrsToReflect$)==null||d.push([l,h])),h})]))}}return t},PF=async(t,e,n,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32,n.$lazyBundleId$;{i=t.constructor;const a=t.localName;customElements.whenDefined(a).then(()=>e.$flags$|=128)}if(i&&i.style){let a;typeof i.style=="string"?a=i.style:typeof i.style!="string"&&(e.$modeName$=mF(t),e.$modeName$&&(a=i.style[e.$modeName$]));const l=fR(n,e.$modeName$);if(!Ep.has(l)){const c=Lo("registerStyles",n.$tagName$);cF(l,a,!!(n.$flags$&1)),c()}}}const s=e.$ancestorComponent$,o=()=>Mm(e,!0);s&&s["s-rc"]?s["s-rc"].push(o):o()},pS=(t,e)=>{},OF=t=>{if(!(Ut.$flags$&1)){const e=vi(t);if(!e)return;const n=e.$cmpMeta$,r=Lo("connectedCallback",n.$tagName$);if(e.$flags$&1)TR(t,e,n.$listeners$),e!=null&&e.$lazyInstance$?pS(e.$lazyInstance$):e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>pS(e.$lazyInstance$));else{e.$flags$|=1,n.$flags$&12&&DF(t);{let i=t;for(;i=i.parentNode||i.host;)if(i["s-p"]){ER(e,e.$ancestorComponent$=i);break}}n.$members$&&Object.entries(n.$members$).map(([i,[s]])=>{if(s&31&&i in t&&t[i]!==Object.prototype[i]){const o=t[i];delete t[i],t[i]=o}}),PF(t,e,n)}r()}},DF=t=>{if(!rt.document)return;const e=t["s-cr"]=rt.document.createComment("");e["s-cn"]=!0,_s(t,e,t.firstChild)},NF=async t=>{if(!(Ut.$flags$&1)){const e=vi(t);e!=null&&e.$rmListeners$&&(e.$rmListeners$.map(n=>n()),e.$rmListeners$=void 0)}ja.has(t)&&ja.delete(t),t.shadowRoot&&ja.has(t.shadowRoot)&&ja.delete(t.shadowRoot)},tn=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$listeners$=e[3],n.$watchers$=t.$watchers$,n.$deserializers$=t.$deserializers$,n.$serializers$=t.$serializers$,n.$attrsToReflect$=[],!(n.$flags$&1)&&n.$flags$&256;const r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__hasHostListenerAttached:!1,__registerHost(){W4(this,n)},connectedCallback(){if(!this.__hasHostListenerAttached){const s=vi(this);if(!s)return;TR(this,s,n.$listeners$),this.__hasHostListenerAttached=!0}OF(this),r&&r.call(this)},disconnectedCallback(){NF(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)sF.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),t.is=n.$tagName$,RF(t,n)},TR=(t,e,n,r)=>{n&&rt.document&&n.map(([i,s,o])=>{const a=$F(rt.document,t,i),l=LF(e,o),c=VF(i);Ut.ael(a,s,l,c),(e.$rmListeners$=e.$rmListeners$||[]).push(()=>Ut.rel(a,s,l,c))})},LF=(t,e)=>n=>{var r;try{ut.lazyLoad||t.$hostElement$[e](n)}catch(i){Id(i,t.$hostElement$)}},$F=(t,e,n)=>n&4?t:n&8?rt:n&16?t.body:e,VF=t=>Q4?{passive:(t&1)!==0,capture:(t&2)!==0}:(t&2)!==0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */class MF{constructor(){this.m=new Map}reset(e){this.m=new Map(Object.entries(e))}get(e,n){const r=this.m.get(e);return r!==void 0?r:n}getBoolean(e,n=!1){const r=this.m.get(e);return r===void 0?n:typeof r=="string"?r==="true":!!r}getNumber(e,n){const r=parseFloat(this.m.get(e));return isNaN(r)?n!==void 0?n:NaN:r}set(e,n){this.m.set(e,n)}}const He=new MF;var So;(function(t){t.OFF="OFF",t.ERROR="ERROR",t.WARN="WARN"})(So||(So={}));const Wb=(t,...e)=>{const n=He.get("logLevel",So.WARN);if([So.WARN].includes(n))return console.warn(`[Ionic Warning]: ${t}`,...e)},ea=(t,...e)=>{const n=He.get("logLevel",So.ERROR);if([So.ERROR,So.WARN].includes(n))return console.error(`[Ionic Error]: ${t}`,...e)};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Xe=typeof window<"u"?window:void 0,xy=typeof document<"u"?document:void 0;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let ky;const FF=t=>{if(ky===void 0){const e=t.style.animationName!==void 0,n=t.style.webkitAnimationName!==void 0;ky=!e&&n?"-webkit-":""}return ky},Ay=(t,e,n)=>{const r=e.startsWith("animation")?FF(t):"";t.style.setProperty(r+e,n)},Uh=(t=[],e)=>{if(e!==void 0){const n=Array.isArray(e)?e:[e];return[...t,...n]}return t},BF=t=>{let e,n,r,i,s,o,a=[],l=[],c=[],d=!1,h,f={},m=[],y=[],w={},b=0,T=!1,E=!1,I,R,D,$=!0,x=!1,v=!0,_,k=!1;const P=t,O=[],A=[],H=[],C=[],N=[],j=[],M=[],W=[],G=[],ae=[],ne=[],ue=typeof AnimationEffect=="function"||Xe!==void 0&&typeof Xe.AnimationEffect=="function",de=typeof Element=="function"&&typeof Element.prototype.animate=="function"&&ue,Le=()=>ne,at=z=>(N.forEach(se=>{se.destroy(z)}),lt(z),C.length=0,N.length=0,a.length=0,oa(),d=!1,v=!0,_),lt=z=>{Qr(),z&&$i()},Li=()=>{T=!1,E=!1,v=!0,I=void 0,R=void 0,D=void 0,b=0,x=!1,$=!0,k=!1},dc=()=>b!==0&&!k,Wr=(z,se)=>{const ye=se.findIndex(Qe=>Qe.c===z);ye>-1&&se.splice(ye,1)},Gr=(z,se)=>(H.push({c:z,o:se}),_),Kr=(z,se)=>((se!=null&&se.oneTimeCallback?A:O).push({c:z,o:se}),_),oa=()=>(O.length=0,A.length=0,_),Qr=()=>{de&&(ne.forEach(z=>{z.cancel()}),ne.length=0)},$i=()=>{j.forEach(z=>{z!=null&&z.parentNode&&z.parentNode.removeChild(z)}),j.length=0},Qs=z=>(M.push(z),_),aa=z=>(W.push(z),_),Vi=z=>(G.push(z),_),eh=z=>(ae.push(z),_),hc=z=>(l=Uh(l,z),_),th=z=>(c=Uh(c,z),_),Mg=(z={})=>(f=z,_),fc=(z=[])=>{for(const se of z)f[se]="";return _},pc=z=>(m=Uh(m,z),_),nh=z=>(y=Uh(y,z),_),It=(z={})=>(w=z,_),Ot=(z=[])=>{for(const se of z)w[se]="";return _},Mi=()=>s!==void 0?s:h?h.getFill():"both",Xs=()=>I!==void 0?I:o!==void 0?o:h?h.getDirection():"normal",la=()=>T?"linear":r!==void 0?r:h?h.getEasing():"linear",Fi=()=>E?0:R!==void 0?R:n!==void 0?n:h?h.getDuration():0,Xr=()=>i!==void 0?i:h?h.getIterations():1,ca=()=>D!==void 0?D:e!==void 0?e:h?h.getDelay():0,rh=()=>a,mc=z=>(o=z,xt(!0),_),Fg=z=>(s=z,xt(!0),_),Bg=z=>(e=z,xt(!0),_),gc=z=>(r=z,xt(!0),_),ih=z=>(!de&&z===0&&(z=1),n=z,xt(!0),_),sh=z=>(i=z,xt(!0),_),Ys=z=>(h=z,_),yc=z=>{if(z!=null)if(z.nodeType===1)C.push(z);else if(z.length>=0)for(let se=0;se<z.length;se++)C.push(z[se]);else ea("createAnimation - Invalid addElement value.");return _},vc=z=>{if(z!=null)if(Array.isArray(z))for(const se of z)se.parent(_),N.push(se);else z.parent(_),N.push(z);return _},Yr=z=>{const se=a!==z;return a=z,se&&oh(a),_},oh=z=>{de&&Le().forEach(se=>{const ye=se.effect;if(ye.setKeyframes)ye.setKeyframes(z);else{const Qe=new KeyframeEffect(ye.target,z,ye.getTiming());se.effect=Qe}})},ua=()=>{M.forEach(Qe=>Qe()),W.forEach(Qe=>Qe());const z=l,se=c,ye=f;C.forEach(Qe=>{const pt=Qe.classList;z.forEach(On=>pt.add(On)),se.forEach(On=>pt.remove(On));for(const On in ye)ye.hasOwnProperty(On)&&Ay(Qe,On,ye[On])})},ah=()=>{G.forEach(pt=>pt()),ae.forEach(pt=>pt());const z=$?1:0,se=m,ye=y,Qe=w;C.forEach(pt=>{const On=pt.classList;se.forEach(nr=>On.add(nr)),ye.forEach(nr=>On.remove(nr));for(const nr in Qe)Qe.hasOwnProperty(nr)&&Ay(pt,nr,Qe[nr])}),R=void 0,I=void 0,D=void 0,O.forEach(pt=>pt.c(z,_)),A.forEach(pt=>pt.c(z,_)),A.length=0,v=!0,$&&(x=!0),$=!0},Ir=()=>{b!==0&&(b--,b===0&&(ah(),h&&h.animationFinish()))},lh=()=>{C.forEach(z=>{const se=z.animate(a,{id:P,delay:ca(),duration:Fi(),easing:la(),iterations:Xr(),fill:Mi(),direction:Xs()});se.pause(),ne.push(se)}),ne.length>0&&(ne[0].onfinish=()=>{Ir()})},St=()=>{ua(),a.length>0&&de&&lh(),d=!0},Bi=z=>{z=Math.min(Math.max(z,0),.9999),de&&ne.forEach(se=>{se.currentTime=se.effect.getComputedTiming().delay+Fi()*z,se.pause()})},Ui=z=>{ne.forEach(se=>{se.effect.updateTiming({delay:ca(),duration:Fi(),easing:la(),iterations:Xr(),fill:Mi(),direction:Xs()})}),z!==void 0&&Bi(z)},xt=(z=!1,se=!0,ye)=>(z&&N.forEach(Qe=>{Qe.update(z,se,ye)}),de&&Ui(ye),_),Ug=(z=!1,se)=>(N.forEach(ye=>{ye.progressStart(z,se)}),ch(),T=z,d||St(),xt(!1,!0,se),_),zg=z=>(N.forEach(se=>{se.progressStep(z)}),Bi(z),_),zi=(z,se,ye)=>(T=!1,N.forEach(Qe=>{Qe.progressEnd(z,se,ye)}),ye!==void 0&&(R=ye),x=!1,$=!0,z===0?(I=Xs()==="reverse"?"normal":"reverse",I==="reverse"&&($=!1),de?(xt(),Bi(1-se)):(D=(1-se)*Fi()*-1,xt(!1,!1))):z===1&&(de?(xt(),Bi(se)):(D=se*Fi()*-1,xt(!1,!1))),z!==void 0&&!h&&Js(),_),ch=()=>{d&&(de?ne.forEach(z=>{z.pause()}):C.forEach(z=>{Ay(z,"animation-play-state","paused")}),k=!0)},jg=()=>(N.forEach(z=>{z.pause()}),ch(),_),da=()=>{Ir()},uh=()=>{ne.forEach(z=>{z.play()}),(a.length===0||C.length===0)&&Ir()},_c=()=>{de&&(Bi(0),Ui())},Js=z=>new Promise(se=>{z!=null&&z.sync&&(E=!0,Kr(()=>E=!1,{oneTimeCallback:!0})),d||St(),x&&(_c(),x=!1),v&&(b=N.length+1,v=!1);const ye=()=>{Wr(Qe,A),se()},Qe=()=>{Wr(ye,H),se()};Kr(Qe,{oneTimeCallback:!0}),Gr(ye,{oneTimeCallback:!0}),N.forEach(pt=>{pt.play()}),de?uh():da(),k=!1}),Sr=()=>{N.forEach(z=>{z.stop()}),d&&(Qr(),d=!1),Li(),H.forEach(z=>z.c(0,_)),H.length=0},wc=(z,se)=>{const ye=a[0];return ye!==void 0&&(ye.offset===void 0||ye.offset===0)?ye[z]=se:a=[{offset:0,[z]:se},...a],_};return _={parentAnimation:h,elements:C,childAnimations:N,id:P,animationFinish:Ir,from:wc,to:(z,se)=>{const ye=a[a.length-1];return ye!==void 0&&(ye.offset===void 0||ye.offset===1)?ye[z]=se:a=[...a,{offset:1,[z]:se}],_},fromTo:(z,se,ye)=>wc(z,se).to(z,ye),parent:Ys,play:Js,pause:jg,stop:Sr,destroy:at,keyframes:Yr,addAnimation:vc,addElement:yc,update:xt,fill:Fg,direction:mc,iterations:sh,duration:ih,easing:gc,delay:Bg,getWebAnimations:Le,getKeyframes:rh,getFill:Mi,getDirection:Xs,getDelay:ca,getIterations:Xr,getEasing:la,getDuration:Fi,afterAddRead:Vi,afterAddWrite:eh,afterClearStyles:Ot,afterStyles:It,afterRemoveClass:nh,afterAddClass:pc,beforeAddRead:Qs,beforeAddWrite:aa,beforeClearStyles:fc,beforeStyles:Mg,beforeRemoveClass:th,beforeAddClass:hc,onFinish:Kr,isRunning:dc,progressStart:Ug,progressStep:zg,progressEnd:zi}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ku=(t,e)=>{t.componentOnReady?t.componentOnReady().then(n=>e(n)):xd(()=>e(t))},T_=t=>t.componentOnReady!==void 0,Sd=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},UF=["role","aria-activedescendant","aria-atomic","aria-autocomplete","aria-braillelabel","aria-brailleroledescription","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colindextext","aria-colspan","aria-controls","aria-current","aria-describedby","aria-description","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowindextext","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext"],Gb=(t,e)=>Sd(t,UF),SJ=(t,e,n,r)=>t.addEventListener(e,n,r),xJ=(t,e,n,r)=>t.removeEventListener(e,n,r),xd=t=>typeof __zone_symbol__requestAnimationFrame=="function"?__zone_symbol__requestAnimationFrame(t):typeof requestAnimationFrame=="function"?requestAnimationFrame(t):setTimeout(t),kJ=(t,e,n)=>Math.max(t,Math.min(e,n)),gn=(t,e)=>{if(!t){const n="ASSERT: "+e;ea(n);debugger;throw new Error(n)}},AJ=t=>{if(t){const e=t.changedTouches;if(e&&e.length>0){const n=e[0];return{x:n.clientX,y:n.clientY}}if(t.pageX!==void 0)return{x:t.pageX,y:t.pageY}}return{x:0,y:0}},zF=(t,e)=>{const n=t._original||t;return{_original:t,emit:jF(n.emit.bind(n),e)}},jF=(t,e=0)=>{let n;return(...r)=>{clearTimeout(n),n=setTimeout(t,e,...r)}},IR=(t,e)=>{if(t??(t={}),e??(e={}),t===e)return!0;const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!(r in e)||t[r]!==e[r])return!1;return!0},qF="ionViewWillEnter",HF="ionViewDidEnter",SR="ionViewWillLeave",xR="ionViewDidLeave",Cy="ionViewWillUnload",Mc=t=>{t.tabIndex=-1,t.focus()},zh=t=>t.offsetParent!==null,WF=()=>({saveViewFocus:n=>{if(He.get("focusManagerPriority",!1)){const i=document.activeElement;i!==null&&(n!=null&&n.contains(i))&&i.setAttribute(mS,"true")}},setViewFocus:n=>{const r=He.get("focusManagerPriority",!1);if(Array.isArray(r)&&!n.contains(document.activeElement)){const i=n.querySelector(`[${mS}]`);if(i&&zh(i)){Mc(i);return}for(const s of r)switch(s){case"content":const o=n.querySelector('main, [role="main"]');if(o&&zh(o)){Mc(o);return}break;case"heading":const a=n.querySelector('h1, [role="heading"][aria-level="1"]');if(a&&zh(a)){Mc(a);return}break;case"banner":const l=n.querySelector('header, [role="banner"]');if(l&&zh(l)){Mc(l);return}break;default:Wb(`Unrecognized focus manager priority value ${s}`);break}Mc(n)}}}),mS="ion-last-focus",GF=()=>Wn(()=>import("./ios.transition-Bx2ugSSI.js"),[]),KF=()=>Wn(()=>import("./md.transition-CRxqwISa.js"),[]),kR=WF(),AR=t=>new Promise((e,n)=>{Ub(()=>{const r=r6(t);QF(t,r),XF(t).then(i=>{i.animation&&i.animation.destroy(),gS(t),e(i)},i=>{gS(t),n(i)}).finally(()=>{OR(r,!1)})})}),QF=(t,e)=>{const n=t.enteringEl,r=t.leavingEl;kR.saveViewFocus(r),n6(n,r,t.direction),OR(e,!0),t.showGoBack?n.classList.add("can-go-back"):n.classList.remove("can-go-back"),S_(n,!1),n.style.setProperty("pointer-events","none"),r&&(S_(r,!1),r.style.setProperty("pointer-events","none"))},XF=async t=>{const e=await YF(t);return e&&U4.isBrowser?JF(e,t):ZF(t)},gS=t=>{const e=t.enteringEl,n=t.leavingEl;e.classList.remove("ion-page-invisible"),e.style.removeProperty("pointer-events"),n!==void 0&&(n.classList.remove("ion-page-invisible"),n.style.removeProperty("pointer-events")),kR.setViewFocus(e)},YF=async t=>!t.leavingEl||!t.animated||t.duration===0?void 0:t.animationBuilder?t.animationBuilder:t.mode==="ios"?(await GF()).iosTransitionAnimation:(await KF()).mdTransitionAnimation,JF=async(t,e)=>{await CR(e,!0);const n=t(e.baseEl,e);RR(e.enteringEl,e.leavingEl);const r=await t6(n,e);return e.progressCallback&&e.progressCallback(void 0),r&&PR(e.enteringEl,e.leavingEl),{hasCompleted:r,animation:n}},ZF=async t=>{const e=t.enteringEl,n=t.leavingEl,r=He.get("focusManagerPriority",!1);return await CR(t,r),RR(e,n),PR(e,n),{hasCompleted:!0}},CR=async(t,e)=>{(t.deepWait!==void 0?t.deepWait:e)&&await Promise.all([I_(t.enteringEl),I_(t.leavingEl)]),await e6(t.viewIsReady,t.enteringEl)},e6=async(t,e)=>{t&&await t(e)},t6=(t,e)=>{const n=e.progressCallback,r=new Promise(i=>{t.onFinish(s=>i(s===1))});return n?(t.progressStart(!0),n(t)):t.play(),r},RR=(t,e)=>{ii(e,SR),ii(t,qF)},PR=(t,e)=>{ii(t,HF),ii(e,xR)},ii=(t,e)=>{if(t){const n=new CustomEvent(e,{bubbles:!1,cancelable:!1});t.dispatchEvent(n)}},I_=async t=>{const e=t;if(e){if(e.componentOnReady!=null){if(await e.componentOnReady()!=null)return}else if(e.__registerHost!=null){await new Promise(r=>xd(r));return}await Promise.all(Array.from(e.children).map(I_))}},S_=(t,e)=>{e?(t.setAttribute("aria-hidden","true"),t.classList.add("ion-page-hidden")):(t.hidden=!1,t.removeAttribute("aria-hidden"),t.classList.remove("ion-page-hidden"))},n6=(t,e,n)=>{t!==void 0&&(t.style.zIndex=n==="back"?"99":"101"),e!==void 0&&(e.style.zIndex="100")},OR=(t,e)=>{if(!t)return;const n="header-transitioning";e?t.classList.add(n):t.classList.remove(n)},CJ=t=>{if(t.classList.contains("ion-page"))return t;const e=t.querySelector(":scope > .ion-page, :scope > ion-nav, :scope > ion-tabs");return e||t},r6=t=>{const e=t.enteringEl,n=t.leavingEl,r=t.direction;if(t.mode!=="ios")return null;const s=r==="back"?n:e;return s?s.querySelector("ion-header"):null};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const kp=(t,e,n,r,i)=>s6(t[1],e[1],n[1],r[1],i).map(s=>i6(t[0],e[0],n[0],r[0],s)),i6=(t,e,n,r,i)=>{const s=3*e*Math.pow(i-1,2),o=-3*n*i+3*n+r*i,a=t*Math.pow(i-1,3);return i*(s+i*o)-a},s6=(t,e,n,r,i)=>(t-=i,e-=i,n-=i,r-=i,a6(r-3*n+3*e-t,3*n-6*e+3*t,3*e-3*t,t).filter(o=>o>=0&&o<=1)),o6=(t,e,n)=>{const r=e*e-4*t*n;return r<0?[]:[(-e+Math.sqrt(r))/(2*t),(-e-Math.sqrt(r))/(2*t)]},a6=(t,e,n,r)=>{if(t===0)return o6(e,n,r);e/=t,n/=t,r/=t;const i=(3*n-e*e)/3,s=(2*e*e*e-9*e*n+27*r)/27;if(i===0)return[Math.pow(-s,1/3)];if(s===0)return[Math.sqrt(-i),-Math.sqrt(-i)];const o=Math.pow(s/2,2)+Math.pow(i/3,3);if(o===0)return[Math.pow(s/2,1/2)-e/3];if(o>0)return[Math.pow(-(s/2)+Math.sqrt(o),1/3)-Math.pow(s/2+Math.sqrt(o),1/3)-e/3];const a=Math.sqrt(Math.pow(-(i/3),3)),l=Math.acos(-(s/(2*Math.sqrt(Math.pow(-(i/3),3))))),c=2*Math.pow(a,1/3);return[c*Math.cos(l/3)-e/3,c*Math.cos((l+2*Math.PI)/3)-e/3,c*Math.cos((l+4*Math.PI)/3)-e/3]};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const l6=t=>c6(t),yo=(t,e)=>(typeof t=="string"&&(e=t,t=void 0),l6(t).includes(e)),c6=(t=window)=>{if(typeof t>"u")return[];t.Ionic=t.Ionic||{};let e=t.Ionic.platforms;return e==null&&(e=t.Ionic.platforms=u6(t),e.forEach(n=>t.document.documentElement.classList.add(`plt-${n}`))),e},u6=t=>{const e=He.get("platform");return Object.keys(yS).filter(n=>{const r=e==null?void 0:e[n];return typeof r=="function"?r(t):yS[n](t)})},d6=t=>Fm(t)&&!NR(t),Kb=t=>!!($o(t,/iPad/i)||$o(t,/Macintosh/i)&&Fm(t)),h6=t=>$o(t,/iPhone/i),f6=t=>$o(t,/iPhone|iPod/i)||Kb(t),DR=t=>$o(t,/android|sink/i),p6=t=>DR(t)&&!$o(t,/mobile/i),m6=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return r>390&&r<520&&i>620&&i<800},g6=t=>{const e=t.innerWidth,n=t.innerHeight,r=Math.min(e,n),i=Math.max(e,n);return Kb(t)||p6(t)||r>460&&r<820&&i>780&&i<1400},Fm=t=>w6(t,"(any-pointer:coarse)"),y6=t=>!Fm(t),NR=t=>LR(t)||$R(t),LR=t=>!!(t.cordova||t.phonegap||t.PhoneGap),$R=t=>{const e=t.Capacitor;return!!(e!=null&&e.isNative||e!=null&&e.isNativePlatform&&e.isNativePlatform())},v6=t=>$o(t,/electron/i),_6=t=>{var e;return!!(!((e=t.matchMedia)===null||e===void 0)&&e.call(t,"(display-mode: standalone)").matches||t.navigator.standalone)},$o=(t,e)=>e.test(t.navigator.userAgent),w6=(t,e)=>{var n;return(n=t.matchMedia)===null||n===void 0?void 0:n.call(t,e).matches},yS={ipad:Kb,iphone:h6,ios:f6,android:DR,phablet:m6,tablet:g6,cordova:LR,capacitor:$R,electron:v6,pwa:_6,mobile:Fm,mobileweb:d6,desktop:y6,hybrid:NR};let b6;const Pt=t=>t&&gF(t)||b6;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Vo=(t,e)=>e.closest(t)!==null,Gl=(t,e)=>typeof t=="string"&&t.length>0?Object.assign({"ion-color":!0,[`ion-color-${t}`]:!0},e):e,E6=/^[a-z][a-z0-9+\-.]*:/,VR=async(t,e,n,r)=>{if(t!=null&&t[0]!=="#"&&!E6.test(t)){const i=document.querySelector("ion-router");if(i)return e!=null&&e.preventDefault(),i.push(t,n,r)}return!1};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Ap=()=>He.get("experimentalCloseWatcher",!1)&&Xe!==void 0&&"CloseWatcher"in Xe,T6=()=>{document.addEventListener("backbutton",()=>{})},I6=()=>{const t=document;let e=!1;const n=()=>{if(e)return;let r=0,i=[];const s=new CustomEvent("ionBackButton",{bubbles:!1,detail:{register(l,c){i.push({priority:l,handler:c,id:r++})}}});t.dispatchEvent(s);const o=async l=>{try{if(l!=null&&l.handler){const c=l.handler(a);c!=null&&await c}}catch(c){ea("[ion-app] - Exception in startHardwareBackButton:",c)}},a=()=>{if(i.length>0){let l={priority:Number.MIN_SAFE_INTEGER,handler:()=>{},id:-1};i.forEach(c=>{c.priority>=l.priority&&(l=c)}),e=!0,i=i.filter(c=>c.id!==l.id),o(l).then(()=>e=!1)}};a()};if(Ap()){let r;const i=()=>{r==null||r.destroy(),r=new Xe.CloseWatcher,r.onclose=()=>{n(),i()}};i()}else t.addEventListener("backbutton",n)},S6=100,x6=99,k6=Object.freeze(Object.defineProperty({__proto__:null,MENU_BACK_BUTTON_PRIORITY:x6,OVERLAY_BACK_BUTTON_PRIORITY:S6,blockHardwareBackButton:T6,shouldUseCloseWatcher:Ap,startHardwareBackButton:I6},Symbol.toStringTag,{value:"Module"}));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Qb=async(t,e,n,r,i,s)=>{var o;if(t)return t.attachViewToDom(e,n,i,r);if(typeof n!="string"&&!(n instanceof HTMLElement))throw new Error("framework delegate is missing");const a=typeof n=="string"?(o=e.ownerDocument)===null||o===void 0?void 0:o.createElement(n):n;return r&&r.forEach(l=>a.classList.add(l)),i&&Object.assign(a,i),e.appendChild(a),await new Promise(l=>Ku(a,l)),a},A6=(t,e)=>{if(e){if(t){const n=e.parentElement;return t.removeViewFromDom(n,e)}e.remove()}return Promise.resolve()};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const C6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M244 400 100 256l144-144M120 256h292' stroke-linecap='square' stroke-miterlimit='10' stroke-width='48px' class='ionicon-fill-none'/></svg>",R6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M328 112 184 256l144 144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",vS="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='m184 112 144 144-144 144' stroke-linecap='round' stroke-linejoin='round' stroke-width='48px' class='ionicon-fill-none'/></svg>",P6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M256 48C141.31 48 48 141.31 48 256s93.31 208 208 208 208-93.31 208-208S370.69 48 256 48m75.31 260.69a16 16 0 1 1-22.62 22.62L256 278.63l-52.69 52.68a16 16 0 0 1-22.62-22.62L233.37 256l-52.68-52.69a16 16 0 0 1 22.62-22.62L256 233.37l52.69-52.68a16 16 0 0 1 22.62 22.62L278.63 256Z'/></svg>",O6="data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 512 512' class='ionicon'><path d='M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256z'/></svg>";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */let Ry;const D6=()=>{if(typeof window>"u")return new Map;if(!Ry){const t=window;t.Ionicons=t.Ionicons||{},Ry=t.Ionicons.map=t.Ionicons.map||new Map}return Ry},N6=t=>{let e=Py(t.src);return e||(e=MR(t.name,t.icon,t.mode,t.ios,t.md),e?L6(e,t):t.icon&&(e=Py(t.icon),e||(e=Py(t.icon[t.mode]),e))?e:null)},L6=(t,e)=>{const n=D6().get(t);if(n)return n;try{return Y4(`svg/${t}.svg`)}catch(r){console.log("e",r),console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},MR=(t,e,n,r,i)=>(n=(n&&jh(n))==="ios"?"ios":"md",r&&n==="ios"?t=jh(r):i&&n==="md"?t=jh(i):(!t&&e&&!FR(e)&&(t=e),Cp(t)&&(t=jh(t))),!Cp(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Py=t=>Cp(t)&&(t=t.trim(),FR(t))?t:null,FR=t=>t.length>0&&/(\/|\.)/.test(t),Cp=t=>typeof t=="string",jh=t=>t.toLowerCase(),$6=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},V6=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",M6=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),BR(n))return e.innerHTML}return""},BR=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Cp(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!BR(t.childNodes[e]))return!1}return!0},F6=t=>t.startsWith("data:image/svg+xml"),B6=t=>t.indexOf(";utf8,")!==-1,el=new Map,UR=new Map;let Oy;function x_(t){const e="";return el.set(t,e),e}const U6=(t,e)=>{const n=UR.get(t);return n||(typeof fetch<"u"&&typeof document<"u"?F6(t)&&B6(t)?Promise.resolve(z6(t)):j6(t,e):Promise.resolve(x_(t)))};function z6(t){Oy||(Oy=new DOMParser);const n=Oy.parseFromString(t,"text/html").querySelector("svg");if(n)return el.set(t,n.outerHTML),n.outerHTML;throw new Error(`Could not parse svg from ${t}`)}function j6(t,e){const n=fetch(t).then(r=>r.text().then(i=>{i&&e!==!1&&(i=M6(i));const s=i||"";return el.set(t,s),s}).catch(()=>x_(t))).catch(()=>x_(t));return UR.set(t,n),n}const q6=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{-webkit-transform:scaleX(-1);transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{-webkit-transform:scaleX(1);transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",H6=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.isVisible=!1,this.mode=W6(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=$6(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(!!!(this.lazy&&typeof window<"u"&&window.IntersectionObserver))return r();const s=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(s.disconnect(),this.io=void 0,r())},{rootMargin:n});s.observe(e)}loadIcon(){if(this.isVisible){const e=N6(this);e&&(el.has(e)?this.svgContent=el.get(e):U6(e,this.sanitize).then(()=>this.svgContent=el.get(e)),this.didLoadIcon=!0)}this.iconName=MR(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return re(mn,Object.assign({key:"0578c899781ca145dd8205acd9670af39b57cf2e",role:"img",class:Object.assign(Object.assign({[s]:!0},G6(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":a,"icon-rtl":a&&V6(i)})},r),this.svgContent?re("div",{class:"icon-inner",innerHTML:this.svgContent}):re("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return q6}},[257,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),W6=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",G6=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function zR(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,H6);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _S=t=>{const e=t.classList.contains("ion-touched"),n=t.classList.contains("ion-invalid");return e&&n};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const K6=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:strict;pointer-events:none}:host(.unbounded){contain:layout size style}.ripple-effect{border-radius:50%;position:absolute;background-color:currentColor;color:inherit;contain:strict;opacity:0;-webkit-animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;animation:225ms rippleAnimation forwards, 75ms fadeInAnimation forwards;will-change:transform, opacity;pointer-events:none}.fade-out{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1));-webkit-animation:150ms fadeOutAnimation forwards;animation:150ms fadeOutAnimation forwards}@-webkit-keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@keyframes rippleAnimation{from{-webkit-animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);animation-timing-function:cubic-bezier(0.4, 0, 0.2, 1);-webkit-transform:scale(1);transform:scale(1)}to{-webkit-transform:translate(var(--translate-end)) scale(var(--final-scale, 1));transform:translate(var(--translate-end)) scale(var(--final-scale, 1))}}@-webkit-keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@keyframes fadeInAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0}to{opacity:0.16}}@-webkit-keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}@keyframes fadeOutAnimation{from{-webkit-animation-timing-function:linear;animation-timing-function:linear;opacity:0.16}to{opacity:0}}",Q6=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.type="bounded"}async addRipple(e,n){return new Promise(r=>{__(()=>{const i=this.el.getBoundingClientRect(),s=i.width,o=i.height,a=Math.sqrt(s*s+o*o),l=Math.max(o,s),c=this.unbounded?l:a+Y6,d=Math.floor(l*J6),h=c/d;let f=e-i.left,m=n-i.top;this.unbounded&&(f=s*.5,m=o*.5);const y=f-d*.5,w=m-d*.5,b=s*.5-f,T=o*.5-m;Ub(()=>{const E=document.createElement("div");E.classList.add("ripple-effect");const I=E.style;I.top=w+"px",I.left=y+"px",I.width=I.height=d+"px",I.setProperty("--final-scale",`${h}`),I.setProperty("--translate-end",`${b}px, ${T}px`),(this.el.shadowRoot||this.el).appendChild(E),setTimeout(()=>{r(()=>{X6(E)})},325)})})})}get unbounded(){return this.type==="unbounded"}render(){const e=Pt(this);return re(mn,{key:"ae9d3b1ed6773a9b9bb2267129f7e9af23b6c9fc",role:"presentation",class:{[e]:!0,unbounded:this.unbounded}})}get el(){return this}static get style(){return K6}},[257,"ion-ripple-effect",{type:[1],addRipple:[64]}]),X6=t=>{t.classList.add("fade-out"),setTimeout(()=>{t.remove()},200)},Y6=10,J6=.5;function jR(){if(typeof customElements>"u")return;["ion-ripple-effect"].forEach(e=>{switch(e){case"ion-ripple-effect":customElements.get(e)||customElements.define(e,Q6);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qh=typeof window<"u"?window:void 0;qh&&(qh.CSS&&qh.CSS.supports&&qh.CSS.supports("--a: 0"));/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const Z6=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl";/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eB=':host{--background:var(--ion-background-color, #fff);--color:var(--ion-text-color, #000);--padding-top:0px;--padding-bottom:0px;--padding-start:0px;--padding-end:0px;--keyboard-offset:0px;--offset-top:0px;--offset-bottom:0px;--overflow:auto;display:block;position:relative;-ms-flex:1;flex:1;width:100%;height:100%;margin:0 !important;padding:0 !important;font-family:var(--ion-font-family, inherit);contain:size style}:host(.ion-color) .inner-scroll{background:var(--ion-color-base);color:var(--ion-color-contrast)}#background-content{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);position:absolute;background:var(--background)}.inner-scroll{left:0px;right:0px;top:calc(var(--offset-top) * -1);bottom:calc(var(--offset-bottom) * -1);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:calc(var(--padding-top) + var(--offset-top));padding-bottom:calc(var(--padding-bottom) + var(--keyboard-offset) + var(--offset-bottom));position:absolute;color:var(--color);-webkit-box-sizing:border-box;box-sizing:border-box;overflow:hidden;-ms-touch-action:pan-x pan-y pinch-zoom;touch-action:pan-x pan-y pinch-zoom}.scroll-y,.scroll-x{-webkit-overflow-scrolling:touch;z-index:0;will-change:scroll-position}.scroll-y{overflow-y:var(--overflow);overscroll-behavior-y:contain}.scroll-x{overflow-x:var(--overflow);overscroll-behavior-x:contain}.overscroll::before,.overscroll::after{position:absolute;width:1px;height:1px;content:""}.overscroll::before{bottom:-1px}.overscroll::after{top:-1px}:host(.content-sizing){display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;min-height:0;contain:none}:host(.content-sizing) .inner-scroll{position:relative;top:0;bottom:0;margin-top:calc(var(--offset-top) * -1);margin-bottom:calc(var(--offset-bottom) * -1)}.transition-effect{display:none;position:absolute;width:100%;height:100vh;opacity:0;pointer-events:none}:host(.content-ltr) .transition-effect{left:-100%;}:host(.content-rtl) .transition-effect{right:-100%;}.transition-cover{position:absolute;right:0;width:100%;height:100%;background:black;opacity:0.1}.transition-shadow{display:block;position:absolute;width:100%;height:100%;-webkit-box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03);box-shadow:inset -9px 0 9px 0 rgba(0, 0, 100, 0.03)}:host(.content-ltr) .transition-shadow{right:0;}:host(.content-rtl) .transition-shadow{left:0;-webkit-transform:scaleX(-1);transform:scaleX(-1)}::slotted([slot=fixed]){position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}',tB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionScrollStart=it(this,"ionScrollStart",7),this.ionScroll=it(this,"ionScroll",7),this.ionScrollEnd=it(this,"ionScrollEnd",7),this.watchDog=null,this.isScrolling=!1,this.lastScroll=0,this.queued=!1,this.cTop=-1,this.cBottom=-1,this.isMainContent=!0,this.resizeTimeout=null,this.inheritedAttributes={},this.tabsElement=null,this.detail={scrollTop:0,scrollLeft:0,type:"scroll",event:void 0,startX:0,startY:0,startTime:0,currentX:0,currentY:0,velocityX:0,velocityY:0,deltaX:0,deltaY:0,currentTime:0,data:void 0,isScrolling:!0},this.fullscreen=!1,this.fixedSlotPlacement="after",this.scrollX=!1,this.scrollY=!0,this.scrollEvents=!1}componentWillLoad(){this.inheritedAttributes=Gb(this.el)}connectedCallback(){if(this.isMainContent=this.el.closest("ion-menu, ion-popover, ion-modal")===null,T_(this.el)){const e=this.tabsElement=this.el.closest("ion-tabs");e!==null&&(this.tabsLoadCallback=()=>this.resize(),e.addEventListener("ionTabBarLoaded",this.tabsLoadCallback))}}disconnectedCallback(){if(this.onScrollEnd(),T_(this.el)){const{tabsElement:e,tabsLoadCallback:n}=this;e!==null&&n!==void 0&&e.removeEventListener("ionTabBarLoaded",n),this.tabsElement=null,this.tabsLoadCallback=void 0}}onResize(){this.resizeTimeout&&(clearTimeout(this.resizeTimeout),this.resizeTimeout=null),this.resizeTimeout=setTimeout(()=>{this.el.offsetParent!==null&&this.resize()},100)}shouldForceOverscroll(){const{forceOverscroll:e}=this,n=Pt(this);return e===void 0?n==="ios"&&yo("ios"):e}resize(){this.fullscreen?__(()=>this.readDimensions()):(this.cTop!==0||this.cBottom!==0)&&(this.cTop=this.cBottom=0,Ja(this))}readDimensions(){const e=rB(this.el),n=Math.max(this.el.offsetTop,0),r=Math.max(e.offsetHeight-n-this.el.offsetHeight,0);(n!==this.cTop||r!==this.cBottom)&&(this.cTop=n,this.cBottom=r,Ja(this))}onScroll(e){const n=Date.now(),r=!this.isScrolling;this.lastScroll=n,r&&this.onScrollStart(),!this.queued&&this.scrollEvents&&(this.queued=!0,__(i=>{this.queued=!1,this.detail.event=e,iB(this.detail,this.scrollEl,i,r),this.ionScroll.emit(this.detail)}))}async getScrollElement(){return this.scrollEl||await new Promise(e=>Ku(this.el,e)),Promise.resolve(this.scrollEl)}async getBackgroundElement(){return this.backgroundContentEl||await new Promise(e=>Ku(this.el,e)),Promise.resolve(this.backgroundContentEl)}scrollToTop(e=0){return this.scrollToPoint(void 0,0,e)}async scrollToBottom(e=0){const n=await this.getScrollElement(),r=n.scrollHeight-n.clientHeight;return this.scrollToPoint(void 0,r,e)}async scrollByPoint(e,n,r){const i=await this.getScrollElement();return this.scrollToPoint(e+i.scrollLeft,n+i.scrollTop,r)}async scrollToPoint(e,n,r=0){const i=await this.getScrollElement();if(r<32){n!=null&&(i.scrollTop=n),e!=null&&(i.scrollLeft=e);return}let s,o=0;const a=new Promise(m=>s=m),l=i.scrollTop,c=i.scrollLeft,d=n!=null?n-l:0,h=e!=null?e-c:0,f=m=>{const y=Math.min(1,(m-o)/r)-1,w=Math.pow(y,3)+1;d!==0&&(i.scrollTop=Math.floor(w*d+l)),h!==0&&(i.scrollLeft=Math.floor(w*h+c)),w<1?requestAnimationFrame(f):s()};return requestAnimationFrame(m=>{o=m,f(m)}),a}onScrollStart(){this.isScrolling=!0,this.ionScrollStart.emit({isScrolling:!0}),this.watchDog&&clearInterval(this.watchDog),this.watchDog=setInterval(()=>{this.lastScroll<Date.now()-120&&this.onScrollEnd()},100)}onScrollEnd(){this.watchDog&&clearInterval(this.watchDog),this.watchDog=null,this.isScrolling&&(this.isScrolling=!1,this.ionScrollEnd.emit({isScrolling:!1}))}render(){const{fixedSlotPlacement:e,inheritedAttributes:n,isMainContent:r,scrollX:i,scrollY:s,el:o}=this,a=Z6(o)?"rtl":"ltr",l=Pt(this),c=this.shouldForceOverscroll(),d=l==="ios";return this.resize(),re(mn,Object.assign({key:"f2a24aa66dbf5c76f9d4b06f708eb73cadc239df",role:r?"main":void 0,class:Gl(this.color,{[l]:!0,"content-sizing":Vo("ion-popover",this.el),overscroll:c,[`content-${a}`]:!0}),style:{"--offset-top":`${this.cTop}px`,"--offset-bottom":`${this.cBottom}px`}},n),re("div",{key:"6480ca7648b278abb36477b3838bccbcd4995e2a",ref:h=>this.backgroundContentEl=h,id:"background-content",part:"background"}),e==="before"?re("slot",{name:"fixed"}):null,re("div",{key:"29a23b663f5f0215bb000820c01e1814c0d55985",class:{"inner-scroll":!0,"scroll-x":i,"scroll-y":s,overscroll:(i||s)&&c},ref:h=>this.scrollEl=h,onScroll:this.scrollEvents?h=>this.onScroll(h):void 0,part:"scroll"},re("slot",{key:"0fe1bd05609a4b88ae2ce9addf5d5dc5dc1806f0"})),d?re("div",{class:"transition-effect"},re("div",{class:"transition-cover"}),re("div",{class:"transition-shadow"})):null,e==="after"?re("slot",{name:"fixed"}):null)}get el(){return this}static get style(){return eB}},[257,"ion-content",{color:[513],fullscreen:[4],fixedSlotPlacement:[1,"fixed-slot-placement"],forceOverscroll:[1028,"force-overscroll"],scrollX:[4,"scroll-x"],scrollY:[4,"scroll-y"],scrollEvents:[4,"scroll-events"],getScrollElement:[64],getBackgroundElement:[64],scrollToTop:[64],scrollToBottom:[64],scrollByPoint:[64],scrollToPoint:[64]},[[9,"resize","onResize"]]]),nB=t=>{var e;return t.parentElement?t.parentElement:!((e=t.parentNode)===null||e===void 0)&&e.host?t.parentNode.host:null},rB=t=>{const e=t.closest("ion-tabs");if(e)return e;const n=t.closest("ion-app, ion-page, .ion-page, page-inner, .popover-content");return n||nB(t)},iB=(t,e,n,r)=>{const i=t.currentX,s=t.currentY,o=t.currentTime,a=e.scrollLeft,l=e.scrollTop,c=n-o;if(r&&(t.startTime=n,t.startX=a,t.startY=l,t.velocityX=t.velocityY=0),t.currentTime=n,t.currentX=t.scrollLeft=a,t.currentY=t.scrollTop=l,t.deltaX=a-t.startX,t.deltaY=l-t.startY,c>0&&c<100){const d=(a-i)/c,h=(l-s)/c;t.velocityX=d*.7+t.velocityX*.3,t.velocityY=h*.7+t.velocityY*.3}};function sB(){if(typeof customElements>"u")return;["ion-content"].forEach(e=>{switch(e){case"ion-content":customElements.get(e)||customElements.define(e,tB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const oB=sB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const aB=()=>{if(Xe!==void 0)return Xe.Capacitor};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const lB=()=>{let t;return{lock:async()=>{const n=t;let r;return t=new Promise(i=>r=i),n!==void 0&&await n,r}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */var k_;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(k_||(k_={}));var A_;(function(t){t.Body="body",t.Ionic="ionic",t.Native="native",t.None="none"})(A_||(A_={}));const cB={getEngine(){const t=aB();if(t!=null&&t.isPluginAvailable("Keyboard"))return t.Plugins.Keyboard},getResizeMode(){const t=this.getEngine();return t!=null&&t.getResizeMode?t.getResizeMode().catch(e=>{if(e.code!==k_.Unimplemented)throw e}):Promise.resolve(void 0)}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const qR=t=>{if(xy===void 0||t===A_.None||t===void 0)return null;const e=xy.querySelector("ion-app");return e??xy.body},wS=t=>{const e=qR(t);return e===null?0:e.clientHeight},uB=async t=>{let e,n,r,i;const s=async()=>{const d=await cB.getResizeMode(),h=d===void 0?void 0:d.mode;e=()=>{i===void 0&&(i=wS(h)),r=!0,o(r,h)},n=()=>{r=!1,o(r,h)},Xe==null||Xe.addEventListener("keyboardWillShow",e),Xe==null||Xe.addEventListener("keyboardWillHide",n)},o=(d,h)=>{t&&t(d,a(h))},a=d=>{if(i===0||i===wS(d))return;const h=qR(d);if(h!==null)return new Promise(f=>{const m=()=>{h.clientHeight===i&&(y.disconnect(),f())},y=new ResizeObserver(m);y.observe(h)})},l=()=>{Xe==null||Xe.removeEventListener("keyboardWillShow",e),Xe==null||Xe.removeEventListener("keyboardWillHide",n),e=n=void 0},c=()=>r;return await s(),{init:s,destroy:l,isKeyboardVisible:c}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const dB=":host{display:block;-o-object-fit:contain;object-fit:contain}img{display:block;width:100%;height:100%;-o-object-fit:inherit;object-fit:inherit;-o-object-position:inherit;object-position:inherit}",hB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionImgWillLoad=it(this,"ionImgWillLoad",7),this.ionImgDidLoad=it(this,"ionImgDidLoad",7),this.ionError=it(this,"ionError",7),this.inheritedAttributes={},this.onLoad=()=>{this.ionImgDidLoad.emit()},this.onError=()=>{this.ionError.emit()}}srcChanged(){this.addIO()}componentWillLoad(){this.inheritedAttributes=Sd(this.el,["draggable"])}componentDidLoad(){this.addIO()}addIO(){this.src!==void 0&&(typeof window<"u"&&"IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"isIntersecting"in window.IntersectionObserverEntry.prototype?(this.removeIO(),this.io=new IntersectionObserver(e=>{e[e.length-1].isIntersecting&&(this.load(),this.removeIO())}),this.io.observe(this.el)):setTimeout(()=>this.load(),200))}load(){this.loadError=this.onError,this.loadSrc=this.src,this.ionImgWillLoad.emit()}removeIO(){this.io&&(this.io.disconnect(),this.io=void 0)}render(){const{loadSrc:e,alt:n,onLoad:r,loadError:i,inheritedAttributes:s}=this,{draggable:o}=s;return re(mn,{key:"da600442894427dee1974a28e545613afac69fca",class:Pt(this)},re("img",{key:"16df0c7069af86c0fa7ce5af598bc0f63b4eb71a",decoding:"async",src:e,alt:n,onLoad:r,onError:i,part:"image",draggable:fB(o)}))}get el(){return this}static get watchers(){return{src:["srcChanged"]}}static get style(){return dB}},[257,"ion-img",{alt:[1],src:[1],loadSrc:[32],loadError:[32]},void 0,{src:["srcChanged"]}]),fB=t=>{switch(t){case"true":return!0;case"false":return!1;default:return}};function pB(){if(typeof customElements>"u")return;["ion-img"].forEach(e=>{switch(e){case"ion-img":customElements.get(e)||customElements.define(e,hB);break}})}const mB=pB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const gB=(t,e,n)=>{let r;const i=()=>!(e()===void 0||t.label!==void 0||n()===null),s=()=>{i()&&xd(()=>{o()})},o=()=>{const l=e();if(l===void 0)return;if(!i()){l.style.removeProperty("width");return}const c=n().scrollWidth;if(c===0&&l.offsetParent===null&&Xe!==void 0&&"IntersectionObserver"in Xe){if(r!==void 0)return;const d=r=new IntersectionObserver(h=>{h[0].intersectionRatio===1&&(o(),d.disconnect(),r=void 0)},{threshold:.01,root:t});d.observe(l);return}l.style.setProperty("width",`${c*.75}px`)};return{calculateNotchWidth:s,destroy:()=>{r&&(r.disconnect(),r=void 0)}}};/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const yB=(t,e,n)=>{let r,i;if(Xe!==void 0&&"MutationObserver"in Xe){const l=Array.isArray(e)?e:[e];r=new MutationObserver(c=>{for(const d of c)for(const h of d.addedNodes)if(h.nodeType===Node.ELEMENT_NODE&&l.includes(h.slot)){n(),xd(()=>s(h));return}}),r.observe(t,{childList:!0,subtree:!0})}const s=l=>{var c;i&&(i.disconnect(),i=void 0),i=new MutationObserver(d=>{n();for(const h of d)for(const f of h.removedNodes)f.nodeType===Node.ELEMENT_NODE&&f.slot===e&&a()}),i.observe((c=l.parentElement)!==null&&c!==void 0?c:l,{subtree:!0,childList:!0})},o=()=>{r&&(r.disconnect(),r=void 0),a()},a=()=>{i&&(i.disconnect(),i=void 0)};return{destroy:o}},vB=(t,e,n)=>{const r=t==null?0:t.toString().length,i=_B(r,e);if(n===void 0)return i;try{return n(r,e)}catch(s){return ea("[ion-input] - Exception in provided `counterFormatter`:",s),i}},_B=(t,e)=>`${t} / ${e}`;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const wB=".sc-ion-input-ios-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-ios-h,ion-item [slot=start].sc-ion-input-ios-h,ion-item[slot=end].sc-ion-input-ios-h,ion-item [slot=end].sc-ion-input-ios-h{width:auto}.ion-color.sc-ion-input-ios-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-ios-h,.input-label-placement-stacked.sc-ion-input-ios-h{min-height:56px}.native-input.sc-ion-input-ios{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-ios::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-ios:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-ios:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-ios::-ms-clear{display:none}.cloned-input.sc-ion-input-ios{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-ios{inset-inline-start:0}.cloned-input.sc-ion-input-ios:disabled{opacity:1}.input-clear-icon.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{color:inherit}.input-clear-icon.sc-ion-input-ios:focus{opacity:0.5}.has-value.sc-ion-input-ios-h .input-clear-icon.sc-ion-input-ios{visibility:visible}.input-wrapper.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-ios-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-ios{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-ios-h,.ion-touched.ion-invalid.sc-ion-input-ios-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .error-text.sc-ion-input-ios{display:block}.ion-touched.ion-invalid.sc-ion-input-ios-h .input-bottom.sc-ion-input-ios .helper-text.sc-ion-input-ios{display:none}.input-bottom.sc-ion-input-ios .counter.sc-ion-input-ios{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-ios-h input.sc-ion-input-ios{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-ios{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-ios,.sc-ion-input-ios-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-ios,.input-outline-notch-hidden.sc-ion-input-ios{display:none}.input-wrapper.sc-ion-input-ios input.sc-ion-input-ios{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-ios-h .label-text.sc-ion-input-ios{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .input-wrapper.sc-ion-input-ios{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-stacked.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .sc-ion-input-ios-h -no-combinator.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl].input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios,[dir=rtl] .input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h:dir(rtl) .label-text-wrapper.sc-ion-input-ios{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-ios-h input.sc-ion-input-ios,.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios,.has-value.input-label-placement-floating.sc-ion-input-ios-h input.sc-ion-input-ios{opacity:1}.label-floating.sc-ion-input-ios-h .label-text-wrapper.sc-ion-input-ios{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-ios-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-ios-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-ios-h[disabled].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[disabled] .sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly].sc-ion-input-ios-s>ion-input-password-toggle,.sc-ion-input-ios-h[readonly] .sc-ion-input-ios-s>ion-input-password-toggle{visibility:hidden}.sc-ion-input-ios-h{--border-width:0.55px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--highlight-height:0px;font-size:inherit}.input-clear-icon.sc-ion-input-ios ion-icon.sc-ion-input-ios{width:18px;height:18px}.input-disabled.sc-ion-input-ios-h{opacity:0.3}.sc-ion-input-ios-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-ios-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:0;--padding-end:0;--padding-top:0;--padding-bottom:0;aspect-ratio:1}",bB=".sc-ion-input-md-h{--placeholder-color:initial;--placeholder-font-style:initial;--placeholder-font-weight:initial;--placeholder-opacity:var(--ion-placeholder-opacity, 0.6);--padding-top:0px;--padding-end:0px;--padding-bottom:0px;--padding-start:0px;--background:transparent;--color:initial;--border-style:solid;--highlight-color-focused:var(--ion-color-primary, #0054e9);--highlight-color-valid:var(--ion-color-success, #2dd55b);--highlight-color-invalid:var(--ion-color-danger, #c5000f);--highlight-color:var(--highlight-color-focused);display:block;position:relative;width:100%;min-height:44px;padding:0 !important;color:var(--color);font-family:var(--ion-font-family, inherit);z-index:2}ion-item[slot=start].sc-ion-input-md-h,ion-item [slot=start].sc-ion-input-md-h,ion-item[slot=end].sc-ion-input-md-h,ion-item [slot=end].sc-ion-input-md-h{width:auto}.ion-color.sc-ion-input-md-h{--highlight-color-focused:var(--ion-color-base)}.input-label-placement-floating.sc-ion-input-md-h,.input-label-placement-stacked.sc-ion-input-md-h{min-height:56px}.native-input.sc-ion-input-md{padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:inline-block;position:relative;-ms-flex:1;flex:1;width:100%;max-width:100%;height:100%;max-height:100%;border:0;outline:none;background:transparent;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-appearance:none;-moz-appearance:none;appearance:none;z-index:1}.native-input.sc-ion-input-md::-webkit-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-moz-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::-ms-input-placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md::placeholder{color:var(--placeholder-color);font-family:inherit;font-style:var(--placeholder-font-style);font-weight:var(--placeholder-font-weight);opacity:var(--placeholder-opacity)}.native-input.sc-ion-input-md:-webkit-autofill{background-color:transparent}.native-input.sc-ion-input-md:invalid{-webkit-box-shadow:none;box-shadow:none}.native-input.sc-ion-input-md::-ms-clear{display:none}.cloned-input.sc-ion-input-md{top:0;bottom:0;position:absolute;pointer-events:none}.cloned-input.sc-ion-input-md{inset-inline-start:0}.cloned-input.sc-ion-input-md:disabled{opacity:1}.input-clear-icon.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;-webkit-margin-end:auto;margin-inline-end:auto;margin-top:auto;margin-bottom:auto;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;background-position:center;display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:30px;height:30px;border:0;outline:none;background-color:transparent;background-repeat:no-repeat;color:var(--ion-color-step-600, var(--ion-text-color-step-400, #666666));visibility:hidden;-webkit-appearance:none;-moz-appearance:none;appearance:none}.in-item-color.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{color:inherit}.input-clear-icon.sc-ion-input-md:focus{opacity:0.5}.has-value.sc-ion-input-md-h .input-clear-icon.sc-ion-input-md{visibility:visible}.input-wrapper.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);border-radius:var(--border-radius);display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:stretch;align-items:stretch;height:inherit;min-height:inherit;-webkit-transition:background-color 15ms linear;transition:background-color 15ms linear;background:var(--background);line-height:normal}.native-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;position:relative;-ms-flex-positive:1;flex-grow:1;-ms-flex-align:center;align-items:center;width:100%}.ion-touched.ion-invalid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-invalid)}.ion-valid.sc-ion-input-md-h{--highlight-color:var(--highlight-color-valid)}.input-bottom.sc-ion-input-md{-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:5px;padding-bottom:0;display:-ms-flexbox;display:flex;-ms-flex-pack:justify;justify-content:space-between;border-top:var(--border-width) var(--border-style) var(--border-color);font-size:0.75rem;white-space:normal}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:none;color:var(--highlight-color-invalid)}.input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:block;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d))}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .error-text.sc-ion-input-md{display:block}.ion-touched.ion-invalid.sc-ion-input-md-h .input-bottom.sc-ion-input-md .helper-text.sc-ion-input-md{display:none}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{-webkit-margin-start:auto;margin-inline-start:auto;color:var(--ion-color-step-700, var(--ion-text-color-step-300, #4d4d4d));white-space:nowrap;-webkit-padding-start:16px;padding-inline-start:16px}.has-focus.sc-ion-input-md-h input.sc-ion-input-md{caret-color:var(--highlight-color)}.label-text-wrapper.sc-ion-input-md{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;max-width:200px;-webkit-transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:color 150ms cubic-bezier(0.4, 0, 0.2, 1), transform 150ms cubic-bezier(0.4, 0, 0.2, 1), -webkit-transform 150ms cubic-bezier(0.4, 0, 0.2, 1);pointer-events:none}.label-text.sc-ion-input-md,.sc-ion-input-md-s>[slot=label]{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.label-text-wrapper-hidden.sc-ion-input-md,.input-outline-notch-hidden.sc-ion-input-md{display:none}.input-wrapper.sc-ion-input-md input.sc-ion-input-md{-webkit-transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);transition:opacity 150ms cubic-bezier(0.4, 0, 0.2, 1)}.input-label-placement-start.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row;flex-direction:row}.input-label-placement-start.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-end.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:row-reverse;flex-direction:row-reverse}.input-label-placement-end.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:0;margin-bottom:0}.input-label-placement-fixed.sc-ion-input-md-h .label-text.sc-ion-input-md{-ms-flex:0 0 100px;flex:0 0 100px;width:100px;min-width:100px;max-width:200px}.input-label-placement-stacked.sc-ion-input-md-h .input-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{-ms-flex-direction:column;flex-direction:column;-ms-flex-align:start;align-items:start}.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;max-width:100%;z-index:2}[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:1px;margin-bottom:0}.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(100%) scale(1);transform:translateY(100%) scale(1)}.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:0}.has-focus.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md,.has-value.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{opacity:1}.label-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(50%) scale(0.75);transform:translateY(50%) scale(0.75);max-width:calc(100% / 0.75)}.sc-ion-input-md-s>[slot=start]:last-of-type{-webkit-margin-end:16px;margin-inline-end:16px;-webkit-margin-start:0;margin-inline-start:0}.sc-ion-input-md-s>[slot=end]:first-of-type{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:0;margin-inline-end:0}.sc-ion-input-md-h[disabled].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[disabled] .sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly].sc-ion-input-md-s>ion-input-password-toggle,.sc-ion-input-md-h[readonly] .sc-ion-input-md-s>ion-input-password-toggle{visibility:hidden}.input-fill-solid.sc-ion-input-md-h{--background:var(--ion-color-step-50, var(--ion-background-color-step-50, #f2f2f2));--border-color:var(--ion-color-step-500, var(--ion-background-color-step-500, gray));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:var(--border-width) var(--border-style) var(--border-color)}.has-focus.input-fill-solid.ion-valid.sc-ion-input-md-h,.input-fill-solid.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-fill-solid.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}@media (any-hover: hover){.input-fill-solid.sc-ion-input-md-h:hover{--background:var(--ion-color-step-100, var(--ion-background-color-step-100, #e6e6e6));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-solid.has-focus.sc-ion-input-md-h{--background:var(--ion-color-step-150, var(--ion-background-color-step-150, #d9d9d9));--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}.input-fill-solid.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:var(--border-radius);border-end-end-radius:0px;border-end-start-radius:0px}.label-floating.input-fill-solid.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{max-width:calc(100% / 0.75)}.input-fill-outline.sc-ion-input-md-h{--border-color:var(--ion-color-step-300, var(--ion-background-color-step-300, #b3b3b3));--border-radius:4px;--padding-start:16px;--padding-end:16px;min-height:56px}.input-fill-outline.input-shape-round.sc-ion-input-md-h{--border-radius:28px;--padding-start:32px;--padding-end:32px}.has-focus.input-fill-outline.ion-valid.sc-ion-input-md-h,.input-fill-outline.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}@media (any-hover: hover){.input-fill-outline.sc-ion-input-md-h:hover{--border-color:var(--ion-color-step-750, var(--ion-background-color-step-750, #404040))}}.input-fill-outline.has-focus.sc-ion-input-md-h{--border-width:var(--highlight-height);--border-color:var(--highlight-color)}.input-fill-outline.sc-ion-input-md-h .input-bottom.sc-ion-input-md{border-top:none}.input-fill-outline.sc-ion-input-md-h .input-wrapper.sc-ion-input-md{border-bottom:none}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:left top;transform-origin:left top;position:absolute;max-width:calc(100% - var(--padding-start) - var(--padding-end))}[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .sc-ion-input-md-h -no-combinator.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl].input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,[dir=rtl] .input-fill-outline.input-label-placement-floating.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}@supports selector(:dir(rtl)){.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h:dir(rtl) .label-text-wrapper.sc-ion-input-md{-webkit-transform-origin:right top;transform-origin:right top}}.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{position:relative}.label-floating.input-fill-outline.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{-webkit-transform:translateY(-32%) scale(0.75);transform:translateY(-32%) scale(0.75);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;max-width:calc((100% - var(--padding-start) - var(--padding-end) - 8px) / 0.75)}.input-fill-outline.input-label-placement-stacked.sc-ion-input-md-h input.sc-ion-input-md,.input-fill-outline.input-label-placement-floating.sc-ion-input-md-h input.sc-ion-input-md{margin-left:0;margin-right:0;margin-top:6px;margin-bottom:6px}.input-fill-outline.sc-ion-input-md-h .input-outline-container.sc-ion-input-md{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;width:100%;height:100%}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{pointer-events:none}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md,.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{border-top:var(--border-width) var(--border-style) var(--border-color);border-bottom:var(--border-width) var(--border-style) var(--border-color)}.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{max-width:calc(100% - var(--padding-start) - var(--padding-end))}.input-fill-outline.sc-ion-input-md-h .notch-spacer.sc-ion-input-md{-webkit-padding-end:8px;padding-inline-end:8px;font-size:calc(1em * 0.75);opacity:0;pointer-events:none;-webkit-box-sizing:content-box;box-sizing:content-box}.input-fill-outline.sc-ion-input-md-h .input-outline-start.sc-ion-input-md{border-start-start-radius:var(--border-radius);border-start-end-radius:0px;border-end-end-radius:0px;border-end-start-radius:var(--border-radius);-webkit-border-start:var(--border-width) var(--border-style) var(--border-color);border-inline-start:var(--border-width) var(--border-style) var(--border-color);width:calc(var(--padding-start) - 4px)}.input-fill-outline.sc-ion-input-md-h .input-outline-end.sc-ion-input-md{-webkit-border-end:var(--border-width) var(--border-style) var(--border-color);border-inline-end:var(--border-width) var(--border-style) var(--border-color);border-start-start-radius:0px;border-start-end-radius:var(--border-radius);border-end-end-radius:var(--border-radius);border-end-start-radius:0px;-ms-flex-positive:1;flex-grow:1}.label-floating.input-fill-outline.sc-ion-input-md-h .input-outline-notch.sc-ion-input-md{border-top:none}.sc-ion-input-md-h{--border-width:1px;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--highlight-height:2px;font-size:inherit}.input-clear-icon.sc-ion-input-md ion-icon.sc-ion-input-md{width:22px;height:22px}.input-disabled.sc-ion-input-md-h{opacity:0.38}.has-focus.ion-valid.sc-ion-input-md-h,.ion-touched.ion-invalid.sc-ion-input-md-h{--border-color:var(--highlight-color)}.input-bottom.sc-ion-input-md .counter.sc-ion-input-md{letter-spacing:0.0333333333em}.input-label-placement-floating.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.has-focus.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.has-focus.input-label-placement-floating.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-floating.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.has-focus.input-label-placement-stacked.ion-valid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md,.input-label-placement-stacked.ion-touched.ion-invalid.sc-ion-input-md-h .label-text-wrapper.sc-ion-input-md{color:var(--highlight-color)}.input-highlight.sc-ion-input-md{bottom:-1px;position:absolute;width:100%;height:var(--highlight-height);-webkit-transform:scale(0);transform:scale(0);-webkit-transition:-webkit-transform 200ms;transition:-webkit-transform 200ms;transition:transform 200ms;transition:transform 200ms, -webkit-transform 200ms;background:var(--highlight-color)}.input-highlight.sc-ion-input-md{inset-inline-start:0}.has-focus.sc-ion-input-md-h .input-highlight.sc-ion-input-md{-webkit-transform:scale(1);transform:scale(1)}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{bottom:0}.in-item.sc-ion-input-md-h .input-highlight.sc-ion-input-md{inset-inline-start:0}.input-shape-round.sc-ion-input-md-h{--border-radius:16px}.sc-ion-input-md-s>ion-button[slot=start].button-has-icon-only,.sc-ion-input-md-s>ion-button[slot=end].button-has-icon-only{--border-radius:50%;--padding-start:8px;--padding-end:8px;--padding-top:8px;--padding-bottom:8px;aspect-ratio:1;min-height:40px}",EB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.ionInput=it(this,"ionInput",7),this.ionChange=it(this,"ionChange",7),this.ionBlur=it(this,"ionBlur",7),this.ionFocus=it(this,"ionFocus",7),this.inputId=`ion-input-${TB++}`,this.helperTextId=`${this.inputId}-helper-text`,this.errorTextId=`${this.inputId}-error-text`,this.inheritedAttributes={},this.isComposing=!1,this.didInputClearOnEdit=!1,this.hasFocus=!1,this.isInvalid=!1,this.autocapitalize="off",this.autocomplete="off",this.autocorrect="off",this.autofocus=!1,this.clearInput=!1,this.counter=!1,this.disabled=!1,this.labelPlacement="start",this.name=this.inputId,this.readonly=!1,this.required=!1,this.spellcheck=!1,this.type="text",this.value="",this.onInput=n=>{const r=n.target;r&&(this.value=r.value||""),this.emitInputChange(n)},this.onChange=n=>{this.emitValueChange(n)},this.onBlur=n=>{this.hasFocus=!1,this.focusedValue!==this.value&&this.emitValueChange(n),this.didInputClearOnEdit=!1,this.ionBlur.emit(n)},this.onFocus=n=>{this.hasFocus=!0,this.focusedValue=this.value,this.ionFocus.emit(n)},this.onKeydown=n=>{this.checkClearOnEdit(n)},this.onCompositionStart=()=>{this.isComposing=!0},this.onCompositionEnd=()=>{this.isComposing=!1},this.clearTextInput=n=>{this.clearInput&&!this.readonly&&!this.disabled&&n&&(n.preventDefault(),n.stopPropagation(),this.setFocus()),this.value="",this.emitInputChange(n)},this.onLabelClick=n=>{n.target===n.currentTarget&&n.stopPropagation()}}debounceChanged(){const{ionInput:e,debounce:n,originalIonInput:r}=this;this.ionInput=n===void 0?r??e:zF(e,n)}onTypeChange(){const e=this.el.querySelector("ion-input-password-toggle");e&&(e.type=this.type)}valueChanged(){const e=this.nativeInput,n=this.getValue();e&&e.value!==n&&!this.isComposing&&(e.value=n)}onDirChanged(e){this.inheritedAttributes=Object.assign(Object.assign({},this.inheritedAttributes),{dir:e}),Ja(this)}onClickCapture(e){const n=this.nativeInput;n&&e.target===n&&(e.stopPropagation(),this.el.click())}componentWillLoad(){this.inheritedAttributes=Object.assign(Object.assign({},Gb(this.el)),Sd(this.el,["tabindex","title","data-form-type","dir"]))}connectedCallback(){const{el:e}=this;this.slotMutationController=yB(e,["label","start","end"],()=>Ja(this)),this.notchController=gB(e,()=>this.notchSpacerEl,()=>this.labelSlot),typeof MutationObserver<"u"&&(this.validationObserver=new MutationObserver(()=>{const n=_S(e);this.isInvalid!==n&&(this.isInvalid=n,Ja(this))}),this.validationObserver.observe(e,{attributes:!0,attributeFilter:["class"]})),this.isInvalid=_S(e),this.debounceChanged(),document.dispatchEvent(new CustomEvent("ionInputDidLoad",{detail:this.el}))}componentDidLoad(){this.originalIonInput=this.ionInput,this.onTypeChange(),this.debounceChanged()}componentDidRender(){var e;(e=this.notchController)===null||e===void 0||e.calculateNotchWidth()}disconnectedCallback(){document.dispatchEvent(new CustomEvent("ionInputDidUnload",{detail:this.el})),this.slotMutationController&&(this.slotMutationController.destroy(),this.slotMutationController=void 0),this.notchController&&(this.notchController.destroy(),this.notchController=void 0),this.validationObserver&&(this.validationObserver.disconnect(),this.validationObserver=void 0)}async setFocus(){this.nativeInput&&this.nativeInput.focus()}async getInputElement(){return this.nativeInput||await new Promise(e=>Ku(this.el,e)),Promise.resolve(this.nativeInput)}emitValueChange(e){const{value:n}=this,r=n==null?n:n.toString();this.focusedValue=r,this.ionChange.emit({value:r,event:e})}emitInputChange(e){const{value:n}=this,r=n==null?n:n.toString();this.ionInput.emit({value:r,event:e})}shouldClearOnEdit(){const{type:e,clearOnEdit:n}=this;return n===void 0?e==="password":n}getValue(){return typeof this.value=="number"?this.value.toString():(this.value||"").toString()}checkClearOnEdit(e){if(!this.shouldClearOnEdit())return;const r=["Enter","Tab","Shift","Meta","Alt","Control"].includes(e.key);!this.didInputClearOnEdit&&this.hasValue()&&!r&&(this.value="",this.emitInputChange(e)),r||(this.didInputClearOnEdit=!0)}hasValue(){return this.getValue().length>0}renderHintText(){const{helperText:e,errorText:n,helperTextId:r,errorTextId:i,isInvalid:s}=this;return[re("div",{id:r,class:"helper-text","aria-live":"polite"},s?null:e),re("div",{id:i,class:"error-text",role:"alert"},s?n:null)]}getHintTextID(){const{isInvalid:e,helperText:n,errorText:r,helperTextId:i,errorTextId:s}=this;if(e&&r)return s;if(n)return i}renderCounter(){const{counter:e,maxlength:n,counterFormatter:r,value:i}=this;if(!(e!==!0||n===void 0))return re("div",{class:"counter"},vB(i,n,r))}renderBottomContent(){const{counter:e,helperText:n,errorText:r,maxlength:i}=this;if(!(!(n||r)&&!(e===!0&&i!==void 0)))return re("div",{class:"input-bottom"},this.renderHintText(),this.renderCounter())}renderLabel(){const{label:e}=this;return re("div",{class:{"label-text-wrapper":!0,"label-text-wrapper-hidden":!this.hasLabel}},e===void 0?re("slot",{name:"label"}):re("div",{class:"label-text"},e))}get labelSlot(){return this.el.querySelector('[slot="label"]')}get hasLabel(){return this.label!==void 0||this.labelSlot!==null}renderLabelContainer(){return Pt(this)==="md"&&this.fill==="outline"?[re("div",{class:"input-outline-container"},re("div",{class:"input-outline-start"}),re("div",{class:{"input-outline-notch":!0,"input-outline-notch-hidden":!this.hasLabel}},re("div",{class:"notch-spacer","aria-hidden":"true",ref:r=>this.notchSpacerEl=r},this.label)),re("div",{class:"input-outline-end"})),this.renderLabel()]:this.renderLabel()}render(){const{disabled:e,fill:n,readonly:r,shape:i,inputId:s,labelPlacement:o,el:a,hasFocus:l,clearInputIcon:c}=this,d=Pt(this),h=this.getValue(),f=Vo("ion-item",this.el),m=d==="md"&&n!=="outline"&&!f,w=c??(d==="ios"?P6:O6),b=this.hasValue(),T=a.querySelector('[slot="start"], [slot="end"]')!==null,E=o==="stacked"||o==="floating"&&(b||l||T);return re(mn,{key:"97b5308021064d9e7434ef2d3d96f27045c1b0c4",class:Gl(this.color,{[d]:!0,"has-value":b,"has-focus":l,"label-floating":E,[`input-fill-${n}`]:n!==void 0,[`input-shape-${i}`]:i!==void 0,[`input-label-placement-${o}`]:!0,"in-item":f,"in-item-color":Vo("ion-item.ion-color",this.el),"input-disabled":e})},re("label",{key:"353f68726ce180299bd9adc81e5ff7d26a48f54f",class:"input-wrapper",htmlFor:s,onClick:this.onLabelClick},this.renderLabelContainer(),re("div",{key:"2034b4bad04fc157f3298a1805819216b6f439d0",class:"native-wrapper",onClick:this.onLabelClick},re("slot",{key:"96bb5e30176b2bd76dfb75bfbf6c1c3d4403f4bb",name:"start"}),re("input",Object.assign({key:"1a1d75b0e414a95c89d5a760757c33548d234aca",class:"native-input",ref:I=>this.nativeInput=I,id:s,disabled:e,autoCapitalize:this.autocapitalize,autoComplete:this.autocomplete,autoCorrect:this.autocorrect,autoFocus:this.autofocus,enterKeyHint:this.enterkeyhint,inputMode:this.inputmode,min:this.min,max:this.max,minLength:this.minlength,maxLength:this.maxlength,multiple:this.multiple,name:this.name,pattern:this.pattern,placeholder:this.placeholder||"",readOnly:r,required:this.required,spellcheck:this.spellcheck,step:this.step,type:this.type,value:h,onInput:this.onInput,onChange:this.onChange,onBlur:this.onBlur,onFocus:this.onFocus,onKeyDown:this.onKeydown,onCompositionstart:this.onCompositionStart,onCompositionend:this.onCompositionEnd,"aria-describedby":this.getHintTextID(),"aria-invalid":this.isInvalid?"true":void 0},this.inheritedAttributes)),this.clearInput&&!r&&!e&&re("button",{key:"95f3df17b7691d9a2e7dcd4a51f16a94aa3ca36f","aria-label":"reset",type:"button",class:"input-clear-icon",onPointerDown:I=>{I.preventDefault()},onClick:this.clearTextInput},re("ion-icon",{key:"16b0af75eed50c8115fb5597f73b5fbf71c2530e","aria-hidden":"true",icon:w})),re("slot",{key:"c48da0f8ddb3764ac43efa705bb4a6bb2d9cc2fd",name:"end"})),m&&re("div",{key:"f15238481fc20de56ca7ecb6e350b3c024cc755e",class:"input-highlight"})),this.renderBottomContent())}get el(){return this}static get watchers(){return{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}}static get style(){return{ios:wB,md:bB}}},[294,"ion-input",{color:[513],autocapitalize:[1],autocomplete:[1],autocorrect:[1],autofocus:[4],clearInput:[4,"clear-input"],clearInputIcon:[1,"clear-input-icon"],clearOnEdit:[4,"clear-on-edit"],counter:[4],counterFormatter:[16],debounce:[2],disabled:[516],enterkeyhint:[1],errorText:[1,"error-text"],fill:[1],inputmode:[1],helperText:[1,"helper-text"],label:[1],labelPlacement:[1,"label-placement"],max:[8],maxlength:[2],min:[8],minlength:[2],multiple:[4],name:[1],pattern:[1],placeholder:[1],readonly:[516],required:[4],shape:[1],spellcheck:[4],step:[1],type:[1],value:[1032],hasFocus:[32],isInvalid:[32],setFocus:[64],getInputElement:[64]},[[2,"click","onClickCapture"]],{debounce:["debounceChanged"],type:["onTypeChange"],value:["valueChanged"],dir:["onDirChanged"]}]);let TB=0;function IB(){if(typeof customElements>"u")return;["ion-input","ion-icon"].forEach(e=>{switch(e){case"ion-input":customElements.get(e)||customElements.define(e,EB);break;case"ion-icon":customElements.get(e)||zR();break}})}const SB=IB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const xB="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-ios{background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-ios.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:10px}.list-ios.list-inset ion-item:only-child,.list-ios.list-inset ion-item:not(:only-of-type):last-of-type,.list-ios.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-ios.list-inset+ion-list.list-inset{margin-top:0}.list-ios-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-ios-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 0.55px 0}.list-ios-lines-inset .item-lines-default{--inner-border-width:0 0 0.55px 0;--border-width:0px}ion-card .list-ios{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",kB="ion-list{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:0;padding-bottom:0;display:block;contain:content;list-style-type:none}ion-list.list-inset{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:hidden}.list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-left:0;padding-right:0;padding-top:8px;padding-bottom:8px;background:var(--ion-item-background, var(--ion-background-color, #fff))}.list-md>.input:last-child::after{inset-inline-start:0}.list-md.list-inset{-webkit-margin-start:16px;margin-inline-start:16px;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:16px;margin-bottom:16px;border-radius:2px}.list-md.list-inset ion-item:not(:only-of-type):last-of-type,.list-md.list-inset ion-item-sliding:last-of-type ion-item{--border-width:0;--inner-border-width:0}.list-md.list-inset ion-item:only-child{--border-width:0;--inner-border-width:0}.list-md.list-inset+ion-list.list-inset{margin-top:0}.list-md-lines-none .item-lines-default{--inner-border-width:0px;--border-width:0px}.list-md-lines-full .item-lines-default{--inner-border-width:0px;--border-width:0 0 1px 0}.list-md-lines-inset .item-lines-default{--inner-border-width:0 0 1px 0;--border-width:0px}ion-card .list-md{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}",AB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.inset=!1}async closeSlidingItems(){const e=this.el.querySelector("ion-item-sliding");return e!=null&&e.closeOpened?e.closeOpened():!1}render(){const e=Pt(this),{lines:n,inset:r}=this;return re(mn,{key:"7f9943751542d2cbd49a4ad3f28e16d9949f70d4",role:"list",class:{[e]:!0,[`list-${e}`]:!0,"list-inset":r,[`list-lines-${n}`]:n!==void 0,[`list-${e}-lines-${n}`]:n!==void 0}})}get el(){return this}static get style(){return{ios:xB,md:kB}}},[288,"ion-list",{lines:[1],inset:[4],closeSlidingItems:[64]}]);function CB(){if(typeof customElements>"u")return;["ion-list"].forEach(e=>{switch(e){case"ion-list":customElements.get(e)||customElements.define(e,AB);break}})}/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const RB=CB,HR=1,WR=2,Rp=3;class C_{constructor(e,n){this.component=e,this.params=n,this.state=HR}async init(e){if(this.state=WR,!this.element){const n=this.component;this.element=await Qb(this.delegate,e,n,["ion-page","ion-page-invisible"],this.params)}}_destroy(){gn(this.state!==Rp,"view state must be ATTACHED");const e=this.element;e&&(this.delegate?this.delegate.removeViewFromDom(e.parentElement,e):e.remove()),this.nav=void 0,this.state=Rp}}const bS=(t,e,n)=>!t||t.component!==e?!1:IR(t.params,n),ES=(t,e)=>t?t instanceof C_?t:new C_(t,e):null,PB=t=>t.map(e=>e instanceof C_?e:"component"in e?ES(e.component,e.componentProps===null?void 0:e.componentProps):ES(e,void 0)).filter(e=>e!==null),OB=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",DB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=it(this,"ionNavWillLoad",7),this.ionNavWillChange=it(this,"ionNavWillChange",3),this.ionNavDidChange=it(this,"ionNavDidChange",3),this.transInstr=[],this.gestureOrAnimationInProgress=!1,this.useRouter=!1,this.isTransitioning=!1,this.destroyed=!1,this.views=[],this.didLoad=!1,this.animated=!0}swipeGestureChanged(){this.gesture&&this.gesture.enable(this.swipeGesture===!0)}rootChanged(){this.root!==void 0&&this.didLoad!==!1&&(this.useRouter||this.root!==void 0&&this.setRoot(this.root,this.rootParams))}componentWillLoad(){if(this.useRouter=document.querySelector("ion-router")!==null&&this.el.closest("[no-router]")===null,this.swipeGesture===void 0){const e=Pt(this);this.swipeGesture=He.getBoolean("swipeBackEnabled",e==="ios")}this.ionNavWillLoad.emit()}async componentDidLoad(){this.didLoad=!0,this.rootChanged(),this.gesture=(await Wn(async()=>{const{createSwipeBackGesture:e}=await import("./swipe-back-Dtk_CyBg.js");return{createSwipeBackGesture:e}},[])).createSwipeBackGesture(this.el,this.canStart.bind(this),this.onStart.bind(this),this.onMove.bind(this),this.onEnd.bind(this)),this.swipeGestureChanged()}connectedCallback(){this.destroyed=!1}disconnectedCallback(){for(const e of this.views)ii(e.element,Cy),e._destroy();this.gesture&&(this.gesture.destroy(),this.gesture=void 0),this.transInstr.length=0,this.views.length=0,this.destroyed=!0}push(e,n,r,i){return this.insert(-1,e,n,r,i)}insert(e,n,r,i,s){return this.insertPages(e,[{component:n,componentProps:r}],i,s)}insertPages(e,n,r,i){return this.queueTrns({insertStart:e,insertViews:n,opts:r},i)}pop(e,n){return this.removeIndex(-1,1,e,n)}popTo(e,n,r){const i={removeStart:-1,removeCount:-1,opts:n};return typeof e=="object"&&e.component?(i.removeView=e,i.removeStart=1):typeof e=="number"&&(i.removeStart=e+1),this.queueTrns(i,r)}popToRoot(e,n){return this.removeIndex(1,-1,e,n)}removeIndex(e,n=1,r,i){return this.queueTrns({removeStart:e,removeCount:n,opts:r},i)}setRoot(e,n,r,i){return this.setPages([{component:e,componentProps:n}],r,i)}setPages(e,n,r){return n??(n={}),n.animated!==!0&&(n.animated=!1),this.queueTrns({insertStart:0,insertViews:e,removeStart:0,removeCount:-1,opts:n},r)}setRouteId(e,n,r,i){const s=this.getActiveSync();if(bS(s,e,n))return Promise.resolve({changed:!1,element:s.element});let o;const a=new Promise(d=>o=d);let l;const c={updateURL:!1,viewIsReady:d=>{let h;const f=new Promise(m=>h=m);return o({changed:!0,element:d,markVisible:async()=>{h(),await l}}),f}};if(r==="root")l=this.setRoot(e,n,c);else{const d=this.views.find(h=>bS(h,e,n));d?l=this.popTo(d,Object.assign(Object.assign({},c),{direction:"back",animationBuilder:i})):r==="forward"?l=this.push(e,n,Object.assign(Object.assign({},c),{animationBuilder:i})):r==="back"&&(l=this.setRoot(e,n,Object.assign(Object.assign({},c),{direction:"back",animated:!0,animationBuilder:i})))}return a}async getRouteId(){const e=this.getActiveSync();if(e)return{id:e.element.tagName,params:e.params,element:e.element}}async getActive(){return this.getActiveSync()}async getByIndex(e){return this.views[e]}async canGoBack(e){return this.canGoBackSync(e)}async getPrevious(e){return this.getPreviousSync(e)}async getLength(){return Promise.resolve(this.views.length)}getActiveSync(){return this.views[this.views.length-1]}canGoBackSync(e=this.getActiveSync()){return!!(e&&this.getPreviousSync(e))}getPreviousSync(e=this.getActiveSync()){if(!e)return;const n=this.views,r=n.indexOf(e);return r>0?n[r-1]:void 0}async queueTrns(e,n){var r,i;if(this.isTransitioning&&(!((r=e.opts)===null||r===void 0)&&r.skipIfBusy))return!1;const s=new Promise((o,a)=>{e.resolve=o,e.reject=a});if(e.done=n,e.opts&&e.opts.updateURL!==!1&&this.useRouter){const o=document.querySelector("ion-router");if(o){const a=await o.canTransition();if(a===!1)return!1;if(typeof a=="string")return o.push(a,e.opts.direction||"back"),!1}}return((i=e.insertViews)===null||i===void 0?void 0:i.length)===0&&(e.insertViews=void 0),this.transInstr.push(e),this.nextTrns(),s}success(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}if(n.done&&n.done(e.hasCompleted,e.requiresTransition,e.enteringView,e.leavingView,e.direction),n.resolve(e.hasCompleted),n.opts.updateURL!==!1&&this.useRouter){const r=document.querySelector("ion-router");if(r){const i=e.direction==="back"?"back":"forward";r.navChanged(i)}}}failed(e,n){if(this.destroyed){this.fireError("nav controller was destroyed",n);return}this.transInstr.length=0,this.fireError(e,n)}fireError(e,n){n.done&&n.done(!1,!1,e),n.reject&&!this.destroyed?n.reject(e):n.resolve(!1)}nextTrns(){if(this.isTransitioning)return!1;const e=this.transInstr.shift();return e?(this.runTransition(e),!0):!1}async runTransition(e){try{this.ionNavWillChange.emit(),this.isTransitioning=!0,this.prepareTI(e);const n=this.getActiveSync(),r=this.getEnteringView(e,n);if(!n&&!r)throw new Error("no views in the stack to be removed");r&&r.state===HR&&await r.init(this.el),this.postViewInit(r,n,e);const i=(e.enteringRequiresTransition||e.leavingRequiresTransition)&&r!==n;i&&e.opts&&n&&(e.opts.direction==="back"&&(e.opts.animationBuilder=e.opts.animationBuilder||(r==null?void 0:r.animationBuilder)),n.animationBuilder=e.opts.animationBuilder);let s;i?s=await this.transition(r,n,e):s={hasCompleted:!0,requiresTransition:!1},this.success(s,e),this.ionNavDidChange.emit()}catch(n){this.failed(n,e)}this.isTransitioning=!1,this.nextTrns()}prepareTI(e){var n,r,i;const s=this.views.length;if((n=e.opts)!==null&&n!==void 0||(e.opts={}),(r=(i=e.opts).delegate)!==null&&r!==void 0||(i.delegate=this.delegate),e.removeView!==void 0){gn(e.removeStart!==void 0,"removeView needs removeStart"),gn(e.removeCount!==void 0,"removeView needs removeCount");const l=this.views.indexOf(e.removeView);if(l<0)throw new Error("removeView was not found");e.removeStart+=l}e.removeStart!==void 0&&(e.removeStart<0&&(e.removeStart=s-1),e.removeCount<0&&(e.removeCount=s-e.removeStart),e.leavingRequiresTransition=e.removeCount>0&&e.removeStart+e.removeCount===s),e.insertViews&&((e.insertStart<0||e.insertStart>s)&&(e.insertStart=s),e.enteringRequiresTransition=e.insertStart===s);const o=e.insertViews;if(!o)return;gn(o.length>0,"length can not be zero");const a=PB(o);if(a.length===0)throw new Error("invalid views to insert");for(const l of a){l.delegate=e.opts.delegate;const c=l.nav;if(c&&c!==this)throw new Error("inserted view was already inserted");if(l.state===Rp)throw new Error("inserted view was already destroyed")}e.insertViews=a}getEnteringView(e,n){const r=e.insertViews;if(r!==void 0)return r[r.length-1];const i=e.removeStart;if(i!==void 0){const s=this.views,o=i+e.removeCount;for(let a=s.length-1;a>=0;a--){const l=s[a];if((a<i||a>=o)&&l!==n)return l}}}postViewInit(e,n,r){var i,s,o;gn(n||e,"Both leavingView and enteringView are null"),gn(r.resolve,"resolve must be valid"),gn(r.reject,"reject must be valid");const a=r.opts,{insertViews:l,removeStart:c,removeCount:d}=r;let h;if(c!==void 0&&d!==void 0){gn(c>=0,"removeStart can not be negative"),gn(d>=0,"removeCount can not be negative"),h=[];for(let m=c;m<c+d;m++){const y=this.views[m];y!==void 0&&y!==e&&y!==n&&h.push(y)}(i=a.direction)!==null&&i!==void 0||(a.direction="back")}const f=this.views.length+((s=l==null?void 0:l.length)!==null&&s!==void 0?s:0)-(d??0);if(gn(f>=0,"final balance can not be negative"),f===0)throw Wb("[ion-nav] - You can't remove all the pages in the navigation stack. nav.pop() is probably called too many times.",this,this.el),new Error("navigation stack needs at least one root page");if(l){let m=r.insertStart;for(const y of l)this.insertViewAt(y,m),m++;r.enteringRequiresTransition&&((o=a.direction)!==null&&o!==void 0||(a.direction="forward"))}if(h&&h.length>0){for(const m of h)ii(m.element,SR),ii(m.element,xR),ii(m.element,Cy);for(const m of h)this.destroyView(m)}}async transition(e,n,r){const i=r.opts,s=i.progressAnimation?h=>{h!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,h.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0}),h.progressEnd(0,0,0)):this.sbAni=h}:void 0,o=Pt(this),a=e.element,l=n&&n.element,c=Object.assign(Object.assign({mode:o,showGoBack:this.canGoBackSync(e),baseEl:this.el,progressCallback:s,animated:this.animated&&He.getBoolean("animated",!0),enteringEl:a,leavingEl:l},i),{animationBuilder:i.animationBuilder||this.animation||He.get("navAnimation")}),{hasCompleted:d}=await AR(c);return this.transitionFinish(d,e,n,i)}transitionFinish(e,n,r,i){const s=e?n:r;return s&&this.unmountInactiveViews(s),{hasCompleted:e,requiresTransition:!0,enteringView:n,leavingView:r,direction:i.direction}}insertViewAt(e,n){const r=this.views,i=r.indexOf(e);i>-1?(gn(e.nav===this,"view is not part of the nav"),r.splice(i,1),r.splice(n,0,e)):(gn(!e.nav,"nav is used"),e.nav=this,r.splice(n,0,e))}removeView(e){gn(e.state===WR||e.state===Rp,"view state should be loaded or destroyed");const n=this.views,r=n.indexOf(e);gn(r>-1,"view must be part of the stack"),r>=0&&n.splice(r,1)}destroyView(e){e._destroy(),this.removeView(e)}unmountInactiveViews(e){if(this.destroyed)return;const n=this.views,r=n.indexOf(e);for(let i=n.length-1;i>=0;i--){const s=n[i],o=s.element;o&&(i>r?(ii(o,Cy),this.destroyView(s)):i<r&&S_(o,!0))}}canStart(){return!this.gestureOrAnimationInProgress&&!!this.swipeGesture&&!this.isTransitioning&&this.transInstr.length===0&&this.canGoBackSync()}onStart(){this.gestureOrAnimationInProgress=!0,this.pop({direction:"back",progressAnimation:!0})}onMove(e){this.sbAni&&this.sbAni.progressStep(e)}onEnd(e,n,r){if(this.sbAni){this.sbAni.onFinish(()=>{this.gestureOrAnimationInProgress=!1},{oneTimeCallback:!0});let i=e?-.001:.001;e?i+=kp([0,0],[.32,.72],[0,1],[1,1],n)[0]:(this.sbAni.easing("cubic-bezier(1, 0, 0.68, 0.28)"),i+=kp([0,0],[1,0],[.68,.28],[1,1],n)[0]),this.sbAni.progressEnd(e?1:0,i,r)}else this.gestureOrAnimationInProgress=!1}render(){return re("slot",{key:"8067c9835d255daec61f33dba200fd3a6ff839a0"})}get el(){return this}static get watchers(){return{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}}static get style(){return OB}},[257,"ion-nav",{delegate:[16],swipeGesture:[1028,"swipe-gesture"],animated:[4],animation:[16],rootParams:[16],root:[1],push:[64],insert:[64],insertPages:[64],pop:[64],popTo:[64],popToRoot:[64],removeIndex:[64],setRoot:[64],setPages:[64],setRouteId:[64],getRouteId:[64],getActive:[64],getByIndex:[64],canGoBack:[64],getPrevious:[64],getLength:[64]},void 0,{swipeGesture:["swipeGestureChanged"],root:["rootChanged"]}]);function NB(){if(typeof customElements>"u")return;["ion-nav"].forEach(e=>{switch(e){case"ion-nav":customElements.get(e)||customElements.define(e,DB);break}})}const LB=NB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const $B=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:44px;--transition:background-color 200ms linear, opacity 200ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0px 0px 0.55px 0px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:var(--ion-text-color, #000);--background-focused:var(--ion-text-color, #000);--background-hover:currentColor;--background-activated-opacity:.12;--background-focused-opacity:.15;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-250, var(--ion-background-color-step-250, #c8c7cc))));--color:var(--ion-item-color, var(--ion-text-color, #000));font-size:1rem}:host(.ion-activated){--transition:none}:host(.ion-color.ion-focused) .item-native::after{background:#000;opacity:0.15}:host(.ion-color.ion-activated) .item-native::after{background:#000;opacity:0.12}:host(.item-lines-full){--border-width:0px 0px 0.55px 0px}:host(.item-lines-inset){--inner-border-width:0px 0px 0.55px 0px}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0px}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0px}::slotted([slot=start]){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:16px;margin-inline-end:16px;margin-top:2px;margin-bottom:2px}::slotted(ion-icon[slot=start]),::slotted(ion-icon[slot=end]){margin-top:7px;margin-bottom:7px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}::slotted(.button-small){--padding-top:1px;--padding-bottom:1px;--padding-start:.5em;--padding-end:.5em;min-height:24px;font-size:0.8125rem}::slotted(ion-avatar){width:36px;height:36px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:8px;margin-inline-start:8px;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:8px;margin-bottom:8px}:host(.item-radio) ::slotted(ion-label),:host(.item-toggle) ::slotted(ion-label){-webkit-margin-start:0px;margin-inline-start:0px}::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0;-webkit-margin-end:8px;margin-inline-end:8px;margin-top:10px;margin-bottom:10px}:host(.item-label-floating),:host(.item-label-stacked){--min-height:68px}',VB=':host{--border-radius:0px;--border-width:0px;--border-style:solid;--padding-top:0px;--padding-bottom:0px;--padding-end:0px;--padding-start:0px;--inner-border-width:0px;--inner-padding-top:0px;--inner-padding-bottom:0px;--inner-padding-start:0px;--inner-padding-end:0px;--inner-box-shadow:none;--detail-icon-color:initial;--detail-icon-font-size:1.25em;--detail-icon-opacity:0.25;--color-activated:var(--color);--color-focused:var(--color);--color-hover:var(--color);--ripple-color:currentColor;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:block;position:relative;-ms-flex-align:center;align-items:center;-ms-flex-pack:justify;justify-content:space-between;outline:none;color:var(--color);font-family:var(--ion-font-family, inherit);text-align:initial;text-decoration:none;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.ion-color) .item-native{background:var(--ion-color-base);color:var(--ion-color-contrast)}:host(.ion-color) .item-native,:host(.ion-color) .item-inner{border-color:var(--ion-color-shade)}:host(.ion-activated) .item-native{color:var(--color-activated)}:host(.ion-activated) .item-native::after{background:var(--background-activated);opacity:var(--background-activated-opacity)}:host(.ion-color.ion-activated) .item-native{color:var(--ion-color-contrast)}:host(.ion-focused) .item-native{color:var(--color-focused)}:host(.ion-focused) .item-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}:host(.ion-color.ion-focused) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-focused) .item-native::after{background:var(--ion-color-contrast)}@media (any-hover: hover){:host(.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--color-hover)}:host(.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native{color:var(--ion-color-contrast)}:host(.ion-color.ion-activatable:not(.ion-focused):hover) .item-native::after{background:var(--ion-color-contrast)}}:host(.item-control-needs-pointer-cursor){cursor:pointer}:host(.item-interactive-disabled:not(.item-multiple-inputs)){cursor:default;pointer-events:none}:host(.item-disabled){cursor:default;opacity:0.3;pointer-events:none}.item-native{border-radius:var(--border-radius);margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;padding-right:var(--padding-end);padding-left:calc(var(--padding-start) + var(--ion-safe-area-left, 0px));display:-ms-flexbox;display:flex;position:relative;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;min-height:var(--min-height);-webkit-transition:var(--transition);transition:var(--transition);border-width:var(--border-width);border-style:var(--border-style);border-color:var(--border-color);outline:none;background:var(--background);overflow:inherit;z-index:1;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}[dir=rtl] .item-native{padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}@supports selector(:dir(rtl)){.item-native:dir(rtl){padding-right:calc(var(--padding-start) + var(--ion-safe-area-right, 0px));padding-left:var(--padding-end)}}.item-native::-moz-focus-inner{border:0}.item-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0;-webkit-transition:var(--transition);transition:var(--transition);z-index:-1}button,a{cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-user-drag:none}.item-inner{margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;padding-top:var(--inner-padding-top);padding-bottom:var(--inner-padding-bottom);padding-right:calc(var(--ion-safe-area-right, 0px) + var(--inner-padding-end));padding-left:var(--inner-padding-start);display:-ms-flexbox;display:flex;position:relative;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;min-height:inherit;border-width:var(--inner-border-width);border-style:var(--border-style);border-color:var(--border-color);-webkit-box-shadow:var(--inner-box-shadow);box-shadow:var(--inner-box-shadow);overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host-context([dir=rtl]) .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}[dir=rtl] .item-inner{padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}@supports selector(:dir(rtl)){.item-inner:dir(rtl){padding-right:var(--inner-padding-start);padding-left:calc(var(--ion-safe-area-left, 0px) + var(--inner-padding-end))}}.item-detail-icon{-webkit-margin-start:calc(var(--inner-padding-end) / 2);margin-inline-start:calc(var(--inner-padding-end) / 2);-webkit-margin-end:-6px;margin-inline-end:-6px;color:var(--detail-icon-color);font-size:var(--detail-icon-font-size);opacity:var(--detail-icon-opacity)}::slotted(ion-icon){font-size:1.6em}::slotted(ion-button){--margin-top:0;--margin-bottom:0;--margin-start:0;--margin-end:0;z-index:1}::slotted(ion-label:not([slot=end])){-ms-flex:1;flex:1;width:-webkit-min-content;width:-moz-min-content;width:min-content;max-width:100%}:host(.item-input){-ms-flex-align:center;align-items:center}.input-wrapper{display:-ms-flexbox;display:flex;-ms-flex:1;flex:1;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-item-align:stretch;align-self:stretch;text-overflow:ellipsis;overflow:inherit;-webkit-box-sizing:border-box;box-sizing:border-box}:host(.item-label-stacked),:host(.item-label-floating){-ms-flex-align:start;align-items:start}:host(.item-label-stacked) .input-wrapper,:host(.item-label-floating) .input-wrapper{-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column}:host(.item-multiple-inputs) ::slotted(ion-checkbox),:host(.item-multiple-inputs) ::slotted(ion-datetime),:host(.item-multiple-inputs) ::slotted(ion-radio){position:relative}:host(.item-textarea){-ms-flex-align:stretch;align-items:stretch}::slotted(ion-reorder[slot]){margin-top:0;margin-bottom:0}ion-ripple-effect{color:var(--ripple-color)}:host{--min-height:48px;--background:var(--ion-item-background, var(--ion-background-color, #fff));--background-activated:transparent;--background-focused:currentColor;--background-hover:currentColor;--background-activated-opacity:0;--background-focused-opacity:.12;--background-hover-opacity:.04;--border-color:var(--ion-item-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.13)))));--color:var(--ion-item-color, var(--ion-text-color, #000));--transition:opacity 15ms linear, background-color 15ms linear;--padding-start:16px;--inner-padding-end:16px;--inner-border-width:0 0 1px 0;font-size:1rem;font-weight:normal;text-transform:none}:host(.ion-color.ion-activated) .item-native::after{background:transparent}:host(.item-interactive){--border-width:0 0 1px 0;--inner-border-width:0}:host(.item-lines-full){--border-width:0 0 1px 0}:host(.item-lines-inset){--inner-border-width:0 0 1px 0}:host(.item-lines-inset),:host(.item-lines-none){--border-width:0}:host(.item-lines-full),:host(.item-lines-none){--inner-border-width:0}:host(.item-multi-line) ::slotted([slot=start]),:host(.item-multi-line) ::slotted([slot=end]){margin-top:16px;margin-bottom:16px;-ms-flex-item-align:start;align-self:flex-start}::slotted([slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted([slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-icon){color:rgba(var(--ion-text-color-rgb, 0, 0, 0), 0.54);font-size:1.5em}:host(.ion-color) ::slotted(ion-icon){color:var(--ion-color-contrast)}::slotted(ion-icon[slot]){margin-top:12px;margin-bottom:12px}::slotted(ion-icon[slot=start]){-webkit-margin-end:32px;margin-inline-end:32px}::slotted(ion-icon[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-toggle[slot=start]),::slotted(ion-toggle[slot=end]){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}::slotted(ion-note){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-ms-flex-item-align:start;align-self:flex-start;font-size:0.6875rem}::slotted(ion-note[slot]){padding-left:0;padding-right:0;padding-top:18px;padding-bottom:10px}::slotted(ion-avatar){width:40px;height:40px}::slotted(ion-thumbnail){--size:56px}::slotted(ion-avatar),::slotted(ion-thumbnail){margin-top:8px;margin-bottom:8px}::slotted(ion-avatar[slot=start]),::slotted(ion-thumbnail[slot=start]){-webkit-margin-end:16px;margin-inline-end:16px}::slotted(ion-avatar[slot=end]),::slotted(ion-thumbnail[slot=end]){-webkit-margin-start:16px;margin-inline-start:16px}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:10px;margin-bottom:10px}:host(.item-label-stacked) ::slotted([slot=end]),:host(.item-label-floating) ::slotted([slot=end]){margin-top:7px;margin-bottom:7px}:host(.item-toggle) ::slotted(ion-label),:host(.item-radio) ::slotted(ion-label){-webkit-margin-start:0;margin-inline-start:0}::slotted(.button-small){--padding-top:2px;--padding-bottom:2px;--padding-start:.6em;--padding-end:.6em;min-height:25px;font-size:0.75rem}:host(.item-label-floating),:host(.item-label-stacked){--min-height:55px}:host(.ion-focused:not(.ion-color)) ::slotted(.label-stacked),:host(.ion-focused:not(.ion-color)) ::slotted(.label-floating),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-stacked),:host(.item-has-focus:not(.ion-color)) ::slotted(.label-floating){color:var(--ion-color-primary, #0054e9)}',MB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.labelColorStyles={},this.itemStyles=new Map,this.inheritedAriaAttributes={},this.multipleInputs=!1,this.focusable=!0,this.isInteractive=!1,this.button=!1,this.detailIcon=vS,this.disabled=!1,this.routerDirection="forward",this.type="button",this.updateInteractivityOnSlotChange=()=>{this.setIsInteractive(),this.setMultipleInputs()}}buttonChanged(){this.focusable=this.isFocusable()}labelColorChanged(e){const{color:n}=this;n===void 0&&(this.labelColorStyles=e.detail)}itemStyle(e){e.stopPropagation();const n=e.target.tagName,r=e.detail,i={},s=this.itemStyles.get(n)||{};let o=!1;Object.keys(r).forEach(a=>{if(r[a]){const l=`item-${a}`;s[l]||(o=!0),i[l]=!0}}),!o&&Object.keys(i).length!==Object.keys(s).length&&(o=!0),o&&(this.itemStyles.set(n,i),Ja(this))}connectedCallback(){this.hasStartEl()}componentWillLoad(){this.inheritedAriaAttributes=Sd(this.el,["aria-label"])}componentDidLoad(){xd(()=>{this.setMultipleInputs(),this.setIsInteractive(),this.focusable=this.isFocusable()})}totalNestedInputs(){const e=this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio"),n=this.el.querySelectorAll("ion-input, ion-range, ion-searchbar, ion-segment, ion-textarea, ion-toggle"),r=this.el.querySelectorAll("ion-router-link, ion-button, a, button");return{covers:e,inputs:n,clickables:r}}setMultipleInputs(){const{covers:e,inputs:n,clickables:r}=this.totalNestedInputs();this.multipleInputs=e.length+n.length>1||e.length+r.length>1||e.length>0&&this.isClickable()}setIsInteractive(){const{covers:e,inputs:n,clickables:r}=this.totalNestedInputs();this.isInteractive=e.length>0||n.length>0||r.length>0}hasCover(){return this.el.querySelectorAll("ion-checkbox, ion-datetime, ion-select, ion-radio").length===1&&!this.multipleInputs}isClickable(){return this.href!==void 0||this.button}canActivate(){return this.isClickable()||this.hasCover()}isFocusable(){const e=this.el.querySelector(".ion-focusable");return this.canActivate()||e!==null}hasStartEl(){this.el.querySelector('[slot="start"]')!==null&&this.el.classList.add("item-has-start-slot")}getFirstInteractive(){return this.el.querySelectorAll("ion-toggle:not([disabled]), ion-checkbox:not([disabled]), ion-radio:not([disabled]), ion-select:not([disabled]), ion-input:not([disabled]), ion-textarea:not([disabled])")[0]}render(){const{detail:e,detailIcon:n,download:r,labelColorStyles:i,lines:s,disabled:o,href:a,rel:l,target:c,routerAnimation:d,routerDirection:h,inheritedAriaAttributes:f,multipleInputs:m}=this,y={},w=Pt(this),b=this.isClickable(),T=this.canActivate(),E=b?a===void 0?"button":"a":"div",I=E==="button"?{type:this.type}:{download:r,href:a,rel:l,target:c};let R={};const D=this.getFirstInteractive();(b||D!==void 0&&!m)&&(R={onClick:k=>{if(b&&VR(a,k,h,d),D!==void 0&&!m){const O=k.composedPath()[0];k.isTrusted&&this.el.shadowRoot.contains(O)&&((D.tagName==="ION-INPUT"||D.tagName==="ION-TEXTAREA")&&D.setFocus(),D.click(),k.stopImmediatePropagation())}}});const $=e!==void 0?e:w==="ios"&&b;this.itemStyles.forEach(k=>{Object.assign(y,k)});const x=o||y["item-interactive-disabled"]?"true":null,v=Vo("ion-list",this.el)&&!Vo("ion-radio-group",this.el),_=D!==void 0&&!["ION-INPUT","ION-TEXTAREA"].includes(D.tagName);return re(mn,{key:"24b59935bd8db8b0b7f940582455a42b82cbf762","aria-disabled":x,class:Object.assign(Object.assign(Object.assign({},y),i),Gl(this.color,{item:!0,[w]:!0,"item-lines-default":s===void 0,[`item-lines-${s}`]:s!==void 0,"item-control-needs-pointer-cursor":_,"item-disabled":o,"in-list":v,"item-multiple-inputs":this.multipleInputs,"ion-activatable":T,"ion-focusable":this.focusable,"item-rtl":document.dir==="rtl"})),role:v?"listitem":null},re(E,Object.assign({key:"fd77b6e5f3eb2e1857a0cdd45562d71eabd30255"},I,f,{class:"item-native",part:"native",disabled:o},R),re("slot",{key:"8824ac8395aafa3d63c92f2128e947cac8393ac4",name:"start",onSlotchange:this.updateInteractivityOnSlotChange}),re("div",{key:"5c9127e388a432687766d86a9db91fd1663abf03",class:"item-inner"},re("div",{key:"9dc2d2f58c4067c0143b3963334c346c3c7f77df",class:"input-wrapper"},re("slot",{key:"8377d9e56dc4b1913f1346111b706e7f14c24d30",onSlotchange:this.updateInteractivityOnSlotChange})),re("slot",{key:"bc771e106174f4a84ee12e92d14df81ad7ed177d",name:"end",onSlotchange:this.updateInteractivityOnSlotChange}),$&&re("ion-icon",{key:"45336d121a097cbf71ee8a3f6b554745ba5e0bbf",icon:n,lazy:!1,class:"item-detail-icon",part:"detail-icon","aria-hidden":"true","flip-rtl":n===vS})),T&&w==="md"&&re("ion-ripple-effect",{key:"197e244ae3bffebfa6ac9bfe7658d12e1af0ecb1"})))}get el(){return this}static get watchers(){return{button:["buttonChanged"]}}static get style(){return{ios:$B,md:VB}}},[289,"ion-item",{color:[513],button:[4],detail:[4],detailIcon:[1,"detail-icon"],disabled:[516],download:[1],href:[1],rel:[1],lines:[1],routerAnimation:[16],routerDirection:[1,"router-direction"],target:[1],type:[1],multipleInputs:[32],focusable:[32],isInteractive:[32]},[[0,"ionColor","labelColorChanged"],[0,"ionStyle","itemStyle"]],{button:["buttonChanged"]}]);/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const FB=":host(.tab-hidden){display:none !important}",BB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.loaded=!1,this.active=!1}async componentWillLoad(){this.active&&await this.setActive()}async setActive(){await this.prepareLazyLoaded(),this.active=!0}changeActive(e){e&&this.prepareLazyLoaded()}prepareLazyLoaded(){if(!this.loaded&&this.component!=null){this.loaded=!0;try{return Qb(this.delegate,this.el,this.component,["ion-page"])}catch(e){ea("[ion-tab] - Exception in prepareLazyLoaded:",e)}}return Promise.resolve(void 0)}render(){const{tab:e,active:n,component:r}=this;return re(mn,{key:"dbad8fe9f1566277d14647626308eaf1601ab01f",role:"tabpanel","aria-hidden":n?null:"true","aria-labelledby":`tab-button-${e}`,class:{"ion-page":r===void 0,"tab-hidden":!n}},re("slot",{key:"3be64f4e7161f6769aaf8e4dcb5293fcaa09af45"}))}get el(){return this}static get watchers(){return{active:["changeActive"]}}static get style(){return FB}},[257,"ion-tab",{active:[1028],delegate:[16],tab:[1],component:[1],setActive:[64]},void 0,{active:["changeActive"]}]);function UB(){if(typeof customElements>"u")return;["ion-tab"].forEach(e=>{switch(e){case"ion-tab":customElements.get(e)||customElements.define(e,BB);break}})}const zB=UB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const jB=":host(.ion-color){color:var(--ion-color-base)}",qB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow()}render(){const e=Pt(this);return re(mn,{key:"361035eae7b92dc109794348d39bad2f596eb6be",class:Gl(this.color,{[e]:!0})},re("slot",{key:"c7b8835cf485ba9ecd73298f0529276ce1ea0852"}))}static get style(){return jB}},[257,"ion-text",{color:[513]}]);function HB(){if(typeof customElements>"u")return;["ion-text"].forEach(e=>{switch(e){case"ion-text":customElements.get(e)||customElements.define(e,qB);break}})}const WB=HB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const GB=MB,KB="html.plt-mobile ion-app{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}html.plt-mobile ion-app [contenteditable]{-webkit-user-select:text;-moz-user-select:text;-ms-user-select:text;user-select:text}ion-app.force-statusbar-padding{--ion-safe-area-top:20px}",QB=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost()}componentDidLoad(){YB(async()=>{const e=yo(window,"hybrid");if(He.getBoolean("_testing")||Wn(()=>import("./index7-BZ_Mn_8X.js"),[]).then(i=>i.startTapClick(He)),He.getBoolean("statusTap",e)&&Wn(()=>import("./status-tap-CYhcoNRv.js"),__vite__mapDeps([0,1])).then(i=>i.startStatusTap()),He.getBoolean("inputShims",XB())){const i=yo(window,"ios")?"ios":"android";Wn(()=>import("./input-shims-wT8hHNPw.js"),__vite__mapDeps([2,1])).then(s=>s.startInputShims(He,i))}const n=await Wn(()=>Promise.resolve().then(()=>k6),void 0),r=e||Ap();He.getBoolean("hardwareBackButton",r)?n.startHardwareBackButton():(Ap()&&Wb("[ion-app] - experimentalCloseWatcher was set to `true`, but hardwareBackButton was set to `false`. Both config options must be `true` for the Close Watcher API to be used."),n.blockHardwareBackButton()),typeof window<"u"&&Wn(()=>import("./keyboard-D8bRtsoY.js"),[]).then(i=>i.startKeyboardAssist(window)),Wn(()=>import("./focus-visible-supuXXMI.js"),[]).then(i=>this.focusVisible=i.startFocusVisible())})}async setFocus(e){this.focusVisible&&this.focusVisible.setFocus(e)}render(){const e=Pt(this);return re(mn,{key:"9be440c65819e4fa67c2c3c6477ab40b3ad3eed3",class:{[e]:!0,"ion-page":!0,"force-statusbar-padding":He.getBoolean("_forceStatusbarPadding")}})}get el(){return this}static get style(){return KB}},[256,"ion-app",{setFocus:[64]}]),XB=()=>!!(yo(window,"ios")&&yo(window,"mobile")||yo(window,"android")&&yo(window,"mobileweb")),YB=t=>{"requestIdleCallback"in window?window.requestIdleCallback(t):setTimeout(t,32)};function JB(){if(typeof customElements>"u")return;["ion-app"].forEach(e=>{switch(e){case"ion-app":customElements.get(e)||customElements.define(e,QB);break}})}const ZB=JB;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const eU=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--background-hover:transparent;--background-hover-opacity:1;--background-focused:currentColor;--background-focused-opacity:.1;--border-radius:4px;--color:var(--ion-color-primary, #0054e9);--icon-margin-end:1px;--icon-margin-start:-4px;--icon-font-size:1.6em;--min-height:32px;font-size:clamp(17px, 1.0625rem, 21.998px)}.button-native{-webkit-transform:translateZ(0);transform:translateZ(0);overflow:visible;z-index:99}:host(.ion-activated) .button-native{opacity:0.4}@media (any-hover: hover){:host(:hover){opacity:0.6}}',tU=':host{--background:transparent;--color-focused:currentColor;--color-hover:currentColor;--icon-margin-top:0;--icon-margin-bottom:0;--icon-padding-top:0;--icon-padding-end:0;--icon-padding-bottom:0;--icon-padding-start:0;--margin-top:0;--margin-end:0;--margin-bottom:0;--margin-start:0;--min-width:auto;--min-height:auto;--padding-top:0;--padding-end:0;--padding-bottom:0;--padding-start:0;--opacity:1;--ripple-color:currentColor;--transition:background-color, opacity 100ms linear;display:none;min-width:var(--min-width);min-height:var(--min-height);color:var(--color);font-family:var(--ion-font-family, inherit);text-align:center;text-decoration:none;text-overflow:ellipsis;text-transform:none;white-space:nowrap;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-webkit-font-kerning:none;font-kerning:none}ion-ripple-effect{color:var(--ripple-color)}:host(.ion-color) .button-native{color:var(--ion-color-base)}:host(.show-back-button){display:block}:host(.back-button-disabled){cursor:default;opacity:0.5;pointer-events:none}.button-native{border-radius:var(--border-radius);-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;-webkit-margin-start:var(--margin-start);margin-inline-start:var(--margin-start);-webkit-margin-end:var(--margin-end);margin-inline-end:var(--margin-end);margin-top:var(--margin-top);margin-bottom:var(--margin-bottom);-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:block;position:relative;width:100%;height:100%;min-height:inherit;-webkit-transition:var(--transition);transition:var(--transition);border:0;outline:none;background:var(--background);line-height:1;cursor:pointer;opacity:var(--opacity);overflow:hidden;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:0;-webkit-appearance:none;-moz-appearance:none;appearance:none}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:row nowrap;flex-flow:row nowrap;-ms-flex-negative:0;flex-shrink:0;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:100%;height:100%;z-index:1}ion-icon{-webkit-padding-start:var(--icon-padding-start);padding-inline-start:var(--icon-padding-start);-webkit-padding-end:var(--icon-padding-end);padding-inline-end:var(--icon-padding-end);padding-top:var(--icon-padding-top);padding-bottom:var(--icon-padding-bottom);-webkit-margin-start:var(--icon-margin-start);margin-inline-start:var(--icon-margin-start);-webkit-margin-end:var(--icon-margin-end);margin-inline-end:var(--icon-margin-end);margin-top:var(--icon-margin-top);margin-bottom:var(--icon-margin-bottom);display:inherit;font-size:var(--icon-font-size);font-weight:var(--icon-font-weight);pointer-events:none}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}@media (any-hover: hover){:host(:hover) .button-native{color:var(--color-hover)}:host(:hover) .button-native::after{background:var(--background-hover);opacity:var(--background-hover-opacity)}}:host(.ion-color.ion-focused) .button-native{color:var(--ion-color-base)}@media (any-hover: hover){:host(.ion-color:hover) .button-native{color:var(--ion-color-base)}}:host(.in-toolbar:not(.in-toolbar-color)){color:var(--ion-toolbar-color, var(--color))}:host{--border-radius:4px;--background-focused:currentColor;--background-focused-opacity:.12;--background-hover:currentColor;--background-hover-opacity:0.04;--color:currentColor;--icon-margin-end:0;--icon-margin-start:0;--icon-font-size:1.5rem;--icon-font-weight:normal;--min-height:32px;--min-width:44px;--padding-start:12px;--padding-end:12px;font-size:0.875rem;font-weight:500;text-transform:uppercase}:host(.back-button-has-icon-only){--border-radius:50%;min-width:48px;min-height:48px;aspect-ratio:1/1}.button-native{-webkit-box-shadow:none;box-shadow:none}.button-text{-webkit-padding-start:4px;padding-inline-start:4px;-webkit-padding-end:4px;padding-inline-end:4px;padding-top:0;padding-bottom:0}ion-icon{line-height:0.67;text-align:start}@media (any-hover: hover){:host(.ion-color:hover) .button-native::after{background:var(--ion-color-base)}}:host(.ion-color.ion-focused) .button-native::after{background:var(--ion-color-base)}',nU=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.inheritedAttributes={},this.disabled=!1,this.type="button",this.onClick=async n=>{const r=this.el.closest("ion-nav");return n.preventDefault(),r&&await r.canGoBack()?r.pop({animationBuilder:this.routerAnimation,skipIfBusy:!0}):VR(this.defaultHref,n,"back",this.routerAnimation)}}componentWillLoad(){this.inheritedAttributes=Gb(this.el),this.defaultHref===void 0&&(this.defaultHref=He.get("backButtonDefaultHref"))}get backButtonIcon(){const e=this.icon;return e??(Pt(this)==="ios"?He.get("backButtonIcon",R6):He.get("backButtonIcon",C6))}get backButtonText(){const e=Pt(this)==="ios"?"Back":null;return this.text!=null?this.text:He.get("backButtonText",e)}get hasIconOnly(){return this.backButtonIcon&&!this.backButtonText}get rippleType(){return this.hasIconOnly?"unbounded":"bounded"}render(){const{color:e,defaultHref:n,disabled:r,type:i,hasIconOnly:s,backButtonIcon:o,backButtonText:a,icon:l,inheritedAttributes:c}=this,d=n!==void 0,h=Pt(this),f=c["aria-label"]||a||"back";return re(mn,{key:"5466624a10f1ab56f5469e6dc07080303880f2fe",onClick:this.onClick,class:Gl(e,{[h]:!0,button:!0,"back-button-disabled":r,"back-button-has-icon-only":s,"in-toolbar":Vo("ion-toolbar",this.el),"in-toolbar-color":Vo("ion-toolbar[color]",this.el),"ion-activatable":!0,"ion-focusable":!0,"show-back-button":d})},re("button",{key:"63bc75ef0ad7cc9fb79e58217a3314b20acd73e3",type:i,disabled:r,class:"button-native",part:"native","aria-label":f},re("span",{key:"5d3eacbd11af2245c6e1151cab446a0d96559ad8",class:"button-inner"},o&&re("ion-icon",{key:"6439af0ae463764174e7d3207f02267811df666d",part:"icon",icon:o,"aria-hidden":"true",lazy:!1,"flip-rtl":l===void 0}),a&&re("span",{key:"8ee89fb18dfdb5b75948a8b197ff4cdbc008742f",part:"text","aria-hidden":"true",class:"button-text"},a)),h==="md"&&re("ion-ripple-effect",{key:"63803a884998bc73bea5afe0b2a0a14e3fa4d6bf",type:this.rippleType})))}get el(){return this}static get style(){return{ios:eU,md:tU}}},[289,"ion-back-button",{color:[513],defaultHref:[1025,"default-href"],disabled:[516],icon:[1],text:[1],type:[1],routerAnimation:[16]}]);function rU(){if(typeof customElements>"u")return;["ion-back-button","ion-icon","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-back-button":customElements.get(e)||customElements.define(e,nU);break;case"ion-icon":customElements.get(e)||zR();break;case"ion-ripple-effect":customElements.get(e)||jR();break}})}const iU=rU,sU=":host{left:0;right:0;top:0;bottom:0;position:absolute;contain:layout size style;z-index:0}",oU=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=it(this,"ionNavWillLoad",7),this.ionNavWillChange=it(this,"ionNavWillChange",3),this.ionNavDidChange=it(this,"ionNavDidChange",3),this.lockController=lB(),this.gestureOrAnimationInProgress=!1,this.mode=Pt(this),this.animated=!0}swipeHandlerChanged(){this.gesture&&this.gesture.enable(this.swipeHandler!==void 0)}async connectedCallback(){const e=()=>{this.gestureOrAnimationInProgress=!0,this.swipeHandler&&this.swipeHandler.onStart()};this.gesture=(await Wn(async()=>{const{createSwipeBackGesture:n}=await import("./swipe-back-Dtk_CyBg.js");return{createSwipeBackGesture:n}},[])).createSwipeBackGesture(this.el,()=>!this.gestureOrAnimationInProgress&&!!this.swipeHandler&&this.swipeHandler.canStart(),()=>e(),n=>{var r;return(r=this.ani)===null||r===void 0?void 0:r.progressStep(n)},(n,r,i)=>{if(this.ani){this.ani.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(n)},{oneTimeCallback:!0});let s=n?-.001:.001;n?s+=kp([0,0],[.32,.72],[0,1],[1,1],r)[0]:(this.ani.easing("cubic-bezier(1, 0, 0.68, 0.28)"),s+=kp([0,0],[1,0],[.68,.28],[1,1],r)[0]),this.ani.progressEnd(n?1:0,s,i)}else this.gestureOrAnimationInProgress=!1}),this.swipeHandlerChanged()}componentWillLoad(){this.ionNavWillLoad.emit()}disconnectedCallback(){this.gesture&&(this.gesture.destroy(),this.gesture=void 0)}async commit(e,n,r){const i=await this.lockController.lock();let s=!1;try{s=await this.transition(e,n,r)}catch(o){ea("[ion-router-outlet] - Exception in commit:",o)}return i(),s}async setRouteId(e,n,r,i){return{changed:await this.setRoot(e,n,{duration:r==="root"?0:void 0,direction:r==="back"?"back":"forward",animationBuilder:i}),element:this.activeEl}}async getRouteId(){const e=this.activeEl;return e?{id:e.tagName,element:e,params:this.activeParams}:void 0}async setRoot(e,n,r){if(this.activeComponent===e&&IR(n,this.activeParams))return!1;const i=this.activeEl,s=await Qb(this.delegate,this.el,e,["ion-page","ion-page-invisible"],n);return this.activeComponent=e,this.activeEl=s,this.activeParams=n,await this.commit(s,i,r),await A6(this.delegate,i),!0}async transition(e,n,r={}){if(n===e)return!1;this.ionNavWillChange.emit();const{el:i,mode:s}=this,o=this.animated&&He.getBoolean("animated",!0),a=r.animationBuilder||this.animation||He.get("navAnimation");return await AR(Object.assign(Object.assign({mode:s,animated:o,enteringEl:e,leavingEl:n,baseEl:i,deepWait:T_(i),progressCallback:r.progressAnimation?l=>{l!==void 0&&!this.gestureOrAnimationInProgress?(this.gestureOrAnimationInProgress=!0,l.onFinish(()=>{this.gestureOrAnimationInProgress=!1,this.swipeHandler&&this.swipeHandler.onEnd(!1)},{oneTimeCallback:!0}),l.progressEnd(0,0,0)):this.ani=l}:void 0},r),{animationBuilder:a})),this.ionNavDidChange.emit(),!0}render(){return re("slot",{key:"84b50f1155b0d780dff802ee13223287259fd525"})}get el(){return this}static get watchers(){return{swipeHandler:["swipeHandlerChanged"]}}static get style(){return sU}},[257,"ion-router-outlet",{mode:[1025],delegate:[16],animated:[4],animation:[16],swipeHandler:[16],commit:[64],setRouteId:[64],getRouteId:[64]},void 0,{swipeHandler:["swipeHandlerChanged"]}]);function aU(){if(typeof customElements>"u")return;["ion-router-outlet"].forEach(e=>{switch(e){case"ion-router-outlet":customElements.get(e)||customElements.define(e,oU);break}})}const lU=aU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const cU=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-color-step-50, var(--ion-background-color-step-50, #f7f7f7)));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:0.55px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.2)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-600, var(--ion-text-color-step-400, #666666)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:50px}@supports ((-webkit-backdrop-filter: blur(0)) or (backdrop-filter: blur(0))){:host(.tab-bar-translucent){--background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.8);-webkit-backdrop-filter:saturate(210%) blur(20px);backdrop-filter:saturate(210%) blur(20px)}:host(.ion-color.tab-bar-translucent){background:rgba(var(--ion-color-base-rgb), 0.8)}:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:rgba(var(--ion-background-color-rgb, 255, 255, 255), 0.6)}}",uU=":host{display:-ms-flexbox;display:flex;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;width:auto;padding-right:var(--ion-safe-area-right);padding-bottom:var(--ion-safe-area-bottom, 0);padding-left:var(--ion-safe-area-left);border-top:var(--border);background:var(--background);color:var(--color);text-align:center;contain:strict;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;z-index:10;-webkit-box-sizing:content-box !important;box-sizing:content-box !important}:host(.ion-color) ::slotted(ion-tab-button){--background-focused:var(--ion-color-shade);--color-selected:var(--ion-color-contrast)}:host(.ion-color) ::slotted(.tab-selected){color:var(--ion-color-contrast)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){color:rgba(var(--ion-color-contrast-rgb), 0.7)}:host(.ion-color),:host(.ion-color) ::slotted(ion-tab-button){background:var(--ion-color-base)}:host(.ion-color) ::slotted(ion-tab-button.ion-focused),:host(.tab-bar-translucent) ::slotted(ion-tab-button.ion-focused){background:var(--background-focused)}:host(.tab-bar-translucent) ::slotted(ion-tab-button){background:transparent}:host([slot=top]){padding-top:var(--ion-safe-area-top, 0);padding-bottom:0;border-top:0;border-bottom:var(--border)}:host(.tab-bar-hidden){display:none !important}:host{--background:var(--ion-tab-bar-background, var(--ion-background-color, #fff));--background-focused:var(--ion-tab-bar-background-focused, #e0e0e0);--border:1px solid var(--ion-tab-bar-border-color, var(--ion-border-color, var(--ion-color-step-150, var(--ion-background-color-step-150, rgba(0, 0, 0, 0.07)))));--color:var(--ion-tab-bar-color, var(--ion-color-step-650, var(--ion-text-color-step-350, #595959)));--color-selected:var(--ion-tab-bar-color-selected, var(--ion-color-primary, #0054e9));height:56px}",dU=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionTabBarChanged=it(this,"ionTabBarChanged",7),this.ionTabBarLoaded=it(this,"ionTabBarLoaded",7),this.keyboardCtrl=null,this.didLoad=!1,this.keyboardVisible=!1,this.translucent=!1}selectedTabChanged(){this.didLoad&&this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}componentDidLoad(){this.ionTabBarLoaded.emit(),this.didLoad=!0,this.selectedTab!==void 0&&this.ionTabBarChanged.emit({tab:this.selectedTab})}async connectedCallback(){this.keyboardCtrl=await uB(async(e,n)=>{e===!1&&n!==void 0&&await n,this.keyboardVisible=e})}disconnectedCallback(){this.keyboardCtrl&&this.keyboardCtrl.destroy()}render(){const{color:e,translucent:n,keyboardVisible:r}=this,i=Pt(this),s=r&&this.el.getAttribute("slot")!=="top";return re(mn,{key:"388ec37ce308035bab78d6c9a016bb616e9517a9",role:"tablist","aria-hidden":s?"true":null,class:Gl(e,{[i]:!0,"tab-bar-translucent":n,"tab-bar-hidden":s})},re("slot",{key:"ce10ade2b86725e24f3254516483eeedd8ecb16a"}))}get el(){return this}static get watchers(){return{selectedTab:["selectedTabChanged"]}}static get style(){return{ios:cU,md:uU}}},[289,"ion-tab-bar",{color:[513],selectedTab:[1,"selected-tab"],translucent:[4],keyboardVisible:[32]},void 0,{selectedTab:["selectedTabChanged"]}]);function hU(){if(typeof customElements>"u")return;["ion-tab-bar"].forEach(e=>{switch(e){case"ion-tab-bar":customElements.get(e)||customElements.define(e,dU);break}})}const fU=hU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const pU=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:2px;--padding-bottom:0;--padding-start:2px;max-width:240px;font-size:10px}::slotted(ion-badge){-webkit-padding-start:6px;padding-inline-start:6px;-webkit-padding-end:6px;padding-inline-end:6px;padding-top:1px;padding-bottom:1px;top:4px;height:auto;font-size:12px;line-height:16px}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-icon){margin-top:2px;margin-bottom:2px;font-size:24px}::slotted(ion-icon::before){vertical-align:top}::slotted(ion-label){margin-top:0;margin-bottom:1px;min-height:11px;font-weight:500}:host(.tab-has-label-only) ::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;font-size:12px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-label),:host(.tab-layout-icon-start) ::slotted(ion-label),:host(.tab-layout-icon-hide) ::slotted(ion-label){margin-top:2px;margin-bottom:2px;font-size:14px;line-height:1.1}:host(.tab-layout-icon-end) ::slotted(ion-icon),:host(.tab-layout-icon-start) ::slotted(ion-icon){min-width:24px;height:26px;margin-top:2px;margin-bottom:1px;font-size:24px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:calc(50% + 12px)}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:1px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:4px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:calc(50% + 35px)}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:calc(50% + 30px)}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:10px}:host(.tab-layout-label-hide) ::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){font-size:30px}',mU=':host{--ripple-color:var(--color-selected);--background-focused-opacity:1;-ms-flex:1;flex:1;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:center;justify-content:center;height:100%;outline:none;background:var(--background);color:var(--color)}.button-native{border-radius:inherit;margin-left:0;margin-right:0;margin-top:0;margin-bottom:0;-webkit-padding-start:var(--padding-start);padding-inline-start:var(--padding-start);-webkit-padding-end:var(--padding-end);padding-inline-end:var(--padding-end);padding-top:var(--padding-top);padding-bottom:var(--padding-bottom);font-family:inherit;font-size:inherit;font-style:inherit;font-weight:inherit;letter-spacing:inherit;text-decoration:inherit;text-indent:inherit;text-overflow:inherit;text-transform:inherit;text-align:inherit;white-space:inherit;color:inherit;display:-ms-flexbox;display:flex;position:relative;-ms-flex-direction:inherit;flex-direction:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;border:0;outline:none;background:transparent;text-decoration:none;cursor:pointer;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-user-drag:none}.button-native::after{left:0;right:0;top:0;bottom:0;position:absolute;content:"";opacity:0}.button-inner{display:-ms-flexbox;display:flex;position:relative;-ms-flex-flow:inherit;flex-flow:inherit;-ms-flex-align:inherit;align-items:inherit;-ms-flex-pack:inherit;justify-content:inherit;width:100%;height:100%;z-index:1}:host(.ion-focused) .button-native{color:var(--color-focused)}:host(.ion-focused) .button-native::after{background:var(--background-focused);opacity:var(--background-focused-opacity)}@media (any-hover: hover){a:hover{color:var(--color-selected)}}:host(.tab-selected){color:var(--color-selected)}:host(.tab-hidden){display:none !important}:host(.tab-disabled){pointer-events:none;opacity:0.4}::slotted(ion-label),::slotted(ion-icon){display:block;-ms-flex-item-align:center;align-self:center;max-width:100%;text-overflow:ellipsis;white-space:nowrap;overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box}::slotted(ion-label){-ms-flex-order:0;order:0}::slotted(ion-icon){-ms-flex-order:-1;order:-1;height:1em}:host(.tab-has-label-only) ::slotted(ion-label){white-space:normal}::slotted(ion-badge){-webkit-box-sizing:border-box;box-sizing:border-box;position:absolute;z-index:1}:host(.tab-layout-icon-start){-ms-flex-direction:row;flex-direction:row}:host(.tab-layout-icon-end){-ms-flex-direction:row-reverse;flex-direction:row-reverse}:host(.tab-layout-icon-bottom){-ms-flex-direction:column-reverse;flex-direction:column-reverse}:host(.tab-layout-icon-hide) ::slotted(ion-icon){display:none}:host(.tab-layout-label-hide) ::slotted(ion-label){display:none}ion-ripple-effect{color:var(--ripple-color)}:host{--padding-top:0;--padding-end:12px;--padding-bottom:0;--padding-start:12px;max-width:168px;font-size:12px;font-weight:normal;letter-spacing:0.03em}::slotted(ion-label){margin-left:0;margin-right:0;margin-top:2px;margin-bottom:2px;text-transform:none}::slotted(ion-icon){margin-left:0;margin-right:0;margin-top:16px;margin-bottom:16px;-webkit-transform-origin:center center;transform-origin:center center;font-size:22px}:host-context([dir=rtl]) ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}[dir=rtl] ::slotted(ion-icon){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}@supports selector(:dir(rtl)){::slotted(ion-icon):dir(rtl){-webkit-transform-origin:calc(100% - center) center;transform-origin:calc(100% - center) center}}::slotted(ion-badge){border-radius:8px;-webkit-padding-start:2px;padding-inline-start:2px;-webkit-padding-end:2px;padding-inline-end:2px;padding-top:3px;padding-bottom:2px;top:8px;min-width:12px;font-size:8px;font-weight:normal}::slotted(ion-badge){inset-inline-start:calc(50% + 6px)}::slotted(ion-badge:empty){display:block;min-width:8px;height:8px}:host(.tab-layout-icon-top) ::slotted(ion-icon){margin-top:6px;margin-bottom:2px}:host(.tab-layout-icon-top) ::slotted(ion-label){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){top:8px}:host(.tab-layout-icon-bottom) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-bottom) ::slotted(ion-icon){margin-top:0;margin-bottom:6px}:host(.tab-layout-icon-bottom) ::slotted(ion-label){margin-top:6px;margin-bottom:0}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-start) ::slotted(ion-badge),:host(.tab-layout-icon-end) ::slotted(ion-badge){inset-inline-start:80%}:host(.tab-layout-icon-start) ::slotted(ion-icon){-webkit-margin-end:6px;margin-inline-end:6px}:host(.tab-layout-icon-end) ::slotted(ion-icon){-webkit-margin-start:6px;margin-inline-start:6px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-icon-hide) ::slotted(ion-badge),:host(.tab-has-label-only) ::slotted(ion-badge){inset-inline-start:70%}:host(.tab-layout-icon-hide) ::slotted(ion-label),:host(.tab-has-label-only) ::slotted(ion-label){margin-top:0;margin-bottom:0}:host(.tab-layout-label-hide) ::slotted(ion-badge),:host(.tab-has-icon-only) ::slotted(ion-badge){top:16px}:host(.tab-layout-label-hide) ::slotted(ion-icon),:host(.tab-has-icon-only) ::slotted(ion-icon){margin-top:0;margin-bottom:0;font-size:24px}',gU=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionTabButtonClick=it(this,"ionTabButtonClick",7),this.inheritedAttributes={},this.disabled=!1,this.selected=!1,this.onKeyUp=n=>{(n.key==="Enter"||n.key===" ")&&this.selectTab(n)},this.onClick=n=>{this.selectTab(n)}}onTabBarChanged(e){const n=e.target,r=this.el.parentElement;(e.composedPath().includes(r)||n!=null&&n.contains(this.el))&&(this.selected=this.tab===e.detail.tab)}componentWillLoad(){this.inheritedAttributes=Object.assign({},Sd(this.el,["aria-label"])),this.layout===void 0&&(this.layout=He.get("tabButtonLayout","icon-top"))}selectTab(e){this.tab!==void 0&&(this.disabled||this.ionTabButtonClick.emit({tab:this.tab,href:this.href,selected:this.selected}),e.preventDefault())}get hasLabel(){return!!this.el.querySelector("ion-label")}get hasIcon(){return!!this.el.querySelector("ion-icon")}render(){const{disabled:e,hasIcon:n,hasLabel:r,href:i,rel:s,target:o,layout:a,selected:l,tab:c,inheritedAttributes:d}=this,h=Pt(this),f={download:this.download,href:i,rel:s,target:o};return re(mn,{key:"ce9d29ced0c781d6b2fa62cd5feb801c11fc42e8",onClick:this.onClick,onKeyup:this.onKeyUp,id:c!==void 0?`tab-button-${c}`:null,class:{[h]:!0,"tab-selected":l,"tab-disabled":e,"tab-has-label":r,"tab-has-icon":n,"tab-has-label-only":r&&!n,"tab-has-icon-only":n&&!r,[`tab-layout-${a}`]:!0,"ion-activatable":!0,"ion-selectable":!0,"ion-focusable":!0}},re("a",Object.assign({key:"01cb0ed2e77c5c1a8abd48da1bb07ac1b305d0b6"},f,{class:"button-native",part:"native",role:"tab","aria-selected":l?"true":null,"aria-disabled":e?"true":null,tabindex:e?"-1":void 0},d),re("span",{key:"d0240c05f42217cfb186b86ff8a0c9cd70b9c8df",class:"button-inner"},re("slot",{key:"0a20b84925037dbaa8bb4a495b813d3f7c2e58ac"})),h==="md"&&re("ion-ripple-effect",{key:"4c92c27178cdac89d69cffef8d2c39c3644914e8",type:"unbounded"})))}get el(){return this}static get style(){return{ios:pU,md:mU}}},[289,"ion-tab-button",{disabled:[4],download:[1],href:[1],rel:[1],layout:[1025],selected:[1028],tab:[1],target:[1]},[[8,"ionTabBarChanged","onTabBarChanged"]]]);function yU(){if(typeof customElements>"u")return;["ion-tab-button","ion-ripple-effect"].forEach(e=>{switch(e){case"ion-tab-button":customElements.get(e)||customElements.define(e,gU);break;case"ion-ripple-effect":customElements.get(e)||jR();break}})}const vU=yU;/*!
 * (C) Ionic http://ionicframework.com - MIT License
 */const _U=":host{left:0;right:0;top:0;bottom:0;display:-ms-flexbox;display:flex;position:absolute;-ms-flex-direction:column;flex-direction:column;width:100%;height:100%;contain:layout size style;z-index:0}.tabs-inner{position:relative;-ms-flex:1;flex:1;contain:layout size style}",wU=tn(class extends en{constructor(e){super(),e!==!1&&this.__registerHost(),this.__attachShadow(),this.ionNavWillLoad=it(this,"ionNavWillLoad",7),this.ionTabsWillChange=it(this,"ionTabsWillChange",3),this.ionTabsDidChange=it(this,"ionTabsDidChange",3),this.transitioning=!1,this.useRouter=!1,this.onTabClicked=n=>{const{href:r,tab:i}=n.detail;if(this.useRouter&&r!==void 0){const s=document.querySelector("ion-router");s&&s.push(r)}else this.select(i)}}async componentWillLoad(){if(this.useRouter||(this.useRouter=(!!this.el.querySelector("ion-router-outlet")||!!document.querySelector("ion-router"))&&!this.el.closest("[no-router]")),!this.useRouter){const e=this.tabs;e.length>0&&await this.select(e[0])}this.ionNavWillLoad.emit()}componentDidLoad(){this.updateTabBar()}componentDidUpdate(){this.updateTabBar()}updateTabBar(){const e=this.el.querySelector("ion-tab-bar");if(!e)return;const n=this.selectedTab?this.selectedTab.tab:void 0;n!==void 0&&e.selectedTab!==n&&(e.selectedTab=n)}async select(e){const n=Dy(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),await this.notifyRouter(),this.tabSwitch(),!0):!1}async getTab(e){return Dy(this.tabs,e)}getSelected(){return Promise.resolve(this.selectedTab?this.selectedTab.tab:void 0)}async setRouteId(e){const n=Dy(this.tabs,e);return this.shouldSwitch(n)?(await this.setActive(n),{changed:!0,element:this.selectedTab,markVisible:()=>this.tabSwitch()}):{changed:!1,element:this.selectedTab}}async getRouteId(){var e;const n=(e=this.selectedTab)===null||e===void 0?void 0:e.tab;return n!==void 0?{id:n,element:this.selectedTab}:void 0}setActive(e){return this.transitioning?Promise.reject("transitioning already happening"):(this.transitioning=!0,this.leavingTab=this.selectedTab,this.selectedTab=e,this.ionTabsWillChange.emit({tab:e.tab}),e.active=!0,this.updateTabBar(),Promise.resolve())}tabSwitch(){const e=this.selectedTab,n=this.leavingTab;this.leavingTab=void 0,this.transitioning=!1,e&&n!==e&&(n&&(n.active=!1),this.ionTabsDidChange.emit({tab:e.tab}))}notifyRouter(){if(this.useRouter){const e=document.querySelector("ion-router");if(e)return e.navChanged("forward")}return Promise.resolve(!1)}shouldSwitch(e){const n=this.selectedTab;return e!==void 0&&e!==n&&!this.transitioning}get tabs(){return Array.from(this.el.querySelectorAll("ion-tab"))}render(){return re(mn,{key:"7b4b302f2942d8d131f6fc24e817989a8be08867",onIonTabButtonClick:this.onTabClicked},re("slot",{key:"2c51cf14c0f17a8ddf2d879858c984cdf8fd3147",name:"top"}),re("div",{key:"7e9d6055092d41bd9bc80ae15965f77e216feb84",class:"tabs-inner"},re("slot",{key:"c308a787e37ff7f6653531d70deca597a7602d26"})),re("slot",{key:"d5f5e693710c853570811602f859cf3e88272684",name:"bottom"}))}get el(){return this}static get style(){return _U}},[257,"ion-tabs",{useRouter:[1028,"use-router"],selectedTab:[32],select:[64],getTab:[64],getSelected:[64],setRouteId:[64],getRouteId:[64]}]),Dy=(t,e)=>{const n=typeof e=="string"?t.find(r=>r.tab===e):e;return n||ea(`[ion-tabs] - Tab with id: "${n}" does not exist`),n};function bU(){if(typeof customElements>"u")return;["ion-tabs"].forEach(e=>{switch(e){case"ion-tabs":customElements.get(e)||customElements.define(e,wU);break}})}const EU=bU,TU="ionicons",Bm={hydratedSelectorName:"hydrated",lazyLoad:!1,updatable:!0};var IU=Object.defineProperty,SU=(t,e)=>{for(var n in e)IU(t,n,{get:e[n],enumerable:!0})},Mo=t=>{if(t.__stencil__getHostRef)return t.__stencil__getHostRef()},xU=(t,e)=>{const n={$flags$:0,$hostElement$:t,$cmpMeta$:e,$instanceValues$:new Map};n.$onReadyPromise$=new Promise(i=>n.$onReadyResolve$=i),t["s-p"]=[],t["s-rc"]=[];const r=n;return t.__stencil__getHostRef=()=>r,r},TS=(t,e)=>e in t,Um=(t,e)=>(0,console.error)(t,e),Pp=new Map,kU="slot-fb{display:contents}slot-fb[hidden]{display:none}",IS="http://www.w3.org/1999/xlink",fr=typeof window<"u"?window:{},AU=fr.HTMLElement||class{},ks={$flags$:0,$resourcesUrl$:"",jmp:t=>t(),raf:t=>requestAnimationFrame(t),ael:(t,e,n,r)=>t.addEventListener(e,n,r),rel:(t,e,n,r)=>t.removeEventListener(e,n,r),ce:(t,e)=>new CustomEvent(t,e)},CU=t=>Promise.resolve(t),GR=(()=>{try{return new CSSStyleSheet,typeof new CSSStyleSheet().replaceSync=="function"}catch{}return!1})(),R_=!1,SS=[],KR=[],RU=(t,e)=>n=>{t.push(n),R_||(R_=!0,ks.raf(QR))},xS=t=>{for(let e=0;e<t.length;e++)try{t[e](performance.now())}catch(n){Um(n)}t.length=0},QR=()=>{xS(SS),xS(KR),(R_=SS.length>0)&&ks.raf(QR)},Xb=t=>CU().then(t),PU=RU(KR),OU=t=>{const e=new URL(t,ks.$resourcesUrl$);return e.origin!==fr.location.origin?e.href:e.pathname},Yb=t=>(t=typeof t,t==="object"||t==="function");function DU(t){var e,n,r;return(r=(n=(e=t.head)==null?void 0:e.querySelector('meta[name="csp-nonce"]'))==null?void 0:n.getAttribute("content"))!=null?r:void 0}var NU=t=>t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),LU={};SU(LU,{err:()=>XR,map:()=>$U,ok:()=>P_,unwrap:()=>VU,unwrapErr:()=>MU});var P_=t=>({isOk:!0,isErr:!1,value:t}),XR=t=>({isOk:!1,isErr:!0,value:t});function $U(t,e){if(t.isOk){const n=e(t.value);return n instanceof Promise?n.then(r=>P_(r)):P_(n)}if(t.isErr){const n=t.value;return XR(n)}throw"should never get here"}var VU=t=>{if(t.isOk)return t.value;throw t.value},MU=t=>{if(t.isErr)return t.value;throw t.value};var Hh;function FU(t){var e;const n=this.attachShadow({mode:"open"});Hh===void 0&&(Hh=(e=void 0)!=null?e:null),Hh&&n.adoptedStyleSheets.push(Hh)}var Fo=(t,e="")=>()=>{},qa=new WeakMap,BU=(t,e,n)=>{let r=Pp.get(t);GR&&n?(r=r||new CSSStyleSheet,typeof r=="string"?r=e:r.replaceSync(e)):r=e,Pp.set(t,r)},UU=(t,e,n)=>{var r;const i=YR(e),s=Pp.get(i);if(!fr.document)return i;if(t=t.nodeType===11?t:fr.document,s)if(typeof s=="string"){t=t.head||t;let o=qa.get(t),a;if(o||qa.set(t,o=new Set),!o.has(i)){{a=fr.document.createElement("style"),a.innerHTML=s;const l=(r=ks.$nonce$)!=null?r:DU(fr.document);if(l!=null&&a.setAttribute("nonce",l),!(e.$flags$&1))if(t.nodeName==="HEAD"){const c=t.querySelectorAll("link[rel=preconnect]"),d=c.length>0?c[c.length-1].nextSibling:t.querySelector("style");t.insertBefore(a,(d==null?void 0:d.parentNode)===t?d:null)}else if("host"in t)if(GR){const c=new CSSStyleSheet;c.replaceSync(s),t.adoptedStyleSheets.unshift(c)}else{const c=t.querySelector("style");c?c.innerHTML=s+c.innerHTML:t.prepend(a)}else t.append(a);e.$flags$&1&&t.insertBefore(a,null)}e.$flags$&4&&(a.innerHTML+=kU),o&&o.add(i)}}else t.adoptedStyleSheets.includes(s)||t.adoptedStyleSheets.push(s);return i},zU=t=>{const e=t.$cmpMeta$,n=t.$hostElement$,r=e.$flags$,i=Fo("attachStyles",e.$tagName$),s=UU(n.shadowRoot?n.shadowRoot:n.getRootNode(),e);r&10&&(n["s-sc"]=s,n.classList.add(s+"-h")),i()},YR=(t,e)=>"sc-"+t.$tagName$,Sf=(t,e,...n)=>{let r=null,i=null,s=!1,o=!1;const a=[],l=d=>{for(let h=0;h<d.length;h++)r=d[h],Array.isArray(r)?l(r):r!=null&&typeof r!="boolean"&&((s=typeof t!="function"&&!Yb(r))&&(r=String(r)),s&&o?a[a.length-1].$text$+=r:a.push(s?O_(null,r):r),o=s)};if(l(n),e){e.key&&(i=e.key);{const d=e.className||e.class;d&&(e.class=typeof d!="object"?d:Object.keys(d).filter(h=>d[h]).join(" "))}}const c=O_(t,null);return c.$attrs$=e,a.length>0&&(c.$children$=a),c.$key$=i,c},O_=(t,e)=>{const n={$flags$:0,$tag$:t,$text$:e,$elm$:null,$children$:null};return n.$attrs$=null,n.$key$=null,n},JR={},jU=t=>t&&t.$tag$===JR,Jb=t=>{const e=NU(t);return new RegExp(`(^|[^@]|@(?!supports\\s+selector\\s*\\([^{]*?${e}))(${e}\\b)`,"g")};Jb("::slotted");Jb(":host");Jb(":host-context");var ZR=(t,e,n)=>t!=null&&!Yb(t)?e&4?t==="false"?!1:t===""||!!t:e&1?String(t):t:t,qU=(t,e,n)=>{const r=ks.ce(e,n);return t.dispatchEvent(r),r},kS=(t,e,n,r,i,s,o)=>{if(n===r)return;let a=TS(t,e),l=e.toLowerCase();if(e==="class"){const c=t.classList,d=AS(n);let h=AS(r);c.remove(...d.filter(f=>f&&!h.includes(f))),c.add(...h.filter(f=>f&&!d.includes(f)))}else if(e==="style"){for(const c in n)(!r||r[c]==null)&&(c.includes("-")?t.style.removeProperty(c):t.style[c]="");for(const c in r)(!n||r[c]!==n[c])&&(c.includes("-")?t.style.setProperty(c,r[c]):t.style[c]=r[c])}else if(e!=="key")if(e==="ref")r&&r(t);else if(!t.__lookupSetter__(e)&&e[0]==="o"&&e[1]==="n"){if(e[2]==="-"?e=e.slice(3):TS(fr,l)?e=l.slice(2):e=l[2]+e.slice(3),n||r){const c=e.endsWith(eP);e=e.replace(WU,""),n&&ks.rel(t,e,n,c),r&&ks.ael(t,e,r,c)}}else{const c=Yb(r);if(a||c&&r!==null)try{if(t.tagName.includes("-"))t[e]!==r&&(t[e]=r);else{const h=r??"";e==="list"?a=!1:(n==null||t[e]!=h)&&(typeof t.__lookupSetter__(e)=="function"?t[e]=h:t.setAttribute(e,h))}}catch{}let d=!1;l!==(l=l.replace(/^xlink\:?/,""))&&(e=l,d=!0),r==null||r===!1?(r!==!1||t.getAttribute(e)==="")&&(d?t.removeAttributeNS(IS,e):t.removeAttribute(e)):(!a||s&4||i)&&!c&&t.nodeType===1&&(r=r===!0?"":r,d?t.setAttributeNS(IS,e,r):t.setAttribute(e,r))}},HU=/\s/,AS=t=>(typeof t=="object"&&t&&"baseVal"in t&&(t=t.baseVal),!t||typeof t!="string"?[]:t.split(HU)),eP="Capture",WU=new RegExp(eP+"$"),tP=(t,e,n,r)=>{const i=e.$elm$.nodeType===11&&e.$elm$.host?e.$elm$.host:e.$elm$,s=t&&t.$attrs$||{},o=e.$attrs$||{};for(const a of CS(Object.keys(s)))a in o||kS(i,a,s[a],void 0,n,e.$flags$);for(const a of CS(Object.keys(o)))kS(i,a,s[a],o[a],n,e.$flags$)};function CS(t){return t.includes("ref")?[...t.filter(e=>e!=="ref"),"ref"]:t}var Zb,nP=!1,Op=(t,e,n)=>{const r=e.$children$[n];let i=0,s,o;if(r.$text$!==null)s=r.$elm$=fr.document.createTextNode(r.$text$);else{if(!fr.document)throw new Error("You are trying to render a Stencil component in an environment that doesn't support the DOM. Make sure to populate the [`window`](https://developer.mozilla.org/en-US/docs/Web/API/Window/window) object before rendering a component.");if(s=r.$elm$=fr.document.createElement(r.$tag$),tP(null,r,nP),r.$children$)for(i=0;i<r.$children$.length;++i)o=Op(t,r,i),o&&s.appendChild(o)}return s["s-hn"]=Zb,s},rP=(t,e,n,r,i,s)=>{let o=t,a;for(o.shadowRoot&&o.tagName===Zb&&(o=o.shadowRoot);i<=s;++i)r[i]&&(a=Op(null,n,i),a&&(r[i].$elm$=a,xf(o,a,e)))},iP=(t,e,n)=>{for(let r=e;r<=n;++r){const i=t[r];if(i){const s=i.$elm$;sP(i),s&&s.remove()}}},GU=(t,e,n,r,i=!1)=>{let s=0,o=0,a=0,l=0,c=e.length-1,d=e[0],h=e[c],f=r.length-1,m=r[0],y=r[f],w,b;for(;s<=c&&o<=f;)if(d==null)d=e[++s];else if(h==null)h=e[--c];else if(m==null)m=r[++o];else if(y==null)y=r[--f];else if(Wh(d,m,i))Ia(d,m,i),d=e[++s],m=r[++o];else if(Wh(h,y,i))Ia(h,y,i),h=e[--c],y=r[--f];else if(Wh(d,y,i))Ia(d,y,i),xf(t,d.$elm$,h.$elm$.nextSibling),d=e[++s],y=r[--f];else if(Wh(h,m,i))Ia(h,m,i),xf(t,h.$elm$,d.$elm$),h=e[--c],m=r[++o];else{for(a=-1,l=s;l<=c;++l)if(e[l]&&e[l].$key$!==null&&e[l].$key$===m.$key$){a=l;break}a>=0?(b=e[a],b.$tag$!==m.$tag$?w=Op(e&&e[o],n,a):(Ia(b,m,i),e[a]=void 0,w=b.$elm$),m=r[++o]):(w=Op(e&&e[o],n,o),m=r[++o]),w&&xf(d.$elm$.parentNode,w,d.$elm$)}s>c?rP(t,r[f+1]==null?null:r[f+1].$elm$,n,r,o,f):o>f&&iP(e,s,c)},Wh=(t,e,n=!1)=>t.$tag$===e.$tag$?n?(n&&!t.$key$&&e.$key$&&(t.$key$=e.$key$),!0):t.$key$===e.$key$:!1,Ia=(t,e,n=!1)=>{const r=e.$elm$=t.$elm$,i=t.$children$,s=e.$children$,o=e.$text$;o===null?(tP(t,e,nP),i!==null&&s!==null?GU(r,i,e,s,n):s!==null?(t.$text$!==null&&(r.textContent=""),rP(r,null,e,s,0,s.length-1)):!n&&Bm.updatable&&i!==null&&iP(i,0,i.length-1)):t.$text$!==o&&(r.data=o)},sP=t=>{t.$attrs$&&t.$attrs$.ref&&t.$attrs$.ref(null),t.$children$&&t.$children$.map(sP)},xf=(t,e,n)=>t==null?void 0:t.insertBefore(e,n),KU=(t,e,n=!1)=>{const r=t.$hostElement$,i=t.$cmpMeta$,s=t.$vnode$||O_(null,null),a=jU(e)?e:Sf(null,null,e);if(Zb=r.tagName,i.$attrsToReflect$&&(a.$attrs$=a.$attrs$||{},i.$attrsToReflect$.map(([l,c])=>a.$attrs$[c]=r[l])),n&&a.$attrs$)for(const l of Object.keys(a.$attrs$))r.hasAttribute(l)&&!["key","ref","style","class"].includes(l)&&(a.$attrs$[l]=r[l]);a.$tag$=null,a.$flags$|=4,t.$vnode$=a,a.$elm$=s.$elm$=r.shadowRoot||r,Ia(s,a,n)},oP=(t,e)=>{if(e&&!t.$onRenderResolve$&&e["s-p"]){const n=e["s-p"].push(new Promise(r=>t.$onRenderResolve$=()=>{e["s-p"].splice(n-1,1),r()}))}},e0=(t,e)=>{if(t.$flags$|=16,t.$flags$&4){t.$flags$|=512;return}return oP(t,t.$ancestorComponent$),PU(()=>QU(t,e))},QU=(t,e)=>{const n=t.$hostElement$,r=Fo("scheduleUpdate",t.$cmpMeta$.$tagName$),i=n;if(!i)throw new Error(`Can't render component <${n.tagName.toLowerCase()} /> with invalid Stencil runtime! Make sure this imported component is compiled with a \`externalRuntime: true\` flag. For more information, please refer to https://stenciljs.com/docs/custom-elements#externalruntime`);let s;return e?s=tl(i,"componentWillLoad",void 0,n):s=tl(i,"componentWillUpdate",void 0,n),s=RS(s,()=>tl(i,"componentWillRender",void 0,n)),r(),RS(s,()=>YU(t,i,e))},RS=(t,e)=>XU(t)?t.then(e).catch(n=>{console.error(n),e()}):e(),XU=t=>t instanceof Promise||t&&t.then&&typeof t.then=="function",YU=async(t,e,n)=>{var r;const i=t.$hostElement$,s=Fo("update",t.$cmpMeta$.$tagName$),o=i["s-rc"];n&&zU(t);const a=Fo("render",t.$cmpMeta$.$tagName$);JU(t,e,i,n),o&&(o.map(l=>l()),i["s-rc"]=void 0),a(),s();{const l=(r=i["s-p"])!=null?r:[],c=()=>ZU(t);l.length===0?c():(Promise.all(l).then(c),t.$flags$|=4,l.length=0)}},JU=(t,e,n,r)=>{try{e=e.render(),t.$flags$&=-17,t.$flags$|=2,KU(t,e,r)}catch(i){Um(i,t.$hostElement$)}return null},ZU=t=>{const e=t.$cmpMeta$.$tagName$,n=t.$hostElement$,r=Fo("postUpdate",e),i=n,s=t.$ancestorComponent$;tl(i,"componentDidRender",void 0,n),t.$flags$&64?(tl(i,"componentDidUpdate",void 0,n),r()):(t.$flags$|=64,t3(n),tl(i,"componentDidLoad",void 0,n),r(),t.$onReadyResolve$(n),s||e3()),t.$onRenderResolve$&&(t.$onRenderResolve$(),t.$onRenderResolve$=void 0),t.$flags$&512&&Xb(()=>e0(t,!1)),t.$flags$&=-517},e3=t=>{Xb(()=>qU(fr,"appload",{detail:{namespace:TU}}))},tl=(t,e,n,r)=>{if(t&&t[e])try{return t[e](n)}catch(i){Um(i,r)}},t3=t=>{var e;return t.classList.add((e=Bm.hydratedSelectorName)!=null?e:"hydrated")},n3=(t,e)=>Mo(t).$instanceValues$.get(e),PS=(t,e,n,r)=>{const i=Mo(t),s=t,o=i.$instanceValues$.get(e),a=i.$flags$,l=s;n=ZR(n,r.$members$[e][0]);const c=Number.isNaN(o)&&Number.isNaN(n);if(n!==o&&!c){i.$instanceValues$.set(e,n);{if(r.$watchers$&&a&128){const h=r.$watchers$[e];h&&h.map(f=>{try{l[f](n,o,e)}catch(m){Um(m,s)}})}if((a&18)===2){if(l.componentShouldUpdate&&l.componentShouldUpdate(n,o,e)===!1)return;e0(i,!1)}}}},r3=(t,e,n)=>{var r,i;const s=t.prototype;if(e.$members$||e.$watchers$||t.watchers){t.watchers&&!e.$watchers$&&(e.$watchers$=t.watchers);const o=Object.entries((r=e.$members$)!=null?r:{});o.map(([a,[l]])=>{if(l&31||l&32){const{get:c,set:d}=Object.getOwnPropertyDescriptor(s,a)||{};c&&(e.$members$[a][0]|=2048),d&&(e.$members$[a][0]|=4096),Object.defineProperty(s,a,{get(){return c?c.apply(this):n3(this,a)},configurable:!0,enumerable:!0}),Object.defineProperty(s,a,{set(h){const f=Mo(this);if(d){const m=l&32?this[a]:f.$hostElement$[a];typeof m>"u"&&f.$instanceValues$.get(a)?h=f.$instanceValues$.get(a):!f.$instanceValues$.get(a)&&m&&f.$instanceValues$.set(a,m),d.apply(this,[ZR(h,l)]),h=l&32?this[a]:f.$hostElement$[a],PS(this,a,h,e);return}{PS(this,a,h,e);return}}})}});{const a=new Map;s.attributeChangedCallback=function(l,c,d){ks.jmp(()=>{var h;const f=a.get(l);if(!(this.hasOwnProperty(f)&&Bm.lazyLoad)){if(s.hasOwnProperty(f)&&typeof this[f]=="number"&&this[f]==d)return;if(f==null){const y=Mo(this),w=y==null?void 0:y.$flags$;if(w&&!(w&8)&&w&128&&d!==c){const T=this,E=(h=e.$watchers$)==null?void 0:h[l];E==null||E.forEach(I=>{T[I]!=null&&T[I].call(T,d,c,l)})}return}}const m=Object.getOwnPropertyDescriptor(s,f);d=d===null&&typeof this[f]=="boolean"?!1:d,d!==this[f]&&(!m.get||m.set)&&(this[f]=d)})},t.observedAttributes=Array.from(new Set([...Object.keys((i=e.$watchers$)!=null?i:{}),...o.filter(([l,c])=>c[0]&15).map(([l,c])=>{var d;const h=c[1]||l;return a.set(h,l),c[0]&512&&((d=e.$attrsToReflect$)==null||d.push([l,h])),h})]))}}return t},OS=async(t,e,n,r)=>{let i;if(!(e.$flags$&32)){e.$flags$|=32;{i=t.constructor;const a=t.localName;customElements.whenDefined(a).then(()=>e.$flags$|=128)}if(i&&i.style){let a;typeof i.style=="string"&&(a=i.style);const l=YR(n);if(!Pp.has(l)){const c=Fo("registerStyles",n.$tagName$);BU(l,a,!!(n.$flags$&1)),c()}}}const s=e.$ancestorComponent$,o=()=>e0(e,!0);s&&s["s-rc"]?s["s-rc"].push(o):o()},i3=(t,e)=>{},s3=t=>{{const e=Mo(t),n=e.$cmpMeta$,r=Fo("connectedCallback",n.$tagName$);if(e.$flags$&1)e!=null&&e.$lazyInstance$||e!=null&&e.$onReadyPromise$&&e.$onReadyPromise$.then(()=>i3());else{e.$flags$|=1;{let i=t;for(;i=i.parentNode||i.host;)if(i["s-p"]){oP(e,e.$ancestorComponent$=i);break}}n.$members$&&Object.entries(n.$members$).map(([i,[s]])=>{if(s&31&&t.hasOwnProperty(i)){const o=t[i];delete t[i],t[i]=o}}),Bm.initializeNextTick?Xb(()=>OS(t,e,n)):OS(t,e,n)}r()}},o3=async t=>{Mo(t),qa.has(t)&&qa.delete(t),t.shadowRoot&&qa.has(t.shadowRoot)&&qa.delete(t.shadowRoot)},a3=(t,e)=>{const n={$flags$:e[0],$tagName$:e[1]};n.$members$=e[2],n.$watchers$=t.$watchers$,n.$attrsToReflect$=[];const r=t.prototype.connectedCallback,i=t.prototype.disconnectedCallback;return Object.assign(t.prototype,{__hasHostListenerAttached:!1,__registerHost(){xU(this,n)},connectedCallback(){this.__hasHostListenerAttached||(Mo(this),this.__hasHostListenerAttached=!0),s3(this),r&&r.call(this)},disconnectedCallback(){o3(this),i&&i.call(this)},__attachShadow(){if(!this.shadowRoot)FU.call(this,n);else if(this.shadowRoot.mode!=="open")throw new Error(`Unable to re-use existing shadow root for ${n.$tagName$}! Mode is set to ${this.shadowRoot.mode} but Stencil only supports open shadow roots.`)}}),t.is=n.$tagName$,r3(t,n)};let Ny;const l3=()=>{if(typeof window>"u")return new Map;if(!Ny){const t=window;t.Ionicons=t.Ionicons||{},Ny=t.Ionicons.map=t.Ionicons.map||new Map}return Ny},c3=t=>{let e=Ly(t.src);return e||(e=aP(t.name,t.icon,t.mode,t.ios,t.md),e?u3(e,t):t.icon&&(e=Ly(t.icon),e||(e=Ly(t.icon[t.mode]),e))?e:null)},u3=(t,e)=>{const n=l3().get(t);if(n)return n;try{return OU(`svg/${t}.svg`)}catch(r){console.log("e",r),console.warn(`[Ionicons Warning]: Could not load icon with name "${t}". Ensure that the icon is registered using addIcons or that the icon SVG data is passed directly to the icon component.`,e)}},aP=(t,e,n,r,i)=>(n=(n&&Gh(n))==="ios"?"ios":"md",r&&n==="ios"?t=Gh(r):i&&n==="md"?t=Gh(i):(!t&&e&&!lP(e)&&(t=e),Dp(t)&&(t=Gh(t))),!Dp(t)||t.trim()===""||t.replace(/[a-z]|-|\d/gi,"")!==""?null:t),Ly=t=>Dp(t)&&(t=t.trim(),lP(t))?t:null,lP=t=>t.length>0&&/(\/|\.)/.test(t),Dp=t=>typeof t=="string",Gh=t=>t.toLowerCase(),d3=(t,e=[])=>{const n={};return e.forEach(r=>{t.hasAttribute(r)&&(t.getAttribute(r)!==null&&(n[r]=t.getAttribute(r)),t.removeAttribute(r))}),n},h3=t=>t&&t.dir!==""?t.dir.toLowerCase()==="rtl":(document==null?void 0:document.dir.toLowerCase())==="rtl",f3=t=>{const e=document.createElement("div");e.innerHTML=t;for(let r=e.childNodes.length-1;r>=0;r--)e.childNodes[r].nodeName.toLowerCase()!=="svg"&&e.removeChild(e.childNodes[r]);const n=e.firstElementChild;if(n&&n.nodeName.toLowerCase()==="svg"){const r=n.getAttribute("class")||"";if(n.setAttribute("class",(r+" s-ion-icon").trim()),cP(n))return e.innerHTML}return""},cP=t=>{if(t.nodeType===1){if(t.nodeName.toLowerCase()==="script")return!1;for(let e=0;e<t.attributes.length;e++){const n=t.attributes[e].name;if(Dp(n)&&n.toLowerCase().indexOf("on")===0)return!1}for(let e=0;e<t.childNodes.length;e++)if(!cP(t.childNodes[e]))return!1}return!0},p3=t=>t.startsWith("data:image/svg+xml"),m3=t=>t.indexOf(";utf8,")!==-1,nl=new Map,uP=new Map;let $y;function D_(t){const e="";return nl.set(t,e),e}const g3=(t,e)=>{const n=uP.get(t);return n||(typeof fetch<"u"&&typeof document<"u"?p3(t)&&m3(t)?Promise.resolve(y3(t)):v3(t,e):Promise.resolve(D_(t)))};function y3(t){$y||($y=new DOMParser);const n=$y.parseFromString(t,"text/html").querySelector("svg");if(n)return nl.set(t,n.outerHTML),n.outerHTML;throw new Error(`Could not parse svg from ${t}`)}function v3(t,e){const n=fetch(t).then(r=>r.text().then(i=>{i&&e!==!1&&(i=f3(i));const s=i||"";return nl.set(t,s),s}).catch(()=>D_(t))).catch(()=>D_(t));return uP.set(t,n),n}const _3=":host{display:inline-block;width:1em;height:1em;contain:strict;fill:currentColor;box-sizing:content-box !important}:host .ionicon{stroke:currentColor}.ionicon-fill-none{fill:none}.ionicon-stroke-width{stroke-width:var(--ionicon-stroke-width, 32px)}.icon-inner,.ionicon,svg{display:block;height:100%;width:100%}@supports (background: -webkit-named-image(i)){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}@supports not selector(:dir(rtl)) and selector(:host-context([dir='rtl'])){:host(.icon-rtl) .icon-inner{transform:scaleX(-1)}}:host(.flip-rtl):host-context([dir='rtl']) .icon-inner{transform:scaleX(-1)}@supports selector(:dir(rtl)){:host(.flip-rtl:dir(rtl)) .icon-inner{transform:scaleX(-1)}:host(.flip-rtl:dir(ltr)) .icon-inner{transform:scaleX(1)}}:host(.icon-small){font-size:1.125rem !important}:host(.icon-large){font-size:2rem !important}:host(.ion-color){color:var(--ion-color-base) !important}:host(.ion-color-primary){--ion-color-base:var(--ion-color-primary, #3880ff)}:host(.ion-color-secondary){--ion-color-base:var(--ion-color-secondary, #0cd1e8)}:host(.ion-color-tertiary){--ion-color-base:var(--ion-color-tertiary, #f4a942)}:host(.ion-color-success){--ion-color-base:var(--ion-color-success, #10dc60)}:host(.ion-color-warning){--ion-color-base:var(--ion-color-warning, #ffce00)}:host(.ion-color-danger){--ion-color-base:var(--ion-color-danger, #f14141)}:host(.ion-color-light){--ion-color-base:var(--ion-color-light, #f4f5f8)}:host(.ion-color-medium){--ion-color-base:var(--ion-color-medium, #989aa2)}:host(.ion-color-dark){--ion-color-base:var(--ion-color-dark, #222428)}",w3=a3(class extends AU{constructor(){super(),this.__registerHost(),this.__attachShadow(),this.iconName=null,this.inheritedAttributes={},this.didLoadIcon=!1,this.isVisible=!1,this.mode=b3(),this.lazy=!1,this.sanitize=!0}componentWillLoad(){this.inheritedAttributes=d3(this.el,["aria-label"])}connectedCallback(){this.waitUntilVisible(this.el,"50px",()=>{this.isVisible=!0,this.loadIcon()})}componentDidLoad(){this.didLoadIcon||this.loadIcon()}disconnectedCallback(){this.io&&(this.io.disconnect(),this.io=void 0)}waitUntilVisible(e,n,r){if(!!!(this.lazy&&typeof window<"u"&&window.IntersectionObserver))return r();const s=this.io=new window.IntersectionObserver(o=>{o[0].isIntersecting&&(s.disconnect(),this.io=void 0,r())},{rootMargin:n});s.observe(e)}loadIcon(){if(this.isVisible){const e=c3(this);e&&(nl.has(e)?this.svgContent=nl.get(e):g3(e,this.sanitize).then(()=>this.svgContent=nl.get(e)),this.didLoadIcon=!0)}this.iconName=aP(this.name,this.icon,this.mode,this.ios,this.md)}render(){const{flipRtl:e,iconName:n,inheritedAttributes:r,el:i}=this,s=this.mode||"md",o=n?(n.includes("arrow")||n.includes("chevron"))&&e!==!1:!1,a=e||o;return Sf(JR,Object.assign({key:"0578c899781ca145dd8205acd9670af39b57cf2e",role:"img",class:Object.assign(Object.assign({[s]:!0},E3(this.color)),{[`icon-${this.size}`]:!!this.size,"flip-rtl":a,"icon-rtl":a&&h3(i)})},r),this.svgContent?Sf("div",{class:"icon-inner",innerHTML:this.svgContent}):Sf("div",{class:"icon-inner"}))}static get assetsDirs(){return["svg"]}get el(){return this}static get watchers(){return{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}}static get style(){return _3}},[1,"ion-icon",{mode:[1025],color:[1],ios:[1],md:[1],flipRtl:[4,"flip-rtl"],name:[513],src:[1],icon:[8],size:[1],lazy:[4],sanitize:[4],svgContent:[32],isVisible:[32]},void 0,{name:["loadIcon"],src:["loadIcon"],icon:["loadIcon"],ios:["loadIcon"],md:["loadIcon"]}]),b3=()=>typeof document<"u"&&document.documentElement.getAttribute("mode")||"md",E3=t=>t?{"ion-color":!0,[`ion-color-${t}`]:!0}:null;function T3(){if(typeof customElements>"u")return;["ion-icon"].forEach(e=>{switch(e){case"ion-icon":customElements.get(e)||customElements.define(e,w3);break}})}const I3=T3,t0=pe.createContext({onIonViewWillEnter:()=>{},ionViewWillEnter:()=>{},onIonViewDidEnter:()=>{},ionViewDidEnter:()=>{},onIonViewWillLeave:()=>{},ionViewWillLeave:()=>{},onIonViewDidLeave:()=>{},ionViewDidLeave:()=>{},cleanupIonViewWillEnter:()=>{},cleanupIonViewDidEnter:()=>{},cleanupIonViewWillLeave:()=>{},cleanupIonViewDidLeave:()=>{}}),S3=class{constructor(){this.ionViewWillEnterCallbacks=[],this.ionViewDidEnterCallbacks=[],this.ionViewWillLeaveCallbacks=[],this.ionViewDidLeaveCallbacks=[],this.ionViewWillEnterDestructorCallbacks=[],this.ionViewDidEnterDestructorCallbacks=[],this.ionViewWillLeaveDestructorCallbacks=[],this.ionViewDidLeaveDestructorCallbacks=[]}onIonViewWillEnter(t){if(t.id){const e=this.ionViewWillEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillEnterCallbacks[e]=t:this.ionViewWillEnterCallbacks.push(t)}else this.ionViewWillEnterCallbacks.push(t)}teardownCallback(t,e){const n=e.filter(r=>r.id===t.id);n.length!==0&&(n.forEach(r=>{r&&typeof r.destructor=="function"&&r.destructor()}),e=e.filter(r=>r.id!==t.id))}cleanupIonViewWillEnter(t){this.teardownCallback(t,this.ionViewWillEnterDestructorCallbacks)}cleanupIonViewDidEnter(t){this.teardownCallback(t,this.ionViewDidEnterDestructorCallbacks)}cleanupIonViewWillLeave(t){this.teardownCallback(t,this.ionViewWillLeaveDestructorCallbacks)}cleanupIonViewDidLeave(t){this.teardownCallback(t,this.ionViewDidLeaveDestructorCallbacks)}ionViewWillEnter(){this.ionViewWillEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidEnter(t){if(t.id){const e=this.ionViewDidEnterCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidEnterCallbacks[e]=t:this.ionViewDidEnterCallbacks.push(t)}else this.ionViewDidEnterCallbacks.push(t)}ionViewDidEnter(){this.ionViewDidEnterCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidEnterDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewWillLeave(t){if(t.id){const e=this.ionViewWillLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewWillLeaveCallbacks[e]=t:this.ionViewWillLeaveCallbacks.push(t)}else this.ionViewWillLeaveCallbacks.push(t)}ionViewWillLeave(){this.ionViewWillLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewWillLeaveDestructorCallbacks.push({id:t.id,destructor:e})})}onIonViewDidLeave(t){if(t.id){const e=this.ionViewDidLeaveCallbacks.findIndex(n=>n.id===t.id);e>-1?this.ionViewDidLeaveCallbacks[e]=t:this.ionViewDidLeaveCallbacks.push(t)}else this.ionViewDidLeaveCallbacks.push(t)}ionViewDidLeave(){this.ionViewDidLeaveCallbacks.forEach(t=>{const e=t();t.id&&this.ionViewDidLeaveDestructorCallbacks.push({id:t.id,destructor:e})}),this.componentCanBeDestroyed()}onComponentCanBeDestroyed(t){this.componentCanBeDestroyedCallback=t}componentCanBeDestroyed(){this.componentCanBeDestroyedCallback&&this.componentCanBeDestroyedCallback()}},br=pe.createContext({getIonRedirect:()=>{},getIonRoute:()=>{},getPageManager:()=>{},getStackManager:()=>{},goBack:t=>{typeof window<"u"&&(typeof t=="string"?window.location.pathname=t:window.history.back())},navigate:t=>{typeof window<"u"&&(window.location.pathname=t)},hasIonicRouter:()=>!1,routeInfo:void 0,setCurrentTab:()=>{},changeTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)},resetTab:(t,e)=>{typeof window<"u"&&(window.location.pathname=e)}}),dP=t=>t.toLowerCase().split("-").map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(""),n0=t=>t.replace(/([A-Z])/g,e=>`-${e[0].toLowerCase()}`),hP=(t,e,n={})=>{if(t instanceof Element){const r=x3(t.classList,e,n);r!==""&&(t.className=r),Object.keys(e).forEach(i=>{if(!(i==="children"||i==="style"||i==="ref"||i==="class"||i==="className"||i==="forwardedRef"))if(i.indexOf("on")===0&&i[2]===i[2].toUpperCase()){const s=i.substring(2),o=s[0].toLowerCase()+s.substring(1);r0(o)||A3(t,o,e[i])}else t[i]=e[i],typeof e[i]==="string"&&t.setAttribute(n0(i),e[i])})}},x3=(t,e,n)=>{const r=e.className||e.class,i=n.className||n.class,s=Vy(t),o=Vy(r?r.split(" "):[]),a=Vy(i?i.split(" "):[]),l=[];return s.forEach(c=>{o.has(c)?(l.push(c),o.delete(c)):a.has(c)||l.push(c)}),o.forEach(c=>l.push(c)),l.join(" ")},k3=t=>{switch(t){case"doubleclick":return"dblclick"}return t};/**
 * Checks if an event is supported in the current execution environment.
 * @license Modernizr 3.0.0pre (Custom Build) | MIT
 */const r0=t=>{if(typeof document>"u")return!0;{const e="on"+k3(t);let n=e in document;if(!n){const r=document.createElement("div");r.setAttribute(e,"return;"),n=typeof r[e]=="function"}return n}},A3=(t,e,n)=>{const r=t.__events||(t.__events={}),i=r[e];i&&t.removeEventListener(e,i),t.addEventListener(e,r[e]=function(o){n&&n.call(this,o)})},Vy=t=>{const e=new Map;return t.forEach(n=>e.set(n,n)),e},C3=(t,e)=>{typeof t=="function"?t(e):t!=null&&(t.current=e)},i0=(...t)=>e=>{t.forEach(n=>{C3(n,e)})},R3=(t,e)=>{const n=(r,i)=>q.jsx(t,{...r,forwardedRef:i});return n.displayName=e,pe.forwardRef(n)},P3=(t,e)=>{e!==void 0&&typeof customElements<"u"&&!customElements.get(t)&&customElements.define(t,e)},Rn=(t,e,n,r)=>{r!==void 0&&r();const i=dP(t),s=class extends pe.Component{constructor(o){super(o),this.setComponentElRef=a=>{this.componentEl=a}}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(o){hP(this.componentEl,this.props,o)}render(){const{children:o,forwardedRef:a,style:l,className:c,ref:d,...h}=this.props,m={...Object.keys(h).reduce((y,w)=>{const b=h[w];if(w.indexOf("on")===0&&w[2]===w[2].toUpperCase()){const T=w.substring(2).toLowerCase();typeof document<"u"&&r0(T)&&(y[w]=b)}else{const T=typeof b;(T==="string"||T==="boolean"||T==="number")&&(y[n0(w)]=b)}return y},{}),ref:i0(a,this.setComponentElRef),style:l};return Q.createElement(t,m,o)}static get displayName(){return i}};return R3(s,i)},O3=Rn("ion-content",void 0,void 0,oB),s0=Rn("ion-img",void 0,void 0,mB),D3=Rn("ion-input",void 0,void 0,SB),fP=Rn("ion-list",void 0,void 0,RB),N3=Rn("ion-tab",void 0,void 0,zB),ur=Rn("ion-text",void 0,void 0,WB),Kl=(t,e)=>{const n=(r,i)=>q.jsx(t,{...r,forwardedRef:i});return n.displayName=e,pe.forwardRef(n)},L3=()=>{if(typeof window<"u"){const t=window.Ionic;if(t&&t.config)return t.config}return null},$3=(t,e)=>{P3(t,e);const n=dP(t),r=class extends pe.Component{constructor(i){super(i),this.handleClick=s=>{const{routerLink:o,routerDirection:a,routerOptions:l,routerAnimation:c}=this.props;o!==void 0&&(s.preventDefault(),this.context.navigate(o,a,void 0,c,l))},this.ref=pe.createRef(),this.stableMergedRefs=i0(this.ref,this.props.forwardedRef)}componentDidMount(){this.componentDidUpdate(this.props)}componentDidUpdate(i){const s=this.ref.current;hP(s,this.props,i)}render(){const{children:i,forwardedRef:s,style:o,className:a,ref:l,...c}=this.props,h={...Object.keys(c).reduce((f,m)=>{if(m.indexOf("on")===0&&m[2]===m[2].toUpperCase()){const y=m.substring(2).toLowerCase();r0(y)&&(f[m]=c[m])}else["string","boolean","number"].includes(typeof c[m])&&(f[n0(m)]=c[m]);return f},{}),ref:this.stableMergedRefs,style:o};if(this.props.routerLink&&!this.props.href&&(h.href=this.props.routerLink),h.onClick){const f=h.onClick;h.onClick=m=>{f(m),m.defaultPrevented||this.handleClick(m)}}else h.onClick=this.handleClick;return Q.createElement(t,h,i)}static get displayName(){return n}static get contextType(){return br}};return Kl(r,n)},pP=$3("ion-item",GB),V3=pe.createContext({addOverlay:()=>{},removeOverlay:()=>{}}),M3=({onAddOverlay:t,onRemoveOverlay:e})=>{const[n,r]=Q.useState({}),i=Q.useRef({});Q.useEffect(()=>{t(s),e(o)},[]);const s=(l,c,d)=>{const h={...i.current};h[l]={component:c,containerElement:d},i.current=h,r(h)},o=l=>{const c={...i.current};delete c[l],i.current=c,r(c)},a=Object.keys(n);return q.jsx(q.Fragment,{children:a.map(l=>{const c=n[l];return MM.createPortal(c.component,c.containerElement,`overlay-${l}`)})})},F3=Rn("ion-tab-button",void 0,void 0,vU),B3=Rn("ion-tab-bar",void 0,void 0,fU),DS=Rn("ion-tabs",void 0,void 0,EU),U3=Rn("ion-back-button",void 0,void 0,iU),N_=Rn("ion-router-outlet",void 0,void 0,lU),z3=Rn("ion-app",void 0,void 0,ZB),j3=Rn("ion-icon",void 0,void 0,I3);class mP extends pe.Component{constructor(e){super(e),this.ionContext={addOverlay:(n,r,i)=>{this.addOverlayCallback&&this.addOverlayCallback(n,r,i)},removeOverlay:n=>{this.removeOverlayCallback&&this.removeOverlayCallback(n)}}}render(){return q.jsxs(V3.Provider,{value:this.ionContext,children:[q.jsx(z3,{...this.props,children:this.props.children}),q.jsx(M3,{onAddOverlay:e=>{this.addOverlayCallback=e},onRemoveOverlay:e=>{this.removeOverlayCallback=e}})]})}}mP.displayName="IonApp";const gP=pe.createContext({registerIonPage:()=>{},isInOutlet:()=>!1});class o0 extends pe.PureComponent{constructor(e){super(e),this.ionPageElementRef=pe.createRef(),this.stableMergedRefs=i0(this.ionPageElementRef,this.props.forwardedRef),this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionPageElementRef.current&&(this.context.isInOutlet()&&this.ionPageElementRef.current.classList.add("ion-page-invisible"),this.context.registerIonPage(this.ionPageElementRef.current,this.props.routeInfo),this.ionPageElementRef.current.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionPageElementRef.current.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionPageElementRef.current&&(this.ionPageElementRef.current.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionPageElementRef.current.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{className:e,children:n,routeInfo:r,forwardedRef:i,...s}=this.props;return q.jsx(t0.Consumer,{children:o=>(this.ionLifeCycleContext=o,q.jsx("div",{className:e?`${e} ion-page`:"ion-page",ref:this.stableMergedRefs,...s,children:n}))})}static get contextType(){return gP}}class q3 extends pe.Component{constructor(e){super(e)}render(){const{className:e,children:n,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?q.jsx(o0,{className:e?`${e}`:"",routeInfo:this.context.routeInfo,forwardedRef:r,...i,children:n}):q.jsx("div",{className:e?`ion-page ${e}`:"ion-page",ref:r,...i,children:n})}static get displayName(){return"IonPage"}static get contextType(){return br}}const H3=Kl(q3,"IonPage"),NS={main:0},W3=(t="main")=>{const e=(NS[t]??0)+1;return NS[t]=e,e.toString()},G3=(t,e)=>{const n=new WeakMap,r=`react-delegate-${W3()}`;let i=0;return{attachViewToDom:async(a,l,c,d)=>{const h=document.createElement("div");d&&h.classList.add(...d),a.appendChild(h);const f=l(c),m=`${r}-${i++}`,y=$b.createPortal(f,h,m);return n.set(h,y),t(y),Promise.resolve(h)},removeViewFromDom:(a,l)=>{const c=n.get(l);return c&&e(c),l.remove(),Promise.resolve()}}},K3=Rn("ion-nav",void 0,void 0,LB),Q3=({children:t,forwardedRef:e,...n})=>{const[r,i]=Q.useState([]),s=l=>i(c=>[...c,l]),o=l=>i(c=>c.filter(d=>d!==l)),a=Q.useMemo(()=>G3(s,o),[]);return q.jsx(K3,{delegate:a,ref:e,...n,children:r})};Kl(Q3,"IonNav");const yP=pe.createContext({activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:pe.createRef()}}),X3=typeof HTMLElement<"u"?HTMLElement:class{};class Y3 extends pe.Component{constructor(e){super(e),this.outletIsReady=!1,this.ionViewWillEnterHandler=this.ionViewWillEnterHandler.bind(this),this.ionViewDidEnterHandler=this.ionViewDidEnterHandler.bind(this),this.ionViewWillLeaveHandler=this.ionViewWillLeaveHandler.bind(this),this.ionViewDidLeaveHandler=this.ionViewDidLeaveHandler.bind(this)}componentDidMount(){this.ionRouterOutlet&&(this.outletIsReady||Ku(this.ionRouterOutlet,()=>{this.outletIsReady=!0,this.context.registerIonPage(this.ionRouterOutlet,this.props.routeInfo)}),this.ionRouterOutlet.addEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.addEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.addEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.addEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}componentWillUnmount(){this.ionRouterOutlet&&(this.ionRouterOutlet.removeEventListener("ionViewWillEnter",this.ionViewWillEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewDidEnter",this.ionViewDidEnterHandler),this.ionRouterOutlet.removeEventListener("ionViewWillLeave",this.ionViewWillLeaveHandler),this.ionRouterOutlet.removeEventListener("ionViewDidLeave",this.ionViewDidLeaveHandler))}ionViewWillEnterHandler(){this.ionLifeCycleContext.ionViewWillEnter()}ionViewDidEnterHandler(){this.ionLifeCycleContext.ionViewDidEnter()}ionViewWillLeaveHandler(){this.ionLifeCycleContext.ionViewWillLeave()}ionViewDidLeaveHandler(){this.ionLifeCycleContext.ionViewDidLeave()}render(){const{StackManager:e,children:n,routeInfo:r,...i}=this.props;return q.jsx(t0.Consumer,{children:s=>(this.ionLifeCycleContext=s,q.jsx(e,{routeInfo:r,children:q.jsx(N_,{setRef:o=>this.ionRouterOutlet=o,...i,children:n})}))})}static get contextType(){return gP}}class J3 extends pe.Component{constructor(e){super(e)}render(){const e=this.context.getStackManager(),{children:n,forwardedRef:r,...i}=this.props;return this.context.hasIonicRouter()?i.ionPage?q.jsx(Y3,{StackManager:e,routeInfo:this.context.routeInfo,...i,children:n}):q.jsx(e,{routeInfo:this.context.routeInfo,children:q.jsx(N_,{...i,forwardedRef:r,children:n})}):q.jsx(N_,{ref:r,...this.props,children:this.props.children})}static get contextType(){return br}}const Kh=Kl(J3,"IonRouterOutlet");class Z3 extends X3{constructor(){super()}}typeof window<"u"&&window.customElements&&(window.customElements.get("ion-tabs")||window.customElements.define("ion-tabs",Z3));class GJ extends pe.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.routerOutletRef=pe.createRef(),this.tabBarRef=pe.createRef(),this.ionTabContextState={activeTab:void 0,selectTab:()=>!1,hasRouterOutlet:!1,tabBarProps:{ref:this.tabBarRef}}}componentDidMount(){this.tabBarRef.current&&(this.ionTabContextState.activeTab=this.tabBarRef.current.state.activeTab,this.tabBarRef.current.setActiveTabOnContext=e=>{this.ionTabContextState.activeTab=e},this.ionTabContextState.selectTab=this.tabBarRef.current.selectTab)}renderTabsInner(e,n){return q.jsx(DS,{...this.props,children:pe.Children.map(e,r=>pe.isValidElement(r)&&(r.type===Kh||r.type.isRouterOutlet||r.type===Q.Fragment&&r.props.children[0].type===Kh)?n:r)})}render(){let e,n=!1;const{className:r,onIonTabsDidChange:i,onIonTabsWillChange:s,...o}=this.props,a=typeof this.props.children=="function"?this.props.children(this.ionTabContextState):this.props.children;if(pe.Children.forEach(a,l=>{if(l==null||typeof l!="object"||!l.hasOwnProperty("type"))return;l.type===Kh||l.type.isRouterOutlet?e=pe.cloneElement(l):l.type===Q.Fragment&&l.props.children[0].type===Kh?e=pe.cloneElement(l.props.children[0]):l.type===N3&&(n=!0),this.ionTabContextState.hasRouterOutlet=!!e;let c={...this.ionTabContextState.tabBarProps};i!==void 0&&(c={...c,onIonTabsDidChange:i}),s!==void 0&&(c={...c,onIonTabsWillChange:s}),this.ionTabContextState.tabBarProps=c}),!e&&!n)throw new Error("IonTabs must contain an IonRouterOutlet or an IonTab");if(e&&n)throw new Error("IonTabs cannot contain an IonRouterOutlet and an IonTab at the same time");return n?q.jsx(DS,{...this.props}):q.jsx(yP.Provider,{value:this.ionTabContextState,children:this.context.hasIonicRouter()?q.jsx(o0,{className:r?`${r}`:"",routeInfo:this.context.routeInfo,...o,children:this.renderTabsInner(a,e)}):this.renderTabsInner(a,e)})}static get contextType(){return br}}class My extends pe.Component{shouldComponentUpdate(){return!0}constructor(e){super(e),this.handleIonTabButtonClick=this.handleIonTabButtonClick.bind(this)}handleIonTabButtonClick(){this.props.onClick&&this.props.onClick(new CustomEvent("ionTabButtonClick",{detail:{tab:this.props.tab,href:this.props.href,routeOptions:this.props.routerOptions}}))}render(){const{onClick:e,...n}=this.props;return q.jsx(F3,{onIonTabButtonClick:this.handleIonTabButtonClick,...n})}static get displayName(){return"IonTabButton"}}class e5 extends pe.PureComponent{constructor(e){super(e),this.setActiveTabOnContext=r=>{};const n={};pe.Children.forEach(e.children,r=>{var i,s,o,a;r!=null&&typeof r=="object"&&r.props&&(r.type===My||r.type.isTabButton)&&(n[r.props.tab]={originalHref:r.props.href,currentHref:r.props.href,originalRouteOptions:r.props.href===((i=e.routeInfo)==null?void 0:i.pathname)?(s=e.routeInfo)==null?void 0:s.routeOptions:void 0,currentRouteOptions:r.props.href===((o=e.routeInfo)==null?void 0:o.pathname)?(a=e.routeInfo)==null?void 0:a.routeOptions:void 0})}),this.state={tabs:n},this.onTabButtonClick=this.onTabButtonClick.bind(this),this.renderTabButton=this.renderTabButton.bind(this),this.setActiveTabOnContext=this.setActiveTabOnContext.bind(this),this.selectTab=this.selectTab.bind(this)}componentDidMount(){const e=this.state.tabs,r=Object.keys(e).find(i=>{const s=e[i].originalHref;return this.props.routeInfo.pathname.startsWith(s)});r&&this.setState({activeTab:r})}componentDidUpdate(){this.state.activeTab&&this.setActiveTabOnContext(this.state.activeTab)}selectTab(e){const n=this.state.tabs[e];return n?(this.onTabButtonClick(new CustomEvent("ionTabButtonClick",{detail:{href:n.currentHref,tab:e,selected:e===this.state.activeTab,routeOptions:void 0}})),!0):!1}static getDerivedStateFromProps(e,n){var a,l,c;const r={...n.tabs},s=Object.keys(n.tabs).find(d=>{const h=n.tabs[d].originalHref;return e.routeInfo.pathname.startsWith(h)});pe.Children.forEach(e.children,d=>{if(d!=null&&typeof d=="object"&&d.props&&(d.type===My||d.type.isTabButton)){const h=r[d.props.tab];(!h||h.originalHref!==d.props.href)&&(r[d.props.tab]={originalHref:d.props.href,currentHref:d.props.href,originalRouteOptions:d.props.routeOptions,currentRouteOptions:d.props.routeOptions})}});const{activeTab:o}=n;if(s&&o){const d=n.tabs[o].currentHref,h=n.tabs[o].currentRouteOptions;(s!==o||d!==((a=e.routeInfo)==null?void 0:a.pathname)||h!==((l=e.routeInfo)==null?void 0:l.routeOptions))&&(r[s]={originalHref:r[s].originalHref,currentHref:e.routeInfo.pathname+(e.routeInfo.search||""),originalRouteOptions:r[s].originalRouteOptions,currentRouteOptions:(c=e.routeInfo)==null?void 0:c.routeOptions},e.routeInfo.routeAction==="pop"&&s!==o&&(r[o]={originalHref:r[o].originalHref,currentHref:r[o].originalHref,originalRouteOptions:r[o].originalRouteOptions,currentRouteOptions:r[o].currentRouteOptions}))}return s&&e.onSetCurrentTab(s,e.routeInfo),{activeTab:s,tabs:r}}onTabButtonClick(e,n){var l;const r=this.state.tabs[e.detail.tab],i=r.originalHref,s=(l=this.props.tabsContext)==null?void 0:l.hasRouterOutlet,o=s?e.detail.href:"",{activeTab:a}=this.state;n&&n(e),a===e.detail.tab?i!==o&&this.context.resetTab(e.detail.tab,i,r.originalRouteOptions):(this.props.onIonTabsWillChange&&this.props.onIonTabsWillChange(new CustomEvent("ionTabWillChange",{detail:{tab:e.detail.tab}})),this.props.onIonTabsDidChange&&this.props.onIonTabsDidChange(new CustomEvent("ionTabDidChange",{detail:{tab:e.detail.tab}})),s&&(this.setActiveTabOnContext(e.detail.tab),this.context.changeTab(e.detail.tab,o,e.detail.routeOptions)))}renderTabButton(e){return n=>{var r,i;if(n!=null&&n.props&&(n.type===My||n.type.isTabButton)){const s=n.props.tab===e?(r=this.props.routeInfo)==null?void 0:r.pathname:this.state.tabs[n.props.tab].currentHref,o=n.props.tab===e?(i=this.props.routeInfo)==null?void 0:i.routeOptions:this.state.tabs[n.props.tab].currentRouteOptions;return pe.cloneElement(n,{href:s,routeOptions:o,onClick:a=>this.onTabButtonClick(a,n.props.onClick)})}return null}}render(){const{activeTab:e}=this.state;return q.jsx(B3,{...this.props,selectedTab:e,children:pe.Children.map(this.props.children,this.renderTabButton(e))})}static get contextType(){return br}}const t5=pe.memo(({forwardedRef:t,...e})=>{const n=Q.useContext(br),r=Q.useContext(yP),i=t||r.tabBarProps.ref,s={...r.tabBarProps,ref:i};return q.jsx(e5,{ref:i,...e,routeInfo:e.routeInfo||n.routeInfo||{pathname:window.location.pathname},onSetCurrentTab:n.setCurrentTab,tabsContext:{...r,tabBarProps:s},children:e.children})});Kl(t5,"IonTabBar");class KJ extends pe.Component{constructor(){super(...arguments),this.clickButton=e=>{if(e.target&&e.target.closest("ion-nav")!==null)return;const{defaultHref:n,routerAnimation:r}=this.props;this.context.hasIonicRouter()?(e.stopPropagation(),this.context.goBack(n,r)):n!==void 0&&(window.location.href=n)}}render(){return q.jsx(U3,{onClick:this.clickButton,...this.props})}static get displayName(){return"IonBackButton"}static get contextType(){return br}shouldComponentUpdate(){return!0}}class n5 extends pe.PureComponent{constructor(e){super(e),this.props.name&&console.warn('In Ionic React, you import icons from "ionicons/icons" and set the icon you imported to the "icon" property. Setting the "name" property has no effect.')}render(){const{icon:e,ios:n,md:r,mode:i,...s}=this.props;let o;const a=L3(),l=i||(a==null?void 0:a.get("mode"));return n||r?l==="ios"?o=n??r??e:o=r??n??e:o=e,q.jsx(j3,{ref:this.props.forwardedRef,icon:o,...s,children:this.props.children})}static get contextType(){return br}}Kl(n5,"IonIcon");class vP extends pe.PureComponent{render(){const e=this.context.getIonRoute();return!this.context.hasIonicRouter()||!vP?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRoute>"),null):q.jsx(e,{...this.props})}static get contextType(){return br}}class _P extends pe.PureComponent{render(){const e=this.context.getIonRedirect();return!this.context.hasIonicRouter()||!_P?(console.error("You either do not have an Ionic Router package, or your router does not support using <IonRedirect>"),null):q.jsx(e,{...this.props})}static get contextType(){return br}}const r5=pe.createContext({routeInfo:void 0,push:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},back:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},canGoBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")},nativeBack:()=>{throw new Error("An Ionic Router is required for IonRouterContext")}});class QJ extends pe.PureComponent{constructor(e){super(e),this.nodes=new Map,this.animation=BF(e.id)}setupAnimation(e){const n=this.animation;this.nodes.size>0&&n.addElement(Array.from(this.nodes.values())),LS(n,e),$S(n,e)}componentDidMount(){const e=this.props;this.setupAnimation(e)}componentDidUpdate(e){const n=this.animation,r=this.props;LS(n,r,e),i5(n,r,e),$S(n,r,e)}render(){const{children:e}=this.props;return q.jsx(q.Fragment,{children:pe.Children.map(e,(n,r)=>pe.cloneElement(n,{ref:i=>this.nodes.set(r,i)}))})}}const LS=(t,e={},n={})=>{const r=["children","progressStart","progressStep","progressEnd","pause","stop","destroy","play","from","to","fromTo","onFinish"];for(const l in e)e.hasOwnProperty(l)&&!r.includes(l)&&e[l]!==n[l]&&t[l](e[l]);const i=e.from;i&&i!==n.from&&(Array.isArray(i)?i:[i]).forEach(c=>t.from(c.property,c.value));const s=e.to;s&&s!==n.to&&(Array.isArray(s)?s:[s]).forEach(c=>t.to(c.property,c.value));const o=e.fromTo;o&&o!==n.fromTo&&(Array.isArray(o)?o:[o]).forEach(c=>t.fromTo(c.property,c.fromValue,c.toValue));const a=e.onFinish;a&&a!==n.onFinish&&(Array.isArray(a)?a:[a]).forEach(c=>t.onFinish(c.callback,c.opts))},i5=(t,e={},n={})=>{var o,a,l,c,d;const{progressStart:r,progressStep:i,progressEnd:s}=e;r&&(((o=n.progressStart)==null?void 0:o.forceLinearEasing)!==(r==null?void 0:r.forceLinearEasing)||((a=n.progressStart)==null?void 0:a.step)!==(r==null?void 0:r.step))&&t.progressStart(r.forceLinearEasing,r.step),i&&((l=n.progressStep)==null?void 0:l.step)!==(i==null?void 0:i.step)&&t.progressStep(i.step),s&&(((c=n.progressEnd)==null?void 0:c.playTo)!==(s==null?void 0:s.playTo)||((d=n.progressEnd)==null?void 0:d.step)!==(s==null?void 0:s.step)||(n==null?void 0:n.dur)!==(s==null?void 0:s.dur))&&t.progressEnd(s.playTo,s.step,s.dur)},$S=(t,e={},n={})=>{!n.play&&e.play&&t.play(),!n.pause&&e.pause&&t.pause(),!n.stop&&e.stop&&t.stop(),!n.destroy&&e.destroy&&t.destroy()};class XJ extends pe.Component{constructor(e){super(e),this.ionLifeCycleContext=new S3,this._isMounted=!1,this.ionLifeCycleContext.onComponentCanBeDestroyed(()=>{this.props.mount||this._isMounted&&this.setState({show:!1},()=>this.props.removeView())}),this.state={show:!0}}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{show:e}=this.state;return q.jsx(t0.Provider,{value:this.ionLifeCycleContext,children:e&&this.props.children})}}class YJ extends pe.PureComponent{constructor(e){super(e),this.ionRouterContextValue={push:(n,r,i,s,o)=>{this.navigate(n,r,i,o,s)},back:n=>{this.goBack(void 0,n)},canGoBack:()=>this.props.locationHistory.canGoBack(),nativeBack:()=>this.props.onNativeBack(),routeInfo:this.props.routeInfo},this.state={goBack:this.goBack.bind(this),hasIonicRouter:()=>!0,navigate:this.navigate.bind(this),getIonRedirect:this.getIonRedirect.bind(this),getIonRoute:this.getIonRoute.bind(this),getStackManager:this.getStackManager.bind(this),getPageManager:this.getPageManager.bind(this),routeInfo:this.props.routeInfo,setCurrentTab:this.props.onSetCurrentTab,changeTab:this.props.onChangeTab,resetTab:this.props.onResetTab}}componentDidMount(){typeof document<"u"&&(this.handleHardwareBackButton=this.handleHardwareBackButton.bind(this),document.addEventListener("ionBackButton",this.handleHardwareBackButton))}componentWillUnmount(){typeof document<"u"&&document.removeEventListener("ionBackButton",this.handleHardwareBackButton)}handleHardwareBackButton(e){e.detail.register(0,n=>{this.nativeGoBack(),n()})}goBack(e,n){this.props.onNavigateBack(e,n)}nativeGoBack(){this.props.onNativeBack()}navigate(e,n="forward",r="push",i,s,o){this.props.onNavigate(e,r,n,i,s,o)}getPageManager(){return o0}getIonRedirect(){return this.props.ionRedirect}getIonRoute(){return this.props.ionRoute}getStackManager(){return this.props.stackManager}render(){return q.jsx(br.Provider,{value:{...this.state,routeInfo:this.props.routeInfo},children:q.jsx(r5.Provider,{value:{...this.ionRouterContextValue,routeInfo:this.props.routeInfo},children:this.props.children})})}}const Np=Q.createContext(null);var wP={},bP={},EP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var e=function(){for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];if(typeof window<"u"){var a;typeof window.gtag>"u"&&(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)}),(a=window).gtag.apply(a,s)}},n=e;t.default=n})(EP);var TP={};(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=o;var e=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;function n(a){return a.toString().trim().replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(l,c,d){return c>0&&c+l.length!==d.length&&l.search(e)>-1&&d.charAt(c-2)!==":"&&(d.charAt(c+l.length)!=="-"||d.charAt(c-1)==="-")&&d.charAt(c-1).search(/[^\s-]/)<0?l.toLowerCase():l.substr(1).search(/[A-Z]|\../)>-1?l:l.charAt(0).toUpperCase()+l.substr(1)})}function r(a){return typeof a=="string"&&a.indexOf("@")!==-1}var i="REDACTED (Potential Email Address)";function s(a){return r(a)?(console.warn("This arg looks like an email address, redacting."),i):a}function o(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,c=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,d=a||"";return l&&(d=n(a)),c&&(d=s(d)),d}})(TP);(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.GA4=void 0;var e=o(EP),n=o(TP),r=["eventCategory","eventAction","eventLabel","eventValue","hitType"],i=["title","location"],s=["page","hitType"];function o(H){return H&&H.__esModule?H:{default:H}}function a(H,C){if(H==null)return{};var N=l(H,C),j,M;if(Object.getOwnPropertySymbols){var W=Object.getOwnPropertySymbols(H);for(M=0;M<W.length;M++)j=W[M],!(C.indexOf(j)>=0)&&Object.prototype.propertyIsEnumerable.call(H,j)&&(N[j]=H[j])}return N}function l(H,C){if(H==null)return{};var N={},j=Object.keys(H),M,W;for(W=0;W<j.length;W++)M=j[W],!(C.indexOf(M)>=0)&&(N[M]=H[M]);return N}function c(H){"@babel/helpers - typeof";return c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C},c(H)}function d(H){return m(H)||f(H)||E(H)||h()}function h(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(H){if(typeof Symbol<"u"&&H[Symbol.iterator]!=null||H["@@iterator"]!=null)return Array.from(H)}function m(H){if(Array.isArray(H))return I(H)}function y(H,C){var N=Object.keys(H);if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(H);C&&(j=j.filter(function(M){return Object.getOwnPropertyDescriptor(H,M).enumerable})),N.push.apply(N,j)}return N}function w(H){for(var C=1;C<arguments.length;C++){var N=arguments[C]!=null?arguments[C]:{};C%2?y(Object(N),!0).forEach(function(j){_(H,j,N[j])}):Object.getOwnPropertyDescriptors?Object.defineProperties(H,Object.getOwnPropertyDescriptors(N)):y(Object(N)).forEach(function(j){Object.defineProperty(H,j,Object.getOwnPropertyDescriptor(N,j))})}return H}function b(H,C){return D(H)||R(H,C)||E(H,C)||T()}function T(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E(H,C){if(H){if(typeof H=="string")return I(H,C);var N=Object.prototype.toString.call(H).slice(8,-1);if(N==="Object"&&H.constructor&&(N=H.constructor.name),N==="Map"||N==="Set")return Array.from(H);if(N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N))return I(H,C)}}function I(H,C){(C==null||C>H.length)&&(C=H.length);for(var N=0,j=new Array(C);N<C;N++)j[N]=H[N];return j}function R(H,C){var N=H==null?null:typeof Symbol<"u"&&H[Symbol.iterator]||H["@@iterator"];if(N!=null){var j,M,W,G,ae=[],ne=!0,ue=!1;try{if(W=(N=N.call(H)).next,C!==0)for(;!(ne=(j=W.call(N)).done)&&(ae.push(j.value),ae.length!==C);ne=!0);}catch(de){ue=!0,M=de}finally{try{if(!ne&&N.return!=null&&(G=N.return(),Object(G)!==G))return}finally{if(ue)throw M}}return ae}}function D(H){if(Array.isArray(H))return H}function $(H,C){if(!(H instanceof C))throw new TypeError("Cannot call a class as a function")}function x(H,C){for(var N=0;N<C.length;N++){var j=C[N];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(H,k(j.key),j)}}function v(H,C,N){return C&&x(H.prototype,C),Object.defineProperty(H,"prototype",{writable:!1}),H}function _(H,C,N){return C=k(C),C in H?Object.defineProperty(H,C,{value:N,enumerable:!0,configurable:!0,writable:!0}):H[C]=N,H}function k(H){var C=P(H,"string");return c(C)==="symbol"?C:String(C)}function P(H,C){if(c(H)!=="object"||H===null)return H;var N=H[Symbol.toPrimitive];if(N!==void 0){var j=N.call(H,C);if(c(j)!=="object")return j;throw new TypeError("@@toPrimitive must return a primitive value.")}return(C==="string"?String:Number)(H)}var O=function(){function H(){var C=this;$(this,H),_(this,"reset",function(){C.isInitialized=!1,C._testMode=!1,C._currentMeasurementId,C._hasLoadedGA=!1,C._isQueuing=!1,C._queueGtag=[]}),_(this,"_gtag",function(){for(var N=arguments.length,j=new Array(N),M=0;M<N;M++)j[M]=arguments[M];C._testMode||C._isQueuing?C._queueGtag.push(j):e.default.apply(void 0,j)}),_(this,"_loadGA",function(N,j){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"https://www.googletagmanager.com/gtag/js";if(!(typeof window>"u"||typeof document>"u")&&!C._hasLoadedGA){var W=document.createElement("script");W.async=!0,W.src="".concat(M,"?id=").concat(N),j&&W.setAttribute("nonce",j),document.body.appendChild(W),window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},C._hasLoadedGA=!0}}),_(this,"_toGtagOptions",function(N){if(N){var j={cookieUpdate:"cookie_update",cookieExpires:"cookie_expires",cookieDomain:"cookie_domain",cookieFlags:"cookie_flags",userId:"user_id",clientId:"client_id",anonymizeIp:"anonymize_ip",contentGroup1:"content_group1",contentGroup2:"content_group2",contentGroup3:"content_group3",contentGroup4:"content_group4",contentGroup5:"content_group5",allowAdFeatures:"allow_google_signals",allowAdPersonalizationSignals:"allow_ad_personalization_signals",nonInteraction:"non_interaction",page:"page_path",hitCallback:"event_callback"},M=Object.entries(N).reduce(function(W,G){var ae=b(G,2),ne=ae[0],ue=ae[1];return j[ne]?W[j[ne]]=ue:W[ne]=ue,W},{});return M}}),_(this,"initialize",function(N){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!N)throw new Error("Require GA_MEASUREMENT_ID");var M=typeof N=="string"?[{trackingId:N}]:N;C._currentMeasurementId=M[0].trackingId;var W=j.gaOptions,G=j.gtagOptions,ae=j.nonce,ne=j.testMode,ue=ne===void 0?!1:ne,de=j.gtagUrl;if(C._testMode=ue,ue||C._loadGA(C._currentMeasurementId,ae,de),C.isInitialized||(C._gtag("js",new Date),M.forEach(function(lt){var Li=w(w(w({},C._toGtagOptions(w(w({},W),lt.gaOptions))),G),lt.gtagOptions);Object.keys(Li).length?C._gtag("config",lt.trackingId,Li):C._gtag("config",lt.trackingId)})),C.isInitialized=!0,!ue){var Le=d(C._queueGtag);for(C._queueGtag=[],C._isQueuing=!1;Le.length;){var at=Le.shift();C._gtag.apply(C,d(at)),at[0]==="get"&&(C._isQueuing=!0)}}}),_(this,"set",function(N){if(!N){console.warn("`fieldsObject` is required in .set()");return}if(c(N)!=="object"){console.warn("Expected `fieldsObject` arg to be an Object");return}Object.keys(N).length===0&&console.warn("empty `fieldsObject` given to .set()"),C._gaCommand("set",N)}),_(this,"_gaCommandSendEvent",function(N,j,M,W,G){C._gtag("event",j,w(w({event_category:N,event_label:M,value:W},G&&{non_interaction:G.nonInteraction}),C._toGtagOptions(G)))}),_(this,"_gaCommandSendEventParameters",function(){for(var N=arguments.length,j=new Array(N),M=0;M<N;M++)j[M]=arguments[M];if(typeof j[0]=="string")C._gaCommandSendEvent.apply(C,d(j.slice(1)));else{var W=j[0],G=W.eventCategory,ae=W.eventAction,ne=W.eventLabel,ue=W.eventValue;W.hitType;var de=a(W,r);C._gaCommandSendEvent(G,ae,ne,ue,de)}}),_(this,"_gaCommandSendTiming",function(N,j,M,W){C._gtag("event","timing_complete",{name:j,value:M,event_category:N,event_label:W})}),_(this,"_gaCommandSendPageview",function(N,j){if(j&&Object.keys(j).length){var M=C._toGtagOptions(j),W=M.title,G=M.location,ae=a(M,i);C._gtag("event","page_view",w(w(w(w({},N&&{page_path:N}),W&&{page_title:W}),G&&{page_location:G}),ae))}else N?C._gtag("event","page_view",{page_path:N}):C._gtag("event","page_view")}),_(this,"_gaCommandSendPageviewParameters",function(){for(var N=arguments.length,j=new Array(N),M=0;M<N;M++)j[M]=arguments[M];if(typeof j[0]=="string")C._gaCommandSendPageview.apply(C,d(j.slice(1)));else{var W=j[0],G=W.page;W.hitType;var ae=a(W,s);C._gaCommandSendPageview(G,ae)}}),_(this,"_gaCommandSend",function(){for(var N=arguments.length,j=new Array(N),M=0;M<N;M++)j[M]=arguments[M];var W=typeof j[0]=="string"?j[0]:j[0].hitType;switch(W){case"event":C._gaCommandSendEventParameters.apply(C,j);break;case"pageview":C._gaCommandSendPageviewParameters.apply(C,j);break;case"timing":C._gaCommandSendTiming.apply(C,d(j.slice(1)));break;case"screenview":case"transaction":case"item":case"social":case"exception":console.warn("Unsupported send command: ".concat(W));break;default:console.warn("Send command doesn't exist: ".concat(W))}}),_(this,"_gaCommandSet",function(){for(var N=arguments.length,j=new Array(N),M=0;M<N;M++)j[M]=arguments[M];typeof j[0]=="string"&&(j[0]=_({},j[0],j[1])),C._gtag("set",C._toGtagOptions(j[0]))}),_(this,"_gaCommand",function(N){for(var j=arguments.length,M=new Array(j>1?j-1:0),W=1;W<j;W++)M[W-1]=arguments[W];switch(N){case"send":C._gaCommandSend.apply(C,M);break;case"set":C._gaCommandSet.apply(C,M);break;default:console.warn("Command doesn't exist: ".concat(N))}}),_(this,"ga",function(){for(var N=arguments.length,j=new Array(N),M=0;M<N;M++)j[M]=arguments[M];if(typeof j[0]=="string")C._gaCommand.apply(C,j);else{var W=j[0];C._gtag("get",C._currentMeasurementId,"client_id",function(G){C._isQueuing=!1;var ae=C._queueGtag;for(W({get:function(de){return de==="clientId"?G:de==="trackingId"?C._currentMeasurementId:de==="apiVersion"?"1":void 0}});ae.length;){var ne=ae.shift();C._gtag.apply(C,d(ne))}}),C._isQueuing=!0}return C.ga}),_(this,"event",function(N,j){if(typeof N=="string")C._gtag("event",N,C._toGtagOptions(j));else{var M=N.action,W=N.category,G=N.label,ae=N.value,ne=N.nonInteraction,ue=N.transport;if(!W||!M){console.warn("args.category AND args.action are required in event()");return}var de={hitType:"event",eventCategory:(0,n.default)(W),eventAction:(0,n.default)(M)};G&&(de.eventLabel=(0,n.default)(G)),typeof ae<"u"&&(typeof ae!="number"?console.warn("Expected `args.value` arg to be a Number."):de.eventValue=ae),typeof ne<"u"&&(typeof ne!="boolean"?console.warn("`args.nonInteraction` must be a boolean."):de.nonInteraction=ne),typeof ue<"u"&&(typeof ue!="string"?console.warn("`args.transport` must be a string."):(["beacon","xhr","image"].indexOf(ue)===-1&&console.warn("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),de.transport=ue)),C._gaCommand("send",de)}}),_(this,"send",function(N){C._gaCommand("send",N)}),this.reset()}return v(H,[{key:"gtag",value:function(){this._gtag.apply(this,arguments)}}]),H}();t.GA4=O;var A=new O;t.default=A})(bP);(function(t){function e(a){"@babel/helpers - typeof";return e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},e(a)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ReactGAImplementation=void 0;var n=i(bP);function r(a){if(typeof WeakMap!="function")return null;var l=new WeakMap,c=new WeakMap;return(r=function(h){return h?c:l})(a)}function i(a,l){if(a&&a.__esModule)return a;if(a===null||e(a)!=="object"&&typeof a!="function")return{default:a};var c=r(l);if(c&&c.has(a))return c.get(a);var d={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var f in a)if(f!=="default"&&Object.prototype.hasOwnProperty.call(a,f)){var m=h?Object.getOwnPropertyDescriptor(a,f):null;m&&(m.get||m.set)?Object.defineProperty(d,f,m):d[f]=a[f]}return d.default=a,c&&c.set(a,d),d}var s=n.GA4;t.ReactGAImplementation=s;var o=n.default;t.default=o})(wP);const IP=Uw(wP),SP=()=>{IP.initialize("G-DHY6HJL6PH")},si=(t,e,n="",r=0,i=!1)=>{IP.event({category:t,action:e,label:n,value:r,nonInteraction:i})};let s5="https://miraculous-pb-node-dev.up.railway.app";console.log("https://web-production-aec2f.up.railway.app");const ve={proxyUrl:"https://web-production-aec2f.up.railway.app",redirectUrl:"https://plumbum.app/login",imageProxy:t=>`${s5}/image?path=${encodeURIComponent(t)}`,url:"https://miraculous-pb-node-dev.up.railway.app",domain:"https://plumbum.app",logoChem:"https://drive.usercontent.google.com/download?id=14zH7qNt2xRFE45nukc3NIhLgtMtaSC0O",blankPage:{title:"",author:"",authorId:""},blankProfile:"https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png"},o5={newsletter:()=>"/newsletter",feedback:()=>"/feedback",links:()=>"/links",calendar:()=>"/events",onboard:"/onboard",library:{route:()=>"/library/:id",createRoute:t=>`/library/${t}`},page:{route:()=>"/story/:id",createRoute:t=>`/story/${t}`},workshop:{route:()=>"/workshop/page/:pageId",reader:()=>"/workshop",createRoute:t=>"/workshop/page/"+t},hashtag:{route:()=>"/hashtag/:id",createRoute:t=>`/hashtag/${t}`},editCollection:{route:()=>"/collection/:id/edit",createRoute:t=>`/collection/${t}/edit`},apply:()=>"/apply",book:{route:()=>"/book/:id",createRoute:t=>`/book/${t}`},collection:{route:()=>"/collection/:id",createRoute:t=>"/collection/"+t},editor:{text:()=>"/story/text/edit",link:()=>"/story/link/edit",image:()=>"/story/image/edit"},login:()=>"/login",editPage:{route:()=>"/story/:id/editor",createRoute:t=>`/story/${t}/editor`},addToCollection:{route:"/collection/:id/add",createRoute:t=>`/collection/${t}/add`},createCollection:{route:()=>"/collection"},addStoryToCollection:{collection:t=>`/item/${t}/collection`,story:t=>`/item/${t}/story`,route:"/item/:id/:type",createRoute:t=>`/item/${t}/collection`},discovery:()=>"/discovery",home:()=>"/home",about:()=>"/",editProfile:"/profile/edit",profile:{route:()=>"/profile/:id",createRoute:t=>`/profile/${t}`},myProfile:"/profile/home",notifications:()=>"/profile/alert"},a5=({name:t=""})=>{const[e,n]=Q.useState(0),r=Vm();Q.useEffect(()=>{SP();const i=()=>{const s=window.scrollY,o=window.innerHeight,a=document.documentElement.scrollHeight,c=(s+o)/a*100;c>=25&&e<25?(si("Scroll "+r.pathname+r.search,"Scrolled 25% "+t+" on "+r.pathname,"Scroll Depth"),n(25)):c>=50&&e<50?(si("Scroll "+window.location.pathname+window.location.search,"Scrolled 50% "+t+" on "+r.pathname,"Scroll Depth"),n(50)):c>=75&&e<75?(si("Scroll "+r.pathname+r.search,"Scrolled 75% "+t+" on "+r.pathname,"Scroll Depth"),n(75)):c>=100&&e<100&&(si("Scroll "+r.pathname+r.search,"Scrolled 100%"+t+" on "+r.pathname,"Scroll Depth"),n(100))};return window.addEventListener("scroll",i),()=>window.removeEventListener("scroll",i)},[e])};function xP(t,e){return function(){return t.apply(e,arguments)}}const{toString:l5}=Object.prototype,{getPrototypeOf:a0}=Object,{iterator:zm,toStringTag:kP}=Symbol,jm=(t=>e=>{const n=l5.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Er=t=>(t=t.toLowerCase(),e=>jm(e)===t),qm=t=>e=>typeof e===t,{isArray:Ql}=Array,gl=qm("undefined");function kd(t){return t!==null&&!gl(t)&&t.constructor!==null&&!gl(t.constructor)&&kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const AP=Er("ArrayBuffer");function c5(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&AP(t.buffer),e}const u5=qm("string"),kn=qm("function"),CP=qm("number"),Ad=t=>t!==null&&typeof t=="object",d5=t=>t===!0||t===!1,kf=t=>{if(jm(t)!=="object")return!1;const e=a0(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(kP in t)&&!(zm in t)},h5=t=>{if(!Ad(t)||kd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},f5=Er("Date"),p5=Er("File"),m5=Er("Blob"),g5=Er("FileList"),y5=t=>Ad(t)&&kn(t.pipe),v5=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||kn(t.append)&&((e=jm(t))==="formdata"||e==="object"&&kn(t.toString)&&t.toString()==="[object FormData]"))},_5=Er("URLSearchParams"),[w5,b5,E5,T5]=["ReadableStream","Request","Response","Headers"].map(Er),I5=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Cd(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),Ql(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{if(kd(t))return;const s=n?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(r=0;r<o;r++)a=s[r],e.call(null,t[a],a,t)}}function RP(t,e){if(kd(t))return null;e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const vo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,PP=t=>!gl(t)&&t!==vo;function L_(){const{caseless:t,skipUndefined:e}=PP(this)&&this||{},n={},r=(i,s)=>{const o=t&&RP(n,s)||s;kf(n[o])&&kf(i)?n[o]=L_(n[o],i):kf(i)?n[o]=L_({},i):Ql(i)?n[o]=i.slice():(!e||!gl(i))&&(n[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Cd(arguments[i],r);return n}const S5=(t,e,n,{allOwnKeys:r}={})=>(Cd(e,(i,s)=>{n&&kn(i)?t[s]=xP(i,n):t[s]=i},{allOwnKeys:r}),t),x5=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),k5=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},A5=(t,e,n,r)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!r||r(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=n!==!1&&a0(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},C5=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},R5=t=>{if(!t)return null;if(Ql(t))return t;let e=t.length;if(!CP(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},P5=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&a0(Uint8Array)),O5=(t,e)=>{const r=(t&&t[zm]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},D5=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},N5=Er("HTMLFormElement"),L5=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),VS=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),$5=Er("RegExp"),OP=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};Cd(n,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(r[s]=o||i)}),Object.defineProperties(t,r)},V5=t=>{OP(t,(e,n)=>{if(kn(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(kn(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},M5=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return Ql(t)?r(t):r(String(t).split(e)),n},F5=()=>{},B5=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function U5(t){return!!(t&&kn(t.append)&&t[kP]==="FormData"&&t[zm])}const z5=t=>{const e=new Array(10),n=(r,i)=>{if(Ad(r)){if(e.indexOf(r)>=0)return;if(kd(r))return r;if(!("toJSON"in r)){e[i]=r;const s=Ql(r)?[]:{};return Cd(r,(o,a)=>{const l=n(o,i+1);!gl(l)&&(s[a]=l)}),e[i]=void 0,s}}return r};return n(t,0)},j5=Er("AsyncFunction"),q5=t=>t&&(Ad(t)||kn(t))&&kn(t.then)&&kn(t.catch),DP=((t,e)=>t?setImmediate:e?((n,r)=>(vo.addEventListener("message",({source:i,data:s})=>{i===vo&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),vo.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",kn(vo.postMessage)),H5=typeof queueMicrotask<"u"?queueMicrotask.bind(vo):typeof process<"u"&&process.nextTick||DP,W5=t=>t!=null&&kn(t[zm]),B={isArray:Ql,isArrayBuffer:AP,isBuffer:kd,isFormData:v5,isArrayBufferView:c5,isString:u5,isNumber:CP,isBoolean:d5,isObject:Ad,isPlainObject:kf,isEmptyObject:h5,isReadableStream:w5,isRequest:b5,isResponse:E5,isHeaders:T5,isUndefined:gl,isDate:f5,isFile:p5,isBlob:m5,isRegExp:$5,isFunction:kn,isStream:y5,isURLSearchParams:_5,isTypedArray:P5,isFileList:g5,forEach:Cd,merge:L_,extend:S5,trim:I5,stripBOM:x5,inherits:k5,toFlatObject:A5,kindOf:jm,kindOfTest:Er,endsWith:C5,toArray:R5,forEachEntry:O5,matchAll:D5,isHTMLForm:N5,hasOwnProperty:VS,hasOwnProp:VS,reduceDescriptors:OP,freezeMethods:V5,toObjectSet:M5,toCamelCase:L5,noop:F5,toFiniteNumber:B5,findKey:RP,global:vo,isContextDefined:PP,isSpecCompliantForm:U5,toJSONObject:z5,isAsyncFn:j5,isThenable:q5,setImmediate:DP,asap:H5,isIterable:W5};function me(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}B.inherits(me,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:B.toJSONObject(this.config),code:this.code,status:this.status}}});const NP=me.prototype,LP={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{LP[t]={value:t}});Object.defineProperties(me,LP);Object.defineProperty(NP,"isAxiosError",{value:!0});me.from=(t,e,n,r,i,s)=>{const o=Object.create(NP);B.toFlatObject(t,o,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return me.call(o,a,l,n,r,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const G5=null;function $_(t){return B.isPlainObject(t)||B.isArray(t)}function $P(t){return B.endsWith(t,"[]")?t.slice(0,-2):t}function MS(t,e,n){return t?t.concat(e).map(function(i,s){return i=$P(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function K5(t){return B.isArray(t)&&!t.some($_)}const Q5=B.toFlatObject(B,{},null,function(e){return/^is[A-Z]/.test(e)});function Hm(t,e,n){if(!B.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=B.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,b){return!B.isUndefined(b[w])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,o=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&B.isSpecCompliantForm(e);if(!B.isFunction(i))throw new TypeError("visitor must be a function");function c(y){if(y===null)return"";if(B.isDate(y))return y.toISOString();if(B.isBoolean(y))return y.toString();if(!l&&B.isBlob(y))throw new me("Blob is not supported. Use a Buffer instead.");return B.isArrayBuffer(y)||B.isTypedArray(y)?l&&typeof Blob=="function"?new Blob([y]):Buffer.from(y):y}function d(y,w,b){let T=y;if(y&&!b&&typeof y=="object"){if(B.endsWith(w,"{}"))w=r?w:w.slice(0,-2),y=JSON.stringify(y);else if(B.isArray(y)&&K5(y)||(B.isFileList(y)||B.endsWith(w,"[]"))&&(T=B.toArray(y)))return w=$P(w),T.forEach(function(I,R){!(B.isUndefined(I)||I===null)&&e.append(o===!0?MS([w],R,s):o===null?w:w+"[]",c(I))}),!1}return $_(y)?!0:(e.append(MS(b,w,s),c(y)),!1)}const h=[],f=Object.assign(Q5,{defaultVisitor:d,convertValue:c,isVisitable:$_});function m(y,w){if(!B.isUndefined(y)){if(h.indexOf(y)!==-1)throw Error("Circular reference detected in "+w.join("."));h.push(y),B.forEach(y,function(T,E){(!(B.isUndefined(T)||T===null)&&i.call(e,T,B.isString(E)?E.trim():E,w,f))===!0&&m(T,w?w.concat(E):[E])}),h.pop()}}if(!B.isObject(t))throw new TypeError("data must be an object");return m(t),e}function FS(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function l0(t,e){this._pairs=[],t&&Hm(t,this,e)}const VP=l0.prototype;VP.append=function(e,n){this._pairs.push([e,n])};VP.toString=function(e){const n=e?function(r){return e.call(this,r,FS)}:FS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function X5(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function MP(t,e,n){if(!e)return t;const r=n&&n.encode||X5;B.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=B.isURLSearchParams(e)?e.toString():new l0(e,n).toString(r),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class BS{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){B.forEach(this.handlers,function(r){r!==null&&e(r)})}}const FP={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Y5=typeof URLSearchParams<"u"?URLSearchParams:l0,J5=typeof FormData<"u"?FormData:null,Z5=typeof Blob<"u"?Blob:null,ez={isBrowser:!0,classes:{URLSearchParams:Y5,FormData:J5,Blob:Z5},protocols:["http","https","file","blob","url","data"]},c0=typeof window<"u"&&typeof document<"u",V_=typeof navigator=="object"&&navigator||void 0,tz=c0&&(!V_||["ReactNative","NativeScript","NS"].indexOf(V_.product)<0),nz=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",rz=c0&&window.location.href||"http://localhost",iz=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:c0,hasStandardBrowserEnv:tz,hasStandardBrowserWebWorkerEnv:nz,navigator:V_,origin:rz},Symbol.toStringTag,{value:"Module"})),Xt={...iz,...ez};function sz(t,e){return Hm(t,new Xt.classes.URLSearchParams,{visitor:function(n,r,i,s){return Xt.isNode&&B.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function oz(t){return B.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function az(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function BP(t){function e(n,r,i,s){let o=n[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=n.length;return o=!o&&B.isArray(i)?i.length:o,l?(B.hasOwnProp(i,o)?i[o]=[i[o],r]:i[o]=r,!a):((!i[o]||!B.isObject(i[o]))&&(i[o]=[]),e(n,r,i[o],s)&&B.isArray(i[o])&&(i[o]=az(i[o])),!a)}if(B.isFormData(t)&&B.isFunction(t.entries)){const n={};return B.forEachEntry(t,(r,i)=>{e(oz(r),i,n,0)}),n}return null}function lz(t,e,n){if(B.isString(t))try{return(e||JSON.parse)(t),B.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const Rd={transitional:FP,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=B.isObject(e);if(s&&B.isHTMLForm(e)&&(e=new FormData(e)),B.isFormData(e))return i?JSON.stringify(BP(e)):e;if(B.isArrayBuffer(e)||B.isBuffer(e)||B.isStream(e)||B.isFile(e)||B.isBlob(e)||B.isReadableStream(e))return e;if(B.isArrayBufferView(e))return e.buffer;if(B.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return sz(e,this.formSerializer).toString();if((a=B.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Hm(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),lz(e)):e}],transformResponse:[function(e){const n=this.transitional||Rd.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(B.isResponse(e)||B.isReadableStream(e))return e;if(e&&B.isString(e)&&(r&&!this.responseType||i)){const o=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?me.from(a,me.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Xt.classes.FormData,Blob:Xt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};B.forEach(["delete","get","head","post","put","patch"],t=>{Rd.headers[t]={}});const cz=B.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),uz=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),n=o.substring(0,i).trim().toLowerCase(),r=o.substring(i+1).trim(),!(!n||e[n]&&cz[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},US=Symbol("internals");function Fc(t){return t&&String(t).trim().toLowerCase()}function Af(t){return t===!1||t==null?t:B.isArray(t)?t.map(Af):String(t)}function dz(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const hz=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fy(t,e,n,r,i){if(B.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!B.isString(e)){if(B.isString(r))return e.indexOf(r)!==-1;if(B.isRegExp(r))return r.test(e)}}function fz(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function pz(t,e){const n=B.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,o){return this[r].call(this,e,i,s,o)},configurable:!0})})}let An=class{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(a,l,c){const d=Fc(l);if(!d)throw new Error("header name must be a non-empty string");const h=B.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Af(a))}const o=(a,l)=>B.forEach(a,(c,d)=>s(c,d,l));if(B.isPlainObject(e)||e instanceof this.constructor)o(e,n);else if(B.isString(e)&&(e=e.trim())&&!hz(e))o(uz(e),n);else if(B.isObject(e)&&B.isIterable(e)){let a={},l,c;for(const d of e){if(!B.isArray(d))throw TypeError("Object iterator must return a key-value pair");a[c=d[0]]=(l=a[c])?B.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}o(a,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=Fc(e),e){const r=B.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return dz(i);if(B.isFunction(n))return n.call(this,i,r);if(B.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=Fc(e),e){const r=B.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||Fy(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(o){if(o=Fc(o),o){const a=B.findKey(r,o);a&&(!n||Fy(r,r[a],a,n))&&(delete r[a],i=!0)}}return B.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||Fy(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return B.forEach(this,(i,s)=>{const o=B.findKey(r,s);if(o){n[o]=Af(i),delete n[s];return}const a=e?fz(s):String(s).trim();a!==s&&delete n[s],n[a]=Af(i),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return B.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&B.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[US]=this[US]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Fc(o);r[a]||(pz(i,o),r[a]=!0)}return B.isArray(e)?e.forEach(s):s(e),this}};An.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);B.reduceDescriptors(An.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});B.freezeMethods(An);function By(t,e){const n=this||Rd,r=e||n,i=An.from(r.headers);let s=r.data;return B.forEach(t,function(a){s=a.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function UP(t){return!!(t&&t.__CANCEL__)}function Xl(t,e,n){me.call(this,t??"canceled",me.ERR_CANCELED,e,n),this.name="CanceledError"}B.inherits(Xl,me,{__CANCEL__:!0});function zP(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new me("Request failed with status code "+n.status,[me.ERR_BAD_REQUEST,me.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function mz(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function gz(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=r[s];o||(o=c),n[i]=l,r[i]=c;let h=s,f=0;for(;h!==i;)f+=n[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-o<e)return;const m=d&&c-d;return m?Math.round(f*1e3/m):void 0}}function yz(t,e){let n=0,r=1e3/e,i,s;const o=(c,d=Date.now())=>{n=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-n;h>=r?o(c,d):(i=c,s||(s=setTimeout(()=>{s=null,o(i)},r-h)))},()=>i&&o(i)]}const Lp=(t,e,n=3)=>{let r=0;const i=gz(50,250);return yz(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-r,c=i(l),d=o<=a;r=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:c||void 0,estimated:c&&a&&d?(a-o)/c:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},n)},zS=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},jS=t=>(...e)=>B.asap(()=>t(...e)),vz=Xt.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,Xt.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(Xt.origin),Xt.navigator&&/(msie|trident)/i.test(Xt.navigator.userAgent)):()=>!0,_z=Xt.hasStandardBrowserEnv?{write(t,e,n,r,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];B.isNumber(n)&&a.push(`expires=${new Date(n).toUTCString()}`),B.isString(r)&&a.push(`path=${r}`),B.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),B.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function wz(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function bz(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function jP(t,e,n){let r=!wz(e);return t&&(r||n==!1)?bz(t,e):e}const qS=t=>t instanceof An?{...t}:t;function Bo(t,e){e=e||{};const n={};function r(c,d,h,f){return B.isPlainObject(c)&&B.isPlainObject(d)?B.merge.call({caseless:f},c,d):B.isPlainObject(d)?B.merge({},d):B.isArray(d)?d.slice():d}function i(c,d,h,f){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c,h,f)}else return r(c,d,h,f)}function s(c,d){if(!B.isUndefined(d))return r(void 0,d)}function o(c,d){if(B.isUndefined(d)){if(!B.isUndefined(c))return r(void 0,c)}else return r(void 0,d)}function a(c,d,h){if(h in e)return r(c,d);if(h in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(c,d,h)=>i(qS(c),qS(d),h,!0)};return B.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);B.isUndefined(f)&&h!==a||(n[d]=f)}),n}const qP=t=>{const e=Bo({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=An.from(o),e.url=MP(jP(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),B.isFormData(n)){if(Xt.hasStandardBrowserEnv||Xt.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(B.isFunction(n.getHeaders)){const l=n.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&o.set(d,h)})}}if(Xt.hasStandardBrowserEnv&&(r&&B.isFunction(r)&&(r=r(e)),r||r!==!1&&vz(e.url))){const l=i&&s&&_z.read(s);l&&o.set(i,l)}return e},Ez=typeof XMLHttpRequest<"u",Tz=Ez&&function(t){return new Promise(function(n,r){const i=qP(t);let s=i.data;const o=An.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,m,y;function w(){m&&m(),y&&y(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function T(){if(!b)return;const I=An.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),D={data:!a||a==="text"||a==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:I,config:t,request:b};zP(function(x){n(x),w()},function(x){r(x),w()},D),b=null}"onloadend"in b?b.onloadend=T:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(T)},b.onabort=function(){b&&(r(new me("Request aborted",me.ECONNABORTED,t,b)),b=null)},b.onerror=function(R){const D=R&&R.message?R.message:"Network Error",$=new me(D,me.ERR_NETWORK,t,b);$.event=R||null,r($),b=null},b.ontimeout=function(){let R=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const D=i.transitional||FP;i.timeoutErrorMessage&&(R=i.timeoutErrorMessage),r(new me(R,D.clarifyTimeoutError?me.ETIMEDOUT:me.ECONNABORTED,t,b)),b=null},s===void 0&&o.setContentType(null),"setRequestHeader"in b&&B.forEach(o.toJSON(),function(R,D){b.setRequestHeader(D,R)}),B.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),a&&a!=="json"&&(b.responseType=i.responseType),c&&([f,y]=Lp(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,m]=Lp(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",m)),(i.cancelToken||i.signal)&&(d=I=>{b&&(r(!I||I.type?new Xl(null,t,b):I),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const E=mz(i.url);if(E&&Xt.protocols.indexOf(E)===-1){r(new me("Unsupported protocol "+E+":",me.ERR_BAD_REQUEST,t));return}b.send(s||null)})},Iz=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,a();const d=c instanceof Error?c:this.reason;r.abort(d instanceof me?d:new Xl(d instanceof Error?d.message:d))}};let o=e&&setTimeout(()=>{o=null,s(new me(`timeout ${e} of ms exceeded`,me.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>B.asap(a),l}},Sz=function*(t,e){let n=t.byteLength;if(n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},xz=async function*(t,e){for await(const n of kz(t))yield*Sz(n,e)},kz=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},HS=(t,e,n,r)=>{const i=xz(t,e);let s=0,o,a=l=>{o||(o=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){a(),l.close();return}let h=d.byteLength;if(n){let f=s+=h;n(f)}l.enqueue(new Uint8Array(d))}catch(c){throw a(c),c}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},WS=64*1024,{isFunction:Qh}=B,Az=(({Request:t,Response:e})=>({Request:t,Response:e}))(B.global),{ReadableStream:GS,TextEncoder:KS}=B.global,QS=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Cz=t=>{t=B.merge.call({skipUndefined:!0},Az,t);const{fetch:e,Request:n,Response:r}=t,i=e?Qh(e):typeof fetch=="function",s=Qh(n),o=Qh(r);if(!i)return!1;const a=i&&Qh(GS),l=i&&(typeof KS=="function"?(y=>w=>y.encode(w))(new KS):async y=>new Uint8Array(await new n(y).arrayBuffer())),c=s&&a&&QS(()=>{let y=!1;const w=new n(Xt.origin,{body:new GS,method:"POST",get duplex(){return y=!0,"half"}}).headers.has("Content-Type");return y&&!w}),d=o&&a&&QS(()=>B.isReadableStream(new r("").body)),h={stream:d&&(y=>y.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(y=>{!h[y]&&(h[y]=(w,b)=>{let T=w&&w[y];if(T)return T.call(w);throw new me(`Response type '${y}' is not supported`,me.ERR_NOT_SUPPORT,b)})});const f=async y=>{if(y==null)return 0;if(B.isBlob(y))return y.size;if(B.isSpecCompliantForm(y))return(await new n(Xt.origin,{method:"POST",body:y}).arrayBuffer()).byteLength;if(B.isArrayBufferView(y)||B.isArrayBuffer(y))return y.byteLength;if(B.isURLSearchParams(y)&&(y=y+""),B.isString(y))return(await l(y)).byteLength},m=async(y,w)=>{const b=B.toFiniteNumber(y.getContentLength());return b??f(w)};return async y=>{let{url:w,method:b,data:T,signal:E,cancelToken:I,timeout:R,onDownloadProgress:D,onUploadProgress:$,responseType:x,headers:v,withCredentials:_="same-origin",fetchOptions:k}=qP(y),P=e||fetch;x=x?(x+"").toLowerCase():"text";let O=Iz([E,I&&I.toAbortSignal()],R),A=null;const H=O&&O.unsubscribe&&(()=>{O.unsubscribe()});let C;try{if($&&c&&b!=="get"&&b!=="head"&&(C=await m(v,T))!==0){let ae=new n(w,{method:"POST",body:T,duplex:"half"}),ne;if(B.isFormData(T)&&(ne=ae.headers.get("content-type"))&&v.setContentType(ne),ae.body){const[ue,de]=zS(C,Lp(jS($)));T=HS(ae.body,WS,ue,de)}}B.isString(_)||(_=_?"include":"omit");const N=s&&"credentials"in n.prototype,j={...k,signal:O,method:b.toUpperCase(),headers:v.normalize().toJSON(),body:T,duplex:"half",credentials:N?_:void 0};A=s&&new n(w,j);let M=await(s?P(A,k):P(w,j));const W=d&&(x==="stream"||x==="response");if(d&&(D||W&&H)){const ae={};["status","statusText","headers"].forEach(Le=>{ae[Le]=M[Le]});const ne=B.toFiniteNumber(M.headers.get("content-length")),[ue,de]=D&&zS(ne,Lp(jS(D),!0))||[];M=new r(HS(M.body,WS,ue,()=>{de&&de(),H&&H()}),ae)}x=x||"text";let G=await h[B.findKey(h,x)||"text"](M,y);return!W&&H&&H(),await new Promise((ae,ne)=>{zP(ae,ne,{data:G,headers:An.from(M.headers),status:M.status,statusText:M.statusText,config:y,request:A})})}catch(N){throw H&&H(),N&&N.name==="TypeError"&&/Load failed|fetch/i.test(N.message)?Object.assign(new me("Network Error",me.ERR_NETWORK,y,A),{cause:N.cause||N}):me.from(N,N&&N.code,y,A)}}},Rz=new Map,HP=t=>{let e=t&&t.env||{};const{fetch:n,Request:r,Response:i}=e,s=[r,i,n];let o=s.length,a=o,l,c,d=Rz;for(;a--;)l=s[a],c=d.get(l),c===void 0&&d.set(l,c=a?new Map:Cz(e)),d=c;return c};HP();const u0={http:G5,xhr:Tz,fetch:{get:HP}};B.forEach(u0,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const XS=t=>`- ${t}`,Pz=t=>B.isFunction(t)||t===null||t===!1;function Oz(t,e){t=B.isArray(t)?t:[t];const{length:n}=t;let r,i;const s={};for(let o=0;o<n;o++){r=t[o];let a;if(i=r,!Pz(r)&&(i=u0[(a=String(r)).toLowerCase()],i===void 0))throw new me(`Unknown adapter '${a}'`);if(i&&(B.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let a=n?o.length>1?`since :
`+o.map(XS).join(`
`):" "+XS(o[0]):"as no adapter specified";throw new me("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const WP={getAdapter:Oz,adapters:u0};function Uy(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Xl(null,t)}function YS(t){return Uy(t),t.headers=An.from(t.headers),t.data=By.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),WP.getAdapter(t.adapter||Rd.adapter,t)(t).then(function(r){return Uy(t),r.data=By.call(t,t.transformResponse,r),r.headers=An.from(r.headers),r},function(r){return UP(r)||(Uy(t),r&&r.response&&(r.response.data=By.call(t,t.transformResponse,r.response),r.response.headers=An.from(r.response.headers))),Promise.reject(r)})}const GP="1.13.2",Wm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Wm[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const JS={};Wm.transitional=function(e,n,r){function i(s,o){return"[Axios v"+GP+"] Transitional option '"+s+"'"+o+(r?". "+r:"")}return(s,o,a)=>{if(e===!1)throw new me(i(o," has been removed"+(n?" in "+n:"")),me.ERR_DEPRECATED);return n&&!JS[o]&&(JS[o]=!0,console.warn(i(o," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,o,a):!0}};Wm.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Dz(t,e,n){if(typeof t!="object")throw new me("options must be an object",me.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new me("option "+s+" must be "+l,me.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new me("Unknown option "+s,me.ERR_BAD_OPTION)}}const Cf={assertOptions:Dz,validators:Wm},kr=Cf.validators;let xo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new BS,response:new BS}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Bo(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Cf.assertOptions(r,{silentJSONParsing:kr.transitional(kr.boolean),forcedJSONParsing:kr.transitional(kr.boolean),clarifyTimeoutError:kr.transitional(kr.boolean)},!1),i!=null&&(B.isFunction(i)?n.paramsSerializer={serialize:i}:Cf.assertOptions(i,{encode:kr.function,serialize:kr.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),Cf.assertOptions(n,{baseUrl:kr.spelling("baseURL"),withXsrfToken:kr.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let o=s&&B.merge(s.common,s[n.method]);s&&B.forEach(["delete","get","head","post","put","patch","common"],y=>{delete s[y]}),n.headers=An.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(l=l&&w.synchronous,a.unshift(w.fulfilled,w.rejected))});const c=[];this.interceptors.response.forEach(function(w){c.push(w.fulfilled,w.rejected)});let d,h=0,f;if(!l){const y=[YS.bind(this),void 0];for(y.unshift(...a),y.push(...c),f=y.length,d=Promise.resolve(n);h<f;)d=d.then(y[h++],y[h++]);return d}f=a.length;let m=n;for(;h<f;){const y=a[h++],w=a[h++];try{m=y(m)}catch(b){w.call(this,b);break}}try{d=YS.call(this,m)}catch(y){return Promise.reject(y)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Bo(this.defaults,e);const n=jP(e.baseURL,e.url,e.allowAbsoluteUrls);return MP(n,e.params,e.paramsSerializer)}};B.forEach(["delete","get","head","options"],function(e){xo.prototype[e]=function(n,r){return this.request(Bo(r||{},{method:e,url:n,data:(r||{}).data}))}});B.forEach(["post","put","patch"],function(e){function n(r){return function(s,o,a){return this.request(Bo(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}xo.prototype[e]=n(),xo.prototype[e+"Form"]=n(!0)});let Nz=class KP{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{r.subscribe(a),s=a}).then(i);return o.cancel=function(){r.unsubscribe(s)},o},e(function(s,o,a){r.reason||(r.reason=new Xl(s,o,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new KP(function(i){e=i}),cancel:e}}};function Lz(t){return function(n){return t.apply(null,n)}}function $z(t){return B.isObject(t)&&t.isAxiosError===!0}const M_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(M_).forEach(([t,e])=>{M_[e]=t});function QP(t){const e=new xo(t),n=xP(xo.prototype.request,e);return B.extend(n,xo.prototype,e,{allOwnKeys:!0}),B.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return QP(Bo(t,i))},n}const ee=QP(Rd);ee.Axios=xo;ee.CanceledError=Xl;ee.CancelToken=Nz;ee.isCancel=UP;ee.VERSION=GP;ee.toFormData=Hm;ee.AxiosError=me;ee.Cancel=ee.CanceledError;ee.all=function(e){return Promise.all(e)};ee.spread=Lz;ee.isAxiosError=$z;ee.mergeConfig=Bo;ee.AxiosHeaders=An;ee.formToJSON=t=>BP(B.isHTMLForm(t)?new FormData(t):t);ee.getAdapter=WP.getAdapter;ee.HttpStatusCode=M_;ee.default=ee;const{Axios:eZ,AxiosError:tZ,CanceledError:nZ,isCancel:rZ,CancelToken:iZ,VERSION:sZ,all:oZ,Cancel:aZ,isAxiosError:lZ,spread:cZ,toFormData:uZ,AxiosHeaders:dZ,HttpStatusCode:hZ,formToJSON:fZ,getAdapter:pZ,mergeConfig:mZ}=ee;/*! Capacitor: https://capacitorjs.com/ - MIT License */var yl;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(yl||(yl={}));class zy extends Error{constructor(e,n,r){super(e),this.message=e,this.code=n,this.data=r}}const Vz=t=>{var e,n;return t!=null&&t.androidBridge?"android":!((n=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||n===void 0)&&n.bridge?"ios":"web"},Mz=t=>{const e=t.CapacitorCustomPlatform||null,n=t.Capacitor||{},r=n.Plugins=n.Plugins||{},i=()=>e!==null?e.name:Vz(t),s=()=>i()!=="web",o=h=>{const f=c.get(h);return!!(f!=null&&f.platforms.has(i())||a(h))},a=h=>{var f;return(f=n.PluginHeaders)===null||f===void 0?void 0:f.find(m=>m.name===h)},l=h=>t.console.error(h),c=new Map,d=(h,f={})=>{const m=c.get(h);if(m)return console.warn(`Capacitor plugin "${h}" already registered. Cannot register plugins twice.`),m.proxy;const y=i(),w=a(h);let b;const T=async()=>(!b&&y in f?b=typeof f[y]=="function"?b=await f[y]():b=f[y]:e!==null&&!b&&"web"in f&&(b=typeof f.web=="function"?b=await f.web():b=f.web),b),E=(v,_)=>{var k,P;if(w){const O=w==null?void 0:w.methods.find(A=>_===A.name);if(O)return O.rtype==="promise"?A=>n.nativePromise(h,_.toString(),A):(A,H)=>n.nativeCallback(h,_.toString(),A,H);if(v)return(k=v[_])===null||k===void 0?void 0:k.bind(v)}else{if(v)return(P=v[_])===null||P===void 0?void 0:P.bind(v);throw new zy(`"${h}" plugin is not implemented on ${y}`,yl.Unimplemented)}},I=v=>{let _;const k=(...P)=>{const O=T().then(A=>{const H=E(A,v);if(H){const C=H(...P);return _=C==null?void 0:C.remove,C}else throw new zy(`"${h}.${v}()" is not implemented on ${y}`,yl.Unimplemented)});return v==="addListener"&&(O.remove=async()=>_()),O};return k.toString=()=>`${v.toString()}() { [capacitor code] }`,Object.defineProperty(k,"name",{value:v,writable:!1,configurable:!1}),k},R=I("addListener"),D=I("removeListener"),$=(v,_)=>{const k=R({eventName:v},_),P=async()=>{const A=await k;D({eventName:v,callbackId:A},_)},O=new Promise(A=>k.then(()=>A({remove:P})));return O.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await P()},O},x=new Proxy({},{get(v,_){switch(_){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return w?$:R;case"removeListener":return D;default:return I(_)}}});return r[h]=x,c.set(h,{name:h,proxy:x,platforms:new Set([...Object.keys(f),...w?[y]:[]])}),x};return n.convertFileSrc||(n.convertFileSrc=h=>h),n.getPlatform=i,n.handleError=l,n.isNativePlatform=s,n.isPluginAvailable=o,n.registerPlugin=d,n.Exception=zy,n.DEBUG=!!n.DEBUG,n.isLoggingEnabled=!!n.isLoggingEnabled,n},Fz=t=>t.Capacitor=Mz(t),Qu=Fz(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Gm=Qu.registerPlugin;class XP{constructor(){this.listeners={},this.retainedEventArguments={},this.windowListeners={}}addListener(e,n){let r=!1;this.listeners[e]||(this.listeners[e]=[],r=!0),this.listeners[e].push(n);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),r&&this.sendRetainedArgumentsForEvent(e);const o=async()=>this.removeListener(e,n);return Promise.resolve({remove:o})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,n,r){const i=this.listeners[e];if(!i){if(r){let s=this.retainedEventArguments[e];s||(s=[]),s.push(n),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(n))}hasListeners(e){var n;return!!(!((n=this.listeners[e])===null||n===void 0)&&n.length)}registerWindowListener(e,n){this.windowListeners[n]={registered:!1,windowEventName:e,pluginEventName:n,handler:r=>{this.notifyListeners(n,r)}}}unimplemented(e="not implemented"){return new Qu.Exception(e,yl.Unimplemented)}unavailable(e="not available"){return new Qu.Exception(e,yl.Unavailable)}async removeListener(e,n){const r=this.listeners[e];if(!r)return;const i=r.indexOf(n);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const n=this.retainedEventArguments[e];n&&(delete this.retainedEventArguments[e],n.forEach(r=>{this.notifyListeners(e,r)}))}}const ZS=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),ex=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class Bz extends XP{async getCookies(){const e=document.cookie,n={};return e.split(";").forEach(r=>{if(r.length<=0)return;let[i,s]=r.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=ex(i).trim(),s=ex(s).trim(),n[i]=s}),n}async setCookie(e){try{const n=ZS(e.key),r=ZS(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),o=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${n}=${r||""}${i}; path=${s}; ${o};`}catch(n){return Promise.reject(n)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(n){return Promise.reject(n)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const n of e)document.cookie=n.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Gm("CapacitorCookies",{web:()=>new Bz});const Uz=async t=>new Promise((e,n)=>{const r=new FileReader;r.onload=()=>{const i=r.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},r.onerror=i=>n(i),r.readAsDataURL(t)}),zz=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,o)=>(i[s]=t[e[o]],i),{})},jz=(t,e=!0)=>t?Object.entries(t).reduce((r,i)=>{const[s,o]=i;let a,l;return Array.isArray(o)?(l="",o.forEach(c=>{a=e?encodeURIComponent(c):c,l+=`${s}=${a}&`}),l.slice(0,-1)):(a=e?encodeURIComponent(o):o,l=`${s}=${a}`),`${r}&${l}`},"").substr(1):null,qz=(t,e={})=>{const n=Object.assign({method:t.method||"GET",headers:t.headers},e),i=zz(t.headers)["content-type"]||"";if(typeof t.data=="string")n.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[o,a]of Object.entries(t.data||{}))s.set(o,a);n.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((a,l)=>{s.append(l,a)});else for(const a of Object.keys(t.data))s.append(a,t.data[a]);n.body=s;const o=new Headers(n.headers);o.delete("content-type"),n.headers=o}else(i.includes("application/json")||typeof t.data=="object")&&(n.body=JSON.stringify(t.data));return n};class Hz extends XP{async request(e){const n=qz(e,e.webFetchExtra),r=jz(e.params,e.shouldEncodeUrlParams),i=r?`${e.url}?${r}`:e.url,s=await fetch(i,n),o=s.headers.get("content-type")||"";let{responseType:a="text"}=s.ok?e:{};o.includes("application/json")&&(a="json");let l,c;switch(a){case"arraybuffer":case"blob":c=await s.blob(),l=await Uz(c);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const d={};return s.headers.forEach((h,f)=>{d[f]=h}),{data:l,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Gm("CapacitorHttp",{web:()=>new Hz});const Pn=Gm("Preferences",{web:()=>Wn(()=>import("./web-BFS8lH7B.js"),[]).then(t=>new t.PreferencesWeb)});class Wz{constructor(){qt(this,"headers",{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"});qt(this,"url",ve.url+"/story")}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async getPublicStories(){return(await ee.get(this.url+"/",{headers:{"Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Origin, X-Requested-With, Content-Type, Accept"}})).data}async getPublicProfileStories({profileId:e}){return(await ee.get(this.url+"/profile/"+e+"/public")).data}async getProtectedProfileStories({profileId:e}){let n=await this.getAuthHeaders();return(await ee.get(this.url+"/profile/"+e+"/protected",{headers:n})).data}async recommendations(){let e=await this.getAuthHeaders();return(await ee.get(this.url+"/recommendations",{headers:e})).data}async getStoryProtected({id:e}){let n=await this.getAuthHeaders();return(await ee.get(this.url+"/"+e+"/protected",{headers:n})).data}async getStoryPublic({id:e}){return(await ee.get(this.url+"/"+e+"/public")).data}async getMyStories(){let e=await this.getAuthHeaders();return(await ee.get(this.url+"/profile/protected/",{headers:e})).data}async getPublicProfileStories({profileId:e}){return(await ee.get(this.url+"/profile/"+e+"/public")).data}async postStory({profileId:e,data:n,isPrivate:r,approvalScore:i,type:s,title:o,commentable:a}){let l=await this.getAuthHeaders();const c=await ee.post(this.url,{title:o,data:n,isPrivate:r,authorId:e,commentable:a,type:s},{headers:l});return console.log("VCKS",c),c.data}async updateStory(e){const{id:n,page:r,data:i,isPrivate:s,description:o,approvalScore:a,title:l,needsFeedback:c,commentable:d,type:h}=e;let f=await this.getAuthHeaders();return(await ee.put(this.url+"/"+n,{data:i,isPrivate:s,description:o,needsFeedback:c,approvalScore:a,title:l,commentable:d,type:h},{headers:f})).data}async deleteStory({id:e}){let n=await this.getAuthHeaders();return(await ee.delete(this.url+"/"+e,{headers:n})).data}async getCollectionStoriesProtected({id:e}){let n=await this.getAuthHeaders();return(await ee.get(this.url+"/collection/"+e+"/protected",{headers:n})).data}async fetchCommentsOfPagePublic({pageId:e}){return(await ee.get(this.url+"/"+e+"/comment/public")).data}async fetchCommentsOfPageProtected({pageId:e}){let n=await this.getAuthHeaders();return(await ee.get(this.url+"/"+e+"/comment/protected",{headers:n})).data}async getCollectionStoriesPublic({id:e}){return(await ee.get(this.url+"/collection/"+e+"/public")).data}async fetchEvents({days:e=7}){return(await ee.get(this.url+"/events/"+e)).data}}const Yl=new Wz,Gz=t=>{let e;var n=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(n.test(t)){try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"}else return!1};var YP={exports:{}},JP={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd=Q;function Kz(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qz=typeof Object.is=="function"?Object.is:Kz,Xz=Pd.useSyncExternalStore,Yz=Pd.useRef,Jz=Pd.useEffect,Zz=Pd.useMemo,ej=Pd.useDebugValue;JP.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=Yz(null);if(s.current===null){var o={hasValue:!1,value:null};s.current=o}else o=s.current;s=Zz(function(){function l(m){if(!c){if(c=!0,d=m,m=r(m),i!==void 0&&o.hasValue){var y=o.value;if(i(y,m))return h=y}return h=m}if(y=h,Qz(d,m))return y;var w=r(m);return i!==void 0&&i(y,w)?(d=m,y):(d=m,h=w)}var c=!1,d,h,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var a=Xz(t,s[0],s[1]);return Jz(function(){o.hasValue=!0,o.value=a},[a]),ej(a),a};YP.exports=JP;var tj=YP.exports;function nj(t){t()}function rj(){let t=null,e=null;return{clear(){t=null,e=null},notify(){nj(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var tx={notify(){},get:()=>[]};function ij(t,e){let n,r=tx,i=0,s=!1;function o(w){d();const b=r.subscribe(w);let T=!1;return()=>{T||(T=!0,b(),h())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function c(){return s}function d(){i++,n||(n=t.subscribe(l),r=rj())}function h(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=tx)}function f(){s||(s=!0,d())}function m(){s&&(s=!1,h())}const y={addNestedSub:o,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:c,trySubscribe:f,tryUnsubscribe:m,getListeners:()=>r};return y}var sj=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",oj=sj(),aj=()=>typeof navigator<"u"&&navigator.product==="ReactNative",lj=aj(),cj=()=>oj||lj?Q.useLayoutEffect:Q.useEffect,uj=cj(),jy=Symbol.for("react-redux-context"),qy=typeof globalThis<"u"?globalThis:{};function dj(){if(!Q.createContext)return{};const t=qy[jy]??(qy[jy]=new Map);let e=t.get(Q.createContext);return e||(e=Q.createContext(null),t.set(Q.createContext,e)),e}var As=dj();function hj(t){const{children:e,context:n,serverState:r,store:i}=t,s=Q.useMemo(()=>{const l=ij(i);return{store:i,subscription:l,getServerState:r?()=>r:void 0}},[i,r]),o=Q.useMemo(()=>i.getState(),[i]);uj(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),o!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,o]);const a=n||As;return Q.createElement(a.Provider,{value:s},e)}var fj=hj;function d0(t=As){return function(){return Q.useContext(t)}}var ZP=d0();function eO(t=As){const e=t===As?ZP:d0(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var pj=eO();function mj(t=As){const e=t===As?pj:eO(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var gj=mj(),yj=(t,e)=>t===e;function vj(t=As){const e=t===As?ZP:d0(t),n=(r,i={})=>{const{equalityFn:s=yj}=typeof i=="function"?{equalityFn:i}:i,o=e(),{store:a,subscription:l,getServerState:c}=o;Q.useRef(!0);const d=Q.useCallback({[r.name](f){return r(f)}}[r.name],[r]),h=tj.useSyncExternalStoreWithSelector(l.addNestedSub,a.getState,c||a.getState,d,s);return Q.useDebugValue(h),h};return Object.assign(n,{withTypes:()=>n}),n}var nx=vj();const rx="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%2300873E'%3e%3cpath%20d='M680-80v-120H560v-80h120v-120h80v120h120v80H760v120h-80Zm-480-80q-33%200-56.5-23.5T120-240v-480q0-33%2023.5-56.5T200-800h40v-80h80v80h240v-80h80v80h40q33%200%2056.5%2023.5T760-720v244q-20-3-40-3t-40%203v-84H200v320h280q0%2020%203%2040t11%2040H200Zm0-480h480v-80H200v80Zm0%200v-80%2080Z'/%3e%3c/svg%3e";function Nt(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var _j=typeof Symbol=="function"&&Symbol.observable||"@@observable",ix=_j,Hy=()=>Math.random().toString(36).substring(7).split("").join("."),wj={INIT:`@@redux/INIT${Hy()}`,REPLACE:`@@redux/REPLACE${Hy()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${Hy()}`},$p=wj;function h0(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function tO(t,e,n){if(typeof t!="function")throw new Error(Nt(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Nt(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Nt(1));return n(tO)(t,e)}let r=t,i=e,s=new Map,o=s,a=0,l=!1;function c(){o===s&&(o=new Map,s.forEach((b,T)=>{o.set(T,b)}))}function d(){if(l)throw new Error(Nt(3));return i}function h(b){if(typeof b!="function")throw new Error(Nt(4));if(l)throw new Error(Nt(5));let T=!0;c();const E=a++;return o.set(E,b),function(){if(T){if(l)throw new Error(Nt(6));T=!1,c(),o.delete(E),s=null}}}function f(b){if(!h0(b))throw new Error(Nt(7));if(typeof b.type>"u")throw new Error(Nt(8));if(typeof b.type!="string")throw new Error(Nt(17));if(l)throw new Error(Nt(9));try{l=!0,i=r(i,b)}finally{l=!1}return(s=o).forEach(E=>{E()}),b}function m(b){if(typeof b!="function")throw new Error(Nt(10));r=b,f({type:$p.REPLACE})}function y(){const b=h;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Nt(11));function E(){const R=T;R.next&&R.next(d())}return E(),{unsubscribe:b(E)}},[ix](){return this}}}return f({type:$p.INIT}),{dispatch:f,subscribe:h,getState:d,replaceReducer:m,[ix]:y}}function bj(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:$p.INIT})>"u")throw new Error(Nt(12));if(typeof n(void 0,{type:$p.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Nt(13))})}function nO(t){const e=Object.keys(t),n={};for(let s=0;s<e.length;s++){const o=e[s];typeof t[o]=="function"&&(n[o]=t[o])}const r=Object.keys(n);let i;try{bj(n)}catch(s){i=s}return function(o={},a){if(i)throw i;let l=!1;const c={};for(let d=0;d<r.length;d++){const h=r[d],f=n[h],m=o[h],y=f(m,a);if(typeof y>"u")throw a&&a.type,new Error(Nt(14));c[h]=y,l=l||y!==m}return l=l||r.length!==Object.keys(o).length,l?c:o}}function Vp(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function Ej(...t){return e=>(n,r)=>{const i=e(n,r);let s=()=>{throw new Error(Nt(15))};const o={getState:i.getState,dispatch:(l,...c)=>s(l,...c)},a=t.map(l=>l(o));return s=Vp(...a)(i.dispatch),{...i,dispatch:s}}}function Tj(t){return h0(t)&&"type"in t&&typeof t.type=="string"}var rO=Symbol.for("immer-nothing"),sx=Symbol.for("immer-draftable"),dn=Symbol.for("immer-state");function dr(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Vn=Object,vl=Vn.getPrototypeOf,Mp="constructor",Km="prototype",F_="configurable",Fp="enumerable",Rf="writable",Xu="value",_i=t=>!!t&&!!t[dn];function wr(t){var e;return t?iO(t)||Qm(t)||!!t[sx]||!!((e=t[Mp])!=null&&e[sx])||Xm(t)||Ym(t):!1}var Ij=Vn[Km][Mp].toString(),ox=new WeakMap;function iO(t){if(!t||!f0(t))return!1;const e=vl(t);if(e===null||e===Vn[Km])return!0;const n=Vn.hasOwnProperty.call(e,Mp)&&e[Mp];if(n===Object)return!0;if(!Sa(n))return!1;let r=ox.get(n);return r===void 0&&(r=Function.toString.call(n),ox.set(n,r)),r===Ij}function Od(t,e,n=!0){Dd(t)===0?(n?Reflect.ownKeys(t):Vn.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((r,i)=>e(i,r,t))}function Dd(t){const e=t[dn];return e?e.type_:Qm(t)?1:Xm(t)?2:Ym(t)?3:0}var ax=(t,e,n=Dd(t))=>n===2?t.has(e):Vn[Km].hasOwnProperty.call(t,e),B_=(t,e,n=Dd(t))=>n===2?t.get(e):t[e],Bp=(t,e,n,r=Dd(t))=>{r===2?t.set(e,n):r===3?t.add(n):t[e]=n};function Sj(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Qm=Array.isArray,Xm=t=>t instanceof Map,Ym=t=>t instanceof Set,f0=t=>typeof t=="object",Sa=t=>typeof t=="function",Wy=t=>typeof t=="boolean",ri=t=>t.copy_||t.base_,p0=t=>t.modified_?t.copy_:t.base_;function U_(t,e){if(Xm(t))return new Map(t);if(Ym(t))return new Set(t);if(Qm(t))return Array[Km].slice.call(t);const n=iO(t);if(e===!0||e==="class_only"&&!n){const r=Vn.getOwnPropertyDescriptors(t);delete r[dn];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const o=i[s],a=r[o];a[Rf]===!1&&(a[Rf]=!0,a[F_]=!0),(a.get||a.set)&&(r[o]={[F_]:!0,[Rf]:!0,[Fp]:a[Fp],[Xu]:t[o]})}return Vn.create(vl(t),r)}else{const r=vl(t);if(r!==null&&n)return{...t};const i=Vn.create(r);return Vn.assign(i,t)}}function m0(t,e=!1){return Jm(t)||_i(t)||!wr(t)||(Dd(t)>1&&Vn.defineProperties(t,{set:Xh,add:Xh,clear:Xh,delete:Xh}),Vn.freeze(t),e&&Od(t,(n,r)=>{m0(r,!0)},!1)),t}function xj(){dr(2)}var Xh={[Xu]:xj};function Jm(t){return t===null||!f0(t)?!0:Vn.isFrozen(t)}var Up="MapSet",z_="Patches",sO={};function _l(t){const e=sO[t];return e||dr(0,t),e}var kj=t=>!!sO[t],Yu,oO=()=>Yu,Aj=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:kj(Up)?_l(Up):void 0});function lx(t,e){e&&(t.patchPlugin_=_l(z_),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function j_(t){q_(t),t.drafts_.forEach(Cj),t.drafts_=null}function q_(t){t===Yu&&(Yu=t.parent_)}var cx=t=>Yu=Aj(Yu,t);function Cj(t){const e=t[dn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function ux(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];if(t!==void 0&&t!==n){n[dn].modified_&&(j_(e),dr(4)),wr(t)&&(t=dx(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(n[dn].base_,t,e)}else t=dx(e,n);return Rj(e,t,!0),j_(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==rO?t:void 0}function dx(t,e){if(Jm(e))return e;const n=e[dn];if(!n)return g0(e,t.handledSet_,t);if(!Zm(n,t))return e;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(t);cO(n,t)}return n.copy_}function Rj(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&m0(e,n)}function aO(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var Zm=(t,e)=>t.scope_===e,Pj=[];function lO(t,e,n,r){const i=ri(t),s=t.type_;if(r!==void 0&&B_(i,r,s)===e){Bp(i,r,n,s);return}if(!t.draftLocations_){const a=t.draftLocations_=new Map;Od(i,(l,c)=>{if(_i(c)){const d=a.get(c)||[];d.push(l),a.set(c,d)}})}const o=t.draftLocations_.get(e)??Pj;for(const a of o)Bp(i,a,n,s)}function Oj(t,e,n){t.callbacks_.push(function(i){var a;const s=e;if(!s||!Zm(s,i))return;(a=i.mapSetPlugin_)==null||a.fixSetContents(s);const o=p0(s);lO(t,s.draft_??s,o,n),cO(s,i)})}function cO(t,e){var r;if(t.modified_&&!t.finalized_&&(t.type_===3||(((r=t.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}aO(t)}}function Dj(t,e,n){const{scope_:r}=t;if(_i(n)){const i=n[dn];Zm(i,r)&&i.callbacks_.push(function(){Pf(t);const o=p0(i);lO(t,n,o,e)})}else wr(n)&&t.callbacks_.push(function(){const s=ri(t);B_(s,e,t.type_)===n&&r.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&g0(B_(t.copy_,e,t.type_),r.handledSet_,r)})}function g0(t,e,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||_i(t)||e.has(t)||!wr(t)||Jm(t)||(e.add(t),Od(t,(r,i)=>{if(_i(i)){const s=i[dn];if(Zm(s,n)){const o=p0(s);Bp(t,r,o,t.type_),aO(s)}}else wr(i)&&g0(i,e,n)})),t}function Nj(t,e){const n=Qm(t),r={type_:n?1:0,scope_:e?e.scope_:oO(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,s=y0;n&&(i=[r],s=Ju);const{revoke:o,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=o,[a,r]}var y0={get(t,e){if(e===dn)return t;const n=ri(t);if(!ax(n,e,t.type_))return Lj(t,n,e);const r=n[e];if(t.finalized_||!wr(r))return r;if(r===Gy(t.base_,e)){Pf(t);const i=t.type_===1?+e:e,s=W_(t.scope_,r,t,i);return t.copy_[i]=s}return r},has(t,e){return e in ri(t)},ownKeys(t){return Reflect.ownKeys(ri(t))},set(t,e,n){const r=uO(ri(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=Gy(ri(t),e),s=i==null?void 0:i[dn];if(s&&s.base_===n)return t.copy_[e]=n,t.assigned_.set(e,!1),!0;if(Sj(n,i)&&(n!==void 0||ax(t.base_,e,t.type_)))return!0;Pf(t),H_(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_.set(e,!0),Dj(t,e,n)),!0},deleteProperty(t,e){return Pf(t),Gy(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),H_(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=ri(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{[Rf]:!0,[F_]:t.type_!==1||e!=="length",[Fp]:r[Fp],[Xu]:n[e]}},defineProperty(){dr(11)},getPrototypeOf(t){return vl(t.base_)},setPrototypeOf(){dr(12)}},Ju={};Od(y0,(t,e)=>{Ju[t]=function(){const n=arguments;return n[0]=n[0][0],e.apply(this,n)}});Ju.deleteProperty=function(t,e){return Ju.set.call(this,t,e,void 0)};Ju.set=function(t,e,n){return y0.set.call(this,t[0],e,n,t[0])};function Gy(t,e){const n=t[dn];return(n?ri(n):t)[e]}function Lj(t,e,n){var i;const r=uO(e,n);return r?Xu in r?r[Xu]:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function uO(t,e){if(!(e in t))return;let n=vl(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=vl(n)}}function H_(t){t.modified_||(t.modified_=!0,t.parent_&&H_(t.parent_))}function Pf(t){t.copy_||(t.assigned_=new Map,t.copy_=U_(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var $j=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(e,n,r)=>{if(Sa(e)&&!Sa(n)){const s=n;n=e;const o=this;return function(l=s,...c){return o.produce(l,d=>n.call(this,d,...c))}}Sa(n)||dr(6),r!==void 0&&!Sa(r)&&dr(7);let i;if(wr(e)){const s=cx(this),o=W_(s,e,void 0);let a=!0;try{i=n(o),a=!1}finally{a?j_(s):q_(s)}return lx(s,r),ux(i,s)}else if(!e||!f0(e)){if(i=n(e),i===void 0&&(i=e),i===rO&&(i=void 0),this.autoFreeze_&&m0(i,!0),r){const s=[],o=[];_l(z_).generateReplacementPatches_(e,i,{patches_:s,inversePatches_:o}),r(s,o)}return i}else dr(1,e)},this.produceWithPatches=(e,n)=>{if(Sa(e))return(o,...a)=>this.produceWithPatches(o,l=>e(l,...a));let r,i;return[this.produce(e,n,(o,a)=>{r=o,i=a}),r,i]},Wy(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),Wy(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),Wy(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){wr(t)||dr(8),_i(t)&&(t=Vj(t));const e=cx(this),n=W_(e,t,void 0);return n[dn].isManual_=!0,q_(e),n}finishDraft(t,e){const n=t&&t[dn];(!n||!n.isManual_)&&dr(9);const{scope_:r}=n;return lx(r,e),ux(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=_l(z_).applyPatches_;return _i(t)?r(t,e):this.produce(t,i=>r(i,e))}};function W_(t,e,n,r){const[i,s]=Xm(e)?_l(Up).proxyMap_(e,n):Ym(e)?_l(Up).proxySet_(e,n):Nj(e,n);return((n==null?void 0:n.scope_)??oO()).drafts_.push(i),s.callbacks_=(n==null?void 0:n.callbacks_)??[],s.key_=r,n&&r!==void 0?Oj(n,s,r):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:c}=l;s.modified_&&c&&c.generatePatches_(s,[],l)}),i}function Vj(t){return _i(t)||dr(10,t),dO(t)}function dO(t){if(!wr(t)||Jm(t))return t;const e=t[dn];let n,r=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=U_(t,e.scope_.immer_.useStrictShallowCopy_),r=e.scope_.immer_.shouldUseStrictIteration()}else n=U_(t,!0);return Od(n,(i,s)=>{Bp(n,i,dO(s))},r),e&&(e.finalized_=!1),n}var Mj=new $j,hO=Mj.produce;function fO(t){return({dispatch:n,getState:r})=>i=>s=>typeof s=="function"?s(n,r,t):i(s)}var Fj=fO(),Bj=fO,Uj=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?Vp:Vp.apply(null,arguments)},zj=t=>t&&typeof t.match=="function";function st(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(fi(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>Tj(r)&&r.type===t,n}var pO=class Yc extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yc.prototype)}static get[Symbol.species](){return Yc}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yc(...e[0].concat(this)):new Yc(...e.concat(this))}};function hx(t){return wr(t)?hO(t,()=>{}):t}function Yh(t,e,n){return t.has(e)?t.get(e):t.set(e,n(e)).get(e)}function jj(t){return typeof t=="boolean"}var qj=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let o=new pO;return n&&(jj(n)?o.push(Fj):o.push(Bj(n.extraArgument))),o},Hj="RTK_autoBatch",fx=t=>e=>{setTimeout(e,t)},Wj=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,s=!1,o=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:fx(10):t.type==="callback"?t.queueNotification:fx(t.timeout),c=()=>{o=!1,s&&(s=!1,a.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const h=()=>i&&d(),f=r.subscribe(h);return a.add(d),()=>{f(),a.delete(d)}},dispatch(d){var h;try{return i=!((h=d==null?void 0:d.meta)!=null&&h[Hj]),s=!i,s&&(o||(o=!0,l(c))),r.dispatch(d)}finally{i=!0}}})},Gj=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new pO(t);return r&&i.push(Wj(typeof r=="object"?r:void 0)),i};function Kj(t){const e=qj(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:s=void 0,enhancers:o=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(h0(n))a=nO(n);else throw new Error(fi(1));let l;typeof r=="function"?l=r(e):l=e();let c=Vp;i&&(c=Uj({trace:!1,...typeof i=="object"&&i}));const d=Ej(...l),h=Gj(d);let f=typeof o=="function"?o(h):h();const m=c(...f);return tO(a,s,m)}function mO(t){const e={},n=[];let r;const i={addCase(s,o){const a=typeof s=="string"?s:s.type;if(!a)throw new Error(fi(28));if(a in e)throw new Error(fi(29));return e[a]=o,i},addAsyncThunk(s,o){return o.pending&&(e[s.pending.type]=o.pending),o.rejected&&(e[s.rejected.type]=o.rejected),o.fulfilled&&(e[s.fulfilled.type]=o.fulfilled),o.settled&&n.push({matcher:s.settled,reducer:o.settled}),i},addMatcher(s,o){return n.push({matcher:s,reducer:o}),i},addDefaultCase(s){return r=s,i}};return t(i),[e,n,r]}function Qj(t){return typeof t=="function"}function Xj(t,e){let[n,r,i]=mO(e),s;if(Qj(t))s=()=>hx(t());else{const a=hx(t);s=()=>a}function o(a=s(),l){let c=[n[l.type],...r.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return c.filter(d=>!!d).length===0&&(c=[i]),c.reduce((d,h)=>{if(h)if(_i(d)){const m=h(d,l);return m===void 0?d:m}else{if(wr(d))return hO(d,f=>h(f,l));{const f=h(d,l);if(f===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return f}}return d},a)}return o.getInitialState=s,o}var Yj=(t,e)=>zj(t)?t.match(e):t(e);function Jj(...t){return e=>t.some(n=>Yj(n,e))}var Zj="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",e9=(t=21)=>{let e="",n=t;for(;n--;)e+=Zj[Math.random()*64|0];return e},t9=["name","message","stack","code"],Ky=class{constructor(t,e){qt(this,"_type");this.payload=t,this.meta=e}},px=class{constructor(t,e){qt(this,"_type");this.payload=t,this.meta=e}},n9=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of t9)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},mx="External signal was aborted",Se=(()=>{function t(e,n,r){const i=st(e+"/fulfilled",(l,c,d,h)=>({payload:l,meta:{...h||{},arg:d,requestId:c,requestStatus:"fulfilled"}})),s=st(e+"/pending",(l,c,d)=>({payload:void 0,meta:{...d||{},arg:c,requestId:l,requestStatus:"pending"}})),o=st(e+"/rejected",(l,c,d,h,f)=>({payload:h,error:(r&&r.serializeError||n9)(l||"Rejected"),meta:{...f||{},arg:d,requestId:c,rejectedWithValue:!!h,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l,{signal:c}={}){return(d,h,f)=>{const m=r!=null&&r.idGenerator?r.idGenerator(l):e9(),y=new AbortController;let w,b;function T(I){b=I,y.abort()}c&&(c.aborted?T(mx):c.addEventListener("abort",()=>T(mx),{once:!0}));const E=async function(){var D,$;let I;try{let x=(D=r==null?void 0:r.condition)==null?void 0:D.call(r,l,{getState:h,extra:f});if(i9(x)&&(x=await x),x===!1||y.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const v=new Promise((_,k)=>{w=()=>{k({name:"AbortError",message:b||"Aborted"})},y.signal.addEventListener("abort",w)});d(s(m,l,($=r==null?void 0:r.getPendingMeta)==null?void 0:$.call(r,{requestId:m,arg:l},{getState:h,extra:f}))),I=await Promise.race([v,Promise.resolve(n(l,{dispatch:d,getState:h,extra:f,requestId:m,signal:y.signal,abort:T,rejectWithValue:(_,k)=>new Ky(_,k),fulfillWithValue:(_,k)=>new px(_,k)})).then(_=>{if(_ instanceof Ky)throw _;return _ instanceof px?i(_.payload,m,l,_.meta):i(_,m,l)})])}catch(x){I=x instanceof Ky?o(null,m,l,x.payload,x.meta):o(x,m,l)}finally{w&&y.signal.removeEventListener("abort",w)}return r&&!r.dispatchConditionRejection&&o.match(I)&&I.meta.condition||d(I),I}();return Object.assign(E,{abort:T,requestId:m,arg:l,unwrap(){return E.then(r9)}})}}return Object.assign(a,{pending:s,rejected:o,fulfilled:i,settled:Jj(o,i),typePrefix:e})}return t.withTypes=()=>t,t})();function r9(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function i9(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var s9=Symbol.for("rtk-slice-createasyncthunk");function o9(t,e){return`${t}/${e}`}function a9({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[s9];return function(i){const{name:s,reducerPath:o=s}=i;if(!s)throw new Error(fi(11));const a=(typeof i.reducers=="function"?i.reducers(u9()):i.reducers)||{},l=Object.keys(a),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,D){const $=typeof R=="string"?R:R.type;if(!$)throw new Error(fi(12));if($ in c.sliceCaseReducersByType)throw new Error(fi(13));return c.sliceCaseReducersByType[$]=D,d},addMatcher(R,D){return c.sliceMatchers.push({matcher:R,reducer:D}),d},exposeAction(R,D){return c.actionCreators[R]=D,d},exposeCaseReducer(R,D){return c.sliceCaseReducersByName[R]=D,d}};l.forEach(R=>{const D=a[R],$={reducerName:R,type:o9(s,R),createNotation:typeof i.reducers=="function"};h9(D)?p9($,D,d,e):d9($,D,d)});function h(){const[R={},D=[],$=void 0]=typeof i.extraReducers=="function"?mO(i.extraReducers):[i.extraReducers],x={...R,...c.sliceCaseReducersByType};return Xj(i.initialState,v=>{for(let _ in x)v.addCase(_,x[_]);for(let _ of c.sliceMatchers)v.addMatcher(_.matcher,_.reducer);for(let _ of D)v.addMatcher(_.matcher,_.reducer);$&&v.addDefaultCase($)})}const f=R=>R,m=new Map,y=new WeakMap;let w;function b(R,D){return w||(w=h()),w(R,D)}function T(){return w||(w=h()),w.getInitialState()}function E(R,D=!1){function $(v){let _=v[R];return typeof _>"u"&&D&&(_=Yh(y,$,T)),_}function x(v=f){const _=Yh(m,D,()=>new WeakMap);return Yh(_,v,()=>{const k={};for(const[P,O]of Object.entries(i.selectors??{}))k[P]=l9(O,v,()=>Yh(y,v,T),D);return k})}return{reducerPath:R,getSelectors:x,get selectors(){return x($)},selectSlice:$}}const I={name:s,reducer:b,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:T,...E(o),injectInto(R,{reducerPath:D,...$}={}){const x=D??o;return R.inject({reducerPath:x,reducer:b},$),{...I,...E(x,!0)}}};return I}}function l9(t,e,n,r){function i(s,...o){let a=e(s);return typeof a>"u"&&r&&(a=n()),t(a,...o)}return i.unwrapped=t,i}var c9=a9();function u9(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function d9({type:t,reducerName:e,createNotation:n},r,i){let s,o;if("reducer"in r){if(n&&!f9(r))throw new Error(fi(17));s=r.reducer,o=r.prepare}else s=r;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,o?st(t,o):st(t))}function h9(t){return t._reducerDefinitionType==="asyncThunk"}function f9(t){return t._reducerDefinitionType==="reducerWithPrepare"}function p9({type:t,reducerName:e},n,r,i){if(!i)throw new Error(fi(18));const{payloadCreator:s,fulfilled:o,pending:a,rejected:l,settled:c,options:d}=n,h=i(t,s,d);r.exposeAction(e,h),o&&r.addCase(h.fulfilled,o),a&&r.addCase(h.pending,a),l&&r.addCase(h.rejected,l),c&&r.addMatcher(h.settled,c),r.exposeCaseReducer(e,{fulfilled:o||Jh,pending:a||Jh,rejected:l||Jh,settled:c||Jh})}function Jh(){}function fi(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const m9=()=>{};var gx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gO=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},g9=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},yO={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4;let f=(a&15)<<2|c>>6,m=c&63;l||(m=64,o||(f=64)),r.push(n[d],n[h],n[f],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(gO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):g9(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||h==null)throw new y9;const f=s<<2|a>>4;if(r.push(f),c!==64){const m=a<<4&240|c>>2;if(r.push(m),h!==64){const y=c<<6&192|h;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class y9 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const v9=function(t){const e=gO(t);return yO.encodeByteArray(e,!0)},zp=function(t){return v9(t).replace(/\./g,"")},v0=function(t){try{return yO.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function jp(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!_9(n)||(t[n]=jp(t[n],e[n]));return t}function _9(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9=()=>_0().__FIREBASE_DEFAULTS__,b9=()=>{if(typeof process>"u"||typeof gx>"u")return;const t=gx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},E9=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&v0(t[1]);return e&&JSON.parse(e)},eg=()=>{try{return m9()||w9()||b9()||E9()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},vO=t=>{var e,n;return(n=(e=eg())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},_O=t=>{const e=vO(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},wO=()=>{var t;return(t=eg())===null||t===void 0?void 0:t.config},bO=t=>{var e;return(e=eg())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zs(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function w0(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[zp(JSON.stringify(n)),zp(JSON.stringify(o)),""].join(".")}const fu={};function I9(){const t={prod:[],emulator:[]};for(const e of Object.keys(fu))fu[e]?t.emulator.push(e):t.prod.push(e);return t}function S9(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let yx=!1;function b0(t,e){if(typeof window>"u"||typeof document>"u"||!zs(window.location.host)||fu[t]===e||fu[t]||yx)return;fu[t]=e;function n(f){return`__firebase__banner__${f}`}const r="__firebase__banner",s=I9().prod.length>0;function o(){const f=document.getElementById(r);f&&f.remove()}function a(f){f.style.display="flex",f.style.background="#7faaf0",f.style.position="fixed",f.style.bottom="5px",f.style.left="5px",f.style.padding=".5em",f.style.borderRadius="5px",f.style.alignItems="center"}function l(f,m){f.setAttribute("width","24"),f.setAttribute("id",m),f.setAttribute("height","24"),f.setAttribute("viewBox","0 0 24 24"),f.setAttribute("fill","none"),f.style.marginLeft="-6px"}function c(){const f=document.createElement("span");return f.style.cursor="pointer",f.style.marginLeft="16px",f.style.fontSize="24px",f.innerHTML=" &times;",f.onclick=()=>{yx=!0,o()},f}function d(f,m){f.setAttribute("id",m),f.innerText="Learn more",f.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",f.setAttribute("target","__blank"),f.style.paddingLeft="5px",f.style.textDecoration="underline"}function h(){const f=S9(r),m=n("text"),y=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),b=document.getElementById(w)||document.createElement("a"),T=n("preprendIcon"),E=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(f.created){const I=f.element;a(I),d(b,w);const R=c();l(E,T),I.append(E,y,b,R),document.body.appendChild(I)}s?(y.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,y.innerText="Preview backend running in this workspace."),y.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function x9(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Et())}function TO(){var t;const e=(t=eg())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function k9(){return typeof window<"u"||IO()}function IO(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function A9(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function C9(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function R9(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function P9(){const t=Et();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function SO(){return!TO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function xO(){return!TO()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function kO(){try{return typeof indexedDB=="object"}catch{return!1}}function O9(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D9="FirebaseError";class Tr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=D9,Object.setPrototypeOf(this,Tr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ta.prototype.create)}}class ta{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?N9(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Tr(i,a,r)}}function N9(t,e){return t.replace(L9,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const L9=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vx(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function $9(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function wi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(_x(s)&&_x(o)){if(!wi(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function _x(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nd(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function AO(t,e){const n=new V9(t,e);return n.subscribe.bind(n)}class V9{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");M9(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Qy),i.error===void 0&&(i.error=Qy),i.complete===void 0&&(i.complete=Qy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function M9(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Qy(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(t){return t&&t._delegate?t._delegate:t}class jr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const so="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new T9;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(U9(e))try{this.getOrInitializeService({instanceIdentifier:so})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=so){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=so){return this.instances.has(e)}getOptions(e=so){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:B9(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=so){return this.component?this.component.multipleInstances?e:so:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function B9(t){return t===so?void 0:t}function U9(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new F9(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0=[];var _e;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(_e||(_e={}));const RO={debug:_e.DEBUG,verbose:_e.VERBOSE,info:_e.INFO,warn:_e.WARN,error:_e.ERROR,silent:_e.SILENT},z9=_e.INFO,j9={[_e.DEBUG]:"log",[_e.VERBOSE]:"log",[_e.INFO]:"info",[_e.WARN]:"warn",[_e.ERROR]:"error"},q9=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=j9[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=z9,this._logHandler=q9,this._userLogHandler=null,E0.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in _e))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?RO[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,_e.DEBUG,...e),this._logHandler(this,_e.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,_e.VERBOSE,...e),this._logHandler(this,_e.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,_e.INFO,...e),this._logHandler(this,_e.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,_e.WARN,...e),this._logHandler(this,_e.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,_e.ERROR,...e),this._logHandler(this,_e.ERROR,...e)}}function H9(t){E0.forEach(e=>{e.setLogLevel(t)})}function W9(t,e){for(const n of E0){let r=null;e&&e.level&&(r=RO[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,s,...o)=>{const a=o.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");s>=(r??i.logLevel)&&t({level:_e[s].toLowerCase(),message:a,args:o,type:i.name})}}}const G9=(t,e)=>e.some(n=>t instanceof n);let wx,bx;function K9(){return wx||(wx=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Q9(){return bx||(bx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const PO=new WeakMap,G_=new WeakMap,OO=new WeakMap,Xy=new WeakMap,T0=new WeakMap;function X9(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(ws(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&PO.set(n,t)}).catch(()=>{}),T0.set(e,t),e}function Y9(t){if(G_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});G_.set(t,e)}let K_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return G_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||OO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ws(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function J9(t){K_=t(K_)}function Z9(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Yy(this),e,...n);return OO.set(r,e.sort?e.sort():[e]),ws(r)}:Q9().includes(t)?function(...e){return t.apply(Yy(this),e),ws(PO.get(this))}:function(...e){return ws(t.apply(Yy(this),e))}}function e8(t){return typeof t=="function"?Z9(t):(t instanceof IDBTransaction&&Y9(t),G9(t,K9())?new Proxy(t,K_):t)}function ws(t){if(t instanceof IDBRequest)return X9(t);if(Xy.has(t))return Xy.get(t);const e=e8(t);return e!==t&&(Xy.set(t,e),T0.set(e,t)),e}const Yy=t=>T0.get(t);function t8(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=ws(o);return r&&o.addEventListener("upgradeneeded",l=>{r(ws(o.result),l.oldVersion,l.newVersion,ws(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const n8=["get","getKey","getAll","getAllKeys","count"],r8=["put","add","delete","clear"],Jy=new Map;function Ex(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jy.get(e))return Jy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=r8.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n8.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Jy.set(e,s),s}J9(t=>({...t,get:(e,n,r)=>Ex(e,n)||t.get(e,n,r),has:(e,n)=>!!Ex(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i8{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(s8(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function s8(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const qp="@firebase/app",Q_="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bi=new tg("@firebase/app"),o8="@firebase/app-compat",a8="@firebase/analytics-compat",l8="@firebase/analytics",c8="@firebase/app-check-compat",u8="@firebase/app-check",d8="@firebase/auth",h8="@firebase/auth-compat",f8="@firebase/database",p8="@firebase/data-connect",m8="@firebase/database-compat",g8="@firebase/functions",y8="@firebase/functions-compat",v8="@firebase/installations",_8="@firebase/installations-compat",w8="@firebase/messaging",b8="@firebase/messaging-compat",E8="@firebase/performance",T8="@firebase/performance-compat",I8="@firebase/remote-config",S8="@firebase/remote-config-compat",x8="@firebase/storage",k8="@firebase/storage-compat",A8="@firebase/firestore",C8="@firebase/ai",R8="@firebase/firestore-compat",P8="firebase",O8="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs="[DEFAULT]",D8={[qp]:"fire-core",[o8]:"fire-core-compat",[l8]:"fire-analytics",[a8]:"fire-analytics-compat",[u8]:"fire-app-check",[c8]:"fire-app-check-compat",[d8]:"fire-auth",[h8]:"fire-auth-compat",[f8]:"fire-rtdb",[p8]:"fire-data-connect",[m8]:"fire-rtdb-compat",[g8]:"fire-fn",[y8]:"fire-fn-compat",[v8]:"fire-iid",[_8]:"fire-iid-compat",[w8]:"fire-fcm",[b8]:"fire-fcm-compat",[E8]:"fire-perf",[T8]:"fire-perf-compat",[I8]:"fire-rc",[S8]:"fire-rc-compat",[x8]:"fire-gcs",[k8]:"fire-gcs-compat",[A8]:"fire-fst",[R8]:"fire-fst-compat",[C8]:"fire-vertex","fire-js":"fire-js",[P8]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rs=new Map,wl=new Map,bl=new Map;function Zu(t,e){try{t.container.addComponent(e)}catch(n){bi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function DO(t,e){t.container.addOrOverwriteComponent(e)}function Ei(t){const e=t.name;if(bl.has(e))return bi.debug(`There were multiple attempts to register component ${e}.`),!1;bl.set(e,t);for(const n of Rs.values())Zu(n,t);for(const n of wl.values())Zu(n,t);return!0}function Jl(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function N8(t,e,n=Cs){Jl(t,e).clearInstance(n)}function NO(t){return t.options!==void 0}function Kn(t){return t==null?!1:t.settings!==void 0}function L8(){bl.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jn=new ta("app","Firebase",$8);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LO=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new jr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jn.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t,e){const n=v0(t.split(".")[1]);if(n===null){console.error(`FirebaseServerApp ${e} is invalid: second part could not be parsed.`);return}if(JSON.parse(n).exp===void 0){console.error(`FirebaseServerApp ${e} is invalid: expiration claim could not be parsed`);return}const i=JSON.parse(n).exp*1e3,s=new Date().getTime();i-s<=0&&console.error(`FirebaseServerApp ${e} is invalid: the token has expired.`)}class V8 extends LO{constructor(e,n,r,i){const s=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!0,o={name:r,automaticDataCollectionEnabled:s};if(e.apiKey!==void 0)super(e,o,i);else{const a=e;super(a.options,o,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:s},n),this._serverConfig.authIdToken&&Tx(this._serverConfig.authIdToken,"authIdToken"),this._serverConfig.appCheckToken&&Tx(this._serverConfig.appCheckToken,"appCheckToken"),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,Cn(qp,Q_,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){I0(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw Jn.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ci=O8;function ng(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Cs,automaticDataCollectionEnabled:!0},e),i=r.name;if(typeof i!="string"||!i)throw Jn.create("bad-app-name",{appName:String(i)});if(n||(n=wO()),!n)throw Jn.create("no-options");const s=Rs.get(i);if(s){if(wi(n,s.options)&&wi(r,s.config))return s;throw Jn.create("duplicate-app",{appName:i})}const o=new CO(i);for(const l of bl.values())o.addComponent(l);const a=new LO(n,r,o);return Rs.set(i,a),a}function M8(t,e){if(k9()&&!IO())throw Jn.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!0);let n;NO(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=c=>[...c].reduce((d,h)=>Math.imul(31,d)+h.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw Jn.create("finalization-registry-not-supported",{});const s=""+i(JSON.stringify(r)),o=wl.get(s);if(o)return o.incRefCount(e.releaseOnDeref),o;const a=new CO(s);for(const c of bl.values())a.addComponent(c);const l=new V8(n,e,s,a);return wl.set(s,l),l}function rg(t=Cs){const e=Rs.get(t);if(!e&&t===Cs&&wO())return ng();if(!e)throw Jn.create("no-app",{appName:t});return e}function F8(){return Array.from(Rs.values())}async function I0(t){let e=!1;const n=t.name;Rs.has(n)?(e=!0,Rs.delete(n)):wl.has(n)&&t.decRefCount()<=0&&(wl.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function Cn(t,e,n){var r;let i=(r=D8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),bi.warn(a.join(" "));return}Ei(new jr(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function $O(t,e){if(t!==null&&typeof t!="function")throw Jn.create("invalid-log-argument");W9(t,e)}function VO(t){H9(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B8="firebase-heartbeat-database",U8=1,ed="firebase-heartbeat-store";let Zy=null;function MO(){return Zy||(Zy=t8(B8,U8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ed)}catch(n){console.warn(n)}}}}).catch(t=>{throw Jn.create("idb-open",{originalErrorMessage:t.message})})),Zy}async function z8(t){try{const n=(await MO()).transaction(ed),r=await n.objectStore(ed).get(FO(t));return await n.done,r}catch(e){if(e instanceof Tr)bi.warn(e.message);else{const n=Jn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});bi.warn(n.message)}}}async function Ix(t,e){try{const r=(await MO()).transaction(ed,"readwrite");await r.objectStore(ed).put(e,FO(t)),await r.done}catch(n){if(n instanceof Tr)bi.warn(n.message);else{const r=Jn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});bi.warn(r.message)}}}function FO(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j8=1024,q8=30;class H8{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new G8(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Sx();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>q8){const o=K8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){bi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Sx(),{heartbeatsToSend:r,unsentEntries:i}=W8(this._heartbeatsCache.heartbeats),s=zp(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return bi.warn(n),""}}}function Sx(){return new Date().toISOString().substring(0,10)}function W8(t,e=j8){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),xx(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),xx(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class G8{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return kO()?O9().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await z8(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ix(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Ix(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function xx(t){return zp(JSON.stringify({version:2,heartbeats:t})).length}function K8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q8(t){Ei(new jr("platform-logger",e=>new i8(e),"PRIVATE")),Ei(new jr("heartbeat",e=>new H8(e),"PRIVATE")),Cn(qp,Q_,t),Cn(qp,Q_,"esm2017"),Cn("fire-js","")}Q8("");const X8=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Tr,SDK_VERSION:Ci,_DEFAULT_ENTRY_NAME:Cs,_addComponent:Zu,_addOrOverwriteComponent:DO,_apps:Rs,_clearComponents:L8,_components:bl,_getProvider:Jl,_isFirebaseApp:NO,_isFirebaseServerApp:Kn,_registerComponent:Ei,_removeServiceInstance:N8,_serverApps:wl,deleteApp:I0,getApp:rg,getApps:F8,initializeApp:ng,initializeServerApp:M8,onLog:$O,registerVersion:Cn,setLogLevel:VO},Symbol.toStringTag,{value:"Module"}));var Y8="firebase",J8="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cn(Y8,J8,"app");function S0(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function BO(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z8=BO,UO=new ta("auth","Firebase",BO());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hp=new tg("@firebase/auth");function eq(t,...e){Hp.logLevel<=_e.WARN&&Hp.warn(`Auth (${Ci}): ${t}`,...e)}function Of(t,...e){Hp.logLevel<=_e.ERROR&&Hp.error(`Auth (${Ci}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(t,...e){throw x0(t,...e)}function Vr(t,...e){return x0(t,...e)}function zO(t,e,n){const r=Object.assign(Object.assign({},Z8()),{[e]:n});return new ta("auth","Firebase",r).create(e,{appName:t.name})}function ko(t){return zO(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function x0(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return UO.create(t,...e)}function fe(t,e,...n){if(!t)throw x0(e,...n)}function ci(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Of(e),new Error(e)}function Ii(t,e){t||ci(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X_(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tq(){return kx()==="http:"||kx()==="https:"}function kx(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nq(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tq()||C9()||"connection"in navigator)?navigator.onLine:!0}function rq(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ld{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ii(n>e,"Short delay should be less than long delay!"),this.isMobile=x9()||R9()}get(){return nq()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(t,e){Ii(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jO{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ci("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ci("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ci("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iq={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sq=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oq=new Ld(3e4,6e4);function A0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Zl(t,e,n,r,i={}){return qO(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=Nd(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c=Object.assign({method:e,headers:l},s);return A9()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&zs(t.emulatorConfig.host)&&(c.credentials="include"),jO.fetch()(await HO(t,t.config.apiHost,n,a),c)})}async function qO(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},iq),e);try{const i=new lq(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Zh(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Zh(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Zh(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Zh(t,"user-disabled",o);const d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw zO(t,d,c);Ti(t,d)}}catch(i){if(i instanceof Tr)throw i;Ti(t,"network-request-failed",{message:String(i)})}}async function aq(t,e,n,r,i={}){const s=await Zl(t,e,n,r,i);return"mfaPendingCredential"in s&&Ti(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function HO(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?k0(t.config,i):`${t.config.apiScheme}://${i}`;return sq.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class lq{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Vr(this.auth,"network-request-failed")),oq.get())})}}function Zh(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Vr(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cq(t,e){return Zl(t,"POST","/v1/accounts:delete",e)}async function Wp(t,e){return Zl(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uq(t,e=!1){const n=Te(t),r=await n.getIdToken(e),i=C0(r);fe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:pu(ev(i.auth_time)),issuedAtTime:pu(ev(i.iat)),expirationTime:pu(ev(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function ev(t){return Number(t)*1e3}function C0(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Of("JWT malformed, contained fewer than 3 sections"),null;try{const i=v0(n);return i?JSON.parse(i):(Of("Failed to decode base64 JWT payload"),null)}catch(i){return Of("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Ax(t){const e=C0(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function td(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Tr&&dq(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function dq({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hq{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=pu(this.lastLoginAt),this.creationTime=pu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gp(t){var e;const n=t.auth,r=await t.getIdToken(),i=await td(t,Wp(n,{idToken:r}));fe(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?WO(s.providerUserInfo):[],a=pq(t.providerData,o),l=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),d=l?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Y_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function fq(t){const e=Te(t);await Gp(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function pq(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function WO(t){return t.map(e=>{var{providerId:n}=e,r=S0(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mq(t,e){const n=await qO(t,{},async()=>{const r=Nd({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await HO(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&zs(t.emulatorConfig.host)&&(l.credentials="include"),jO.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function gq(t,e){return Zl(t,"POST","/v2/accounts:revokeToken",A0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Ax(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){fe(e.length!==0,"internal-error");const n=Ax(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(fe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await mq(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new rl;return r&&(fe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(fe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(fe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rl,this.toJSON())}_performRefresh(){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wi(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class pr{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=S0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hq(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Y_(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await td(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uq(this,e)}reload(){return fq(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new pr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Gp(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Kn(this.auth.app))return Promise.reject(ko(this.auth));const e=await this.getIdToken();return await td(this,cq(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,c,d;const h=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,m=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,y=(o=n.photoURL)!==null&&o!==void 0?o:void 0,w=(a=n.tenantId)!==null&&a!==void 0?a:void 0,b=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,T=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:I,emailVerified:R,isAnonymous:D,providerData:$,stsTokenManager:x}=n;fe(I&&x,e,"internal-error");const v=rl.fromJSON(this.name,x);fe(typeof I=="string",e,"internal-error"),Wi(h,e.name),Wi(f,e.name),fe(typeof R=="boolean",e,"internal-error"),fe(typeof D=="boolean",e,"internal-error"),Wi(m,e.name),Wi(y,e.name),Wi(w,e.name),Wi(b,e.name),Wi(T,e.name),Wi(E,e.name);const _=new pr({uid:I,auth:e,email:f,emailVerified:R,displayName:h,isAnonymous:D,photoURL:y,phoneNumber:m,tenantId:w,stsTokenManager:v,createdAt:T,lastLoginAt:E});return $&&Array.isArray($)&&(_.providerData=$.map(k=>Object.assign({},k))),b&&(_._redirectEventId=b),_}static async _fromIdTokenResponse(e,n,r=!1){const i=new rl;i.updateFromServerResponse(n);const s=new pr({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Gp(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];fe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?WO(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new rl;a.updateFromIdToken(r);const l=new pr({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Y_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cx=new Map;function ui(t){Ii(t instanceof Function,"Expected a class definition");let e=Cx.get(t);return e?(Ii(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Cx.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GO{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GO.type="NONE";const Rx=GO;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Df(t,e,n){return`firebase:${t}:${e}:${n}`}class il{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Df(this.userKey,i.apiKey,s),this.fullPersistenceKey=Df("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Wp(this.auth,{idToken:e}).catch(()=>{});return n?pr._fromGetAccountInfoResponse(this.auth,n,e):null}return pr._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new il(ui(Rx),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||ui(Rx);const o=Df(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const d=await c._get(o);if(d){let h;if(typeof d=="string"){const f=await Wp(e,{idToken:d}).catch(()=>{});if(!f)break;h=await pr._fromGetAccountInfoResponse(e,f,d)}else h=pr._fromJSON(e,d);c!==s&&(a=h),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new il(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new il(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Px(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YO(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(KO(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ZO(e))return"Blackberry";if(eD(e))return"Webos";if(QO(e))return"Safari";if((e.includes("chrome/")||XO(e))&&!e.includes("edge/"))return"Chrome";if(JO(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function KO(t=Et()){return/firefox\//i.test(t)}function QO(t=Et()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XO(t=Et()){return/crios\//i.test(t)}function YO(t=Et()){return/iemobile/i.test(t)}function JO(t=Et()){return/android/i.test(t)}function ZO(t=Et()){return/blackberry/i.test(t)}function eD(t=Et()){return/webos/i.test(t)}function R0(t=Et()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function yq(t=Et()){var e;return R0(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function vq(){return P9()&&document.documentMode===10}function tD(t=Et()){return R0(t)||JO(t)||eD(t)||ZO(t)||/windows phone/i.test(t)||YO(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nD(t,e=[]){let n;switch(t){case"Browser":n=Px(Et());break;case"Worker":n=`${Px(Et())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ci}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _q{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wq(t,e={}){return Zl(t,"GET","/v2/passwordPolicy",A0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bq=6;class Eq{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:bq,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tq{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ox(this),this.idTokenSubscription=new Ox(this),this.beforeStateQueue=new _q(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=UO,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ui(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await il.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Wp(this,{idToken:e}),r=await pr._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Kn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Gp(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rq()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Kn(this.app))return Promise.reject(ko(this));const n=e?Te(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Kn(this.app)?Promise.reject(ko(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Kn(this.app)?Promise.reject(ko(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ui(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await wq(this),n=new Eq(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new ta("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await gq(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ui(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await il.create(this,[ui(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=nD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&eq(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function P0(t){return Te(t)}class Ox{constructor(e){this.auth=e,this.observer=null,this.addObserver=AO(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let O0={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Iq(t){O0=t}function Sq(t){return O0.loadJS(t)}function xq(){return O0.gapiScript}function kq(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aq(t,e){const n=Jl(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(wi(s,e??{}))return i;Ti(i,"already-initialized")}return n.initialize({options:e})}function Cq(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ui);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Rq(t,e,n){const r=P0(t);fe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=rD(e),{host:o,port:a}=Pq(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},d=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){fe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),fe(wi(c,r.config.emulator)&&wi(d,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=d,r.settings.appVerificationDisabledForTesting=!0,zs(o)?(w0(`${s}//${o}${l}`),b0("Auth",!0)):Oq()}function rD(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Pq(t){const e=rD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:Dx(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:Dx(o)}}}function Dx(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Oq(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iD{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ci("not implemented")}_getIdTokenResponse(e){return ci("not implemented")}_linkToIdToken(e,n){return ci("not implemented")}_getReauthenticationResolver(e){return ci("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sl(t,e){return aq(t,"POST","/v1/accounts:signInWithIdp",A0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dq="http://localhost";class Uo extends iD{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Uo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Ti("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=S0(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Uo(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return sl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,sl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,sl(e,n)}buildRequest(){const e={requestUri:Dq,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Nd(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $d extends sD{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends $d{constructor(){super("facebook.com")}static credential(e){return Uo._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ts.credentialFromTaggedObject(e)}static credentialFromError(e){return ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ts.credential(e.oauthAccessToken)}catch{return null}}}ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";ts.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends $d{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Uo._fromParams({providerId:ns.PROVIDER_ID,signInMethod:ns.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ns.credentialFromTaggedObject(e)}static credentialFromError(e){return ns.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ns.credential(n,r)}catch{return null}}}ns.GOOGLE_SIGN_IN_METHOD="google.com";ns.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rs extends $d{constructor(){super("github.com")}static credential(e){return Uo._fromParams({providerId:rs.PROVIDER_ID,signInMethod:rs.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return rs.credentialFromTaggedObject(e)}static credentialFromError(e){return rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return rs.credential(e.oauthAccessToken)}catch{return null}}}rs.GITHUB_SIGN_IN_METHOD="github.com";rs.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is extends $d{constructor(){super("twitter.com")}static credential(e,n){return Uo._fromParams({providerId:is.PROVIDER_ID,signInMethod:is.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return is.credentialFromTaggedObject(e)}static credentialFromError(e){return is.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return is.credential(n,r)}catch{return null}}}is.TWITTER_SIGN_IN_METHOD="twitter.com";is.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await pr._fromIdTokenResponse(e,r,i),o=Nx(r);return new El({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Nx(r);return new El({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Nx(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Tr{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Kp.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Kp(e,n,r,i)}}function oD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Kp._fromErrorAndOperation(t,s,e,r):s})}async function Nq(t,e,n=!1){const r=await td(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return El._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Lq(t,e,n=!1){const{auth:r}=t;if(Kn(r.app))return Promise.reject(ko(r));const i="reauthenticate";try{const s=await td(t,oD(r,i,e,t),n);fe(s.idToken,r,"internal-error");const o=C0(s.idToken);fe(o,r,"internal-error");const{sub:a}=o;return fe(t.uid===a,r,"user-mismatch"),El._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Ti(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $q(t,e,n=!1){if(Kn(t.app))return Promise.reject(ko(t));const r="signIn",i=await oD(t,r,e),s=await El._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vq(t,e){return Te(t).setPersistence(e)}function Mq(t,e,n,r){return Te(t).onIdTokenChanged(e,n,r)}function Fq(t,e,n){return Te(t).beforeAuthStateChanged(e,n)}const Qp="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Qp,"1"),this.storage.removeItem(Qp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bq=1e3,Uq=10;class lD extends aD{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=tD(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);vq()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Uq):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Bq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}lD.type="LOCAL";const zq=lD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD extends aD{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}cD.type="SESSION";const uD=cD;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jq(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new ig(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await jq(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ig.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qq{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=D0("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){const f=h;if(f.data.eventId===c)switch(f.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mr(){return window}function Hq(t){Mr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dD(){return typeof Mr().WorkerGlobalScope<"u"&&typeof Mr().importScripts=="function"}async function Wq(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Gq(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Kq(){return dD()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="firebaseLocalStorageDb",Qq=1,Xp="firebaseLocalStorage",fD="fbase_key";class Vd{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function sg(t,e){return t.transaction([Xp],e?"readwrite":"readonly").objectStore(Xp)}function Xq(){const t=indexedDB.deleteDatabase(hD);return new Vd(t).toPromise()}function J_(){const t=indexedDB.open(hD,Qq);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Xp,{keyPath:fD})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Xp)?e(r):(r.close(),await Xq(),e(await J_()))})})}async function Lx(t,e,n){const r=sg(t,!0).put({[fD]:e,value:n});return new Vd(r).toPromise()}async function Yq(t,e){const n=sg(t,!1).get(e),r=await new Vd(n).toPromise();return r===void 0?null:r.value}function $x(t,e){const n=sg(t,!0).delete(e);return new Vd(n).toPromise()}const Jq=800,Zq=3;class pD{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await J_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Zq)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return dD()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ig._getInstance(Kq()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Wq(),!this.activeServiceWorker)return;this.sender=new qq(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Gq()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await J_();return await Lx(e,Qp,"1"),await $x(e,Qp),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Lx(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Yq(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>$x(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=sg(i,!1).getAll();return new Vd(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Jq)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}pD.type="LOCAL";const mD=pD;new Ld(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eH(t,e){return e?ui(e):(fe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0 extends iD{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return sl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return sl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return sl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function tH(t){return $q(t.auth,new N0(t),t.bypassAuthState)}function nH(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),Lq(n,new N0(t),t.bypassAuthState)}async function rH(t){const{auth:e,user:n}=t;return fe(n,e,"internal-error"),Nq(n,new N0(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return tH;case"linkViaPopup":case"linkViaRedirect":return rH;case"reauthViaPopup":case"reauthViaRedirect":return nH;default:Ti(this.auth,"internal-error")}}resolve(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ii(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iH=new Ld(2e3,1e4);class Ha extends gD{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Ha.currentPopupAction&&Ha.currentPopupAction.cancel(),Ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return fe(e,this.auth,"internal-error"),e}async onExecution(){Ii(this.filter.length===1,"Popup operations only handle one event");const e=D0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Vr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Vr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Vr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,iH.get())};e()}}Ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sH="pendingRedirect",Nf=new Map;class oH extends gD{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Nf.get(this.auth._key());if(!e){try{const r=await aH(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function aH(t,e){const n=uH(e),r=cH(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function lH(t,e){Nf.set(t._key(),e)}function cH(t){return ui(t._redirectPersistence)}function uH(t){return Df(sH,t.config.apiKey,t.name)}async function dH(t,e,n=!1){if(Kn(t.app))return Promise.reject(ko(t));const r=P0(t),i=eH(r,e),o=await new oH(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hH=10*60*1e3;class fH{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!pH(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!yD(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Vr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=hH&&this.cachedEventUids.clear(),this.cachedEventUids.has(Vx(e))}saveEventToCache(e){this.cachedEventUids.add(Vx(e)),this.lastProcessedEventTime=Date.now()}}function Vx(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function yD({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function pH(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return yD(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mH(t,e={}){return Zl(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gH=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,yH=/^https?/;async function vH(t){if(t.config.emulator)return;const{authorizedDomains:e}=await mH(t);for(const n of e)try{if(_H(n))return}catch{}Ti(t,"unauthorized-domain")}function _H(t){const e=X_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!yH.test(n))return!1;if(gH.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wH=new Ld(3e4,6e4);function Mx(){const t=Mr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function bH(t){return new Promise((e,n)=>{var r,i,s;function o(){Mx(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mx(),n(Vr(t,"network-request-failed"))},timeout:wH.get()})}if(!((i=(r=Mr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Mr().gapi)===null||s===void 0)&&s.load)o();else{const a=kq("iframefcb");return Mr()[a]=()=>{gapi.load?o():n(Vr(t,"network-request-failed"))},Sq(`${xq()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Lf=null,e})}let Lf=null;function EH(t){return Lf=Lf||bH(t),Lf}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=new Ld(5e3,15e3),IH="__/auth/iframe",SH="emulator/auth/iframe",xH={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},kH=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function AH(t){const e=t.config;fe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?k0(e,SH):`https://${t.config.authDomain}/${IH}`,r={apiKey:e.apiKey,appName:t.name,v:Ci},i=kH.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Nd(r).slice(1)}`}async function CH(t){const e=await EH(t),n=Mr().gapi;return fe(n,t,"internal-error"),e.open({where:document.body,url:AH(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xH,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Vr(t,"network-request-failed"),a=Mr().setTimeout(()=>{s(o)},TH.get());function l(){Mr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RH={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},PH=500,OH=600,DH="_blank",NH="http://localhost";class Fx{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function LH(t,e,n,r=PH,i=OH){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},RH),{width:r.toString(),height:i.toString(),top:s,left:o}),c=Et().toLowerCase();n&&(a=XO(c)?DH:n),KO(c)&&(e=e||NH,l.scrollbars="yes");const d=Object.entries(l).reduce((f,[m,y])=>`${f}${m}=${y},`,"");if(yq(c)&&a!=="_self")return $H(e||"",a),new Fx(null);const h=window.open(e||"",a,d);fe(h,t,"popup-blocked");try{h.focus()}catch{}return new Fx(h)}function $H(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="__/auth/handler",MH="emulator/auth/handler",FH=encodeURIComponent("fac");async function Bx(t,e,n,r,i,s){fe(t.config.authDomain,t,"auth-domain-config-required"),fe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ci,eventId:i};if(e instanceof sD){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",$9(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,h]of Object.entries({}))o[d]=h}if(e instanceof $d){const d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const d of Object.keys(a))a[d]===void 0&&delete a[d];const l=await t._getAppCheckToken(),c=l?`#${FH}=${encodeURIComponent(l)}`:"";return`${BH(t)}?${Nd(a).slice(1)}${c}`}function BH({config:t}){return t.emulator?k0(t,MH):`https://${t.authDomain}/${VH}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tv="webStorageSupport";class UH{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=uD,this._completeRedirectFn=dH,this._overrideRedirectResult=lH}async _openPopup(e,n,r,i){var s;Ii((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await Bx(e,n,r,X_(),i);return LH(e,o,D0())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await Bx(e,n,r,X_(),i);return Hq(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ii(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await CH(e),r=new fH(e);return n.register("authEvent",i=>(fe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tv,{type:tv},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[tv];o!==void 0&&n(!!o),Ti(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=vH(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return tD()||QO()||R0()}}const zH=UH;var Ux="@firebase/auth",zx="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jH{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function HH(t){Ei(new jr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;fe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:nD(t)},c=new Tq(r,i,s,l);return Cq(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ei(new jr("auth-internal",e=>{const n=P0(e.getProvider("auth").getImmediate());return(r=>new jH(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Cn(Ux,zx,qH(t)),Cn(Ux,zx,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WH=5*60,GH=bO("authIdTokenMaxAge")||WH;let jx=null;const KH=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>GH)return;const i=n==null?void 0:n.token;jx!==i&&(jx=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function QH(t=rg()){const e=Jl(t,"auth");if(e.isInitialized())return e.getImmediate();const n=Aq(t,{popupRedirectResolver:zH,persistence:[mD,zq,uD]}),r=bO("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=KH(s.toString());Fq(n,o,()=>o(n.currentUser)),Mq(n,a=>o(a))}}const i=vO("auth");return i&&Rq(n,`http://${i}`),n}function XH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Iq({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Vr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",XH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});HH("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YH{constructor(e,n){this._delegate=e,this.firebase=n,Zu(e,new jr("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),I0(this._delegate)))}_getService(e,n=Cs){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=Cs){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Zu(this._delegate,e)}_addOrOverwriteComponent(e){DO(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JH={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},qx=new ta("app-compat","Firebase",JH);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZH(t){const e={},n={__esModule:!0,initializeApp:s,app:i,registerVersion:Cn,setLogLevel:VO,onLog:$O,apps:null,SDK_VERSION:Ci,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:X8}};n.default=n,Object.defineProperty(n,"apps",{get:o});function r(c){delete e[c]}function i(c){if(c=c||Cs,!vx(e,c))throw qx.create("no-app",{appName:c});return e[c]}i.App=t;function s(c,d={}){const h=ng(c,d);if(vx(e,h.name))return e[h.name];const f=new t(h,n);return e[h.name]=f,f}function o(){return Object.keys(e).map(c=>e[c])}function a(c){const d=c.name,h=d.replace("-compat","");if(Ei(c)&&c.type==="PUBLIC"){const f=(m=i())=>{if(typeof m[h]!="function")throw qx.create("invalid-app-argument",{appName:d});return m[h]()};c.serviceProps!==void 0&&jp(f,c.serviceProps),n[h]=f,t.prototype[h]=function(...m){return this._getService.bind(this,d).apply(this,c.multipleInstances?m:[])}}return c.type==="PUBLIC"?n[h]:null}function l(c,d){return d==="serverAuth"?null:d}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(){const t=ZH(YH);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:vD,extendNamespace:e,createSubscribe:AO,ErrorFactory:ta,deepExtend:jp});function e(n){jp(t,n)}return t}const e7=vD();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hx=new tg("@firebase/app-compat"),t7="@firebase/app-compat",n7="0.4.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r7(t){Cn(t7,n7,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=_0();if(t.firebase!==void 0){Hx.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Hx.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const i7=e7;r7();var Wx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bs,_D;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(x,v){function _(){}_.prototype=v.prototype,x.D=v.prototype,x.prototype=new _,x.prototype.constructor=x,x.C=function(k,P,O){for(var A=Array(arguments.length-2),H=2;H<arguments.length;H++)A[H-2]=arguments[H];return v.prototype[P].apply(k,A)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(x,v,_){_||(_=0);var k=Array(16);if(typeof v=="string")for(var P=0;16>P;++P)k[P]=v.charCodeAt(_++)|v.charCodeAt(_++)<<8|v.charCodeAt(_++)<<16|v.charCodeAt(_++)<<24;else for(P=0;16>P;++P)k[P]=v[_++]|v[_++]<<8|v[_++]<<16|v[_++]<<24;v=x.g[0],_=x.g[1],P=x.g[2];var O=x.g[3],A=v+(O^_&(P^O))+k[0]+3614090360&4294967295;v=_+(A<<7&4294967295|A>>>25),A=O+(P^v&(_^P))+k[1]+3905402710&4294967295,O=v+(A<<12&4294967295|A>>>20),A=P+(_^O&(v^_))+k[2]+606105819&4294967295,P=O+(A<<17&4294967295|A>>>15),A=_+(v^P&(O^v))+k[3]+3250441966&4294967295,_=P+(A<<22&4294967295|A>>>10),A=v+(O^_&(P^O))+k[4]+4118548399&4294967295,v=_+(A<<7&4294967295|A>>>25),A=O+(P^v&(_^P))+k[5]+1200080426&4294967295,O=v+(A<<12&4294967295|A>>>20),A=P+(_^O&(v^_))+k[6]+2821735955&4294967295,P=O+(A<<17&4294967295|A>>>15),A=_+(v^P&(O^v))+k[7]+4249261313&4294967295,_=P+(A<<22&4294967295|A>>>10),A=v+(O^_&(P^O))+k[8]+1770035416&4294967295,v=_+(A<<7&4294967295|A>>>25),A=O+(P^v&(_^P))+k[9]+2336552879&4294967295,O=v+(A<<12&4294967295|A>>>20),A=P+(_^O&(v^_))+k[10]+4294925233&4294967295,P=O+(A<<17&4294967295|A>>>15),A=_+(v^P&(O^v))+k[11]+2304563134&4294967295,_=P+(A<<22&4294967295|A>>>10),A=v+(O^_&(P^O))+k[12]+1804603682&4294967295,v=_+(A<<7&4294967295|A>>>25),A=O+(P^v&(_^P))+k[13]+4254626195&4294967295,O=v+(A<<12&4294967295|A>>>20),A=P+(_^O&(v^_))+k[14]+2792965006&4294967295,P=O+(A<<17&4294967295|A>>>15),A=_+(v^P&(O^v))+k[15]+1236535329&4294967295,_=P+(A<<22&4294967295|A>>>10),A=v+(P^O&(_^P))+k[1]+4129170786&4294967295,v=_+(A<<5&4294967295|A>>>27),A=O+(_^P&(v^_))+k[6]+3225465664&4294967295,O=v+(A<<9&4294967295|A>>>23),A=P+(v^_&(O^v))+k[11]+643717713&4294967295,P=O+(A<<14&4294967295|A>>>18),A=_+(O^v&(P^O))+k[0]+3921069994&4294967295,_=P+(A<<20&4294967295|A>>>12),A=v+(P^O&(_^P))+k[5]+3593408605&4294967295,v=_+(A<<5&4294967295|A>>>27),A=O+(_^P&(v^_))+k[10]+38016083&4294967295,O=v+(A<<9&4294967295|A>>>23),A=P+(v^_&(O^v))+k[15]+3634488961&4294967295,P=O+(A<<14&4294967295|A>>>18),A=_+(O^v&(P^O))+k[4]+3889429448&4294967295,_=P+(A<<20&4294967295|A>>>12),A=v+(P^O&(_^P))+k[9]+568446438&4294967295,v=_+(A<<5&4294967295|A>>>27),A=O+(_^P&(v^_))+k[14]+3275163606&4294967295,O=v+(A<<9&4294967295|A>>>23),A=P+(v^_&(O^v))+k[3]+4107603335&4294967295,P=O+(A<<14&4294967295|A>>>18),A=_+(O^v&(P^O))+k[8]+1163531501&4294967295,_=P+(A<<20&4294967295|A>>>12),A=v+(P^O&(_^P))+k[13]+2850285829&4294967295,v=_+(A<<5&4294967295|A>>>27),A=O+(_^P&(v^_))+k[2]+4243563512&4294967295,O=v+(A<<9&4294967295|A>>>23),A=P+(v^_&(O^v))+k[7]+1735328473&4294967295,P=O+(A<<14&4294967295|A>>>18),A=_+(O^v&(P^O))+k[12]+2368359562&4294967295,_=P+(A<<20&4294967295|A>>>12),A=v+(_^P^O)+k[5]+4294588738&4294967295,v=_+(A<<4&4294967295|A>>>28),A=O+(v^_^P)+k[8]+2272392833&4294967295,O=v+(A<<11&4294967295|A>>>21),A=P+(O^v^_)+k[11]+1839030562&4294967295,P=O+(A<<16&4294967295|A>>>16),A=_+(P^O^v)+k[14]+4259657740&4294967295,_=P+(A<<23&4294967295|A>>>9),A=v+(_^P^O)+k[1]+2763975236&4294967295,v=_+(A<<4&4294967295|A>>>28),A=O+(v^_^P)+k[4]+1272893353&4294967295,O=v+(A<<11&4294967295|A>>>21),A=P+(O^v^_)+k[7]+4139469664&4294967295,P=O+(A<<16&4294967295|A>>>16),A=_+(P^O^v)+k[10]+3200236656&4294967295,_=P+(A<<23&4294967295|A>>>9),A=v+(_^P^O)+k[13]+681279174&4294967295,v=_+(A<<4&4294967295|A>>>28),A=O+(v^_^P)+k[0]+3936430074&4294967295,O=v+(A<<11&4294967295|A>>>21),A=P+(O^v^_)+k[3]+3572445317&4294967295,P=O+(A<<16&4294967295|A>>>16),A=_+(P^O^v)+k[6]+76029189&4294967295,_=P+(A<<23&4294967295|A>>>9),A=v+(_^P^O)+k[9]+3654602809&4294967295,v=_+(A<<4&4294967295|A>>>28),A=O+(v^_^P)+k[12]+3873151461&4294967295,O=v+(A<<11&4294967295|A>>>21),A=P+(O^v^_)+k[15]+530742520&4294967295,P=O+(A<<16&4294967295|A>>>16),A=_+(P^O^v)+k[2]+3299628645&4294967295,_=P+(A<<23&4294967295|A>>>9),A=v+(P^(_|~O))+k[0]+4096336452&4294967295,v=_+(A<<6&4294967295|A>>>26),A=O+(_^(v|~P))+k[7]+1126891415&4294967295,O=v+(A<<10&4294967295|A>>>22),A=P+(v^(O|~_))+k[14]+2878612391&4294967295,P=O+(A<<15&4294967295|A>>>17),A=_+(O^(P|~v))+k[5]+4237533241&4294967295,_=P+(A<<21&4294967295|A>>>11),A=v+(P^(_|~O))+k[12]+1700485571&4294967295,v=_+(A<<6&4294967295|A>>>26),A=O+(_^(v|~P))+k[3]+2399980690&4294967295,O=v+(A<<10&4294967295|A>>>22),A=P+(v^(O|~_))+k[10]+4293915773&4294967295,P=O+(A<<15&4294967295|A>>>17),A=_+(O^(P|~v))+k[1]+2240044497&4294967295,_=P+(A<<21&4294967295|A>>>11),A=v+(P^(_|~O))+k[8]+1873313359&4294967295,v=_+(A<<6&4294967295|A>>>26),A=O+(_^(v|~P))+k[15]+4264355552&4294967295,O=v+(A<<10&4294967295|A>>>22),A=P+(v^(O|~_))+k[6]+2734768916&4294967295,P=O+(A<<15&4294967295|A>>>17),A=_+(O^(P|~v))+k[13]+1309151649&4294967295,_=P+(A<<21&4294967295|A>>>11),A=v+(P^(_|~O))+k[4]+4149444226&4294967295,v=_+(A<<6&4294967295|A>>>26),A=O+(_^(v|~P))+k[11]+3174756917&4294967295,O=v+(A<<10&4294967295|A>>>22),A=P+(v^(O|~_))+k[2]+718787259&4294967295,P=O+(A<<15&4294967295|A>>>17),A=_+(O^(P|~v))+k[9]+3951481745&4294967295,x.g[0]=x.g[0]+v&4294967295,x.g[1]=x.g[1]+(P+(A<<21&4294967295|A>>>11))&4294967295,x.g[2]=x.g[2]+P&4294967295,x.g[3]=x.g[3]+O&4294967295}r.prototype.u=function(x,v){v===void 0&&(v=x.length);for(var _=v-this.blockSize,k=this.B,P=this.h,O=0;O<v;){if(P==0)for(;O<=_;)i(this,x,O),O+=this.blockSize;if(typeof x=="string"){for(;O<v;)if(k[P++]=x.charCodeAt(O++),P==this.blockSize){i(this,k),P=0;break}}else for(;O<v;)if(k[P++]=x[O++],P==this.blockSize){i(this,k),P=0;break}}this.h=P,this.o+=v},r.prototype.v=function(){var x=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);x[0]=128;for(var v=1;v<x.length-8;++v)x[v]=0;var _=8*this.o;for(v=x.length-8;v<x.length;++v)x[v]=_&255,_/=256;for(this.u(x),x=Array(16),v=_=0;4>v;++v)for(var k=0;32>k;k+=8)x[_++]=this.g[v]>>>k&255;return x};function s(x,v){var _=a;return Object.prototype.hasOwnProperty.call(_,x)?_[x]:_[x]=v(x)}function o(x,v){this.h=v;for(var _=[],k=!0,P=x.length-1;0<=P;P--){var O=x[P]|0;k&&O==v||(_[P]=O,k=!1)}this.g=_}var a={};function l(x){return-128<=x&&128>x?s(x,function(v){return new o([v|0],0>v?-1:0)}):new o([x|0],0>x?-1:0)}function c(x){if(isNaN(x)||!isFinite(x))return h;if(0>x)return b(c(-x));for(var v=[],_=1,k=0;x>=_;k++)v[k]=x/_|0,_*=4294967296;return new o(v,0)}function d(x,v){if(x.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(x.charAt(0)=="-")return b(d(x.substring(1),v));if(0<=x.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=c(Math.pow(v,8)),k=h,P=0;P<x.length;P+=8){var O=Math.min(8,x.length-P),A=parseInt(x.substring(P,P+O),v);8>O?(O=c(Math.pow(v,O)),k=k.j(O).add(c(A))):(k=k.j(_),k=k.add(c(A)))}return k}var h=l(0),f=l(1),m=l(16777216);t=o.prototype,t.m=function(){if(w(this))return-b(this).m();for(var x=0,v=1,_=0;_<this.g.length;_++){var k=this.i(_);x+=(0<=k?k:4294967296+k)*v,v*=4294967296}return x},t.toString=function(x){if(x=x||10,2>x||36<x)throw Error("radix out of range: "+x);if(y(this))return"0";if(w(this))return"-"+b(this).toString(x);for(var v=c(Math.pow(x,6)),_=this,k="";;){var P=R(_,v).g;_=T(_,P.j(v));var O=((0<_.g.length?_.g[0]:_.h)>>>0).toString(x);if(_=P,y(_))return O+k;for(;6>O.length;)O="0"+O;k=O+k}},t.i=function(x){return 0>x?0:x<this.g.length?this.g[x]:this.h};function y(x){if(x.h!=0)return!1;for(var v=0;v<x.g.length;v++)if(x.g[v]!=0)return!1;return!0}function w(x){return x.h==-1}t.l=function(x){return x=T(this,x),w(x)?-1:y(x)?0:1};function b(x){for(var v=x.g.length,_=[],k=0;k<v;k++)_[k]=~x.g[k];return new o(_,~x.h).add(f)}t.abs=function(){return w(this)?b(this):this},t.add=function(x){for(var v=Math.max(this.g.length,x.g.length),_=[],k=0,P=0;P<=v;P++){var O=k+(this.i(P)&65535)+(x.i(P)&65535),A=(O>>>16)+(this.i(P)>>>16)+(x.i(P)>>>16);k=A>>>16,O&=65535,A&=65535,_[P]=A<<16|O}return new o(_,_[_.length-1]&-2147483648?-1:0)};function T(x,v){return x.add(b(v))}t.j=function(x){if(y(this)||y(x))return h;if(w(this))return w(x)?b(this).j(b(x)):b(b(this).j(x));if(w(x))return b(this.j(b(x)));if(0>this.l(m)&&0>x.l(m))return c(this.m()*x.m());for(var v=this.g.length+x.g.length,_=[],k=0;k<2*v;k++)_[k]=0;for(k=0;k<this.g.length;k++)for(var P=0;P<x.g.length;P++){var O=this.i(k)>>>16,A=this.i(k)&65535,H=x.i(P)>>>16,C=x.i(P)&65535;_[2*k+2*P]+=A*C,E(_,2*k+2*P),_[2*k+2*P+1]+=O*C,E(_,2*k+2*P+1),_[2*k+2*P+1]+=A*H,E(_,2*k+2*P+1),_[2*k+2*P+2]+=O*H,E(_,2*k+2*P+2)}for(k=0;k<v;k++)_[k]=_[2*k+1]<<16|_[2*k];for(k=v;k<2*v;k++)_[k]=0;return new o(_,0)};function E(x,v){for(;(x[v]&65535)!=x[v];)x[v+1]+=x[v]>>>16,x[v]&=65535,v++}function I(x,v){this.g=x,this.h=v}function R(x,v){if(y(v))throw Error("division by zero");if(y(x))return new I(h,h);if(w(x))return v=R(b(x),v),new I(b(v.g),b(v.h));if(w(v))return v=R(x,b(v)),new I(b(v.g),v.h);if(30<x.g.length){if(w(x)||w(v))throw Error("slowDivide_ only works with positive integers.");for(var _=f,k=v;0>=k.l(x);)_=D(_),k=D(k);var P=$(_,1),O=$(k,1);for(k=$(k,2),_=$(_,2);!y(k);){var A=O.add(k);0>=A.l(x)&&(P=P.add(_),O=A),k=$(k,1),_=$(_,1)}return v=T(x,P.j(v)),new I(P,v)}for(P=h;0<=x.l(v);){for(_=Math.max(1,Math.floor(x.m()/v.m())),k=Math.ceil(Math.log(_)/Math.LN2),k=48>=k?1:Math.pow(2,k-48),O=c(_),A=O.j(v);w(A)||0<A.l(x);)_-=k,O=c(_),A=O.j(v);y(O)&&(O=f),P=P.add(O),x=T(x,A)}return new I(P,x)}t.A=function(x){return R(this,x).h},t.and=function(x){for(var v=Math.max(this.g.length,x.g.length),_=[],k=0;k<v;k++)_[k]=this.i(k)&x.i(k);return new o(_,this.h&x.h)},t.or=function(x){for(var v=Math.max(this.g.length,x.g.length),_=[],k=0;k<v;k++)_[k]=this.i(k)|x.i(k);return new o(_,this.h|x.h)},t.xor=function(x){for(var v=Math.max(this.g.length,x.g.length),_=[],k=0;k<v;k++)_[k]=this.i(k)^x.i(k);return new o(_,this.h^x.h)};function D(x){for(var v=x.g.length+1,_=[],k=0;k<v;k++)_[k]=x.i(k)<<1|x.i(k-1)>>>31;return new o(_,x.h)}function $(x,v){var _=v>>5;v%=32;for(var k=x.g.length-_,P=[],O=0;O<k;O++)P[O]=0<v?x.i(O+_)>>>v|x.i(O+_+1)<<32-v:x.i(O+_);return new o(P,x.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,_D=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=d,bs=o}).apply(typeof Wx<"u"?Wx:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var wD,Jc,bD,$f,Z_,ED,TD,ID;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,p,g){return u==Array.prototype||u==Object.prototype||(u[p]=g.value),u};function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var p=0;p<u.length;++p){var g=u[p];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(u,p){if(p)e:{var g=r;u=u.split(".");for(var S=0;S<u.length-1;S++){var V=u[S];if(!(V in g))break e;g=g[V]}u=u[u.length-1],S=g[u],p=p(S),p!=S&&p!=null&&e(g,u,{configurable:!0,writable:!0,value:p})}}function s(u,p){u instanceof String&&(u+="");var g=0,S=!1,V={next:function(){if(!S&&g<u.length){var U=g++;return{value:p(U,u[U]),done:!1}}return S=!0,{done:!0,value:void 0}}};return V[Symbol.iterator]=function(){return V},V}i("Array.prototype.values",function(u){return u||function(){return s(this,function(p,g){return g})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var o=o||{},a=this||self;function l(u){var p=typeof u;return p=p!="object"?p:u?Array.isArray(u)?"array":p:"null",p=="array"||p=="object"&&typeof u.length=="number"}function c(u){var p=typeof u;return p=="object"&&u!=null||p=="function"}function d(u,p,g){return u.call.apply(u.bind,arguments)}function h(u,p,g){if(!u)throw Error();if(2<arguments.length){var S=Array.prototype.slice.call(arguments,2);return function(){var V=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(V,S),u.apply(p,V)}}return function(){return u.apply(p,arguments)}}function f(u,p,g){return f=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,f.apply(null,arguments)}function m(u,p){var g=Array.prototype.slice.call(arguments,1);return function(){var S=g.slice();return S.push.apply(S,arguments),u.apply(this,S)}}function y(u,p){function g(){}g.prototype=p.prototype,u.aa=p.prototype,u.prototype=new g,u.prototype.constructor=u,u.Qb=function(S,V,U){for(var Z=Array(arguments.length-2),Ne=2;Ne<arguments.length;Ne++)Z[Ne-2]=arguments[Ne];return p.prototype[V].apply(S,Z)}}function w(u){const p=u.length;if(0<p){const g=Array(p);for(let S=0;S<p;S++)g[S]=u[S];return g}return[]}function b(u,p){for(let g=1;g<arguments.length;g++){const S=arguments[g];if(l(S)){const V=u.length||0,U=S.length||0;u.length=V+U;for(let Z=0;Z<U;Z++)u[V+Z]=S[Z]}else u.push(S)}}class T{constructor(p,g){this.i=p,this.j=g,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function E(u){return/^[\s\xa0]*$/.test(u)}function I(){var u=a.navigator;return u&&(u=u.userAgent)?u:""}function R(u){return R[" "](u),u}R[" "]=function(){};var D=I().indexOf("Gecko")!=-1&&!(I().toLowerCase().indexOf("webkit")!=-1&&I().indexOf("Edge")==-1)&&!(I().indexOf("Trident")!=-1||I().indexOf("MSIE")!=-1)&&I().indexOf("Edge")==-1;function $(u,p,g){for(const S in u)p.call(g,u[S],S,u)}function x(u,p){for(const g in u)p.call(void 0,u[g],g,u)}function v(u){const p={};for(const g in u)p[g]=u[g];return p}const _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function k(u,p){let g,S;for(let V=1;V<arguments.length;V++){S=arguments[V];for(g in S)u[g]=S[g];for(let U=0;U<_.length;U++)g=_[U],Object.prototype.hasOwnProperty.call(S,g)&&(u[g]=S[g])}}function P(u){var p=1;u=u.split(":");const g=[];for(;0<p&&u.length;)g.push(u.shift()),p--;return u.length&&g.push(u.join(":")),g}function O(u){a.setTimeout(()=>{throw u},0)}function A(){var u=W;let p=null;return u.g&&(p=u.g,u.g=u.g.next,u.g||(u.h=null),p.next=null),p}class H{constructor(){this.h=this.g=null}add(p,g){const S=C.get();S.set(p,g),this.h?this.h.next=S:this.g=S,this.h=S}}var C=new T(()=>new N,u=>u.reset());class N{constructor(){this.next=this.g=this.h=null}set(p,g){this.h=p,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let j,M=!1,W=new H,G=()=>{const u=a.Promise.resolve(void 0);j=()=>{u.then(ae)}};var ae=()=>{for(var u;u=A();){try{u.h.call(u.g)}catch(g){O(g)}var p=C;p.j(u),100>p.h&&(p.h++,u.next=p.g,p.g=u)}M=!1};function ne(){this.s=this.s,this.C=this.C}ne.prototype.s=!1,ne.prototype.ma=function(){this.s||(this.s=!0,this.N())},ne.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ue(u,p){this.type=u,this.g=this.target=p,this.defaultPrevented=!1}ue.prototype.h=function(){this.defaultPrevented=!0};var de=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var u=!1,p=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const g=()=>{};a.addEventListener("test",g,p),a.removeEventListener("test",g,p)}catch{}return u}();function Le(u,p){if(ue.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var g=this.type=u.type,S=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=p,p=u.relatedTarget){if(D){e:{try{R(p.nodeName);var V=!0;break e}catch{}V=!1}V||(p=null)}}else g=="mouseover"?p=u.fromElement:g=="mouseout"&&(p=u.toElement);this.relatedTarget=p,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:at[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Le.aa.h.call(this)}}y(Le,ue);var at={2:"touch",3:"pen",4:"mouse"};Le.prototype.h=function(){Le.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var lt="closure_listenable_"+(1e6*Math.random()|0),Li=0;function dc(u,p,g,S,V){this.listener=u,this.proxy=null,this.src=p,this.type=g,this.capture=!!S,this.ha=V,this.key=++Li,this.da=this.fa=!1}function Wr(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Gr(u){this.src=u,this.g={},this.h=0}Gr.prototype.add=function(u,p,g,S,V){var U=u.toString();u=this.g[U],u||(u=this.g[U]=[],this.h++);var Z=oa(u,p,S,V);return-1<Z?(p=u[Z],g||(p.fa=!1)):(p=new dc(p,this.src,U,!!S,V),p.fa=g,u.push(p)),p};function Kr(u,p){var g=p.type;if(g in u.g){var S=u.g[g],V=Array.prototype.indexOf.call(S,p,void 0),U;(U=0<=V)&&Array.prototype.splice.call(S,V,1),U&&(Wr(p),u.g[g].length==0&&(delete u.g[g],u.h--))}}function oa(u,p,g,S){for(var V=0;V<u.length;++V){var U=u[V];if(!U.da&&U.listener==p&&U.capture==!!g&&U.ha==S)return V}return-1}var Qr="closure_lm_"+(1e6*Math.random()|0),$i={};function Qs(u,p,g,S,V){if(Array.isArray(p)){for(var U=0;U<p.length;U++)Qs(u,p[U],g,S,V);return null}return g=nh(g),u&&u[lt]?u.K(p,g,c(S)?!!S.capture:!1,V):aa(u,p,g,!1,S,V)}function aa(u,p,g,S,V,U){if(!p)throw Error("Invalid event type");var Z=c(V)?!!V.capture:!!V,Ne=fc(u);if(Ne||(u[Qr]=Ne=new Gr(u)),g=Ne.add(p,g,S,Z,U),g.proxy)return g;if(S=Vi(),g.proxy=S,S.src=u,S.listener=g,u.addEventListener)de||(V=Z),V===void 0&&(V=!1),u.addEventListener(p.toString(),S,V);else if(u.attachEvent)u.attachEvent(th(p.toString()),S);else if(u.addListener&&u.removeListener)u.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return g}function Vi(){function u(g){return p.call(u.src,u.listener,g)}const p=Mg;return u}function eh(u,p,g,S,V){if(Array.isArray(p))for(var U=0;U<p.length;U++)eh(u,p[U],g,S,V);else S=c(S)?!!S.capture:!!S,g=nh(g),u&&u[lt]?(u=u.i,p=String(p).toString(),p in u.g&&(U=u.g[p],g=oa(U,g,S,V),-1<g&&(Wr(U[g]),Array.prototype.splice.call(U,g,1),U.length==0&&(delete u.g[p],u.h--)))):u&&(u=fc(u))&&(p=u.g[p.toString()],u=-1,p&&(u=oa(p,g,S,V)),(g=-1<u?p[u]:null)&&hc(g))}function hc(u){if(typeof u!="number"&&u&&!u.da){var p=u.src;if(p&&p[lt])Kr(p.i,u);else{var g=u.type,S=u.proxy;p.removeEventListener?p.removeEventListener(g,S,u.capture):p.detachEvent?p.detachEvent(th(g),S):p.addListener&&p.removeListener&&p.removeListener(S),(g=fc(p))?(Kr(g,u),g.h==0&&(g.src=null,p[Qr]=null)):Wr(u)}}}function th(u){return u in $i?$i[u]:$i[u]="on"+u}function Mg(u,p){if(u.da)u=!0;else{p=new Le(p,this);var g=u.listener,S=u.ha||u.src;u.fa&&hc(u),u=g.call(S,p)}return u}function fc(u){return u=u[Qr],u instanceof Gr?u:null}var pc="__closure_events_fn_"+(1e9*Math.random()>>>0);function nh(u){return typeof u=="function"?u:(u[pc]||(u[pc]=function(p){return u.handleEvent(p)}),u[pc])}function It(){ne.call(this),this.i=new Gr(this),this.M=this,this.F=null}y(It,ne),It.prototype[lt]=!0,It.prototype.removeEventListener=function(u,p,g,S){eh(this,u,p,g,S)};function Ot(u,p){var g,S=u.F;if(S)for(g=[];S;S=S.F)g.push(S);if(u=u.M,S=p.type||p,typeof p=="string")p=new ue(p,u);else if(p instanceof ue)p.target=p.target||u;else{var V=p;p=new ue(S,u),k(p,V)}if(V=!0,g)for(var U=g.length-1;0<=U;U--){var Z=p.g=g[U];V=Mi(Z,S,!0,p)&&V}if(Z=p.g=u,V=Mi(Z,S,!0,p)&&V,V=Mi(Z,S,!1,p)&&V,g)for(U=0;U<g.length;U++)Z=p.g=g[U],V=Mi(Z,S,!1,p)&&V}It.prototype.N=function(){if(It.aa.N.call(this),this.i){var u=this.i,p;for(p in u.g){for(var g=u.g[p],S=0;S<g.length;S++)Wr(g[S]);delete u.g[p],u.h--}}this.F=null},It.prototype.K=function(u,p,g,S){return this.i.add(String(u),p,!1,g,S)},It.prototype.L=function(u,p,g,S){return this.i.add(String(u),p,!0,g,S)};function Mi(u,p,g,S){if(p=u.i.g[String(p)],!p)return!0;p=p.concat();for(var V=!0,U=0;U<p.length;++U){var Z=p[U];if(Z&&!Z.da&&Z.capture==g){var Ne=Z.listener,Dt=Z.ha||Z.src;Z.fa&&Kr(u.i,Z),V=Ne.call(Dt,S)!==!1&&V}}return V&&!S.defaultPrevented}function Xs(u,p,g){if(typeof u=="function")g&&(u=f(u,g));else if(u&&typeof u.handleEvent=="function")u=f(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:a.setTimeout(u,p||0)}function la(u){u.g=Xs(()=>{u.g=null,u.i&&(u.i=!1,la(u))},u.l);const p=u.h;u.h=null,u.m.apply(null,p)}class Fi extends ne{constructor(p,g){super(),this.m=p,this.l=g,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:la(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Xr(u){ne.call(this),this.h=u,this.g={}}y(Xr,ne);var ca=[];function rh(u){$(u.g,function(p,g){this.g.hasOwnProperty(g)&&hc(p)},u),u.g={}}Xr.prototype.N=function(){Xr.aa.N.call(this),rh(this)},Xr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var mc=a.JSON.stringify,Fg=a.JSON.parse,Bg=class{stringify(u){return a.JSON.stringify(u,void 0)}parse(u){return a.JSON.parse(u,void 0)}};function gc(){}gc.prototype.h=null;function ih(u){return u.h||(u.h=u.i())}function sh(){}var Ys={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function yc(){ue.call(this,"d")}y(yc,ue);function vc(){ue.call(this,"c")}y(vc,ue);var Yr={},oh=null;function ua(){return oh=oh||new It}Yr.La="serverreachability";function ah(u){ue.call(this,Yr.La,u)}y(ah,ue);function Ir(u){const p=ua();Ot(p,new ah(p))}Yr.STAT_EVENT="statevent";function lh(u,p){ue.call(this,Yr.STAT_EVENT,u),this.stat=p}y(lh,ue);function St(u){const p=ua();Ot(p,new lh(p,u))}Yr.Ma="timingevent";function Bi(u,p){ue.call(this,Yr.Ma,u),this.size=p}y(Bi,ue);function Ui(u,p){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){u()},p)}function xt(){this.g=!0}xt.prototype.xa=function(){this.g=!1};function Ug(u,p,g,S,V,U){u.info(function(){if(u.g)if(U)for(var Z="",Ne=U.split("&"),Dt=0;Dt<Ne.length;Dt++){var Ae=Ne[Dt].split("=");if(1<Ae.length){var zt=Ae[0];Ae=Ae[1];var jt=zt.split("_");Z=2<=jt.length&&jt[1]=="type"?Z+(zt+"="+Ae+"&"):Z+(zt+"=redacted&")}}else Z=null;else Z=U;return"XMLHTTP REQ ("+S+") [attempt "+V+"]: "+p+`
`+g+`
`+Z})}function zg(u,p,g,S,V,U,Z){u.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+V+"]: "+p+`
`+g+`
`+U+" "+Z})}function zi(u,p,g,S){u.info(function(){return"XMLHTTP TEXT ("+p+"): "+jg(u,g)+(S?" "+S:"")})}function ch(u,p){u.info(function(){return"TIMEOUT: "+p})}xt.prototype.info=function(){};function jg(u,p){if(!u.g)return p;if(!p)return null;try{var g=JSON.parse(p);if(g){for(u=0;u<g.length;u++)if(Array.isArray(g[u])){var S=g[u];if(!(2>S.length)){var V=S[1];if(Array.isArray(V)&&!(1>V.length)){var U=V[0];if(U!="noop"&&U!="stop"&&U!="close")for(var Z=1;Z<V.length;Z++)V[Z]=""}}}}return mc(g)}catch{return p}}var da={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},uh={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},_c;function Js(){}y(Js,gc),Js.prototype.g=function(){return new XMLHttpRequest},Js.prototype.i=function(){return{}},_c=new Js;function Sr(u,p,g,S){this.j=u,this.i=p,this.l=g,this.R=S||1,this.U=new Xr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new wc}function wc(){this.i=null,this.g="",this.h=!1}var qg={},dh={};function z(u,p,g){u.L=1,u.v=ph(Jr(p)),u.m=g,u.P=!0,se(u,null)}function se(u,p){u.F=Date.now(),pt(u),u.A=Jr(u.v);var g=u.A,S=u.R;Array.isArray(S)||(S=[String(S)]),mT(g.i,"t",S),u.C=0,g=u.j.J,u.h=new wc,u.g=DT(u.j,g?p:null,!u.m),0<u.O&&(u.M=new Fi(f(u.Y,u,u.g),u.O)),p=u.U,g=u.g,S=u.ca;var V="readystatechange";Array.isArray(V)||(V&&(ca[0]=V.toString()),V=ca);for(var U=0;U<V.length;U++){var Z=Qs(g,V[U],S||p.handleEvent,!1,p.h||p);if(!Z)break;p.g[Z.key]=Z}p=u.H?v(u.H):{},u.m?(u.u||(u.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,p)):(u.u="GET",u.g.ea(u.A,u.u,null,p)),Ir(),Ug(u.i,u.u,u.A,u.l,u.R,u.m)}Sr.prototype.ca=function(u){u=u.target;const p=this.M;p&&Zr(u)==3?p.j():this.Y(u)},Sr.prototype.Y=function(u){try{if(u==this.g)e:{const jt=Zr(this.g);var p=this.g.Ba();const pa=this.g.Z();if(!(3>jt)&&(jt!=3||this.g&&(this.h.h||this.g.oa()||ET(this.g)))){this.J||jt!=4||p==7||(p==8||0>=pa?Ir(3):Ir(2)),nr(this);var g=this.g.Z();this.X=g;t:if(ye(this)){var S=ET(this.g);u="";var V=S.length,U=Zr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Zs(this),bc(this);var Z="";break t}this.h.i=new a.TextDecoder}for(p=0;p<V;p++)this.h.h=!0,u+=this.h.i.decode(S[p],{stream:!(U&&p==V-1)});S.length=0,this.h.g+=u,this.C=0,Z=this.h.g}else Z=this.g.oa();if(this.o=g==200,zg(this.i,this.u,this.A,this.l,this.R,jt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var Ne,Dt=this.g;if((Ne=Dt.g?Dt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!E(Ne)){var Ae=Ne;break t}}Ae=null}if(g=Ae)zi(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hg(this,g);else{this.o=!1,this.s=3,St(12),Zs(this),bc(this);break e}}if(this.P){g=!0;let rr;for(;!this.J&&this.C<Z.length;)if(rr=Qe(this,Z),rr==dh){jt==4&&(this.s=4,St(14),g=!1),zi(this.i,this.l,null,"[Incomplete Response]");break}else if(rr==qg){this.s=4,St(15),zi(this.i,this.l,Z,"[Invalid Chunk]"),g=!1;break}else zi(this.i,this.l,rr,null),Hg(this,rr);if(ye(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jt!=4||Z.length!=0||this.h.h||(this.s=1,St(16),g=!1),this.o=this.o&&g,!g)zi(this.i,this.l,Z,"[Invalid Chunked Response]"),Zs(this),bc(this);else if(0<Z.length&&!this.W){this.W=!0;var zt=this.j;zt.g==this&&zt.ba&&!zt.M&&(zt.j.info("Great, no buffering proxy detected. Bytes received: "+Z.length),Yg(zt),zt.M=!0,St(11))}}else zi(this.i,this.l,Z,null),Hg(this,Z);jt==4&&Zs(this),this.o&&!this.J&&(jt==4?CT(this.j,this):(this.o=!1,pt(this)))}else a$(this.g),g==400&&0<Z.indexOf("Unknown SID")?(this.s=3,St(12)):(this.s=0,St(13)),Zs(this),bc(this)}}}catch{}finally{}};function ye(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Qe(u,p){var g=u.C,S=p.indexOf(`
`,g);return S==-1?dh:(g=Number(p.substring(g,S)),isNaN(g)?qg:(S+=1,S+g>p.length?dh:(p=p.slice(S,S+g),u.C=S+g,p)))}Sr.prototype.cancel=function(){this.J=!0,Zs(this)};function pt(u){u.S=Date.now()+u.I,On(u,u.I)}function On(u,p){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Ui(f(u.ba,u),p)}function nr(u){u.B&&(a.clearTimeout(u.B),u.B=null)}Sr.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(ch(this.i,this.A),this.L!=2&&(Ir(),St(17)),Zs(this),this.s=2,bc(this)):On(this,this.S-u)};function bc(u){u.j.G==0||u.J||CT(u.j,u)}function Zs(u){nr(u);var p=u.M;p&&typeof p.ma=="function"&&p.ma(),u.M=null,rh(u.U),u.g&&(p=u.g,u.g=null,p.abort(),p.ma())}function Hg(u,p){try{var g=u.j;if(g.G!=0&&(g.g==u||Wg(g.h,u))){if(!u.K&&Wg(g.h,u)&&g.G==3){try{var S=g.Da.g.parse(p)}catch{S=null}if(Array.isArray(S)&&S.length==3){var V=S;if(V[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<u.F)wh(g),vh(g);else break e;Xg(g),St(18)}}else g.za=V[1],0<g.za-g.T&&37500>V[2]&&g.F&&g.v==0&&!g.C&&(g.C=Ui(f(g.Za,g),6e3));if(1>=oT(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else to(g,11)}else if((u.K||g.g==u)&&wh(g),!E(p))for(V=g.Da.g.parse(p),p=0;p<V.length;p++){let Ae=V[p];if(g.T=Ae[0],Ae=Ae[1],g.G==2)if(Ae[0]=="c"){g.K=Ae[1],g.ia=Ae[2];const zt=Ae[3];zt!=null&&(g.la=zt,g.j.info("VER="+g.la));const jt=Ae[4];jt!=null&&(g.Aa=jt,g.j.info("SVER="+g.Aa));const pa=Ae[5];pa!=null&&typeof pa=="number"&&0<pa&&(S=1.5*pa,g.L=S,g.j.info("backChannelRequestTimeoutMs_="+S)),S=g;const rr=u.g;if(rr){const Eh=rr.g?rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eh){var U=S.h;U.g||Eh.indexOf("spdy")==-1&&Eh.indexOf("quic")==-1&&Eh.indexOf("h2")==-1||(U.j=U.l,U.g=new Set,U.h&&(Gg(U,U.h),U.h=null))}if(S.D){const Jg=rr.g?rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Jg&&(S.ya=Jg,Fe(S.I,S.D,Jg))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-u.F,g.j.info("Handshake RTT: "+g.R+"ms")),S=g;var Z=u;if(S.qa=OT(S,S.J?S.ia:null,S.W),Z.K){aT(S.h,Z);var Ne=Z,Dt=S.L;Dt&&(Ne.I=Dt),Ne.B&&(nr(Ne),pt(Ne)),S.g=Z}else kT(S);0<g.i.length&&_h(g)}else Ae[0]!="stop"&&Ae[0]!="close"||to(g,7);else g.G==3&&(Ae[0]=="stop"||Ae[0]=="close"?Ae[0]=="stop"?to(g,7):Qg(g):Ae[0]!="noop"&&g.l&&g.l.ta(Ae),g.v=0)}}Ir(4)}catch{}}var HL=class{constructor(u,p){this.g=u,this.map=p}};function iT(u){this.l=u||10,a.PerformanceNavigationTiming?(u=a.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function sT(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function oT(u){return u.h?1:u.g?u.g.size:0}function Wg(u,p){return u.h?u.h==p:u.g?u.g.has(p):!1}function Gg(u,p){u.g?u.g.add(p):u.h=p}function aT(u,p){u.h&&u.h==p?u.h=null:u.g&&u.g.has(p)&&u.g.delete(p)}iT.prototype.cancel=function(){if(this.i=lT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function lT(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let p=u.i;for(const g of u.g.values())p=p.concat(g.D);return p}return w(u.i)}function WL(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(l(u)){for(var p=[],g=u.length,S=0;S<g;S++)p.push(u[S]);return p}p=[],g=0;for(S in u)p[g++]=u[S];return p}function GL(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(l(u)||typeof u=="string"){var p=[];u=u.length;for(var g=0;g<u;g++)p.push(g);return p}p=[],g=0;for(const S in u)p[g++]=S;return p}}}function cT(u,p){if(u.forEach&&typeof u.forEach=="function")u.forEach(p,void 0);else if(l(u)||typeof u=="string")Array.prototype.forEach.call(u,p,void 0);else for(var g=GL(u),S=WL(u),V=S.length,U=0;U<V;U++)p.call(void 0,S[U],g&&g[U],u)}var uT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function KL(u,p){if(u){u=u.split("&");for(var g=0;g<u.length;g++){var S=u[g].indexOf("="),V=null;if(0<=S){var U=u[g].substring(0,S);V=u[g].substring(S+1)}else U=u[g];p(U,V?decodeURIComponent(V.replace(/\+/g," ")):"")}}}function eo(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof eo){this.h=u.h,hh(this,u.j),this.o=u.o,this.g=u.g,fh(this,u.s),this.l=u.l;var p=u.i,g=new Ic;g.i=p.i,p.g&&(g.g=new Map(p.g),g.h=p.h),dT(this,g),this.m=u.m}else u&&(p=String(u).match(uT))?(this.h=!1,hh(this,p[1]||"",!0),this.o=Ec(p[2]||""),this.g=Ec(p[3]||"",!0),fh(this,p[4]),this.l=Ec(p[5]||"",!0),dT(this,p[6]||"",!0),this.m=Ec(p[7]||"")):(this.h=!1,this.i=new Ic(null,this.h))}eo.prototype.toString=function(){var u=[],p=this.j;p&&u.push(Tc(p,hT,!0),":");var g=this.g;return(g||p=="file")&&(u.push("//"),(p=this.o)&&u.push(Tc(p,hT,!0),"@"),u.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&u.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&u.push("/"),u.push(Tc(g,g.charAt(0)=="/"?YL:XL,!0))),(g=this.i.toString())&&u.push("?",g),(g=this.m)&&u.push("#",Tc(g,ZL)),u.join("")};function Jr(u){return new eo(u)}function hh(u,p,g){u.j=g?Ec(p,!0):p,u.j&&(u.j=u.j.replace(/:$/,""))}function fh(u,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);u.s=p}else u.s=null}function dT(u,p,g){p instanceof Ic?(u.i=p,e$(u.i,u.h)):(g||(p=Tc(p,JL)),u.i=new Ic(p,u.h))}function Fe(u,p,g){u.i.set(p,g)}function ph(u){return Fe(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function Ec(u,p){return u?p?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Tc(u,p,g){return typeof u=="string"?(u=encodeURI(u).replace(p,QL),g&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function QL(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var hT=/[#\/\?@]/g,XL=/[#\?:]/g,YL=/[#\?]/g,JL=/[#\?@]/g,ZL=/#/g;function Ic(u,p){this.h=this.g=null,this.i=u||null,this.j=!!p}function ji(u){u.g||(u.g=new Map,u.h=0,u.i&&KL(u.i,function(p,g){u.add(decodeURIComponent(p.replace(/\+/g," ")),g)}))}t=Ic.prototype,t.add=function(u,p){ji(this),this.i=null,u=ha(this,u);var g=this.g.get(u);return g||this.g.set(u,g=[]),g.push(p),this.h+=1,this};function fT(u,p){ji(u),p=ha(u,p),u.g.has(p)&&(u.i=null,u.h-=u.g.get(p).length,u.g.delete(p))}function pT(u,p){return ji(u),p=ha(u,p),u.g.has(p)}t.forEach=function(u,p){ji(this),this.g.forEach(function(g,S){g.forEach(function(V){u.call(p,V,S,this)},this)},this)},t.na=function(){ji(this);const u=Array.from(this.g.values()),p=Array.from(this.g.keys()),g=[];for(let S=0;S<p.length;S++){const V=u[S];for(let U=0;U<V.length;U++)g.push(p[S])}return g},t.V=function(u){ji(this);let p=[];if(typeof u=="string")pT(this,u)&&(p=p.concat(this.g.get(ha(this,u))));else{u=Array.from(this.g.values());for(let g=0;g<u.length;g++)p=p.concat(u[g])}return p},t.set=function(u,p){return ji(this),this.i=null,u=ha(this,u),pT(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[p]),this.h+=1,this},t.get=function(u,p){return u?(u=this.V(u),0<u.length?String(u[0]):p):p};function mT(u,p,g){fT(u,p),0<g.length&&(u.i=null,u.g.set(ha(u,p),w(g)),u.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],p=Array.from(this.g.keys());for(var g=0;g<p.length;g++){var S=p[g];const U=encodeURIComponent(String(S)),Z=this.V(S);for(S=0;S<Z.length;S++){var V=U;Z[S]!==""&&(V+="="+encodeURIComponent(String(Z[S]))),u.push(V)}}return this.i=u.join("&")};function ha(u,p){return p=String(p),u.j&&(p=p.toLowerCase()),p}function e$(u,p){p&&!u.j&&(ji(u),u.i=null,u.g.forEach(function(g,S){var V=S.toLowerCase();S!=V&&(fT(this,S),mT(this,V,g))},u)),u.j=p}function t$(u,p){const g=new xt;if(a.Image){const S=new Image;S.onload=m(qi,g,"TestLoadImage: loaded",!0,p,S),S.onerror=m(qi,g,"TestLoadImage: error",!1,p,S),S.onabort=m(qi,g,"TestLoadImage: abort",!1,p,S),S.ontimeout=m(qi,g,"TestLoadImage: timeout",!1,p,S),a.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=u}else p(!1)}function n$(u,p){const g=new xt,S=new AbortController,V=setTimeout(()=>{S.abort(),qi(g,"TestPingServer: timeout",!1,p)},1e4);fetch(u,{signal:S.signal}).then(U=>{clearTimeout(V),U.ok?qi(g,"TestPingServer: ok",!0,p):qi(g,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(V),qi(g,"TestPingServer: error",!1,p)})}function qi(u,p,g,S,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),S(g)}catch{}}function r$(){this.g=new Bg}function i$(u,p,g){const S=g||"";try{cT(u,function(V,U){let Z=V;c(V)&&(Z=mc(V)),p.push(S+U+"="+encodeURIComponent(Z))})}catch(V){throw p.push(S+"type="+encodeURIComponent("_badmap")),V}}function mh(u){this.l=u.Ub||null,this.j=u.eb||!1}y(mh,gc),mh.prototype.g=function(){return new gh(this.l,this.j)},mh.prototype.i=function(u){return function(){return u}}({});function gh(u,p){It.call(this),this.D=u,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(gh,It),t=gh.prototype,t.open=function(u,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=p,this.readyState=1,xc(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(p.body=u),(this.D||a).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sc(this)),this.readyState=0},t.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,xc(this)),this.g&&(this.readyState=3,xc(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gT(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function gT(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}t.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var p=u.value?u.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!u.done}))&&(this.response=this.responseText+=p)}u.done?Sc(this):xc(this),this.readyState==3&&gT(this)}},t.Ra=function(u){this.g&&(this.response=this.responseText=u,Sc(this))},t.Qa=function(u){this.g&&(this.response=u,Sc(this))},t.ga=function(){this.g&&Sc(this)};function Sc(u){u.readyState=4,u.l=null,u.j=null,u.v=null,xc(u)}t.setRequestHeader=function(u,p){this.u.append(u,p)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],p=this.h.entries();for(var g=p.next();!g.done;)g=g.value,u.push(g[0]+": "+g[1]),g=p.next();return u.join(`\r
`)};function xc(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(gh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function yT(u){let p="";return $(u,function(g,S){p+=S,p+=":",p+=g,p+=`\r
`}),p}function Kg(u,p,g){e:{for(S in g){var S=!1;break e}S=!0}S||(g=yT(g),typeof u=="string"?g!=null&&encodeURIComponent(String(g)):Fe(u,p,g))}function tt(u){It.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(tt,It);var s$=/^https?$/i,o$=["POST","PUT"];t=tt.prototype,t.Ha=function(u){this.J=u},t.ea=function(u,p,g,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);p=p?p.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():_c.g(),this.v=this.o?ih(this.o):ih(_c),this.g.onreadystatechange=f(this.Ea,this);try{this.B=!0,this.g.open(p,String(u),!0),this.B=!1}catch(U){vT(this,U);return}if(u=g||"",g=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var V in S)g.set(V,S[V]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const U of S.keys())g.set(U,S.get(U));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(g.keys()).find(U=>U.toLowerCase()=="content-type"),V=a.FormData&&u instanceof a.FormData,!(0<=Array.prototype.indexOf.call(o$,p,void 0))||S||V||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[U,Z]of g)this.g.setRequestHeader(U,Z);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{bT(this),this.u=!0,this.g.send(u),this.u=!1}catch(U){vT(this,U)}};function vT(u,p){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=p,u.m=5,_T(u),yh(u)}function _T(u){u.A||(u.A=!0,Ot(u,"complete"),Ot(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Ot(this,"complete"),Ot(this,"abort"),yh(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yh(this,!0)),tt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?wT(this):this.bb())},t.bb=function(){wT(this)};function wT(u){if(u.h&&typeof o<"u"&&(!u.v[1]||Zr(u)!=4||u.Z()!=2)){if(u.u&&Zr(u)==4)Xs(u.Ea,0,u);else if(Ot(u,"readystatechange"),Zr(u)==4){u.h=!1;try{const Z=u.Z();e:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var g;if(!(g=p)){var S;if(S=Z===0){var V=String(u.D).match(uT)[1]||null;!V&&a.self&&a.self.location&&(V=a.self.location.protocol.slice(0,-1)),S=!s$.test(V?V.toLowerCase():"")}g=S}if(g)Ot(u,"complete"),Ot(u,"success");else{u.m=6;try{var U=2<Zr(u)?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.Z()+"]",_T(u)}}finally{yh(u)}}}}function yh(u,p){if(u.g){bT(u);const g=u.g,S=u.v[0]?()=>{}:null;u.g=null,u.v=null,p||Ot(u,"ready");try{g.onreadystatechange=S}catch{}}}function bT(u){u.I&&(a.clearTimeout(u.I),u.I=null)}t.isActive=function(){return!!this.g};function Zr(u){return u.g?u.g.readyState:0}t.Z=function(){try{return 2<Zr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(u){if(this.g){var p=this.g.responseText;return u&&p.indexOf(u)==0&&(p=p.substring(u.length)),Fg(p)}};function ET(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function a$(u){const p={};u=(u.g&&2<=Zr(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<u.length;S++){if(E(u[S]))continue;var g=P(u[S]);const V=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();const U=p[V]||[];p[V]=U,U.push(g)}x(p,function(S){return S.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function kc(u,p,g){return g&&g.internalChannelParams&&g.internalChannelParams[u]||p}function TT(u){this.Aa=0,this.i=[],this.j=new xt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=kc("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=kc("baseRetryDelayMs",5e3,u),this.cb=kc("retryDelaySeedMs",1e4,u),this.Wa=kc("forwardChannelMaxRetries",2,u),this.wa=kc("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new iT(u&&u.concurrentRequestLimit),this.Da=new r$,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=TT.prototype,t.la=8,t.G=1,t.connect=function(u,p,g,S){St(0),this.W=u,this.H=p||{},g&&S!==void 0&&(this.H.OSID=g,this.H.OAID=S),this.F=this.X,this.I=OT(this,null,this.W),_h(this)};function Qg(u){if(IT(u),u.G==3){var p=u.U++,g=Jr(u.I);if(Fe(g,"SID",u.K),Fe(g,"RID",p),Fe(g,"TYPE","terminate"),Ac(u,g),p=new Sr(u,u.j,p),p.L=2,p.v=ph(Jr(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(p.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=p.v,g=!0),g||(p.g=DT(p.j,null),p.g.ea(p.v)),p.F=Date.now(),pt(p)}PT(u)}function vh(u){u.g&&(Yg(u),u.g.cancel(),u.g=null)}function IT(u){vh(u),u.u&&(a.clearTimeout(u.u),u.u=null),wh(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&a.clearTimeout(u.s),u.s=null)}function _h(u){if(!sT(u.h)&&!u.s){u.s=!0;var p=u.Ga;j||G(),M||(j(),M=!0),W.add(p,u),u.B=0}}function l$(u,p){return oT(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=p.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Ui(f(u.Ga,u,p),RT(u,u.B)),u.B++,!0)}t.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const V=new Sr(this,this.j,u);let U=this.o;if(this.S&&(U?(U=v(U),k(U,this.S)):U=this.S),this.m!==null||this.O||(V.H=U,U=null),this.P)e:{for(var p=0,g=0;g<this.i.length;g++){t:{var S=this.i[g];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(p+=S,4096<p){p=g;break e}if(p===4096||g===this.i.length-1){p=g+1;break e}}p=1e3}else p=1e3;p=xT(this,V,p),g=Jr(this.I),Fe(g,"RID",u),Fe(g,"CVER",22),this.D&&Fe(g,"X-HTTP-Session-Id",this.D),Ac(this,g),U&&(this.O?p="headers="+encodeURIComponent(String(yT(U)))+"&"+p:this.m&&Kg(g,this.m,U)),Gg(this.h,V),this.Ua&&Fe(g,"TYPE","init"),this.P?(Fe(g,"$req",p),Fe(g,"SID","null"),V.T=!0,z(V,g,null)):z(V,g,p),this.G=2}}else this.G==3&&(u?ST(this,u):this.i.length==0||sT(this.h)||ST(this))};function ST(u,p){var g;p?g=p.l:g=u.U++;const S=Jr(u.I);Fe(S,"SID",u.K),Fe(S,"RID",g),Fe(S,"AID",u.T),Ac(u,S),u.m&&u.o&&Kg(S,u.m,u.o),g=new Sr(u,u.j,g,u.B+1),u.m===null&&(g.H=u.o),p&&(u.i=p.D.concat(u.i)),p=xT(u,g,1e3),g.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),Gg(u.h,g),z(g,S,p)}function Ac(u,p){u.H&&$(u.H,function(g,S){Fe(p,S,g)}),u.l&&cT({},function(g,S){Fe(p,S,g)})}function xT(u,p,g){g=Math.min(u.i.length,g);var S=u.l?f(u.l.Na,u.l,u):null;e:{var V=u.i;let U=-1;for(;;){const Z=["count="+g];U==-1?0<g?(U=V[0].g,Z.push("ofs="+U)):U=0:Z.push("ofs="+U);let Ne=!0;for(let Dt=0;Dt<g;Dt++){let Ae=V[Dt].g;const zt=V[Dt].map;if(Ae-=U,0>Ae)U=Math.max(0,V[Dt].g-100),Ne=!1;else try{i$(zt,Z,"req"+Ae+"_")}catch{S&&S(zt)}}if(Ne){S=Z.join("&");break e}}}return u=u.i.splice(0,g),p.D=u,S}function kT(u){if(!u.g&&!u.u){u.Y=1;var p=u.Fa;j||G(),M||(j(),M=!0),W.add(p,u),u.v=0}}function Xg(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Ui(f(u.Fa,u),RT(u,u.v)),u.v++,!0)}t.Fa=function(){if(this.u=null,AT(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Ui(f(this.ab,this),u)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,St(10),vh(this),AT(this))};function Yg(u){u.A!=null&&(a.clearTimeout(u.A),u.A=null)}function AT(u){u.g=new Sr(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var p=Jr(u.qa);Fe(p,"RID","rpc"),Fe(p,"SID",u.K),Fe(p,"AID",u.T),Fe(p,"CI",u.F?"0":"1"),!u.F&&u.ja&&Fe(p,"TO",u.ja),Fe(p,"TYPE","xmlhttp"),Ac(u,p),u.m&&u.o&&Kg(p,u.m,u.o),u.L&&(u.g.I=u.L);var g=u.g;u=u.ia,g.L=1,g.v=ph(Jr(p)),g.m=null,g.P=!0,se(g,u)}t.Za=function(){this.C!=null&&(this.C=null,vh(this),Xg(this),St(19))};function wh(u){u.C!=null&&(a.clearTimeout(u.C),u.C=null)}function CT(u,p){var g=null;if(u.g==p){wh(u),Yg(u),u.g=null;var S=2}else if(Wg(u.h,p))g=p.D,aT(u.h,p),S=1;else return;if(u.G!=0){if(p.o)if(S==1){g=p.m?p.m.length:0,p=Date.now()-p.F;var V=u.B;S=ua(),Ot(S,new Bi(S,g)),_h(u)}else kT(u);else if(V=p.s,V==3||V==0&&0<p.X||!(S==1&&l$(u,p)||S==2&&Xg(u)))switch(g&&0<g.length&&(p=u.h,p.i=p.i.concat(g)),V){case 1:to(u,5);break;case 4:to(u,10);break;case 3:to(u,6);break;default:to(u,2)}}}function RT(u,p){let g=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(g*=2),g*p}function to(u,p){if(u.j.info("Error code "+p),p==2){var g=f(u.fb,u),S=u.Xa;const V=!S;S=new eo(S||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hh(S,"https"),ph(S),V?t$(S.toString(),g):n$(S.toString(),g)}else St(2);u.G=0,u.l&&u.l.sa(p),PT(u),IT(u)}t.fb=function(u){u?(this.j.info("Successfully pinged google.com"),St(2)):(this.j.info("Failed to ping google.com"),St(1))};function PT(u){if(u.G=0,u.ka=[],u.l){const p=lT(u.h);(p.length!=0||u.i.length!=0)&&(b(u.ka,p),b(u.ka,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.ra()}}function OT(u,p,g){var S=g instanceof eo?Jr(g):new eo(g);if(S.g!="")p&&(S.g=p+"."+S.g),fh(S,S.s);else{var V=a.location;S=V.protocol,p=p?p+"."+V.hostname:V.hostname,V=+V.port;var U=new eo(null);S&&hh(U,S),p&&(U.g=p),V&&fh(U,V),g&&(U.l=g),S=U}return g=u.D,p=u.ya,g&&p&&Fe(S,g,p),Fe(S,"VER",u.la),Ac(u,S),S}function DT(u,p,g){if(p&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=u.Ca&&!u.pa?new tt(new mh({eb:g})):new tt(u.pa),p.Ha(u.J),p}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function NT(){}t=NT.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function bh(){}bh.prototype.g=function(u,p){return new Dn(u,p)};function Dn(u,p){It.call(this),this.g=new TT(p),this.l=u,this.h=p&&p.messageUrlParams||null,u=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(u?u["X-WebChannel-Content-Type"]=p.messageContentType:u={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(u?u["X-WebChannel-Client-Profile"]=p.va:u={"X-WebChannel-Client-Profile":p.va}),this.g.S=u,(u=p&&p.Sb)&&!E(u)&&(this.g.m=u),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!E(p)&&(this.g.D=p,u=this.h,u!==null&&p in u&&(u=this.h,p in u&&delete u[p])),this.j=new fa(this)}y(Dn,It),Dn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Dn.prototype.close=function(){Qg(this.g)},Dn.prototype.o=function(u){var p=this.g;if(typeof u=="string"){var g={};g.__data__=u,u=g}else this.u&&(g={},g.__data__=mc(u),u=g);p.i.push(new HL(p.Ya++,u)),p.G==3&&_h(p)},Dn.prototype.N=function(){this.g.l=null,delete this.j,Qg(this.g),delete this.g,Dn.aa.N.call(this)};function LT(u){yc.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var p=u.__sm__;if(p){e:{for(const g in p){u=g;break e}u=void 0}(this.i=u)&&(u=this.i,p=p!==null&&u in p?p[u]:void 0),this.data=p}else this.data=u}y(LT,yc);function $T(){vc.call(this),this.status=1}y($T,vc);function fa(u){this.g=u}y(fa,NT),fa.prototype.ua=function(){Ot(this.g,"a")},fa.prototype.ta=function(u){Ot(this.g,new LT(u))},fa.prototype.sa=function(u){Ot(this.g,new $T)},fa.prototype.ra=function(){Ot(this.g,"b")},bh.prototype.createWebChannel=bh.prototype.g,Dn.prototype.send=Dn.prototype.o,Dn.prototype.open=Dn.prototype.m,Dn.prototype.close=Dn.prototype.close,ID=function(){return new bh},TD=function(){return ua()},ED=Yr,Z_={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},da.NO_ERROR=0,da.TIMEOUT=8,da.HTTP_ERROR=6,$f=da,uh.COMPLETE="complete",bD=uh,sh.EventType=Ys,Ys.OPEN="a",Ys.CLOSE="b",Ys.ERROR="c",Ys.MESSAGE="d",It.prototype.listen=It.prototype.K,Jc=sh,tt.prototype.listenOnce=tt.prototype.L,tt.prototype.getLastError=tt.prototype.Ka,tt.prototype.getLastErrorCode=tt.prototype.Ba,tt.prototype.getStatus=tt.prototype.Z,tt.prototype.getResponseJson=tt.prototype.Oa,tt.prototype.getResponseText=tt.prototype.oa,tt.prototype.send=tt.prototype.ea,tt.prototype.setWithCredentials=tt.prototype.Ha,wD=tt}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const Gx="@firebase/firestore",Kx="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ct.UNAUTHENTICATED=new Ct(null),Ct.GOOGLE_CREDENTIALS=new Ct("google-credentials-uid"),Ct.FIRST_PARTY=new Ct("first-party-uid"),Ct.MOCK_USER=new Ct("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ec="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ps=new tg("@firebase/firestore");function xa(){return Ps.logLevel}function s7(t){Ps.setLogLevel(t)}function X(t,...e){if(Ps.logLevel<=_e.DEBUG){const n=e.map(L0);Ps.debug(`Firestore (${ec}): ${t}`,...n)}}function dt(t,...e){if(Ps.logLevel<=_e.ERROR){const n=e.map(L0);Ps.error(`Firestore (${ec}): ${t}`,...n)}}function Bn(t,...e){if(Ps.logLevel<=_e.WARN){const n=e.map(L0);Ps.warn(`Firestore (${ec}): ${t}`,...n)}}function L0(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,SD(t,r,n)}function SD(t,e,n){let r=`FIRESTORE (${ec}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw dt(r),new Error(r)}function le(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||SD(e,i,r)}function o7(t,e){t||ie(57014,e)}function te(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class K extends Tr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xD{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class a7{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ct.UNAUTHENTICATED))}shutdown(){}}class l7{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class c7{constructor(e){this.t=e,this.currentUser=Ct.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){le(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ft;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ft,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ft)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(le(typeof r.accessToken=="string",31837,{l:r}),new xD(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return le(e===null||typeof e=="string",2055,{h:e}),new Ct(e)}}class u7{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ct.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class d7{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new u7(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ct.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Qx{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class h7{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Kn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){le(this.o===void 0,3512);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,X("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Qx(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(le(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Qx(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f7(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V0{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=f7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function he(t,e){return t<e?-1:t>e?1:0}function ew(t,e){let n=0;for(;n<t.length&&n<e.length;){const r=t.codePointAt(n),i=e.codePointAt(n);if(r!==i){if(r<128&&i<128)return he(r,i);{const s=$0(),o=p7(s.encode(Xx(t,n)),s.encode(Xx(e,n)));return o!==0?o:he(r,i)}}n+=r>65535?2:1}return he(t.length,e.length)}function Xx(t,e){return t.codePointAt(e)>65535?t.substring(e,e+2):t.substring(e,e+1)}function p7(t,e){for(let n=0;n<t.length&&n<e.length;++n)if(t[n]!==e[n])return he(t[n],e[n]);return he(t.length,e.length)}function Tl(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function kD(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yx="__name__";class Cr{constructor(e,n,r){n===void 0?n=0:n>e.length&&ie(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&ie(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Cr.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return he(e.length,n.length)}static compareSegments(e,n){const r=Cr.isNumericId(e),i=Cr.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Cr.extractNumericId(e).compare(Cr.extractNumericId(n)):ew(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return bs.fromString(e.substring(4,e.length-2))}}class we extends Cr{construct(e,n,r){return new we(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new we(n)}static emptyPath(){return new we([])}}const m7=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ge extends Cr{construct(e,n,r){return new Ge(e,n,r)}static isValidIdentifier(e){return m7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ge.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Yx}static keyField(){return new Ge([Yx])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ge(n)}static emptyPath(){return new Ge([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J{constructor(e){this.path=e}static fromPath(e){return new J(we.fromString(e))}static fromName(e){return new J(we.fromString(e).popFirst(5))}static empty(){return new J(we.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&we.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return we.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new J(new we(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e,n){if(!n)throw new K(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function AD(t,e,n,r){if(e===!0&&r===!0)throw new K(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jx(t){if(!J.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zx(t){if(J.isDocumentKey(t))throw new K(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function CD(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function og(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie(12329,{type:typeof t})}function Ce(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=og(t);throw new K(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function RD(t,e){if(e<=0)throw new K(F.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Md(t,e){if(!CD(t))throw new K(F.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new K(F.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e1=-62135596800,t1=1e6;class Re{static now(){return Re.fromMillis(Date.now())}static fromDate(e){return Re.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*t1);return new Re(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<e1)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/t1}_compareTo(e){return this.seconds===e.seconds?he(this.nanoseconds,e.nanoseconds):he(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Re._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Md(e,Re._jsonSchema))return new Re(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-e1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Re._jsonSchemaVersion="firestore/timestamp/1.0",Re._jsonSchema={type:yt("string",Re._jsonSchemaVersion),seconds:yt("number"),nanoseconds:yt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{static fromTimestamp(e){return new ce(e)}static min(){return new ce(new Re(0,0))}static max(){return new ce(new Re(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=-1;class Yp{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function tw(t){return t.fields.find(e=>e.kind===2)}function oo(t){return t.fields.filter(e=>e.kind!==2)}Yp.UNKNOWN_ID=-1;class Vf{constructor(e,n){this.fieldPath=e,this.kind=n}}class nd{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new nd(0,Un.min())}}function PD(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ce.fromTimestamp(r===1e9?new Re(n+1,0):new Re(n,r));return new Un(i,J.empty(),e)}function OD(t){return new Un(t.readTime,t.key,Il)}class Un{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Un(ce.min(),J.empty(),Il)}static max(){return new Un(ce.max(),J.empty(),Il)}}function F0(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=J.comparator(t.documentKey,e.documentKey),n!==0?n:he(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ND{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function js(t){if(t.code!==F.FAILED_PRECONDITION||t.message!==DD)throw t;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new L((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof L?n:L.resolve(n)}catch(n){return L.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):L.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):L.reject(n)}static resolve(e){return new L((n,r)=>{n(e)})}static reject(e){return new L((n,r)=>{r(e)})}static waitFor(e){return new L((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=L.resolve(!1);for(const r of e)n=n.next(i=>i?L.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new L((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const c=l;n(e[c]).next(d=>{o[c]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new L((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln="SimpleDb";class ag{static open(e,n,r,i){try{return new ag(n,e.transaction(i,r))}catch(s){throw new mu(n,s)}}constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.S=new Ft,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{n.error?this.S.reject(new mu(e,n.error)):this.S.resolve()},this.transaction.onerror=r=>{const i=B0(r.target.error);this.S.reject(new mu(e,i))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(X(Ln,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}v(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new y7(n)}}class Fr{static delete(e){return X(Ln,"Removing database:",e),lo(_0().indexedDB.deleteDatabase(e)).toPromise()}static C(){if(!kO())return!1;if(Fr.F())return!0;const e=Et(),n=Fr.M(e),r=0<n&&n<10,i=LD(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static F(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.O)==="YES"}static N(e,n){return e.store(n)}static M(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,n,r){this.name=e,this.version=n,this.B=r,this.L=null,Fr.M(Et())===12.2&&dt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async k(e){return this.db||(X(Ln,"Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new mu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new K(F.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new K(F.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new mu(e,o))},i.onupgradeneeded=s=>{X(Ln,'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;if(this.L!==null&&this.L!==s.oldVersion)throw new Error(`refusing to open IndexedDB database due to potential corruption of the IndexedDB database data; this corruption could be caused by clicking the "clear site data" button in a web browser; try reloading the web page to re-initialize the IndexedDB database: lastClosedDbVersion=${this.L}, event.oldVersion=${s.oldVersion}, event.newVersion=${s.newVersion}, db.version=${o.version}`);this.B.q(o,i.transaction,s.oldVersion,this.version).next(()=>{X(Ln,"Database upgrade to version "+this.version+" complete")})}}),this.db.addEventListener("close",n=>{const r=n.target;this.L=r.version},{passive:!0})),this.db.addEventListener("versionchange",n=>{var r;n.newVersion===null&&(Bn('Received "versionchange" event with newVersion===null; notifying the registered DatabaseDeletedListener, if any'),(r=this.databaseDeletedListener)===null||r===void 0||r.call(this))},{passive:!0}),this.db}setDatabaseDeletedListener(e){if(this.databaseDeletedListener)throw new Error("setDatabaseDeletedListener() may only be called once, and it has already been called");this.databaseDeletedListener=e}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.k(e);const a=ag.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(c=>(a.v(),c)).catch(c=>(a.abort(c),L.reject(c))).toPromise();return l.catch(()=>{}),await a.D,l}catch(a){const l=a,c=l.name!=="FirebaseError"&&o<3;if(X(Ln,"Transaction failed with error:",l.message,"Retrying:",c),this.close(),!c)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function LD(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class g7{constructor(e){this.$=e,this.U=!1,this.K=null}get isDone(){return this.U}get W(){return this.K}set cursor(e){this.$=e}done(){this.U=!0}G(e){this.K=e}delete(){return lo(this.$.delete())}}class mu extends K{constructor(e,n){super(F.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function qs(t){return t.name==="IndexedDbTransactionError"}class y7{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(X(Ln,"PUT",this.store.name,e,n),r=this.store.put(n,e)):(X(Ln,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),lo(r)}add(e){return X(Ln,"ADD",this.store.name,e,e),lo(this.store.add(e))}get(e){return lo(this.store.get(e)).next(n=>(n===void 0&&(n=null),X(Ln,"GET",this.store.name,e,n),n))}delete(e){return X(Ln,"DELETE",this.store.name,e),lo(this.store.delete(e))}count(){return X(Ln,"COUNT",this.store.name),lo(this.store.count())}j(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new L((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.J(s,(a,l)=>{o.push(l)}).next(()=>o)}}H(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new L((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}Y(e,n){X(Ln,"DELETE ALL",this.store.name);const r=this.options(e,n);r.Z=!1;const i=this.cursor(r);return this.J(i,(s,o,a)=>a.delete())}X(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.J(i,n)}ee(e){const n=this.cursor({});return new L((r,i)=>{n.onerror=s=>{const o=B0(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}J(e,n){const r=[];return new L((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new g7(a),c=n(a.primaryKey,a.value,l);if(c instanceof L){const d=c.catch(h=>(l.done(),L.reject(h)));r.push(d)}l.isDone?i():l.W===null?a.continue():a.continue(l.W)}}).next(()=>L.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.Z?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function lo(t){return new L((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=B0(r.target.error);n(i)}})}let n1=!1;function B0(t){const e=Fr.M(Et());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new K("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return n1||(n1=!0,setTimeout(()=>{throw r},0)),r}}return t}const gu="IndexBackfiller";class v7{constructor(e,n){this.asyncQueue=e,this.te=n,this.task=null}start(){this.ne(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}ne(e){X(gu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{const n=await this.te.re();X(gu,`Documents written: ${n}`)}catch(n){qs(n)?X(gu,"Ignoring IndexedDB error during index backfill: ",n):await js(n)}await this.ne(6e4)})}}class _7{constructor(e,n){this.localStore=e,this.persistence=n}async re(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.ie(n,e))}ie(e,n){const r=new Set;let i=n,s=!0;return L.doWhile(()=>s===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(o=>{if(o!==null&&!r.has(o))return X(gu,`Processing collection: ${o}`),this.se(e,o,i).next(a=>{i-=a,r.add(o)});s=!1})).next(()=>n-i)}se(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(s=>{const o=s.changes;return this.localStore.indexManager.updateIndexEntries(e,o).next(()=>this.oe(i,s)).next(a=>(X(gu,`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>o.size)}))}oe(e,n){let r=e;return n.changes.forEach((i,s)=>{const o=OD(s);F0(o,r)>0&&(r=o)}),new Un(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this._e(r),this.ae=r=>n.writeSequenceNumber(r))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}bn.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es=-1;function Fd(t){return t==null}function rd(t){return t===0&&1/t==-1/0}function $D(t){return typeof t=="number"&&Number.isInteger(t)&&!rd(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp="";function Jt(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=r1(e)),e=w7(t.get(n),e);return r1(e)}function w7(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const s=t.charAt(i);switch(s){case"\0":n+="";break;case Jp:n+="";break;default:n+=s}}return n}function r1(t){return t+Jp+""}function Or(t){const e=t.length;if(le(e>=2,64408,{path:t}),e===2)return le(t.charAt(0)===Jp&&t.charAt(1)==="",56145,{path:t}),we.emptyPath();const n=e-2,r=[];let i="";for(let s=0;s<e;){const o=t.indexOf(Jp,s);switch((o<0||o>n)&&ie(50515,{path:t}),t.charAt(o+1)){case"":const a=t.substring(s,o);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(s,o),i+="\0";break;case"":i+=t.substring(s,o+1);break;default:ie(61167,{path:t})}s=o+2}return new we(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao="remoteDocuments",Bd="owner",ga="owner",sd="mutationQueues",b7="userId",ar="mutations",i1="batchId",_o="userMutationsIndex",s1=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(t,e){return[t,Jt(e)]}function VD(t,e,n){return[t,Jt(e),n]}const E7={},Sl="documentMutations",Zp="remoteDocumentsV14",T7=["prefixPath","collectionGroup","readTime","documentId"],Ff="documentKeyIndex",I7=["prefixPath","collectionGroup","documentId"],MD="collectionGroupIndex",S7=["collectionGroup","readTime","prefixPath","documentId"],od="remoteDocumentGlobal",nw="remoteDocumentGlobalKey",xl="targets",FD="queryTargetsIndex",x7=["canonicalId","targetId"],kl="targetDocuments",k7=["targetId","path"],U0="documentTargetsIndex",A7=["path","targetId"],em="targetGlobalKey",Ao="targetGlobal",ad="collectionParents",C7=["collectionId","parent"],Al="clientMetadata",R7="clientId",lg="bundles",P7="bundleId",cg="namedQueries",O7="name",z0="indexConfiguration",D7="indexId",rw="collectionGroupIndex",N7="collectionGroup",yu="indexState",L7=["indexId","uid"],BD="sequenceNumberIndex",$7=["uid","sequenceNumber"],vu="indexEntries",V7=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],UD="documentKeyIndex",M7=["indexId","uid","orderedDocumentKey"],ug="documentOverlays",F7=["userId","collectionPath","documentId"],iw="collectionPathOverlayIndex",B7=["userId","collectionPath","largestBatchId"],zD="collectionGroupOverlayIndex",U7=["userId","collectionGroup","largestBatchId"],j0="globals",z7="name",jD=[sd,ar,Sl,ao,xl,Bd,Ao,kl,Al,od,ad,lg,cg],j7=[...jD,ug],qD=[sd,ar,Sl,Zp,xl,Bd,Ao,kl,Al,od,ad,lg,cg,ug],HD=qD,q0=[...HD,z0,yu,vu],q7=q0,WD=[...q0,j0],H7=WD;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw extends ND{constructor(e,n){super(),this.ce=e,this.currentSequenceNumber=n}}function Tt(t,e){const n=te(t);return Fr.N(n.ce,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Hs(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function GD(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||$t.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,$t.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$t.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tf(this.root,e,this.comparator,!1)}getReverseIterator(){return new tf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tf(this.root,e,this.comparator,!0)}}class tf{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??$t.RED,this.left=i??$t.EMPTY,this.right=s??$t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new $t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return $t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ie(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ie(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw ie(27949);return e+(this.isRed()?0:1)}}$t.EMPTY=null,$t.RED=!0,$t.BLACK=!1;$t.EMPTY=new class{constructor(){this.size=0}get key(){throw ie(57766)}get value(){throw ie(16141)}get color(){throw ie(16727)}get left(){throw ie(29726)}get right(){throw ie(36894)}copy(e,n,r,i,s){return this}insert(e,n,r){return new $t(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new a1(this.data.getIterator())}getIteratorFrom(e){return new a1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof De)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new De(this.comparator);return n.data=e,n}}class a1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function ya(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Ge.comparator)}static empty(){return new En([])}unionWith(e){let n=new De(Ge.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Tl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W7(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new KD("Invalid base64 string: "+s):s}}(e);return new ot(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new ot(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return he(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ot.EMPTY_BYTE_STRING=new ot("");const G7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(le(!!t,39018),typeof t=="string"){let e=0;const n=G7.exec(t);if(le(!!n,46558,{timestamp:t}),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:qe(t.seconds),nanos:qe(t.nanos)}}function qe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function xi(t){return typeof t=="string"?ot.fromBase64String(t):ot.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD="server_timestamp",XD="__type__",YD="__previous_value__",JD="__local_write_time__";function dg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[XD])===null||n===void 0?void 0:n.stringValue)===QD}function hg(t){const e=t.mapValue.fields[YD];return dg(e)?hg(e):e}function ld(t){const e=Si(t.mapValue.fields[JD].timestampValue);return new Re(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K7{constructor(e,n,r,i,s,o,a,l,c,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=c,this.isUsingEmulator=d}}const tm="(default)";class Os{constructor(e,n){this.projectId=e,this.database=n||tm}static empty(){return new Os("","")}get isDefaultDatabase(){return this.database===tm}isEqual(e){return e instanceof Os&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__type__",ZD="__max__",cs={mapValue:{fields:{__type__:{stringValue:ZD}}}},W0="__vector__",Cl="value",Bf={nullValue:"NULL_VALUE"};function Ds(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?dg(t)?4:e2(t)?9007199254740991:fg(t)?10:11:ie(28295,{value:t})}function qr(t,e){if(t===e)return!0;const n=Ds(t);if(n!==Ds(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ld(t).isEqual(ld(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=Si(i.timestampValue),a=Si(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return xi(i.bytesValue).isEqual(xi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return qe(i.geoPointValue.latitude)===qe(s.geoPointValue.latitude)&&qe(i.geoPointValue.longitude)===qe(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return qe(i.integerValue)===qe(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=qe(i.doubleValue),a=qe(s.doubleValue);return o===a?rd(o)===rd(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Tl(t.arrayValue.values||[],e.arrayValue.values||[],qr);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(o1(o)!==o1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!qr(o[l],a[l])))return!1;return!0}(t,e);default:return ie(52216,{left:t})}}function cd(t,e){return(t.values||[]).find(n=>qr(n,e))!==void 0}function Ns(t,e){if(t===e)return 0;const n=Ds(t),r=Ds(e);if(n!==r)return he(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return he(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=qe(s.integerValue||s.doubleValue),l=qe(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return l1(t.timestampValue,e.timestampValue);case 4:return l1(ld(t),ld(e));case 5:return ew(t.stringValue,e.stringValue);case 6:return function(s,o){const a=xi(s),l=xi(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let c=0;c<a.length&&c<l.length;c++){const d=he(a[c],l[c]);if(d!==0)return d}return he(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=he(qe(s.latitude),qe(o.latitude));return a!==0?a:he(qe(s.longitude),qe(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return c1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,c,d;const h=s.fields||{},f=o.fields||{},m=(a=h[Cl])===null||a===void 0?void 0:a.arrayValue,y=(l=f[Cl])===null||l===void 0?void 0:l.arrayValue,w=he(((c=m==null?void 0:m.values)===null||c===void 0?void 0:c.length)||0,((d=y==null?void 0:y.values)===null||d===void 0?void 0:d.length)||0);return w!==0?w:c1(m,y)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===cs.mapValue&&o===cs.mapValue)return 0;if(s===cs.mapValue)return 1;if(o===cs.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),c=o.fields||{},d=Object.keys(c);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){const f=ew(l[h],d[h]);if(f!==0)return f;const m=Ns(a[l[h]],c[d[h]]);if(m!==0)return m}return he(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ie(23264,{le:n})}}function l1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return he(t,e);const n=Si(t),r=Si(e),i=he(n.seconds,r.seconds);return i!==0?i:he(n.nanos,r.nanos)}function c1(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const s=Ns(n[i],r[i]);if(s)return s}return he(n.length,r.length)}function Rl(t){return ow(t)}function ow(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return xi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return J.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=ow(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${ow(n.fields[o])}`;return i+"}"}(t.mapValue):ie(61005,{value:t})}function Uf(t){switch(Ds(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=hg(t);return e?16+Uf(e):16;case 5:return 2*t.stringValue.length;case 6:return xi(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Uf(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Hs(r.fields,(s,o)=>{i+=s.length+Uf(o)}),i}(t.mapValue);default:throw ie(13486,{value:t})}}function zo(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function aw(t){return!!t&&"integerValue"in t}function ud(t){return!!t&&"arrayValue"in t}function u1(t){return!!t&&"nullValue"in t}function d1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function zf(t){return!!t&&"mapValue"in t}function fg(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{})[H0])===null||n===void 0?void 0:n.stringValue)===W0}function _u(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Hs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_u(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_u(t.arrayValue.values[n]);return e}return Object.assign({},t)}function e2(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===ZD}const t2={mapValue:{fields:{[H0]:{stringValue:W0},[Cl]:{arrayValue:{}}}}};function Q7(t){return"nullValue"in t?Bf:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?zo(Os.empty(),J.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?fg(t)?t2:{mapValue:{}}:ie(35942,{value:t})}function X7(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?zo(Os.empty(),J.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?t2:"mapValue"in t?fg(t)?{mapValue:{}}:cs:ie(61959,{value:t})}function h1(t,e){const n=Ns(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function f1(t,e){const n=Ns(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vt{constructor(e){this.value=e}static empty(){return new Vt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!zf(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_u(n)}setAll(e){let n=Ge.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=_u(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());zf(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return qr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];zf(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Hs(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Vt(_u(this.value))}}function n2(t){const e=[];return Hs(t.fields,(n,r)=>{const i=new Ge([n]);if(zf(r)){const s=n2(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ue(e,0,ce.min(),ce.min(),ce.min(),Vt.empty(),0)}static newFoundDocument(e,n,r,i){return new Ue(e,1,n,ce.min(),r,i,0)}static newNoDocument(e,n){return new Ue(e,2,n,ce.min(),ce.min(),Vt.empty(),0)}static newUnknownDocument(e,n){return new Ue(e,3,n,ce.min(),ce.min(),Vt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ce.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Vt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Vt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ce.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ue&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ue(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ls{constructor(e,n){this.position=e,this.inclusive=n}}function p1(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=J.comparator(J.fromName(o.referenceValue),n.key):r=Ns(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function m1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!qr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(e,n="asc"){this.field=e,this.dir=n}}function Y7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r2{}class Ee extends r2{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new J7(e,n,r):n==="array-contains"?new tW(e,r):n==="in"?new c2(e,r):n==="not-in"?new nW(e,r):n==="array-contains-any"?new rW(e,r):new Ee(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Z7(e,r):new eW(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Ns(n,this.value)):n!==null&&Ds(this.value)===Ds(n)&&this.matchesComparison(Ns(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Pe extends r2{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Pe(e,n)}matches(e){return Pl(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function Pl(t){return t.op==="and"}function lw(t){return t.op==="or"}function G0(t){return i2(t)&&Pl(t)}function i2(t){for(const e of t.filters)if(e instanceof Pe)return!1;return!0}function cw(t){if(t instanceof Ee)return t.field.canonicalString()+t.op.toString()+Rl(t.value);if(G0(t))return t.filters.map(e=>cw(e)).join(",");{const e=t.filters.map(n=>cw(n)).join(",");return`${t.op}(${e})`}}function s2(t,e){return t instanceof Ee?function(r,i){return i instanceof Ee&&r.op===i.op&&r.field.isEqual(i.field)&&qr(r.value,i.value)}(t,e):t instanceof Pe?function(r,i){return i instanceof Pe&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&s2(o,i.filters[a]),!0):!1}(t,e):void ie(19439)}function o2(t,e){const n=t.filters.concat(e);return Pe.create(n,t.op)}function a2(t){return t instanceof Ee?function(n){return`${n.field.canonicalString()} ${n.op} ${Rl(n.value)}`}(t):t instanceof Pe?function(n){return n.op.toString()+" {"+n.getFilters().map(a2).join(" ,")+"}"}(t):"Filter"}class J7 extends Ee{constructor(e,n,r){super(e,n,r),this.key=J.fromName(r.referenceValue)}matches(e){const n=J.comparator(e.key,this.key);return this.matchesComparison(n)}}class Z7 extends Ee{constructor(e,n){super(e,"in",n),this.keys=l2("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class eW extends Ee{constructor(e,n){super(e,"not-in",n),this.keys=l2("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function l2(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>J.fromName(r.referenceValue))}class tW extends Ee{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ud(n)&&cd(n.arrayValue,this.value)}}class c2 extends Ee{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&cd(this.value.arrayValue,n)}}class nW extends Ee{constructor(e,n){super(e,"not-in",n)}matches(e){if(cd(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!cd(this.value.arrayValue,n)}}class rW extends Ee{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ud(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>cd(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iW{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.Pe=null}}function uw(t,e=null,n=[],r=[],i=null,s=null,o=null){return new iW(t,e,n,r,i,s,o)}function jo(t){const e=te(t);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>cw(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),Fd(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Rl(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Rl(r)).join(",")),e.Pe=n}return e.Pe}function Ud(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Y7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!s2(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!m1(t.startAt,e.startAt)&&m1(t.endAt,e.endAt)}function nm(t){return J.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function rm(t,e){return t.filters.filter(n=>n instanceof Ee&&n.field.isEqual(e))}function g1(t,e,n){let r=Bf,i=!0;for(const s of rm(t,e)){let o=Bf,a=!0;switch(s.op){case"<":case"<=":o=Q7(s.value);break;case"==":case"in":case">=":o=s.value;break;case">":o=s.value,a=!1;break;case"!=":case"not-in":o=Bf}h1({value:r,inclusive:i},{value:o,inclusive:a})<0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];h1({value:r,inclusive:i},{value:o,inclusive:n.inclusive})<0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}function y1(t,e,n){let r=cs,i=!0;for(const s of rm(t,e)){let o=cs,a=!0;switch(s.op){case">=":case">":o=X7(s.value),a=!1;break;case"==":case"in":case"<=":o=s.value;break;case"<":o=s.value,a=!1;break;case"!=":case"not-in":o=cs}f1({value:r,inclusive:i},{value:o,inclusive:a})>0&&(r=o,i=a)}if(n!==null){for(let s=0;s<t.orderBy.length;++s)if(t.orderBy[s].field.isEqual(e)){const o=n.position[s];f1({value:r,inclusive:i},{value:o,inclusive:n.inclusive})>0&&(r=o,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function u2(t,e,n,r,i,s,o,a){return new Ri(t,e,n,r,i,s,o,a)}function tc(t){return new Ri(t)}function v1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function K0(t){return t.collectionGroup!==null}function ol(t){const e=te(t);if(e.Te===null){e.Te=[];const n=new Set;for(const s of e.explicitOrderBy)e.Te.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new De(Ge.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(c=>{c.isInequality()&&(a=a.add(c.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.Te.push(new dd(s,r))}),n.has(Ge.keyField().canonicalString())||e.Te.push(new dd(Ge.keyField(),r))}return e.Te}function un(t){const e=te(t);return e.Ie||(e.Ie=sW(e,ol(t))),e.Ie}function sW(t,e){if(t.limitType==="F")return uw(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new dd(i.field,s)});const n=t.endAt?new Ls(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ls(t.startAt.position,t.startAt.inclusive):null;return uw(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function dw(t,e){const n=t.filters.concat([e]);return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function im(t,e,n){return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zd(t,e){return Ud(un(t),un(e))&&t.limitType===e.limitType}function d2(t){return`${jo(un(t))}|lt:${t.limitType}`}function ka(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>a2(i)).join(", ")}]`),Fd(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Rl(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Rl(i)).join(",")),`Target(${r})`}(un(t))}; limitType=${t.limitType})`}function jd(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):J.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of ol(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const c=p1(o,a,l);return o.inclusive?c<=0:c<0}(r.startAt,ol(r),i)||r.endAt&&!function(o,a,l){const c=p1(o,a,l);return o.inclusive?c>=0:c>0}(r.endAt,ol(r),i))}(t,e)}function h2(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function f2(t){return(e,n)=>{let r=!1;for(const i of ol(t)){const s=oW(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function oW(t,e,n){const r=t.field.isKeyField()?J.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),c=a.data.field(s);return l!==null&&c!==null?Ns(l,c):ie(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ie(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Hs(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return GD(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aW=new Me(J.comparator);function Tn(){return aW}const p2=new Me(J.comparator);function Zc(...t){let e=p2;for(const n of t)e=e.insert(n.key,n);return e}function m2(t){let e=p2;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Dr(){return wu()}function g2(){return wu()}function wu(){return new Pi(t=>t.toString(),(t,e)=>t.isEqual(e))}const lW=new Me(J.comparator),cW=new De(J.comparator);function ge(...t){let e=cW;for(const n of t)e=e.add(n);return e}const uW=new De(he);function Q0(){return uW}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rd(e)?"-0":e}}function y2(t){return{integerValue:""+t}}function v2(t,e){return $D(e)?y2(e):X0(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(){this._=void 0}}function dW(t,e,n){return t instanceof Ol?function(i,s){const o={fields:{[XD]:{stringValue:QD},[JD]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&dg(s)&&(s=hg(s)),s&&(o.fields[YD]=s),{mapValue:o}}(n,e):t instanceof qo?w2(t,e):t instanceof Ho?b2(t,e):function(i,s){const o=_2(i,s),a=_1(o)+_1(i.Ee);return aw(o)&&aw(i.Ee)?y2(a):X0(i.serializer,a)}(t,e)}function hW(t,e,n){return t instanceof qo?w2(t,e):t instanceof Ho?b2(t,e):n}function _2(t,e){return t instanceof Dl?function(r){return aw(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ol extends pg{}class qo extends pg{constructor(e){super(),this.elements=e}}function w2(t,e){const n=E2(e);for(const r of t.elements)n.some(i=>qr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Ho extends pg{constructor(e){super(),this.elements=e}}function b2(t,e){let n=E2(e);for(const r of t.elements)n=n.filter(i=>!qr(i,r));return{arrayValue:{values:n}}}class Dl extends pg{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function _1(t){return qe(t.integerValue||t.doubleValue)}function E2(t){return ud(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,n){this.field=e,this.transform=n}}function fW(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qo&&i instanceof qo||r instanceof Ho&&i instanceof Ho?Tl(r.elements,i.elements,qr):r instanceof Dl&&i instanceof Dl?qr(r.Ee,i.Ee):r instanceof Ol&&i instanceof Ol}(t.transform,e.transform)}class pW{constructor(e,n){this.version=e,this.transformResults=n}}class Ke{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Ke}static exists(e){return new Ke(void 0,e)}static updateTime(e){return new Ke(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class mg{}function T2(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rc(t.key,Ke.none()):new nc(t.key,t.data,Ke.none());{const n=t.data,r=Vt.empty();let i=new De(Ge.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new Oi(t.key,r,new En(i.toArray()),Ke.none())}}function mW(t,e,n){t instanceof nc?function(i,s,o){const a=i.value.clone(),l=b1(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Oi?function(i,s,o){if(!jf(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=b1(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(I2(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function bu(t,e,n,r){return t instanceof nc?function(s,o,a,l){if(!jf(s.precondition,o))return a;const c=s.value.clone(),d=E1(s.fieldTransforms,l,o);return c.setAll(d),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),null}(t,e,n,r):t instanceof Oi?function(s,o,a,l){if(!jf(s.precondition,o))return a;const c=E1(s.fieldTransforms,l,o),d=o.data;return d.setAll(I2(s)),d.setAll(c),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return jf(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function gW(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=_2(r.transform,i||null);s!=null&&(n===null&&(n=Vt.empty()),n.set(r.field,s))}return n||null}function w1(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Tl(r,i,(s,o)=>fW(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nc extends mg{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Oi extends mg{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function I2(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function b1(t,e,n){const r=new Map;le(t.length===n.length,32656,{Ae:n.length,Re:t.length});for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,hW(o,a,n[i]))}return r}function E1(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,dW(s,o,e))}return r}class rc extends mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Y0 extends mg{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&mW(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=g2();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=T2(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ce.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ge())}isEqual(e){return this.batchId===e.batchId&&Tl(this.mutations,e.mutations,(n,r)=>w1(n,r))&&Tl(this.baseMutations,e.baseMutations,(n,r)=>w1(n,r))}}class Z0{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){le(e.mutations.length===r.length,58842,{Ve:e.mutations.length,me:r.length});let i=function(){return lW}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Z0(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yW{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mt,xe;function S2(t){switch(t){case F.OK:return ie(64938);case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0;default:return ie(15467,{code:t})}}function x2(t){if(t===void 0)return dt("GRPC error has no .code"),F.UNKNOWN;switch(t){case mt.OK:return F.OK;case mt.CANCELLED:return F.CANCELLED;case mt.UNKNOWN:return F.UNKNOWN;case mt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case mt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case mt.INTERNAL:return F.INTERNAL;case mt.UNAVAILABLE:return F.UNAVAILABLE;case mt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case mt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case mt.NOT_FOUND:return F.NOT_FOUND;case mt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case mt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case mt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case mt.ABORTED:return F.ABORTED;case mt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case mt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case mt.DATA_LOSS:return F.DATA_LOSS;default:return ie(39323,{code:t})}}(xe=mt||(mt={}))[xe.OK=0]="OK",xe[xe.CANCELLED=1]="CANCELLED",xe[xe.UNKNOWN=2]="UNKNOWN",xe[xe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",xe[xe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",xe[xe.NOT_FOUND=5]="NOT_FOUND",xe[xe.ALREADY_EXISTS=6]="ALREADY_EXISTS",xe[xe.PERMISSION_DENIED=7]="PERMISSION_DENIED",xe[xe.UNAUTHENTICATED=16]="UNAUTHENTICATED",xe[xe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",xe[xe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",xe[xe.ABORTED=10]="ABORTED",xe[xe.OUT_OF_RANGE=11]="OUT_OF_RANGE",xe[xe.UNIMPLEMENTED=12]="UNIMPLEMENTED",xe[xe.INTERNAL=13]="INTERNAL",xe[xe.UNAVAILABLE=14]="UNAVAILABLE",xe[xe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vW=new bs([4294967295,4294967295],0);function T1(t){const e=$0().encode(t),n=new _D;return n.update(e),new Uint8Array(n.digest())}function I1(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new bs([n,r],0),new bs([i,s],0)]}class tE{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(r<0)throw new eu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=bs.fromNumber(this.fe)}pe(e,n,r){let i=e.add(n.multiply(bs.fromNumber(r)));return i.compare(vW)===1&&(i=new bs([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=T1(e),[r,i]=I1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);if(!this.ye(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new tE(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.fe===0)return;const n=T1(e),[r,i]=I1(n);for(let s=0;s<this.hashCount;s++){const o=this.pe(r,i,s);this.we(o)}}we(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hd{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Wd.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Hd(ce.min(),i,new Me(he),Tn(),ge())}}class Wd{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Wd(r,n,ge(),ge(),ge())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n,r,i){this.Se=e,this.removedTargetIds=n,this.key=r,this.be=i}}class k2{constructor(e,n){this.targetId=e,this.De=n}}class A2{constructor(e,n,r=ot.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class S1{constructor(){this.ve=0,this.Ce=x1(),this.Fe=ot.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ge(),n=ge(),r=ge();return this.Ce.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ie(38017,{changeType:s})}}),new Wd(this.Fe,this.Me,e,n,r)}ke(){this.xe=!1,this.Ce=x1()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,le(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class _W{constructor(e){this.We=e,this.Ge=new Map,this.ze=Tn(),this.je=nf(),this.Je=nf(),this.He=new Me(he)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const r=this.tt(n);switch(e.state){case 0:this.nt(n)&&r.Be(e.resumeToken);break;case 1:r.Ue(),r.Oe||r.ke(),r.Be(e.resumeToken);break;case 2:r.Ue(),r.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(r.Ke(),r.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),r.Be(e.resumeToken));break;default:ie(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((r,i)=>{this.nt(i)&&n(i)})}it(e){const n=e.targetId,r=e.De.count,i=this.st(n);if(i){const s=i.target;if(nm(s))if(r===0){const o=new J(s.path);this.Xe(n,o,Ue.newNoDocument(o,ce.min()))}else le(r===1,20013,{expectedCount:r});else{const o=this.ot(n);if(o!==r){const a=this._t(e),l=a?this.ut(a,e,o):1;if(l!==0){this.rt(n);const c=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,c)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=xi(r).toUint8Array()}catch(l){if(l instanceof KD)return Bn("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new tE(o,i,s)}catch(l){return Bn(l instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.fe===0?null:a}ut(e,n,r){return n.De.count===r-this.ht(e,n.targetId)?0:2}ht(e,n){const r=this.We.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.We.lt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Xe(n,s,null),i++)}),i}Pt(e){const n=new Map;this.Ge.forEach((s,o)=>{const a=this.st(o);if(a){if(s.current&&nm(a.target)){const l=new J(a.target.path);this.Tt(l).has(o)||this.It(o,l)||this.Xe(o,l,Ue.newNoDocument(l,e))}s.Ne&&(n.set(o,s.Le()),s.ke())}});let r=ge();this.Je.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const c=this.st(l);return!c||c.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ze.forEach((s,o)=>o.setReadTime(e));const i=new Hd(e,n,this.He,this.ze,r);return this.ze=Tn(),this.je=nf(),this.Je=nf(),this.He=new Me(he),i}Ze(e,n){if(!this.nt(e))return;const r=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,r),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,r){if(!this.nt(e))return;const i=this.tt(e);this.It(e,n)?i.qe(n,1):i.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),r&&(this.ze=this.ze.insert(n,r))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new S1,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new De(he),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new De(he),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||X("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new S1),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function nf(){return new Me(J.comparator)}function x1(){return new Me(J.comparator)}const wW={asc:"ASCENDING",desc:"DESCENDING"},bW={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EW={and:"AND",or:"OR"};class TW{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hw(t,e){return t.useProto3Json||Fd(e)?e:{value:e}}function Nl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function C2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function IW(t,e){return Nl(t,e.toTimestamp())}function ht(t){return le(!!t,49232),ce.fromTimestamp(function(n){const r=Si(n);return new Re(r.seconds,r.nanos)}(t))}function nE(t,e){return fw(t,e).canonicalString()}function fw(t,e){const n=function(i){return new we(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function R2(t){const e=we.fromString(t);return le(B2(e),10190,{key:e.toString()}),e}function hd(t,e){return nE(t.databaseId,e.path)}function Br(t,e){const n=R2(e);if(n.get(1)!==t.databaseId.projectId)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new J(D2(n))}function P2(t,e){return nE(t.databaseId,e)}function O2(t){const e=R2(t);return e.length===4?we.emptyPath():D2(e)}function pw(t){return new we(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function D2(t){return le(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function k1(t,e,n){return{name:hd(t,e),fields:n.value.mapValue.fields}}function N2(t,e,n){const r=Br(t,e.name),i=ht(e.updateTime),s=e.createTime?ht(e.createTime):ce.min(),o=new Vt({mapValue:{fields:e.fields}}),a=Ue.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function SW(t,e){return"found"in e?function(r,i){le(!!i.found,43571),i.found.name,i.found.updateTime;const s=Br(r,i.found.name),o=ht(i.found.updateTime),a=i.found.createTime?ht(i.found.createTime):ce.min(),l=new Vt({mapValue:{fields:i.found.fields}});return Ue.newFoundDocument(s,o,a,l)}(t,e):"missing"in e?function(r,i){le(!!i.missing,3894),le(!!i.readTime,22933);const s=Br(r,i.missing),o=ht(i.readTime);return Ue.newNoDocument(s,o)}(t,e):ie(7234,{result:e})}function xW(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(c){return c==="NO_CHANGE"?0:c==="ADD"?1:c==="REMOVE"?2:c==="CURRENT"?3:c==="RESET"?4:ie(39313,{state:c})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(c,d){return c.useProto3Json?(le(d===void 0||typeof d=="string",58123),ot.fromBase64String(d||"")):(le(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),ot.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(c){const d=c.code===void 0?F.UNKNOWN:x2(c.code);return new K(d,c.message||"")}(o);n=new A2(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Br(t,r.document.name),s=ht(r.document.updateTime),o=r.document.createTime?ht(r.document.createTime):ce.min(),a=new Vt({mapValue:{fields:r.document.fields}}),l=Ue.newFoundDocument(i,s,o,a),c=r.targetIds||[],d=r.removedTargetIds||[];n=new qf(c,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Br(t,r.document),s=r.readTime?ht(r.readTime):ce.min(),o=Ue.newNoDocument(i,s),a=r.removedTargetIds||[];n=new qf([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Br(t,r.document),s=r.removedTargetIds||[];n=new qf([],s,i,null)}else{if(!("filter"in e))return ie(11601,{At:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new yW(i,s),a=r.targetId;n=new k2(a,o)}}return n}function fd(t,e){let n;if(e instanceof nc)n={update:k1(t,e.key,e.value)};else if(e instanceof rc)n={delete:hd(t,e.key)};else if(e instanceof Oi)n={update:k1(t,e.key,e.data),updateMask:OW(e.fieldMask)};else{if(!(e instanceof Y0))return ie(16599,{Rt:e.type});n={verify:hd(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Ol)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Ho)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Dl)return{fieldPath:o.field.canonicalString(),increment:a.Ee};throw ie(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:IW(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ie(27497)}(t,e.precondition)),n}function mw(t,e){const n=e.currentDocument?function(s){return s.updateTime!==void 0?Ke.updateTime(ht(s.updateTime)):s.exists!==void 0?Ke.exists(s.exists):Ke.none()}(e.currentDocument):Ke.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,a){let l=null;if("setToServerValue"in a)le(a.setToServerValue==="REQUEST_TIME",16630,{proto:a}),l=new Ol;else if("appendMissingElements"in a){const d=a.appendMissingElements.values||[];l=new qo(d)}else if("removeAllFromArray"in a){const d=a.removeAllFromArray.values||[];l=new Ho(d)}else"increment"in a?l=new Dl(o,a.increment):ie(16584,{proto:a});const c=Ge.fromServerFormat(a.fieldPath);return new qd(c,l)}(t,i)):[];if(e.update){e.update.name;const i=Br(t,e.update.name),s=new Vt({mapValue:{fields:e.update.fields}});if(e.updateMask){const o=function(l){const c=l.fieldPaths||[];return new En(c.map(d=>Ge.fromServerFormat(d)))}(e.updateMask);return new Oi(i,s,o,n,r)}return new nc(i,s,n,r)}if(e.delete){const i=Br(t,e.delete);return new rc(i,n)}if(e.verify){const i=Br(t,e.verify);return new Y0(i,n)}return ie(1463,{proto:e})}function kW(t,e){return t&&t.length>0?(le(e!==void 0,14353),t.map(n=>function(i,s){let o=i.updateTime?ht(i.updateTime):ht(s);return o.isEqual(ce.min())&&(o=ht(s)),new pW(o,i.transformResults||[])}(n,e))):[]}function L2(t,e){return{documents:[P2(t,e.path)]}}function $2(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=P2(t,i);const s=function(c){if(c.length!==0)return F2(Pe.create(c,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(c){if(c.length!==0)return c.map(d=>function(f){return{field:Aa(f.field),direction:CW(f.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=hw(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(c){return{before:c.inclusive,values:c.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(c){return{before:!c.inclusive,values:c.position}}(e.endAt)),{Vt:n,parent:i}}function V2(t){let e=O2(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){le(r===1,65062);const d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){const f=M2(h);return f instanceof Pe&&G0(f)?f.getFilters():[f]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(f=>function(y){return new dd(Ca(y.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(f))}(n.orderBy));let a=null;n.limit&&(a=function(h){let f;return f=typeof h=="object"?h.value:h,Fd(f)?null:f}(n.limit));let l=null;n.startAt&&(l=function(h){const f=!!h.before,m=h.values||[];return new Ls(m,f)}(n.startAt));let c=null;return n.endAt&&(c=function(h){const f=!h.before,m=h.values||[];return new Ls(m,f)}(n.endAt)),u2(e,i,o,s,a,"F",l,c)}function AW(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie(28987,{purpose:i})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function M2(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Ca(n.unaryFilter.field);return Ee.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Ca(n.unaryFilter.field);return Ee.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Ca(n.unaryFilter.field);return Ee.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Ca(n.unaryFilter.field);return Ee.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ie(61313);default:return ie(60726)}}(t):t.fieldFilter!==void 0?function(n){return Ee.create(Ca(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ie(58110);default:return ie(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pe.create(n.compositeFilter.filters.map(r=>M2(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ie(1026)}}(n.compositeFilter.op))}(t):ie(30097,{filter:t})}function CW(t){return wW[t]}function RW(t){return bW[t]}function PW(t){return EW[t]}function Aa(t){return{fieldPath:t.canonicalString()}}function Ca(t){return Ge.fromServerFormat(t.fieldPath)}function F2(t){return t instanceof Ee?function(n){if(n.op==="=="){if(d1(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NAN"}};if(u1(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(d1(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NAN"}};if(u1(n.value))return{unaryFilter:{field:Aa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(n.field),op:RW(n.op),value:n.value}}}(t):t instanceof Pe?function(n){const r=n.getFilters().map(i=>F2(i));return r.length===1?r[0]:{compositeFilter:{op:PW(n.op),filters:r}}}(t):ie(54877,{filter:t})}function OW(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function B2(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(e,n,r,i,s=ce.min(),o=ce.min(),a=ot.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new di(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new di(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(e){this.gt=e}}function DW(t,e){let n;if(e.document)n=N2(t.gt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=J.fromSegments(e.noDocument.path),i=Go(e.noDocument.readTime);n=Ue.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return ie(56709);{const r=J.fromSegments(e.unknownDocument.path),i=Go(e.unknownDocument.version);n=Ue.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const s=new Re(i[0],i[1]);return ce.fromTimestamp(s)}(e.readTime)),n}function A1(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:sm(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(s,o){return{name:hd(s,o.key),fields:o.data.value.mapValue.fields,updateTime:Nl(s,o.version.toTimestamp()),createTime:Nl(s,o.createTime.toTimestamp())}}(t.gt,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:Wo(e.version)};else{if(!e.isUnknownDocument())return ie(57904,{document:e});r.unknownDocument={path:n.path.toArray(),version:Wo(e.version)}}return r}function sm(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function Wo(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Go(t){const e=new Re(t.seconds,t.nanoseconds);return ce.fromTimestamp(e)}function co(t,e){const n=(e.baseMutations||[]).map(s=>mw(t.gt,s));for(let s=0;s<e.mutations.length-1;++s){const o=e.mutations[s];if(s+1<e.mutations.length&&e.mutations[s+1].transform!==void 0){const a=e.mutations[s+1];o.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(s+1,1),++s}}const r=e.mutations.map(s=>mw(t.gt,s)),i=Re.fromMillis(e.localWriteTimeMs);return new J0(e.batchId,i,n,r)}function tu(t){const e=Go(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?Go(t.lastLimboFreeSnapshotVersion):ce.min();let r;return r=function(s){return s.documents!==void 0}(t.query)?function(s){const o=s.documents.length;return le(o===1,1966,{count:o}),un(tc(O2(s.documents[0])))}(t.query):function(s){return un(V2(s))}(t.query),new di(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,ot.fromBase64String(t.resumeToken))}function z2(t,e){const n=Wo(e.snapshotVersion),r=Wo(e.lastLimboFreeSnapshotVersion);let i;i=nm(e.target)?L2(t.gt,e.target):$2(t.gt,e.target).Vt;const s=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:jo(e.target),readTime:n,resumeToken:s,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function rE(t){const e=V2({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?im(e,e.limit,"L"):e}function nv(t,e){return new eE(e.largestBatchId,mw(t.gt,e.overlayMutation))}function C1(t,e){const n=e.path.lastSegment();return[t,Jt(e.path.popLast()),n]}function R1(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:Wo(r.readTime),documentKey:Jt(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NW{getBundleMetadata(e,n){return P1(e).get(n).next(r=>{if(r)return function(s){return{id:s.bundleId,createTime:Go(s.createTime),version:s.version}}(r)})}saveBundleMetadata(e,n){return P1(e).put(function(i){return{bundleId:i.id,createTime:Wo(ht(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return O1(e).get(n).next(r=>{if(r)return function(s){return{name:s.name,query:rE(s.bundledQuery),readTime:Go(s.readTime)}}(r)})}saveNamedQuery(e,n){return O1(e).put(function(i){return{name:i.name,readTime:Wo(ht(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function P1(t){return Tt(t,lg)}function O1(t){return Tt(t,cg)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gg{constructor(e,n){this.serializer=e,this.userId=n}static yt(e,n){const r=n.uid||"";return new gg(e,r)}getOverlay(e,n){return Bc(e).get(C1(this.userId,n)).next(r=>r?nv(this.serializer,r):null)}getOverlays(e,n){const r=Dr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((s,o)=>{const a=new eE(n,o);i.push(this.wt(e,a))}),L.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(o=>i.add(Jt(o.getCollectionPath())));const s=[];return i.forEach(o=>{const a=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,r+1],!1,!0);s.push(Bc(e).Y(iw,a))}),L.waitFor(s)}getOverlaysForCollection(e,n,r){const i=Dr(),s=Jt(n),o=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,Number.POSITIVE_INFINITY],!0);return Bc(e).j(iw,o).next(a=>{for(const l of a){const c=nv(this.serializer,l);i.set(c.getKey(),c)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const s=Dr();let o;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Bc(e).X({index:zD,range:a},(l,c,d)=>{const h=nv(this.serializer,c);s.size()<i||h.largestBatchId===o?(s.set(h.getKey(),h),o=h.largestBatchId):d.done()}).next(()=>s)}wt(e,n){return Bc(e).put(function(i,s,o){const[a,l,c]=C1(s,o.mutation.key);return{userId:s,collectionPath:l,documentId:c,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:fd(i.gt,o.mutation)}}(this.serializer,this.userId,n))}}function Bc(t){return Tt(t,ug)}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LW{St(e){return Tt(e,j0)}getSessionToken(e){return this.St(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?ot.fromUint8Array(r):ot.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.St(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(){}bt(e,n){this.Dt(e,n),n.vt()}Dt(e,n){if("nullValue"in e)this.Ct(n,5);else if("booleanValue"in e)this.Ct(n,10),n.Ft(e.booleanValue?1:0);else if("integerValue"in e)this.Ct(n,15),n.Ft(qe(e.integerValue));else if("doubleValue"in e){const r=qe(e.doubleValue);isNaN(r)?this.Ct(n,13):(this.Ct(n,15),rd(r)?n.Ft(0):n.Ft(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ct(n,20),typeof r=="string"&&(r=Si(r)),n.Mt(`${r.seconds||""}`),n.Ft(r.nanos||0)}else if("stringValue"in e)this.xt(e.stringValue,n),this.Ot(n);else if("bytesValue"in e)this.Ct(n,30),n.Nt(xi(e.bytesValue)),this.Ot(n);else if("referenceValue"in e)this.Bt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ct(n,45),n.Ft(r.latitude||0),n.Ft(r.longitude||0)}else"mapValue"in e?e2(e)?this.Ct(n,Number.MAX_SAFE_INTEGER):fg(e)?this.Lt(e.mapValue,n):(this.kt(e.mapValue,n),this.Ot(n)):"arrayValue"in e?(this.qt(e.arrayValue,n),this.Ot(n)):ie(19022,{Qt:e})}xt(e,n){this.Ct(n,25),this.$t(e,n)}$t(e,n){n.Mt(e)}kt(e,n){const r=e.fields||{};this.Ct(n,55);for(const i of Object.keys(r))this.xt(i,n),this.Dt(r[i],n)}Lt(e,n){var r,i;const s=e.fields||{};this.Ct(n,53);const o=Cl,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.Ct(n,15),n.Ft(qe(a)),this.xt(o,n),this.Dt(s[o],n)}qt(e,n){const r=e.values||[];this.Ct(n,50);for(const i of r)this.Dt(i,n)}Bt(e,n){this.Ct(n,37),J.fromName(e).path.forEach(r=>{this.Ct(n,60),this.$t(r,n)})}Ct(e,n){e.Ft(n)}Ot(e){e.Ft(2)}}uo.Ut=new uo;/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law | agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES | CONDITIONS OF ANY KIND, either express | implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const va=255;function $W(t){if(t===0)return 8;let e=0;return t>>4||(e+=4,t<<=4),t>>6||(e+=2,t<<=2),t>>7||(e+=1),e}function D1(t){const e=64-function(r){let i=0;for(let s=0;s<8;++s){const o=$W(255&r[s]);if(i+=o,o!==8)break}return i}(t);return Math.ceil(e/8)}class VW{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Kt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Wt(r.value),r=n.next();this.Gt()}zt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.jt(r.value),r=n.next();this.Jt()}Ht(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Wt(r);else if(r<2048)this.Wt(960|r>>>6),this.Wt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Wt(480|r>>>12),this.Wt(128|63&r>>>6),this.Wt(128|63&r);else{const i=n.codePointAt(0);this.Wt(240|i>>>18),this.Wt(128|63&i>>>12),this.Wt(128|63&i>>>6),this.Wt(128|63&i)}}this.Gt()}Yt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.jt(r);else if(r<2048)this.jt(960|r>>>6),this.jt(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.jt(480|r>>>12),this.jt(128|63&r>>>6),this.jt(128|63&r);else{const i=n.codePointAt(0);this.jt(240|i>>>18),this.jt(128|63&i>>>12),this.jt(128|63&i>>>6),this.jt(128|63&i)}}this.Jt()}Zt(e){const n=this.Xt(e),r=D1(n);this.en(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}tn(e){const n=this.Xt(e),r=D1(n);this.en(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}nn(){this.rn(va),this.rn(255)}sn(){this._n(va),this._n(255)}reset(){this.position=0}seed(e){this.en(e.length),this.buffer.set(e,this.position),this.position+=e.length}an(){return this.buffer.slice(0,this.position)}Xt(e){const n=function(s){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,s,!1),new Uint8Array(o.buffer)}(e),r=!!(128&n[0]);n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Wt(e){const n=255&e;n===0?(this.rn(0),this.rn(255)):n===va?(this.rn(va),this.rn(0)):this.rn(n)}jt(e){const n=255&e;n===0?(this._n(0),this._n(255)):n===va?(this._n(va),this._n(0)):this._n(e)}Gt(){this.rn(0),this.rn(1)}Jt(){this._n(0),this._n(1)}rn(e){this.en(1),this.buffer[this.position++]=e}_n(e){this.en(1),this.buffer[this.position++]=~e}en(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class MW{constructor(e){this.un=e}Nt(e){this.un.Kt(e)}Mt(e){this.un.Ht(e)}Ft(e){this.un.Zt(e)}vt(){this.un.nn()}}class FW{constructor(e){this.un=e}Nt(e){this.un.zt(e)}Mt(e){this.un.Yt(e)}Ft(e){this.un.tn(e)}vt(){this.un.sn()}}class Uc{constructor(){this.un=new VW,this.cn=new MW(this.un),this.ln=new FW(this.un)}seed(e){this.un.seed(e)}hn(e){return e===0?this.cn:this.ln}an(){return this.un.an()}reset(){this.un.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ho{constructor(e,n,r,i){this.Pn=e,this.Tn=n,this.In=r,this.dn=i}En(){const e=this.dn.length,n=e===0||this.dn[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.dn,0),n!==e?r.set([0],this.dn.length):++r[r.length-1],new ho(this.Pn,this.Tn,this.In,r)}An(e,n,r){return{indexId:this.Pn,uid:e,arrayValue:Hf(this.In),directionalValue:Hf(this.dn),orderedDocumentKey:Hf(n),documentKey:r.path.toArray()}}Rn(e,n,r){const i=this.An(e,n,r);return[i.indexId,i.uid,i.arrayValue,i.directionalValue,i.orderedDocumentKey,i.documentKey]}}function Gi(t,e){let n=t.Pn-e.Pn;return n!==0?n:(n=N1(t.In,e.In),n!==0?n:(n=N1(t.dn,e.dn),n!==0?n:J.comparator(t.Tn,e.Tn)))}function N1(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}function Hf(t){return xO()?function(n){let r="";for(let i=0;i<n.length;i++)r+=String.fromCharCode(n[i]);return r}(t):t}function L1(t){return typeof t!="string"?t:function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(t)}class $1{constructor(e){this.Vn=new De((n,r)=>Ge.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.mn=e.orderBy,this.fn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Vn=this.Vn.add(r):this.fn.push(r)}}get gn(){return this.Vn.size>1}pn(e){if(le(e.collectionGroup===this.collectionId,49279),this.gn)return!1;const n=tw(e);if(n!==void 0&&!this.yn(n))return!1;const r=oo(e);let i=new Set,s=0,o=0;for(;s<r.length&&this.yn(r[s]);++s)i=i.add(r[s].fieldPath.canonicalString());if(s===r.length)return!0;if(this.Vn.size>0){const a=this.Vn.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[s];if(!this.wn(a,l)||!this.Sn(this.mn[o++],l))return!1}++s}for(;s<r.length;++s){const a=r[s];if(o>=this.mn.length||!this.Sn(this.mn[o++],a))return!1}return!0}bn(){if(this.gn)return null;let e=new De(Ge.comparator);const n=[];for(const r of this.fn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new Vf(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new Vf(r.field,0))}for(const r of this.mn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new Vf(r.field,r.dir==="asc"?0:1)));return new Yp(Yp.UNKNOWN_ID,this.collectionId,n,nd.empty())}yn(e){for(const n of this.fn)if(this.wn(n,e))return!0;return!1}wn(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}Sn(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j2(t){var e,n;if(le(t instanceof Ee||t instanceof Pe,20012),t instanceof Ee){if(t instanceof c2){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(s=>Ee.create(t.field,"==",s)))||[];return Pe.create(i,"or")}return t}const r=t.filters.map(i=>j2(i));return Pe.create(r,t.op)}function BW(t){if(t.getFilters().length===0)return[];const e=vw(j2(t));return le(q2(e),7391),gw(e)||yw(e)?[e]:e.getFilters()}function gw(t){return t instanceof Ee}function yw(t){return t instanceof Pe&&G0(t)}function q2(t){return gw(t)||yw(t)||function(n){if(n instanceof Pe&&lw(n)){for(const r of n.getFilters())if(!gw(r)&&!yw(r))return!1;return!0}return!1}(t)}function vw(t){if(le(t instanceof Ee||t instanceof Pe,34018),t instanceof Ee)return t;if(t.filters.length===1)return vw(t.filters[0]);const e=t.filters.map(r=>vw(r));let n=Pe.create(e,t.op);return n=om(n),q2(n)?n:(le(n instanceof Pe,64498),le(Pl(n),40251),le(n.filters.length>1,57927),n.filters.reduce((r,i)=>iE(r,i)))}function iE(t,e){let n;return le(t instanceof Ee||t instanceof Pe,38388),le(e instanceof Ee||e instanceof Pe,25473),n=t instanceof Ee?e instanceof Ee?function(i,s){return Pe.create([i,s],"and")}(t,e):V1(t,e):e instanceof Ee?V1(e,t):function(i,s){if(le(i.filters.length>0&&s.filters.length>0,48005),Pl(i)&&Pl(s))return o2(i,s.getFilters());const o=lw(i)?i:s,a=lw(i)?s:i,l=o.filters.map(c=>iE(c,a));return Pe.create(l,"or")}(t,e),om(n)}function V1(t,e){if(Pl(e))return o2(e,t.getFilters());{const n=e.filters.map(r=>iE(t,r));return Pe.create(n,"or")}}function om(t){if(le(t instanceof Ee||t instanceof Pe,11850),t instanceof Ee)return t;const e=t.getFilters();if(e.length===1)return om(e[0]);if(i2(t))return t;const n=e.map(i=>om(i)),r=[];return n.forEach(i=>{i instanceof Ee?r.push(i):i instanceof Pe&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:Pe.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UW{constructor(){this.Dn=new sE}addToCollectionParentIndex(e,n){return this.Dn.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Un.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}}class sE{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new De(we.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new De(we.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1="IndexedDbIndexManager",rf=new Uint8Array(0);class zW{constructor(e,n){this.databaseId=n,this.vn=new sE,this.Cn=new Pi(r=>jo(r),(r,i)=>Ud(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.vn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.vn.add(n)});const s={collectionId:r,parent:Jt(i)};return F1(e).put(s)}return L.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[kD(n),""],!1,!0);return F1(e).j(i).next(s=>{for(const o of s){if(o.collectionId!==n)break;r.push(Or(o.parent))}return r})}addFieldIndex(e,n){const r=zc(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const s=r.add(i);if(n.indexState){const o=wa(e);return s.next(a=>{o.put(R1(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return s.next()}deleteFieldIndex(e,n){const r=zc(e),i=wa(e),s=_a(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>s.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=zc(e),r=_a(e),i=wa(e);return n.Y().next(()=>r.Y()).next(()=>i.Y())}createTargetIndexes(e,n){return L.forEach(this.Fn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const s=new $1(r).bn();if(s!=null)return this.addFieldIndex(e,s)}}))}getDocumentsMatchingTarget(e,n){const r=_a(e);let i=!0;const s=new Map;return L.forEach(this.Fn(n),o=>this.Mn(e,o).next(a=>{i&&(i=!!a),s.set(o,a)})).next(()=>{if(i){let o=ge();const a=[];return L.forEach(s,(l,c)=>{X(M1,`Using index ${function(I){return`id=${I.indexId}|cg=${I.collectionGroup}|f=${I.fields.map(R=>`${R.fieldPath}:${R.kind}`).join(",")}`}(l)} to execute ${jo(n)}`);const d=function(I,R){const D=tw(R);if(D===void 0)return null;for(const $ of rm(I,D.fieldPath))switch($.op){case"array-contains-any":return $.value.arrayValue.values||[];case"array-contains":return[$.value]}return null}(c,l),h=function(I,R){const D=new Map;for(const $ of oo(R))for(const x of rm(I,$.fieldPath))switch(x.op){case"==":case"in":D.set($.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return D.set($.fieldPath.canonicalString(),x.value),Array.from(D.values())}return null}(c,l),f=function(I,R){const D=[];let $=!0;for(const x of oo(R)){const v=x.kind===0?g1(I,x.fieldPath,I.startAt):y1(I,x.fieldPath,I.startAt);D.push(v.value),$&&($=v.inclusive)}return new Ls(D,$)}(c,l),m=function(I,R){const D=[];let $=!0;for(const x of oo(R)){const v=x.kind===0?y1(I,x.fieldPath,I.endAt):g1(I,x.fieldPath,I.endAt);D.push(v.value),$&&($=v.inclusive)}return new Ls(D,$)}(c,l),y=this.xn(l,c,f),w=this.xn(l,c,m),b=this.On(l,c,h),T=this.Nn(l.indexId,d,y,f.inclusive,w,m.inclusive,b);return L.forEach(T,E=>r.H(E,n.limit).next(I=>{I.forEach(R=>{const D=J.fromSegments(R.documentKey);o.has(D)||(o=o.add(D),a.push(D))})}))}).next(()=>a)}return L.resolve(null)})}Fn(e){let n=this.Cn.get(e);return n||(e.filters.length===0?n=[e]:n=BW(Pe.create(e.filters,"and")).map(r=>uw(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.Cn.set(e,n),n)}Nn(e,n,r,i,s,o,a){const l=(n!=null?n.length:1)*Math.max(r.length,s.length),c=l/(n!=null?n.length:1),d=[];for(let h=0;h<l;++h){const f=n?this.Bn(n[h/c]):rf,m=this.Ln(e,f,r[h%c],i),y=this.kn(e,f,s[h%c],o),w=a.map(b=>this.Ln(e,f,b,!0));d.push(...this.createRange(m,y,w))}return d}Ln(e,n,r,i){const s=new ho(e,J.empty(),n,r);return i?s:s.En()}kn(e,n,r,i){const s=new ho(e,J.empty(),n,r);return i?s.En():s}Mn(e,n){const r=new $1(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(s=>{let o=null;for(const a of s)r.pn(a)&&(!o||a.fields.length>o.fields.length)&&(o=a);return o})}getIndexType(e,n){let r=2;const i=this.Fn(n);return L.forEach(i,s=>this.Mn(e,s).next(o=>{o?r!==0&&o.fields.length<function(l){let c=new De(Ge.comparator),d=!1;for(const h of l.filters)for(const f of h.getFlattenedFilters())f.field.isKeyField()||(f.op==="array-contains"||f.op==="array-contains-any"?d=!0:c=c.add(f.field));for(const h of l.orderBy)h.field.isKeyField()||(c=c.add(h.field));return c.size+(d?1:0)}(s)&&(r=1):r=0})).next(()=>function(o){return o.limit!==null}(n)&&i.length>1&&r===2?1:r)}qn(e,n){const r=new Uc;for(const i of oo(e)){const s=n.data.field(i.fieldPath);if(s==null)return null;const o=r.hn(i.kind);uo.Ut.bt(s,o)}return r.an()}Bn(e){const n=new Uc;return uo.Ut.bt(e,n.hn(0)),n.an()}Qn(e,n){const r=new Uc;return uo.Ut.bt(zo(this.databaseId,n),r.hn(function(s){const o=oo(s);return o.length===0?0:o[o.length-1].kind}(e))),r.an()}On(e,n,r){if(r===null)return[];let i=[];i.push(new Uc);let s=0;for(const o of oo(e)){const a=r[s++];for(const l of i)if(this.$n(n,o.fieldPath)&&ud(a))i=this.Un(i,o,a);else{const c=l.hn(o.kind);uo.Ut.bt(a,c)}}return this.Kn(i)}xn(e,n,r){return this.On(e,n,r.position)}Kn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].an();return n}Un(e,n,r){const i=[...e],s=[];for(const o of r.arrayValue.values||[])for(const a of i){const l=new Uc;l.seed(a.an()),uo.Ut.bt(o,l.hn(n.kind)),s.push(l)}return s}$n(e,n){return!!e.filters.find(r=>r instanceof Ee&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=zc(e),i=wa(e);return(n?r.j(rw,IDBKeyRange.bound(n,n)):r.j()).next(s=>{const o=[];return L.forEach(s,a=>i.get([a.indexId,this.uid]).next(l=>{o.push(function(d,h){const f=h?new nd(h.sequenceNumber,new Un(Go(h.readTime),new J(Or(h.documentKey)),h.largestBatchId)):nd.empty(),m=d.fields.map(([y,w])=>new Vf(Ge.fromServerFormat(y),w));return new Yp(d.indexId,d.collectionGroup,m,f)}(a,l))})).next(()=>o)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const s=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return s!==0?s:he(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=zc(e),s=wa(e);return this.Wn(e).next(o=>i.j(rw,IDBKeyRange.bound(n,n)).next(a=>L.forEach(a,l=>s.put(R1(l.indexId,this.uid,o,r)))))}updateIndexEntries(e,n){const r=new Map;return L.forEach(n,(i,s)=>{const o=r.get(i.collectionGroup);return(o?L.resolve(o):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),L.forEach(a,l=>this.Gn(e,i,l).next(c=>{const d=this.zn(s,l);return c.isEqual(d)?L.resolve():this.jn(e,s,l,c,d)}))))})}Jn(e,n,r,i){return _a(e).put(i.An(this.uid,this.Qn(r,n.key),n.key))}Hn(e,n,r,i){return _a(e).delete(i.Rn(this.uid,this.Qn(r,n.key),n.key))}Gn(e,n,r){const i=_a(e);let s=new De(Gi);return i.X({index:UD,range:IDBKeyRange.only([r.indexId,this.uid,Hf(this.Qn(r,n))])},(o,a)=>{s=s.add(new ho(r.indexId,n,L1(a.arrayValue),L1(a.directionalValue)))}).next(()=>s)}zn(e,n){let r=new De(Gi);const i=this.qn(n,e);if(i==null)return r;const s=tw(n);if(s!=null){const o=e.data.field(s.fieldPath);if(ud(o))for(const a of o.arrayValue.values||[])r=r.add(new ho(n.indexId,e.key,this.Bn(a),i))}else r=r.add(new ho(n.indexId,e.key,rf,i));return r}jn(e,n,r,i,s){X(M1,"Updating index entries for document '%s'",n.key);const o=[];return function(l,c,d,h,f){const m=l.getIterator(),y=c.getIterator();let w=ya(m),b=ya(y);for(;w||b;){let T=!1,E=!1;if(w&&b){const I=d(w,b);I<0?E=!0:I>0&&(T=!0)}else w!=null?E=!0:T=!0;T?(h(b),b=ya(y)):E?(f(w),w=ya(m)):(w=ya(m),b=ya(y))}}(i,s,Gi,a=>{o.push(this.Jn(e,n,r,a))},a=>{o.push(this.Hn(e,n,r,a))}),L.waitFor(o)}Wn(e){let n=1;return wa(e).X({index:BD,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,s)=>{s.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((o,a)=>Gi(o,a)).filter((o,a,l)=>!a||Gi(o,l[a-1])!==0);const i=[];i.push(e);for(const o of r){const a=Gi(o,e),l=Gi(o,n);if(a===0)i[0]=e.En();else if(a>0&&l<0)i.push(o),i.push(o.En());else if(l>0)break}i.push(n);const s=[];for(let o=0;o<i.length;o+=2){if(this.Yn(i[o],i[o+1]))return[];const a=i[o].Rn(this.uid,rf,J.empty()),l=i[o+1].Rn(this.uid,rf,J.empty());s.push(IDBKeyRange.bound(a,l))}return s}Yn(e,n){return Gi(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(B1)}getMinOffset(e,n){return L.mapArray(this.Fn(n),r=>this.Mn(e,r).next(i=>i||ie(44426))).next(B1)}}function F1(t){return Tt(t,ad)}function _a(t){return Tt(t,vu)}function zc(t){return Tt(t,z0)}function wa(t){return Tt(t,yu)}function B1(t){le(t.length!==0,28825);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;F0(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Un(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},H2=41943040;class Kt{static withCacheSize(e){return new Kt(e,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W2(t,e,n){const r=t.store(ar),i=t.store(Sl),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},(d,h,f)=>(a++,f.delete()));s.push(l.next(()=>{le(a===1,47070,{batchId:n.batchId})}));const c=[];for(const d of n.mutations){const h=VD(e,d.key.path,n.batchId);s.push(i.delete(h)),c.push(d.key)}return L.waitFor(s).next(()=>c)}function am(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw ie(14731);e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Kt.DEFAULT_COLLECTION_PERCENTILE=10,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Kt.DEFAULT=new Kt(H2,Kt.DEFAULT_COLLECTION_PERCENTILE,Kt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Kt.DISABLED=new Kt(-1,0,0);class yg{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Zn={}}static yt(e,n,r,i){le(e.uid!=="",64387);const s=e.isAuthenticated()?e.uid:"";return new yg(s,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ki(e).X({index:_o,range:r},(i,s,o)=>{n=!1,o.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const s=Ra(e),o=Ki(e);return o.add({}).next(a=>{le(typeof a=="number",49019);const l=new J0(a,n,r,i),c=function(m,y,w){const b=w.baseMutations.map(E=>fd(m.gt,E)),T=w.mutations.map(E=>fd(m.gt,E));return{userId:y,batchId:w.batchId,localWriteTimeMs:w.localWriteTime.toMillis(),baseMutations:b,mutations:T}}(this.serializer,this.userId,l),d=[];let h=new De((f,m)=>he(f.canonicalString(),m.canonicalString()));for(const f of i){const m=VD(this.userId,f.key.path,a);h=h.add(f.key.path.popLast()),d.push(o.put(c)),d.push(s.put(m,E7))}return h.forEach(f=>{d.push(this.indexManager.addToCollectionParentIndex(e,f))}),e.addOnCommittedListener(()=>{this.Zn[a]=l.keys()}),L.waitFor(d).next(()=>l)})}lookupMutationBatch(e,n){return Ki(e).get(n).next(r=>r?(le(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:n}),co(this.serializer,r)):null)}Xn(e,n){return this.Zn[n]?L.resolve(this.Zn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Zn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let s=null;return Ki(e).X({index:_o,range:i},(o,a,l)=>{a.userId===this.userId&&(le(a.batchId>=r,47524,{er:r}),s=co(this.serializer,a)),l.done()}).next(()=>s)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Es;return Ki(e).X({index:_o,range:n,reverse:!0},(i,s,o)=>{r=s.batchId,o.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,Es],[this.userId,Number.POSITIVE_INFINITY]);return Ki(e).j(_o,n).next(r=>r.map(i=>co(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=Mf(this.userId,n.path),i=IDBKeyRange.lowerBound(r),s=[];return Ra(e).X({range:i},(o,a,l)=>{const[c,d,h]=o,f=Or(d);if(c===this.userId&&n.path.isEqual(f))return Ki(e).get(h).next(m=>{if(!m)throw ie(61480,{tr:o,batchId:h});le(m.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:m.userId,batchId:h}),s.push(co(this.serializer,m))});l.done()}).next(()=>s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(he);const i=[];return n.forEach(s=>{const o=Mf(this.userId,s.path),a=IDBKeyRange.lowerBound(o),l=Ra(e).X({range:a},(c,d,h)=>{const[f,m,y]=c,w=Or(m);f===this.userId&&s.path.isEqual(w)?r=r.add(y):h.done()});i.push(l)}),L.waitFor(i).next(()=>this.nr(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,s=Mf(this.userId,r),o=IDBKeyRange.lowerBound(s);let a=new De(he);return Ra(e).X({range:o},(l,c,d)=>{const[h,f,m]=l,y=Or(f);h===this.userId&&r.isPrefixOf(y)?y.length===i&&(a=a.add(m)):d.done()}).next(()=>this.nr(e,a))}nr(e,n){const r=[],i=[];return n.forEach(s=>{i.push(Ki(e).get(s).next(o=>{if(o===null)throw ie(35274,{batchId:s});le(o.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:o.userId,batchId:s}),r.push(co(this.serializer,o))}))}),L.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return W2(e.ce,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.rr(n.batchId)}),L.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}rr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return L.resolve();const r=IDBKeyRange.lowerBound(function(o){return[o]}(this.userId)),i=[];return Ra(e).X({range:r},(s,o,a)=>{if(s[0]===this.userId){const l=Or(s[1]);i.push(l)}else a.done()}).next(()=>{le(i.length===0,56720,{ir:i.map(s=>s.canonicalString())})})})}containsKey(e,n){return G2(e,this.userId,n)}sr(e){return K2(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:Es,lastStreamToken:""})}}function G2(t,e,n){const r=Mf(e,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return Ra(t).X({range:s,Z:!0},(a,l,c)=>{const[d,h,f]=a;d===e&&h===i&&(o=!0),c.done()}).next(()=>o)}function Ki(t){return Tt(t,ar)}function Ra(t){return Tt(t,Sl)}function K2(t){return Tt(t,sd)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new Ko(0)}static ur(){return new Ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.cr(e).next(n=>{const r=new Ko(n.highestTargetId);return n.highestTargetId=r.next(),this.lr(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.cr(e).next(n=>ce.fromTimestamp(new Re(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.cr(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.cr(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.lr(e,i)))}addTargetData(e,n){return this.hr(e,n).next(()=>this.cr(e).next(r=>(r.targetCount+=1,this.Pr(n,r),this.lr(e,r))))}updateTargetData(e,n){return this.hr(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>ba(e).delete(n.targetId)).next(()=>this.cr(e)).next(r=>(le(r.targetCount>0,8065),r.targetCount-=1,this.lr(e,r)))}removeTargets(e,n,r){let i=0;const s=[];return ba(e).X((o,a)=>{const l=tu(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,s.push(this.removeTargetData(e,l)))}).next(()=>L.waitFor(s)).next(()=>i)}forEachTarget(e,n){return ba(e).X((r,i)=>{const s=tu(i);n(s)})}cr(e){return z1(e).get(em).next(n=>(le(n!==null,2888),n))}lr(e,n){return z1(e).put(em,n)}hr(e,n){return ba(e).put(z2(this.serializer,n))}Pr(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.cr(e).next(n=>n.targetCount)}getTargetData(e,n){const r=jo(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let s=null;return ba(e).X({range:i,index:FD},(o,a,l)=>{const c=tu(a);Ud(n,c.target)&&(s=c,l.done())}).next(()=>s)}addMatchingKeys(e,n,r){const i=[],s=ss(e);return n.forEach(o=>{const a=Jt(o.path);i.push(s.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,o))}),L.waitFor(i)}removeMatchingKeys(e,n,r){const i=ss(e);return L.forEach(n,s=>{const o=Jt(s.path);return L.waitFor([i.delete([r,o]),this.referenceDelegate.removeReference(e,r,s)])})}removeMatchingKeysForTargetId(e,n){const r=ss(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=ss(e);let s=ge();return i.X({range:r,Z:!0},(o,a,l)=>{const c=Or(o[1]),d=new J(c);s=s.add(d)}).next(()=>s)}containsKey(e,n){const r=Jt(n.path),i=IDBKeyRange.bound([r],[kD(r)],!1,!0);let s=0;return ss(e).X({index:U0,Z:!0,range:i},([o,a],l,c)=>{o!==0&&(s++,c.done())}).next(()=>s>0)}Et(e,n){return ba(e).get(n).next(r=>r?tu(r):null)}}function ba(t){return Tt(t,xl)}function z1(t){return Tt(t,Ao)}function ss(t){return Tt(t,kl)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="LruGarbageCollector",qW=1048576;function q1([t,e],[n,r]){const i=he(t,n);return i===0?he(e,r):i}class HW{constructor(e){this.Tr=e,this.buffer=new De(q1),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();q1(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Q2{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){X(j1,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){qs(n)?X(j1,"Ignoring IndexedDB error during garbage collection: ",n):await js(n)}await this.Rr(3e5)})}}class WW{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return L.resolve(bn.ue);const r=new HW(n);return this.Vr.forEachTarget(e,i=>r.Er(i.sequenceNumber)).next(()=>this.Vr.gr(e,i=>r.Er(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),L.resolve(U1)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),U1):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let r,i,s,o,a,l,c;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(c=Date.now(),xa()<=_e.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(c-l)+`ms
Total Duration: ${c-d}ms`),L.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}}function X2(t,e){return new WW(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GW{constructor(e,n){this.db=e,this.garbageCollector=X2(this,n)}mr(e){const n=this.yr(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}gr(e,n){return this.wr(e,(r,i)=>n(i))}addReference(e,n,r){return sf(e,r)}removeReference(e,n,r){return sf(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return sf(e,n)}Sr(e,n){return function(i,s){let o=!1;return K2(i).ee(a=>G2(i,a,s).next(l=>(l&&(o=!0),L.resolve(!l)))).next(()=>o)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let s=0;return this.wr(e,(o,a)=>{if(a<=n){const l=this.Sr(e,o).next(c=>{if(!c)return s++,r.getEntry(e,o).next(()=>(r.removeEntry(o,ce.min()),ss(e).delete(function(h){return[0,Jt(h.path)]}(o))))});i.push(l)}}).next(()=>L.waitFor(i)).next(()=>r.apply(e)).next(()=>s)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return sf(e,n)}wr(e,n){const r=ss(e);let i,s=bn.ue;return r.X({index:U0},([o,a],{path:l,sequenceNumber:c})=>{o===0?(s!==bn.ue&&n(new J(Or(i)),s),s=c,i=l):s=bn.ue}).next(()=>{s!==bn.ue&&n(new J(Or(i)),s)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function sf(t,e){return ss(t).put(function(r,i){return{targetId:0,path:Jt(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(){this.changes=new Pi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ue.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KW{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return no(e).put(r)}removeEntry(e,n,r){return no(e).delete(function(s,o){const a=s.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],sm(o),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.br(e,r)))}getEntry(e,n){let r=Ue.newInvalidDocument(n);return no(e).X({index:Ff,range:IDBKeyRange.only(jc(n))},(i,s)=>{r=this.Dr(n,s)}).next(()=>r)}vr(e,n){let r={size:0,document:Ue.newInvalidDocument(n)};return no(e).X({index:Ff,range:IDBKeyRange.only(jc(n))},(i,s)=>{r={document:this.Dr(n,s),size:am(s)}}).next(()=>r)}getEntries(e,n){let r=Tn();return this.Cr(e,n,(i,s)=>{const o=this.Dr(i,s);r=r.insert(i,o)}).next(()=>r)}Fr(e,n){let r=Tn(),i=new Me(J.comparator);return this.Cr(e,n,(s,o)=>{const a=this.Dr(s,o);r=r.insert(s,a),i=i.insert(s,am(o))}).next(()=>({documents:r,Mr:i}))}Cr(e,n,r){if(n.isEmpty())return L.resolve();let i=new De(G1);n.forEach(l=>i=i.add(l));const s=IDBKeyRange.bound(jc(i.first()),jc(i.last())),o=i.getIterator();let a=o.getNext();return no(e).X({index:Ff,range:s},(l,c,d)=>{const h=J.fromSegments([...c.prefixPath,c.collectionGroup,c.documentId]);for(;a&&G1(a,h)<0;)r(a,null),a=o.getNext();a&&a.isEqual(h)&&(r(a,c),a=o.hasNext()?o.getNext():null),a?d.G(jc(a)):d.done()}).next(()=>{for(;a;)r(a,null),a=o.hasNext()?o.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,s){const o=n.path,a=[o.popLast().toArray(),o.lastSegment(),sm(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return no(e).j(IDBKeyRange.bound(a,l,!0)).next(c=>{s==null||s.incrementDocumentReadCount(c.length);let d=Tn();for(const h of c){const f=this.Dr(J.fromSegments(h.prefixPath.concat(h.collectionGroup,h.documentId)),h);f.isFoundDocument()&&(jd(n,f)||i.has(f.key))&&(d=d.insert(f.key,f))}return d})}getAllFromCollectionGroup(e,n,r,i){let s=Tn();const o=W1(n,r),a=W1(n,Un.max());return no(e).X({index:MD,range:IDBKeyRange.bound(o,a,!0)},(l,c,d)=>{const h=this.Dr(J.fromSegments(c.prefixPath.concat(c.collectionGroup,c.documentId)),c);s=s.insert(h.key,h),s.size===i&&d.done()}).next(()=>s)}newChangeBuffer(e){return new QW(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return H1(e).get(nw).next(n=>(le(!!n,20021),n))}br(e,n){return H1(e).put(nw,n)}Dr(e,n){if(n){const r=DW(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(ce.min())))return r}return Ue.newInvalidDocument(e)}}function J2(t){return new KW(t)}class QW extends Y2{constructor(e,n){super(),this.Or=e,this.trackRemovals=n,this.Nr=new Pi(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new De((s,o)=>he(s.canonicalString(),o.canonicalString()));return this.changes.forEach((s,o)=>{const a=this.Nr.get(s);if(n.push(this.Or.removeEntry(e,s,a.readTime)),o.isValidDocument()){const l=A1(this.Or.serializer,o);i=i.add(s.path.popLast());const c=am(l);r+=c-a.size,n.push(this.Or.addEntry(e,s,l))}else if(r-=a.size,this.trackRemovals){const l=A1(this.Or.serializer,o.convertToNoDocument(ce.min()));n.push(this.Or.addEntry(e,s,l))}}),i.forEach(s=>{n.push(this.Or.indexManager.addToCollectionParentIndex(e,s))}),n.push(this.Or.updateMetadata(e,r)),L.waitFor(n)}getFromCache(e,n){return this.Or.vr(e,n).next(r=>(this.Nr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.Or.Fr(e,n).next(({documents:r,Mr:i})=>(i.forEach((s,o)=>{this.Nr.set(s,{size:o,readTime:r.get(s).readTime})}),r))}}function H1(t){return Tt(t,od)}function no(t){return Tt(t,Zp)}function jc(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function W1(t,e){const n=e.documentKey.path.toArray();return[t,sm(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function G1(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let s=0;s<n.length-2&&s<r.length-2;++s)if(i=he(n[s],r[s]),i)return i;return i=he(n.length,r.length),i||(i=he(n[n.length-2],r[r.length-2]),i||he(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XW{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&bu(r.mutation,i,En.empty(),Re.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,ge()).next(()=>r))}getLocalViewOfDocuments(e,n,r=ge()){const i=Dr();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Zc();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Dr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,ge()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Tn();const o=wu(),a=function(){return wu()}();return n.forEach((l,c)=>{const d=r.get(c.key);i.has(c.key)&&(d===void 0||d.mutation instanceof Oi)?s=s.insert(c.key,c):d!==void 0?(o.set(c.key,d.mutation.getFieldMask()),bu(d.mutation,c,d.mutation.getFieldMask(),Re.now())):o.set(c.key,En.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((c,d)=>o.set(c,d)),n.forEach((c,d)=>{var h;return a.set(c,new XW(d,(h=o.get(c))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){const r=wu();let i=new Me((o,a)=>o-a),s=ge();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const c=n.get(l);if(c===null)return;let d=r.get(l)||En.empty();d=a.applyToLocalView(c,d),r.set(l,d);const h=(i.get(a.batchId)||ge()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),c=l.key,d=l.value,h=g2();d.forEach(f=>{if(!s.has(f)){const m=T2(n.get(f),r.get(f));m!==null&&h.set(f,m),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,h))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return J.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):K0(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Dr());let a=Il,l=s;return o.next(c=>L.forEach(c,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?L.resolve():this.remoteDocumentCache.getEntry(e,d).next(f=>{l=l.insert(d,f)}))).next(()=>this.populateOverlays(e,c,s)).next(()=>this.computeViews(e,l,c,ge())).next(d=>({batchId:a,changes:m2(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new J(n)).next(r=>{let i=Zc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Zc();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,l=>{const c=function(h,f){return new Ri(f,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,c,r,i).next(d=>{d.forEach((h,f)=>{o=o.insert(h,f)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,c)=>{const d=c.getKey();o.get(d)===null&&(o=o.insert(d,Ue.newInvalidDocument(d)))});let a=Zc();return o.forEach((l,c)=>{const d=s.get(l);d!==void 0&&bu(d.mutation,c,En.empty(),Re.now()),jd(n,c)&&(a=a.insert(l,c))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YW{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return L.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ht(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(i){return{name:i.name,query:rE(i.bundledQuery),readTime:ht(i.readTime)}}(n)),L.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JW{constructor(){this.overlays=new Me(J.comparator),this.kr=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Dr();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.wt(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.kr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.kr.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){const i=Dr(),s=n.length+1,o=new J(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,c=l.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Me((c,d)=>c-d);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>r){let d=s.get(c.largestBatchId);d===null&&(d=Dr(),s=s.insert(c.largestBatchId,d)),d.set(c.getKey(),c)}}const a=Dr(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((c,d)=>a.set(c,d)),!(a.size()>=i)););return L.resolve(a)}wt(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.kr.get(i.largestBatchId).delete(r.key);this.kr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new eE(n,r));let s=this.kr.get(n);s===void 0&&(s=ge(),this.kr.set(n,s)),this.kr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZW{constructor(){this.sessionToken=ot.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(){this.qr=new De(kt.Qr),this.$r=new De(kt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const r=new kt(e,n);this.qr=this.qr.add(r),this.$r=this.$r.add(r)}Kr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new kt(e,n))}Gr(e,n){e.forEach(r=>this.removeReference(r,n))}zr(e){const n=new J(new we([])),r=new kt(n,e),i=new kt(n,e+1),s=[];return this.$r.forEachInRange([r,i],o=>{this.Wr(o),s.push(o.key)}),s}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new J(new we([])),r=new kt(n,e),i=new kt(n,e+1);let s=ge();return this.$r.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new kt(e,0),r=this.qr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class kt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return J.comparator(e.key,n.key)||he(e.Hr,n.Hr)}static Ur(e,n){return he(e.Hr,n.Hr)||J.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eG{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new De(kt.Qr)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new J0(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Yr=this.Yr.add(new kt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Xr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?Es:this.er-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new kt(n,0),i=new kt(n,Number.POSITIVE_INFINITY),s=[];return this.Yr.forEachInRange([r,i],o=>{const a=this.Zr(o.Hr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new De(he);return n.forEach(i=>{const s=new kt(i,0),o=new kt(i,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([s,o],a=>{r=r.add(a.Hr)})}),L.resolve(this.ei(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;J.isDocumentKey(s)||(s=s.child(""));const o=new kt(new J(s),0);let a=new De(he);return this.Yr.forEachWhile(l=>{const c=l.key.path;return!!r.isPrefixOf(c)&&(c.length===i&&(a=a.add(l.Hr)),!0)},o),L.resolve(this.ei(a))}ei(e){const n=[];return e.forEach(r=>{const i=this.Zr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){le(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Yr;return L.forEach(n.mutations,i=>{const s=new kt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Yr=r})}rr(e){}containsKey(e,n){const r=new kt(n,0),i=this.Yr.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tG{constructor(e){this.ni=e,this.docs=function(){return new Me(J.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.ni(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Ue.newInvalidDocument(n))}getEntries(e,n){let r=Tn();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Ue.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Tn();const o=n.path,a=new J(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:c,value:{document:d}}=l.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||F0(OD(d),r)<=0||(i.has(d.key)||jd(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ie(9500)}ri(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new nG(this)}getSize(e){return L.resolve(this.size)}}class nG extends Y2{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Or.addEntry(e,i)):this.Or.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rG{constructor(e){this.persistence=e,this.ii=new Pi(n=>jo(n),Ud),this.lastRemoteSnapshotVersion=ce.min(),this.highestTargetId=0,this.si=0,this.oi=new oE,this.targetCount=0,this._i=Ko.ar()}forEachTarget(e,n){return this.ii.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.si&&(this.si=n),L.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new Ko(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.hr(n),L.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.ii.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ii.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){const r=this.ii.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.oi.Kr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.oi.Gr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),L.resolve()}getMatchingKeysForTargetId(e,n){const r=this.oi.Jr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aE{constructor(e,n){this.ai={},this.overlays={},this.ui=new bn(0),this.ci=!1,this.ci=!0,this.li=new ZW,this.referenceDelegate=e(this),this.hi=new rG(this),this.indexManager=new UW,this.remoteDocumentCache=function(i){return new tG(i)}(r=>this.referenceDelegate.Pi(r)),this.serializer=new U2(n),this.Ti=new YW(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new JW,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.ai[e.toKey()];return r||(r=new eG(n,this.referenceDelegate),this.ai[e.toKey()]=r),r}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,r){X("MemoryPersistence","Starting transaction:",e);const i=new iG(this.ui.next());return this.referenceDelegate.Ii(),r(i).next(s=>this.referenceDelegate.di(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Ei(e,n){return L.or(Object.values(this.ai).map(r=>()=>r.containsKey(e,n)))}}class iG extends ND{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ai=new oE,this.Ri=null}static Vi(e){return new vg(e)}get mi(){if(this.Ri)return this.Ri;throw ie(60996)}addReference(e,n,r){return this.Ai.addReference(r,n),this.mi.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Ai.removeReference(r,n),this.mi.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),L.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(i=>this.mi.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.mi.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.mi,r=>{const i=J.fromPath(r);return this.fi(e,i).next(s=>{s||n.removeEntry(i,ce.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(r=>{r?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return L.or([()=>L.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class lm{constructor(e,n){this.persistence=e,this.gi=new Pi(r=>Jt(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=X2(this,n)}static Vi(e,n){return new lm(e,n)}Ii(){}di(e){return L.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}yr(e){let n=0;return this.gr(e,r=>{n++}).next(()=>n)}gr(e,n){return L.forEach(this.gi,(r,i)=>this.Sr(e,r,i).next(s=>s?L.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ri(e,o=>this.Sr(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ce.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),L.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}removeReference(e,n,r){return this.gi.set(r,e.currentSequenceNumber),L.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),L.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Uf(e.data.value)),n}Sr(e,n,r){return L.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const i=this.gi.get(n);return L.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sG{constructor(e){this.serializer=e}q(e,n,r,i){const s=new ag("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore(Bd)}(e),function(l){l.createObjectStore(sd,{keyPath:b7}),l.createObjectStore(ar,{keyPath:i1,autoIncrement:!0}).createIndex(_o,s1,{unique:!0}),l.createObjectStore(Sl)}(e),K1(e),function(l){l.createObjectStore(ao)}(e));let o=L.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore(kl),l.deleteObjectStore(xl),l.deleteObjectStore(Ao)}(e),K1(e)),o=o.next(()=>function(l){const c=l.store(Ao),d={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ce.min().toTimestamp(),targetCount:0};return c.put(em,d)}(s))),r<4&&i>=4&&(r!==0&&(o=o.next(()=>function(l,c){return c.store(ar).j().next(h=>{l.deleteObjectStore(ar),l.createObjectStore(ar,{keyPath:i1,autoIncrement:!0}).createIndex(_o,s1,{unique:!0});const f=c.store(ar),m=h.map(y=>f.put(y));return L.waitFor(m)})}(e,s))),o=o.next(()=>{(function(l){l.createObjectStore(Al,{keyPath:R7})})(e)})),r<5&&i>=5&&(o=o.next(()=>this.pi(s))),r<6&&i>=6&&(o=o.next(()=>(function(l){l.createObjectStore(od)}(e),this.yi(s)))),r<7&&i>=7&&(o=o.next(()=>this.wi(s))),r<8&&i>=8&&(o=o.next(()=>this.Si(e,s))),r<9&&i>=9&&(o=o.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(o=o.next(()=>this.bi(s))),r<11&&i>=11&&(o=o.next(()=>{(function(l){l.createObjectStore(lg,{keyPath:P7})})(e),function(l){l.createObjectStore(cg,{keyPath:O7})}(e)})),r<12&&i>=12&&(o=o.next(()=>{(function(l){const c=l.createObjectStore(ug,{keyPath:F7});c.createIndex(iw,B7,{unique:!1}),c.createIndex(zD,U7,{unique:!1})})(e)})),r<13&&i>=13&&(o=o.next(()=>function(l){const c=l.createObjectStore(Zp,{keyPath:T7});c.createIndex(Ff,I7),c.createIndex(MD,S7)}(e)).next(()=>this.Di(e,s)).next(()=>e.deleteObjectStore(ao))),r<14&&i>=14&&(o=o.next(()=>this.Ci(e,s))),r<15&&i>=15&&(o=o.next(()=>function(l){l.createObjectStore(z0,{keyPath:D7,autoIncrement:!0}).createIndex(rw,N7,{unique:!1}),l.createObjectStore(yu,{keyPath:L7}).createIndex(BD,$7,{unique:!1}),l.createObjectStore(vu,{keyPath:V7}).createIndex(UD,M7,{unique:!1})}(e))),r<16&&i>=16&&(o=o.next(()=>{n.objectStore(yu).clear()}).next(()=>{n.objectStore(vu).clear()})),r<17&&i>=17&&(o=o.next(()=>{(function(l){l.createObjectStore(j0,{keyPath:z7})})(e)})),r<18&&i>=18&&xO()&&(o=o.next(()=>{n.objectStore(yu).clear()}).next(()=>{n.objectStore(vu).clear()})),o}yi(e){let n=0;return e.store(ao).X((r,i)=>{n+=am(i)}).next(()=>{const r={byteSize:n};return e.store(od).put(nw,r)})}pi(e){const n=e.store(sd),r=e.store(ar);return n.j().next(i=>L.forEach(i,s=>{const o=IDBKeyRange.bound([s.userId,Es],[s.userId,s.lastAcknowledgedBatchId]);return r.j(_o,o).next(a=>L.forEach(a,l=>{le(l.userId===s.userId,18650,"Cannot process batch from unexpected user",{batchId:l.batchId});const c=co(this.serializer,l);return W2(e,s.userId,c).next(()=>{})}))}))}wi(e){const n=e.store(kl),r=e.store(ao);return e.store(Ao).get(em).next(i=>{const s=[];return r.X((o,a)=>{const l=new we(o),c=function(h){return[0,Jt(h)]}(l);s.push(n.get(c).next(d=>d?L.resolve():(h=>n.put({targetId:0,path:Jt(h),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>L.waitFor(s))})}Si(e,n){e.createObjectStore(ad,{keyPath:C7});const r=n.store(ad),i=new sE,s=o=>{if(i.add(o)){const a=o.lastSegment(),l=o.popLast();return r.put({collectionId:a,parent:Jt(l)})}};return n.store(ao).X({Z:!0},(o,a)=>{const l=new we(o);return s(l.popLast())}).next(()=>n.store(Sl).X({Z:!0},([o,a,l],c)=>{const d=Or(a);return s(d.popLast())}))}bi(e){const n=e.store(xl);return n.X((r,i)=>{const s=tu(i),o=z2(this.serializer,s);return n.put(o)})}Di(e,n){const r=n.store(ao),i=[];return r.X((s,o)=>{const a=n.store(Zp),l=function(h){return h.document?new J(we.fromString(h.document.name).popFirst(5)):h.noDocument?J.fromSegments(h.noDocument.path):h.unknownDocument?J.fromSegments(h.unknownDocument.path):ie(36783)}(o).path.toArray(),c={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:o.readTime||[0,0],unknownDocument:o.unknownDocument,noDocument:o.noDocument,document:o.document,hasCommittedMutations:!!o.hasCommittedMutations};i.push(a.put(c))}).next(()=>L.waitFor(i))}Ci(e,n){const r=n.store(ar),i=J2(this.serializer),s=new aE(vg.Vi,this.serializer.gt);return r.j().next(o=>{const a=new Map;return o.forEach(l=>{var c;let d=(c=a.get(l.userId))!==null&&c!==void 0?c:ge();co(this.serializer,l).keys().forEach(h=>d=d.add(h)),a.set(l.userId,d)}),L.forEach(a,(l,c)=>{const d=new Ct(c),h=gg.yt(this.serializer,d),f=s.getIndexManager(d),m=yg.yt(d,this.serializer,f,s.referenceDelegate);return new Z2(i,m,h,f).recalculateAndSaveOverlaysForDocumentKeys(new sw(n,bn.ue),l).next()})})}}function K1(t){t.createObjectStore(kl,{keyPath:k7}).createIndex(U0,A7,{unique:!0}),t.createObjectStore(xl,{keyPath:"targetId"}).createIndex(FD,x7,{unique:!0}),t.createObjectStore(Ao)}const Qi="IndexedDbPersistence",rv=18e5,iv=5e3,sv="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eN="main";class lE{constructor(e,n,r,i,s,o,a,l,c,d,h=18){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Fi=s,this.window=o,this.document=a,this.Mi=c,this.xi=d,this.Oi=h,this.ui=null,this.ci=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Ni=null,this.inForeground=!1,this.Bi=null,this.Li=null,this.ki=Number.NEGATIVE_INFINITY,this.qi=f=>Promise.resolve(),!lE.C())throw new K(F.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GW(this,i),this.Qi=n+eN,this.serializer=new U2(l),this.$i=new Fr(this.Qi,this.Oi,new sG(this.serializer)),this.li=new LW,this.hi=new jW(this.referenceDelegate,this.serializer),this.remoteDocumentCache=J2(this.serializer),this.Ti=new NW,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,d===!1&&dt(Qi,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.Ki().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new K(F.FAILED_PRECONDITION,sv);return this.Wi(),this.Gi(),this.zi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.hi.getHighestSequenceNumber(e))}).then(e=>{this.ui=new bn(e,this.Mi)}).then(()=>{this.ci=!0}).catch(e=>(this.$i&&this.$i.close(),Promise.reject(e)))}ji(e){return this.qi=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.$i.setDatabaseDeletedListener(e)}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Fi.enqueueAndForget(async()=>{this.started&&await this.Ki()}))}Ki(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>of(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ji(e).next(n=>{n||(this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)))})}).next(()=>this.Hi(e)).next(n=>this.isPrimary&&!n?this.Yi(e).next(()=>!1):!!n&&this.Zi(e).next(()=>!0))).catch(e=>{if(qs(e))return X(Qi,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return X(Qi,"Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Fi.enqueueRetryable(()=>this.qi(e)),this.isPrimary=e})}Ji(e){return qc(e).get(ga).next(n=>L.resolve(this.Xi(n)))}es(e){return of(e).delete(this.clientId)}async ts(){if(this.isPrimary&&!this.ns(this.ki,rv)){this.ki=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Tt(n,Al);return r.j().next(i=>{const s=this.rs(i,rv),o=i.filter(a=>s.indexOf(a)===-1);return L.forEach(o,a=>r.delete(a.clientId)).next(()=>o)})}).catch(()=>[]);if(this.Ui)for(const n of e)this.Ui.removeItem(this.ss(n.clientId))}}zi(){this.Li=this.Fi.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.Ki().then(()=>this.ts()).then(()=>this.zi()))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.xi?L.resolve(!0):qc(e).get(ga).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,iv)&&!this._s(n.ownerId)){if(this.Xi(n)&&this.networkEnabled)return!0;if(!this.Xi(n)){if(!n.allowTabSynchronization)throw new K(F.FAILED_PRECONDITION,sv);return!1}}return!(!this.networkEnabled||!this.inForeground)||of(e).j().next(r=>this.rs(r,iv).find(i=>{if(this.clientId!==i.clientId){const s=!this.networkEnabled&&i.networkEnabled,o=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(s||o&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&X(Qi,`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.ci=!1,this.us(),this.Li&&(this.Li.cancel(),this.Li=null),this.cs(),this.ls(),await this.$i.runTransaction("shutdown","readwrite",[Bd,Al],e=>{const n=new sw(e,bn.ue);return this.Yi(n).next(()=>this.es(n))}),this.$i.close(),this.hs()}rs(e,n){return e.filter(r=>this.ns(r.updateTimeMs,n)&&!this._s(r.clientId))}Ps(){return this.runTransaction("getActiveClients","readonly",e=>of(e).j().next(n=>this.rs(n,rv).map(r=>r.clientId)))}get started(){return this.ci}getGlobalsCache(){return this.li}getMutationQueue(e,n){return yg.yt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zW(e,this.serializer.gt.databaseId)}getDocumentOverlayCache(e){return gg.yt(this.serializer,e)}getBundleCache(){return this.Ti}runTransaction(e,n,r){X(Qi,"Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",s=function(l){return l===18?H7:l===17?WD:l===16?q7:l===15?q0:l===14?HD:l===13?qD:l===12?j7:l===11?jD:void ie(60245)}(this.Oi);let o;return this.$i.runTransaction(e,i,s,a=>(o=new sw(a,this.ui?this.ui.next():bn.ue),n==="readwrite-primary"?this.Ji(o).next(l=>!!l||this.Hi(o)).next(l=>{if(!l)throw dt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Fi.enqueueRetryable(()=>this.qi(!1)),new K(F.FAILED_PRECONDITION,DD);return r(o)}).next(l=>this.Zi(o).next(()=>l)):this.Ts(o).next(()=>r(o)))).then(a=>(o.raiseOnCommittedEvent(),a))}Ts(e){return qc(e).get(ga).next(n=>{if(n!==null&&this.ns(n.leaseTimestampMs,iv)&&!this._s(n.ownerId)&&!this.Xi(n)&&!(this.xi||this.allowTabSynchronization&&n.allowTabSynchronization))throw new K(F.FAILED_PRECONDITION,sv)})}Zi(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return qc(e).put(ga,n)}static C(){return Fr.C()}Yi(e){const n=qc(e);return n.get(ga).next(r=>this.Xi(r)?(X(Qi,"Releasing primary lease."),n.delete(ga)):L.resolve())}ns(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(dt(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Bi=()=>{this.Fi.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.Ki()))},this.document.addEventListener("visibilitychange",this.Bi),this.inForeground=this.document.visibilityState==="visible")}cs(){this.Bi&&(this.document.removeEventListener("visibilitychange",this.Bi),this.Bi=null)}Gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Ni=()=>{this.us();const n=/(?:Version|Mobile)\/1[456]/;SO()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.Fi.enterRestrictedMode(!0),this.Fi.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Ni))}ls(){this.Ni&&(this.window.removeEventListener("pagehide",this.Ni),this.Ni=null)}_s(e){var n;try{const r=((n=this.Ui)===null||n===void 0?void 0:n.getItem(this.ss(e)))!==null;return X(Qi,`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return dt(Qi,"Failed to get zombied client id.",r),!1}}us(){if(this.Ui)try{this.Ui.setItem(this.ss(this.clientId),String(Date.now()))}catch(e){dt("Failed to set zombie client id.",e)}}hs(){if(this.Ui)try{this.Ui.removeItem(this.ss(this.clientId))}catch{}}ss(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function qc(t){return Tt(t,Bd)}function of(t){return Tt(t,Al)}function cE(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uE{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Is=r,this.ds=i}static Es(e,n){let r=ge(),i=ge();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new uE(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oG{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tN{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return SO()?8:LD(Et())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ps(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ys(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new oG;return this.ws(e,n,o).next(a=>{if(s.result=a,this.Rs)return this.Ss(e,n,o,a.size)})}).next(()=>s.result)}Ss(e,n,r,i){return r.documentReadCount<this.Vs?(xa()<=_e.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",ka(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),L.resolve()):(xa()<=_e.DEBUG&&X("QueryEngine","Query:",ka(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.fs*i?(xa()<=_e.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",ka(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,un(n))):L.resolve())}ps(e,n){if(v1(n))return L.resolve(null);let r=un(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=im(n,null,"F"),r=un(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=ge(...s);return this.gs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const c=this.bs(n,a);return this.Ds(n,c,o,l.readTime)?this.ps(e,im(n,null,"F")):this.vs(e,c,n,l)}))})))}ys(e,n,r,i){return v1(n)||i.isEqual(ce.min())?L.resolve(null):this.gs.getDocuments(e,r).next(s=>{const o=this.bs(n,s);return this.Ds(n,o,r,i)?L.resolve(null):(xa()<=_e.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ka(n)),this.vs(e,o,n,PD(i,Il)).next(a=>a))})}bs(e,n){let r=new De(f2(e));return n.forEach((i,s)=>{jd(e,s)&&(r=r.add(s))}),r}Ds(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ws(e,n,r){return xa()<=_e.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",ka(n)),this.gs.getDocumentsMatchingQuery(e,n,Un.min(),r)}vs(e,n,r,i){return this.gs.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dE="LocalStore",aG=3e8;class lG{constructor(e,n,r,i){this.persistence=e,this.Cs=n,this.serializer=i,this.Fs=new Me(he),this.Ms=new Pi(s=>jo(s),Ud),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(r)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z2(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function nN(t,e,n,r){return new lG(t,e,n,r)}async function rN(t,e){const n=te(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.Ns(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=ge();for(const c of i){o.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}for(const c of s){a.push(c.batchId);for(const d of c.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(c=>({Bs:c,removedBatchIds:o,addedBatchIds:a}))})})}function cG(t,e){const n=te(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.Os.newChangeBuffer({trackRemovals:!0});return function(a,l,c,d){const h=c.batch,f=h.keys();let m=L.resolve();return f.forEach(y=>{m=m.next(()=>d.getEntry(l,y)).next(w=>{const b=c.docVersions.get(y);le(b!==null,48541),w.version.compareTo(b)<0&&(h.applyToRemoteDocument(w,c),w.isValidDocument()&&(w.setReadTime(c.commitVersion),d.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=ge();for(let c=0;c<a.mutationResults.length;++c)a.mutationResults[c].transformResults.length>0&&(l=l.add(a.batch.mutations[c].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function iN(t){const e=te(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function uG(t,e){const n=te(t),r=e.snapshotVersion;let i=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Os.newChangeBuffer({trackRemovals:!0});i=n.Fs;const a=[];e.targetChanges.forEach((d,h)=>{const f=i.get(h);if(!f)return;a.push(n.hi.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.hi.addMatchingKeys(s,d.addedDocuments,h)));let m=f.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?m=m.withResumeToken(ot.EMPTY_BYTE_STRING,ce.min()).withLastLimboFreeSnapshotVersion(ce.min()):d.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(d.resumeToken,r)),i=i.insert(h,m),function(w,b,T){return w.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=aG?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0}(f,m,d)&&a.push(n.hi.updateTargetData(s,m))});let l=Tn(),c=ge();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(sN(s,o,e.documentUpdates).next(d=>{l=d.Ls,c=d.ks})),!r.isEqual(ce.min())){const d=n.hi.getLastRemoteSnapshotVersion(s).next(h=>n.hi.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,c)).next(()=>l)}).then(s=>(n.Fs=i,s))}function sN(t,e,n){let r=ge(),i=ge();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Tn();return n.forEach((a,l)=>{const c=s.get(a);l.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ce.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!c.isValidDocument()||l.version.compareTo(c.version)>0||l.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):X(dE,"Ignoring outdated watch update for ",a,". Current version:",c.version," Watch version:",l.version)}),{Ls:o,ks:i}})}function dG(t,e){const n=te(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Es),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ll(t,e){const n=te(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.hi.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.hi.allocateTargetId(r).next(o=>(i=new di(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.hi.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Fs.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(r.targetId,r),n.Ms.set(e,r.targetId)),r})}async function $l(t,e,n){const r=te(t),i=r.Fs.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!qs(o))throw o;X(dE,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Fs=r.Fs.remove(e),r.Ms.delete(i.target)}function cm(t,e,n){const r=te(t);let i=ce.min(),s=ge();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,c,d){const h=te(l),f=h.Ms.get(d);return f!==void 0?L.resolve(h.Fs.get(f)):h.hi.getTargetData(c,d)}(r,o,un(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.hi.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?i:ce.min(),n?s:ge())).next(a=>(lN(r,h2(e),a),{documents:a,qs:s})))}function oN(t,e){const n=te(t),r=te(n.hi),i=n.Fs.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",s=>r.Et(s,e).next(o=>o?o.target:null))}function aN(t,e){const n=te(t),r=n.xs.get(e)||ce.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.Os.getAllFromCollectionGroup(i,e,PD(r,Il),Number.MAX_SAFE_INTEGER)).then(i=>(lN(n,e,i),i))}function lN(t,e,n){let r=t.xs.get(e)||ce.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.xs.set(e,r)}async function hG(t,e,n,r){const i=te(t);let s=ge(),o=Tn();for(const c of n){const d=e.Qs(c.metadata.name);c.document&&(s=s.add(d));const h=e.$s(c);h.setReadTime(e.Us(c.metadata.readTime)),o=o.insert(d,h)}const a=i.Os.newChangeBuffer({trackRemovals:!0}),l=await Ll(i,function(d){return un(tc(we.fromString(`__bundle__/docs/${d}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",c=>sN(c,a,o).next(d=>(a.apply(c),d)).next(d=>i.hi.removeMatchingKeysForTargetId(c,l.targetId).next(()=>i.hi.addMatchingKeys(c,s,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(c,d.Ls,d.ks)).next(()=>d.Ls)))}async function fG(t,e,n=ge()){const r=await Ll(t,un(rE(e.bundledQuery))),i=te(t);return i.persistence.runTransaction("Save named query","readwrite",s=>{const o=ht(e.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ti.saveNamedQuery(s,e);const a=r.withResumeToken(ot.EMPTY_BYTE_STRING,o);return i.Fs=i.Fs.insert(a.targetId,a),i.hi.updateTargetData(s,a).next(()=>i.hi.removeMatchingKeysForTargetId(s,r.targetId)).next(()=>i.hi.addMatchingKeys(s,n,r.targetId)).next(()=>i.Ti.saveNamedQuery(s,e))})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cN="firestore_clients";function Q1(t,e){return`${cN}_${t}_${e}`}const uN="firestore_mutations";function X1(t,e,n){let r=`${uN}_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}const dN="firestore_targets";function ov(t,e){return`${dN}_${t}_${e}`}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rr="SharedClientState";class um{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Ks(e,n,r){const i=JSON.parse(r);let s,o=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return o&&i.error&&(o=typeof i.error.message=="string"&&typeof i.error.code=="string",o&&(s=new K(i.error.code,i.error.message))),o?new um(e,n,i.state,s):(dt(Rr,`Failed to parse mutation state for ID '${n}': ${r}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Eu{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Ks(e,n){const r=JSON.parse(n);let i,s=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return s&&r.error&&(s=typeof r.error.message=="string"&&typeof r.error.code=="string",s&&(i=new K(r.error.code,r.error.message))),s?new Eu(e,r.state,i):(dt(Rr,`Failed to parse target state for ID '${e}': ${n}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class dm{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Ks(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,s=Q0();for(let o=0;i&&o<r.activeTargetIds.length;++o)i=$D(r.activeTargetIds[o]),s=s.add(r.activeTargetIds[o]);return i?new dm(e,s):(dt(Rr,`Failed to parse client data for instance '${e}': ${n}`),null)}}class hE{constructor(e,n){this.clientId=e,this.onlineState=n}static Ks(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new hE(n.clientId,n.onlineState):(dt(Rr,`Failed to parse online state: ${e}`),null)}}class _w{constructor(){this.activeTargetIds=Q0()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class av{constructor(e,n,r,i,s){this.window=e,this.Fi=n,this.persistenceKey=r,this.js=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.Js=this.Hs.bind(this),this.Ys=new Me(he),this.started=!1,this.Zs=[];const o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=s,this.Xs=Q1(this.persistenceKey,this.js),this.eo=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ys=this.Ys.insert(this.js,new _w),this.no=new RegExp(`^${cN}_${o}_([^_]*)$`),this.ro=new RegExp(`^${uN}_${o}_(\\d+)(?:_(.*))?$`),this.io=new RegExp(`^${dN}_${o}_(\\d+)$`),this.so=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.oo=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.Js)}static C(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Ps();for(const r of e){if(r===this.js)continue;const i=this.getItem(Q1(this.persistenceKey,r));if(i){const s=dm.Ks(r,i);s&&(this.Ys=this.Ys.insert(s.clientId,s))}}this._o();const n=this.storage.getItem(this.so);if(n){const r=this.ao(n);r&&this.uo(r)}for(const r of this.Zs)this.Hs(r);this.Zs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.eo,JSON.stringify(e))}getAllActiveQueryTargets(){return this.co(this.Ys)}isActiveQueryTarget(e){let n=!1;return this.Ys.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.lo(e,"pending")}updateMutationState(e,n,r){this.lo(e,n,r),this.ho(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(ov(this.persistenceKey,e));if(i){const s=Eu.Ks(e,i);s&&(r=s.state)}}return n&&this.Po.Gs(e),this._o(),r}removeLocalQueryTarget(e){this.Po.zs(e),this._o()}isLocalQueryTarget(e){return this.Po.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ov(this.persistenceKey,e))}updateQueryState(e,n,r){this.To(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.ho(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Io(e)}notifyBundleLoaded(e){this.Eo(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.Js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return X(Rr,"READ",e,n),n}setItem(e,n){X(Rr,"SET",e,n),this.storage.setItem(e,n)}removeItem(e){X(Rr,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const n=e;if(n.storageArea===this.storage){if(X(Rr,"EVENT",n.key,n.newValue),n.key===this.Xs)return void dt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Fi.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.no.test(n.key)){if(n.newValue==null){const r=this.Ao(n.key);return this.Ro(r,null)}{const r=this.Vo(n.key,n.newValue);if(r)return this.Ro(r.clientId,r)}}else if(this.ro.test(n.key)){if(n.newValue!==null){const r=this.mo(n.key,n.newValue);if(r)return this.fo(r)}}else if(this.io.test(n.key)){if(n.newValue!==null){const r=this.po(n.key,n.newValue);if(r)return this.yo(r)}}else if(n.key===this.so){if(n.newValue!==null){const r=this.ao(n.newValue);if(r)return this.uo(r)}}else if(n.key===this.eo){const r=function(s){let o=bn.ue;if(s!=null)try{const a=JSON.parse(s);le(typeof a=="number",30636,{wo:s}),o=a}catch(a){dt(Rr,"Failed to read sequence number from WebStorage",a)}return o}(n.newValue);r!==bn.ue&&this.sequenceNumberHandler(r)}else if(n.key===this.oo){const r=this.So(n.newValue);await Promise.all(r.map(i=>this.syncEngine.bo(i)))}}}else this.Zs.push(n)})}}get Po(){return this.Ys.get(this.js)}_o(){this.setItem(this.Xs,this.Po.Ws())}lo(e,n,r){const i=new um(this.currentUser,e,n,r),s=X1(this.persistenceKey,this.currentUser,e);this.setItem(s,i.Ws())}ho(e){const n=X1(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Io(e){const n={clientId:this.js,onlineState:e};this.storage.setItem(this.so,JSON.stringify(n))}To(e,n,r){const i=ov(this.persistenceKey,e),s=new Eu(e,n,r);this.setItem(i,s.Ws())}Eo(e){const n=JSON.stringify(Array.from(e));this.setItem(this.oo,n)}Ao(e){const n=this.no.exec(e);return n?n[1]:null}Vo(e,n){const r=this.Ao(e);return dm.Ks(r,n)}mo(e,n){const r=this.ro.exec(e),i=Number(r[1]),s=r[2]!==void 0?r[2]:null;return um.Ks(new Ct(s),i,n)}po(e,n){const r=this.io.exec(e),i=Number(r[1]);return Eu.Ks(i,n)}ao(e){return hE.Ks(e)}So(e){return JSON.parse(e)}async fo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Do(e.batchId,e.state,e.error);X(Rr,`Ignoring mutation for non-active user ${e.user.uid}`)}yo(e){return this.syncEngine.vo(e.targetId,e.state,e.error)}Ro(e,n){const r=n?this.Ys.insert(e,n):this.Ys.remove(e),i=this.co(this.Ys),s=this.co(r),o=[],a=[];return s.forEach(l=>{i.has(l)||o.push(l)}),i.forEach(l=>{s.has(l)||a.push(l)}),this.syncEngine.Co(o,a).then(()=>{this.Ys=r})}uo(e){this.Ys.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}co(e){let n=Q0();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class hN{constructor(){this.Fo=new _w,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,r){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new _w,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pG{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y1="ConnectivityMonitor";class J1{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){X(Y1,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){X(Y1,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let af=null;function ww(){return af===null?af=function(){return 268435456+Math.round(2147483648*Math.random())}():af++,"0x"+af.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lv="RestConnection",mG={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gG{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${r}/databases/${i}`,this.Ko=this.databaseId.database===tm?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Wo(e,n,r,i,s){const o=ww(),a=this.Go(e,n.toUriEncodedString());X(lv,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(l,i,s);const{host:c}=new URL(a),d=zs(c);return this.jo(e,a,l,r,d).then(h=>(X(lv,`Received RPC '${e}' ${o}: `,h),h),h=>{throw Bn(lv,`RPC '${e}' ${o} failed with error: `,h,"url: ",a,"request:",r),h})}Jo(e,n,r,i,s,o){return this.Wo(e,n,r,i,s)}zo(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ec}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}Go(e,n){const r=mG[e];return`${this.$o}/v1/${n}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yG{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt="WebChannelConnection";class vG extends gG{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,r,i,s){const o=ww();return new Promise((a,l)=>{const c=new wD;c.setWithCredentials(!0),c.listenOnce(bD.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case $f.NO_ERROR:const h=c.getResponseJson();X(Gt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),a(h);break;case $f.TIMEOUT:X(Gt,`RPC '${e}' ${o} timed out`),l(new K(F.DEADLINE_EXCEEDED,"Request time out"));break;case $f.HTTP_ERROR:const f=c.getStatus();if(X(Gt,`RPC '${e}' ${o} failed with status:`,f,"response text:",c.getResponseText()),f>0){let m=c.getResponseJson();Array.isArray(m)&&(m=m[0]);const y=m==null?void 0:m.error;if(y&&y.status&&y.message){const w=function(T){const E=T.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(E)>=0?E:F.UNKNOWN}(y.status);l(new K(w,y.message))}else l(new K(F.UNKNOWN,"Server responded with status "+c.getStatus()))}else l(new K(F.UNAVAILABLE,"Connection failed."));break;default:ie(9055,{c_:e,streamId:o,l_:c.getLastErrorCode(),h_:c.getLastError()})}}finally{X(Gt,`RPC '${e}' ${o} completed.`)}});const d=JSON.stringify(i);X(Gt,`RPC '${e}' ${o} sending request:`,i),c.send(n,"POST",d,r,15)})}P_(e,n,r){const i=ww(),s=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=ID(),a=TD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(l.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(l.useFetchStreams=!0),this.zo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const d=s.join("");X(Gt,`Creating RPC '${e}' stream ${i}: ${d}`,l);const h=o.createWebChannel(d,l);this.T_(h);let f=!1,m=!1;const y=new yG({Ho:b=>{m?X(Gt,`Not sending because RPC '${e}' stream ${i} is closed:`,b):(f||(X(Gt,`Opening RPC '${e}' stream ${i} transport.`),h.open(),f=!0),X(Gt,`RPC '${e}' stream ${i} sending:`,b),h.send(b))},Yo:()=>h.close()}),w=(b,T,E)=>{b.listen(T,I=>{try{E(I)}catch(R){setTimeout(()=>{throw R},0)}})};return w(h,Jc.EventType.OPEN,()=>{m||(X(Gt,`RPC '${e}' stream ${i} transport opened.`),y.s_())}),w(h,Jc.EventType.CLOSE,()=>{m||(m=!0,X(Gt,`RPC '${e}' stream ${i} transport closed`),y.__(),this.I_(h))}),w(h,Jc.EventType.ERROR,b=>{m||(m=!0,Bn(Gt,`RPC '${e}' stream ${i} transport errored. Name:`,b.name,"Message:",b.message),y.__(new K(F.UNAVAILABLE,"The operation could not be completed")))}),w(h,Jc.EventType.MESSAGE,b=>{var T;if(!m){const E=b.data[0];le(!!E,16349);const I=E,R=(I==null?void 0:I.error)||((T=I[0])===null||T===void 0?void 0:T.error);if(R){X(Gt,`RPC '${e}' stream ${i} received error:`,R);const D=R.status;let $=function(_){const k=mt[_];if(k!==void 0)return x2(k)}(D),x=R.message;$===void 0&&($=F.INTERNAL,x="Unknown error status: "+D+" with message "+R.message),m=!0,y.__(new K($,x)),h.close()}else X(Gt,`RPC '${e}' stream ${i} received:`,E),y.a_(E)}}),w(a,ED.STAT_EVENT,b=>{b.stat===Z_.PROXY?X(Gt,`RPC '${e}' stream ${i} detected buffering proxy`):b.stat===Z_.NOPROXY&&X(Gt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.o_()},0),y}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fN(){return typeof window<"u"?window:null}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gd(t){return new TW(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Fi=e,this.timerId=n,this.d_=r,this.E_=i,this.A_=s,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),r=Math.max(0,Date.now()-this.m_),i=Math.max(0,n-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,i,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1="PersistentStream";class pN{constructor(e,n,r,i,s,o,a,l){this.Fi=e,this.w_=r,this.S_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new fE(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(dt(n.toString()),dt("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.b_===n&&this.W_(r,i)},r=>{e(()=>{const i=new K(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.G_(i)})})}W_(e,n){const r=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.e_(()=>{r(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(i=>{r(()=>this.G_(i))}),this.stream.onMessage(i=>{r(()=>++this.C_==1?this.j_(i):this.onNext(i))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return X(Z1,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(X(Z1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _G extends pN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=xW(this.serializer,e),r=function(s){if(!("targetChange"in s))return ce.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ce.min():o.readTime?ht(o.readTime):ce.min()}(e);return this.listener.J_(n,r)}H_(e){const n={};n.database=pw(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=nm(l)?{documents:L2(s,l)}:{query:$2(s,l).Vt},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=C2(s,o.resumeToken);const c=hw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}else if(o.snapshotVersion.compareTo(ce.min())>0){a.readTime=Nl(s,o.snapshotVersion.toTimestamp());const c=hw(s,o.expectedCount);c!==null&&(a.expectedCount=c)}return a}(this.serializer,e);const r=AW(this.serializer,e);r&&(n.labels=r),this.k_(n)}Y_(e){const n={};n.database=pw(this.serializer),n.removeTarget=e,this.k_(n)}}class wG extends pN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return le(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,le(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){le(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=kW(e.writeResults,e.commitTime),r=ht(e.commitTime);return this.listener.ta(r,n)}na(){const e={};e.database=pw(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>fd(this.serializer,r))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bG{}class EG extends bG{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.ra=!1}ia(){if(this.ra)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,i){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Wo(e,fw(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(F.UNKNOWN,s.toString())})}Jo(e,n,r,i,s){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Jo(e,fw(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(F.UNKNOWN,o.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class TG{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(dt(n),this._a=!1):X("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qo="RemoteStore";class IG{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=s,this.Ea.xo(o=>{r.enqueueAndForget(async()=>{Ws(this)&&(X(Qo,"Restarting streams for network reachability change."),await async function(l){const c=te(l);c.Ia.add(4),await ic(c),c.Aa.set("Unknown"),c.Ia.delete(4),await Kd(c)}(this))})}),this.Aa=new TG(r,i)}}async function Kd(t){if(Ws(t))for(const e of t.da)await e(!0)}async function ic(t){for(const e of t.da)await e(!1)}function _g(t,e){const n=te(t);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),gE(n)?mE(n):oc(n).x_()&&pE(n,e))}function Vl(t,e){const n=te(t),r=oc(n);n.Ta.delete(e),r.x_()&&mN(n,e),n.Ta.size===0&&(r.x_()?r.B_():Ws(n)&&n.Aa.set("Unknown"))}function pE(t,e){if(t.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ce.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}oc(t).H_(e)}function mN(t,e){t.Ra.$e(e),oc(t).Y_(e)}function mE(t){t.Ra=new _W({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>t.Ta.get(e)||null,lt:()=>t.datastore.serializer.databaseId}),oc(t).start(),t.Aa.aa()}function gE(t){return Ws(t)&&!oc(t).M_()&&t.Ta.size>0}function Ws(t){return te(t).Ia.size===0}function gN(t){t.Ra=void 0}async function SG(t){t.Aa.set("Online")}async function xG(t){t.Ta.forEach((e,n)=>{pE(t,e)})}async function kG(t,e){gN(t),gE(t)?(t.Aa.la(e),mE(t)):t.Aa.set("Unknown")}async function AG(t,e,n){if(t.Aa.set("Online"),e instanceof A2&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.Ta.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.Ta.delete(a),i.Ra.removeTarget(a))}(t,e)}catch(r){X(Qo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await hm(t,r)}else if(e instanceof qf?t.Ra.Ye(e):e instanceof k2?t.Ra.it(e):t.Ra.et(e),!n.isEqual(ce.min()))try{const r=await iN(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.Ra.Pt(o);return a.targetChanges.forEach((l,c)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ta.get(c);d&&s.Ta.set(c,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,c)=>{const d=s.Ta.get(l);if(!d)return;s.Ta.set(l,d.withResumeToken(ot.EMPTY_BYTE_STRING,d.snapshotVersion)),mN(s,l);const h=new di(d.target,l,c,d.sequenceNumber);pE(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){X(Qo,"Failed to raise snapshot:",r),await hm(t,r)}}async function hm(t,e,n){if(!qs(e))throw e;t.Ia.add(1),await ic(t),t.Aa.set("Offline"),n||(n=()=>iN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{X(Qo,"Retrying IndexedDB access"),await n(),t.Ia.delete(1),await Kd(t)})}function yN(t,e){return e().catch(n=>hm(t,n,e))}async function sc(t){const e=te(t),n=$s(e);let r=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Es;for(;CG(e);)try{const i=await dG(e.localStore,r);if(i===null){e.Pa.length===0&&n.B_();break}r=i.batchId,RG(e,i)}catch(i){await hm(e,i)}vN(e)&&_N(e)}function CG(t){return Ws(t)&&t.Pa.length<10}function RG(t,e){t.Pa.push(e);const n=$s(t);n.x_()&&n.Z_&&n.X_(e.mutations)}function vN(t){return Ws(t)&&!$s(t).M_()&&t.Pa.length>0}function _N(t){$s(t).start()}async function PG(t){$s(t).na()}async function OG(t){const e=$s(t);for(const n of t.Pa)e.X_(n.mutations)}async function DG(t,e,n){const r=t.Pa.shift(),i=Z0.from(r,e,n);await yN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sc(t)}async function NG(t,e){e&&$s(t).Z_&&await async function(r,i){if(function(o){return S2(o)&&o!==F.ABORTED}(i.code)){const s=r.Pa.shift();$s(r).N_(),await yN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await sc(r)}}(t,e),vN(t)&&_N(t)}async function ek(t,e){const n=te(t);n.asyncQueue.verifyOperationInProgress(),X(Qo,"RemoteStore received new credentials");const r=Ws(n);n.Ia.add(3),await ic(n),r&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await Kd(n)}async function bw(t,e){const n=te(t);e?(n.Ia.delete(2),await Kd(n)):e||(n.Ia.add(2),await ic(n),n.Aa.set("Unknown"))}function oc(t){return t.Va||(t.Va=function(n,r,i){const s=te(n);return s.ia(),new _G(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:SG.bind(null,t),e_:xG.bind(null,t),n_:kG.bind(null,t),J_:AG.bind(null,t)}),t.da.push(async e=>{e?(t.Va.N_(),gE(t)?mE(t):t.Aa.set("Unknown")):(await t.Va.stop(),gN(t))})),t.Va}function $s(t){return t.ma||(t.ma=function(n,r,i){const s=te(n);return s.ia(),new wG(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),e_:PG.bind(null,t),n_:NG.bind(null,t),ea:OG.bind(null,t),ta:DG.bind(null,t)}),t.da.push(async e=>{e?(t.ma.N_(),await sc(t)):(await t.ma.stop(),t.Pa.length>0&&(X(Qo,`Stopping write stream with ${t.Pa.length} pending writes`),t.Pa=[]))})),t.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ft,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new yE(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ac(t,e){if(dt("AsyncQueue",`${e}: ${t}`),qs(t))return new K(F.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{static emptySet(e){return new al(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||J.comparator(n.key,r.key):(n,r)=>J.comparator(n.key,r.key),this.keyedMap=Zc(),this.sortedSet=new Me(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof al)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new al;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tk{constructor(){this.fa=new Me(J.comparator)}track(e){const n=e.doc.key,r=this.fa.get(n);r?e.type!==0&&r.type===3?this.fa=this.fa.insert(n,e):e.type===3&&r.type!==1?this.fa=this.fa.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.fa=this.fa.remove(n):e.type===1&&r.type===2?this.fa=this.fa.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):ie(63341,{At:e,ga:r}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,r)=>{e.push(r)}),e}}class Ml{constructor(e,n,r,i,s,o,a,l,c){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=c}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Ml(e,n,al.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LG{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class $G{constructor(){this.queries=nk(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,r){const i=te(n),s=i.queries;i.queries=nk(),s.forEach((o,a)=>{for(const l of a.wa)l.onError(r)})})(this,new K(F.ABORTED,"Firestore shutting down"))}}function nk(){return new Pi(t=>d2(t),zd)}async function vE(t,e){const n=te(t);let r=3;const i=e.query;let s=n.queries.get(i);s?!s.Sa()&&e.ba()&&(r=2):(s=new LG,r=e.ba()?0:1);try{switch(r){case 0:s.ya=await n.onListen(i,!0);break;case 1:s.ya=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(o){const a=ac(o,`Initialization of query '${ka(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.wa.push(e),e.va(n.onlineState),s.ya&&e.Ca(s.ya)&&wE(n)}async function _E(t,e){const n=te(t),r=e.query;let i=3;const s=n.queries.get(r);if(s){const o=s.wa.indexOf(e);o>=0&&(s.wa.splice(o,1),s.wa.length===0?i=e.ba()?0:1:!s.Sa()&&e.ba()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function VG(t,e){const n=te(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.wa)a.Ca(i)&&(r=!0);o.ya=i}}r&&wE(n)}function MG(t,e,n){const r=te(t),i=r.queries.get(e);if(i)for(const s of i.wa)s.onError(n);r.queries.delete(e)}function wE(t){t.Da.forEach(e=>{e.next()})}var Ew,rk;(rk=Ew||(Ew={})).Fa="default",rk.Cache="cache";class bE{constructor(e,n,r){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=r||{}}Ca(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Ml(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const r=n!=="Offline";return(!this.options.ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=Ml.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==Ew.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FG{constructor(e,n){this.qa=e,this.byteLength=n}Qa(){return"metadata"in this.qa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ik{constructor(e){this.serializer=e}Qs(e){return Br(this.serializer,e)}$s(e){return e.metadata.exists?N2(this.serializer,e.document,!1):Ue.newNoDocument(this.Qs(e.metadata.name),this.Us(e.metadata.readTime))}Us(e){return ht(e)}}class BG{constructor(e,n){this.$a=e,this.serializer=n,this.Ua=[],this.Ka=[],this.collectionGroups=new Set,this.progress=wN(e)}get queries(){return this.Ua}get documents(){return this.Ka}Wa(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.qa.namedQuery)this.Ua.push(e.qa.namedQuery);else if(e.qa.documentMetadata){this.Ka.push({metadata:e.qa.documentMetadata}),e.qa.documentMetadata.exists||++n;const r=we.fromString(e.qa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.qa.document&&(this.Ka[this.Ka.length-1].document=e.qa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}Ga(e){const n=new Map,r=new ik(this.serializer);for(const i of e)if(i.metadata.queries){const s=r.Qs(i.metadata.name);for(const o of i.metadata.queries){const a=(n.get(o)||ge()).add(s);n.set(o,a)}}return n}async za(e){const n=await hG(e,new ik(this.serializer),this.Ka,this.$a.id),r=this.Ga(this.documents);for(const i of this.Ua)await fG(e,i,r.get(i.name));return this.progress.taskState="Success",{progress:this.progress,ja:this.collectionGroups,Ja:n}}}function wN(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bN{constructor(e){this.key=e}}class EN{constructor(e){this.key=e}}class TN{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ge(),this.mutatedKeys=ge(),this.Xa=f2(e),this.eu=new al(this.Xa)}get tu(){return this.Ha}nu(e,n){const r=n?n.ru:new tk,i=n?n.eu:this.eu;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{const f=i.get(d),m=jd(this.query,h)?h:null,y=!!f&&this.mutatedKeys.has(f.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let b=!1;f&&m?f.data.isEqual(m.data)?y!==w&&(r.track({type:3,doc:m}),b=!0):this.iu(f,m)||(r.track({type:2,doc:m}),b=!0,(l&&this.Xa(m,l)>0||c&&this.Xa(m,c)<0)&&(a=!0)):!f&&m?(r.track({type:0,doc:m}),b=!0):f&&!m&&(r.track({type:1,doc:f}),b=!0,(l||c)&&(a=!0)),b&&(m?(o=o.add(m),s=w?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{eu:o,ru:r,Ds:a,mutatedKeys:s}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const o=e.ru.pa();o.sort((d,h)=>function(m,y){const w=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie(20277,{At:b})}};return w(m)-w(y)}(d.type,h.type)||this.Xa(d.doc,h.doc)),this.su(r),i=i!=null&&i;const a=n&&!i?this.ou():[],l=this.Za.size===0&&this.current&&!i?1:0,c=l!==this.Ya;return this.Ya=l,o.length!==0||c?{snapshot:new Ml(this.query,e.eu,s,o,e.mutatedKeys,l===0,c,!1,!!r&&r.resumeToken.approximateByteSize()>0),_u:a}:{_u:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new tk,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ge(),this.eu.forEach(r=>{this.au(r.key)&&(this.Za=this.Za.add(r.key))});const n=[];return e.forEach(r=>{this.Za.has(r)||n.push(new EN(r))}),this.Za.forEach(r=>{e.has(r)||n.push(new bN(r))}),n}uu(e){this.Ha=e.qs,this.Za=ge();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return Ml.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const Gs="SyncEngine";class UG{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class zG{constructor(e){this.key=e,this.lu=!1}}class jG{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.hu={},this.Pu=new Pi(a=>d2(a),zd),this.Tu=new Map,this.Iu=new Set,this.du=new Me(J.comparator),this.Eu=new Map,this.Au=new oE,this.Ru={},this.Vu=new Map,this.mu=Ko.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function qG(t,e,n=!0){const r=wg(t);let i;const s=r.Pu.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.cu()):i=await IN(r,e,n,!0),i}async function HG(t,e){const n=wg(t);await IN(n,e,!0,!1)}async function IN(t,e,n,r){const i=await Ll(t.localStore,un(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await EE(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&_g(t.remoteStore,i),a}async function EE(t,e,n,r,i){t.gu=(h,f,m)=>async function(w,b,T,E){let I=b.view.nu(T);I.Ds&&(I=await cm(w.localStore,b.query,!1).then(({documents:x})=>b.view.nu(x,I)));const R=E&&E.targetChanges.get(b.targetId),D=E&&E.targetMismatches.get(b.targetId)!=null,$=b.view.applyChanges(I,w.isPrimaryClient,R,D);return Tw(w,b.targetId,$._u),$.snapshot}(t,h,f,m);const s=await cm(t.localStore,e,!0),o=new TN(e,s.qs),a=o.nu(s.documents),l=Wd.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),c=o.applyChanges(a,t.isPrimaryClient,l);Tw(t,n,c._u);const d=new UG(e,n,o);return t.Pu.set(e,d),t.Tu.has(n)?t.Tu.get(n).push(e):t.Tu.set(n,[e]),c.snapshot}async function WG(t,e,n){const r=te(t),i=r.Pu.get(e),s=r.Tu.get(i.targetId);if(s.length>1)return r.Tu.set(i.targetId,s.filter(o=>!zd(o,e))),void r.Pu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await $l(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Vl(r.remoteStore,i.targetId),Fl(r,i.targetId)}).catch(js)):(Fl(r,i.targetId),await $l(r.localStore,i.targetId,!0))}async function GG(t,e){const n=te(t),r=n.Pu.get(e),i=n.Tu.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Vl(n.remoteStore,r.targetId))}async function KG(t,e,n){const r=xE(t);try{const i=await function(o,a){const l=te(o),c=Re.now(),d=a.reduce((m,y)=>m.add(y.key),ge());let h,f;return l.persistence.runTransaction("Locally write mutations","readwrite",m=>{let y=Tn(),w=ge();return l.Os.getEntries(m,d).next(b=>{y=b,y.forEach((T,E)=>{E.isValidDocument()||(w=w.add(T))})}).next(()=>l.localDocuments.getOverlayedDocuments(m,y)).next(b=>{h=b;const T=[];for(const E of a){const I=gW(E,h.get(E.key).overlayedDocument);I!=null&&T.push(new Oi(E.key,I,n2(I.value.mapValue),Ke.exists(!0)))}return l.mutationQueue.addMutationBatch(m,c,T,a)}).next(b=>{f=b;const T=b.applyToLocalDocumentSet(h,w);return l.documentOverlayCache.saveOverlays(m,b.batchId,T)})}).then(()=>({batchId:f.batchId,changes:m2(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let c=o.Ru[o.currentUser.toKey()];c||(c=new Me(he)),c=c.insert(a,l),o.Ru[o.currentUser.toKey()]=c}(r,i.batchId,n),await Di(r,i.changes),await sc(r.remoteStore)}catch(i){const s=ac(i,"Failed to persist write");n.reject(s)}}async function SN(t,e){const n=te(t);try{const r=await uG(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Eu.get(s);o&&(le(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?o.lu=!0:i.modifiedDocuments.size>0?le(o.lu,14607):i.removedDocuments.size>0&&(le(o.lu,42227),o.lu=!1))}),await Di(n,r,e)}catch(r){await js(r)}}function sk(t,e,n){const r=te(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Pu.forEach((s,o)=>{const a=o.view.va(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=te(o);l.onlineState=a;let c=!1;l.queries.forEach((d,h)=>{for(const f of h.wa)f.va(a)&&(c=!0)}),c&&wE(l)}(r.eventManager,e),i.length&&r.hu.J_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function QG(t,e,n){const r=te(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Eu.get(e),s=i&&i.key;if(s){let o=new Me(J.comparator);o=o.insert(s,Ue.newNoDocument(s,ce.min()));const a=ge().add(s),l=new Hd(ce.min(),new Map,new Me(he),o,a);await SN(r,l),r.du=r.du.remove(s),r.Eu.delete(e),SE(r)}else await $l(r.localStore,e,!1).then(()=>Fl(r,e,n)).catch(js)}async function XG(t,e){const n=te(t),r=e.batch.batchId;try{const i=await cG(n.localStore,e);IE(n,r,null),TE(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Di(n,i)}catch(i){await js(i)}}async function YG(t,e,n){const r=te(t);try{const i=await function(o,a){const l=te(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",c=>{let d;return l.mutationQueue.lookupMutationBatch(c,a).next(h=>(le(h!==null,37113),d=h.keys(),l.mutationQueue.removeMutationBatch(c,h))).next(()=>l.mutationQueue.performConsistencyCheck(c)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(c,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(c,d)).next(()=>l.localDocuments.getDocuments(c,d))})}(r.localStore,e);IE(r,e,n),TE(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Di(r,i)}catch(i){await js(i)}}async function JG(t,e){const n=te(t);Ws(n.remoteStore)||X(Gs,"The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(o){const a=te(o);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===Es)return void e.resolve();const i=n.Vu.get(r)||[];i.push(e),n.Vu.set(r,i)}catch(r){const i=ac(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function TE(t,e){(t.Vu.get(e)||[]).forEach(n=>{n.resolve()}),t.Vu.delete(e)}function IE(t,e,n){const r=te(t);let i=r.Ru[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ru[r.currentUser.toKey()]=i}}function Fl(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Tu.get(e))t.Pu.delete(r),n&&t.hu.pu(r,n);t.Tu.delete(e),t.isPrimaryClient&&t.Au.zr(e).forEach(r=>{t.Au.containsKey(r)||xN(t,r)})}function xN(t,e){t.Iu.delete(e.path.canonicalString());const n=t.du.get(e);n!==null&&(Vl(t.remoteStore,n),t.du=t.du.remove(e),t.Eu.delete(n),SE(t))}function Tw(t,e,n){for(const r of n)r instanceof bN?(t.Au.addReference(r.key,e),ZG(t,r)):r instanceof EN?(X(Gs,"Document no longer in limbo: "+r.key),t.Au.removeReference(r.key,e),t.Au.containsKey(r.key)||xN(t,r.key)):ie(19791,{yu:r})}function ZG(t,e){const n=e.key,r=n.path.canonicalString();t.du.get(n)||t.Iu.has(r)||(X(Gs,"New document in limbo: "+n),t.Iu.add(r),SE(t))}function SE(t){for(;t.Iu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Iu.values().next().value;t.Iu.delete(e);const n=new J(we.fromString(e)),r=t.mu.next();t.Eu.set(r,new zG(n)),t.du=t.du.insert(n,r),_g(t.remoteStore,new di(un(tc(n.path)),r,"TargetPurposeLimboResolution",bn.ue))}}async function Di(t,e,n){const r=te(t),i=[],s=[],o=[];r.Pu.isEmpty()||(r.Pu.forEach((a,l)=>{o.push(r.gu(l,e,n).then(c=>{var d;if((c||n)&&r.isPrimaryClient){const h=c?!c.fromCache:(d=n==null?void 0:n.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(c){i.push(c);const h=uE.Es(l.targetId,c);s.push(h)}}))}),await Promise.all(o),r.hu.J_(i),await async function(l,c){const d=te(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>L.forEach(c,f=>L.forEach(f.Is,m=>d.persistence.referenceDelegate.addReference(h,f.targetId,m)).next(()=>L.forEach(f.ds,m=>d.persistence.referenceDelegate.removeReference(h,f.targetId,m)))))}catch(h){if(!qs(h))throw h;X(dE,"Failed to update sequence numbers: "+h)}for(const h of c){const f=h.targetId;if(!h.fromCache){const m=d.Fs.get(f),y=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(y);d.Fs=d.Fs.insert(f,w)}}}(r.localStore,s))}async function eK(t,e){const n=te(t);if(!n.currentUser.isEqual(e)){X(Gs,"User change. New user:",e.toKey());const r=await rN(n.localStore,e);n.currentUser=e,function(s,o){s.Vu.forEach(a=>{a.forEach(l=>{l.reject(new K(F.CANCELLED,o))})}),s.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Di(n,r.Bs)}}function tK(t,e){const n=te(t),r=n.Eu.get(e);if(r&&r.lu)return ge().add(r.key);{let i=ge();const s=n.Tu.get(e);if(!s)return i;for(const o of s){const a=n.Pu.get(o);i=i.unionWith(a.view.tu)}return i}}async function nK(t,e){const n=te(t),r=await cm(n.localStore,e.query,!0),i=e.view.uu(r);return n.isPrimaryClient&&Tw(n,e.targetId,i._u),i}async function rK(t,e){const n=te(t);return aN(n.localStore,e).then(r=>Di(n,r))}async function iK(t,e,n,r){const i=te(t),s=await function(a,l){const c=te(a),d=te(c.mutationQueue);return c.persistence.runTransaction("Lookup mutation documents","readonly",h=>d.Xn(h,l).next(f=>f?c.localDocuments.getDocuments(h,f):L.resolve(null)))}(i.localStore,e);s!==null?(n==="pending"?await sc(i.remoteStore):n==="acknowledged"||n==="rejected"?(IE(i,e,r||null),TE(i,e),function(a,l){te(te(a).mutationQueue).rr(l)}(i.localStore,e)):ie(6720,"Unknown batchState",{wu:n}),await Di(i,s)):X(Gs,"Cannot apply mutation batch with id: "+e)}async function sK(t,e){const n=te(t);if(wg(n),xE(n),e===!0&&n.fu!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await ok(n,r.toArray());n.fu=!0,await bw(n.remoteStore,!0);for(const s of i)_g(n.remoteStore,s)}else if(e===!1&&n.fu!==!1){const r=[];let i=Promise.resolve();n.Tu.forEach((s,o)=>{n.sharedClientState.isLocalQueryTarget(o)?r.push(o):i=i.then(()=>(Fl(n,o),$l(n.localStore,o,!0))),Vl(n.remoteStore,o)}),await i,await ok(n,r),function(o){const a=te(o);a.Eu.forEach((l,c)=>{Vl(a.remoteStore,c)}),a.Au.jr(),a.Eu=new Map,a.du=new Me(J.comparator)}(n),n.fu=!1,await bw(n.remoteStore,!1)}}async function ok(t,e,n){const r=te(t),i=[],s=[];for(const o of e){let a;const l=r.Tu.get(o);if(l&&l.length!==0){a=await Ll(r.localStore,un(l[0]));for(const c of l){const d=r.Pu.get(c),h=await nK(r,d);h.snapshot&&s.push(h.snapshot)}}else{const c=await oN(r.localStore,o);a=await Ll(r.localStore,c),await EE(r,kN(c),o,!1,a.resumeToken)}i.push(a)}return r.hu.J_(s),i}function kN(t){return u2(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function oK(t){return function(n){return te(te(n).persistence).Ps()}(te(t).localStore)}async function aK(t,e,n,r){const i=te(t);if(i.fu)return void X(Gs,"Ignoring unexpected query state notification.");const s=i.Tu.get(e);if(s&&s.length>0)switch(n){case"current":case"not-current":{const o=await aN(i.localStore,h2(s[0])),a=Hd.createSynthesizedRemoteEventForCurrentChange(e,n==="current",ot.EMPTY_BYTE_STRING);await Di(i,o,a);break}case"rejected":await $l(i.localStore,e,!0),Fl(i,e,r);break;default:ie(64155,n)}}async function lK(t,e,n){const r=wg(t);if(r.fu){for(const i of e){if(r.Tu.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){X(Gs,"Adding an already active target "+i);continue}const s=await oN(r.localStore,i),o=await Ll(r.localStore,s);await EE(r,kN(s),o.targetId,!1,o.resumeToken),_g(r.remoteStore,o)}for(const i of n)r.Tu.has(i)&&await $l(r.localStore,i,!1).then(()=>{Vl(r.remoteStore,i),Fl(r,i)}).catch(js)}}function wg(t){const e=te(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=SN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tK.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QG.bind(null,e),e.hu.J_=VG.bind(null,e.eventManager),e.hu.pu=MG.bind(null,e.eventManager),e}function xE(t){const e=te(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=XG.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=YG.bind(null,e),e}function cK(t,e,n){const r=te(t);(async function(s,o,a){try{const l=await o.getMetadata();if(await function(m,y){const w=te(m),b=ht(y.createTime);return w.persistence.runTransaction("hasNewerBundle","readonly",T=>w.Ti.getBundleMetadata(T,y.id)).then(T=>!!T&&T.createTime.compareTo(b)>=0)}(s.localStore,l))return await o.close(),a._completeWith(function(m){return{taskState:"Success",documentsLoaded:m.totalDocuments,bytesLoaded:m.totalBytes,totalDocuments:m.totalDocuments,totalBytes:m.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(wN(l));const c=new BG(l,o.serializer);let d=await o.Su();for(;d;){const f=await c.Wa(d);f&&a._updateProgress(f),d=await o.Su()}const h=await c.za(s.localStore);return await Di(s,h.Ja,void 0),await function(m,y){const w=te(m);return w.persistence.runTransaction("Save bundle","readwrite",b=>w.Ti.saveBundleMetadata(b,y))}(s.localStore,l),a._completeWith(h.progress),Promise.resolve(h.ja)}catch(l){return Bn(Gs,`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class pd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Gd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return nN(this.persistence,new tN,e.initialUser,this.serializer)}Du(e){return new aE(vg.Vi,this.serializer)}bu(e){return new hN}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}pd.provider={build:()=>new pd};class uK extends pd{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){le(this.persistence.referenceDelegate instanceof lm,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Q2(r,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new aE(r=>lm.Vi(r,n),this.serializer)}}class AN extends pd{constructor(e,n,r){super(),this.Mu=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Mu.initialize(this,e),await xE(this.Mu.syncEngine),await sc(this.Mu.remoteStore),await this.persistence.ji(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}vu(e){return nN(this.persistence,new tN,e.initialUser,this.serializer)}Cu(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Q2(r,e.asyncQueue,n)}Fu(e,n){const r=new _7(n,this.persistence);return new v7(e.asyncQueue,r)}Du(e){const n=cE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?Kt.withCacheSize(this.cacheSizeBytes):Kt.DEFAULT;return new lE(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,fN(),Wf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}bu(e){return new hN}}class dK extends AN{constructor(e,n){super(e,n,!1),this.Mu=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Mu.syncEngine;this.sharedClientState instanceof av&&(this.sharedClientState.syncEngine={Do:iK.bind(null,n),vo:aK.bind(null,n),Co:lK.bind(null,n),Ps:oK.bind(null,n),bo:rK.bind(null,n)},await this.sharedClientState.start()),await this.persistence.ji(async r=>{await sK(this.Mu.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}bu(e){const n=fN();if(!av.C(n))throw new K(F.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=cE(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new av(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class md{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>sk(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=eK.bind(null,this.syncEngine),await bw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new $G}()}createDatastore(e){const n=Gd(e.databaseInfo.databaseId),r=function(s){return new vG(s)}(e.databaseInfo);return function(s,o,a,l){return new EG(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new IG(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>sk(this.syncEngine,n,0),function(){return J1.C()?new J1:new pG}())}createSyncEngine(e,n){return function(i,s,o,a,l,c,d){const h=new jG(i,s,o,a,l,c);return d&&(h.fu=!0),h}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const s=te(i);X(Qo,"RemoteStore shutting down."),s.Ia.add(5),await ic(s),s.Ea.shutdown(),s.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}md.provider={build:()=>new md};function ak(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):dt("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hK{constructor(e,n){this.Nu=e,this.serializer=n,this.metadata=new Ft,this.buffer=new Uint8Array,this.Bu=function(){return new TextDecoder("utf-8")}(),this.Lu().then(r=>{r&&r.Qa()?this.metadata.resolve(r.qa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.qa)}`))},r=>this.metadata.reject(r))}close(){return this.Nu.cancel()}async getMetadata(){return this.metadata.promise}async Su(){return await this.getMetadata(),this.Lu()}async Lu(){const e=await this.ku();if(e===null)return null;const n=this.Bu.decode(e),r=Number(n);isNaN(r)&&this.qu(`length string (${n}) is not valid number`);const i=await this.Qu(r);return new FG(JSON.parse(i),e.length+r)}$u(){return this.buffer.findIndex(e=>e===123)}async ku(){for(;this.$u()<0&&!await this.Uu(););if(this.buffer.length===0)return null;const e=this.$u();e<0&&this.qu("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async Qu(e){for(;this.buffer.length<e;)await this.Uu()&&this.qu("Reached the end of bundle when more is expected.");const n=this.Bu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}qu(e){throw this.Nu.cancel(),new Error(`Invalid bundle format: ${e}`)}async Uu(){const e=await this.Nu.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fK{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new K(F.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,s){const o=te(i),a={documents:s.map(h=>hd(o.serializer,h))},l=await o.Jo("BatchGetDocuments",o.serializer.databaseId,we.emptyPath(),a,s.length),c=new Map;l.forEach(h=>{const f=SW(o.serializer,h);c.set(f.key.toString(),f)});const d=[];return s.forEach(h=>{const f=c.get(h.toString());le(!!f,55234,{key:h}),d.push(f)}),d}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=J.fromPath(r);this.mutations.push(new Y0(i,this.precondition(i)))}),await async function(r,i){const s=te(r),o={writes:i.map(a=>fd(s.serializer,a))};await s.Wo("Commit",s.serializer.databaseId,we.emptyPath(),o)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw ie(50498,{Wu:e.constructor.name});n=ce.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new K(F.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(ce.min())?Ke.exists(!1):Ke.updateTime(n):Ke.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(ce.min()))throw new K(F.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ke.updateTime(n)}return Ke.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pK{constructor(e,n,r,i,s){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=s,this.Gu=r.maxAttempts,this.F_=new fE(this.asyncQueue,"transaction_retry")}zu(){this.Gu-=1,this.ju()}ju(){this.F_.g_(async()=>{const e=new fK(this.datastore),n=this.Ju(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.Hu(i)}))}).catch(r=>{this.Hu(r)})})}Ju(e){try{const n=this.updateFunction(e);return!Fd(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}Hu(e){this.Gu>0&&this.Yu(e)?(this.Gu-=1,this.asyncQueue.enqueueAndForget(()=>(this.ju(),Promise.resolve()))):this.deferred.reject(e)}Yu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!S2(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vs="FirestoreClient";class mK{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ct.UNAUTHENTICATED,this.clientId=V0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async o=>{X(Vs,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(X(Vs,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ft;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=ac(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function cv(t,e){t.asyncQueue.verifyOperationInProgress(),X(Vs,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await rN(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>{Bn("Terminating Firestore due to IndexedDb database deletion"),t.terminate().then(()=>{X("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(i=>{Bn("Terminating Firestore due to IndexedDb database deletion failed",i)})}),t._offlineComponents=e}async function lk(t,e){t.asyncQueue.verifyOperationInProgress();const n=await kE(t);X(Vs,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>ek(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>ek(e.remoteStore,i)),t._onlineComponents=e}async function kE(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){X(Vs,"Using user provided OfflineComponentProvider");try{await cv(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Bn("Error using user provided cache. Falling back to memory cache: "+n),await cv(t,new pd)}}else X(Vs,"Using default OfflineComponentProvider"),await cv(t,new uK(void 0));return t._offlineComponents}async function Eg(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(X(Vs,"Using user provided OnlineComponentProvider"),await lk(t,t._uninitializedComponentsProvider._online)):(X(Vs,"Using default OnlineComponentProvider"),await lk(t,new md))),t._onlineComponents}function CN(t){return kE(t).then(e=>e.persistence)}function AE(t){return kE(t).then(e=>e.localStore)}function RN(t){return Eg(t).then(e=>e.remoteStore)}function CE(t){return Eg(t).then(e=>e.syncEngine)}function gK(t){return Eg(t).then(e=>e.datastore)}async function Bl(t){const e=await Eg(t),n=e.eventManager;return n.onListen=qG.bind(null,e.syncEngine),n.onUnlisten=WG.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=HG.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=GG.bind(null,e.syncEngine),n}function yK(t){return t.asyncQueue.enqueue(async()=>{const e=await CN(t),n=await RN(t);return e.setNetworkEnabled(!0),function(i){const s=te(i);return s.Ia.delete(0),Kd(s)}(n)})}function vK(t){return t.asyncQueue.enqueue(async()=>{const e=await CN(t),n=await RN(t);return e.setNetworkEnabled(!1),async function(i){const s=te(i);s.Ia.add(0),await ic(s),s.Aa.set("Offline")}(n)})}function _K(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await function(c,d){const h=te(c);return h.persistence.runTransaction("read document","readonly",f=>h.localDocuments.getDocument(f,d))}(i,s);a.isFoundDocument()?o.resolve(a):a.isNoDocument()?o.resolve(null):o.reject(new K(F.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=ac(a,`Failed to get document '${s} from cache`);o.reject(l)}}(await AE(t),e,n)),n.promise}function PN(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new bg({next:f=>{d.Ou(),o.enqueueAndForget(()=>_E(s,h));const m=f.docs.has(a);!m&&f.fromCache?c.reject(new K(F.UNAVAILABLE,"Failed to get document because the client is offline.")):m&&f.fromCache&&l&&l.source==="server"?c.reject(new K(F.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new bE(tc(a.path),d,{includeMetadataChanges:!0,ka:!0});return vE(s,h)}(await Bl(t),t.asyncQueue,e,n,r)),r.promise}function wK(t,e){const n=new Ft;return t.asyncQueue.enqueueAndForget(async()=>async function(i,s,o){try{const a=await cm(i,s,!0),l=new TN(s,a.qs),c=l.nu(a.documents),d=l.applyChanges(c,!1);o.resolve(d.snapshot)}catch(a){const l=ac(a,`Failed to execute query '${s} against cache`);o.reject(l)}}(await AE(t),e,n)),n.promise}function ON(t,e,n={}){const r=new Ft;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,c){const d=new bg({next:f=>{d.Ou(),o.enqueueAndForget(()=>_E(s,h)),f.fromCache&&l.source==="server"?c.reject(new K(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):c.resolve(f)},error:f=>c.reject(f)}),h=new bE(a,d,{includeMetadataChanges:!0,ka:!0});return vE(s,h)}(await Bl(t),t.asyncQueue,e,n,r)),r.promise}function bK(t,e){const n=new bg(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,s){te(i).Da.add(s),s.next()}(await Bl(t),n)),()=>{n.Ou(),t.asyncQueue.enqueueAndForget(async()=>function(i,s){te(i).Da.delete(s)}(await Bl(t),n))}}function EK(t,e,n,r){const i=function(o,a){let l;return l=typeof o=="string"?$0().encode(o):o,function(d,h){return new hK(d,h)}(function(d,h){if(d instanceof Uint8Array)return ak(d,h);if(d instanceof ArrayBuffer)return ak(new Uint8Array(d),h);if(d instanceof ReadableStream)return d.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,Gd(e));t.asyncQueue.enqueueAndForget(async()=>{cK(await CE(t),i,r)})}function TK(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const s=te(r);return s.persistence.runTransaction("Get named query","readonly",o=>s.Ti.getNamedQuery(o,i))}(await AE(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ck=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN="firestore.googleapis.com",uk=!0;class dk{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=NN,this.ssl=uk}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:uk;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=H2;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<qW)throw new K(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}AD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=DN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Qd{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dk({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dk(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new a7;switch(r.type){case"firstParty":return new d7(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ck.get(n);r&&(X("ComponentProvider","Removing Datastore"),ck.delete(n),r.terminate())}(this),Promise.resolve()}}function LN(t,e,n,r={}){var i;t=Ce(t,Qd);const s=zs(e),o=t._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:t._getEmulatorOptions()}),l=`${e}:${n}`;s&&(w0(`https://${l}`),b0("Firestore",!0)),o.host!==NN&&o.host!==l&&Bn("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!wi(c,a)&&(t._setSettings(c),r.mockUserToken)){let d,h;if(typeof r.mockUserToken=="string")d=r.mockUserToken,h=Ct.MOCK_USER;else{d=EO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new K(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new Ct(f)}t._authCredentials=new l7(new xD(d,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hn=class $N{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $N(this.firestore,e,this._query)}},Ve=class nu{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new nu(this.firestore,e,this._key)}toJSON(){return{type:nu._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Md(n,nu._jsonSchema))return new nu(e,r||null,new J(we.fromString(n.referencePath)))}};Ve._jsonSchemaVersion="firestore/documentReference/1.0",Ve._jsonSchema={type:yt("string",Ve._jsonSchemaVersion),referencePath:yt("string")};let Ts=class VN extends hn{constructor(e,n,r){super(e,n,tc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ve(this.firestore,null,new J(e))}withConverter(e){return new VN(this.firestore,e,this._path)}};function MN(t,e,...n){if(t=Te(t),M0("collection","path",e),t instanceof Qd){const r=we.fromString(e,...n);return Zx(r),new Ts(t,null,r)}{if(!(t instanceof Ve||t instanceof Ts))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return Zx(r),new Ts(t.firestore,null,r)}}function IK(t,e){if(t=Ce(t,Qd),M0("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new K(F.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new hn(t,null,function(r){return new Ri(we.emptyPath(),r)}(e))}function fm(t,e,...n){if(t=Te(t),arguments.length===1&&(e=V0.newId()),M0("doc","path",e),t instanceof Qd){const r=we.fromString(e,...n);return Jx(r),new Ve(t,null,new J(r))}{if(!(t instanceof Ve||t instanceof Ts))throw new K(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(we.fromString(e,...n));return Jx(r),new Ve(t.firestore,t instanceof Ts?t.converter:null,new J(r))}}function FN(t,e){return t=Te(t),e=Te(e),(t instanceof Ve||t instanceof Ts)&&(e instanceof Ve||e instanceof Ts)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function BN(t,e){return t=Te(t),e=Te(e),t instanceof hn&&e instanceof hn&&t.firestore===e.firestore&&zd(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hk="AsyncQueue";class fk{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new fE(this,"async_queue_retry"),this.oc=()=>{const r=Wf();r&&X(hk,"Visibility state changed to "+r.visibilityState),this.F_.y_()},this._c=e;const n=Wf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=Wf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new Ft;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!qs(e))throw e;X(hk,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(r=>{throw this.tc=r,this.nc=!1,dt("INTERNAL UNHANDLED ERROR: ",pk(r)),r}).then(r=>(this.nc=!1,r))));return this._c=n,n}enqueueAfterDelay(e,n,r){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const i=yE.createAndSchedule(this,e,n,r,s=>this.lc(s));return this.ec.push(i),i}ac(){this.tc&&ie(47125,{hc:pk(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function pk(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iw(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}class SK{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ft,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xK=-1;let ft=class extends Qd{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new fk,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new fk(e),this._firestoreClient=void 0,await e}}};function kK(t,e){const n=typeof t=="object"?t:rg(),r=typeof t=="string"?t:tm,i=Jl(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=_O("firestore");s&&LN(i,...s)}return i}function nn(t){if(t._terminated)throw new K(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||UN(t),t._firestoreClient}function UN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,c,d){return new K7(a,l,c,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,DN(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new mK(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function AK(t,e){Bn("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return zN(t,md.provider,{build:r=>new AN(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function CK(t){Bn("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();zN(t,md.provider,{build:n=>new dK(n,e.cacheSizeBytes)})}function zN(t,e,n){if((t=Ce(t,ft))._firestoreClient||t._terminated)throw new K(F.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new K(F.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},UN(t)}function RK(t){if(t._initialized&&!t._terminated)throw new K(F.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ft;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Fr.C())return Promise.resolve();const i=r+eN;await Fr.delete(i)}(cE(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function PK(t){return function(n){const r=new Ft;return n.asyncQueue.enqueueAndForget(async()=>JG(await CE(n),r)),r.promise}(nn(t=Ce(t,ft)))}function OK(t){return yK(nn(t=Ce(t,ft)))}function DK(t){return vK(nn(t=Ce(t,ft)))}function NK(t,e){const n=nn(t=Ce(t,ft)),r=new SK;return EK(n,t._databaseId,e,r),r}function LK(t,e){return TK(nn(t=Ce(t,ft)),e).then(n=>n?new hn(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Yt(ot.fromBase64String(e))}catch(n){throw new K(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Yt(ot.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Yt._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Md(e,Yt._jsonSchema))return Yt.fromBase64String(e.bytes)}}Yt._jsonSchemaVersion="firestore/bytes/1.0",Yt._jsonSchema={type:yt("string",Yt._jsonSchemaVersion),bytes:yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ms=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ge(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let na=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return he(this._lat,e._lat)||he(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:yr._jsonSchemaVersion}}static fromJSON(e){if(Md(e,yr._jsonSchema))return new yr(e.latitude,e.longitude)}}yr._jsonSchemaVersion="firestore/geoPoint/1.0",yr._jsonSchema={type:yt("string",yr._jsonSchemaVersion),latitude:yt("number"),longitude:yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ur{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:Ur._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Md(e,Ur._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new Ur(e.vectorValues);throw new K(F.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ur._jsonSchemaVersion="firestore/vectorValue/1.0",Ur._jsonSchema={type:yt("string",Ur._jsonSchemaVersion),vectorValues:yt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $K=/^__.*__$/;class VK{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new nc(e,this.data,n,this.fieldTransforms)}}class jN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function qN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie(40011,{Ec:t})}}class Tg{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Ac(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.fc(e),i}gc(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Rc({path:r,mc:!1});return i.Ac(),i}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return pm(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(qN(this.Ec)&&$K.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class MK{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Gd(e)}Dc(e,n,r,i=!1){return new Tg({Ec:e,methodName:n,bc:r,path:Ge.emptyPath(),mc:!1,Sc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ra(t){const e=t._freezeSettings(),n=Gd(t._databaseId);return new MK(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ig(t,e,n,r,i,s={}){const o=t.Dc(s.merge||s.mergeFields?2:0,e,n,i);$E("Data must be an object, but it was:",o,r);const a=GN(r,o);let l,c;if(s.merge)l=new En(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const h of s.mergeFields){const f=Sw(e,h,n);if(!o.contains(f))throw new K(F.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);QN(d,f)||d.push(f)}l=new En(d),c=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,c=o.fieldTransforms;return new VK(new Vt(a),l,c)}class Xd extends na{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Xd}}function HN(t,e,n){return new Tg({Ec:3,bc:e.settings.bc,methodName:t._methodName,mc:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class RE extends na{_toFieldTransform(e){return new qd(e.path,new Ol)}isEqual(e){return e instanceof RE}}class PE extends na{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HN(this,e,!0),r=this.vc.map(s=>ia(s,n)),i=new qo(r);return new qd(e.path,i)}isEqual(e){return e instanceof PE&&wi(this.vc,e.vc)}}class OE extends na{constructor(e,n){super(e),this.vc=n}_toFieldTransform(e){const n=HN(this,e,!0),r=this.vc.map(s=>ia(s,n)),i=new Ho(r);return new qd(e.path,i)}isEqual(e){return e instanceof OE&&wi(this.vc,e.vc)}}class DE extends na{constructor(e,n){super(e),this.Cc=n}_toFieldTransform(e){const n=new Dl(e.serializer,v2(e.serializer,this.Cc));return new qd(e.path,n)}isEqual(e){return e instanceof DE&&this.Cc===e.Cc}}function NE(t,e,n,r){const i=t.Dc(1,e,n);$E("Data must be an object, but it was:",i,r);const s=[],o=Vt.empty();Hs(r,(l,c)=>{const d=VE(e,l,n);c=Te(c);const h=i.gc(d);if(c instanceof Xd)s.push(d);else{const f=ia(c,h);f!=null&&(s.push(d),o.set(d,f))}});const a=new En(s);return new jN(o,a,i.fieldTransforms)}function LE(t,e,n,r,i,s){const o=t.Dc(1,e,n),a=[Sw(e,r,n)],l=[i];if(s.length%2!=0)throw new K(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(Sw(e,s[f])),l.push(s[f+1]);const c=[],d=Vt.empty();for(let f=a.length-1;f>=0;--f)if(!QN(c,a[f])){const m=a[f];let y=l[f];y=Te(y);const w=o.gc(m);if(y instanceof Xd)c.push(m);else{const b=ia(y,w);b!=null&&(c.push(m),d.set(m,b))}}const h=new En(c);return new jN(d,h,o.fieldTransforms)}function WN(t,e,n,r=!1){return ia(n,t.Dc(r?4:3,e))}function ia(t,e){if(KN(t=Te(t)))return $E("Unsupported field value:",e,t),GN(t,e);if(t instanceof na)return function(r,i){if(!qN(i.Ec))throw i.wc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.wc(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=ia(a,i.yc(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Te(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return v2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=Re.fromDate(r);return{timestampValue:Nl(i.serializer,s)}}if(r instanceof Re){const s=new Re(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Nl(i.serializer,s)}}if(r instanceof yr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Yt)return{bytesValue:C2(i.serializer,r._byteString)};if(r instanceof Ve){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.wc(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:nE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ur)return function(o,a){return{mapValue:{fields:{[H0]:{stringValue:W0},[Cl]:{arrayValue:{values:o.toArray().map(c=>{if(typeof c!="number")throw a.wc("VectorValues must only contain numeric values.");return X0(a.serializer,c)})}}}}}}(r,i);throw i.wc(`Unsupported field value: ${og(r)}`)}(t,e)}function GN(t,e){const n={};return GD(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Hs(t,(r,i)=>{const s=ia(i,e.Vc(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function KN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Re||t instanceof yr||t instanceof Yt||t instanceof Ve||t instanceof na||t instanceof Ur)}function $E(t,e,n){if(!KN(n)||!CD(n)){const r=og(n);throw r==="an object"?e.wc(t+" a custom object"):e.wc(t+" "+r)}}function Sw(t,e,n){if((e=Te(e))instanceof Ms)return e._internalPath;if(typeof e=="string")return VE(t,e);throw pm("Field path arguments must be of type string or ",t,!1,void 0,n)}const FK=new RegExp("[~\\*/\\[\\]]");function VE(t,e,n){if(e.search(FK)>=0)throw pm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ms(...e.split("."))._internalPath}catch{throw pm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pm(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(F.INVALID_ARGUMENT,a+t+l)}function QN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gd{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ve(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new BK(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class BK extends gd{data(){return super.data()}}function Sg(t,e){return typeof e=="string"?VE(t,e):e instanceof Ms?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new K(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ME{}class Yd extends ME{}function Xi(t,e,...n){let r=[];e instanceof ME&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof FE).length,a=s.filter(l=>l instanceof xg).length;if(o>1||o>0&&a>0)throw new K(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class xg extends Yd{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new xg(e,n,r)}_apply(e){const n=this._parse(e);return JN(e._query,n),new hn(e.firestore,e.converter,dw(e._query,n))}_parse(e){const n=ra(e.firestore);return function(s,o,a,l,c,d,h){let f;if(c.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new K(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){gk(h,d);const y=[];for(const w of h)y.push(mk(l,s,w));f={arrayValue:{values:y}}}else f=mk(l,s,h)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||gk(h,d),f=WN(a,o,h,d==="in"||d==="not-in");return Ee.create(c,d,f)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function UK(t,e,n){const r=e,i=Sg("where",t);return xg._create(i,r,n)}class FE extends ME{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new FE(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Pe.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)JN(o,l),o=dw(o,l)}(e._query,n),new hn(e.firestore,e.converter,dw(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class BE extends Yd{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new BE(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new K(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new K(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new dd(s,o)}(e._query,this._field,this._direction);return new hn(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new Ri(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function zK(t,e="asc"){const n=e,r=Sg("orderBy",t);return BE._create(r,n)}class kg extends Yd{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new kg(e,n,r)}_apply(e){return new hn(e.firestore,e.converter,im(e._query,this._limit,this._limitType))}}function jK(t){return RD("limit",t),kg._create("limit",t,"F")}function qK(t){return RD("limitToLast",t),kg._create("limitToLast",t,"L")}class Ag extends Yd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Ag(e,n,r)}_apply(e){const n=YN(e,this.type,this._docOrFields,this._inclusive);return new hn(e.firestore,e.converter,function(i,s){return new Ri(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function HK(...t){return Ag._create("startAt",t,!0)}function WK(...t){return Ag._create("startAfter",t,!1)}class Cg extends Yd{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new Cg(e,n,r)}_apply(e){const n=YN(e,this.type,this._docOrFields,this._inclusive);return new hn(e.firestore,e.converter,function(i,s){return new Ri(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,s)}(e._query,n))}}function GK(...t){return Cg._create("endBefore",t,!1)}function KK(...t){return Cg._create("endAt",t,!0)}function YN(t,e,n,r){if(n[0]=Te(n[0]),n[0]instanceof gd)return function(s,o,a,l,c){if(!l)throw new K(F.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const d=[];for(const h of ol(s))if(h.field.isKeyField())d.push(zo(o,l.key));else{const f=l.data.field(h.field);if(dg(f))throw new K(F.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(f===null){const m=h.field.canonicalString();throw new K(F.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${m}' (used as the orderBy) does not exist.`)}d.push(f)}return new Ls(d,c)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=ra(t.firestore);return function(o,a,l,c,d,h){const f=o.explicitOrderBy;if(d.length>f.length)throw new K(F.INVALID_ARGUMENT,`Too many arguments provided to ${c}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const m=[];for(let y=0;y<d.length;y++){const w=d[y];if(f[y].field.isKeyField()){if(typeof w!="string")throw new K(F.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${c}(), but got a ${typeof w}`);if(!K0(o)&&w.indexOf("/")!==-1)throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${c}() must be a plain document ID, but '${w}' contains a slash.`);const b=o.path.child(we.fromString(w));if(!J.isDocumentKey(b))throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${c}() must result in a valid document path, but '${b}' is not because it contains an odd number of segments.`);const T=new J(b);m.push(zo(a,T))}else{const b=WN(l,c,w);m.push(b)}}return new Ls(m,h)}(t._query,t.firestore._databaseId,i,e,n,r)}}function mk(t,e,n){if(typeof(n=Te(n))=="string"){if(n==="")throw new K(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!K0(e)&&n.indexOf("/")!==-1)throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(we.fromString(n));if(!J.isDocumentKey(r))throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return zo(t,new J(r))}if(n instanceof Ve)return zo(t,n._key);throw new K(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${og(n)}.`)}function gk(t,e){if(!Array.isArray(t)||t.length===0)throw new K(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new K(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class UE{convertValue(e,n="none"){switch(Ds(e)){case 0:return null;case 1:return e.booleanValue;case 2:return qe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(xi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ie(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Hs(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;const s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Cl].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>qe(o.doubleValue));return new Ur(s)}convertGeoPoint(e){return new yr(qe(e.latitude),qe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=hg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ld(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Re(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=we.fromString(e);le(B2(r),9688,{name:e});const i=new Os(r.get(1),r.get(3)),s=new J(r.popFirst(5));return i.isEqual(n)||dt(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rg(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class QK extends UE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}class wo{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Zn=class ZN extends gd{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Tu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new K(F.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=ZN._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}};Zn._jsonSchemaVersion="firestore/documentSnapshot/1.0",Zn._jsonSchema={type:yt("string",Zn._jsonSchemaVersion),bundleSource:yt("string","DocumentSnapshot"),bundleName:yt("string"),bundle:yt("string")};let Tu=class extends Zn{data(e={}){return super.data(e)}},vr=class eL{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new wo(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Tu(this._firestore,this._userDataWriter,r.key,r,new wo(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new K(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Tu(i._firestore,i._userDataWriter,a.doc.key,a.doc,new wo(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,d=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:XK(a.type),doc:l,oldIndex:c,newIndex:d}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new K(F.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=eL._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=V0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}};function XK(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie(61501,{type:t})}}function tL(t,e){return t instanceof Zn&&e instanceof Zn?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof vr&&e instanceof vr&&t._firestore===e._firestore&&BN(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YK(t){t=Ce(t,Ve);const e=Ce(t.firestore,ft);return PN(nn(e),t._key).then(n=>zE(e,t,n))}vr._jsonSchemaVersion="firestore/querySnapshot/1.0",vr._jsonSchema={type:yt("string",vr._jsonSchemaVersion),bundleSource:yt("string","QuerySnapshot"),bundleName:yt("string"),bundle:yt("string")};class sa extends UE{constructor(e){super(),this.firestore=e}convertBytes(e){return new Yt(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ve(this.firestore,null,n)}}function JK(t){t=Ce(t,Ve);const e=Ce(t.firestore,ft),n=nn(e),r=new sa(e);return _K(n,t._key).then(i=>new Zn(e,r,t._key,i,new wo(i!==null&&i.hasLocalMutations,!0),t.converter))}function ZK(t){t=Ce(t,Ve);const e=Ce(t.firestore,ft);return PN(nn(e),t._key,{source:"server"}).then(n=>zE(e,t,n))}function eQ(t){t=Ce(t,hn);const e=Ce(t.firestore,ft),n=nn(e),r=new sa(e);return XN(t._query),ON(n,t._query).then(i=>new vr(e,r,t,i))}function tQ(t){t=Ce(t,hn);const e=Ce(t.firestore,ft),n=nn(e),r=new sa(e);return wK(n,t._query).then(i=>new vr(e,r,t,i))}function nQ(t){t=Ce(t,hn);const e=Ce(t.firestore,ft),n=nn(e),r=new sa(e);return ON(n,t._query,{source:"server"}).then(i=>new vr(e,r,t,i))}function yk(t,e,n){t=Ce(t,Ve);const r=Ce(t.firestore,ft),i=Rg(t.converter,e,n);return Jd(r,[Ig(ra(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Ke.none())])}function vk(t,e,n,...r){t=Ce(t,Ve);const i=Ce(t.firestore,ft),s=ra(i);let o;return o=typeof(e=Te(e))=="string"||e instanceof Ms?LE(s,"updateDoc",t._key,e,n,r):NE(s,"updateDoc",t._key,e),Jd(i,[o.toMutation(t._key,Ke.exists(!0))])}function rQ(t){return Jd(Ce(t.firestore,ft),[new rc(t._key,Ke.none())])}function iQ(t,e){const n=Ce(t.firestore,ft),r=fm(t),i=Rg(t.converter,e);return Jd(n,[Ig(ra(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Ke.exists(!1))]).then(()=>r)}function nL(t,...e){var n,r,i;t=Te(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||Iw(e[o])||(s=e[o++]);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(Iw(e[o])){const h=e[o];e[o]=(n=h.next)===null||n===void 0?void 0:n.bind(h),e[o+1]=(r=h.error)===null||r===void 0?void 0:r.bind(h),e[o+2]=(i=h.complete)===null||i===void 0?void 0:i.bind(h)}let l,c,d;if(t instanceof Ve)c=Ce(t.firestore,ft),d=tc(t._key.path),l={next:h=>{e[o]&&e[o](zE(c,t,h))},error:e[o+1],complete:e[o+2]};else{const h=Ce(t,hn);c=Ce(h.firestore,ft),d=h._query;const f=new sa(c);l={next:m=>{e[o]&&e[o](new vr(c,f,h,m))},error:e[o+1],complete:e[o+2]},XN(t._query)}return function(f,m,y,w){const b=new bg(w),T=new bE(m,b,y);return f.asyncQueue.enqueueAndForget(async()=>vE(await Bl(f),T)),()=>{b.Ou(),f.asyncQueue.enqueueAndForget(async()=>_E(await Bl(f),T))}}(nn(c),d,a,l)}function sQ(t,e){return bK(nn(t=Ce(t,ft)),Iw(e)?e:{next:e})}function Jd(t,e){return function(r,i){const s=new Ft;return r.asyncQueue.enqueueAndForget(async()=>KG(await CE(r),i,s)),s.promise}(nn(t),e)}function zE(t,e,n){const r=n.docs.get(e._key),i=new sa(t);return new Zn(t,i,e._key,r,new wo(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oQ={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let aQ=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=ra(e)}set(e,n,r){this._verifyNotCommitted();const i=us(e,this._firestore),s=Rg(i.converter,n,r),o=Ig(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,r);return this._mutations.push(o.toMutation(i._key,Ke.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const s=us(e,this._firestore);let o;return o=typeof(n=Te(n))=="string"||n instanceof Ms?LE(this._dataReader,"WriteBatch.update",s._key,n,r,i):NE(this._dataReader,"WriteBatch.update",s._key,n),this._mutations.push(o.toMutation(s._key,Ke.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=us(e,this._firestore);return this._mutations=this._mutations.concat(new rc(n._key,Ke.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new K(F.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function us(t,e){if((t=Te(t)).firestore!==e)throw new K(F.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lQ{constructor(e,n){this._firestore=e,this._transaction=n,this._dataReader=ra(e)}get(e){const n=us(e,this._firestore),r=new QK(this._firestore);return this._transaction.lookup([n._key]).then(i=>{if(!i||i.length!==1)return ie(24041);const s=i[0];if(s.isFoundDocument())return new gd(this._firestore,r,s.key,s,n.converter);if(s.isNoDocument())return new gd(this._firestore,r,n._key,null,n.converter);throw ie(18433,{doc:s})})}set(e,n,r){const i=us(e,this._firestore),s=Rg(i.converter,n,r),o=Ig(this._dataReader,"Transaction.set",i._key,s,i.converter!==null,r);return this._transaction.set(i._key,o),this}update(e,n,r,...i){const s=us(e,this._firestore);let o;return o=typeof(n=Te(n))=="string"||n instanceof Ms?LE(this._dataReader,"Transaction.update",s._key,n,r,i):NE(this._dataReader,"Transaction.update",s._key,n),this._transaction.update(s._key,o),this}delete(e){const n=us(e,this._firestore);return this._transaction.delete(n._key),this}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cQ=class extends lQ{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=us(e,this._firestore),r=new sa(this._firestore);return super.get(e).then(i=>new Zn(this._firestore,r,n._key,i._document,new wo(!1,!1),n.converter))}};function uQ(t,e,n){t=Ce(t,ft);const r=Object.assign(Object.assign({},oQ),n);return function(s){if(s.maxAttempts<1)throw new K(F.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(s,o,a){const l=new Ft;return s.asyncQueue.enqueueAndForget(async()=>{const c=await gK(s);new pK(s.asyncQueue,c,a,o,l).zu()}),l.promise}(nn(t),i=>e(new cQ(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dQ(){return new Xd("deleteField")}function hQ(){return new RE("serverTimestamp")}function fQ(...t){return new PE("arrayUnion",t)}function pQ(...t){return new OE("arrayRemove",t)}function mQ(t){return new DE("increment",t)}(function(e,n=!0){(function(i){ec=i})(Ci),Ei(new jr("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new ft(new c7(r.getProvider("auth-internal")),new h7(o,r.getProvider("app-check-internal")),function(c,d){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new K(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Os(c.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Cn(Gx,Kx,e),Cn(Gx,Kx,"esm2017")})();const gQ="@firebase/firestore-compat",yQ="0.3.53";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new K("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _k(){if(typeof Uint8Array>"u")throw new K("unimplemented","Uint8Arrays are not available in this environment.")}function wk(){if(!W7())throw new K("unimplemented","Blobs are unavailable in Firestore in this environment.")}let rL=class xw{constructor(e){this._delegate=e}static fromBase64String(e){return wk(),new xw(Yt.fromBase64String(e))}static fromUint8Array(e){return _k(),new xw(Yt.fromUint8Array(e))}toBase64(){return wk(),this._delegate.toBase64()}toUint8Array(){return _k(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kw(t){return vQ(t,["next","error","complete"])}function vQ(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{enableIndexedDbPersistence(e,n){return AK(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return CK(e._delegate)}clearIndexedDbPersistence(e){return RK(e._delegate)}}class iL{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof Os||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Bn("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){LN(this._delegate,e,n,r)}enableNetwork(){return OK(this._delegate)}disableNetwork(){return DK(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,AD("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return PK(this._delegate)}onSnapshotsInSync(e){return sQ(this._delegate,e)}get app(){if(!this._appCompat)throw new K("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ul(this,MN(this._delegate,e))}catch(n){throw an(n,"collection()","Firestore.collection()")}}doc(e){try{return new Xn(this,fm(this._delegate,e))}catch(n){throw an(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new on(this,IK(this._delegate,e))}catch(n){throw an(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return uQ(this._delegate,n=>e(new sL(this,n)))}batch(){return nn(this._delegate),new oL(new aQ(this._delegate,e=>Jd(this._delegate,e)))}loadBundle(e){return NK(this._delegate,e)}namedQuery(e){return LK(this._delegate,e).then(n=>n?new on(this,n):null)}}class Pg extends UE{constructor(e){super(),this.firestore=e}convertBytes(e){return new rL(new Yt(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return Xn.forKey(n,this.firestore,null)}}function wQ(t){s7(t)}class sL{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new Pg(e)}get(e){const n=bo(e);return this._delegate.get(n).then(r=>new yd(this._firestore,new Zn(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=bo(e);return r?(jE("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=bo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=bo(e);return this._delegate.delete(n),this}}class oL{constructor(e){this._delegate=e}set(e,n,r){const i=bo(e);return r?(jE("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const s=bo(e);return arguments.length===2?this._delegate.update(s,n):this._delegate.update(s,n,r,...i),this}delete(e){const n=bo(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class Xo{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Tu(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vd(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=Xo.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let s=i.get(n);return s||(s=new Xo(e,new Pg(e),n),i.set(n,s)),s}}Xo.INSTANCES=new WeakMap;class Xn{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Pg(e)}static forPath(e,n,r){if(e.length%2!==0)throw new K("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Xn(n,new Ve(n._delegate,r,new J(e)))}static forKey(e,n,r){return new Xn(n,new Ve(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ul(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ul(this.firestore,MN(this._delegate,e))}catch(n){throw an(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=Te(e),e instanceof Ve?FN(this._delegate,e):!1}set(e,n){n=jE("DocumentReference.set",n);try{return n?yk(this._delegate,e,n):yk(this._delegate,e)}catch(r){throw an(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?vk(this._delegate,e):vk(this._delegate,e,n,...r)}catch(i){throw an(i,"updateDoc()","DocumentReference.update()")}}delete(){return rQ(this._delegate)}onSnapshot(...e){const n=aL(e),r=lL(e,i=>new yd(this.firestore,new Zn(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return nL(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=JK(this._delegate):(e==null?void 0:e.source)==="server"?n=ZK(this._delegate):n=YK(this._delegate),n.then(r=>new yd(this.firestore,new Zn(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Xn(this.firestore,e?this._delegate.withConverter(Xo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function an(t,e,n){return t.message=t.message.replace(e,n),t}function aL(t){for(const e of t)if(typeof e=="object"&&!kw(e))return e;return{}}function lL(t,e){var n,r;let i;return kw(t[0])?i=t[0]:kw(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:s=>{i.next&&i.next(e(s))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class yd{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new Xn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return tL(this._delegate,e._delegate)}}class vd extends yd{data(e){const n=this._delegate.data(e);return this._delegate._converter||o7(n!==void 0,"Document in a QueryDocumentSnapshot should exist"),n}}class on{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new Pg(e)}where(e,n,r){try{return new on(this.firestore,Xi(this._delegate,UK(e,n,r)))}catch(i){throw an(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new on(this.firestore,Xi(this._delegate,zK(e,n)))}catch(r){throw an(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new on(this.firestore,Xi(this._delegate,jK(e)))}catch(n){throw an(n,"limit()","Query.limit()")}}limitToLast(e){try{return new on(this.firestore,Xi(this._delegate,qK(e)))}catch(n){throw an(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new on(this.firestore,Xi(this._delegate,HK(...e)))}catch(n){throw an(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new on(this.firestore,Xi(this._delegate,WK(...e)))}catch(n){throw an(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new on(this.firestore,Xi(this._delegate,GK(...e)))}catch(n){throw an(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new on(this.firestore,Xi(this._delegate,KK(...e)))}catch(n){throw an(n,"endAt()","Query.endAt()")}}isEqual(e){return BN(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=tQ(this._delegate):(e==null?void 0:e.source)==="server"?n=nQ(this._delegate):n=eQ(this._delegate),n.then(r=>new Aw(this.firestore,new vr(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=aL(e),r=lL(e,i=>new Aw(this.firestore,new vr(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return nL(this._delegate,n,r)}withConverter(e){return new on(this.firestore,e?this._delegate.withConverter(Xo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class bQ{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new vd(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Aw{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new on(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vd(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new bQ(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new vd(this._firestore,r))})}isEqual(e){return tL(this._delegate,e._delegate)}}class Ul extends on{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Xn(this.firestore,e):null}doc(e){try{return e===void 0?new Xn(this.firestore,fm(this._delegate)):new Xn(this.firestore,fm(this._delegate,e))}catch(n){throw an(n,"doc()","CollectionReference.doc()")}}add(e){return iQ(this._delegate,e).then(n=>new Xn(this.firestore,n))}isEqual(e){return FN(this._delegate,e._delegate)}withConverter(e){return new Ul(this.firestore,e?this._delegate.withConverter(Xo.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function bo(t){return Ce(t,Ve)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(...e){this._delegate=new Ms(...e)}static documentId(){return new qE(Ge.keyField().canonicalString())}isEqual(e){return e=Te(e),e instanceof Ms?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{static serverTimestamp(){const e=hQ();return e._methodName="FieldValue.serverTimestamp",new fo(e)}static delete(){const e=dQ();return e._methodName="FieldValue.delete",new fo(e)}static arrayUnion(...e){const n=fQ(...e);return n._methodName="FieldValue.arrayUnion",new fo(n)}static arrayRemove(...e){const n=pQ(...e);return n._methodName="FieldValue.arrayRemove",new fo(n)}static increment(e){const n=mQ(e);return n._methodName="FieldValue.increment",new fo(n)}constructor(e){this._delegate=e}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EQ={Firestore:iL,GeoPoint:yr,Timestamp:Re,Blob:rL,Transaction:sL,WriteBatch:oL,DocumentReference:Xn,DocumentSnapshot:yd,Query:on,QueryDocumentSnapshot:vd,QuerySnapshot:Aw,CollectionReference:Ul,FieldPath:qE,FieldValue:fo,setLogLevel:wQ,CACHE_SIZE_UNLIMITED:xK};function TQ(t,e){t.INTERNAL.registerComponent(new jr("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},EQ)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IQ(t){TQ(t,(e,n)=>new iL(e,n,new _Q)),t.registerVersion(gQ,yQ)}IQ(i7);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL="firebasestorage.googleapis.com",uL="storageBucket",SQ=2*60*1e3,xQ=10*60*1e3,kQ=1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et extends Tr{constructor(e,n,r=0){super(uv(e),`Firebase Storage: ${n} (${uv(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,et.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return uv(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var je;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(je||(je={}));function uv(t){return"storage/"+t}function HE(){const t="An unknown error occurred, please check the error payload for server response.";return new et(je.UNKNOWN,t)}function AQ(t){return new et(je.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function CQ(t){return new et(je.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function RQ(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new et(je.UNAUTHENTICATED,t)}function PQ(){return new et(je.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function OQ(t){return new et(je.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function dL(){return new et(je.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function hL(){return new et(je.CANCELED,"User canceled the upload/download.")}function DQ(t){return new et(je.INVALID_URL,"Invalid URL '"+t+"'.")}function NQ(t){return new et(je.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function LQ(){return new et(je.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+uL+"' property when initializing the app?")}function fL(){return new et(je.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function $Q(){return new et(je.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function VQ(){return new et(je.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function MQ(t){return new et(je.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Cw(t){return new et(je.INVALID_ARGUMENT,t)}function pL(){return new et(je.APP_DELETED,"The Firebase app was deleted.")}function FQ(t){return new et(je.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Iu(t,e){return new et(je.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function Hc(t){throw new et(je.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=ln.makeFromUrl(e,n)}catch{return new ln(e,"")}if(r.path==="")return r;throw NQ(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",h=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",m=new RegExp(`^https?://${h}/${d}/b/${i}/o${f}`,"i"),y={bucket:1,path:3},w=n===cL?"(?:storage.googleapis.com|storage.cloud.google.com)":n,b="([^?#]*)",T=new RegExp(`^https?://${w}/${i}/${b}`,"i"),I=[{regex:a,indices:l,postModify:s},{regex:m,indices:y,postModify:c},{regex:T,indices:{bucket:1,path:2},postModify:c}];for(let R=0;R<I.length;R++){const D=I[R],$=D.regex.exec(e);if($){const x=$[D.indices.bucket];let v=$[D.indices.path];v||(v=""),r=new ln(x,v),D.postModify(r);break}}if(r==null)throw DQ(e);return r}}class BQ{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UQ(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function d(...b){c||(c=!0,e.apply(null,b))}function h(b){i=setTimeout(()=>{i=null,t(m,l())},b)}function f(){s&&clearTimeout(s)}function m(b,...T){if(c){f();return}if(b){f(),d.call(null,b,...T);return}if(l()||o){f(),d.call(null,b,...T);return}r<64&&(r*=2);let I;a===1?(a=2,I=0):I=(r+Math.random())*1e3,h(I)}let y=!1;function w(b){y||(y=!0,f(),!c&&(i!==null?(b||(a=2),clearTimeout(i),h(0)):b||(a=1)))}return h(0),s=setTimeout(()=>{o=!0,w(!0)},n),w}function zQ(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jQ(t){return t!==void 0}function qQ(t){return typeof t=="function"}function HQ(t){return typeof t=="object"&&!Array.isArray(t)}function Og(t){return typeof t=="string"||t instanceof String}function bk(t){return WE()&&t instanceof Blob}function WE(){return typeof Blob<"u"}function Rw(t,e,n,r){if(r<e)throw Cw(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Cw(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ks(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function mL(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Co;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Co||(Co={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WQ{constructor(e,n,r,i,s,o,a,l,c,d,h,f=!0,m=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=d,this.connectionFactory_=h,this.retry=f,this.isUsingEmulator=m,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((y,w)=>{this.resolve_=y,this.reject_=w,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new lf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Co.NO_ERROR,l=s.getStatus();if(!a||gL(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===Co.ABORT;r(!1,new lf(!1,null,d));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new lf(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());jQ(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=HE();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?pL():hL();o(l)}else{const l=dL();o(l)}};this.canceled_?n(!1,new lf(!1,null,!0)):this.backoffId_=UQ(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&zQ(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class lf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function GQ(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function KQ(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function QQ(t,e){e&&(t["X-Firebase-GMPID"]=e)}function XQ(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function YQ(t,e,n,r,i,s,o=!0,a=!1){const l=mL(t.urlParams),c=t.url+l,d=Object.assign({},t.headers);return QQ(d,e),GQ(d,n),KQ(d,s),XQ(d,r),new WQ(c,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JQ(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function ZQ(...t){const e=JQ();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(WE())return new Blob(t);throw new et(je.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function eX(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tX(t){if(typeof atob>"u")throw MQ("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class dv{constructor(e,n){this.data=e,this.contentType=n||null}}function nX(t,e){switch(t){case Nr.RAW:return new dv(yL(e));case Nr.BASE64:case Nr.BASE64URL:return new dv(vL(t,e));case Nr.DATA_URL:return new dv(iX(e),sX(e))}throw HE()}function yL(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function rX(t){let e;try{e=decodeURIComponent(t)}catch{throw Iu(Nr.DATA_URL,"Malformed data URL.")}return yL(e)}function vL(t,e){switch(t){case Nr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw Iu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Nr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw Iu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=tX(e)}catch(i){throw i.message.includes("polyfill")?i:Iu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class _L{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Iu(Nr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=oX(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function iX(t){const e=new _L(t);return e.base64?vL(Nr.BASE64,e.rest):rX(e.rest)}function sX(t){return new _L(t).contentType}function oX(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e,n){let r=0,i="";bk(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(bk(this.data_)){const r=this.data_,i=eX(r,e,n);return i===null?null:new oi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new oi(r,!0)}}static getBlob(...e){if(WE()){const n=e.map(r=>r instanceof oi?r.data_:r);return new oi(ZQ.apply(null,n))}else{const n=e.map(o=>Og(o)?nX(Nr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new oi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GE(t){let e;try{e=JSON.parse(t)}catch{return null}return HQ(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aX(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function lX(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function wL(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cX(t,e){return e}class rn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||cX}}let cf=null;function uX(t){return!Og(t)||t.length<2?t:wL(t)}function Zd(){if(cf)return cf;const t=[];t.push(new rn("bucket")),t.push(new rn("generation")),t.push(new rn("metageneration")),t.push(new rn("name","fullPath",!0));function e(s,o){return uX(o)}const n=new rn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new rn("size");return i.xform=r,t.push(i),t.push(new rn("timeCreated")),t.push(new rn("updated")),t.push(new rn("md5Hash",null,!0)),t.push(new rn("cacheControl",null,!0)),t.push(new rn("contentDisposition",null,!0)),t.push(new rn("contentEncoding",null,!0)),t.push(new rn("contentLanguage",null,!0)),t.push(new rn("contentType",null,!0)),t.push(new rn("metadata","customMetadata",!0)),cf=t,cf}function dX(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new ln(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function hX(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return dX(r,t),r}function bL(t,e,n){const r=GE(e);return r===null?null:hX(t,r,n)}function fX(t,e,n,r){const i=GE(e);if(i===null||!Og(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(c=>{const d=t.bucket,h=t.fullPath,f="/b/"+o(d)+"/o/"+o(h),m=Ks(f,n,r),y=mL({alt:"media",token:c});return m+y})[0]}function KE(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ek="prefixes",Tk="items";function pX(t,e,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n[Ek])for(const i of n[Ek]){const s=i.replace(/\/$/,""),o=t._makeStorageReference(new ln(e,s));r.prefixes.push(o)}if(n[Tk])for(const i of n[Tk]){const s=t._makeStorageReference(new ln(e,i.name));r.items.push(s)}return r}function mX(t,e,n){const r=GE(n);return r===null?null:pX(t,e,r)}class Ni{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zr(t){if(!t)throw HE()}function Dg(t,e){function n(r,i){const s=bL(t,i,e);return zr(s!==null),s}return n}function gX(t,e){function n(r,i){const s=mX(t,e,i);return zr(s!==null),s}return n}function yX(t,e){function n(r,i){const s=bL(t,i,e);return zr(s!==null),fX(s,i,t.host,t._protocol)}return n}function lc(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=PQ():i=RQ():n.getStatus()===402?i=CQ(t.bucket):n.getStatus()===403?i=OQ(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Ng(t){const e=lc(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=AQ(t.path)),s.serverResponse=i.serverResponse,s}return n}function EL(t,e,n){const r=e.fullServerUrl(),i=Ks(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ni(i,s,Dg(t,n),o);return a.errorHandler=Ng(e),a}function vX(t,e,n,r,i){const s={};e.isRoot?s.prefix="":s.prefix=e.path+"/",n.length>0&&(s.delimiter=n),r&&(s.pageToken=r),i&&(s.maxResults=i);const o=e.bucketOnlyServerUrl(),a=Ks(o,t.host,t._protocol),l="GET",c=t.maxOperationRetryTime,d=new Ni(a,l,gX(t,e.bucket),c);return d.urlParams=s,d.errorHandler=lc(e),d}function _X(t,e,n){const r=e.fullServerUrl(),i=Ks(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Ni(i,s,yX(t,n),o);return a.errorHandler=Ng(e),a}function wX(t,e,n,r){const i=e.fullServerUrl(),s=Ks(i,t.host,t._protocol),o="PATCH",a=KE(n,r),l={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime,d=new Ni(s,o,Dg(t,r),c);return d.headers=l,d.body=a,d.errorHandler=Ng(e),d}function bX(t,e){const n=e.fullServerUrl(),r=Ks(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,c){}const a=new Ni(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=Ng(e),a}function EX(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function TL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=EX(null,e)),r}function IL(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let I="";for(let R=0;R<2;R++)I=I+Math.random().toString().slice(2);return I}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const c=TL(e,r,i),d=KE(c,n),h="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+d+`\r
--`+l+`\r
Content-Type: `+c.contentType+`\r
\r
`,f=`\r
--`+l+"--",m=oi.getBlob(h,r,f);if(m===null)throw fL();const y={name:c.fullPath},w=Ks(s,t.host,t._protocol),b="POST",T=t.maxUploadRetryTime,E=new Ni(w,b,Dg(t,n),T);return E.urlParams=y,E.headers=o,E.body=m.uploadData(),E.errorHandler=lc(e),E}class mm{constructor(e,n,r,i){this.current=e,this.total=n,this.finalized=!!r,this.metadata=i||null}}function QE(t,e){let n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch{zr(!1)}return zr(!!n&&(e||["active"]).indexOf(n)!==-1),n}function TX(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o=TL(e,r,i),a={name:o.fullPath},l=Ks(s,t.host,t._protocol),c="POST",d={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":o.contentType,"Content-Type":"application/json; charset=utf-8"},h=KE(o,n),f=t.maxUploadRetryTime;function m(w){QE(w);let b;try{b=w.getResponseHeader("X-Goog-Upload-URL")}catch{zr(!1)}return zr(Og(b)),b}const y=new Ni(l,c,m,f);return y.urlParams=a,y.headers=d,y.body=h,y.errorHandler=lc(e),y}function IX(t,e,n,r){const i={"X-Goog-Upload-Command":"query"};function s(c){const d=QE(c,["active","final"]);let h=null;try{h=c.getResponseHeader("X-Goog-Upload-Size-Received")}catch{zr(!1)}h||zr(!1);const f=Number(h);return zr(!isNaN(f)),new mm(f,r.size(),d==="final")}const o="POST",a=t.maxUploadRetryTime,l=new Ni(n,o,s,a);return l.headers=i,l.errorHandler=lc(e),l}const Ik=256*1024;function SX(t,e,n,r,i,s,o,a){const l=new mm(0,0);if(o?(l.current=o.current,l.total=o.total):(l.current=0,l.total=r.size()),r.size()!==l.total)throw $Q();const c=l.total-l.current;let d=c;i>0&&(d=Math.min(d,i));const h=l.current,f=h+d;let m="";d===0?m="finalize":c===d?m="upload, finalize":m="upload";const y={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":`${l.current}`},w=r.slice(h,f);if(w===null)throw fL();function b(R,D){const $=QE(R,["active","final"]),x=l.current+d,v=r.size();let _;return $==="final"?_=Dg(e,s)(R,D):_=null,new mm(x,v,$==="final",_)}const T="POST",E=e.maxUploadRetryTime,I=new Ni(n,T,b,E);return I.headers=y,I.body=w.uploadData(),I.progressCallback=a||null,I.errorHandler=lc(t),I}const vn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function hv(t){switch(t){case"running":case"pausing":case"canceling":return vn.RUNNING;case"paused":return vn.PAUSED;case"success":return vn.SUCCESS;case"canceled":return vn.CANCELED;case"error":return vn.ERROR;default:return vn.ERROR}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xX{constructor(e,n,r){if(qQ(e)||n!=null||r!=null)this.next=e,this.error=n??void 0,this.complete=r??void 0;else{const s=e;this.next=s.next,this.error=s.error,this.complete=s.complete}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(t){return(...e)=>{Promise.resolve().then(()=>t(...e))}}class kX{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Co.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Co.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Co.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i,s){if(this.sent_)throw Hc("cannot .send() more than once");if(zs(e)&&r&&(this.xhr_.withCredentials=!0),this.sent_=!0,this.xhr_.open(n,e,!0),s!==void 0)for(const o in s)s.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,s[o].toString());return i!==void 0?this.xhr_.send(i):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Hc("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Hc("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw Hc("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Hc("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class AX extends kX{initXhr(){this.xhr_.responseType="text"}}function hr(){return new AX}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CX{isExponentialBackoffExpired(){return this.sleepTime>this.maxSleepTime}constructor(e,n,r=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=n,this._metadata=r,this._mappings=Zd(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=i=>{if(this._request=void 0,this._chunkMultiplier=1,i._codeEquals(je.CANCELED))this._needToFetchStatus=!0,this.completeTransitions_();else{const s=this.isExponentialBackoffExpired();if(gL(i.status,[]))if(s)i=dL();else{this.sleepTime=Math.max(this.sleepTime*2,kQ),this._needToFetchStatus=!0,this.completeTransitions_();return}this._error=i,this._transition("error")}},this._metadataErrorHandler=i=>{this._request=void 0,i._codeEquals(je.CANCELED)?this.completeTransitions_():(this._error=i,this._transition("error"))},this.sleepTime=0,this.maxSleepTime=this._ref.storage.maxUploadRetryTime,this._promise=new Promise((i,s)=>{this._resolve=i,this._reject=s,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return n=>this._updateProgress(e+n)}_shouldDoResumable(e){return e.size()>256*1024}_start(){this._state==="running"&&this._request===void 0&&(this._resumable?this._uploadUrl===void 0?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this.pendingTimeout=setTimeout(()=>{this.pendingTimeout=void 0,this._continueUpload()},this.sleepTime):this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([n,r])=>{switch(this._state){case"running":e(n,r);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused");break}})}_createResumable(){this._resolveToken((e,n)=>{const r=TX(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._uploadUrl=s,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((n,r)=>{const i=IX(this._ref.storage,this._ref._location,e,this._blob),s=this._ref.storage._makeRequest(i,hr,n,r);this._request=s,s.getPromise().then(o=>{o=o,this._request=void 0,this._updateProgress(o.current),this._needToFetchStatus=!1,o.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=Ik*this._chunkMultiplier,n=new mm(this._transferred,this._blob.size()),r=this._uploadUrl;this._resolveToken((i,s)=>{let o;try{o=SX(this._ref._location,this._ref.storage,r,this._blob,e,this._mappings,n,this._makeProgressCallback())}catch(l){this._error=l,this._transition("error");return}const a=this._ref.storage._makeRequest(o,hr,i,s,!1);this._request=a,a.getPromise().then(l=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(l.current),l.finalized?(this._metadata=l.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){Ik*this._chunkMultiplier*2<32*1024*1024&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,n)=>{const r=EL(this._ref.storage,this._ref._location,this._mappings),i=this._ref.storage._makeRequest(r,hr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,n)=>{const r=IL(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),i=this._ref.storage._makeRequest(r,hr,e,n);this._request=i,i.getPromise().then(s=>{this._request=void 0,this._metadata=s,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const n=this._transferred;this._transferred=e,this._transferred!==n&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,this._request!==void 0?this._request.cancel():this.pendingTimeout&&(clearTimeout(this.pendingTimeout),this.pendingTimeout=void 0,this.completeTransitions_());break;case"running":const n=this._state==="paused";this._state=e,n&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=hL(),this._state=e,this._notifyObservers();break;case"error":this._state=e,this._notifyObservers();break;case"success":this._state=e,this._notifyObservers();break}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start();break}}get snapshot(){const e=hv(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,n,r,i){const s=new xX(n||void 0,r||void 0,i||void 0);return this._addObserver(s),()=>{this._removeObserver(s)}}then(e,n){return this._promise.then(e,n)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const n=this._observers.indexOf(e);n!==-1&&this._observers.splice(n,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(n=>{this._notifyObserver(n)})}_finishPromise(){if(this._resolve!==void 0){let e=!0;switch(hv(this._state)){case vn.SUCCESS:Ea(this._resolve.bind(null,this.snapshot))();break;case vn.CANCELED:case vn.ERROR:const n=this._reject;Ea(n.bind(null,this._error))();break;default:e=!1;break}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(hv(this._state)){case vn.RUNNING:case vn.PAUSED:e.next&&Ea(e.next.bind(e,this.snapshot))();break;case vn.SUCCESS:e.complete&&Ea(e.complete.bind(e))();break;case vn.CANCELED:case vn.ERROR:e.error&&Ea(e.error.bind(e,this._error))();break;default:e.error&&Ea(e.error.bind(e,this._error))()}}resume(){const e=this._state==="paused"||this._state==="pausing";return e&&this._transition("running"),e}pause(){const e=this._state==="running";return e&&this._transition("pausing"),e}cancel(){const e=this._state==="running"||this._state==="pausing";return e&&this._transition("canceling"),e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this._service=e,n instanceof ln?this._location=n:this._location=ln.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yo(e,n)}get root(){const e=new ln(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return wL(this._location.path)}get storage(){return this._service}get parent(){const e=aX(this._location.path);if(e===null)return null;const n=new ln(this._location.bucket,e);return new Yo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw FQ(e)}}function RX(t,e,n){t._throwIfRoot("uploadBytes");const r=IL(t.storage,t._location,Zd(),new oi(e,!0),n);return t.storage.makeRequestWithTokens(r,hr).then(i=>({metadata:i,ref:t}))}function PX(t,e,n){return t._throwIfRoot("uploadBytesResumable"),new CX(t,new oi(e),n)}function OX(t,e){e!=null&&typeof e.maxResults=="number"&&Rw("options.maxResults",1,1e3,e.maxResults);const n=e||{},r=vX(t.storage,t._location,"/",n.pageToken,n.maxResults);return t.storage.makeRequestWithTokens(r,hr)}function DX(t){t._throwIfRoot("getMetadata");const e=EL(t.storage,t._location,Zd());return t.storage.makeRequestWithTokens(e,hr)}function NX(t,e){t._throwIfRoot("updateMetadata");const n=wX(t.storage,t._location,e,Zd());return t.storage.makeRequestWithTokens(n,hr)}function LX(t){t._throwIfRoot("getDownloadURL");const e=_X(t.storage,t._location,Zd());return t.storage.makeRequestWithTokens(e,hr).then(n=>{if(n===null)throw VQ();return n})}function $X(t){t._throwIfRoot("deleteObject");const e=bX(t.storage,t._location);return t.storage.makeRequestWithTokens(e,hr)}function VX(t,e){const n=lX(t._location.path,e),r=new ln(t._location.bucket,n);return new Yo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MX(t){return/^[A-Za-z]+:\/\//.test(t)}function FX(t,e){return new Yo(t,e)}function SL(t,e){if(t instanceof XE){const n=t;if(n._bucket==null)throw LQ();const r=new Yo(n,n._bucket);return e!=null?SL(r,e):r}else return e!==void 0?VX(t,e):t}function BX(t,e){if(e&&MX(e)){if(t instanceof XE)return FX(t,e);throw Cw("To use ref(service, url), the first argument must be a Storage instance.")}else return SL(t,e)}function Sk(t,e){const n=e==null?void 0:e[uL];return n==null?null:ln.makeFromBucketSpec(n,t)}function UX(t,e,n,r={}){t.host=`${e}:${n}`;const i=zs(e);i&&(w0(`https://${t.host}/b`),b0("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:EO(s,t.app.options.projectId))}class XE{constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=cL,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=SQ,this._maxUploadRetryTime=xQ,this._requests=new Set,i!=null?this._bucket=ln.makeFromBucketSpec(i,this._host):this._bucket=Sk(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ln.makeFromBucketSpec(this._url,e):this._bucket=Sk(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Rw("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Rw("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yo(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new BQ(pL());{const o=YQ(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const xk="@firebase/storage",kk="0.13.14";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL="storage";function kL(t,e,n){return t=Te(t),RX(t,e,n)}function IZ(t,e,n){return t=Te(t),PX(t,e,n)}function SZ(t){return t=Te(t),DX(t)}function xZ(t,e){return t=Te(t),NX(t,e)}function kZ(t,e){return t=Te(t),OX(t,e)}function Pw(t){return t=Te(t),LX(t)}function zX(t){return t=Te(t),$X(t)}function gm(t,e){return t=Te(t),BX(t,e)}function jX(t=rg(),e){t=Te(t);const r=Jl(t,xL).getImmediate({identifier:e}),i=_O("storage");return i&&qX(r,...i),r}function qX(t,e,n,r={}){UX(t,e,n,r)}function HX(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new XE(n,r,i,e,Ci)}function WX(){Ei(new jr(xL,HX,"PUBLIC").setMultipleInstances(!0)),Cn(xk,kk,""),Cn(xk,kk,"esm2017")}WX();const GX={apiKey:"AIzaSyA5dbbXycGHFt1kx8gB_S12qos8vDBwnSE",authDomain:"pb-android-2725a.firebaseapp.com",databaseURL:"https://pb-android-2725a-default-rtdb.firebaseio.com",projectId:"pb-android-2725a",storageBucket:"pb-android-2725a.appspot.com",messagingSenderId:"468885270519",appId:"1:468885270519:web:354a97057557eec2ec48f2",measurementId:"G-SQMQDYSVKN"},KX=GX,YE=ng(KX),AL=QH(YE);Vq(AL,mD);const ym=jX(YE);kK(YE);class QX{async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async apply(e){return(await ee.post(ve.url+"/auth/apply",e,{headers:this.headers})).data}async applyFromNewsletter(e){return(await ee.post(ve.url+"/auth/newsletter/apply",e,{headers:this.headers})).data}async newsletter(e){return(await ee.post(ve.url+"/auth/newsletter",e)).data}async user({token:e}){return(await ee.get(ve.url+"/auth/user",{headers:{Authorization:"Bearer "+e}})).data}async feedback({preferredName:e,email:n,subject:r,purpose:i,message:s}){return(await ee.post(ve.url+"/auth/feedback",{preferredName:e,email:n,subject:r,purpose:i,message:s})).data}async generateReferral(){const e=await this.getAuthHeaders();return(await ee.post(ve.url+"/auth/generate-referral",{},{headers:e})).data}async resetPassword({username:e,password:n,token:r}){return(await ee.post(ve.url+"/auth/reset-password",{username:e,password:n,token:r})).data}async forgotPassword({username:e,email:n}){return(await ee.post(ve.url+"/auth/forgot-password",{username:e,email:n})).data}async startSession({uId:e,email:n,password:r,identityToken:i}){let s=await this.getAuthHeaders();return(await ee.post(ve.url+"/auth/session",{uId:e,email:n,password:r,identityToken:i},{headers:s})).data}async updateSubscription({token:e,frequency:n}){return(await ee.put(ve.url+"/auth/subscription",{token:e,frequency:n})).data}async useReferral({token:e,email:n,password:r,username:i,profilePicture:s,selfStatement:o,isPrivate:a}){return(await ee.post(ve.url+"/auth/use-referral",{token:e,email:n,password:r,username:i,profilePicture:s,selfStatement:o,isPrivate:a},{headers:{Authorization:"Bearer "+e}})).data}async deleteUser(){const e=await this.getAuthHeaders();return(await ee.delete(ve.url+"/auth/",{headers:e})).data}async checkUsername(e){let n=new URLSearchParams({username:e});return(await ee.get(ve.url+"/auth/check-username?"+n.toString())).data}async googleSignIn({email:e,googleId:n}){return(await ee.post(ve.url+"/auth/google",{email:e,googleId:n})).data}async appleSignIn({identityToken:e}){return(await ee.post(ve.url+"/auth/ios",{idToken:e})).data}}const cc=new QX;class XX{constructor(){qt(this,"url",ve.url+"/profile");qt(this,"headers",{"Access-Control-Allow-Origin":"*"})}async all(){return(await ee.get(this.url+"/")).data}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});if(!e)throw new Error("No token found");return{...this.headers,Authorization:`Bearer ${e}`}}async getMyProfiles(){const e=await this.getAuthHeaders();try{return(await ee.get(this.url+"/protected",{headers:e})).data}catch(n){return console.log(n),n}}async create({email:e,token:n,password:r,username:i,profilePicture:s,selfStatement:o,privacy:a}){let l=await this.getAuthHeaders();return(await ee.post(this.url,{email:e,token:n,password:r,username:i,profilePicture:s,selfStatement:o,privacy:a},{headers:l})).data}async notifications({token:e,profile:n}){let r=await this.getAuthHeaders(),i=await ee.get(this.url+"/"+n.id+"/alert",{headers:r});return console.log(i),i.data}async register({uId:e,idToken:n,token:r,password:i,username:s,googleId:o,profilePicture:a,selfStatement:l,privacy:c}){return(await ee.post(ve.url+"/auth/register",{googleId:o,identityToken:n,token:r,password:i,username:s,profilePicture:a,selfStatement:l,privacy:c})).data}async getProfileProtected(e){let n=await this.getAuthHeaders();const{id:r}=e;return(await ee.get(this.url+"/"+r+"/protected",{headers:n})).data}async getProfile(e){const{id:n}=e;return(await ee.get(this.url+"/"+n+"/public")).data}async updateProfile(e){let n=await this.getAuthHeaders();return(await ee.put(this.url+"/"+e.profile.id,{...e},{headers:n})).data}async getProfileBookmarkCollection({profileId:e}){return(await ee.get(this.url+"/"+id+"/collection")).data}async createBookmark({profile:e,collection:n}){return(await ee.post(this.url+"/"+e.id+"/collection/"+n.id)).data}}const ki=new XX;function Su(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}class YX{constructor(){qt(this,"headers",{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"})}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async search(e,n,r=[]){const i=await this.getAuthHeaders(),s={q:e,profileId:n};return r.forEach((a,l)=>{s[l]=a}),(await ee.get(`${ve.url}/api/algolia/search`,{headers:i,params:s})).data}async saveObject(e,n){const r=await this.getAuthHeaders();return(await ee.post(`${ve.url}/api/algolia/save`,{indexName:e,object:n},{headers:r})).data}async deleteObject(e,n){const r=await this.getAuthHeaders();return(await ee.delete(`${ve.url}/api/algolia/delete`,{headers:r,data:{indexName:e,objectID:n}})).data}async partialUpdateObject(e,n,r){const i=await this.getAuthHeaders();return(await ee.patch(`${ve.url}/api/algolia/update`,{indexName:e,objectID:n,fields:r},{headers:i})).data}}const Lg=new YX,fv=Se("users/logIn",async(t,e)=>{try{const{uId:n,email:r,password:i,idToken:s,isNative:o}=t,a=await cc.startSession({uId:n,email:r,password:i,identityToken:s}),{token:l}=a;return await Pn.set({key:"token",value:l}),{token:l,profile:a.user.profiles[0]}}catch(n){console.log(n)}});Se("users/referral",async(t,e)=>await cc.referral(t));const Ak=Se("users/signOut",async(t,e)=>{try{await Pn.clear(),await signOut(AL)}catch{}return{profile:null}}),JX=Se("users/useReferral",async(t,e)=>{try{let n=await cc.useReferral(t);if(n.profile&&!n.profile.isPrivate){const{profile:r}=n;try{await Lg.partialUpdateObject("profile",r.id,{username:r.username}),console.log(" Profile updated in Algolia via API")}catch(i){console.error(" Failed to update profile in Algolia:",i)}}return n}catch(n){return n}}),Ck=Se("users/signUp",async(t,e)=>{const{email:n,token:r,idToken:i,googleId:s,frequency:o,password:a,username:l,profilePicture:c,selfStatement:d,privacy:h}=t;try{let f=await ki.register({uId:"",idToken:i,frequency:o,token:r,email:n,password:a,username:l,profilePicture:c,selfStatement:d,privacy:h});if(!h){const{profile:m}=f;try{await Lg.saveObject("profile",{objectID:m.id,username:m.username,selfStatement:m.selfStatement,profilePic:m.profilePic}),console.log(" Profile indexed in Algolia")}catch(y){console.error(" Failed to save to Algolia:",y)}}return{profile:f.profile}}catch{console.error("",err)}}),Rk=Se("users/searchMultipleIndexes",async(t,e)=>{const{query:n,filters:r=[],profileId:i}=t;try{return{results:(await Lg.search(n,i,r)).results}}catch(s){return console.error("Search failed:",s),e.rejectWithValue({error:"Search failed"})}}),Ow=st("user/setDialog",t=>({payload:t}));Se("user/iOSinfo",async t=>({profile:(await cc.appleSignIn(t)).profile}));const ZX=st("users/setSignedInTrue",async t=>{}),eY=st("users/setSignedInFalse",async t=>{});Se("users/updateSubscription",async(t,e)=>await cc.updateSubscription(t));const pv=Se("users/getCurrentProfile",async(t,e)=>{try{return await ki.getMyProfiles()}catch(n){return{error:n}}}),tY=Se("users/updateProfile",async(t,e)=>{try{let n=await ki.updateProfile(t);if(n.profile){const{profile:r}=n;try{await Lg.partialUpdateObject("profile",r.id,{username:r.username})}catch(i){console.log(i)}}return console.log(n),{profile:n.profile}}catch(n){return n}}),mv=Se("users/fetchProfile",async function(t,e){try{return(await Pn.get({key:"token"})).value?{profile:(await ki.getProfileProtected(t)).profile}:{profile:(await ki.getProfile(t)).profile}}catch(n){return{error:new Error("ERROR:FETCH PROFILEE:"+n.message)}}}),nY=st("users/setProfileInView",t=>{const{profile:e}=t;return{payload:e}});Se("users/deletePicture",async(t,e)=>{try{const{fileName:n}=t,r=gm(ym,n);return await zX(r),console.log("File deleted successfully!"),{message:"Success delete"}}catch(n){return console.error("Error deleting file:",n),{message:n.message}}});const rY=Se("users/deleteUserAccounts",async(t,e)=>{try{return await cc.deleteUser(),{code:200}}catch(n){return{error:new Error("Error: Deleting useer account"+n.message)}}}),iY=st("users/searchDialogToggle",(t,e)=>{const{open:n}=t;return{payload:n}}),sY=st("users/addEVents",t=>{const{events:e}=t;return{payload:e}}),oY="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20height='24px'%20viewBox='0%20-960%20960%20960'%20width='24px'%20fill='%23e8eaed'%3e%3cpath%20d='M440-280h80v-240h-80v240Zm40-320q17%200%2028.5-11.5T520-640q0-17-11.5-28.5T480-680q-17%200-28.5%2011.5T440-640q0%2017%2011.5%2028.5T480-600Zm0%20520q-83%200-156-31.5T197-197q-54-54-85.5-127T80-480q0-83%2031.5-156T197-763q54-54%20127-85.5T480-880q83%200%20156%2031.5T763-763q54%2054%2085.5%20127T880-480q0%2083-31.5%20156T763-197q-54%2054-127%2085.5T480-80Zm0-80q134%200%20227-93t93-227q0-134-93-227t-227-93q-134%200-227%2093t-93%20227q0%20134%2093%20227t227%2093Zm0-320Z'/%3e%3c/svg%3e";function aY({text:t=" This is a tooltip"}){const[e,n]=Q.useState(!1),r=i=>{i.stopPropagation(),n(s=>!s)};return Q.useEffect(()=>{const i=()=>{n(!1)};return document.addEventListener("click",i),()=>{document.removeEventListener("click",i)}},[]),q.jsxs("div",{onClick:r,onFocusCapture:r,className:"relative h-fit my-auto w-fit mx-2 group",children:[q.jsx(s0,{className:"  text-white ",alt:"info",src:oY}),q.jsxs("div",{className:`absolute bg-slate-50 open-sans-medium text-sm text-black p-2 bottom-full mb-2 rounded-lg min-w-24 shadow-lg transition-opacity duration-200 ${e?"opacity-100 visible":"opacity-0 invisible"}`,children:["   ",t]})]})}function lY(){const{isPhone:t}=Q.useContext(Np),e=nx(C=>C.users.dialog),[n,r]=Q.useState([]);function i(C){const N=new Date(C),j={weekday:"short",month:"2-digit",day:"2-digit"},M=N.toLocaleDateString("en-US",j);let W=N.getHours();const G=N.getMinutes().toString().padStart(2,"0"),ae=W>=12?"PM":"AM";W=W%12,W=W||12;const ne=W.toString().padStart(2,"0"),[ue,de]=M.split(", ");return`<span>${ue}<br/> ${de} <br/>${ne}:${G} ${ae}</span>`}const{setError:s,currentProfile:o}=Q.useContext(Np),[a,l]=Q.useState("");a5({name:"Calendar Embed"});const c=nx(C=>C.users.events),[d,h]=Q.useState(c??[]),[f,m]=Q.useState([]),[y,w]=Q.useState(["poetry","experiment","free"]),[b,T]=Q.useState(""),[E,I]=Q.useState([]),[R,D]=Q.useState(!1),$=Q.useRef(null);Q.useEffect(()=>{function C(N){$.current&&!$.current.contains(N.target)&&D(!1)}return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);function x(C){const N=C.target.value;T(N);const j=y.filter(M=>M.toLowerCase().includes(N.toLowerCase()));I(j),D(!0),si("Search","User Searched for Hashtags "+b,b)}const[v,_]=Q.useState("");Q.useEffect(()=>{let C=d;a&&(C=C.filter(N=>N.area.trim().toLowerCase()===a.toLowerCase())),v&&(C=C.filter(N=>N.hashtags.includes(v))),m(C)},[a,v,d]);const k=["Downtown","Uptown","Virtual","Queens"];Q.useLayoutEffect(()=>{P()},[]);const P=()=>{try{Yl.fetchEvents({days:28}).then(C=>{let N=C.events.flatMap(G=>G.events);console.log(N[0]);const j=N.filter(G=>{var de,Le;const ae=new Date,ne=new Date;ne.setMonth(ae.getMonth()+3);const ue=((de=G.end)==null?void 0:de.dateTime)||((Le=G.end)==null?void 0:Le.date);return new Date(ue)>=Date.now()&&new Date(ue)<=ne}).sort((G,ae)=>{var de,Le,at,lt;const ne=new Date(((de=G.start)==null?void 0:de.dateTime)||((Le=G.start)==null?void 0:Le.date)),ue=new Date(((at=ae.start)==null?void 0:at.dateTime)||((lt=ae.start)==null?void 0:lt.date));return ne-ue}).map(G=>{var Qr,$i,Qs,aa;const ne=!G.start.dateTime?"All Day":i(G.start.dateTime);let ue=cY(G.description),de="";G.location&&G.location.length>0&&(de=t?G.location.split(",")[0]:G.location.length>24?G.location.slice(0,25)+"...":G.location);let Le=G.summary?G.summary.length>22?G.summary.slice(0,31)+"...":G.summary:"",at=G.description?Pk(G.description):{cleanedDescription:"",suggestions:[],hashtags:[]};const lt="https://calendar.google.com/calendar/render?",Li=((Qr=G.start)==null?void 0:Qr.dateTime)||(($i=G.start)==null?void 0:$i.date),dc=((Qs=G.end)==null?void 0:Qs.dateTime)||((aa=G.end)==null?void 0:aa.date),Wr=`${Ok(Li)}/${Ok(dc)}`,Gr={action:"TEMPLATE",text:G.summary,dates:Wr,details:Pk(G.description),location:G.location},Kr=Object.keys(Gr).map(Vi=>Vi+"="+encodeURIComponent(Gr[Vi])).join("&"),oa=lt+Kr;return w(Vi=>[...new Set([...Vi,...at.suggestions])]),{summary:G.summary,shortSummary:Le,description:at.cleanedDescription,hashtags:at.hashtags,startTime:ne,location:de||"",rawLocation:G.location,notes:G.description||"",googleLink:G.htmlLink||"",organizerLink:ue||"",area:G.organizer.displayName||""}}),M=//,W=/\u2600(\uFE0F)?/g;r(j.filter(G=>M.test(G.description))),h(j)})}catch(C){console.log(C),s(C)}};Q.useEffect(()=>{h(c)},[c]),Q.useEffect(()=>{const C=a.length>0?d.filter(N=>N.area.trim().toLowerCase()==a.toLowerCase()):d;m(C)},[a]);const O=gj(),A=C=>{si("Looked at Event",`Saw:${C.summary} `+b,b);let N={...e};N.isOpen=!0,N.disagreeText="Close",N.title=C.summary,N.text=q.jsxs("div",{className:"text-left text-blueSea",children:[q.jsx("span",{children:C.location}),q.jsx("span",{dangerouslySetInnerHTML:{__html:"<div>"+C.description+"</div>"}})]}),N.onClose=()=>{O(Ow({isOpen:!1}))},N.agreeText="Organizer",N.agree=C&&C.organizerLink?()=>{C&&(window.location.href=C.organizerLink)}:null,O(Ow(N))};Q.useEffect(()=>{let C=d;if(a.length>0&&(C=C.filter(N=>N.area.trim().toLowerCase()===a.toLowerCase())),b.trim().length>0){const N=b.toLowerCase();C=C.filter(j=>j.hashtags.some(M=>M.toLowerCase().includes(N))||j.summary.toLowerCase().includes(N))}m(C)},[a,b,d]);function H(C){T(C),D(!1),si("Search","User Clicked Suggested Hashtag",C)}return q.jsxs("div",{id:"cal-embed",className:" sm:max-w-[100vw]",children:[q.jsxs("div",{className:`flex  sm:w-[40em] mx-auto  text-left ${t?"flex-col":"flex-row"}`,children:[q.jsxs("span",{className:"flex flex-row my-auto max-h-12 w-16",children:[q.jsx(ur,{className:"my-auto mont-medium mx-2 text-emerald-700",children:"Filter by Area:"}),q.jsxs("select",{className:"border w-fit  my-auto text-emerald-700 h-[2em] rounded-lg bg-transparent px-2 text-l",value:a,onChange:C=>l(C.target.value),children:[q.jsx("option",{defaultValue:!0,value:"",children:"All Areas"}),k.map(C=>q.jsx("option",{value:C,children:C},C))]})]}),q.jsxs("span",{className:"flex flex-row my-auto  w-full text-left min-w-30",children:[q.jsx(ur,{className:"my-auto mx-4 text-emerald-800",children:" Search"}),q.jsxs("div",{ref:$,className:"relative w-[90vw] mx-auto",children:[q.jsx(D3,{type:"text",className:"rounded-lg bg-emerald1-100  text-[0.8rem] text-emerald-800",value:b,onIonInput:x,onIonFocus:()=>D(!0),placeholder:"#writing, #workshop...)"}),R&&E.length>0&&q.jsx("ul",{className:"absolute z-10 mt-1 bg-white w-[15em] sborder border-emerald-300 rounded-md shadow-lg w-full max-h-[10em] overflow-auto",children:E.map((C,N)=>q.jsx("li",{className:"px-4 py-2 hover:bg-emerald-100 cursor-pointer text-emerald-700",onClick:()=>H(C),children:C},N))})]})]})]}),n.length==0?null:q.jsxs("div",{className:" text-left",children:[q.jsxs("div",{className:"flex flex-row",children:[q.jsx(ur,{className:"font-bold text-[1.2rem] text-soft ",children:"Events with Sol, Founder"}),q.jsx(aY,{text:"Want to meet the founder. Want to meet someone there so you're not alone. Join Sol at an Event. IG:@decibao"})]}),q.jsx(uY,{events:n,handleDialogOpen:A,sendGAEvent:si,isPhone:t,areas:k,calendar:rx})]}),q.jsxs(fP,{className:"flex sm:max-w-[50em] mx-auto flex-col",children:[q.jsx(ur,{className:"font-bold text-[1.2rem] text-soft",children:"NYC CALENDAR"}),f&&f.length?f.map((C,N)=>(C.googleLink.split("?eid=")[0],q.jsx(pP,{onClick:()=>A(C),className:` 
                          border-blueSea border  rounded-[50px]  shadow-md min-h-42 my-1  py-4  `,children:q.jsxs("div",{className:`flex
                      flex-row justify-between  px-6    `,children:[q.jsxs("span",{className:" flex-col text-left flex",children:[q.jsx("span",{className:"mr-2 max-w-[15rem] text-overflow-ellipsis overflow-clip",children:t?C.shortSummary:C.summary}),C.organizerLink&&Gz(C.googleLink)?q.jsx("span",{className:"flex flex-col",children:q.jsx("a",{className:"text-blueSea overflow-clip text-overflow-ellipsis whitespace-nowrap no-underline max-w-[15rem] my-auto",children:q.jsx(ur,{onClick:()=>{console.log("BOB",C.location);const j=encodeURIComponent(C.rawLocation);window.open(`https://www.google.com/maps/search/?api=1&query=${j}`)},children:C.location})})}):q.jsx("h6",{className:" whitespace-nowrap no-underline max-w-[20em]",children:C.location}),C.area==k[2]&&C.googleLink?q.jsx("a",{children:q.jsx("h6",{className:"text-blueSea text-[0.6rem] flex flex-row",children:q.jsx("span",{children:C.area})})}):q.jsx("span",{className:"text-slate-600 text-sm",children:C.area}),q.jsx("h5",{className:"text-[0.7rem] min-h-6",children:C.hashtags.slice(0,4).join(" ")})]}),q.jsxs("span",{className:"flex flex-row justify-between min-w-20 w-20 ml-3",children:[q.jsx(ur,{className:"my-auto text-[0.8rem] w-[2.6rem] text-blueSea ",children:q.jsx("div",{dangerouslySetInnerHTML:{__html:C.startTime}})}),q.jsx(s0,{onClick:()=>{si("Click",`Navigate by event name ${C.summary},
                          ${JSON.stringify(C.hashtags)}`,C.summary,"",!1),window.open(C.googleLink)},className:"w-12 h-12  my-auto",src:rx})]})]})},N))):null]})]})}const cY=t=>{if(!t)return"";const e=t.replace(/<[^>]*>/g,""),n=/(https?:\/\/[^\s]+)/i,r=e.match(n);return r?r[0]:""};function Pk(t){const e=/(https?:\/\/[^\s]+)/i,n=/#(\w+)/g,r=t.replace(e,"").trim();let i=[];const s=r.replace(n,"").trim(),o=[];let a;for(;(a=n.exec(r))!==null;)o.push(`#${a[1]}`),i.push(a[1]);return{cleanedDescription:s,suggestions:i,hashtags:o}}function uY({events:t,handleDialogOpen:e,sendGAEvent:n,isPhone:r,areas:i,calendar:s}){return q.jsx(fP,{className:`
        flex flex-row overflow-x-auto space-x-4 py-2 px-1 scrollbar-hide
      `,children:t&&t.length?t.map((o,a)=>(o.googleLink.split("?eid=")[0],q.jsx(pP,{className:`
                  border-blueSea border rounded-[30px] shadow-md
                  min-w-[16rem] max-w-[18rem]
                  flex-shrink-0 flex-col p-4
                `,children:q.jsx("div",{children:q.jsxs("div",{className:"flex flex-col justify-between h-full",children:[q.jsxs("span",{onClickCapture:()=>e(o),className:"flex flex-col text-left cursor-pointer",children:[q.jsx("span",{className:"mr-2 max-w-[15rem] text-ellipsis overflow-hidden whitespace-nowrap",children:r?o.shortSummary:o.summary}),o.organizerLink&&o.googleLink?q.jsx("span",{onClick:()=>{n("Click",`Navigate by event name ${o.summary},${JSON.stringify(o.hashtags)}`,o.summary,"",!1)},className:"flex flex-col",children:q.jsx("a",{className:"text-blueSea overflow-hidden text-ellipsis whitespace-nowrap no-underline max-w-[15rem] my-auto",children:q.jsx(ur,{children:o.location})})}):q.jsx("h6",{className:"whitespace-nowrap no-underline max-w-[20em]",children:o.location}),o.area===i[2]&&o.googleLink?q.jsx("a",{children:q.jsx("h6",{className:"text-blueSea text-[0.6rem] flex flex-row",children:q.jsx("span",{children:o.area})})}):q.jsx("span",{className:"text-slate-600 text-sm",children:o.area}),q.jsx("h5",{className:"text-[0.7rem] min-h-6",children:o.hashtags.slice(0,4).join(" ")})]}),q.jsxs("span",{className:"flex flex-row justify-between mt-3",children:[q.jsx(ur,{className:"my-auto text-[0.8rem] text-blueSea",children:q.jsx("div",{dangerouslySetInnerHTML:{__html:o.startTime}})}),q.jsx(s0,{onClick:()=>{n("Click",`Navigate to ${o.summary}}`,o.summary,"",!1),window.open(o.googleLink)},className:"w-10 h-10 my-auto",src:s})]})]})})},a))):null})}const Ok=t=>t?t.length===10?t.replace(/-/g,""):new Date(t).toISOString().replace(/[-:]/g,"").replace(/\.\d{3}/,""):"";function dY(){const t=Vm(),{seo:e,setSeo:n}=Q.useContext(Np),r=m4();return Qu.isNativePlatform(),Q.useLayoutEffect(()=>{let i=e;i.title="Plumbum (NYC CALENDAR) - Your Writing, Your Community",i.description="Explore events, workshops, and writer meetups on Plumbum.",i.url=ve.domain+"/events",n(i)},[t.pathname]),Q.useEffect(()=>{SP()},[]),q.jsx(O3,{fullscreen:!0,className:"ion-padding",children:q.jsxs("div",{className:"mx-auto  m-4 pt-14   text-center",children:[q.jsxs("div",{className:" w-[90%] sm:max-w-[30rem] mx-auto",children:[q.jsx("h1",{className:"lora-bold text-emerald-800 text-opacity-70 mb-4",children:"Plumbum Calendar"}),q.jsxs("div",{className:"mb-8",children:[q.jsxs("p",{className:"mb-4 mx-auto  text-sm mont-medium text-emerald-600",children:["Get weekly writing events in your inbox, or go deeper:",q.jsx("br",{})," apply to become a user and share your own writing and feedback on our site."]}),q.jsx("div",{children:q.jsx(ur,{className:"text-xl text-emerald-700",onClick:()=>r(o5.newsletter()),children:"Join the Newsletter"})}),q.jsx(ur,{children:"or"}),q.jsx("div",{children:q.jsx(ur,{onClick:()=>{r("/onboard")},className:"text-xl text-emerald-700",children:"Apply to be a user"})})]})]}),q.jsx("div",{className:"w-fit mx-auto",children:q.jsx(lY,{})})]})})}const hY=Gm("FirebaseStorage",{web:()=>Wn(()=>import("./web-D_pEDcKW.js"),[]).then(t=>new t.FirebaseStorageWeb)}),gv=Se("users/createProfile",async(t,e)=>{const n=await ki.create(t),r=n.profile;return n.token&&await Pn.set({key:"token",value:JSON.stringify(n.token)}),t.privacy&&await algoliaRepo.saveObject("profile",{objectID:r.id,username:r.username}),n}),fY=Se("users/fetchNotifications",async(t,e)=>{const{profile:n}=t;let r=[];const i=(await Pn.get({key:"token"})).value;let s=await ki.notifications({token:i,profile:n});const o=s;if(o){let a=[];const{collections:l,comments:c,following:d,followers:h}=o;let f=h?h.map($=>({type:"follower",item:$})):[],m=c?c.map($=>({type:"comment",item:$})):[],y=d?d.map($=>$.following.stories.map(x=>({type:"story",item:x,profile:$.following}))).flat():[],w=l?l.filter($=>$.storyIdList!=0).map($=>({type:"collection",item:$.storyIdList.sort((_,k)=>k.created>_.created)[0].story,collection:$})):[];[...m,...y,...w,...f].filter($=>a.find(v=>v.item.id==$.item.id)?!1:(a.push($),!0));let b=a.sort(($,x)=>x.item.created>$.item.created);const T=b.findIndex($=>{const x=new Date,v=new Date(x);return v.setDate(x.getDate()-1),new Date($.item.created)<v}),E=b.slice(0,T),I=b.slice(T),R=[ve.blankPage],D=E.concat(R,I);return r=[...r,...D],r}return s});Se("users/uploadProfilePicture",async(t,e)=>{const{file:n}=t;if(!n)throw new Error("No file provided");const r=`profile/${Su()}-${Su()}.jpg`,i=gm(ym,r);return await kL(i,n,{contentType:"image/jpeg"}),{url:await Pw(i),fileName:r}});Se("users/uploadPicture",async(t,e)=>{var n,r;try{try{const{file:i}=t;if(Qu.isNativePlatform()){const s=`image/${Date.now()}-${Su()}.jpg`;new Promise((l,c)=>{hY.uploadFile({path:s,uri:i.path},(d,h)=>{h?c(h):d!=null&&d.completed&&l(d)})});const o=gm(ym,s);return{url:await Pw(o),fileName:s}}else{if(!i)throw new Error("No file provided");const s=((n=i.name)==null?void 0:n.split(".").pop())||"jpg",o=`image/${((r=i.name)==null?void 0:r.split(".")[0])??Su()}-${Su()}.${s}`,a=gm(ym,o);return await kL(a,i),{url:await Pw(a),fileName:o}}}catch(i){return console.error("Error uploading profile picture:",i),e.rejectWithValue({message:"Error: UPLOAD Profile Picture "+i.message})}}catch(i){console.log(i)}});const Dk=Se("users/fetchProfiles",async(t,e)=>({profiles:(await ki.all()).profiles}));class pY{constructor(){qt(this,"headers",{"Access-Control-Allow-Origin":"*"})}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async create({profile:e,storyId:n,text:r,parentId:i}){const s=await this.getAuthHeaders();return(await ee.post(ve.url+"/comment",{profileId:e.id,storyId:n,text:r,parentId:i},{headers:s})).data}async helpful(){return(await ee.get(ve.url+"/comment/helpful")).data}async delete({id:e}){const n=await this.getAuthHeaders();return(await ee.delete(ve.url+"/comment/"+e,{headers:n})).data}async update({id:e,text:n}){const r=await this.getAuthHeaders();return(await ee.patch(ve.url+"/comment/"+e,{text:n},{headers:r})).data}}const JE=new pY;class mY{constructor(){qt(this,"headers",{"Access-Control-Allow-Origin":"*"});qt(this,"url",ve.url+"/like")}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async storyCreate({story:e,profile:n}){const r=await this.getAuthHeaders();let i=await ee.post(this.url+"/story",{story:e,profile:n},{headers:r});return console.log(i.data),i.data}async storyDelete({id:e}){const n=await this.getAuthHeaders();return(await ee.delete(this.url+"/story/like/"+e,{headers:n})).data}}const CL=new mY;Se("page/getPublicStories",async t=>{try{return{stories:(await Yl.getPublicStories()).stories}}catch(e){return{error:e}}});st("pages/setHtmlContent",t=>({payload:{html:t}}));Se("pages/getPublicProfilePages",async({profile:t},e)=>{try{return{pageList:(await Yl.getPublicProfileStories({profileId:t.id})).stories}}catch(n){return{error:`public pages${n.message}`}}});Se("pages/getProtectedProfilePages",async({profile:t},e)=>{try{return{pageList:(await Yl.getProtectedProfileStories({profileId:t.id})).stories}}catch(n){return{error:`Page Query Where Error: ${n.message}`}}});st("pages/appendToPagesInView",t=>{const{pages:e}=t;return{payload:e}});st("pages/setPageInView",t=>{const{page:e}=t;return{payload:e}});st("pages/setPagesInView",t=>{const{pages:e}=t;return{payload:e}});st("pages/setEditingPage",t=>{const{page:e}=t;return{payload:e}});st("pages/clearEditingPage",t=>({payload:null}));st("pages/setPagesToBeAdded",t=>{let{pageList:e}=t;return{payload:e}});st("pages/clearPagesInView");Se("pages/createComment",async function({profile:t,text:e,storyId:n,parentCommentId:r},i){try{return{comment:(await JE.create({profile:t,storyId:n,text:e,parentId:r})).comment}}catch(s){return{error:new Error(`Error: Create Comment ${s.message}`)}}});st("pages/appendComment",t=>{const{comment:e}=t;return{payload:e}});st("pages/setComments",t=>{const{comments:e}=t;return{payload:e}});Se("comments/fetchCommentsOfPagePublic",async(t,e)=>{try{return{comments:(await Yl.fetchCommentsOfPagePublic({pageId:t.id})).comments}}catch(n){return n}});Se("comments/fetchCommentsOfPages",async(t,e)=>{try{return{comments:(await Yl.fetchCommentsOfPageProtected({pageId:t.id})).comments}}catch(n){return n}});Se("pages/deleteComment",async(t,e)=>{const{comment:n}=t;let r=await JE.delete({id:n.id});return{comment:r.comment,message:r.message}});st("PAGES_LOADING",function(){return{payload:{loading:!0}}});Se("pages/updateComment",async(t,e)=>{const{comment:n,newText:r}=t;return{comment:(await JE.update({id:n.id,text:r})).comment}});Se("users/createPageApproval",async(t,e)=>{try{const{story:n,profile:r,score:i}=t,s=await CL.storyCreate({story:n,profile:r});return console.log("DATA FROM LIKE REPO",s),{profile:s.profile}}catch(n){return{error:n}}});const gY=Se("users/deletePageApproval",async(t,e)=>{try{const n=await CL.storyDelete(t);return{profile:(await ki.getMyProfiles()).profile}}catch(n){return{error:n}}});class yY{constructor(){qt(this,"url",ve.url+"/history");qt(this,"headers",{"Access-Control-Allow-Origin":"*"})}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async storyCreate({profile:e,story:n}){const r=await this.getAuthHeaders();return(await ee.post(this.url+"/story",{profile:e,story:n},{headers:r})).data}async collectionCreate({profile:e,collection:n}){const r=await this.getAuthHeaders();return(await ee.post(this.url+"/collection",{profile:e,collection:n},{headers:r})).data}}const RL=new yY,vY=Se("history/postStoryHistory",async({profile:t,story:e},n)=>({profile:(await RL.storyCreate({profile:t,story:e})).profile})),_Y=Se("history/postCollectionHistory",async({profile:t,collection:e},n)=>({profile:(await RL.collectionCreate({profile:t,collection:e})).profile}));class wY{constructor(){qt(this,"headers",{"Access-Control-Allow-Origin":"*"})}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async create({follower:e,following:n}){let r=await this.getAuthHeaders();return(await ee.post(ve.url+"/follow",{follower:e,following:n},{headers:r})).data}async delete({id:e}){let n=await this.getAuthHeaders();return(await ee.delete(ve.url+"/follow/"+e,{headers:n})).data}}const PL=new wY,bY=Se("follow/createFollow",async({follower:t,following:e},n)=>{try{return{follow:(await PL.create({follower:t,following:e})).follow}}catch(r){return{error:r}}}),EY=Se("follow/deleteFollow",async({follow:t},e)=>{try{let n=await PL.delete({id:t.id});return{profile:n.profile,followed:n.followed}}catch(n){return{profile:null,error:n}}}),Hr=Object.create(null);Hr.open="0";Hr.close="1";Hr.ping="2";Hr.pong="3";Hr.message="4";Hr.upgrade="5";Hr.noop="6";const Gf=Object.create(null);Object.keys(Hr).forEach(t=>{Gf[Hr[t]]=t});const Dw={type:"error",data:"parser error"},OL=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",DL=typeof ArrayBuffer=="function",NL=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t&&t.buffer instanceof ArrayBuffer,ZE=({type:t,data:e},n,r)=>OL&&e instanceof Blob?n?r(e):Nk(e,r):DL&&(e instanceof ArrayBuffer||NL(e))?n?r(e):Nk(new Blob([e]),r):r(Hr[t]+(e||"")),Nk=(t,e)=>{const n=new FileReader;return n.onload=function(){const r=n.result.split(",")[1];e("b"+(r||""))},n.readAsDataURL(t)};function Lk(t){return t instanceof Uint8Array?t:t instanceof ArrayBuffer?new Uint8Array(t):new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}let yv;function TY(t,e){if(OL&&t.data instanceof Blob)return t.data.arrayBuffer().then(Lk).then(e);if(DL&&(t.data instanceof ArrayBuffer||NL(t.data)))return e(Lk(t.data));ZE(t,!1,n=>{yv||(yv=new TextEncoder),e(yv.encode(n))})}const $k="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ru=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let t=0;t<$k.length;t++)ru[$k.charCodeAt(t)]=t;const IY=t=>{let e=t.length*.75,n=t.length,r,i=0,s,o,a,l;t[t.length-1]==="="&&(e--,t[t.length-2]==="="&&e--);const c=new ArrayBuffer(e),d=new Uint8Array(c);for(r=0;r<n;r+=4)s=ru[t.charCodeAt(r)],o=ru[t.charCodeAt(r+1)],a=ru[t.charCodeAt(r+2)],l=ru[t.charCodeAt(r+3)],d[i++]=s<<2|o>>4,d[i++]=(o&15)<<4|a>>2,d[i++]=(a&3)<<6|l&63;return c},SY=typeof ArrayBuffer=="function",eT=(t,e)=>{if(typeof t!="string")return{type:"message",data:LL(t,e)};const n=t.charAt(0);return n==="b"?{type:"message",data:xY(t.substring(1),e)}:Gf[n]?t.length>1?{type:Gf[n],data:t.substring(1)}:{type:Gf[n]}:Dw},xY=(t,e)=>{if(SY){const n=IY(t);return LL(n,e)}else return{base64:!0,data:t}},LL=(t,e)=>{switch(e){case"blob":return t instanceof Blob?t:new Blob([t]);case"arraybuffer":default:return t instanceof ArrayBuffer?t:t.buffer}},$L="",kY=(t,e)=>{const n=t.length,r=new Array(n);let i=0;t.forEach((s,o)=>{ZE(s,!1,a=>{r[o]=a,++i===n&&e(r.join($L))})})},AY=(t,e)=>{const n=t.split($L),r=[];for(let i=0;i<n.length;i++){const s=eT(n[i],e);if(r.push(s),s.type==="error")break}return r};function CY(){return new TransformStream({transform(t,e){TY(t,n=>{const r=n.length;let i;if(r<126)i=new Uint8Array(1),new DataView(i.buffer).setUint8(0,r);else if(r<65536){i=new Uint8Array(3);const s=new DataView(i.buffer);s.setUint8(0,126),s.setUint16(1,r)}else{i=new Uint8Array(9);const s=new DataView(i.buffer);s.setUint8(0,127),s.setBigUint64(1,BigInt(r))}t.data&&typeof t.data!="string"&&(i[0]|=128),e.enqueue(i),e.enqueue(n)})}})}let vv;function uf(t){return t.reduce((e,n)=>e+n.length,0)}function df(t,e){if(t[0].length===e)return t.shift();const n=new Uint8Array(e);let r=0;for(let i=0;i<e;i++)n[i]=t[0][r++],r===t[0].length&&(t.shift(),r=0);return t.length&&r<t[0].length&&(t[0]=t[0].slice(r)),n}function RY(t,e){vv||(vv=new TextDecoder);const n=[];let r=0,i=-1,s=!1;return new TransformStream({transform(o,a){for(n.push(o);;){if(r===0){if(uf(n)<1)break;const l=df(n,1);s=(l[0]&128)===128,i=l[0]&127,i<126?r=3:i===126?r=1:r=2}else if(r===1){if(uf(n)<2)break;const l=df(n,2);i=new DataView(l.buffer,l.byteOffset,l.length).getUint16(0),r=3}else if(r===2){if(uf(n)<8)break;const l=df(n,8),c=new DataView(l.buffer,l.byteOffset,l.length),d=c.getUint32(0);if(d>Math.pow(2,21)-1){a.enqueue(Dw);break}i=d*Math.pow(2,32)+c.getUint32(4),r=3}else{if(uf(n)<i)break;const l=df(n,i);a.enqueue(eT(s?l:vv.decode(l),e)),r=0}if(i===0||i>t){a.enqueue(Dw);break}}}})}const VL=4;function vt(t){if(t)return PY(t)}function PY(t){for(var e in vt.prototype)t[e]=vt.prototype[e];return t}vt.prototype.on=vt.prototype.addEventListener=function(t,e){return this._callbacks=this._callbacks||{},(this._callbacks["$"+t]=this._callbacks["$"+t]||[]).push(e),this};vt.prototype.once=function(t,e){function n(){this.off(t,n),e.apply(this,arguments)}return n.fn=e,this.on(t,n),this};vt.prototype.off=vt.prototype.removeListener=vt.prototype.removeAllListeners=vt.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var n=this._callbacks["$"+t];if(!n)return this;if(arguments.length==1)return delete this._callbacks["$"+t],this;for(var r,i=0;i<n.length;i++)if(r=n[i],r===e||r.fn===e){n.splice(i,1);break}return n.length===0&&delete this._callbacks["$"+t],this};vt.prototype.emit=function(t){this._callbacks=this._callbacks||{};for(var e=new Array(arguments.length-1),n=this._callbacks["$"+t],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(n){n=n.slice(0);for(var r=0,i=n.length;r<i;++r)n[r].apply(this,e)}return this};vt.prototype.emitReserved=vt.prototype.emit;vt.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks["$"+t]||[]};vt.prototype.hasListeners=function(t){return!!this.listeners(t).length};const $g=typeof Promise=="function"&&typeof Promise.resolve=="function"?e=>Promise.resolve().then(e):(e,n)=>n(e,0),Gn=typeof self<"u"?self:typeof window<"u"?window:Function("return this")(),OY="arraybuffer";function ML(t,...e){return e.reduce((n,r)=>(t.hasOwnProperty(r)&&(n[r]=t[r]),n),{})}const DY=Gn.setTimeout,NY=Gn.clearTimeout;function Vg(t,e){e.useNativeTimers?(t.setTimeoutFn=DY.bind(Gn),t.clearTimeoutFn=NY.bind(Gn)):(t.setTimeoutFn=Gn.setTimeout.bind(Gn),t.clearTimeoutFn=Gn.clearTimeout.bind(Gn))}const LY=1.33;function $Y(t){return typeof t=="string"?VY(t):Math.ceil((t.byteLength||t.size)*LY)}function VY(t){let e=0,n=0;for(let r=0,i=t.length;r<i;r++)e=t.charCodeAt(r),e<128?n+=1:e<2048?n+=2:e<55296||e>=57344?n+=3:(r++,n+=4);return n}function FL(){return Date.now().toString(36).substring(3)+Math.random().toString(36).substring(2,5)}function MY(t){let e="";for(let n in t)t.hasOwnProperty(n)&&(e.length&&(e+="&"),e+=encodeURIComponent(n)+"="+encodeURIComponent(t[n]));return e}function FY(t){let e={},n=t.split("&");for(let r=0,i=n.length;r<i;r++){let s=n[r].split("=");e[decodeURIComponent(s[0])]=decodeURIComponent(s[1])}return e}class BY extends Error{constructor(e,n,r){super(e),this.description=n,this.context=r,this.type="TransportError"}}class tT extends vt{constructor(e){super(),this.writable=!1,Vg(this,e),this.opts=e,this.query=e.query,this.socket=e.socket,this.supportsBinary=!e.forceBase64}onError(e,n,r){return super.emitReserved("error",new BY(e,n,r)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(e){this.readyState==="open"&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const n=eT(e,this.socket.binaryType);this.onPacket(n)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,n={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(n)}_hostname(){const e=this.opts.hostname;return e.indexOf(":")===-1?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(e){const n=MY(e);return n.length?"?"+n:""}}class UY extends tT{constructor(){super(...arguments),this._polling=!1}get name(){return"polling"}doOpen(){this._poll()}pause(e){this.readyState="pausing";const n=()=>{this.readyState="paused",e()};if(this._polling||!this.writable){let r=0;this._polling&&(r++,this.once("pollComplete",function(){--r||n()})),this.writable||(r++,this.once("drain",function(){--r||n()}))}else n()}_poll(){this._polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){const n=r=>{if(this.readyState==="opening"&&r.type==="open"&&this.onOpen(),r.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(r)};AY(e,this.socket.binaryType).forEach(n),this.readyState!=="closed"&&(this._polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this._poll())}doClose(){const e=()=>{this.write([{type:"close"}])};this.readyState==="open"?e():this.once("open",e)}write(e){this.writable=!1,kY(e,n=>{this.doWrite(n,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const e=this.opts.secure?"https":"http",n=this.query||{};return this.opts.timestampRequests!==!1&&(n[this.opts.timestampParam]=FL()),!this.supportsBinary&&!n.sid&&(n.b64=1),this.createUri(e,n)}}let BL=!1;try{BL=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch{}const zY=BL;function jY(){}class qY extends UY{constructor(e){if(super(e),typeof location<"u"){const n=location.protocol==="https:";let r=location.port;r||(r=n?"443":"80"),this.xd=typeof location<"u"&&e.hostname!==location.hostname||r!==e.port}}doWrite(e,n){const r=this.request({method:"POST",data:e});r.on("success",n),r.on("error",(i,s)=>{this.onError("xhr post error",i,s)})}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",(n,r)=>{this.onError("xhr poll error",n,r)}),this.pollXhr=e}}let ll=class Kf extends vt{constructor(e,n,r){super(),this.createRequest=e,Vg(this,r),this._opts=r,this._method=r.method||"GET",this._uri=n,this._data=r.data!==void 0?r.data:null,this._create()}_create(){var e;const n=ML(this._opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");n.xdomain=!!this._opts.xd;const r=this._xhr=this.createRequest(n);try{r.open(this._method,this._uri,!0);try{if(this._opts.extraHeaders){r.setDisableHeaderCheck&&r.setDisableHeaderCheck(!0);for(let i in this._opts.extraHeaders)this._opts.extraHeaders.hasOwnProperty(i)&&r.setRequestHeader(i,this._opts.extraHeaders[i])}}catch{}if(this._method==="POST")try{r.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{r.setRequestHeader("Accept","*/*")}catch{}(e=this._opts.cookieJar)===null||e===void 0||e.addCookies(r),"withCredentials"in r&&(r.withCredentials=this._opts.withCredentials),this._opts.requestTimeout&&(r.timeout=this._opts.requestTimeout),r.onreadystatechange=()=>{var i;r.readyState===3&&((i=this._opts.cookieJar)===null||i===void 0||i.parseCookies(r.getResponseHeader("set-cookie"))),r.readyState===4&&(r.status===200||r.status===1223?this._onLoad():this.setTimeoutFn(()=>{this._onError(typeof r.status=="number"?r.status:0)},0))},r.send(this._data)}catch(i){this.setTimeoutFn(()=>{this._onError(i)},0);return}typeof document<"u"&&(this._index=Kf.requestsCount++,Kf.requests[this._index]=this)}_onError(e){this.emitReserved("error",e,this._xhr),this._cleanup(!0)}_cleanup(e){if(!(typeof this._xhr>"u"||this._xhr===null)){if(this._xhr.onreadystatechange=jY,e)try{this._xhr.abort()}catch{}typeof document<"u"&&delete Kf.requests[this._index],this._xhr=null}}_onLoad(){const e=this._xhr.responseText;e!==null&&(this.emitReserved("data",e),this.emitReserved("success"),this._cleanup())}abort(){this._cleanup()}};ll.requestsCount=0;ll.requests={};if(typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",Vk);else if(typeof addEventListener=="function"){const t="onpagehide"in Gn?"pagehide":"unload";addEventListener(t,Vk,!1)}}function Vk(){for(let t in ll.requests)ll.requests.hasOwnProperty(t)&&ll.requests[t].abort()}const HY=function(){const t=UL({xdomain:!1});return t&&t.responseType!==null}();class WY extends qY{constructor(e){super(e);const n=e&&e.forceBase64;this.supportsBinary=HY&&!n}request(e={}){return Object.assign(e,{xd:this.xd},this.opts),new ll(UL,this.uri(),e)}}function UL(t){const e=t.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!e||zY))return new XMLHttpRequest}catch{}if(!e)try{return new Gn[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}const zL=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class GY extends tT{get name(){return"websocket"}doOpen(){const e=this.uri(),n=this.opts.protocols,r=zL?{}:ML(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=this.createSocket(e,n,r)}catch(i){return this.emitReserved("error",i)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;ZE(r,this.supportsBinary,s=>{try{this.doWrite(r,s)}catch{}i&&$g(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.onerror=()=>{},this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",n=this.query||{};return this.opts.timestampRequests&&(n[this.opts.timestampParam]=FL()),this.supportsBinary||(n.b64=1),this.createUri(e,n)}}const _v=Gn.WebSocket||Gn.MozWebSocket;class KY extends GY{createSocket(e,n,r){return zL?new _v(e,n,r):n?new _v(e,n):new _v(e)}doWrite(e,n){this.ws.send(n)}}class QY extends tT{get name(){return"webtransport"}doOpen(){try{this._transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name])}catch(e){return this.emitReserved("error",e)}this._transport.closed.then(()=>{this.onClose()}).catch(e=>{this.onError("webtransport error",e)}),this._transport.ready.then(()=>{this._transport.createBidirectionalStream().then(e=>{const n=RY(Number.MAX_SAFE_INTEGER,this.socket.binaryType),r=e.readable.pipeThrough(n).getReader(),i=CY();i.readable.pipeTo(e.writable),this._writer=i.writable.getWriter();const s=()=>{r.read().then(({done:a,value:l})=>{a||(this.onPacket(l),s())}).catch(a=>{})};s();const o={type:"open"};this.query.sid&&(o.data=`{"sid":"${this.query.sid}"}`),this._writer.write(o).then(()=>this.onOpen())})})}write(e){this.writable=!1;for(let n=0;n<e.length;n++){const r=e[n],i=n===e.length-1;this._writer.write(r).then(()=>{i&&$g(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var e;(e=this._transport)===null||e===void 0||e.close()}}const XY={websocket:KY,webtransport:QY,polling:WY},YY=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,JY=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Nw(t){if(t.length>8e3)throw"URI too long";const e=t,n=t.indexOf("["),r=t.indexOf("]");n!=-1&&r!=-1&&(t=t.substring(0,n)+t.substring(n,r).replace(/:/g,";")+t.substring(r,t.length));let i=YY.exec(t||""),s={},o=14;for(;o--;)s[JY[o]]=i[o]||"";return n!=-1&&r!=-1&&(s.source=e,s.host=s.host.substring(1,s.host.length-1).replace(/;/g,":"),s.authority=s.authority.replace("[","").replace("]","").replace(/;/g,":"),s.ipv6uri=!0),s.pathNames=ZY(s,s.path),s.queryKey=eJ(s,s.query),s}function ZY(t,e){const n=/\/{2,9}/g,r=e.replace(n,"/").split("/");return(e.slice(0,1)=="/"||e.length===0)&&r.splice(0,1),e.slice(-1)=="/"&&r.splice(r.length-1,1),r}function eJ(t,e){const n={};return e.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(r,i,s){i&&(n[i]=s)}),n}const Lw=typeof addEventListener=="function"&&typeof removeEventListener=="function",Qf=[];Lw&&addEventListener("offline",()=>{Qf.forEach(t=>t())},!1);class Is extends vt{constructor(e,n){if(super(),this.binaryType=OY,this.writeBuffer=[],this._prevBufferLen=0,this._pingInterval=-1,this._pingTimeout=-1,this._maxPayload=-1,this._pingTimeoutTime=1/0,e&&typeof e=="object"&&(n=e,e=null),e){const r=Nw(e);n.hostname=r.host,n.secure=r.protocol==="https"||r.protocol==="wss",n.port=r.port,r.query&&(n.query=r.query)}else n.host&&(n.hostname=Nw(n.host).host);Vg(this,n),this.secure=n.secure!=null?n.secure:typeof location<"u"&&location.protocol==="https:",n.hostname&&!n.port&&(n.port=this.secure?"443":"80"),this.hostname=n.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=n.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=[],this._transportsByName={},n.transports.forEach(r=>{const i=r.prototype.name;this.transports.push(i),this._transportsByName[i]=r}),this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},n),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=FY(this.opts.query)),Lw&&(this.opts.closeOnBeforeunload&&(this._beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this._beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this._offlineEventListener=()=>{this._onClose("transport close",{description:"network connection lost"})},Qf.push(this._offlineEventListener))),this.opts.withCredentials&&(this._cookieJar=void 0),this._open()}createTransport(e){const n=Object.assign({},this.opts.query);n.EIO=VL,n.transport=e,this.id&&(n.sid=this.id);const r=Object.assign({},this.opts,{query:n,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new this._transportsByName[e](r)}_open(){if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}const e=this.opts.rememberUpgrade&&Is.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1?"websocket":this.transports[0];this.readyState="opening";const n=this.createTransport(e);n.open(),this.setTransport(n)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this._onDrain.bind(this)).on("packet",this._onPacket.bind(this)).on("error",this._onError.bind(this)).on("close",n=>this._onClose("transport close",n))}onOpen(){this.readyState="open",Is.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush()}_onPacket(e){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this._sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong"),this._resetPingTimeout();break;case"error":const n=new Error("server error");n.code=e.data,this._onError(n);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data);break}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this._pingInterval=e.pingInterval,this._pingTimeout=e.pingTimeout,this._maxPayload=e.maxPayload,this.onOpen(),this.readyState!=="closed"&&this._resetPingTimeout()}_resetPingTimeout(){this.clearTimeoutFn(this._pingTimeoutTimer);const e=this._pingInterval+this._pingTimeout;this._pingTimeoutTime=Date.now()+e,this._pingTimeoutTimer=this.setTimeoutFn(()=>{this._onClose("ping timeout")},e),this.opts.autoUnref&&this._pingTimeoutTimer.unref()}_onDrain(){this.writeBuffer.splice(0,this._prevBufferLen),this._prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this._getWritablePackets();this.transport.send(e),this._prevBufferLen=e.length,this.emitReserved("flush")}}_getWritablePackets(){if(!(this._maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let n=1;for(let r=0;r<this.writeBuffer.length;r++){const i=this.writeBuffer[r].data;if(i&&(n+=$Y(i)),r>0&&n>this._maxPayload)return this.writeBuffer.slice(0,r);n+=2}return this.writeBuffer}_hasPingExpired(){if(!this._pingTimeoutTime)return!0;const e=Date.now()>this._pingTimeoutTime;return e&&(this._pingTimeoutTime=0,$g(()=>{this._onClose("ping timeout")},this.setTimeoutFn)),e}write(e,n,r){return this._sendPacket("message",e,n,r),this}send(e,n,r){return this._sendPacket("message",e,n,r),this}_sendPacket(e,n,r,i){if(typeof n=="function"&&(i=n,n=void 0),typeof r=="function"&&(i=r,r=null),this.readyState==="closing"||this.readyState==="closed")return;r=r||{},r.compress=r.compress!==!1;const s={type:e,data:n,options:r};this.emitReserved("packetCreate",s),this.writeBuffer.push(s),i&&this.once("flush",i),this.flush()}close(){const e=()=>{this._onClose("forced close"),this.transport.close()},n=()=>{this.off("upgrade",n),this.off("upgradeError",n),e()},r=()=>{this.once("upgrade",n),this.once("upgradeError",n)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?r():e()}):this.upgrading?r():e()),this}_onError(e){if(Is.priorWebsocketSuccess=!1,this.opts.tryAllTransports&&this.transports.length>1&&this.readyState==="opening")return this.transports.shift(),this._open();this.emitReserved("error",e),this._onClose("transport error",e)}_onClose(e,n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing"){if(this.clearTimeoutFn(this._pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),Lw&&(this._beforeunloadEventListener&&removeEventListener("beforeunload",this._beforeunloadEventListener,!1),this._offlineEventListener)){const r=Qf.indexOf(this._offlineEventListener);r!==-1&&Qf.splice(r,1)}this.readyState="closed",this.id=null,this.emitReserved("close",e,n),this.writeBuffer=[],this._prevBufferLen=0}}}Is.protocol=VL;class tJ extends Is{constructor(){super(...arguments),this._upgrades=[]}onOpen(){if(super.onOpen(),this.readyState==="open"&&this.opts.upgrade)for(let e=0;e<this._upgrades.length;e++)this._probe(this._upgrades[e])}_probe(e){let n=this.createTransport(e),r=!1;Is.priorWebsocketSuccess=!1;const i=()=>{r||(n.send([{type:"ping",data:"probe"}]),n.once("packet",h=>{if(!r)if(h.type==="pong"&&h.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",n),!n)return;Is.priorWebsocketSuccess=n.name==="websocket",this.transport.pause(()=>{r||this.readyState!=="closed"&&(d(),this.setTransport(n),n.send([{type:"upgrade"}]),this.emitReserved("upgrade",n),n=null,this.upgrading=!1,this.flush())})}else{const f=new Error("probe error");f.transport=n.name,this.emitReserved("upgradeError",f)}}))};function s(){r||(r=!0,d(),n.close(),n=null)}const o=h=>{const f=new Error("probe error: "+h);f.transport=n.name,s(),this.emitReserved("upgradeError",f)};function a(){o("transport closed")}function l(){o("socket closed")}function c(h){n&&h.name!==n.name&&s()}const d=()=>{n.removeListener("open",i),n.removeListener("error",o),n.removeListener("close",a),this.off("close",l),this.off("upgrading",c)};n.once("open",i),n.once("error",o),n.once("close",a),this.once("close",l),this.once("upgrading",c),this._upgrades.indexOf("webtransport")!==-1&&e!=="webtransport"?this.setTimeoutFn(()=>{r||n.open()},200):n.open()}onHandshake(e){this._upgrades=this._filterUpgrades(e.upgrades),super.onHandshake(e)}_filterUpgrades(e){const n=[];for(let r=0;r<e.length;r++)~this.transports.indexOf(e[r])&&n.push(e[r]);return n}}let nJ=class extends tJ{constructor(e,n={}){const r=typeof e=="object"?e:n;(!r.transports||r.transports&&typeof r.transports[0]=="string")&&(r.transports=(r.transports||["polling","websocket","webtransport"]).map(i=>XY[i]).filter(i=>!!i)),super(e,r)}};function rJ(t,e="",n){let r=t;n=n||typeof location<"u"&&location,t==null&&(t=n.protocol+"//"+n.host),typeof t=="string"&&(t.charAt(0)==="/"&&(t.charAt(1)==="/"?t=n.protocol+t:t=n.host+t),/^(https?|wss?):\/\//.test(t)||(typeof n<"u"?t=n.protocol+"//"+t:t="https://"+t),r=Nw(t)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const s=r.host.indexOf(":")!==-1?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+s+":"+r.port+e,r.href=r.protocol+"://"+s+(n&&n.port===r.port?"":":"+r.port),r}const iJ=typeof ArrayBuffer=="function",sJ=t=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(t):t.buffer instanceof ArrayBuffer,jL=Object.prototype.toString,oJ=typeof Blob=="function"||typeof Blob<"u"&&jL.call(Blob)==="[object BlobConstructor]",aJ=typeof File=="function"||typeof File<"u"&&jL.call(File)==="[object FileConstructor]";function nT(t){return iJ&&(t instanceof ArrayBuffer||sJ(t))||oJ&&t instanceof Blob||aJ&&t instanceof File}function Xf(t,e){if(!t||typeof t!="object")return!1;if(Array.isArray(t)){for(let n=0,r=t.length;n<r;n++)if(Xf(t[n]))return!0;return!1}if(nT(t))return!0;if(t.toJSON&&typeof t.toJSON=="function"&&arguments.length===1)return Xf(t.toJSON(),!0);for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&Xf(t[n]))return!0;return!1}function lJ(t){const e=[],n=t.data,r=t;return r.data=$w(n,e),r.attachments=e.length,{packet:r,buffers:e}}function $w(t,e){if(!t)return t;if(nT(t)){const n={_placeholder:!0,num:e.length};return e.push(t),n}else if(Array.isArray(t)){const n=new Array(t.length);for(let r=0;r<t.length;r++)n[r]=$w(t[r],e);return n}else if(typeof t=="object"&&!(t instanceof Date)){const n={};for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=$w(t[r],e));return n}return t}function cJ(t,e){return t.data=Vw(t.data,e),delete t.attachments,t}function Vw(t,e){if(!t)return t;if(t&&t._placeholder===!0){if(typeof t.num=="number"&&t.num>=0&&t.num<e.length)return e[t.num];throw new Error("illegal attachments")}else if(Array.isArray(t))for(let n=0;n<t.length;n++)t[n]=Vw(t[n],e);else if(typeof t=="object")for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&(t[n]=Vw(t[n],e));return t}const uJ=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],dJ=5;var Ie;(function(t){t[t.CONNECT=0]="CONNECT",t[t.DISCONNECT=1]="DISCONNECT",t[t.EVENT=2]="EVENT",t[t.ACK=3]="ACK",t[t.CONNECT_ERROR=4]="CONNECT_ERROR",t[t.BINARY_EVENT=5]="BINARY_EVENT",t[t.BINARY_ACK=6]="BINARY_ACK"})(Ie||(Ie={}));class hJ{constructor(e){this.replacer=e}encode(e){return(e.type===Ie.EVENT||e.type===Ie.ACK)&&Xf(e)?this.encodeAsBinary({type:e.type===Ie.EVENT?Ie.BINARY_EVENT:Ie.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id}):[this.encodeAsString(e)]}encodeAsString(e){let n=""+e.type;return(e.type===Ie.BINARY_EVENT||e.type===Ie.BINARY_ACK)&&(n+=e.attachments+"-"),e.nsp&&e.nsp!=="/"&&(n+=e.nsp+","),e.id!=null&&(n+=e.id),e.data!=null&&(n+=JSON.stringify(e.data,this.replacer)),n}encodeAsBinary(e){const n=lJ(e),r=this.encodeAsString(n.packet),i=n.buffers;return i.unshift(r),i}}function Mk(t){return Object.prototype.toString.call(t)==="[object Object]"}class rT extends vt{constructor(e){super(),this.reviver=e}add(e){let n;if(typeof e=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");n=this.decodeString(e);const r=n.type===Ie.BINARY_EVENT;r||n.type===Ie.BINARY_ACK?(n.type=r?Ie.EVENT:Ie.ACK,this.reconstructor=new fJ(n),n.attachments===0&&super.emitReserved("decoded",n)):super.emitReserved("decoded",n)}else if(nT(e)||e.base64)if(this.reconstructor)n=this.reconstructor.takeBinaryData(e),n&&(this.reconstructor=null,super.emitReserved("decoded",n));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+e)}decodeString(e){let n=0;const r={type:Number(e.charAt(0))};if(Ie[r.type]===void 0)throw new Error("unknown packet type "+r.type);if(r.type===Ie.BINARY_EVENT||r.type===Ie.BINARY_ACK){const s=n+1;for(;e.charAt(++n)!=="-"&&n!=e.length;);const o=e.substring(s,n);if(o!=Number(o)||e.charAt(n)!=="-")throw new Error("Illegal attachments");r.attachments=Number(o)}if(e.charAt(n+1)==="/"){const s=n+1;for(;++n&&!(e.charAt(n)===","||n===e.length););r.nsp=e.substring(s,n)}else r.nsp="/";const i=e.charAt(n+1);if(i!==""&&Number(i)==i){const s=n+1;for(;++n;){const o=e.charAt(n);if(o==null||Number(o)!=o){--n;break}if(n===e.length)break}r.id=Number(e.substring(s,n+1))}if(e.charAt(++n)){const s=this.tryParse(e.substr(n));if(rT.isPayloadValid(r.type,s))r.data=s;else throw new Error("invalid payload")}return r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch{return!1}}static isPayloadValid(e,n){switch(e){case Ie.CONNECT:return Mk(n);case Ie.DISCONNECT:return n===void 0;case Ie.CONNECT_ERROR:return typeof n=="string"||Mk(n);case Ie.EVENT:case Ie.BINARY_EVENT:return Array.isArray(n)&&(typeof n[0]=="number"||typeof n[0]=="string"&&uJ.indexOf(n[0])===-1);case Ie.ACK:case Ie.BINARY_ACK:return Array.isArray(n)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class fJ{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const n=cJ(this.reconPack,this.buffers);return this.finishedReconstruction(),n}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}const pJ=Object.freeze(Object.defineProperty({__proto__:null,Decoder:rT,Encoder:hJ,get PacketType(){return Ie},protocol:dJ},Symbol.toStringTag,{value:"Module"}));function lr(t,e,n){return t.on(e,n),function(){t.off(e,n)}}const mJ=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class qL extends vt{constructor(e,n,r){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=n,r&&r.auth&&(this.auth=r.auth),this._opts=Object.assign({},r),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[lr(e,"open",this.onopen.bind(this)),lr(e,"packet",this.onpacket.bind(this)),lr(e,"error",this.onerror.bind(this)),lr(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...n){var r,i,s;if(mJ.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(n.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(n),this;const o={type:Ie.EVENT,data:n};if(o.options={},o.options.compress=this.flags.compress!==!1,typeof n[n.length-1]=="function"){const d=this.ids++,h=n.pop();this._registerAckCallback(d,h),o.id=d}const a=(i=(r=this.io.engine)===null||r===void 0?void 0:r.transport)===null||i===void 0?void 0:i.writable,l=this.connected&&!(!((s=this.io.engine)===null||s===void 0)&&s._hasPingExpired());return this.flags.volatile&&!a||(l?(this.notifyOutgoingListeners(o),this.packet(o)):this.sendBuffer.push(o)),this.flags={},this}_registerAckCallback(e,n){var r;const i=(r=this.flags.timeout)!==null&&r!==void 0?r:this._opts.ackTimeout;if(i===void 0){this.acks[e]=n;return}const s=this.io.setTimeoutFn(()=>{delete this.acks[e];for(let a=0;a<this.sendBuffer.length;a++)this.sendBuffer[a].id===e&&this.sendBuffer.splice(a,1);n.call(this,new Error("operation has timed out"))},i),o=(...a)=>{this.io.clearTimeoutFn(s),n.apply(this,a)};o.withError=!0,this.acks[e]=o}emitWithAck(e,...n){return new Promise((r,i)=>{const s=(o,a)=>o?i(o):r(a);s.withError=!0,n.push(s),this.emit(e,...n)})}_addToQueue(e){let n;typeof e[e.length-1]=="function"&&(n=e.pop());const r={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push((i,...s)=>r!==this._queue[0]?void 0:(i!==null?r.tryCount>this._opts.retries&&(this._queue.shift(),n&&n(i)):(this._queue.shift(),n&&n(null,...s)),r.pending=!1,this._drainQueue())),this._queue.push(r),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||this._queue.length===0)return;const n=this._queue[0];n.pending&&!e||(n.pending=!0,n.tryCount++,this.flags=n.flags,this.emit.apply(this,n.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){typeof this.auth=="function"?this.auth(e=>{this._sendConnectPacket(e)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:Ie.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,n){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,n),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach(e=>{if(!this.sendBuffer.some(r=>String(r.id)===e)){const r=this.acks[e];delete this.acks[e],r.withError&&r.call(this,new Error("socket has been disconnected"))}})}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case Ie.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case Ie.EVENT:case Ie.BINARY_EVENT:this.onevent(e);break;case Ie.ACK:case Ie.BINARY_ACK:this.onack(e);break;case Ie.DISCONNECT:this.ondisconnect();break;case Ie.CONNECT_ERROR:this.destroy();const r=new Error(e.data.message);r.data=e.data.data,this.emitReserved("connect_error",r);break}}onevent(e){const n=e.data||[];e.id!=null&&n.push(this.ack(e.id)),this.connected?this.emitEvent(n):this.receiveBuffer.push(Object.freeze(n))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const n=this._anyListeners.slice();for(const r of n)r.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&typeof e[e.length-1]=="string"&&(this._lastOffset=e[e.length-1])}ack(e){const n=this;let r=!1;return function(...i){r||(r=!0,n.packet({type:Ie.ACK,id:e,data:i}))}}onack(e){const n=this.acks[e.id];typeof n=="function"&&(delete this.acks[e.id],n.withError&&e.data.unshift(null),n.apply(this,e.data))}onconnect(e,n){this.id=e,this.recovered=n&&this._pid===n,this._pid=n,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(e=>this.emitEvent(e)),this.receiveBuffer=[],this.sendBuffer.forEach(e=>{this.notifyOutgoingListeners(e),this.packet(e)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(e=>e()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:Ie.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const n=this._anyListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const n=this._anyOutgoingListeners;for(let r=0;r<n.length;r++)if(e===n[r])return n.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const n=this._anyOutgoingListeners.slice();for(const r of n)r.apply(this,e.data)}}}function uc(t){t=t||{},this.ms=t.min||100,this.max=t.max||1e4,this.factor=t.factor||2,this.jitter=t.jitter>0&&t.jitter<=1?t.jitter:0,this.attempts=0}uc.prototype.duration=function(){var t=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var e=Math.random(),n=Math.floor(e*this.jitter*t);t=Math.floor(e*10)&1?t+n:t-n}return Math.min(t,this.max)|0};uc.prototype.reset=function(){this.attempts=0};uc.prototype.setMin=function(t){this.ms=t};uc.prototype.setMax=function(t){this.max=t};uc.prototype.setJitter=function(t){this.jitter=t};class Mw extends vt{constructor(e,n){var r;super(),this.nsps={},this.subs=[],e&&typeof e=="object"&&(n=e,e=void 0),n=n||{},n.path=n.path||"/socket.io",this.opts=n,Vg(this,n),this.reconnection(n.reconnection!==!1),this.reconnectionAttempts(n.reconnectionAttempts||1/0),this.reconnectionDelay(n.reconnectionDelay||1e3),this.reconnectionDelayMax(n.reconnectionDelayMax||5e3),this.randomizationFactor((r=n.randomizationFactor)!==null&&r!==void 0?r:.5),this.backoff=new uc({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(n.timeout==null?2e4:n.timeout),this._readyState="closed",this.uri=e;const i=n.parser||pJ;this.encoder=new i.Encoder,this.decoder=new i.Decoder,this._autoConnect=n.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,e||(this.skipReconnect=!0),this):this._reconnection}reconnectionAttempts(e){return e===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var n;return e===void 0?this._reconnectionDelay:(this._reconnectionDelay=e,(n=this.backoff)===null||n===void 0||n.setMin(e),this)}randomizationFactor(e){var n;return e===void 0?this._randomizationFactor:(this._randomizationFactor=e,(n=this.backoff)===null||n===void 0||n.setJitter(e),this)}reconnectionDelayMax(e){var n;return e===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,(n=this.backoff)===null||n===void 0||n.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new nJ(this.uri,this.opts);const n=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const i=lr(n,"open",function(){r.onopen(),e&&e()}),s=a=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",a),e?e(a):this.maybeReconnectOnOpen()},o=lr(n,"error",s);if(this._timeout!==!1){const a=this._timeout,l=this.setTimeoutFn(()=>{i(),s(new Error("timeout")),n.close()},a);this.opts.autoUnref&&l.unref(),this.subs.push(()=>{this.clearTimeoutFn(l)})}return this.subs.push(i),this.subs.push(o),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(lr(e,"ping",this.onping.bind(this)),lr(e,"data",this.ondata.bind(this)),lr(e,"error",this.onerror.bind(this)),lr(e,"close",this.onclose.bind(this)),lr(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(n){this.onclose("parse error",n)}}ondecoded(e){$g(()=>{this.emitReserved("packet",e)},this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,n){let r=this.nsps[e];return r?this._autoConnect&&!r.active&&r.connect():(r=new qL(this,e,n),this.nsps[e]=r),r}_destroy(e){const n=Object.keys(this.nsps);for(const r of n)if(this.nsps[r].active)return;this._close()}_packet(e){const n=this.encoder.encode(e);for(let r=0;r<n.length;r++)this.engine.write(n[r],e.options)}cleanup(){this.subs.forEach(e=>e()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close")}disconnect(){return this._close()}onclose(e,n){var r;this.cleanup(),(r=this.engine)===null||r===void 0||r.close(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,n),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const n=this.backoff.duration();this._reconnecting=!0;const r=this.setTimeoutFn(()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),!e.skipReconnect&&e.open(i=>{i?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",i)):e.onreconnect()}))},n);this.opts.autoUnref&&r.unref(),this.subs.push(()=>{this.clearTimeoutFn(r)})}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Wc={};function Yf(t,e){typeof t=="object"&&(e=t,t=void 0),e=e||{};const n=rJ(t,e.path||"/socket.io"),r=n.source,i=n.id,s=n.path,o=Wc[i]&&s in Wc[i].nsps,a=e.forceNew||e["force new connection"]||e.multiplex===!1||o;let l;return a?l=new Mw(r,e):(Wc[i]||(Wc[i]=new Mw(r,e)),l=Wc[i]),n.query&&!e.query&&(e.query=n.queryKey),l.socket(n.path,e)}Object.assign(Yf,{Manager:Mw,Socket:qL,io:Yf,connect:Yf});class gJ{constructor(){qt(this,"headers",{"Access-Control-Allow-Origin":"*"});qt(this,"url",ve.url+"/workshop")}async getAuthHeaders(){const{value:e}=await Pn.get({key:"token"});return{...this.headers,Authorization:`Bearer ${e}`}}async joinWorkshop({profile:e,story:n,location:r}){const i=await this.getAuthHeaders();return(await ee.post(ve.url+"/workshop/groups",{profile:e,story:n,location:r},{headers:i})).data}async joinGlobalWorkshop({profile:e,story:n}){const r=await this.getAuthHeaders();return(await ee.post(ve.url+"/workshop/groups/global",{profile:e,story:n},{headers:r})).data}async postActiveUser({story:e,profile:n}){const r=await this.getAuthHeaders();return(await ee.post(ve.url+"/workshop/active-users",{story:e,profile:n},{headers:r})).data}}const Fw=new gJ;console.log("Enviroment",ve.url);const Bw=Yf(ve.url);Bw.on("connect",()=>{console.log("Connected to the server:",Bw.id)});Bw.on("connect_error",t=>{console.error("connect error",JSON.stringify(t))});const yJ=Se("books/postActiveUser",async(t,e)=>{try{const{story:n,profile:r}=t;let i=await Fw.postActiveUser({story:n,profile:r});return{profiles:i.profiles,profile:i.profile,story:i.story}}catch(n){return console.error("Error fetching active users:",n),{profiles:[],profile:null,story:null}}});Se("books/createWorkshopGroup",async({profile:t,story:e,location:n,isGlobal:r},i)=>{try{if(r){let s=await Fw.joinGlobalWorkshop({profile:t,story:e,location:n});if(!s.collection)throw new Error(s.error);return s}else{let s=await Fw.joinWorkshop({profile:t,story:e,location:n});if(!s.collection)throw new Error(s.error);return console.log("X",s),s}}catch(s){return{error:s}}});Se("books/fetchWorkshopGroups",async({radius:t=50},e)=>{try{return(await ee.get(ve.url+`/workshop/groups?radius=${t}`,{headers:{Authorization:"Bearer "+(await Preferences.get({key:"token"})).value}})).data}catch(n){return console.log(n),[]}});const vJ={signedIn:!1,currentProfile:null,homeCollection:null,loading:!0,notifications:[],events:[],userApprovals:[],followedBooks:[],followedProfiles:[],followedLibraries:[],profileInView:null,profilesInView:[],searchResults:[],searchDialogOpen:!1,error:"",dialog:{text:"",title:"",agree:()=>{},onClose:()=>{},isOpen:!1,agreeText:"agree",disagreeText:"Close"}},_J=c9({name:"users",initialState:vJ,extraReducers(t){t.addCase(Dk.fulfilled,(e,{payload:n})=>{const r=n.profiles.filter(i=>e.currentProfile&&i.id!=e.currentProfile.id);e.profilesInView=r,e.loading=!1}).addCase(Dk.pending,(e,{payload:n})=>{e.loading=!0}).addCase(sY.type,(e,{payload:n})=>{n.events&&n.events.length&&(e.events=n.events)}).addCase(JX.fulfilled,(e,{payload:n})=>{n.profile&&(e.currentProfile=n.profile)}).addCase(rY.fulfilled,(e,{payload:n})=>{e.currentProfile=null}).addCase(yJ.fulfilled,(e,{payload:n})=>{e.profilesInView=n.profiles}).addCase(bY.fulfilled,(e,{payload:n})=>{const{follow:r}=n;r&&r.following&&(e.profileInView=r.following,e.currentProfile=r.follower)}).addCase(EY.fulfilled,(e,{payload:n})=>{n.profile&&(e.currentProfile=n.profile),n.followed&&(e.profileInView=n.followed)}).addCase(fv.pending,e=>{e.loading=!0}).addCase(fY.fulfilled,(e,{payload:n})=>{e.notifications=n}).addCase(gv.rejected,(e,{payload:n})=>{e.loading=!1}).addCase(gv.pending,e=>{e.loading=!0}).addCase(tY.fulfilled,(e,{payload:n})=>{e.currentProfile=n.profile}).addCase(gv.fulfilled,(e,{payload:n})=>{e.loading=!1,e.currentProfile=n.profile}).addCase(fv.fulfilled,(e,{payload:n})=>{n&&n.profile&&(e.currentProfile=n.profile,e.loading=!1,e.signedIn=!0)}).addCase(fv.rejected,(e,{payload:n})=>{n&&n.error&&(e.error=n.error),e.loading=!1}).addCase(Ck.fulfilled,(e,{payload:n})=>{e.currentProfile=n.profile,e.signedIn=!0,e.loading=!1}).addCase(Ck.rejected,(e,{payload:n})=>{n&&n.error&&(e.error=n.error)}).addCase(pv.rejected,(e,n)=>{if(n){let{payload:r}=n;r&&r.error&&(e.loading=!1,e.signedIn=!1,e.currentProfile=null)}}).addCase(vY.fulfilled,(e,{payload:n})=>{e.currentProfile=n.profile}).addCase(_Y.fulfilled,(e,{payload:n})=>{e.currentProfile=n.profile}).addCase(pv.pending,e=>{e.loading=!0}).addCase(pv.fulfilled,(e,n)=>{n&&n.payload&&n.payload.profile&&(e.currentProfile=n.payload.profile,e.loading=!1)}).addCase(mv.pending,e=>{e.loading=!0}).addCase(mv.fulfilled,(e,{payload:n})=>{e.profileInView=n.profile,e.loading=!1}).addCase(mv.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(nY,(e,{payload:n})=>{e.profileInView=n.profile}).addCase(Ak.fulfilled,(e,{payload:n})=>{e.currentProfile=null,e.loading=!1,e.signedIn=!1}).addCase(Ak.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Ow.type,(e,{payload:n})=>{n&&(n.isOpen==!1?e.dialog.isOpen=!1:e.dialog=n??{text:"",title:"",agree:()=>{},onClose:()=>{},isOpen:!1,agreeText:"agree",disagreeText:"Close"})}).addCase(ZX.type,(e,{payload:n})=>{e.signedIn=!0}).addCase(eY.type,(e,{payload:n})=>{e.signedIn=!1}).addCase(gY.fulfilled,(e,{payload:n})=>{const r=e.userApprovals.filter(i=>i!=null&&n.userApproval&&i.id!=n.userApproval.id);e.userApprovals=r}).addCase(iY.type,(e,{payload:n})=>{e.searchDialogOpen=n}).addCase(Rk.fulfilled,(e,{payload:n})=>{e.searchResults=n.results}).addCase(Rk.rejected,(e,{payload:n})=>{e.error=n})}}),wJ=nO({users:_J.reducer}),bJ=Kj({reducer:wJ,middleware:t=>t({serializableCheck:!1})}),EJ=()=>{const[t,e]=Q.useState({title:"Plumbum",heading:"Plumbum",image:ve.logoChem,description:"Your writing, Your community",name:"Plumbum",type:"website",url:"https://plumbum.app"});return q.jsx(fj,{store:bJ,children:q.jsx(Np.Provider,{value:{seo:t,setSeo:e},children:q.jsx(mP,{children:q.jsx(H3,{children:q.jsx("div",{className:"pt-24",children:q.jsx(dY,{})})})})})})},TJ=q.jsx(L4,{basename:"/",children:q.jsx(O4,{children:q.jsx(aR,{path:"/*",element:q.jsx(EJ,{})})})});wv.createRoot(document.getElementById("root")).render(TJ);export{cB as K,XP as W,Ku as a,SJ as b,kJ as c,xy as d,xJ as e,A_ as f,Xe as g,xd as h,Z6 as i,BF as j,CJ as k,jX as l,gm as m,zX as n,Pw as o,AJ as p,SZ as q,__ as r,kZ as s,IZ as t,xZ as u,qX as v,Ub as w};
