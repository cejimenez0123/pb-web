var xQ=Object.defineProperty;var EQ=(t,e,n)=>e in t?xQ(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ve=(t,e,n)=>EQ(t,typeof e!="symbol"?e+"":e,n);function IQ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(t,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=n(i);fetch(i.href,o)}})();var Gn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function As(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Jl(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var lB={exports:{}},r1={},uB={exports:{}},tn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy=Symbol.for("react.element"),TQ=Symbol.for("react.portal"),SQ=Symbol.for("react.fragment"),CQ=Symbol.for("react.strict_mode"),PQ=Symbol.for("react.profiler"),kQ=Symbol.for("react.provider"),AQ=Symbol.for("react.context"),RQ=Symbol.for("react.forward_ref"),OQ=Symbol.for("react.suspense"),NQ=Symbol.for("react.memo"),LQ=Symbol.for("react.lazy"),X2=Symbol.iterator;function DQ(t){return t===null||typeof t!="object"?null:(t=X2&&t[X2]||t["@@iterator"],typeof t=="function"?t:null)}var cB={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dB=Object.assign,fB={};function Kp(t,e,n){this.props=t,this.context=e,this.refs=fB,this.updater=n||cB}Kp.prototype.isReactComponent={};Kp.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Kp.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function hB(){}hB.prototype=Kp.prototype;function lP(t,e,n){this.props=t,this.context=e,this.refs=fB,this.updater=n||cB}var uP=lP.prototype=new hB;uP.constructor=lP;dB(uP,Kp.prototype);uP.isPureReactComponent=!0;var J2=Array.isArray,pB=Object.prototype.hasOwnProperty,cP={current:null},mB={key:!0,ref:!0,__self:!0,__source:!0};function gB(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)pB.call(e,r)&&!mB.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:yy,type:t,key:o,ref:s,props:i,_owner:cP.current}}function jQ(t,e){return{$$typeof:yy,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function dP(t){return typeof t=="object"&&t!==null&&t.$$typeof===yy}function $Q(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Z2=/\/+/g;function lI(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$Q(""+t.key):e.toString(36)}function Bb(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case yy:case TQ:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+lI(s,0):r,J2(i)?(n="",t!=null&&(n=t.replace(Z2,"$&/")+"/"),Bb(i,e,n,"",function(u){return u})):i!=null&&(dP(i)&&(i=jQ(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Z2,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",J2(t))for(var a=0;a<t.length;a++){o=t[a];var l=r+lI(o,a);s+=Bb(o,e,n,l,i)}else if(l=DQ(t),typeof l=="function")for(t=l.call(t),a=0;!(o=t.next()).done;)o=o.value,l=r+lI(o,a++),s+=Bb(o,e,n,l,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function X0(t,e,n){if(t==null)return t;var r=[],i=0;return Bb(t,r,"","",function(o){return e.call(n,o,i++)}),r}function MQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ji={current:null},Fb={transition:null},BQ={ReactCurrentDispatcher:Ji,ReactCurrentBatchConfig:Fb,ReactCurrentOwner:cP};function vB(){throw Error("act(...) is not supported in production builds of React.")}tn.Children={map:X0,forEach:function(t,e,n){X0(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return X0(t,function(){e++}),e},toArray:function(t){return X0(t,function(e){return e})||[]},only:function(t){if(!dP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};tn.Component=Kp;tn.Fragment=SQ;tn.Profiler=PQ;tn.PureComponent=lP;tn.StrictMode=CQ;tn.Suspense=OQ;tn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BQ;tn.act=vB;tn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dB({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=cP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pB.call(e,l)&&!mB.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yy,type:t.type,key:i,ref:o,props:r,_owner:s}};tn.createContext=function(t){return t={$$typeof:AQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:kQ,_context:t},t.Consumer=t};tn.createElement=gB;tn.createFactory=function(t){var e=gB.bind(null,t);return e.type=t,e};tn.createRef=function(){return{current:null}};tn.forwardRef=function(t){return{$$typeof:RQ,render:t}};tn.isValidElement=dP;tn.lazy=function(t){return{$$typeof:LQ,_payload:{_status:-1,_result:t},_init:MQ}};tn.memo=function(t,e){return{$$typeof:NQ,type:t,compare:e===void 0?null:e}};tn.startTransition=function(t){var e=Fb.transition;Fb.transition={};try{t()}finally{Fb.transition=e}};tn.unstable_act=vB;tn.useCallback=function(t,e){return Ji.current.useCallback(t,e)};tn.useContext=function(t){return Ji.current.useContext(t)};tn.useDebugValue=function(){};tn.useDeferredValue=function(t){return Ji.current.useDeferredValue(t)};tn.useEffect=function(t,e){return Ji.current.useEffect(t,e)};tn.useId=function(){return Ji.current.useId()};tn.useImperativeHandle=function(t,e,n){return Ji.current.useImperativeHandle(t,e,n)};tn.useInsertionEffect=function(t,e){return Ji.current.useInsertionEffect(t,e)};tn.useLayoutEffect=function(t,e){return Ji.current.useLayoutEffect(t,e)};tn.useMemo=function(t,e){return Ji.current.useMemo(t,e)};tn.useReducer=function(t,e,n){return Ji.current.useReducer(t,e,n)};tn.useRef=function(t){return Ji.current.useRef(t)};tn.useState=function(t){return Ji.current.useState(t)};tn.useSyncExternalStore=function(t,e,n){return Ji.current.useSyncExternalStore(t,e,n)};tn.useTransition=function(){return Ji.current.useTransition()};tn.version="18.3.1";uB.exports=tn;var D=uB.exports;const gn=As(D),ap=IQ({__proto__:null,default:gn},[D]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var FQ=D,VQ=Symbol.for("react.element"),UQ=Symbol.for("react.fragment"),zQ=Object.prototype.hasOwnProperty,qQ=FQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,HQ={key:!0,ref:!0,__self:!0,__source:!0};function yB(t,e,n){var r,i={},o=null,s=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)zQ.call(e,r)&&!HQ.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:VQ,type:t,key:o,ref:s,props:i,_owner:qQ.current}}r1.Fragment=UQ;r1.jsx=yB;r1.jsxs=yB;lB.exports=r1;var E=lB.exports,PT={},bB={exports:{}},Yo={},_B={exports:{}},wB={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,Q){var G=W.length;W.push(Q);e:for(;0<G;){var j=G-1>>>1,U=W[j];if(0<i(U,Q))W[j]=Q,W[G]=U,G=j;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var Q=W[0],G=W.pop();if(G!==Q){W[0]=G;e:for(var j=0,U=W.length,K=U>>>1;j<K;){var ne=2*(j+1)-1,oe=W[ne],X=ne+1,Z=W[X];if(0>i(oe,G))X<U&&0>i(Z,oe)?(W[j]=Z,W[X]=G,j=X):(W[j]=oe,W[ne]=G,j=ne);else if(X<U&&0>i(Z,G))W[j]=Z,W[X]=G,j=X;else break e}}return Q}function i(W,Q){var G=W.sortIndex-Q.sortIndex;return G!==0?G:W.id-Q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,f=null,h=3,p=!1,g=!1,_=!1,w=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(W){for(var Q=n(u);Q!==null;){if(Q.callback===null)r(u);else if(Q.startTime<=W)r(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=n(u)}}function x(W){if(_=!1,y(W),!g)if(n(l)!==null)g=!0,z(I);else{var Q=n(u);Q!==null&&B(x,Q.startTime-W)}}function I(W,Q){g=!1,_&&(_=!1,b(C),C=-1),p=!0;var G=h;try{for(y(Q),f=n(l);f!==null&&(!(f.expirationTime>Q)||W&&!R());){var j=f.callback;if(typeof j=="function"){f.callback=null,h=f.priorityLevel;var U=j(f.expirationTime<=Q);Q=t.unstable_now(),typeof U=="function"?f.callback=U:f===n(l)&&r(l),y(Q)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ne=n(u);ne!==null&&B(x,ne.startTime-Q),K=!1}return K}finally{f=null,h=G,p=!1}}var O=!1,S=null,C=-1,k=5,P=-1;function R(){return!(t.unstable_now()-P<k)}function L(){if(S!==null){var W=t.unstable_now();P=W;var Q=!0;try{Q=S(!0,W)}finally{Q?N():(O=!1,S=null)}}else O=!1}var N;if(typeof v=="function")N=function(){v(L)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,F=V.port2;V.port1.onmessage=L,N=function(){F.postMessage(null)}}else N=function(){w(L,0)};function z(W){S=W,O||(O=!0,N())}function B(W,Q){C=w(function(){W(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){g||p||(g=!0,z(I))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var Q=3;break;default:Q=h}var G=h;h=Q;try{return W()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,Q){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=h;h=W;try{return Q()}finally{h=G}},t.unstable_scheduleCallback=function(W,Q,G){var j=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?j+G:j):G=j,W){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=G+U,W={id:c++,callback:Q,priorityLevel:W,startTime:G,expirationTime:U,sortIndex:-1},G>j?(W.sortIndex=G,e(u,W),n(l)===null&&W===n(u)&&(_?(b(C),C=-1):_=!0,B(x,G-j))):(W.sortIndex=U,e(l,W),g||p||(g=!0,z(I))),W},t.unstable_shouldYield=R,t.unstable_wrapCallback=function(W){var Q=h;return function(){var G=h;h=Q;try{return W.apply(this,arguments)}finally{h=G}}}})(wB);_B.exports=wB;var WQ=_B.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KQ=D,qo=WQ;function ze(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xB=new Set,dv={};function bf(t,e){lp(t,e),lp(t+"Capture",e)}function lp(t,e){for(dv[t]=e,t=0;t<e.length;t++)xB.add(e[t])}var Ml=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kT=Object.prototype.hasOwnProperty,GQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,eN={},tN={};function QQ(t){return kT.call(tN,t)?!0:kT.call(eN,t)?!1:GQ.test(t)?tN[t]=!0:(eN[t]=!0,!1)}function YQ(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XQ(t,e,n,r){if(e===null||typeof e>"u"||YQ(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Zi(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var wi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){wi[t]=new Zi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];wi[e]=new Zi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){wi[t]=new Zi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){wi[t]=new Zi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){wi[t]=new Zi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){wi[t]=new Zi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){wi[t]=new Zi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){wi[t]=new Zi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){wi[t]=new Zi(t,5,!1,t.toLowerCase(),null,!1,!1)});var fP=/[\-:]([a-z])/g;function hP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fP,hP);wi[e]=new Zi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fP,hP);wi[e]=new Zi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fP,hP);wi[e]=new Zi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){wi[t]=new Zi(t,1,!1,t.toLowerCase(),null,!1,!1)});wi.xlinkHref=new Zi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){wi[t]=new Zi(t,1,!1,t.toLowerCase(),null,!0,!0)});function pP(t,e,n,r){var i=wi.hasOwnProperty(e)?wi[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XQ(e,n,i,r)&&(n=null),r||i===null?QQ(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Zl=KQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,J0=Symbol.for("react.element"),wh=Symbol.for("react.portal"),xh=Symbol.for("react.fragment"),mP=Symbol.for("react.strict_mode"),AT=Symbol.for("react.profiler"),EB=Symbol.for("react.provider"),IB=Symbol.for("react.context"),gP=Symbol.for("react.forward_ref"),RT=Symbol.for("react.suspense"),OT=Symbol.for("react.suspense_list"),vP=Symbol.for("react.memo"),Nu=Symbol.for("react.lazy"),TB=Symbol.for("react.offscreen"),nN=Symbol.iterator;function Hm(t){return t===null||typeof t!="object"?null:(t=nN&&t[nN]||t["@@iterator"],typeof t=="function"?t:null)}var pr=Object.assign,uI;function yg(t){if(uI===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);uI=e&&e[1]||""}return`
`+uI+t}var cI=!1;function dI(t,e){if(!t||cI)return"";cI=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,a=o.length-1;1<=s&&0<=a&&i[s]!==o[a];)a--;for(;1<=s&&0<=a;s--,a--)if(i[s]!==o[a]){if(s!==1||a!==1)do if(s--,a--,0>a||i[s]!==o[a]){var l=`
`+i[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{cI=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?yg(t):""}function JQ(t){switch(t.tag){case 5:return yg(t.type);case 16:return yg("Lazy");case 13:return yg("Suspense");case 19:return yg("SuspenseList");case 0:case 2:case 15:return t=dI(t.type,!1),t;case 11:return t=dI(t.type.render,!1),t;case 1:return t=dI(t.type,!0),t;default:return""}}function NT(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xh:return"Fragment";case wh:return"Portal";case AT:return"Profiler";case mP:return"StrictMode";case RT:return"Suspense";case OT:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IB:return(t.displayName||"Context")+".Consumer";case EB:return(t._context.displayName||"Context")+".Provider";case gP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vP:return e=t.displayName||null,e!==null?e:NT(t.type)||"Memo";case Nu:e=t._payload,t=t._init;try{return NT(t(e))}catch{}}return null}function ZQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return NT(e);case 8:return e===mP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function SB(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eY(t){var e=SB(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Z0(t){t._valueTracker||(t._valueTracker=eY(t))}function CB(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=SB(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function T_(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function LT(t,e){var n=e.checked;return pr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function rN(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=sc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PB(t,e){e=e.checked,e!=null&&pP(t,"checked",e,!1)}function DT(t,e){PB(t,e);var n=sc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jT(t,e.type,n):e.hasOwnProperty("defaultValue")&&jT(t,e.type,sc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function iN(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jT(t,e,n){(e!=="number"||T_(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var bg=Array.isArray;function $h(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+sc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $T(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ze(91));return pr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function oN(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ze(92));if(bg(n)){if(1<n.length)throw Error(ze(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:sc(n)}}function kB(t,e){var n=sc(e.value),r=sc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function sN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AB(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function MT(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AB(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var eb,RB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(eb=eb||document.createElement("div"),eb.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=eb.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fv(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Lg={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tY=["Webkit","ms","Moz","O"];Object.keys(Lg).forEach(function(t){tY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Lg[e]=Lg[t]})});function OB(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Lg.hasOwnProperty(t)&&Lg[t]?(""+e).trim():e+"px"}function NB(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OB(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var nY=pr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function BT(t,e){if(e){if(nY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ze(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ze(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ze(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ze(62))}}function FT(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var VT=null;function yP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var UT=null,Mh=null,Bh=null;function aN(t){if(t=wy(t)){if(typeof UT!="function")throw Error(ze(280));var e=t.stateNode;e&&(e=l1(e),UT(t.stateNode,t.type,e))}}function LB(t){Mh?Bh?Bh.push(t):Bh=[t]:Mh=t}function DB(){if(Mh){var t=Mh,e=Bh;if(Bh=Mh=null,aN(t),e)for(t=0;t<e.length;t++)aN(e[t])}}function jB(t,e){return t(e)}function $B(){}var fI=!1;function MB(t,e,n){if(fI)return t(e,n);fI=!0;try{return jB(t,e,n)}finally{fI=!1,(Mh!==null||Bh!==null)&&($B(),DB())}}function hv(t,e){var n=t.stateNode;if(n===null)return null;var r=l1(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ze(231,e,typeof n));return n}var zT=!1;if(Ml)try{var Wm={};Object.defineProperty(Wm,"passive",{get:function(){zT=!0}}),window.addEventListener("test",Wm,Wm),window.removeEventListener("test",Wm,Wm)}catch{zT=!1}function rY(t,e,n,r,i,o,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var Dg=!1,S_=null,C_=!1,qT=null,iY={onError:function(t){Dg=!0,S_=t}};function oY(t,e,n,r,i,o,s,a,l){Dg=!1,S_=null,rY.apply(iY,arguments)}function sY(t,e,n,r,i,o,s,a,l){if(oY.apply(this,arguments),Dg){if(Dg){var u=S_;Dg=!1,S_=null}else throw Error(ze(198));C_||(C_=!0,qT=u)}}function _f(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function BB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function lN(t){if(_f(t)!==t)throw Error(ze(188))}function aY(t){var e=t.alternate;if(!e){if(e=_f(t),e===null)throw Error(ze(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return lN(i),t;if(o===r)return lN(i),e;o=o.sibling}throw Error(ze(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s){for(a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s)throw Error(ze(189))}}if(n.alternate!==r)throw Error(ze(190))}if(n.tag!==3)throw Error(ze(188));return n.stateNode.current===n?t:e}function FB(t){return t=aY(t),t!==null?VB(t):null}function VB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=VB(t);if(e!==null)return e;t=t.sibling}return null}var UB=qo.unstable_scheduleCallback,uN=qo.unstable_cancelCallback,lY=qo.unstable_shouldYield,uY=qo.unstable_requestPaint,Ar=qo.unstable_now,cY=qo.unstable_getCurrentPriorityLevel,bP=qo.unstable_ImmediatePriority,zB=qo.unstable_UserBlockingPriority,P_=qo.unstable_NormalPriority,dY=qo.unstable_LowPriority,qB=qo.unstable_IdlePriority,i1=null,$a=null;function fY(t){if($a&&typeof $a.onCommitFiberRoot=="function")try{$a.onCommitFiberRoot(i1,t,void 0,(t.current.flags&128)===128)}catch{}}var sa=Math.clz32?Math.clz32:mY,hY=Math.log,pY=Math.LN2;function mY(t){return t>>>=0,t===0?32:31-(hY(t)/pY|0)|0}var tb=64,nb=4194304;function _g(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function k_(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~i;a!==0?r=_g(a):(o&=s,o!==0&&(r=_g(o)))}else s=n&~i,s!==0?r=_g(s):o!==0&&(r=_g(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-sa(e),i=1<<n,r|=t[n],e&=~i;return r}function gY(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vY(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-sa(o),a=1<<s,l=i[s];l===-1?(!(a&n)||a&r)&&(i[s]=gY(a,e)):l<=e&&(t.expiredLanes|=a),o&=~a}}function HT(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HB(){var t=tb;return tb<<=1,!(tb&4194240)&&(tb=64),t}function hI(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function by(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-sa(e),t[e]=n}function yY(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-sa(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function _P(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-sa(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var An=0;function WB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KB,wP,GB,QB,YB,WT=!1,rb=[],Yu=null,Xu=null,Ju=null,pv=new Map,mv=new Map,Du=[],bY="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function cN(t,e){switch(t){case"focusin":case"focusout":Yu=null;break;case"dragenter":case"dragleave":Xu=null;break;case"mouseover":case"mouseout":Ju=null;break;case"pointerover":case"pointerout":pv.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":mv.delete(e.pointerId)}}function Km(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=wy(e),e!==null&&wP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function _Y(t,e,n,r,i){switch(e){case"focusin":return Yu=Km(Yu,t,e,n,r,i),!0;case"dragenter":return Xu=Km(Xu,t,e,n,r,i),!0;case"mouseover":return Ju=Km(Ju,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return pv.set(o,Km(pv.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,mv.set(o,Km(mv.get(o)||null,t,e,n,r,i)),!0}return!1}function XB(t){var e=Id(t.target);if(e!==null){var n=_f(e);if(n!==null){if(e=n.tag,e===13){if(e=BB(n),e!==null){t.blockedOn=e,YB(t.priority,function(){GB(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Vb(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=KT(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);VT=r,n.target.dispatchEvent(r),VT=null}else return e=wy(n),e!==null&&wP(e),t.blockedOn=n,!1;e.shift()}return!0}function dN(t,e,n){Vb(t)&&n.delete(e)}function wY(){WT=!1,Yu!==null&&Vb(Yu)&&(Yu=null),Xu!==null&&Vb(Xu)&&(Xu=null),Ju!==null&&Vb(Ju)&&(Ju=null),pv.forEach(dN),mv.forEach(dN)}function Gm(t,e){t.blockedOn===e&&(t.blockedOn=null,WT||(WT=!0,qo.unstable_scheduleCallback(qo.unstable_NormalPriority,wY)))}function gv(t){function e(i){return Gm(i,t)}if(0<rb.length){Gm(rb[0],t);for(var n=1;n<rb.length;n++){var r=rb[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yu!==null&&Gm(Yu,t),Xu!==null&&Gm(Xu,t),Ju!==null&&Gm(Ju,t),pv.forEach(e),mv.forEach(e),n=0;n<Du.length;n++)r=Du[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Du.length&&(n=Du[0],n.blockedOn===null);)XB(n),n.blockedOn===null&&Du.shift()}var Fh=Zl.ReactCurrentBatchConfig,A_=!0;function xY(t,e,n,r){var i=An,o=Fh.transition;Fh.transition=null;try{An=1,xP(t,e,n,r)}finally{An=i,Fh.transition=o}}function EY(t,e,n,r){var i=An,o=Fh.transition;Fh.transition=null;try{An=4,xP(t,e,n,r)}finally{An=i,Fh.transition=o}}function xP(t,e,n,r){if(A_){var i=KT(t,e,n,r);if(i===null)EI(t,e,r,R_,n),cN(t,r);else if(_Y(i,t,e,n,r))r.stopPropagation();else if(cN(t,r),e&4&&-1<bY.indexOf(t)){for(;i!==null;){var o=wy(i);if(o!==null&&KB(o),o=KT(t,e,n,r),o===null&&EI(t,e,r,R_,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else EI(t,e,r,null,n)}}var R_=null;function KT(t,e,n,r){if(R_=null,t=yP(r),t=Id(t),t!==null)if(e=_f(t),e===null)t=null;else if(n=e.tag,n===13){if(t=BB(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return R_=t,null}function JB(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cY()){case bP:return 1;case zB:return 4;case P_:case dY:return 16;case qB:return 536870912;default:return 16}default:return 16}}var qu=null,EP=null,Ub=null;function ZB(){if(Ub)return Ub;var t,e=EP,n=e.length,r,i="value"in qu?qu.value:qu.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return Ub=i.slice(t,1<r?1-r:void 0)}function zb(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ib(){return!0}function fN(){return!1}function Xo(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?ib:fN,this.isPropagationStopped=fN,this}return pr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ib)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ib)},persist:function(){},isPersistent:ib}),e}var Gp={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},IP=Xo(Gp),_y=pr({},Gp,{view:0,detail:0}),IY=Xo(_y),pI,mI,Qm,o1=pr({},_y,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:TP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Qm&&(Qm&&t.type==="mousemove"?(pI=t.screenX-Qm.screenX,mI=t.screenY-Qm.screenY):mI=pI=0,Qm=t),pI)},movementY:function(t){return"movementY"in t?t.movementY:mI}}),hN=Xo(o1),TY=pr({},o1,{dataTransfer:0}),SY=Xo(TY),CY=pr({},_y,{relatedTarget:0}),gI=Xo(CY),PY=pr({},Gp,{animationName:0,elapsedTime:0,pseudoElement:0}),kY=Xo(PY),AY=pr({},Gp,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RY=Xo(AY),OY=pr({},Gp,{data:0}),pN=Xo(OY),NY={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},LY={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DY={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jY(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DY[t])?!!e[t]:!1}function TP(){return jY}var $Y=pr({},_y,{key:function(t){if(t.key){var e=NY[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zb(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?LY[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:TP,charCode:function(t){return t.type==="keypress"?zb(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zb(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),MY=Xo($Y),BY=pr({},o1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mN=Xo(BY),FY=pr({},_y,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:TP}),VY=Xo(FY),UY=pr({},Gp,{propertyName:0,elapsedTime:0,pseudoElement:0}),zY=Xo(UY),qY=pr({},o1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),HY=Xo(qY),WY=[9,13,27,32],SP=Ml&&"CompositionEvent"in window,jg=null;Ml&&"documentMode"in document&&(jg=document.documentMode);var KY=Ml&&"TextEvent"in window&&!jg,eF=Ml&&(!SP||jg&&8<jg&&11>=jg),gN=" ",vN=!1;function tF(t,e){switch(t){case"keyup":return WY.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nF(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Eh=!1;function GY(t,e){switch(t){case"compositionend":return nF(e);case"keypress":return e.which!==32?null:(vN=!0,gN);case"textInput":return t=e.data,t===gN&&vN?null:t;default:return null}}function QY(t,e){if(Eh)return t==="compositionend"||!SP&&tF(t,e)?(t=ZB(),Ub=EP=qu=null,Eh=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eF&&e.locale!=="ko"?null:e.data;default:return null}}var YY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function yN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YY[t.type]:e==="textarea"}function rF(t,e,n,r){LB(r),e=O_(e,"onChange"),0<e.length&&(n=new IP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var $g=null,vv=null;function XY(t){pF(t,0)}function s1(t){var e=Sh(t);if(CB(e))return t}function JY(t,e){if(t==="change")return e}var iF=!1;if(Ml){var vI;if(Ml){var yI="oninput"in document;if(!yI){var bN=document.createElement("div");bN.setAttribute("oninput","return;"),yI=typeof bN.oninput=="function"}vI=yI}else vI=!1;iF=vI&&(!document.documentMode||9<document.documentMode)}function _N(){$g&&($g.detachEvent("onpropertychange",oF),vv=$g=null)}function oF(t){if(t.propertyName==="value"&&s1(vv)){var e=[];rF(e,vv,t,yP(t)),MB(XY,e)}}function ZY(t,e,n){t==="focusin"?(_N(),$g=e,vv=n,$g.attachEvent("onpropertychange",oF)):t==="focusout"&&_N()}function eX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return s1(vv)}function tX(t,e){if(t==="click")return s1(e)}function nX(t,e){if(t==="input"||t==="change")return s1(e)}function rX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ca=typeof Object.is=="function"?Object.is:rX;function yv(t,e){if(ca(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kT.call(e,i)||!ca(t[i],e[i]))return!1}return!0}function wN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function xN(t,e){var n=wN(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=wN(n)}}function sF(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?sF(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function aF(){for(var t=window,e=T_();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=T_(t.document)}return e}function CP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iX(t){var e=aF(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&sF(n.ownerDocument.documentElement,n)){if(r!==null&&CP(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=xN(n,o);var s=xN(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var oX=Ml&&"documentMode"in document&&11>=document.documentMode,Ih=null,GT=null,Mg=null,QT=!1;function EN(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;QT||Ih==null||Ih!==T_(r)||(r=Ih,"selectionStart"in r&&CP(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Mg&&yv(Mg,r)||(Mg=r,r=O_(GT,"onSelect"),0<r.length&&(e=new IP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ih)))}function ob(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Th={animationend:ob("Animation","AnimationEnd"),animationiteration:ob("Animation","AnimationIteration"),animationstart:ob("Animation","AnimationStart"),transitionend:ob("Transition","TransitionEnd")},bI={},lF={};Ml&&(lF=document.createElement("div").style,"AnimationEvent"in window||(delete Th.animationend.animation,delete Th.animationiteration.animation,delete Th.animationstart.animation),"TransitionEvent"in window||delete Th.transitionend.transition);function a1(t){if(bI[t])return bI[t];if(!Th[t])return t;var e=Th[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in lF)return bI[t]=e[n];return t}var uF=a1("animationend"),cF=a1("animationiteration"),dF=a1("animationstart"),fF=a1("transitionend"),hF=new Map,IN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wc(t,e){hF.set(t,e),bf(e,[t])}for(var _I=0;_I<IN.length;_I++){var wI=IN[_I],sX=wI.toLowerCase(),aX=wI[0].toUpperCase()+wI.slice(1);wc(sX,"on"+aX)}wc(uF,"onAnimationEnd");wc(cF,"onAnimationIteration");wc(dF,"onAnimationStart");wc("dblclick","onDoubleClick");wc("focusin","onFocus");wc("focusout","onBlur");wc(fF,"onTransitionEnd");lp("onMouseEnter",["mouseout","mouseover"]);lp("onMouseLeave",["mouseout","mouseover"]);lp("onPointerEnter",["pointerout","pointerover"]);lp("onPointerLeave",["pointerout","pointerover"]);bf("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));bf("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));bf("onBeforeInput",["compositionend","keypress","textInput","paste"]);bf("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));bf("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));bf("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wg="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lX=new Set("cancel close invalid load scroll toggle".split(" ").concat(wg));function TN(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,sY(r,e,void 0,t),t.currentTarget=null}function pF(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==o&&i.isPropagationStopped())break e;TN(i,a,u),o=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==o&&i.isPropagationStopped())break e;TN(i,a,u),o=l}}}if(C_)throw t=qT,C_=!1,qT=null,t}function qn(t,e){var n=e[eS];n===void 0&&(n=e[eS]=new Set);var r=t+"__bubble";n.has(r)||(mF(e,t,2,!1),n.add(r))}function xI(t,e,n){var r=0;e&&(r|=4),mF(n,t,r,e)}var sb="_reactListening"+Math.random().toString(36).slice(2);function bv(t){if(!t[sb]){t[sb]=!0,xB.forEach(function(n){n!=="selectionchange"&&(lX.has(n)||xI(n,!1,t),xI(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sb]||(e[sb]=!0,xI("selectionchange",!1,e))}}function mF(t,e,n,r){switch(JB(e)){case 1:var i=xY;break;case 4:i=EY;break;default:i=xP}n=i.bind(null,e,n,t),i=void 0,!zT||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function EI(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;s=s.return}for(;a!==null;){if(s=Id(a),s===null)return;if(l=s.tag,l===5||l===6){r=o=s;continue e}a=a.parentNode}}r=r.return}MB(function(){var u=o,c=yP(n),f=[];e:{var h=hF.get(t);if(h!==void 0){var p=IP,g=t;switch(t){case"keypress":if(zb(n)===0)break e;case"keydown":case"keyup":p=MY;break;case"focusin":g="focus",p=gI;break;case"focusout":g="blur",p=gI;break;case"beforeblur":case"afterblur":p=gI;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=hN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=SY;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=VY;break;case uF:case cF:case dF:p=kY;break;case fF:p=zY;break;case"scroll":p=IY;break;case"wheel":p=HY;break;case"copy":case"cut":case"paste":p=RY;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=mN}var _=(e&4)!==0,w=!_&&t==="scroll",b=_?h!==null?h+"Capture":null:h;_=[];for(var v=u,y;v!==null;){y=v;var x=y.stateNode;if(y.tag===5&&x!==null&&(y=x,b!==null&&(x=hv(v,b),x!=null&&_.push(_v(v,x,y)))),w)break;v=v.return}0<_.length&&(h=new p(h,g,null,n,c),f.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==VT&&(g=n.relatedTarget||n.fromElement)&&(Id(g)||g[Bl]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(g=n.relatedTarget||n.toElement,p=u,g=g?Id(g):null,g!==null&&(w=_f(g),g!==w||g.tag!==5&&g.tag!==6)&&(g=null)):(p=null,g=u),p!==g)){if(_=hN,x="onMouseLeave",b="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(_=mN,x="onPointerLeave",b="onPointerEnter",v="pointer"),w=p==null?h:Sh(p),y=g==null?h:Sh(g),h=new _(x,v+"leave",p,n,c),h.target=w,h.relatedTarget=y,x=null,Id(c)===u&&(_=new _(b,v+"enter",g,n,c),_.target=y,_.relatedTarget=w,x=_),w=x,p&&g)t:{for(_=p,b=g,v=0,y=_;y;y=Zf(y))v++;for(y=0,x=b;x;x=Zf(x))y++;for(;0<v-y;)_=Zf(_),v--;for(;0<y-v;)b=Zf(b),y--;for(;v--;){if(_===b||b!==null&&_===b.alternate)break t;_=Zf(_),b=Zf(b)}_=null}else _=null;p!==null&&SN(f,h,p,_,!1),g!==null&&w!==null&&SN(f,w,g,_,!0)}}e:{if(h=u?Sh(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var I=JY;else if(yN(h))if(iF)I=nX;else{I=eX;var O=ZY}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(I=tX);if(I&&(I=I(t,u))){rF(f,I,n,c);break e}O&&O(t,h,u),t==="focusout"&&(O=h._wrapperState)&&O.controlled&&h.type==="number"&&jT(h,"number",h.value)}switch(O=u?Sh(u):window,t){case"focusin":(yN(O)||O.contentEditable==="true")&&(Ih=O,GT=u,Mg=null);break;case"focusout":Mg=GT=Ih=null;break;case"mousedown":QT=!0;break;case"contextmenu":case"mouseup":case"dragend":QT=!1,EN(f,n,c);break;case"selectionchange":if(oX)break;case"keydown":case"keyup":EN(f,n,c)}var S;if(SP)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else Eh?tF(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(eF&&n.locale!=="ko"&&(Eh||C!=="onCompositionStart"?C==="onCompositionEnd"&&Eh&&(S=ZB()):(qu=c,EP="value"in qu?qu.value:qu.textContent,Eh=!0)),O=O_(u,C),0<O.length&&(C=new pN(C,t,null,n,c),f.push({event:C,listeners:O}),S?C.data=S:(S=nF(n),S!==null&&(C.data=S)))),(S=KY?GY(t,n):QY(t,n))&&(u=O_(u,"onBeforeInput"),0<u.length&&(c=new pN("onBeforeInput","beforeinput",null,n,c),f.push({event:c,listeners:u}),c.data=S))}pF(f,e)})}function _v(t,e,n){return{instance:t,listener:e,currentTarget:n}}function O_(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=hv(t,n),o!=null&&r.unshift(_v(t,o,i)),o=hv(t,e),o!=null&&r.push(_v(t,o,i))),t=t.return}return r}function Zf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function SN(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=hv(n,o),l!=null&&s.unshift(_v(n,l,a))):i||(l=hv(n,o),l!=null&&s.push(_v(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var uX=/\r\n?/g,cX=/\u0000|\uFFFD/g;function CN(t){return(typeof t=="string"?t:""+t).replace(uX,`
`).replace(cX,"")}function ab(t,e,n){if(e=CN(e),CN(t)!==e&&n)throw Error(ze(425))}function N_(){}var YT=null,XT=null;function JT(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ZT=typeof setTimeout=="function"?setTimeout:void 0,dX=typeof clearTimeout=="function"?clearTimeout:void 0,PN=typeof Promise=="function"?Promise:void 0,fX=typeof queueMicrotask=="function"?queueMicrotask:typeof PN<"u"?function(t){return PN.resolve(null).then(t).catch(hX)}:ZT;function hX(t){setTimeout(function(){throw t})}function II(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),gv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);gv(e)}function Zu(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function kN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Qp=Math.random().toString(36).slice(2),Na="__reactFiber$"+Qp,wv="__reactProps$"+Qp,Bl="__reactContainer$"+Qp,eS="__reactEvents$"+Qp,pX="__reactListeners$"+Qp,mX="__reactHandles$"+Qp;function Id(t){var e=t[Na];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Bl]||n[Na]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=kN(t);t!==null;){if(n=t[Na])return n;t=kN(t)}return e}t=n,n=t.parentNode}return null}function wy(t){return t=t[Na]||t[Bl],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sh(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ze(33))}function l1(t){return t[wv]||null}var tS=[],Ch=-1;function xc(t){return{current:t}}function Qn(t){0>Ch||(t.current=tS[Ch],tS[Ch]=null,Ch--)}function Bn(t,e){Ch++,tS[Ch]=t.current,t.current=e}var ac={},Di=xc(ac),xo=xc(!1),Hd=ac;function up(t,e){var n=t.type.contextTypes;if(!n)return ac;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Eo(t){return t=t.childContextTypes,t!=null}function L_(){Qn(xo),Qn(Di)}function AN(t,e,n){if(Di.current!==ac)throw Error(ze(168));Bn(Di,e),Bn(xo,n)}function gF(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ze(108,ZQ(t)||"Unknown",i));return pr({},n,r)}function D_(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ac,Hd=Di.current,Bn(Di,t),Bn(xo,xo.current),!0}function RN(t,e,n){var r=t.stateNode;if(!r)throw Error(ze(169));n?(t=gF(t,e,Hd),r.__reactInternalMemoizedMergedChildContext=t,Qn(xo),Qn(Di),Bn(Di,t)):Qn(xo),Bn(xo,n)}var Tl=null,u1=!1,TI=!1;function vF(t){Tl===null?Tl=[t]:Tl.push(t)}function gX(t){u1=!0,vF(t)}function Ec(){if(!TI&&Tl!==null){TI=!0;var t=0,e=An;try{var n=Tl;for(An=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Tl=null,u1=!1}catch(i){throw Tl!==null&&(Tl=Tl.slice(t+1)),UB(bP,Ec),i}finally{An=e,TI=!1}}return null}var Ph=[],kh=0,j_=null,$_=0,ps=[],ms=0,Wd=null,Pl=1,kl="";function ld(t,e){Ph[kh++]=$_,Ph[kh++]=j_,j_=t,$_=e}function yF(t,e,n){ps[ms++]=Pl,ps[ms++]=kl,ps[ms++]=Wd,Wd=t;var r=Pl;t=kl;var i=32-sa(r)-1;r&=~(1<<i),n+=1;var o=32-sa(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Pl=1<<32-sa(e)+i|n<<i|r,kl=o+t}else Pl=1<<o|n<<i|r,kl=t}function PP(t){t.return!==null&&(ld(t,1),yF(t,1,0))}function kP(t){for(;t===j_;)j_=Ph[--kh],Ph[kh]=null,$_=Ph[--kh],Ph[kh]=null;for(;t===Wd;)Wd=ps[--ms],ps[ms]=null,kl=ps[--ms],ps[ms]=null,Pl=ps[--ms],ps[ms]=null}var Vo=null,Bo=null,tr=!1,Zs=null;function bF(t,e){var n=vs(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function ON(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Vo=t,Bo=Zu(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Vo=t,Bo=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Wd!==null?{id:Pl,overflow:kl}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=vs(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Vo=t,Bo=null,!0):!1;default:return!1}}function nS(t){return(t.mode&1)!==0&&(t.flags&128)===0}function rS(t){if(tr){var e=Bo;if(e){var n=e;if(!ON(t,e)){if(nS(t))throw Error(ze(418));e=Zu(n.nextSibling);var r=Vo;e&&ON(t,e)?bF(r,n):(t.flags=t.flags&-4097|2,tr=!1,Vo=t)}}else{if(nS(t))throw Error(ze(418));t.flags=t.flags&-4097|2,tr=!1,Vo=t}}}function NN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Vo=t}function lb(t){if(t!==Vo)return!1;if(!tr)return NN(t),tr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!JT(t.type,t.memoizedProps)),e&&(e=Bo)){if(nS(t))throw _F(),Error(ze(418));for(;e;)bF(t,e),e=Zu(e.nextSibling)}if(NN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ze(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Bo=Zu(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Bo=null}}else Bo=Vo?Zu(t.stateNode.nextSibling):null;return!0}function _F(){for(var t=Bo;t;)t=Zu(t.nextSibling)}function cp(){Bo=Vo=null,tr=!1}function AP(t){Zs===null?Zs=[t]:Zs.push(t)}var vX=Zl.ReactCurrentBatchConfig;function Ym(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ze(309));var r=n.stateNode}if(!r)throw Error(ze(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var a=i.refs;s===null?delete a[o]:a[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(ze(284));if(!n._owner)throw Error(ze(290,t))}return t}function ub(t,e){throw t=Object.prototype.toString.call(e),Error(ze(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function LN(t){var e=t._init;return e(t._payload)}function wF(t){function e(b,v){if(t){var y=b.deletions;y===null?(b.deletions=[v],b.flags|=16):y.push(v)}}function n(b,v){if(!t)return null;for(;v!==null;)e(b,v),v=v.sibling;return null}function r(b,v){for(b=new Map;v!==null;)v.key!==null?b.set(v.key,v):b.set(v.index,v),v=v.sibling;return b}function i(b,v){return b=rc(b,v),b.index=0,b.sibling=null,b}function o(b,v,y){return b.index=y,t?(y=b.alternate,y!==null?(y=y.index,y<v?(b.flags|=2,v):y):(b.flags|=2,v)):(b.flags|=1048576,v)}function s(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,v,y,x){return v===null||v.tag!==6?(v=OI(y,b.mode,x),v.return=b,v):(v=i(v,y),v.return=b,v)}function l(b,v,y,x){var I=y.type;return I===xh?c(b,v,y.props.children,x,y.key):v!==null&&(v.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Nu&&LN(I)===v.type)?(x=i(v,y.props),x.ref=Ym(b,v,y),x.return=b,x):(x=Yb(y.type,y.key,y.props,null,b.mode,x),x.ref=Ym(b,v,y),x.return=b,x)}function u(b,v,y,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==y.containerInfo||v.stateNode.implementation!==y.implementation?(v=NI(y,b.mode,x),v.return=b,v):(v=i(v,y.children||[]),v.return=b,v)}function c(b,v,y,x,I){return v===null||v.tag!==7?(v=Nd(y,b.mode,x,I),v.return=b,v):(v=i(v,y),v.return=b,v)}function f(b,v,y){if(typeof v=="string"&&v!==""||typeof v=="number")return v=OI(""+v,b.mode,y),v.return=b,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case J0:return y=Yb(v.type,v.key,v.props,null,b.mode,y),y.ref=Ym(b,null,v),y.return=b,y;case wh:return v=NI(v,b.mode,y),v.return=b,v;case Nu:var x=v._init;return f(b,x(v._payload),y)}if(bg(v)||Hm(v))return v=Nd(v,b.mode,y,null),v.return=b,v;ub(b,v)}return null}function h(b,v,y,x){var I=v!==null?v.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return I!==null?null:a(b,v,""+y,x);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case J0:return y.key===I?l(b,v,y,x):null;case wh:return y.key===I?u(b,v,y,x):null;case Nu:return I=y._init,h(b,v,I(y._payload),x)}if(bg(y)||Hm(y))return I!==null?null:c(b,v,y,x,null);ub(b,y)}return null}function p(b,v,y,x,I){if(typeof x=="string"&&x!==""||typeof x=="number")return b=b.get(y)||null,a(v,b,""+x,I);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case J0:return b=b.get(x.key===null?y:x.key)||null,l(v,b,x,I);case wh:return b=b.get(x.key===null?y:x.key)||null,u(v,b,x,I);case Nu:var O=x._init;return p(b,v,y,O(x._payload),I)}if(bg(x)||Hm(x))return b=b.get(y)||null,c(v,b,x,I,null);ub(v,x)}return null}function g(b,v,y,x){for(var I=null,O=null,S=v,C=v=0,k=null;S!==null&&C<y.length;C++){S.index>C?(k=S,S=null):k=S.sibling;var P=h(b,S,y[C],x);if(P===null){S===null&&(S=k);break}t&&S&&P.alternate===null&&e(b,S),v=o(P,v,C),O===null?I=P:O.sibling=P,O=P,S=k}if(C===y.length)return n(b,S),tr&&ld(b,C),I;if(S===null){for(;C<y.length;C++)S=f(b,y[C],x),S!==null&&(v=o(S,v,C),O===null?I=S:O.sibling=S,O=S);return tr&&ld(b,C),I}for(S=r(b,S);C<y.length;C++)k=p(S,b,C,y[C],x),k!==null&&(t&&k.alternate!==null&&S.delete(k.key===null?C:k.key),v=o(k,v,C),O===null?I=k:O.sibling=k,O=k);return t&&S.forEach(function(R){return e(b,R)}),tr&&ld(b,C),I}function _(b,v,y,x){var I=Hm(y);if(typeof I!="function")throw Error(ze(150));if(y=I.call(y),y==null)throw Error(ze(151));for(var O=I=null,S=v,C=v=0,k=null,P=y.next();S!==null&&!P.done;C++,P=y.next()){S.index>C?(k=S,S=null):k=S.sibling;var R=h(b,S,P.value,x);if(R===null){S===null&&(S=k);break}t&&S&&R.alternate===null&&e(b,S),v=o(R,v,C),O===null?I=R:O.sibling=R,O=R,S=k}if(P.done)return n(b,S),tr&&ld(b,C),I;if(S===null){for(;!P.done;C++,P=y.next())P=f(b,P.value,x),P!==null&&(v=o(P,v,C),O===null?I=P:O.sibling=P,O=P);return tr&&ld(b,C),I}for(S=r(b,S);!P.done;C++,P=y.next())P=p(S,b,C,P.value,x),P!==null&&(t&&P.alternate!==null&&S.delete(P.key===null?C:P.key),v=o(P,v,C),O===null?I=P:O.sibling=P,O=P);return t&&S.forEach(function(L){return e(b,L)}),tr&&ld(b,C),I}function w(b,v,y,x){if(typeof y=="object"&&y!==null&&y.type===xh&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case J0:e:{for(var I=y.key,O=v;O!==null;){if(O.key===I){if(I=y.type,I===xh){if(O.tag===7){n(b,O.sibling),v=i(O,y.props.children),v.return=b,b=v;break e}}else if(O.elementType===I||typeof I=="object"&&I!==null&&I.$$typeof===Nu&&LN(I)===O.type){n(b,O.sibling),v=i(O,y.props),v.ref=Ym(b,O,y),v.return=b,b=v;break e}n(b,O);break}else e(b,O);O=O.sibling}y.type===xh?(v=Nd(y.props.children,b.mode,x,y.key),v.return=b,b=v):(x=Yb(y.type,y.key,y.props,null,b.mode,x),x.ref=Ym(b,v,y),x.return=b,b=x)}return s(b);case wh:e:{for(O=y.key;v!==null;){if(v.key===O)if(v.tag===4&&v.stateNode.containerInfo===y.containerInfo&&v.stateNode.implementation===y.implementation){n(b,v.sibling),v=i(v,y.children||[]),v.return=b,b=v;break e}else{n(b,v);break}else e(b,v);v=v.sibling}v=NI(y,b.mode,x),v.return=b,b=v}return s(b);case Nu:return O=y._init,w(b,v,O(y._payload),x)}if(bg(y))return g(b,v,y,x);if(Hm(y))return _(b,v,y,x);ub(b,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,v!==null&&v.tag===6?(n(b,v.sibling),v=i(v,y),v.return=b,b=v):(n(b,v),v=OI(y,b.mode,x),v.return=b,b=v),s(b)):n(b,v)}return w}var dp=wF(!0),xF=wF(!1),M_=xc(null),B_=null,Ah=null,RP=null;function OP(){RP=Ah=B_=null}function NP(t){var e=M_.current;Qn(M_),t._currentValue=e}function iS(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Vh(t,e){B_=t,RP=Ah=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(vo=!0),t.firstContext=null)}function Es(t){var e=t._currentValue;if(RP!==t)if(t={context:t,memoizedValue:e,next:null},Ah===null){if(B_===null)throw Error(ze(308));Ah=t,B_.dependencies={lanes:0,firstContext:t}}else Ah=Ah.next=t;return e}var Td=null;function LP(t){Td===null?Td=[t]:Td.push(t)}function EF(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,LP(e)):(n.next=i.next,i.next=n),e.interleaved=n,Fl(t,r)}function Fl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Lu=!1;function DP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function IF(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Dl(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ec(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,dn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Fl(t,n)}return i=r.interleaved,i===null?(e.next=e,LP(r)):(e.next=i.next,i.next=e),r.interleaved=e,Fl(t,n)}function qb(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_P(t,n)}}function DN(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function F_(t,e,n,r){var i=t.updateQueue;Lu=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?o=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(o!==null){var f=i.baseState;s=0,c=u=l=null,a=o;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var g=t,_=a;switch(h=e,p=n,_.tag){case 1:if(g=_.payload,typeof g=="function"){f=g.call(p,f,h);break e}f=g;break e;case 3:g.flags=g.flags&-65537|128;case 0:if(g=_.payload,h=typeof g=="function"?g.call(p,f,h):g,h==null)break e;f=pr({},f,h);break e;case 2:Lu=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=f):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=f),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Gd|=s,t.lanes=s,t.memoizedState=f}}function jN(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ze(191,i));i.call(r)}}}var xy={},Ma=xc(xy),xv=xc(xy),Ev=xc(xy);function Sd(t){if(t===xy)throw Error(ze(174));return t}function jP(t,e){switch(Bn(Ev,e),Bn(xv,t),Bn(Ma,xy),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:MT(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=MT(e,t)}Qn(Ma),Bn(Ma,e)}function fp(){Qn(Ma),Qn(xv),Qn(Ev)}function TF(t){Sd(Ev.current);var e=Sd(Ma.current),n=MT(e,t.type);e!==n&&(Bn(xv,t),Bn(Ma,n))}function $P(t){xv.current===t&&(Qn(Ma),Qn(xv))}var ur=xc(0);function V_(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var SI=[];function MP(){for(var t=0;t<SI.length;t++)SI[t]._workInProgressVersionPrimary=null;SI.length=0}var Hb=Zl.ReactCurrentDispatcher,CI=Zl.ReactCurrentBatchConfig,Kd=0,fr=null,Kr=null,ii=null,U_=!1,Bg=!1,Iv=0,yX=0;function ki(){throw Error(ze(321))}function BP(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ca(t[n],e[n]))return!1;return!0}function FP(t,e,n,r,i,o){if(Kd=o,fr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Hb.current=t===null||t.memoizedState===null?xX:EX,t=n(r,i),Bg){o=0;do{if(Bg=!1,Iv=0,25<=o)throw Error(ze(301));o+=1,ii=Kr=null,e.updateQueue=null,Hb.current=IX,t=n(r,i)}while(Bg)}if(Hb.current=z_,e=Kr!==null&&Kr.next!==null,Kd=0,ii=Kr=fr=null,U_=!1,e)throw Error(ze(300));return t}function VP(){var t=Iv!==0;return Iv=0,t}function Aa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ii===null?fr.memoizedState=ii=t:ii=ii.next=t,ii}function Is(){if(Kr===null){var t=fr.alternate;t=t!==null?t.memoizedState:null}else t=Kr.next;var e=ii===null?fr.memoizedState:ii.next;if(e!==null)ii=e,Kr=t;else{if(t===null)throw Error(ze(310));Kr=t,t={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},ii===null?fr.memoizedState=ii=t:ii=ii.next=t}return ii}function Tv(t,e){return typeof e=="function"?e(t):e}function PI(t){var e=Is(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=Kr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var a=s=null,l=null,u=o;do{var c=u.lane;if((Kd&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var f={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=f,s=r):l=l.next=f,fr.lanes|=c,Gd|=c}u=u.next}while(u!==null&&u!==o);l===null?s=r:l.next=a,ca(r,e.memoizedState)||(vo=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,fr.lanes|=o,Gd|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function kI(t){var e=Is(),n=e.queue;if(n===null)throw Error(ze(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);ca(o,e.memoizedState)||(vo=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function SF(){}function CF(t,e){var n=fr,r=Is(),i=e(),o=!ca(r.memoizedState,i);if(o&&(r.memoizedState=i,vo=!0),r=r.queue,UP(AF.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||ii!==null&&ii.memoizedState.tag&1){if(n.flags|=2048,Sv(9,kF.bind(null,n,r,i,e),void 0,null),ai===null)throw Error(ze(349));Kd&30||PF(n,e,i)}return i}function PF(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function kF(t,e,n,r){e.value=n,e.getSnapshot=r,RF(e)&&OF(t)}function AF(t,e,n){return n(function(){RF(e)&&OF(t)})}function RF(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ca(t,n)}catch{return!0}}function OF(t){var e=Fl(t,1);e!==null&&aa(e,t,1,-1)}function $N(t){var e=Aa();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Tv,lastRenderedState:t},e.queue=t,t=t.dispatch=wX.bind(null,fr,t),[e.memoizedState,t]}function Sv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=fr.updateQueue,e===null?(e={lastEffect:null,stores:null},fr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function NF(){return Is().memoizedState}function Wb(t,e,n,r){var i=Aa();fr.flags|=t,i.memoizedState=Sv(1|e,n,void 0,r===void 0?null:r)}function c1(t,e,n,r){var i=Is();r=r===void 0?null:r;var o=void 0;if(Kr!==null){var s=Kr.memoizedState;if(o=s.destroy,r!==null&&BP(r,s.deps)){i.memoizedState=Sv(e,n,o,r);return}}fr.flags|=t,i.memoizedState=Sv(1|e,n,o,r)}function MN(t,e){return Wb(8390656,8,t,e)}function UP(t,e){return c1(2048,8,t,e)}function LF(t,e){return c1(4,2,t,e)}function DF(t,e){return c1(4,4,t,e)}function jF(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function $F(t,e,n){return n=n!=null?n.concat([t]):null,c1(4,4,jF.bind(null,e,t),n)}function zP(){}function MF(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BP(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function BF(t,e){var n=Is();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&BP(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function FF(t,e,n){return Kd&21?(ca(n,e)||(n=HB(),fr.lanes|=n,Gd|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,vo=!0),t.memoizedState=n)}function bX(t,e){var n=An;An=n!==0&&4>n?n:4,t(!0);var r=CI.transition;CI.transition={};try{t(!1),e()}finally{An=n,CI.transition=r}}function VF(){return Is().memoizedState}function _X(t,e,n){var r=nc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},UF(t))zF(e,n);else if(n=EF(t,e,n,r),n!==null){var i=Gi();aa(n,t,r,i),qF(n,e,r)}}function wX(t,e,n){var r=nc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(UF(t))zF(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,a=o(s,n);if(i.hasEagerState=!0,i.eagerState=a,ca(a,s)){var l=e.interleaved;l===null?(i.next=i,LP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EF(t,e,i,r),n!==null&&(i=Gi(),aa(n,t,r,i),qF(n,e,r))}}function UF(t){var e=t.alternate;return t===fr||e!==null&&e===fr}function zF(t,e){Bg=U_=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function qF(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_P(t,n)}}var z_={readContext:Es,useCallback:ki,useContext:ki,useEffect:ki,useImperativeHandle:ki,useInsertionEffect:ki,useLayoutEffect:ki,useMemo:ki,useReducer:ki,useRef:ki,useState:ki,useDebugValue:ki,useDeferredValue:ki,useTransition:ki,useMutableSource:ki,useSyncExternalStore:ki,useId:ki,unstable_isNewReconciler:!1},xX={readContext:Es,useCallback:function(t,e){return Aa().memoizedState=[t,e===void 0?null:e],t},useContext:Es,useEffect:MN,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wb(4194308,4,jF.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wb(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wb(4,2,t,e)},useMemo:function(t,e){var n=Aa();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Aa();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=_X.bind(null,fr,t),[r.memoizedState,t]},useRef:function(t){var e=Aa();return t={current:t},e.memoizedState=t},useState:$N,useDebugValue:zP,useDeferredValue:function(t){return Aa().memoizedState=t},useTransition:function(){var t=$N(!1),e=t[0];return t=bX.bind(null,t[1]),Aa().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=fr,i=Aa();if(tr){if(n===void 0)throw Error(ze(407));n=n()}else{if(n=e(),ai===null)throw Error(ze(349));Kd&30||PF(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,MN(AF.bind(null,r,o,t),[t]),r.flags|=2048,Sv(9,kF.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=Aa(),e=ai.identifierPrefix;if(tr){var n=kl,r=Pl;n=(r&~(1<<32-sa(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Iv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=yX++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},EX={readContext:Es,useCallback:MF,useContext:Es,useEffect:UP,useImperativeHandle:$F,useInsertionEffect:LF,useLayoutEffect:DF,useMemo:BF,useReducer:PI,useRef:NF,useState:function(){return PI(Tv)},useDebugValue:zP,useDeferredValue:function(t){var e=Is();return FF(e,Kr.memoizedState,t)},useTransition:function(){var t=PI(Tv)[0],e=Is().memoizedState;return[t,e]},useMutableSource:SF,useSyncExternalStore:CF,useId:VF,unstable_isNewReconciler:!1},IX={readContext:Es,useCallback:MF,useContext:Es,useEffect:UP,useImperativeHandle:$F,useInsertionEffect:LF,useLayoutEffect:DF,useMemo:BF,useReducer:kI,useRef:NF,useState:function(){return kI(Tv)},useDebugValue:zP,useDeferredValue:function(t){var e=Is();return Kr===null?e.memoizedState=t:FF(e,Kr.memoizedState,t)},useTransition:function(){var t=kI(Tv)[0],e=Is().memoizedState;return[t,e]},useMutableSource:SF,useSyncExternalStore:CF,useId:VF,unstable_isNewReconciler:!1};function Xs(t,e){if(t&&t.defaultProps){e=pr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oS(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:pr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var d1={isMounted:function(t){return(t=t._reactInternals)?_f(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Gi(),i=nc(t),o=Dl(r,i);o.payload=e,n!=null&&(o.callback=n),e=ec(t,o,i),e!==null&&(aa(e,t,i,r),qb(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Gi(),i=nc(t),o=Dl(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ec(t,o,i),e!==null&&(aa(e,t,i,r),qb(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Gi(),r=nc(t),i=Dl(n,r);i.tag=2,e!=null&&(i.callback=e),e=ec(t,i,r),e!==null&&(aa(e,t,r,n),qb(e,t,r))}};function BN(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!yv(n,r)||!yv(i,o):!0}function HF(t,e,n){var r=!1,i=ac,o=e.contextType;return typeof o=="object"&&o!==null?o=Es(o):(i=Eo(e)?Hd:Di.current,r=e.contextTypes,o=(r=r!=null)?up(t,i):ac),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=d1,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function FN(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&d1.enqueueReplaceState(e,e.state,null)}function sS(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},DP(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Es(o):(o=Eo(e)?Hd:Di.current,i.context=up(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(oS(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&d1.enqueueReplaceState(i,i.state,null),F_(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function hp(t,e){try{var n="",r=e;do n+=JQ(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function AI(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function aS(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var TX=typeof WeakMap=="function"?WeakMap:Map;function WF(t,e,n){n=Dl(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){H_||(H_=!0,vS=r),aS(t,e)},n}function KF(t,e,n){n=Dl(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){aS(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){aS(t,e),typeof r!="function"&&(tc===null?tc=new Set([this]):tc.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function VN(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new TX;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=BX.bind(null,t,e,n),e.then(t,t))}function UN(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function zN(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Dl(-1,1),e.tag=2,ec(n,e,1))),n.lanes|=1),t)}var SX=Zl.ReactCurrentOwner,vo=!1;function qi(t,e,n,r){e.child=t===null?xF(e,null,n,r):dp(e,t.child,n,r)}function qN(t,e,n,r,i){n=n.render;var o=e.ref;return Vh(e,i),r=FP(t,e,n,r,o,i),n=VP(),t!==null&&!vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vl(t,e,i)):(tr&&n&&PP(e),e.flags|=1,qi(t,e,r,i),e.child)}function HN(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!XP(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,GF(t,e,o,r,i)):(t=Yb(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:yv,n(s,r)&&t.ref===e.ref)return Vl(t,e,i)}return e.flags|=1,t=rc(o,r),t.ref=e.ref,t.return=e,e.child=t}function GF(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(yv(o,r)&&t.ref===e.ref)if(vo=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(vo=!0);else return e.lanes=t.lanes,Vl(t,e,i)}return lS(t,e,n,r,i)}function QF(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(Oh,$o),$o|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bn(Oh,$o),$o|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Bn(Oh,$o),$o|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Bn(Oh,$o),$o|=r;return qi(t,e,i,n),e.child}function YF(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function lS(t,e,n,r,i){var o=Eo(n)?Hd:Di.current;return o=up(e,o),Vh(e,i),n=FP(t,e,n,r,o,i),r=VP(),t!==null&&!vo?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Vl(t,e,i)):(tr&&r&&PP(e),e.flags|=1,qi(t,e,n,i),e.child)}function WN(t,e,n,r,i){if(Eo(n)){var o=!0;D_(e)}else o=!1;if(Vh(e,i),e.stateNode===null)Kb(t,e),HF(e,n,r),sS(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Es(u):(u=Eo(n)?Hd:Di.current,u=up(e,u));var c=n.getDerivedStateFromProps,f=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&FN(e,s,r,u),Lu=!1;var h=e.memoizedState;s.state=h,F_(e,r,s,i),l=e.memoizedState,a!==r||h!==l||xo.current||Lu?(typeof c=="function"&&(oS(e,n,c,r),l=e.memoizedState),(a=Lu||BN(e,n,a,r,h,l,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,IF(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Xs(e.type,a),s.props=u,f=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Es(l):(l=Eo(n)?Hd:Di.current,l=up(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==f||h!==l)&&FN(e,s,r,l),Lu=!1,h=e.memoizedState,s.state=h,F_(e,r,s,i);var g=e.memoizedState;a!==f||h!==g||xo.current||Lu?(typeof p=="function"&&(oS(e,n,p,r),g=e.memoizedState),(u=Lu||BN(e,n,u,r,h,g,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,g,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,g,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=g),s.props=r,s.state=g,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return uS(t,e,n,r,o,i)}function uS(t,e,n,r,i,o){YF(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&RN(e,n,!1),Vl(t,e,o);r=e.stateNode,SX.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=dp(e,t.child,null,o),e.child=dp(e,null,a,o)):qi(t,e,a,o),e.memoizedState=r.state,i&&RN(e,n,!0),e.child}function XF(t){var e=t.stateNode;e.pendingContext?AN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&AN(t,e.context,!1),jP(t,e.containerInfo)}function KN(t,e,n,r,i){return cp(),AP(i),e.flags|=256,qi(t,e,n,r),e.child}var cS={dehydrated:null,treeContext:null,retryLane:0};function dS(t){return{baseLanes:t,cachePool:null,transitions:null}}function JF(t,e,n){var r=e.pendingProps,i=ur.current,o=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bn(ur,i&1),t===null)return rS(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=p1(s,r,0,null),t=Nd(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=dS(n),e.memoizedState=cS,t):qP(e,s));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return CX(t,e,s,r,a,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=rc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?o=rc(a,o):(o=Nd(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?dS(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=cS,r}return o=t.child,t=o.sibling,r=rc(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function qP(t,e){return e=p1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function cb(t,e,n,r){return r!==null&&AP(r),dp(e,t.child,null,n),t=qP(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CX(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=AI(Error(ze(422))),cb(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=p1({mode:"visible",children:r.children},i,0,null),o=Nd(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&dp(e,t.child,null,s),e.child.memoizedState=dS(s),e.memoizedState=cS,o);if(!(e.mode&1))return cb(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(ze(419)),r=AI(o,r,void 0),cb(t,e,s,r)}if(a=(s&t.childLanes)!==0,vo||a){if(r=ai,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Fl(t,i),aa(r,t,i,-1))}return YP(),r=AI(Error(ze(421))),cb(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FX.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,Bo=Zu(i.nextSibling),Vo=e,tr=!0,Zs=null,t!==null&&(ps[ms++]=Pl,ps[ms++]=kl,ps[ms++]=Wd,Pl=t.id,kl=t.overflow,Wd=e),e=qP(e,r.children),e.flags|=4096,e)}function GN(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iS(t.return,e,n)}function RI(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function ZF(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(qi(t,e,r.children,n),r=ur.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&GN(t,n,e);else if(t.tag===19)GN(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bn(ur,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&V_(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),RI(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&V_(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}RI(e,!0,n,null,o);break;case"together":RI(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Kb(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Vl(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Gd|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ze(153));if(e.child!==null){for(t=e.child,n=rc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=rc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function PX(t,e,n){switch(e.tag){case 3:XF(e),cp();break;case 5:TF(e);break;case 1:Eo(e.type)&&D_(e);break;case 4:jP(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bn(M_,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bn(ur,ur.current&1),e.flags|=128,null):n&e.child.childLanes?JF(t,e,n):(Bn(ur,ur.current&1),t=Vl(t,e,n),t!==null?t.sibling:null);Bn(ur,ur.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ZF(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bn(ur,ur.current),r)break;return null;case 22:case 23:return e.lanes=0,QF(t,e,n)}return Vl(t,e,n)}var e4,fS,t4,n4;e4=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fS=function(){};t4=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Sd(Ma.current);var o=null;switch(n){case"input":i=LT(t,i),r=LT(t,r),o=[];break;case"select":i=pr({},i,{value:void 0}),r=pr({},r,{value:void 0}),o=[];break;case"textarea":i=$T(t,i),r=$T(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=N_)}BT(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(dv.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(dv.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&qn("scroll",t),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(e.updateQueue=u)&&(e.flags|=4)}};n4=function(t,e,n,r){n!==r&&(e.flags|=4)};function Xm(t,e){if(!tr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ai(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function kX(t,e,n){var r=e.pendingProps;switch(kP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ai(e),null;case 1:return Eo(e.type)&&L_(),Ai(e),null;case 3:return r=e.stateNode,fp(),Qn(xo),Qn(Di),MP(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(lb(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Zs!==null&&(_S(Zs),Zs=null))),fS(t,e),Ai(e),null;case 5:$P(e);var i=Sd(Ev.current);if(n=e.type,t!==null&&e.stateNode!=null)t4(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ze(166));return Ai(e),null}if(t=Sd(Ma.current),lb(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[Na]=e,r[wv]=o,t=(e.mode&1)!==0,n){case"dialog":qn("cancel",r),qn("close",r);break;case"iframe":case"object":case"embed":qn("load",r);break;case"video":case"audio":for(i=0;i<wg.length;i++)qn(wg[i],r);break;case"source":qn("error",r);break;case"img":case"image":case"link":qn("error",r),qn("load",r);break;case"details":qn("toggle",r);break;case"input":rN(r,o),qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},qn("invalid",r);break;case"textarea":oN(r,o),qn("invalid",r)}BT(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var a=o[s];s==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&ab(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&ab(r.textContent,a,t),i=["children",""+a]):dv.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&qn("scroll",r)}switch(n){case"input":Z0(r),iN(r,o,!0);break;case"textarea":Z0(r),sN(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=N_)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AB(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Na]=e,t[wv]=r,e4(t,e,!1,!1),e.stateNode=t;e:{switch(s=FT(n,r),n){case"dialog":qn("cancel",t),qn("close",t),i=r;break;case"iframe":case"object":case"embed":qn("load",t),i=r;break;case"video":case"audio":for(i=0;i<wg.length;i++)qn(wg[i],t);i=r;break;case"source":qn("error",t),i=r;break;case"img":case"image":case"link":qn("error",t),qn("load",t),i=r;break;case"details":qn("toggle",t),i=r;break;case"input":rN(t,r),i=LT(t,r),qn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=pr({},r,{value:void 0}),qn("invalid",t);break;case"textarea":oN(t,r),i=$T(t,r),qn("invalid",t);break;default:i=r}BT(n,i),a=i;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?NB(t,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&RB(t,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&fv(t,l):typeof l=="number"&&fv(t,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(dv.hasOwnProperty(o)?l!=null&&o==="onScroll"&&qn("scroll",t):l!=null&&pP(t,o,l,s))}switch(n){case"input":Z0(t),iN(t,r,!1);break;case"textarea":Z0(t),sN(t);break;case"option":r.value!=null&&t.setAttribute("value",""+sc(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?$h(t,!!r.multiple,o,!1):r.defaultValue!=null&&$h(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=N_)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ai(e),null;case 6:if(t&&e.stateNode!=null)n4(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ze(166));if(n=Sd(Ev.current),Sd(Ma.current),lb(e)){if(r=e.stateNode,n=e.memoizedProps,r[Na]=e,(o=r.nodeValue!==n)&&(t=Vo,t!==null))switch(t.tag){case 3:ab(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ab(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Na]=e,e.stateNode=r}return Ai(e),null;case 13:if(Qn(ur),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(tr&&Bo!==null&&e.mode&1&&!(e.flags&128))_F(),cp(),e.flags|=98560,o=!1;else if(o=lb(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(ze(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(ze(317));o[Na]=e}else cp(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ai(e),o=!1}else Zs!==null&&(_S(Zs),Zs=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ur.current&1?Gr===0&&(Gr=3):YP())),e.updateQueue!==null&&(e.flags|=4),Ai(e),null);case 4:return fp(),fS(t,e),t===null&&bv(e.stateNode.containerInfo),Ai(e),null;case 10:return NP(e.type._context),Ai(e),null;case 17:return Eo(e.type)&&L_(),Ai(e),null;case 19:if(Qn(ur),o=e.memoizedState,o===null)return Ai(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)Xm(o,!1);else{if(Gr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=V_(t),s!==null){for(e.flags|=128,Xm(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bn(ur,ur.current&1|2),e.child}t=t.sibling}o.tail!==null&&Ar()>pp&&(e.flags|=128,r=!0,Xm(o,!1),e.lanes=4194304)}else{if(!r)if(t=V_(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Xm(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!tr)return Ai(e),null}else 2*Ar()-o.renderingStartTime>pp&&n!==1073741824&&(e.flags|=128,r=!0,Xm(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=Ar(),e.sibling=null,n=ur.current,Bn(ur,r?n&1|2:n&1),e):(Ai(e),null);case 22:case 23:return QP(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?$o&1073741824&&(Ai(e),e.subtreeFlags&6&&(e.flags|=8192)):Ai(e),null;case 24:return null;case 25:return null}throw Error(ze(156,e.tag))}function AX(t,e){switch(kP(e),e.tag){case 1:return Eo(e.type)&&L_(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fp(),Qn(xo),Qn(Di),MP(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $P(e),null;case 13:if(Qn(ur),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ze(340));cp()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Qn(ur),null;case 4:return fp(),null;case 10:return NP(e.type._context),null;case 22:case 23:return QP(),null;case 24:return null;default:return null}}var db=!1,Li=!1,RX=typeof WeakSet=="function"?WeakSet:Set,pt=null;function Rh(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){xr(t,e,r)}else n.current=null}function hS(t,e,n){try{n()}catch(r){xr(t,e,r)}}var QN=!1;function OX(t,e){if(YT=A_,t=aF(),CP(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,f=t,h=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(a=s+i),f!==o||r!==0&&f.nodeType!==3||(l=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===t)break t;if(h===n&&++u===i&&(a=s),h===o&&++c===r&&(l=s),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(XT={focusedElem:t,selectionRange:n},A_=!1,pt=e;pt!==null;)if(e=pt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pt=t;else for(;pt!==null;){e=pt;try{var g=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(g!==null){var _=g.memoizedProps,w=g.memoizedState,b=e.stateNode,v=b.getSnapshotBeforeUpdate(e.elementType===e.type?_:Xs(e.type,_),w);b.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var y=e.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ze(163))}}catch(x){xr(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,pt=t;break}pt=e.return}return g=QN,QN=!1,g}function Fg(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&hS(e,n,o)}i=i.next}while(i!==r)}}function f1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function pS(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function r4(t){var e=t.alternate;e!==null&&(t.alternate=null,r4(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Na],delete e[wv],delete e[eS],delete e[pX],delete e[mX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function i4(t){return t.tag===5||t.tag===3||t.tag===4}function YN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||i4(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=N_));else if(r!==4&&(t=t.child,t!==null))for(mS(t,e,n),t=t.sibling;t!==null;)mS(t,e,n),t=t.sibling}function gS(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(gS(t,e,n),t=t.sibling;t!==null;)gS(t,e,n),t=t.sibling}var mi=null,Js=!1;function Pu(t,e,n){for(n=n.child;n!==null;)o4(t,e,n),n=n.sibling}function o4(t,e,n){if($a&&typeof $a.onCommitFiberUnmount=="function")try{$a.onCommitFiberUnmount(i1,n)}catch{}switch(n.tag){case 5:Li||Rh(n,e);case 6:var r=mi,i=Js;mi=null,Pu(t,e,n),mi=r,Js=i,mi!==null&&(Js?(t=mi,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):mi.removeChild(n.stateNode));break;case 18:mi!==null&&(Js?(t=mi,n=n.stateNode,t.nodeType===8?II(t.parentNode,n):t.nodeType===1&&II(t,n),gv(t)):II(mi,n.stateNode));break;case 4:r=mi,i=Js,mi=n.stateNode.containerInfo,Js=!0,Pu(t,e,n),mi=r,Js=i;break;case 0:case 11:case 14:case 15:if(!Li&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&hS(n,e,s),i=i.next}while(i!==r)}Pu(t,e,n);break;case 1:if(!Li&&(Rh(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){xr(n,e,a)}Pu(t,e,n);break;case 21:Pu(t,e,n);break;case 22:n.mode&1?(Li=(r=Li)||n.memoizedState!==null,Pu(t,e,n),Li=r):Pu(t,e,n);break;default:Pu(t,e,n)}}function XN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new RX),e.forEach(function(r){var i=VX.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ys(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:mi=a.stateNode,Js=!1;break e;case 3:mi=a.stateNode.containerInfo,Js=!0;break e;case 4:mi=a.stateNode.containerInfo,Js=!0;break e}a=a.return}if(mi===null)throw Error(ze(160));o4(o,s,i),mi=null,Js=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xr(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)s4(e,t),e=e.sibling}function s4(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ys(e,t),Pa(t),r&4){try{Fg(3,t,t.return),f1(3,t)}catch(_){xr(t,t.return,_)}try{Fg(5,t,t.return)}catch(_){xr(t,t.return,_)}}break;case 1:Ys(e,t),Pa(t),r&512&&n!==null&&Rh(n,n.return);break;case 5:if(Ys(e,t),Pa(t),r&512&&n!==null&&Rh(n,n.return),t.flags&32){var i=t.stateNode;try{fv(i,"")}catch(_){xr(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&PB(i,o),FT(a,s);var u=FT(a,o);for(s=0;s<l.length;s+=2){var c=l[s],f=l[s+1];c==="style"?NB(i,f):c==="dangerouslySetInnerHTML"?RB(i,f):c==="children"?fv(i,f):pP(i,c,f,u)}switch(a){case"input":DT(i,o);break;case"textarea":kB(i,o);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;p!=null?$h(i,!!o.multiple,p,!1):h!==!!o.multiple&&(o.defaultValue!=null?$h(i,!!o.multiple,o.defaultValue,!0):$h(i,!!o.multiple,o.multiple?[]:"",!1))}i[wv]=o}catch(_){xr(t,t.return,_)}}break;case 6:if(Ys(e,t),Pa(t),r&4){if(t.stateNode===null)throw Error(ze(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(_){xr(t,t.return,_)}}break;case 3:if(Ys(e,t),Pa(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{gv(e.containerInfo)}catch(_){xr(t,t.return,_)}break;case 4:Ys(e,t),Pa(t);break;case 13:Ys(e,t),Pa(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(KP=Ar())),r&4&&XN(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(Li=(u=Li)||c,Ys(e,t),Li=u):Ys(e,t),Pa(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(pt=t,c=t.child;c!==null;){for(f=pt=c;pt!==null;){switch(h=pt,p=h.child,h.tag){case 0:case 11:case 14:case 15:Fg(4,h,h.return);break;case 1:Rh(h,h.return);var g=h.stateNode;if(typeof g.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,g.props=e.memoizedProps,g.state=e.memoizedState,g.componentWillUnmount()}catch(_){xr(r,n,_)}}break;case 5:Rh(h,h.return);break;case 22:if(h.memoizedState!==null){ZN(f);continue}}p!==null?(p.return=h,pt=p):ZN(f)}c=c.sibling}e:for(c=null,f=t;;){if(f.tag===5){if(c===null){c=f;try{i=f.stateNode,u?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=f.stateNode,l=f.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OB("display",s))}catch(_){xr(t,t.return,_)}}}else if(f.tag===6){if(c===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(_){xr(t,t.return,_)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;c===f&&(c=null),f=f.return}c===f&&(c=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ys(e,t),Pa(t),r&4&&XN(t);break;case 21:break;default:Ys(e,t),Pa(t)}}function Pa(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(i4(n)){var r=n;break e}n=n.return}throw Error(ze(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(fv(i,""),r.flags&=-33);var o=YN(t);gS(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,a=YN(t);mS(t,a,s);break;default:throw Error(ze(161))}}catch(l){xr(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NX(t,e,n){pt=t,a4(t)}function a4(t,e,n){for(var r=(t.mode&1)!==0;pt!==null;){var i=pt,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||db;if(!s){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Li;a=db;var u=Li;if(db=s,(Li=l)&&!u)for(pt=i;pt!==null;)s=pt,l=s.child,s.tag===22&&s.memoizedState!==null?eL(i):l!==null?(l.return=s,pt=l):eL(i);for(;o!==null;)pt=o,a4(o),o=o.sibling;pt=i,db=a,Li=u}JN(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,pt=o):JN(t)}}function JN(t){for(;pt!==null;){var e=pt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Li||f1(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Li)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Xs(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&jN(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}jN(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var f=c.dehydrated;f!==null&&gv(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ze(163))}Li||e.flags&512&&pS(e)}catch(h){xr(e,e.return,h)}}if(e===t){pt=null;break}if(n=e.sibling,n!==null){n.return=e.return,pt=n;break}pt=e.return}}function ZN(t){for(;pt!==null;){var e=pt;if(e===t){pt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,pt=n;break}pt=e.return}}function eL(t){for(;pt!==null;){var e=pt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{f1(4,e)}catch(l){xr(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){xr(e,i,l)}}var o=e.return;try{pS(e)}catch(l){xr(e,o,l)}break;case 5:var s=e.return;try{pS(e)}catch(l){xr(e,s,l)}}}catch(l){xr(e,e.return,l)}if(e===t){pt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pt=a;break}pt=e.return}}var LX=Math.ceil,q_=Zl.ReactCurrentDispatcher,HP=Zl.ReactCurrentOwner,_s=Zl.ReactCurrentBatchConfig,dn=0,ai=null,Br=null,bi=0,$o=0,Oh=xc(0),Gr=0,Cv=null,Gd=0,h1=0,WP=0,Vg=null,go=null,KP=0,pp=1/0,Il=null,H_=!1,vS=null,tc=null,fb=!1,Hu=null,W_=0,Ug=0,yS=null,Gb=-1,Qb=0;function Gi(){return dn&6?Ar():Gb!==-1?Gb:Gb=Ar()}function nc(t){return t.mode&1?dn&2&&bi!==0?bi&-bi:vX.transition!==null?(Qb===0&&(Qb=HB()),Qb):(t=An,t!==0||(t=window.event,t=t===void 0?16:JB(t.type)),t):1}function aa(t,e,n,r){if(50<Ug)throw Ug=0,yS=null,Error(ze(185));by(t,n,r),(!(dn&2)||t!==ai)&&(t===ai&&(!(dn&2)&&(h1|=n),Gr===4&&ju(t,bi)),Io(t,r),n===1&&dn===0&&!(e.mode&1)&&(pp=Ar()+500,u1&&Ec()))}function Io(t,e){var n=t.callbackNode;vY(t,e);var r=k_(t,t===ai?bi:0);if(r===0)n!==null&&uN(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&uN(n),e===1)t.tag===0?gX(tL.bind(null,t)):vF(tL.bind(null,t)),fX(function(){!(dn&6)&&Ec()}),n=null;else{switch(WB(r)){case 1:n=bP;break;case 4:n=zB;break;case 16:n=P_;break;case 536870912:n=qB;break;default:n=P_}n=m4(n,l4.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function l4(t,e){if(Gb=-1,Qb=0,dn&6)throw Error(ze(327));var n=t.callbackNode;if(Uh()&&t.callbackNode!==n)return null;var r=k_(t,t===ai?bi:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=K_(t,r);else{e=r;var i=dn;dn|=2;var o=c4();(ai!==t||bi!==e)&&(Il=null,pp=Ar()+500,Od(t,e));do try{$X();break}catch(a){u4(t,a)}while(!0);OP(),q_.current=o,dn=i,Br!==null?e=0:(ai=null,bi=0,e=Gr)}if(e!==0){if(e===2&&(i=HT(t),i!==0&&(r=i,e=bS(t,i))),e===1)throw n=Cv,Od(t,0),ju(t,r),Io(t,Ar()),n;if(e===6)ju(t,r);else{if(i=t.current.alternate,!(r&30)&&!DX(i)&&(e=K_(t,r),e===2&&(o=HT(t),o!==0&&(r=o,e=bS(t,o))),e===1))throw n=Cv,Od(t,0),ju(t,r),Io(t,Ar()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ze(345));case 2:ud(t,go,Il);break;case 3:if(ju(t,r),(r&130023424)===r&&(e=KP+500-Ar(),10<e)){if(k_(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Gi(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ZT(ud.bind(null,t,go,Il),e);break}ud(t,go,Il);break;case 4:if(ju(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-sa(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=Ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*LX(r/1960))-r,10<r){t.timeoutHandle=ZT(ud.bind(null,t,go,Il),r);break}ud(t,go,Il);break;case 5:ud(t,go,Il);break;default:throw Error(ze(329))}}}return Io(t,Ar()),t.callbackNode===n?l4.bind(null,t):null}function bS(t,e){var n=Vg;return t.current.memoizedState.isDehydrated&&(Od(t,e).flags|=256),t=K_(t,e),t!==2&&(e=go,go=n,e!==null&&_S(e)),t}function _S(t){go===null?go=t:go.push.apply(go,t)}function DX(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!ca(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ju(t,e){for(e&=~WP,e&=~h1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-sa(e),r=1<<n;t[n]=-1,e&=~r}}function tL(t){if(dn&6)throw Error(ze(327));Uh();var e=k_(t,0);if(!(e&1))return Io(t,Ar()),null;var n=K_(t,e);if(t.tag!==0&&n===2){var r=HT(t);r!==0&&(e=r,n=bS(t,r))}if(n===1)throw n=Cv,Od(t,0),ju(t,e),Io(t,Ar()),n;if(n===6)throw Error(ze(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ud(t,go,Il),Io(t,Ar()),null}function GP(t,e){var n=dn;dn|=1;try{return t(e)}finally{dn=n,dn===0&&(pp=Ar()+500,u1&&Ec())}}function Qd(t){Hu!==null&&Hu.tag===0&&!(dn&6)&&Uh();var e=dn;dn|=1;var n=_s.transition,r=An;try{if(_s.transition=null,An=1,t)return t()}finally{An=r,_s.transition=n,dn=e,!(dn&6)&&Ec()}}function QP(){$o=Oh.current,Qn(Oh)}function Od(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,dX(n)),Br!==null)for(n=Br.return;n!==null;){var r=n;switch(kP(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&L_();break;case 3:fp(),Qn(xo),Qn(Di),MP();break;case 5:$P(r);break;case 4:fp();break;case 13:Qn(ur);break;case 19:Qn(ur);break;case 10:NP(r.type._context);break;case 22:case 23:QP()}n=n.return}if(ai=t,Br=t=rc(t.current,null),bi=$o=e,Gr=0,Cv=null,WP=h1=Gd=0,go=Vg=null,Td!==null){for(e=0;e<Td.length;e++)if(n=Td[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}Td=null}return t}function u4(t,e){do{var n=Br;try{if(OP(),Hb.current=z_,U_){for(var r=fr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}U_=!1}if(Kd=0,ii=Kr=fr=null,Bg=!1,Iv=0,HP.current=null,n===null||n.return===null){Gr=1,Cv=e,Br=null;break}e:{var o=t,s=n.return,a=n,l=e;if(e=bi,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,f=c.tag;if(!(c.mode&1)&&(f===0||f===11||f===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=UN(s);if(p!==null){p.flags&=-257,zN(p,s,a,o,e),p.mode&1&&VN(o,u,e),e=p,l=u;var g=e.updateQueue;if(g===null){var _=new Set;_.add(l),e.updateQueue=_}else g.add(l);break e}else{if(!(e&1)){VN(o,u,e),YP();break e}l=Error(ze(426))}}else if(tr&&a.mode&1){var w=UN(s);if(w!==null){!(w.flags&65536)&&(w.flags|=256),zN(w,s,a,o,e),AP(hp(l,a));break e}}o=l=hp(l,a),Gr!==4&&(Gr=2),Vg===null?Vg=[o]:Vg.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var b=WF(o,l,e);DN(o,b);break e;case 1:a=l;var v=o.type,y=o.stateNode;if(!(o.flags&128)&&(typeof v.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(tc===null||!tc.has(y)))){o.flags|=65536,e&=-e,o.lanes|=e;var x=KF(o,a,e);DN(o,x);break e}}o=o.return}while(o!==null)}f4(n)}catch(I){e=I,Br===n&&n!==null&&(Br=n=n.return);continue}break}while(!0)}function c4(){var t=q_.current;return q_.current=z_,t===null?z_:t}function YP(){(Gr===0||Gr===3||Gr===2)&&(Gr=4),ai===null||!(Gd&268435455)&&!(h1&268435455)||ju(ai,bi)}function K_(t,e){var n=dn;dn|=2;var r=c4();(ai!==t||bi!==e)&&(Il=null,Od(t,e));do try{jX();break}catch(i){u4(t,i)}while(!0);if(OP(),dn=n,q_.current=r,Br!==null)throw Error(ze(261));return ai=null,bi=0,Gr}function jX(){for(;Br!==null;)d4(Br)}function $X(){for(;Br!==null&&!lY();)d4(Br)}function d4(t){var e=p4(t.alternate,t,$o);t.memoizedProps=t.pendingProps,e===null?f4(t):Br=e,HP.current=null}function f4(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=AX(n,e),n!==null){n.flags&=32767,Br=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gr=6,Br=null;return}}else if(n=kX(n,e,$o),n!==null){Br=n;return}if(e=e.sibling,e!==null){Br=e;return}Br=e=t}while(e!==null);Gr===0&&(Gr=5)}function ud(t,e,n){var r=An,i=_s.transition;try{_s.transition=null,An=1,MX(t,e,n,r)}finally{_s.transition=i,An=r}return null}function MX(t,e,n,r){do Uh();while(Hu!==null);if(dn&6)throw Error(ze(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ze(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(yY(t,o),t===ai&&(Br=ai=null,bi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||fb||(fb=!0,m4(P_,function(){return Uh(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=_s.transition,_s.transition=null;var s=An;An=1;var a=dn;dn|=4,HP.current=null,OX(t,n),s4(n,t),iX(XT),A_=!!YT,XT=YT=null,t.current=n,NX(n),uY(),dn=a,An=s,_s.transition=o}else t.current=n;if(fb&&(fb=!1,Hu=t,W_=i),o=t.pendingLanes,o===0&&(tc=null),fY(n.stateNode),Io(t,Ar()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(H_)throw H_=!1,t=vS,vS=null,t;return W_&1&&t.tag!==0&&Uh(),o=t.pendingLanes,o&1?t===yS?Ug++:(Ug=0,yS=t):Ug=0,Ec(),null}function Uh(){if(Hu!==null){var t=WB(W_),e=_s.transition,n=An;try{if(_s.transition=null,An=16>t?16:t,Hu===null)var r=!1;else{if(t=Hu,Hu=null,W_=0,dn&6)throw Error(ze(331));var i=dn;for(dn|=4,pt=t.current;pt!==null;){var o=pt,s=o.child;if(pt.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(pt=u;pt!==null;){var c=pt;switch(c.tag){case 0:case 11:case 15:Fg(8,c,o)}var f=c.child;if(f!==null)f.return=c,pt=f;else for(;pt!==null;){c=pt;var h=c.sibling,p=c.return;if(r4(c),c===u){pt=null;break}if(h!==null){h.return=p,pt=h;break}pt=p}}}var g=o.alternate;if(g!==null){var _=g.child;if(_!==null){g.child=null;do{var w=_.sibling;_.sibling=null,_=w}while(_!==null)}}pt=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,pt=s;else e:for(;pt!==null;){if(o=pt,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Fg(9,o,o.return)}var b=o.sibling;if(b!==null){b.return=o.return,pt=b;break e}pt=o.return}}var v=t.current;for(pt=v;pt!==null;){s=pt;var y=s.child;if(s.subtreeFlags&2064&&y!==null)y.return=s,pt=y;else e:for(s=v;pt!==null;){if(a=pt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:f1(9,a)}}catch(I){xr(a,a.return,I)}if(a===s){pt=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,pt=x;break e}pt=a.return}}if(dn=i,Ec(),$a&&typeof $a.onPostCommitFiberRoot=="function")try{$a.onPostCommitFiberRoot(i1,t)}catch{}r=!0}return r}finally{An=n,_s.transition=e}}return!1}function nL(t,e,n){e=hp(n,e),e=WF(t,e,1),t=ec(t,e,1),e=Gi(),t!==null&&(by(t,1,e),Io(t,e))}function xr(t,e,n){if(t.tag===3)nL(t,t,n);else for(;e!==null;){if(e.tag===3){nL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tc===null||!tc.has(r))){t=hp(n,t),t=KF(e,t,1),e=ec(e,t,1),t=Gi(),e!==null&&(by(e,1,t),Io(e,t));break}}e=e.return}}function BX(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Gi(),t.pingedLanes|=t.suspendedLanes&n,ai===t&&(bi&n)===n&&(Gr===4||Gr===3&&(bi&130023424)===bi&&500>Ar()-KP?Od(t,0):WP|=n),Io(t,e)}function h4(t,e){e===0&&(t.mode&1?(e=nb,nb<<=1,!(nb&130023424)&&(nb=4194304)):e=1);var n=Gi();t=Fl(t,e),t!==null&&(by(t,e,n),Io(t,n))}function FX(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h4(t,n)}function VX(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ze(314))}r!==null&&r.delete(e),h4(t,n)}var p4;p4=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||xo.current)vo=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return vo=!1,PX(t,e,n);vo=!!(t.flags&131072)}else vo=!1,tr&&e.flags&1048576&&yF(e,$_,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Kb(t,e),t=e.pendingProps;var i=up(e,Di.current);Vh(e,n),i=FP(null,e,r,t,i,n);var o=VP();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Eo(r)?(o=!0,D_(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,DP(e),i.updater=d1,e.stateNode=i,i._reactInternals=e,sS(e,r,t,n),e=uS(null,e,r,!0,o,n)):(e.tag=0,tr&&o&&PP(e),qi(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Kb(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=zX(r),t=Xs(r,t),i){case 0:e=lS(null,e,r,t,n);break e;case 1:e=WN(null,e,r,t,n);break e;case 11:e=qN(null,e,r,t,n);break e;case 14:e=HN(null,e,r,Xs(r.type,t),n);break e}throw Error(ze(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),lS(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),WN(t,e,r,i,n);case 3:e:{if(XF(e),t===null)throw Error(ze(387));r=e.pendingProps,o=e.memoizedState,i=o.element,IF(t,e),F_(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=hp(Error(ze(423)),e),e=KN(t,e,r,n,i);break e}else if(r!==i){i=hp(Error(ze(424)),e),e=KN(t,e,r,n,i);break e}else for(Bo=Zu(e.stateNode.containerInfo.firstChild),Vo=e,tr=!0,Zs=null,n=xF(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(cp(),r===i){e=Vl(t,e,n);break e}qi(t,e,r,n)}e=e.child}return e;case 5:return TF(e),t===null&&rS(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,JT(r,i)?s=null:o!==null&&JT(r,o)&&(e.flags|=32),YF(t,e),qi(t,e,s,n),e.child;case 6:return t===null&&rS(e),null;case 13:return JF(t,e,n);case 4:return jP(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=dp(e,null,r,n):qi(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),qN(t,e,r,i,n);case 7:return qi(t,e,e.pendingProps,n),e.child;case 8:return qi(t,e,e.pendingProps.children,n),e.child;case 12:return qi(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Bn(M_,r._currentValue),r._currentValue=s,o!==null)if(ca(o.value,s)){if(o.children===i.children&&!xo.current){e=Vl(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var a=o.dependencies;if(a!==null){s=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=Dl(-1,n&-n),l.tag=2;var u=o.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),iS(o.return,n,e),a.lanes|=n;break}l=l.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(ze(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),iS(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}qi(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Vh(e,n),i=Es(i),r=r(i),e.flags|=1,qi(t,e,r,n),e.child;case 14:return r=e.type,i=Xs(r,e.pendingProps),i=Xs(r.type,i),HN(t,e,r,i,n);case 15:return GF(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Xs(r,i),Kb(t,e),e.tag=1,Eo(r)?(t=!0,D_(e)):t=!1,Vh(e,n),HF(e,r,i),sS(e,r,i,n),uS(null,e,r,!0,t,n);case 19:return ZF(t,e,n);case 22:return QF(t,e,n)}throw Error(ze(156,e.tag))};function m4(t,e){return UB(t,e)}function UX(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vs(t,e,n,r){return new UX(t,e,n,r)}function XP(t){return t=t.prototype,!(!t||!t.isReactComponent)}function zX(t){if(typeof t=="function")return XP(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gP)return 11;if(t===vP)return 14}return 2}function rc(t,e){var n=t.alternate;return n===null?(n=vs(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Yb(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")XP(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case xh:return Nd(n.children,i,o,e);case mP:s=8,i|=8;break;case AT:return t=vs(12,n,e,i|2),t.elementType=AT,t.lanes=o,t;case RT:return t=vs(13,n,e,i),t.elementType=RT,t.lanes=o,t;case OT:return t=vs(19,n,e,i),t.elementType=OT,t.lanes=o,t;case TB:return p1(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EB:s=10;break e;case IB:s=9;break e;case gP:s=11;break e;case vP:s=14;break e;case Nu:s=16,r=null;break e}throw Error(ze(130,t==null?t:typeof t,""))}return e=vs(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function Nd(t,e,n,r){return t=vs(7,t,r,e),t.lanes=n,t}function p1(t,e,n,r){return t=vs(22,t,r,e),t.elementType=TB,t.lanes=n,t.stateNode={isHidden:!1},t}function OI(t,e,n){return t=vs(6,t,null,e),t.lanes=n,t}function NI(t,e,n){return e=vs(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qX(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=hI(0),this.expirationTimes=hI(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=hI(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function JP(t,e,n,r,i,o,s,a,l){return t=new qX(t,e,n,a,l),e===1?(e=1,o===!0&&(e|=8)):e=0,o=vs(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},DP(o),t}function HX(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wh,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function g4(t){if(!t)return ac;t=t._reactInternals;e:{if(_f(t)!==t||t.tag!==1)throw Error(ze(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Eo(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ze(171))}if(t.tag===1){var n=t.type;if(Eo(n))return gF(t,n,e)}return e}function v4(t,e,n,r,i,o,s,a,l){return t=JP(n,r,!0,t,i,o,s,a,l),t.context=g4(null),n=t.current,r=Gi(),i=nc(n),o=Dl(r,i),o.callback=e??null,ec(n,o,i),t.current.lanes=i,by(t,i,r),Io(t,r),t}function m1(t,e,n,r){var i=e.current,o=Gi(),s=nc(i);return n=g4(n),e.context===null?e.context=n:e.pendingContext=n,e=Dl(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=ec(i,e,s),t!==null&&(aa(t,i,s,o),qb(t,i,s)),s}function G_(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function rL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function ZP(t,e){rL(t,e),(t=t.alternate)&&rL(t,e)}function WX(){return null}var y4=typeof reportError=="function"?reportError:function(t){console.error(t)};function ek(t){this._internalRoot=t}g1.prototype.render=ek.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ze(409));m1(t,e,null,null)};g1.prototype.unmount=ek.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qd(function(){m1(null,t,null,null)}),e[Bl]=null}};function g1(t){this._internalRoot=t}g1.prototype.unstable_scheduleHydration=function(t){if(t){var e=QB();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Du.length&&e!==0&&e<Du[n].priority;n++);Du.splice(n,0,t),n===0&&XB(t)}};function tk(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function v1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function iL(){}function KX(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var u=G_(s);o.call(u)}}var s=v4(e,r,t,0,null,!1,!1,"",iL);return t._reactRootContainer=s,t[Bl]=s.current,bv(t.nodeType===8?t.parentNode:t),Qd(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=G_(l);a.call(u)}}var l=JP(t,0,!1,null,null,!1,!1,"",iL);return t._reactRootContainer=l,t[Bl]=l.current,bv(t.nodeType===8?t.parentNode:t),Qd(function(){m1(e,l,n,r)}),l}function y1(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var a=i;i=function(){var l=G_(s);a.call(l)}}m1(e,s,t,i)}else s=KX(n,e,t,i,r);return G_(s)}KB=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=_g(e.pendingLanes);n!==0&&(_P(e,n|1),Io(e,Ar()),!(dn&6)&&(pp=Ar()+500,Ec()))}break;case 13:Qd(function(){var r=Fl(t,1);if(r!==null){var i=Gi();aa(r,t,1,i)}}),ZP(t,1)}};wP=function(t){if(t.tag===13){var e=Fl(t,134217728);if(e!==null){var n=Gi();aa(e,t,134217728,n)}ZP(t,134217728)}};GB=function(t){if(t.tag===13){var e=nc(t),n=Fl(t,e);if(n!==null){var r=Gi();aa(n,t,e,r)}ZP(t,e)}};QB=function(){return An};YB=function(t,e){var n=An;try{return An=t,e()}finally{An=n}};UT=function(t,e,n){switch(e){case"input":if(DT(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=l1(r);if(!i)throw Error(ze(90));CB(r),DT(r,i)}}}break;case"textarea":kB(t,n);break;case"select":e=n.value,e!=null&&$h(t,!!n.multiple,e,!1)}};jB=GP;$B=Qd;var GX={usingClientEntryPoint:!1,Events:[wy,Sh,l1,LB,DB,GP]},Jm={findFiberByHostInstance:Id,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},QX={bundleType:Jm.bundleType,version:Jm.version,rendererPackageName:Jm.rendererPackageName,rendererConfig:Jm.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=FB(t),t===null?null:t.stateNode},findFiberByHostInstance:Jm.findFiberByHostInstance||WX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var hb=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!hb.isDisabled&&hb.supportsFiber)try{i1=hb.inject(QX),$a=hb}catch{}}Yo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GX;Yo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tk(e))throw Error(ze(200));return HX(t,e,null,n)};Yo.createRoot=function(t,e){if(!tk(t))throw Error(ze(299));var n=!1,r="",i=y4;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=JP(t,1,!1,null,null,n,!1,r,i),t[Bl]=e.current,bv(t.nodeType===8?t.parentNode:t),new ek(e)};Yo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ze(188)):(t=Object.keys(t).join(","),Error(ze(268,t)));return t=FB(e),t=t===null?null:t.stateNode,t};Yo.flushSync=function(t){return Qd(t)};Yo.hydrate=function(t,e,n){if(!v1(e))throw Error(ze(200));return y1(null,t,e,!0,n)};Yo.hydrateRoot=function(t,e,n){if(!tk(t))throw Error(ze(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=y4;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=v4(e,null,t,1,n??null,i,!1,o,s),t[Bl]=e.current,bv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new g1(e)};Yo.render=function(t,e,n){if(!v1(e))throw Error(ze(200));return y1(null,t,e,!1,n)};Yo.unmountComponentAtNode=function(t){if(!v1(t))throw Error(ze(40));return t._reactRootContainer?(Qd(function(){y1(null,null,t,!1,function(){t._reactRootContainer=null,t[Bl]=null})}),!0):!1};Yo.unstable_batchedUpdates=GP;Yo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!v1(n))throw Error(ze(200));if(t==null||t._reactInternals===void 0)throw Error(ze(38));return y1(t,e,n,!1,r)};Yo.version="18.3.1-next-f1338f8080-20240426";function b4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(b4)}catch(t){console.error(t)}}b4(),bB.exports=Yo;var Yp=bB.exports;const pb=As(Yp);var oL=Yp;PT.createRoot=oL.createRoot,PT.hydrateRoot=oL.hydrateRoot;var _4={exports:{}},w4={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ey=D;function YX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var XX=typeof Object.is=="function"?Object.is:YX,JX=Ey.useSyncExternalStore,ZX=Ey.useRef,eJ=Ey.useEffect,tJ=Ey.useMemo,nJ=Ey.useDebugValue;w4.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var o=ZX(null);if(o.current===null){var s={hasValue:!1,value:null};o.current=s}else s=o.current;o=tJ(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),i!==void 0&&s.hasValue){var g=s.value;if(i(g,p))return f=g}return f=p}if(g=f,XX(c,p))return g;var _=r(p);return i!==void 0&&i(g,_)?g:(c=p,f=_)}var u=!1,c,f,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,i]);var a=JX(t,o[0],o[1]);return eJ(function(){s.hasValue=!0,s.value=a},[a]),nJ(a),a};_4.exports=w4;var rJ=_4.exports,cn="default"in ap?gn:ap,sL=Symbol.for("react-redux-context"),aL=typeof globalThis<"u"?globalThis:{};function iJ(){if(!cn.createContext)return{};const t=aL[sL]??(aL[sL]=new Map);let e=t.get(cn.createContext);return e||(e=cn.createContext(null),t.set(cn.createContext,e)),e}var Ul=iJ(),x4=()=>{throw new Error("uSES not initialized!")};function nk(t=Ul){return function(){return cn.useContext(t)}}var E4=nk(),I4=x4,oJ=t=>{I4=t},sJ=(t,e)=>t===e;function aJ(t=Ul){const e=t===Ul?E4:nk(t),n=(r,i={})=>{const{equalityFn:o=sJ,devModeChecks:s={}}=typeof i=="function"?{equalityFn:i}:i,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:f}=e();cn.useRef(!0);const h=cn.useCallback({[r.name](g){return r(g)}}[r.name],[r,c,s.stabilityCheck]),p=I4(l.addNestedSub,a.getState,u||a.getState,h,o);return cn.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var nt=aJ(),lJ=Symbol.for("react.element"),uJ=Symbol.for("react.portal"),cJ=Symbol.for("react.fragment"),dJ=Symbol.for("react.strict_mode"),fJ=Symbol.for("react.profiler"),hJ=Symbol.for("react.provider"),pJ=Symbol.for("react.context"),mJ=Symbol.for("react.server_context"),T4=Symbol.for("react.forward_ref"),gJ=Symbol.for("react.suspense"),vJ=Symbol.for("react.suspense_list"),rk=Symbol.for("react.memo"),yJ=Symbol.for("react.lazy"),bJ=T4,_J=rk;function wJ(t){if(typeof t=="object"&&t!==null){const e=t.$$typeof;switch(e){case lJ:{const n=t.type;switch(n){case cJ:case fJ:case dJ:case gJ:case vJ:return n;default:{const r=n&&n.$$typeof;switch(r){case mJ:case pJ:case T4:case yJ:case rk:case hJ:return r;default:return e}}}}case uJ:return e}}}function xJ(t){return wJ(t)===rk}function EJ(t,e,n,r,{areStatesEqual:i,areOwnPropsEqual:o,areStatePropsEqual:s}){let a=!1,l,u,c,f,h;function p(v,y){return l=v,u=y,c=t(l,u),f=e(r,u),h=n(c,f,u),a=!0,h}function g(){return c=t(l,u),e.dependsOnOwnProps&&(f=e(r,u)),h=n(c,f,u),h}function _(){return t.dependsOnOwnProps&&(c=t(l,u)),e.dependsOnOwnProps&&(f=e(r,u)),h=n(c,f,u),h}function w(){const v=t(l,u),y=!s(v,c);return c=v,y&&(h=n(c,f,u)),h}function b(v,y){const x=!o(y,u),I=!i(v,l,y,u);return l=v,u=y,x&&I?g():x?_():I?w():h}return function(y,x){return a?b(y,x):p(y,x)}}function IJ(t,{initMapStateToProps:e,initMapDispatchToProps:n,initMergeProps:r,...i}){const o=e(t,i),s=n(t,i),a=r(t,i);return EJ(o,s,a,t,i)}function TJ(t,e){const n={};for(const r in t){const i=t[r];typeof i=="function"&&(n[r]=(...o)=>e(i(...o)))}return n}function wS(t){return function(n){const r=t(n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function lL(t){return t.dependsOnOwnProps?!!t.dependsOnOwnProps:t.length!==1}function S4(t,e){return function(r,{displayName:i}){const o=function(a,l){return o.dependsOnOwnProps?o.mapToProps(a,l):o.mapToProps(a,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(a,l){o.mapToProps=t,o.dependsOnOwnProps=lL(t);let u=o(a,l);return typeof u=="function"&&(o.mapToProps=u,o.dependsOnOwnProps=lL(u),u=o(a,l)),u},o}}function ik(t,e){return(n,r)=>{throw new Error(`Invalid value of type ${typeof t} for ${e} argument when connecting component ${r.wrappedComponentName}.`)}}function SJ(t){return t&&typeof t=="object"?wS(e=>TJ(t,e)):t?typeof t=="function"?S4(t):ik(t,"mapDispatchToProps"):wS(e=>({dispatch:e}))}function CJ(t){return t?typeof t=="function"?S4(t):ik(t,"mapStateToProps"):wS(()=>({}))}function PJ(t,e,n){return{...n,...t,...e}}function kJ(t){return function(n,{displayName:r,areMergedPropsEqual:i}){let o=!1,s;return function(l,u,c){const f=t(l,u,c);return o?i(f,s)||(s=f):(o=!0,s=f),s}}}function AJ(t){return t?typeof t=="function"?kJ(t):ik(t,"mergeProps"):()=>PJ}function RJ(t){t()}function OJ(){let t=null,e=null;return{clear(){t=null,e=null},notify(){RJ(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=e={callback:n,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!r||t===null||(r=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var uL={notify(){},get:()=>[]};function C4(t,e){let n,r=uL,i=0,o=!1;function s(_){c();const w=r.subscribe(_);let b=!1;return()=>{b||(b=!0,w(),f())}}function a(){r.notify()}function l(){g.onStateChange&&g.onStateChange()}function u(){return o}function c(){i++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=OJ())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=uL)}function h(){o||(o=!0,c())}function p(){o&&(o=!1,f())}const g={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return g}var NJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",LJ=typeof navigator<"u"&&navigator.product==="ReactNative",Q_=NJ||LJ?cn.useLayoutEffect:cn.useEffect;function cL(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function LI(t,e){if(cL(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(e,n[i])||!cL(t[n[i]],e[n[i]]))return!1;return!0}var DJ={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jJ={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},$J={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},P4={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},MJ={[bJ]:$J,[_J]:P4};function dL(t){return xJ(t)?P4:MJ[t.$$typeof]||DJ}var BJ=Object.defineProperty,FJ=Object.getOwnPropertyNames,fL=Object.getOwnPropertySymbols,VJ=Object.getOwnPropertyDescriptor,UJ=Object.getPrototypeOf,hL=Object.prototype;function xS(t,e){if(typeof e!="string"){if(hL){const o=UJ(e);o&&o!==hL&&xS(t,o)}let n=FJ(e);fL&&(n=n.concat(fL(e)));const r=dL(t),i=dL(e);for(let o=0;o<n.length;++o){const s=n[o];if(!jJ[s]&&!(i&&i[s])&&!(r&&r[s])){const a=VJ(e,s);try{BJ(t,s,a)}catch{}}}}return t}var k4=x4,zJ=t=>{k4=t},qJ=[null,null];function HJ(t,e,n){Q_(()=>t(...e),n)}function WJ(t,e,n,r,i,o){t.current=r,n.current=!1,i.current&&(i.current=null,o())}function KJ(t,e,n,r,i,o,s,a,l,u,c){if(!t)return()=>{};let f=!1,h=null;const p=()=>{if(f||!a.current)return;const _=e.getState();let w,b;try{w=r(_,i.current)}catch(v){b=v,h=v}b||(h=null),w===o.current?s.current||u():(o.current=w,l.current=w,s.current=!0,c())};return n.onStateChange=p,n.trySubscribe(),p(),()=>{if(f=!0,n.tryUnsubscribe(),n.onStateChange=null,h)throw h}}function GJ(t,e){return t===e}function QJ(t,e,n,{pure:r,areStatesEqual:i=GJ,areOwnPropsEqual:o=LI,areStatePropsEqual:s=LI,areMergedPropsEqual:a=LI,forwardRef:l=!1,context:u=Ul}={}){const c=u,f=CJ(t),h=SJ(e),p=AJ(n),g=!!t;return w=>{const b=w.displayName||w.name||"Component",v=`Connect(${b})`,y={shouldHandleStateChanges:g,displayName:v,wrappedComponentName:b,WrappedComponent:w,initMapStateToProps:f,initMapDispatchToProps:h,initMergeProps:p,areStatesEqual:i,areStatePropsEqual:s,areOwnPropsEqual:o,areMergedPropsEqual:a};function x(S){const[C,k,P]=cn.useMemo(()=>{const{reactReduxForwardedRef:be,...ve}=S;return[S.context,be,ve]},[S]),R=cn.useMemo(()=>{let be=c;return C!=null&&C.Consumer,be},[C,c]),L=cn.useContext(R),N=!!S.store&&!!S.store.getState&&!!S.store.dispatch,V=!!L&&!!L.store,F=N?S.store:L.store,z=V?L.getServerState:F.getState,B=cn.useMemo(()=>IJ(F.dispatch,y),[F]),[W,Q]=cn.useMemo(()=>{if(!g)return qJ;const be=C4(F,N?void 0:L.subscription),ve=be.notifyNestedSubs.bind(be);return[be,ve]},[F,N,L]),G=cn.useMemo(()=>N?L:{...L,subscription:W},[N,L,W]),j=cn.useRef(void 0),U=cn.useRef(P),K=cn.useRef(void 0),ne=cn.useRef(!1),oe=cn.useRef(!1),X=cn.useRef(void 0);Q_(()=>(oe.current=!0,()=>{oe.current=!1}),[]);const Z=cn.useMemo(()=>()=>K.current&&P===U.current?K.current:B(F.getState(),P),[F,P]),re=cn.useMemo(()=>ve=>W?KJ(g,F,W,B,U,j,ne,oe,K,Q,ve):()=>{},[W]);HJ(WJ,[U,j,ne,P,K,Q]);let ue;try{ue=k4(re,Z,z?()=>B(z(),P):Z)}catch(be){throw X.current&&(be.message+=`
The error may be correlated with this previous error:
${X.current.stack}

`),be}Q_(()=>{X.current=void 0,K.current=void 0,j.current=ue});const te=cn.useMemo(()=>cn.createElement(w,{...ue,ref:k}),[k,w,ue]);return cn.useMemo(()=>g?cn.createElement(R.Provider,{value:G},te):te,[R,te,G])}const O=cn.memo(x);if(O.WrappedComponent=w,O.displayName=x.displayName=v,l){const C=cn.forwardRef(function(P,R){return cn.createElement(O,{...P,reactReduxForwardedRef:R})});return C.displayName=v,C.WrappedComponent=w,xS(C,w)}return xS(O,w)}}var YJ=QJ;function XJ({store:t,context:e,children:n,serverState:r,stabilityCheck:i="once",identityFunctionCheck:o="once"}){const s=cn.useMemo(()=>{const u=C4(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:i,identityFunctionCheck:o}},[t,r,i,o]),a=cn.useMemo(()=>t.getState(),[t]);Q_(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=e||Ul;return cn.createElement(l.Provider,{value:s},n)}var JJ=XJ;function A4(t=Ul){const e=t===Ul?E4:nk(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var ZJ=A4();function eZ(t=Ul){const e=t===Ul?ZJ:A4(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var pn=eZ();oJ(rJ.useSyncExternalStoreWithSelector);zJ(D.useSyncExternalStore);/**
 * @remix-run/router v1.19.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Pv(){return Pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pv.apply(this,arguments)}var Wu;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Wu||(Wu={}));const pL="popstate";function tZ(t){t===void 0&&(t={});function e(r,i){let{pathname:o,search:s,hash:a}=r.location;return ES("",{pathname:o,search:s,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:O4(i)}return rZ(e,n,null,t)}function Fr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function R4(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function nZ(){return Math.random().toString(36).substr(2,8)}function mL(t,e){return{usr:t.state,key:t.key,idx:e}}function ES(t,e,n,r){return n===void 0&&(n=null),Pv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Xp(e):e,{state:n,key:e&&e.key||r||nZ()})}function O4(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Xp(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function rZ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,s=i.history,a=Wu.Pop,l=null,u=c();u==null&&(u=0,s.replaceState(Pv({},s.state,{idx:u}),""));function c(){return(s.state||{idx:null}).idx}function f(){a=Wu.Pop;let w=c(),b=w==null?null:w-u;u=w,l&&l({action:a,location:_.location,delta:b})}function h(w,b){a=Wu.Push;let v=ES(_.location,w,b);u=c()+1;let y=mL(v,u),x=_.createHref(v);try{s.pushState(y,"",x)}catch(I){if(I instanceof DOMException&&I.name==="DataCloneError")throw I;i.location.assign(x)}o&&l&&l({action:a,location:_.location,delta:1})}function p(w,b){a=Wu.Replace;let v=ES(_.location,w,b);u=c();let y=mL(v,u),x=_.createHref(v);s.replaceState(y,"",x),o&&l&&l({action:a,location:_.location,delta:0})}function g(w){let b=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:O4(w);return v=v.replace(/ $/,"%20"),Fr(b,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,b)}let _={get action(){return a},get location(){return t(i,s)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(pL,f),l=w,()=>{i.removeEventListener(pL,f),l=null}},createHref(w){return e(i,w)},createURL:g,encodeLocation(w){let b=g(w);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:h,replace:p,go(w){return s.go(w)}};return _}var gL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(gL||(gL={}));function iZ(t,e,n){return n===void 0&&(n="/"),oZ(t,e,n,!1)}function oZ(t,e,n,r){let i=typeof e=="string"?Xp(e):e,o=D4(i.pathname||"/",n);if(o==null)return null;let s=N4(t);sZ(s);let a=null;for(let l=0;a==null&&l<s.length;++l){let u=vZ(o);a=mZ(s[l],u,r)}return a}function N4(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(o,s,a)=>{let l={relativePath:a===void 0?o.path||"":a,caseSensitive:o.caseSensitive===!0,childrenIndex:s,route:o};l.relativePath.startsWith("/")&&(Fr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=Ld([r,l.relativePath]),c=n.concat(l);o.children&&o.children.length>0&&(Fr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),N4(o.children,e,c,u)),!(o.path==null&&!o.index)&&e.push({path:u,score:hZ(u,o.index),routesMeta:c})};return t.forEach((o,s)=>{var a;if(o.path===""||!((a=o.path)!=null&&a.includes("?")))i(o,s);else for(let l of L4(o.path))i(o,s,l)}),e}function L4(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),o=n.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let s=L4(r.join("/")),a=[];return a.push(...s.map(l=>l===""?o:[o,l].join("/"))),i&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sZ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:pZ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const aZ=/^:[\w-]+$/,lZ=3,uZ=2,cZ=1,dZ=10,fZ=-2,vL=t=>t==="*";function hZ(t,e){let n=t.split("/"),r=n.length;return n.some(vL)&&(r+=fZ),e&&(r+=uZ),n.filter(i=>!vL(i)).reduce((i,o)=>i+(aZ.test(o)?lZ:o===""?cZ:dZ),r)}function pZ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function mZ(t,e,n){let{routesMeta:r}=t,i={},o="/",s=[];for(let a=0;a<r.length;++a){let l=r[a],u=a===r.length-1,c=o==="/"?e:e.slice(o.length)||"/",f=yL({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),h=l.route;if(!f&&u&&n&&!r[r.length-1].route.index&&(f=yL({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},c)),!f)return null;Object.assign(i,f.params),s.push({params:i,pathname:Ld([o,f.pathname]),pathnameBase:wZ(Ld([o,f.pathnameBase])),route:h}),f.pathnameBase!=="/"&&(o=Ld([o,f.pathnameBase]))}return s}function yL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=gZ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let o=i[0],s=o.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,f)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let _=a[f]||"";s=o.slice(0,o.length-_.length).replace(/(.)\/+$/,"$1")}const g=a[f];return p&&!g?u[h]=void 0:u[h]=(g||"").replace(/%2F/g,"/"),u},{}),pathname:o,pathnameBase:s,pattern:t}}function gZ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),R4(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return R4(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function D4(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function yZ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Xp(t):t;return{pathname:n?n.startsWith("/")?n:bZ(n,e):e,search:xZ(r),hash:EZ(i)}}function bZ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function DI(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function _Z(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function j4(t,e){let n=_Z(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function $4(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Xp(t):(i=Pv({},t),Fr(!i.pathname||!i.pathname.includes("?"),DI("?","pathname","search",i)),Fr(!i.pathname||!i.pathname.includes("#"),DI("#","pathname","hash",i)),Fr(!i.search||!i.search.includes("#"),DI("#","search","hash",i)));let o=t===""||i.pathname==="",s=o?"/":i.pathname,a;if(s==null)a=n;else{let f=e.length-1;if(!r&&s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),f-=1;i.pathname=h.join("/")}a=f>=0?e[f]:"/"}let l=yZ(i,a),u=s&&s!=="/"&&s.endsWith("/"),c=(o||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ld=t=>t.join("/").replace(/\/\/+/g,"/"),wZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),xZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,EZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function IZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const M4=["post","put","patch","delete"];new Set(M4);const TZ=["get",...M4];new Set(TZ);/**
 * React Router v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function kv(){return kv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},kv.apply(this,arguments)}const ok=D.createContext(null),SZ=D.createContext(null),Iy=D.createContext(null),b1=D.createContext(null),Ic=D.createContext({outlet:null,matches:[],isDataRoute:!1}),B4=D.createContext(null);function Ty(){return D.useContext(b1)!=null}function sk(){return Ty()||Fr(!1),D.useContext(b1).location}function F4(t){D.useContext(Iy).static||D.useLayoutEffect(t)}function Vn(){let{isDataRoute:t}=D.useContext(Ic);return t?BZ():CZ()}function CZ(){Ty()||Fr(!1);let t=D.useContext(ok),{basename:e,future:n,navigator:r}=D.useContext(Iy),{matches:i}=D.useContext(Ic),{pathname:o}=sk(),s=JSON.stringify(j4(i,n.v7_relativeSplatPath)),a=D.useRef(!1);return F4(()=>{a.current=!0}),D.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let f=$4(u,JSON.parse(s),o,c.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Ld([e,f.pathname])),(c.replace?r.replace:r.push)(f,c.state,c)},[e,r,s,o,t])}function eu(){let{matches:t}=D.useContext(Ic),e=t[t.length-1];return e?e.params:{}}function PZ(t,e){return kZ(t,e)}function kZ(t,e,n,r){Ty()||Fr(!1);let{navigator:i}=D.useContext(Iy),{matches:o}=D.useContext(Ic),s=o[o.length-1],a=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let u=sk(),c;if(e){var f;let w=typeof e=="string"?Xp(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Fr(!1),c=w}else c=u;let h=c.pathname||"/",p=h;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+h.replace(/^\//,"").split("/").slice(w.length).join("/")}let g=iZ(t,{pathname:p}),_=LZ(g&&g.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ld([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ld([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),o,n,r);return e&&_?D.createElement(b1.Provider,{value:{location:kv({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Wu.Pop}},_):_}function AZ(){let t=MZ(),e=IZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return D.createElement(D.Fragment,null,D.createElement("h2",null,"Unexpected Application Error!"),D.createElement("h3",{style:{fontStyle:"italic"}},e),n?D.createElement("pre",{style:i},n):null,null)}const RZ=D.createElement(AZ,null);class OZ extends D.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?D.createElement(Ic.Provider,{value:this.props.routeContext},D.createElement(B4.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function NZ(t){let{routeContext:e,match:n,children:r}=t,i=D.useContext(ok);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),D.createElement(Ic.Provider,{value:e},r)}function LZ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var o;if(!n)return null;if(n.errors)t=n.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let s=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let c=s.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);c>=0||Fr(!1),s=s.slice(0,Math.min(s.length,c+1))}let l=!1,u=-1;if(n&&r&&r.v7_partialHydration)for(let c=0;c<s.length;c++){let f=s[c];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=c),f.route.id){let{loaderData:h,errors:p}=n,g=f.route.loader&&h[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,u>=0?s=s.slice(0,u+1):s=[s[0]];break}}}return s.reduceRight((c,f,h)=>{let p,g=!1,_=null,w=null;n&&(p=a&&f.route.id?a[f.route.id]:void 0,_=f.route.errorElement||RZ,l&&(u<0&&h===0?(g=!0,w=null):u===h&&(g=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,h+1)),v=()=>{let y;return p?y=_:g?y=w:f.route.Component?y=D.createElement(f.route.Component,null):f.route.element?y=f.route.element:y=c,D.createElement(NZ,{match:f,routeContext:{outlet:c,matches:b,isDataRoute:n!=null},children:y})};return n&&(f.route.ErrorBoundary||f.route.errorElement||h===0)?D.createElement(OZ,{location:n.location,revalidation:n.revalidation,component:_,error:p,children:v(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):v()},null)}var V4=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(V4||{}),Y_=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Y_||{});function DZ(t){let e=D.useContext(ok);return e||Fr(!1),e}function jZ(t){let e=D.useContext(SZ);return e||Fr(!1),e}function $Z(t){let e=D.useContext(Ic);return e||Fr(!1),e}function U4(t){let e=$Z(),n=e.matches[e.matches.length-1];return n.route.id||Fr(!1),n.route.id}function MZ(){var t;let e=D.useContext(B4),n=jZ(Y_.UseRouteError),r=U4(Y_.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function BZ(){let{router:t}=DZ(V4.UseNavigateStable),e=U4(Y_.UseNavigateStable),n=D.useRef(!1);return F4(()=>{n.current=!0}),D.useCallback(function(i,o){o===void 0&&(o={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,kv({fromRouteId:e},o)))},[t,e])}function FZ(t){let{to:e,replace:n,state:r,relative:i}=t;Ty()||Fr(!1);let{future:o,static:s}=D.useContext(Iy),{matches:a}=D.useContext(Ic),{pathname:l}=sk(),u=Vn(),c=$4(e,j4(a,o.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(c);return D.useEffect(()=>u(JSON.parse(f),{replace:n,state:r,relative:i}),[u,f,i,n,r]),null}function br(t){Fr(!1)}function VZ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Wu.Pop,navigator:o,static:s=!1,future:a}=t;Ty()&&Fr(!1);let l=e.replace(/^\/*/,"/"),u=D.useMemo(()=>({basename:l,navigator:o,static:s,future:kv({v7_relativeSplatPath:!1},a)}),[l,a,o,s]);typeof r=="string"&&(r=Xp(r));let{pathname:c="/",search:f="",hash:h="",state:p=null,key:g="default"}=r,_=D.useMemo(()=>{let w=D4(c,l);return w==null?null:{location:{pathname:w,search:f,hash:h,state:p,key:g},navigationType:i}},[l,c,f,h,p,g,i]);return _==null?null:D.createElement(Iy.Provider,{value:u},D.createElement(b1.Provider,{children:n,value:_}))}function UZ(t){let{children:e,location:n}=t;return PZ(IS(e),n)}new Promise(()=>{});function IS(t,e){e===void 0&&(e=[]);let n=[];return D.Children.forEach(t,(r,i)=>{if(!D.isValidElement(r))return;let o=[...e,i];if(r.type===D.Fragment){n.push.apply(n,IS(r.props.children,o));return}r.type!==br&&Fr(!1),!r.props.index||!r.props.children||Fr(!1);let s={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=IS(r.props.children,o)),n.push(s)}),n}/**
 * React Router DOM v6.26.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const zZ="6";try{window.__reactRouterVersion=zZ}catch{}const qZ="startTransition",bL=ap[qZ];function HZ(t){let{basename:e,children:n,future:r,window:i}=t,o=D.useRef();o.current==null&&(o.current=tZ({window:i,v5Compat:!0}));let s=o.current,[a,l]=D.useState({action:s.action,location:s.location}),{v7_startTransition:u}=r||{},c=D.useCallback(f=>{u&&bL?bL(()=>l(f)):l(f)},[l,u]);return D.useLayoutEffect(()=>s.listen(c),[s,c]),D.createElement(VZ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s,future:r})}var _L;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(_L||(_L={}));var wL;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wL||(wL={}));var xL={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z4=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},WZ=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=t[n++],s=t[n++],a=t[n++],l=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},q4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const o=t[i],s=i+1<t.length,a=s?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=o>>2,f=(o&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[f],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(z4(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):WZ(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const f=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||u==null||f==null)throw new KZ;const h=o<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),f!==64){const g=u<<6&192|f;r.push(g)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class KZ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const GZ=function(t){const e=z4(t);return q4.encodeByteArray(e,!0)},X_=function(t){return GZ(t).replace(/\./g,"")},H4=function(t){try{return q4.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function J_(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!QZ(n)||(t[n]=J_(t[n],e[n]));return t}function QZ(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YZ=()=>W4().__FIREBASE_DEFAULTS__,XZ=()=>{if(typeof process>"u"||typeof xL>"u")return;const t=xL.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JZ=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&H4(t[1]);return e&&JSON.parse(e)},_1=()=>{try{return YZ()||XZ()||JZ()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},K4=t=>{var e,n;return(n=(e=_1())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},G4=t=>{const e=K4(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Q4=()=>{var t;return(t=_1())===null||t===void 0?void 0:t.config},Y4=t=>{var e;return(e=_1())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X4(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[X_(JSON.stringify(n)),X_(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xr(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function eee(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xr())}function tee(){var t;const e=(t=_1())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nee(){return typeof window<"u"||J4()}function J4(){return typeof WorkerGlobalScope<"u"&&typeof self<"u"&&self instanceof WorkerGlobalScope}function ree(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function iee(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function oee(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function see(){const t=Xr();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Z4(){return!tee()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function e5(){try{return typeof indexedDB=="object"}catch{return!1}}function aee(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lee="FirebaseError";class ma extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=lee,Object.setPrototypeOf(this,ma.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,wf.prototype.create)}}class wf{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?uee(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new ma(i,a,r)}}function uee(t,e){return t.replace(cee,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const cee=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EL(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function dee(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mp(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const o=t[i],s=e[i];if(IL(o)&&IL(s)){if(!mp(o,s))return!1}else if(o!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function IL(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sy(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function xg(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Eg(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function t5(t,e){const n=new fee(t,e);return n.subscribe.bind(n)}class fee{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");hee(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jI),i.error===void 0&&(i.error=jI),i.complete===void 0&&(i.complete=jI);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function hee(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jI(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fn(t){return t&&t._delegate?t._delegate:t}class Wa{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cd="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pee{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new ZZ;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gee(e))try{this.getOrInitializeService({instanceIdentifier:cd})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=cd){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=cd){return this.instances.has(e)}getOptions(e=cd){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[o,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mee(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=cd){return this.component?this.component.multipleInstances?e:cd:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mee(t){return t===cd?void 0:t}function gee(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n5{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new pee(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ak=[];var Zt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Zt||(Zt={}));const r5={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},vee=Zt.INFO,yee={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},bee=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=yee[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class w1{constructor(e){this.name=e,this._logLevel=vee,this._logHandler=bee,this._userLogHandler=null,ak.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?r5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...e),this._logHandler(this,Zt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...e),this._logHandler(this,Zt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...e),this._logHandler(this,Zt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...e),this._logHandler(this,Zt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...e),this._logHandler(this,Zt.ERROR,...e)}}function _ee(t){ak.forEach(e=>{e.setLogLevel(t)})}function wee(t,e){for(const n of ak){let r=null;e&&e.level&&(r=r5[e.level]),t===null?n.userLogHandler=null:n.userLogHandler=(i,o,...s)=>{const a=s.map(l=>{if(l==null)return null;if(typeof l=="string")return l;if(typeof l=="number"||typeof l=="boolean")return l.toString();if(l instanceof Error)return l.message;try{return JSON.stringify(l)}catch{return null}}).filter(l=>l).join(" ");o>=(r??i.logLevel)&&t({level:Zt[o].toLowerCase(),message:a,args:s,type:i.name})}}}const xee=(t,e)=>e.some(n=>t instanceof n);let TL,SL;function Eee(){return TL||(TL=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Iee(){return SL||(SL=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const i5=new WeakMap,TS=new WeakMap,o5=new WeakMap,$I=new WeakMap,lk=new WeakMap;function Tee(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(ic(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&i5.set(n,t)}).catch(()=>{}),lk.set(e,t),e}function See(t){if(TS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});TS.set(t,e)}let SS={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return TS.get(t);if(e==="objectStoreNames")return t.objectStoreNames||o5.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ic(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Cee(t){SS=t(SS)}function Pee(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(MI(this),e,...n);return o5.set(r,e.sort?e.sort():[e]),ic(r)}:Iee().includes(t)?function(...e){return t.apply(MI(this),e),ic(i5.get(this))}:function(...e){return ic(t.apply(MI(this),e))}}function kee(t){return typeof t=="function"?Pee(t):(t instanceof IDBTransaction&&See(t),xee(t,Eee())?new Proxy(t,SS):t)}function ic(t){if(t instanceof IDBRequest)return Tee(t);if($I.has(t))return $I.get(t);const e=kee(t);return e!==t&&($I.set(t,e),lk.set(e,t)),e}const MI=t=>lk.get(t);function Aee(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(t,e),a=ic(s);return r&&s.addEventListener("upgradeneeded",l=>{r(ic(s.result),l.oldVersion,l.newVersion,ic(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{o&&l.addEventListener("close",()=>o()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const Ree=["get","getKey","getAll","getAllKeys","count"],Oee=["put","add","delete","clear"],BI=new Map;function CL(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(BI.get(e))return BI.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Oee.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Ree.includes(n)))return;const o=async function(s,...a){const l=this.transaction(s,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return BI.set(e,o),o}Cee(t=>({...t,get:(e,n,r)=>CL(e,n)||t.get(e,n,r),has:(e,n)=>!!CL(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nee{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lee(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Lee(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Z_="@firebase/app",CS="0.10.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zl=new w1("@firebase/app"),Dee="@firebase/app-compat",jee="@firebase/analytics-compat",$ee="@firebase/analytics",Mee="@firebase/app-check-compat",Bee="@firebase/app-check",Fee="@firebase/auth",Vee="@firebase/auth-compat",Uee="@firebase/database",zee="@firebase/data-connect",qee="@firebase/database-compat",Hee="@firebase/functions",Wee="@firebase/functions-compat",Kee="@firebase/installations",Gee="@firebase/installations-compat",Qee="@firebase/messaging",Yee="@firebase/messaging-compat",Xee="@firebase/performance",Jee="@firebase/performance-compat",Zee="@firebase/remote-config",ete="@firebase/remote-config-compat",tte="@firebase/storage",nte="@firebase/storage-compat",rte="@firebase/firestore",ite="@firebase/vertexai-preview",ote="@firebase/firestore-compat",ste="firebase",ate="10.14.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc="[DEFAULT]",lte={[Z_]:"fire-core",[Dee]:"fire-core-compat",[$ee]:"fire-analytics",[jee]:"fire-analytics-compat",[Bee]:"fire-app-check",[Mee]:"fire-app-check-compat",[Fee]:"fire-auth",[Vee]:"fire-auth-compat",[Uee]:"fire-rtdb",[zee]:"fire-data-connect",[qee]:"fire-rtdb-compat",[Hee]:"fire-fn",[Wee]:"fire-fn-compat",[Kee]:"fire-iid",[Gee]:"fire-iid-compat",[Qee]:"fire-fcm",[Yee]:"fire-fcm-compat",[Xee]:"fire-perf",[Jee]:"fire-perf-compat",[Zee]:"fire-rc",[ete]:"fire-rc-compat",[tte]:"fire-gcs",[nte]:"fire-gcs-compat",[rte]:"fire-fst",[ote]:"fire-fst-compat",[ite]:"fire-vertex","fire-js":"fire-js",[ste]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Map,gp=new Map,vp=new Map;function Av(t,e){try{t.container.addComponent(e)}catch(n){zl.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function s5(t,e){t.container.addOrOverwriteComponent(e)}function ql(t){const e=t.name;if(vp.has(e))return zl.debug(`There were multiple attempts to register component ${e}.`),!1;vp.set(e,t);for(const n of uc.values())Av(n,t);for(const n of gp.values())Av(n,t);return!0}function Jp(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function ute(t,e,n=lc){Jp(t,e).clearInstance(n)}function a5(t){return t.options!==void 0}function na(t){return t.settings!==void 0}function cte(){vp.clear()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dte={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ws=new wf("app","Firebase",dte);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let l5=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Wa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ws.create("app-deleted",{appName:this._name})}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fte extends l5{constructor(e,n,r,i){const o=n.automaticDataCollectionEnabled!==void 0?n.automaticDataCollectionEnabled:!1,s={name:r,automaticDataCollectionEnabled:o};if(e.apiKey!==void 0)super(e,s,i);else{const a=e;super(a.options,s,i)}this._serverConfig=Object.assign({automaticDataCollectionEnabled:o},n),this._finalizationRegistry=null,typeof FinalizationRegistry<"u"&&(this._finalizationRegistry=new FinalizationRegistry(()=>{this.automaticCleanup()})),this._refCount=0,this.incRefCount(this._serverConfig.releaseOnDeref),this._serverConfig.releaseOnDeref=void 0,n.releaseOnDeref=void 0,To(Z_,CS,"serverapp")}toJSON(){}get refCount(){return this._refCount}incRefCount(e){this.isDeleted||(this._refCount++,e!==void 0&&this._finalizationRegistry!==null&&this._finalizationRegistry.register(e,this))}decRefCount(){return this.isDeleted?0:--this._refCount}automaticCleanup(){uk(this)}get settings(){return this.checkDestroyed(),this._serverConfig}checkDestroyed(){if(this.isDeleted)throw ws.create("server-app-deleted")}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tu=ate;function x1(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:lc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw ws.create("bad-app-name",{appName:String(i)});if(n||(n=Q4()),!n)throw ws.create("no-options");const o=uc.get(i);if(o){if(mp(n,o.options)&&mp(r,o.config))return o;throw ws.create("duplicate-app",{appName:i})}const s=new n5(i);for(const l of vp.values())s.addComponent(l);const a=new l5(n,r,s);return uc.set(i,a),a}function hte(t,e){if(nee()&&!J4())throw ws.create("invalid-server-app-environment");e.automaticDataCollectionEnabled===void 0&&(e.automaticDataCollectionEnabled=!1);let n;a5(t)?n=t.options:n=t;const r=Object.assign(Object.assign({},e),n);r.releaseOnDeref!==void 0&&delete r.releaseOnDeref;const i=u=>[...u].reduce((c,f)=>Math.imul(31,c)+f.charCodeAt(0)|0,0);if(e.releaseOnDeref!==void 0&&typeof FinalizationRegistry>"u")throw ws.create("finalization-registry-not-supported",{});const o=""+i(JSON.stringify(r)),s=gp.get(o);if(s)return s.incRefCount(e.releaseOnDeref),s;const a=new n5(o);for(const u of vp.values())a.addComponent(u);const l=new fte(n,e,o,a);return gp.set(o,l),l}function E1(t=lc){const e=uc.get(t);if(!e&&t===lc&&Q4())return x1();if(!e)throw ws.create("no-app",{appName:t});return e}function pte(){return Array.from(uc.values())}async function uk(t){let e=!1;const n=t.name;uc.has(n)?(e=!0,uc.delete(n)):gp.has(n)&&t.decRefCount()<=0&&(gp.delete(n),e=!0),e&&(await Promise.all(t.container.getProviders().map(r=>r.delete())),t.isDeleted=!0)}function To(t,e,n){var r;let i=(r=lte[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){const a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),zl.warn(a.join(" "));return}ql(new Wa(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}function u5(t,e){if(t!==null&&typeof t!="function")throw ws.create("invalid-log-argument");wee(t,e)}function c5(t){_ee(t)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mte="firebase-heartbeat-database",gte=1,Rv="firebase-heartbeat-store";let FI=null;function d5(){return FI||(FI=Aee(mte,gte,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Rv)}catch(n){console.warn(n)}}}}).catch(t=>{throw ws.create("idb-open",{originalErrorMessage:t.message})})),FI}async function vte(t){try{const n=(await d5()).transaction(Rv),r=await n.objectStore(Rv).get(f5(t));return await n.done,r}catch(e){if(e instanceof ma)zl.warn(e.message);else{const n=ws.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});zl.warn(n.message)}}}async function PL(t,e){try{const r=(await d5()).transaction(Rv,"readwrite");await r.objectStore(Rv).put(e,f5(t)),await r.done}catch(n){if(n instanceof ma)zl.warn(n.message);else{const r=ws.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});zl.warn(r.message)}}}function f5(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yte=1024,bte=30*24*60*60*1e3;class _te{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new xte(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=kL();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=bte}),this._storage.overwrite(this._heartbeatsCache))}catch(r){zl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=kL(),{heartbeatsToSend:r,unsentEntries:i}=wte(this._heartbeatsCache.heartbeats),o=X_(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return zl.warn(n),""}}}function kL(){return new Date().toISOString().substring(0,10)}function wte(t,e=yte){const n=[];let r=t.slice();for(const i of t){const o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),AL(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),AL(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xte{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return e5()?aee().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await vte(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return PL(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function AL(t){return X_(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ete(t){ql(new Wa("platform-logger",e=>new Nee(e),"PRIVATE")),ql(new Wa("heartbeat",e=>new _te(e),"PRIVATE")),To(Z_,CS,t),To(Z_,CS,"esm2017"),To("fire-js","")}Ete("");const Ite=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:ma,SDK_VERSION:tu,_DEFAULT_ENTRY_NAME:lc,_addComponent:Av,_addOrOverwriteComponent:s5,_apps:uc,_clearComponents:cte,_components:vp,_getProvider:Jp,_isFirebaseApp:a5,_isFirebaseServerApp:na,_registerComponent:ql,_removeServiceInstance:ute,_serverApps:gp,deleteApp:uk,getApp:E1,getApps:pte,initializeApp:x1,initializeServerApp:hte,onLog:u5,registerVersion:To,setLogLevel:c5},Symbol.toStringTag,{value:"Module"}));var Tte="firebase",Ste="10.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */To(Tte,Ste,"app");function ck(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function h5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Cte=h5,p5=new wf("auth","Firebase",h5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=new w1("@firebase/auth");function Pte(t,...e){ew.logLevel<=Zt.WARN&&ew.warn(`Auth (${tu}): ${t}`,...e)}function Xb(t,...e){ew.logLevel<=Zt.ERROR&&ew.error(`Auth (${tu}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function da(t,...e){throw dk(t,...e)}function Ba(t,...e){return dk(t,...e)}function m5(t,e,n){const r=Object.assign(Object.assign({},Cte()),{[e]:n});return new wf("auth","Firebase",r).create(e,{appName:t.name})}function jl(t){return m5(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function dk(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return p5.create(t,...e)}function Ot(t,e,...n){if(!t)throw dk(e,...n)}function Al(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Xb(e),new Error(e)}function Hl(t,e){t||Al(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function kte(){return RL()==="http:"||RL()==="https:"}function RL(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ate(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(kte()||iee()||"connection"in navigator)?navigator.onLine:!0}function Rte(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cy{constructor(e,n){this.shortDelay=e,this.longDelay=n,Hl(n>e,"Short delay should be less than long delay!"),this.isMobile=eee()||oee()}get(){return Ate()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fk(t,e){Hl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g5{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Al("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Al("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Al("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ote={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nte=new Cy(3e4,6e4);function nu(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ru(t,e,n,r,i={}){return v5(t,i,async()=>{let o={},s={};r&&(e==="GET"?s=r:o={body:JSON.stringify(r)});const a=Sy(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u=Object.assign({method:e,headers:l},o);return ree()||(u.referrerPolicy="no-referrer"),g5.fetch()(y5(t,t.config.apiHost,n,a),u)})}async function v5(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Ote),e);try{const i=new Dte(t),o=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const s=await o.json();if("needConfirmation"in s)throw mb(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{const a=o.ok?s.errorMessage:s.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw mb(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw mb(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw mb(t,"user-disabled",s);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw m5(t,c,u);da(t,c)}}catch(i){if(i instanceof ma)throw i;da(t,"network-request-failed",{message:String(i)})}}async function Py(t,e,n,r,i={}){const o=await ru(t,e,n,r,i);return"mfaPendingCredential"in o&&da(t,"multi-factor-auth-required",{_serverResponse:o}),o}function y5(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?fk(t.config,i):`${t.config.apiScheme}://${i}`}function Lte(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Dte{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ba(this.auth,"network-request-failed")),Nte.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function mb(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ba(t,e,r);return i.customData._tokenResponse=n,i}function OL(t){return t!==void 0&&t.enterprise!==void 0}class jte{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Lte(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function $te(t,e){return ru(t,"GET","/v2/recaptchaConfig",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Mte(t,e){return ru(t,"POST","/v1/accounts:delete",e)}async function b5(t,e){return ru(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zg(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function Bte(t,e=!1){const n=fn(t),r=await n.getIdToken(e),i=hk(r);Ot(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,s=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:zg(VI(i.auth_time)),issuedAtTime:zg(VI(i.iat)),expirationTime:zg(VI(i.exp)),signInProvider:s||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function VI(t){return Number(t)*1e3}function hk(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Xb("JWT malformed, contained fewer than 3 sections"),null;try{const i=H4(n);return i?JSON.parse(i):(Xb("Failed to decode base64 JWT payload"),null)}catch(i){return Xb("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function NL(t){const e=hk(t);return Ot(e,"internal-error"),Ot(typeof e.exp<"u","internal-error"),Ot(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ov(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ma&&Fte(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function Fte({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vte{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kS{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zg(this.lastLoginAt),this.creationTime=zg(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tw(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ov(t,b5(n,{idToken:r}));Ot(i==null?void 0:i.users.length,n,"internal-error");const o=i.users[0];t._notifyReloadListener(o);const s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?_5(o.providerUserInfo):[],a=zte(t.providerData,s),l=t.isAnonymous,u=!(t.email&&o.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,f={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new kS(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(t,f)}async function Ute(t){const e=fn(t);await tw(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function zte(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function _5(t){return t.map(e=>{var{providerId:n}=e,r=ck(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qte(t,e){const n=await v5(t,{},async()=>{const r=Sy({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=y5(t,i,"/v1/token",`key=${o}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",g5.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function Hte(t,e){return ru(t,"POST","/v2/accounts:revokeToken",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ot(e.idToken,"internal-error"),Ot(typeof e.idToken<"u","internal-error"),Ot(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):NL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Ot(e.length!==0,"internal-error");const n=NL(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Ot(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:o}=await qte(e,n);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new zh;return r&&(Ot(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Ot(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Ot(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new zh,this.toJSON())}_performRefresh(){return Al("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ku(t,e){Ot(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Rl{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=ck(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Vte(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new kS(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Ov(this,this.stsTokenManager.getToken(this.auth,e));return Ot(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return Bte(this,e)}reload(){return Ute(this)}_assign(e){this!==e&&(Ot(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Rl(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ot(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await tw(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(na(this.auth.app))return Promise.reject(jl(this.auth));const e=await this.getIdToken();return await Ov(this,Mte(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,l,u,c;const f=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,g=(s=n.photoURL)!==null&&s!==void 0?s:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,b=(u=n.createdAt)!==null&&u!==void 0?u:void 0,v=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:y,emailVerified:x,isAnonymous:I,providerData:O,stsTokenManager:S}=n;Ot(y&&S,e,"internal-error");const C=zh.fromJSON(this.name,S);Ot(typeof y=="string",e,"internal-error"),ku(f,e.name),ku(h,e.name),Ot(typeof x=="boolean",e,"internal-error"),Ot(typeof I=="boolean",e,"internal-error"),ku(p,e.name),ku(g,e.name),ku(_,e.name),ku(w,e.name),ku(b,e.name),ku(v,e.name);const k=new Rl({uid:y,auth:e,email:h,emailVerified:x,displayName:f,isAnonymous:I,photoURL:g,phoneNumber:p,tenantId:_,stsTokenManager:C,createdAt:b,lastLoginAt:v});return O&&Array.isArray(O)&&(k.providerData=O.map(P=>Object.assign({},P))),w&&(k._redirectEventId=w),k}static async _fromIdTokenResponse(e,n,r=!1){const i=new zh;i.updateFromServerResponse(n);const o=new Rl({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await tw(o),o}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Ot(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?_5(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),a=new zh;a.updateFromIdToken(r);const l=new Rl({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new kS(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LL=new Map;function Ol(t){Hl(t instanceof Function,"Expected a class definition");let e=LL.get(t);return e?(Hl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,LL.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}w5.type="NONE";const DL=w5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jb(t,e,n){return`firebase:${t}:${e}:${n}`}class qh{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=Jb(this.userKey,i.apiKey,o),this.fullPersistenceKey=Jb("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Rl._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new qh(Ol(DL),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let o=i[0]||Ol(DL);const s=Jb(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(s);if(c){const f=Rl._fromJSON(e,c);u!==o&&(a=f),o=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!o._shouldAllowMigration||!l.length?new qh(o,e,r):(o=l[0],a&&await o._set(s,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==o)try{await u._remove(s)}catch{}})),new qh(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jL(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(T5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(x5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(C5(e))return"Blackberry";if(P5(e))return"Webos";if(E5(e))return"Safari";if((e.includes("chrome/")||I5(e))&&!e.includes("edge/"))return"Chrome";if(S5(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function x5(t=Xr()){return/firefox\//i.test(t)}function E5(t=Xr()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function I5(t=Xr()){return/crios\//i.test(t)}function T5(t=Xr()){return/iemobile/i.test(t)}function S5(t=Xr()){return/android/i.test(t)}function C5(t=Xr()){return/blackberry/i.test(t)}function P5(t=Xr()){return/webos/i.test(t)}function pk(t=Xr()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Wte(t=Xr()){var e;return pk(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Kte(){return see()&&document.documentMode===10}function k5(t=Xr()){return pk(t)||S5(t)||P5(t)||C5(t)||/windows phone/i.test(t)||T5(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A5(t,e=[]){let n;switch(t){case"Browser":n=jL(Xr());break;case"Worker":n=`${jL(Xr())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${tu}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gte{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=o=>new Promise((s,a)=>{try{const l=e(o);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qte(t,e={}){return ru(t,"GET","/v2/passwordPolicy",nu(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yte=6;class Xte{constructor(e){var n,r,i,o;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:Yte,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(o=l.containsUppercaseLetter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(s=l.containsNumericCharacter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jte{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $L(this),this.idTokenSubscription=new $L(this),this.beforeStateQueue=new Gte(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=p5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ol(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await qh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await b5(this,{idToken:e}),r=await Rl._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(na(this.app)){const s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(i=l.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ot(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await tw(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Rte()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(na(this.app))return Promise.reject(jl(this));const n=e?fn(e):null;return n&&Ot(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ot(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return na(this.app)?Promise.reject(jl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return na(this.app)?Promise.reject(jl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ol(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Qte(this),n=new Xte(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new wf("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await Hte(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ol(e)||this._popupRedirectResolver;Ot(n,this,"argument-error"),this.redirectPersistenceManager=await qh.create(this,[Ol(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ot(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{s=!0,l()}}else{const l=e.addObserver(n);return()=>{s=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ot(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=A5(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&Pte(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Tc(t){return fn(t)}class $L{constructor(e){this.auth=e,this.observer=null,this.addObserver=t5(n=>this.observer=n)}get next(){return Ot(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let I1={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Zte(t){I1=t}function R5(t){return I1.loadJS(t)}function ene(){return I1.recaptchaEnterpriseScript}function tne(){return I1.gapiScript}function nne(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const rne="recaptcha-enterprise",ine="NO_RECAPTCHA";class one{constructor(e){this.type=rne,this.auth=Tc(e)}async verify(e="verify",n=!1){async function r(o){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(s,a)=>{$te(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new jte(l);return o.tenantId==null?o._agentRecaptchaConfig=u:o._tenantRecaptchaConfigs[o.tenantId]=u,s(u.siteKey)}}).catch(l=>{a(l)})})}function i(o,s,a){const l=window.grecaptcha;OL(l)?l.enterprise.ready(()=>{l.enterprise.execute(o,{action:e}).then(u=>{s(u)}).catch(()=>{s(ine)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&OL(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let l=ene();l.length!==0&&(l+=a),R5(l).then(()=>{i(a,o,s)}).catch(u=>{s(u)})}}).catch(a=>{s(a)})})}}async function ML(t,e,n,r=!1){const i=new one(t);let o;try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s}async function nw(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await ML(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await ML(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sne(t,e){const n=Jp(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),o=n.getOptions();if(mp(o,e??{}))return i;da(i,"already-initialized")}return n.initialize({options:e})}function ane(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ol);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function lne(t,e,n){const r=Tc(t);Ot(r._canInitEmulator,r,"emulator-config-failed"),Ot(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=O5(e),{host:s,port:a}=une(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),cne()}function O5(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function une(t){const e=O5(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:BL(r.substr(o.length+1))}}else{const[o,s]=r.split(":");return{host:o,port:BL(s)}}}function BL(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function cne(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mk{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Al("not implemented")}_getIdTokenResponse(e){return Al("not implemented")}_linkToIdToken(e,n){return Al("not implemented")}_getReauthenticationResolver(e){return Al("not implemented")}}async function dne(t,e){return ru(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fne(t,e){return Py(t,"POST","/v1/accounts:signInWithPassword",nu(t,e))}async function hne(t,e){return ru(t,"POST","/v1/accounts:sendOobCode",nu(t,e))}async function pne(t,e){return hne(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mne(t,e){return Py(t,"POST","/v1/accounts:signInWithEmailLink",nu(t,e))}async function gne(t,e){return Py(t,"POST","/v1/accounts:signInWithEmailLink",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nv extends mk{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nv(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nv(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,n,"signInWithPassword",fne);case"emailLink":return mne(e,{email:this._email,oobCode:this._password});default:da(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return nw(e,r,"signUpPassword",dne);case"emailLink":return gne(e,{idToken:n,email:this._email,oobCode:this._password});default:da(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hh(t,e){return Py(t,"POST","/v1/accounts:signInWithIdp",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vne="http://localhost";class Yd extends mk{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Yd(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):da("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,o=ck(n,["providerId","signInMethod"]);if(!r||!i)return null;const s=new Yd(r,i);return s.idToken=o.idToken||void 0,s.accessToken=o.accessToken||void 0,s.secret=o.secret,s.nonce=o.nonce,s.pendingToken=o.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return Hh(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Hh(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Hh(e,n)}buildRequest(){const e={requestUri:vne,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Sy(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yne(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function bne(t){const e=xg(Eg(t)).link,n=e?xg(Eg(e)).deep_link_id:null,r=xg(Eg(t)).deep_link_id;return(r?xg(Eg(r)).link:null)||r||n||e||t}class gk{constructor(e){var n,r,i,o,s,a;const l=xg(Eg(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,f=yne((i=l.mode)!==null&&i!==void 0?i:null);Ot(u&&c&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=c,this.continueUrl=(o=l.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=l.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=bne(e);try{return new gk(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{constructor(){this.providerId=Zp.PROVIDER_ID}static credential(e,n){return Nv._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=gk.parseLink(n);return Ot(r,"argument-error"),Nv._fromEmailAndCode(e,r.code,r.tenantId)}}Zp.PROVIDER_ID="password";Zp.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Zp.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N5{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ky extends N5{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u extends ky{constructor(){super("facebook.com")}static credential(e){return Yd._fromParams({providerId:$u.PROVIDER_ID,signInMethod:$u.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $u.credentialFromTaggedObject(e)}static credentialFromError(e){return $u.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $u.credential(e.oauthAccessToken)}catch{return null}}}$u.FACEBOOK_SIGN_IN_METHOD="facebook.com";$u.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu extends ky{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Yd._fromParams({providerId:Mu.PROVIDER_ID,signInMethod:Mu.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Mu.credentialFromTaggedObject(e)}static credentialFromError(e){return Mu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Mu.credential(n,r)}catch{return null}}}Mu.GOOGLE_SIGN_IN_METHOD="google.com";Mu.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bu extends ky{constructor(){super("github.com")}static credential(e){return Yd._fromParams({providerId:Bu.PROVIDER_ID,signInMethod:Bu.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bu.credentialFromTaggedObject(e)}static credentialFromError(e){return Bu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bu.credential(e.oauthAccessToken)}catch{return null}}}Bu.GITHUB_SIGN_IN_METHOD="github.com";Bu.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu extends ky{constructor(){super("twitter.com")}static credential(e,n){return Yd._fromParams({providerId:Fu.PROVIDER_ID,signInMethod:Fu.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Fu.credentialFromTaggedObject(e)}static credentialFromError(e){return Fu.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Fu.credential(n,r)}catch{return null}}}Fu.TWITTER_SIGN_IN_METHOD="twitter.com";Fu.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ne(t,e){return Py(t,"POST","/v1/accounts:signUp",nu(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const o=await Rl._fromIdTokenResponse(e,r,i),s=FL(r);return new Xd({user:o,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=FL(r);return new Xd({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function FL(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends ma{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,rw.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new rw(e,n,r,i)}}function L5(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?rw._fromErrorAndOperation(t,o,e,r):o})}async function wne(t,e,n=!1){const r=await Ov(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Xd._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xne(t,e,n=!1){const{auth:r}=t;if(na(r.app))return Promise.reject(jl(r));const i="reauthenticate";try{const o=await Ov(t,L5(r,i,e,t),n);Ot(o.idToken,r,"internal-error");const s=hk(o.idToken);Ot(s,r,"internal-error");const{sub:a}=s;return Ot(t.uid===a,r,"user-mismatch"),Xd._forOperation(t,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&da(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D5(t,e,n=!1){if(na(t.app))return Promise.reject(jl(t));const r="signIn",i=await L5(t,r,e),o=await Xd._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(o.user),o}async function Ene(t,e){return D5(Tc(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j5(t){const e=Tc(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Ine(t,e,n){const r=Tc(t);await nw(r,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",pne)}async function Tne(t,e,n){if(na(t.app))return Promise.reject(jl(t));const r=Tc(t),s=await nw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",_ne).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&j5(t),l}),a=await Xd._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(a.user),a}function Sne(t,e,n){return na(t.app)?Promise.reject(jl(t)):Ene(fn(t),Zp.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&j5(t),r})}function Cne(t,e,n,r){return fn(t).onIdTokenChanged(e,n,r)}function Pne(t,e,n){return fn(t).beforeAuthStateChanged(e,n)}function kne(t,e,n,r){return fn(t).onAuthStateChanged(e,n,r)}function Ane(t){return fn(t).signOut()}const iw="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(iw,"1"),this.storage.removeItem(iw),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne=1e3,One=10;class M5 extends $5{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=k5(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},o=this.storage.getItem(r);Kte()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,One):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},Rne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}M5.type="LOCAL";const Nne=M5;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5 extends $5{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}B5.type="SESSION";const F5=B5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lne(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T1{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new T1(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:o}=n.data,s=this.handlersMap[i];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(s).map(async u=>u(n.origin,o)),l=await Lne(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}T1.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vk(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dne{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,l)=>{const u=vk("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(f){const h=f;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(h.data.response);break;default:clearTimeout(c),clearTimeout(o),l(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fa(){return window}function jne(t){Fa().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V5(){return typeof Fa().WorkerGlobalScope<"u"&&typeof Fa().importScripts=="function"}async function $ne(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Mne(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Bne(){return V5()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U5="firebaseLocalStorageDb",Fne=1,ow="firebaseLocalStorage",z5="fbase_key";class Ay{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function S1(t,e){return t.transaction([ow],e?"readwrite":"readonly").objectStore(ow)}function Vne(){const t=indexedDB.deleteDatabase(U5);return new Ay(t).toPromise()}function AS(){const t=indexedDB.open(U5,Fne);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(ow,{keyPath:z5})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(ow)?e(r):(r.close(),await Vne(),e(await AS()))})})}async function VL(t,e,n){const r=S1(t,!0).put({[z5]:e,value:n});return new Ay(r).toPromise()}async function Une(t,e){const n=S1(t,!1).get(e),r=await new Ay(n).toPromise();return r===void 0?null:r.value}function UL(t,e){const n=S1(t,!0).delete(e);return new Ay(n).toPromise()}const zne=800,qne=3;class q5{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AS(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>qne)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return V5()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=T1._getInstance(Bne()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await $ne(),!this.activeServiceWorker)return;this.sender=new Dne(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Mne()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AS();return await VL(e,iw,"1"),await UL(e,iw),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>VL(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Une(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>UL(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=S1(i,!1).getAll();return new Ay(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),zne)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}q5.type="LOCAL";const Hne=q5;new Cy(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wne(t,e){return e?Ol(e):(Ot(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk extends mk{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Hh(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Hh(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Hh(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Kne(t){return D5(t.auth,new yk(t),t.bypassAuthState)}function Gne(t){const{auth:e,user:n}=t;return Ot(n,e,"internal-error"),xne(n,new yk(t),t.bypassAuthState)}async function Qne(t){const{auth:e,user:n}=t;return Ot(n,e,"internal-error"),wne(n,new yk(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H5{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Kne;case"linkViaPopup":case"linkViaRedirect":return Qne;case"reauthViaPopup":case"reauthViaRedirect":return Gne;default:da(this.auth,"internal-error")}}resolve(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hl(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yne=new Cy(2e3,1e4);class Nh extends H5{constructor(e,n,r,i,o){super(e,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Nh.currentPopupAction&&Nh.currentPopupAction.cancel(),Nh.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ot(e,this.auth,"internal-error"),e}async onExecution(){Hl(this.filter.length===1,"Popup operations only handle one event");const e=vk();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ba(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ba(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nh.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ba(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Yne.get())};e()}}Nh.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xne="pendingRedirect",Zb=new Map;class Jne extends H5{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Zb.get(this.auth._key());if(!e){try{const r=await Zne(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Zb.set(this.auth._key(),e)}return this.bypassAuthState||Zb.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Zne(t,e){const n=nre(e),r=tre(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function ere(t,e){Zb.set(t._key(),e)}function tre(t){return Ol(t._redirectPersistence)}function nre(t){return Jb(Xne,t.config.apiKey,t.name)}async function rre(t,e,n=!1){if(na(t.app))return Promise.reject(jl(t));const r=Tc(t),i=Wne(r,e),s=await new Jne(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ire=10*60*1e3;class ore{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sre(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!W5(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ba(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=ire&&this.cachedEventUids.clear(),this.cachedEventUids.has(zL(e))}saveEventToCache(e){this.cachedEventUids.add(zL(e)),this.lastProcessedEventTime=Date.now()}}function zL(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function W5({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function sre(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return W5(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function are(t,e={}){return ru(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lre=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ure=/^https?/;async function cre(t){if(t.config.emulator)return;const{authorizedDomains:e}=await are(t);for(const n of e)try{if(dre(n))return}catch{}da(t,"unauthorized-domain")}function dre(t){const e=PS(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!ure.test(n))return!1;if(lre.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fre=new Cy(3e4,6e4);function qL(){const t=Fa().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function hre(t){return new Promise((e,n)=>{var r,i,o;function s(){qL(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qL(),n(Ba(t,"network-request-failed"))},timeout:fre.get()})}if(!((i=(r=Fa().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Fa().gapi)===null||o===void 0)&&o.load)s();else{const a=nne("iframefcb");return Fa()[a]=()=>{gapi.load?s():n(Ba(t,"network-request-failed"))},R5(`${tne()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw e_=null,e})}let e_=null;function pre(t){return e_=e_||hre(t),e_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mre=new Cy(5e3,15e3),gre="__/auth/iframe",vre="emulator/auth/iframe",yre={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bre=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function _re(t){const e=t.config;Ot(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?fk(e,vre):`https://${t.config.authDomain}/${gre}`,r={apiKey:e.apiKey,appName:t.name,v:tu},i=bre.get(t.config.apiHost);i&&(r.eid=i);const o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Sy(r).slice(1)}`}async function wre(t){const e=await pre(t),n=Fa().gapi;return Ot(n,t,"internal-error"),e.open({where:document.body,url:_re(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yre,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const s=Ba(t,"network-request-failed"),a=Fa().setTimeout(()=>{o(s)},mre.get());function l(){Fa().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{o(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xre={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ere=500,Ire=600,Tre="_blank",Sre="http://localhost";class HL{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Cre(t,e,n,r=Ere,i=Ire){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},xre),{width:r.toString(),height:i.toString(),top:o,left:s}),u=Xr().toLowerCase();n&&(a=I5(u)?Tre:n),x5(u)&&(e=e||Sre,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,g])=>`${h}${p}=${g},`,"");if(Wte(u)&&a!=="_self")return Pre(e||"",a),new HL(null);const f=window.open(e||"",a,c);Ot(f,t,"popup-blocked");try{f.focus()}catch{}return new HL(f)}function Pre(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kre="__/auth/handler",Are="emulator/auth/handler",Rre=encodeURIComponent("fac");async function WL(t,e,n,r,i,o){Ot(t.config.authDomain,t,"auth-domain-config-required"),Ot(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:tu,eventId:i};if(e instanceof N5){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",dee(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,f]of Object.entries({}))s[c]=f}if(e instanceof ky){const c=e.getScopes().filter(f=>f!=="");c.length>0&&(s.scopes=c.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${Rre}=${encodeURIComponent(l)}`:"";return`${Ore(t)}?${Sy(a).slice(1)}${u}`}function Ore({config:t}){return t.emulator?fk(t,Are):`https://${t.authDomain}/${kre}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UI="webStorageSupport";class Nre{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=F5,this._completeRedirectFn=rre,this._overrideRedirectResult=ere}async _openPopup(e,n,r,i){var o;Hl((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await WL(e,n,r,PS(),i);return Cre(e,s,vk())}async _openRedirect(e,n,r,i){await this._originValidation(e);const o=await WL(e,n,r,PS(),i);return jne(o),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Hl(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await wre(e),r=new ore(e);return n.register("authEvent",i=>(Ot(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(UI,{type:UI},i=>{var o;const s=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[UI];s!==void 0&&n(!!s),da(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=cre(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return k5()||E5()||pk()}}const Lre=Nre;var KL="@firebase/auth",GL="1.7.9";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dre{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ot(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jre(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function $re(t){ql(new Wa("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Ot(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:A5(t)},u=new Jte(r,i,o,l);return ane(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ql(new Wa("auth-internal",e=>{const n=Tc(e.getProvider("auth").getImmediate());return(r=>new Dre(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),To(KL,GL,jre(t)),To(KL,GL,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mre=5*60,Bre=Y4("authIdTokenMaxAge")||Mre;let QL=null;const Fre=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Bre)return;const i=n==null?void 0:n.token;QL!==i&&(QL=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Vre(t=E1()){const e=Jp(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sne(t,{popupRedirectResolver:Lre,persistence:[Hne,Nne,F5]}),r=Y4("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const s=Fre(o.toString());Pne(n,s,()=>s(n.currentUser)),Cne(n,a=>s(a))}}const i=K4("auth");return i&&lne(n,`http://${i}`),n}function Ure(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Zte({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const o=Ba("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",Ure().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});$re("Browser");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zre{constructor(e,n){this._delegate=e,this.firebase=n,Av(e,new Wa("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),uk(this._delegate)))}_getService(e,n=lc){var r;this._delegate.checkDestroyed();const i=this._delegate.container.getProvider(e);return!i.isInitialized()&&((r=i.getComponent())===null||r===void 0?void 0:r.instantiationMode)==="EXPLICIT"&&i.initialize(),i.getImmediate({identifier:n})}_removeServiceInstance(e,n=lc){this._delegate.container.getProvider(e).clearInstance(n)}_addComponent(e){Av(this._delegate,e)}_addOrOverwriteComponent(e){s5(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qre={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},YL=new wf("app-compat","Firebase",qre);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hre(t){const e={},n={__esModule:!0,initializeApp:o,app:i,registerVersion:To,setLogLevel:c5,onLog:u5,apps:null,SDK_VERSION:tu,INTERNAL:{registerComponent:a,removeApp:r,useAsService:l,modularAPIs:Ite}};n.default=n,Object.defineProperty(n,"apps",{get:s});function r(u){delete e[u]}function i(u){if(u=u||lc,!EL(e,u))throw YL.create("no-app",{appName:u});return e[u]}i.App=t;function o(u,c={}){const f=x1(u,c);if(EL(e,f.name))return e[f.name];const h=new t(f,n);return e[f.name]=h,h}function s(){return Object.keys(e).map(u=>e[u])}function a(u){const c=u.name,f=c.replace("-compat","");if(ql(u)&&u.type==="PUBLIC"){const h=(p=i())=>{if(typeof p[f]!="function")throw YL.create("invalid-app-argument",{appName:c});return p[f]()};u.serviceProps!==void 0&&J_(h,u.serviceProps),n[f]=h,t.prototype[f]=function(...p){return this._getService.bind(this,c).apply(this,u.multipleInstances?p:[])}}return u.type==="PUBLIC"?n[f]:null}function l(u,c){return c==="serverAuth"?null:c}return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K5(){const t=Hre(zre);t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:K5,extendNamespace:e,createSubscribe:t5,ErrorFactory:wf,deepExtend:J_});function e(n){J_(t,n)}return t}const Wre=K5();/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XL=new w1("@firebase/app-compat"),Kre="@firebase/app-compat",Gre="0.2.42";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qre(t){To(Kre,Gre,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */try{const t=W4();if(t.firebase!==void 0){XL.warn(`
      Warning: Firebase is already defined in the global scope. Please make sure
      Firebase library is only loaded once.
    `);const e=t.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&XL.warn(`
        Warning: You are trying to load Firebase while using Firebase Performance standalone script.
        You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.
        `)}}catch{}const Yre=Wre;Qre();var JL=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Dd,G5;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,C){function k(){}k.prototype=C.prototype,S.D=C.prototype,S.prototype=new k,S.prototype.constructor=S,S.C=function(P,R,L){for(var N=Array(arguments.length-2),V=2;V<arguments.length;V++)N[V-2]=arguments[V];return C.prototype[R].apply(P,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,C,k){k||(k=0);var P=Array(16);if(typeof C=="string")for(var R=0;16>R;++R)P[R]=C.charCodeAt(k++)|C.charCodeAt(k++)<<8|C.charCodeAt(k++)<<16|C.charCodeAt(k++)<<24;else for(R=0;16>R;++R)P[R]=C[k++]|C[k++]<<8|C[k++]<<16|C[k++]<<24;C=S.g[0],k=S.g[1],R=S.g[2];var L=S.g[3],N=C+(L^k&(R^L))+P[0]+3614090360&4294967295;C=k+(N<<7&4294967295|N>>>25),N=L+(R^C&(k^R))+P[1]+3905402710&4294967295,L=C+(N<<12&4294967295|N>>>20),N=R+(k^L&(C^k))+P[2]+606105819&4294967295,R=L+(N<<17&4294967295|N>>>15),N=k+(C^R&(L^C))+P[3]+3250441966&4294967295,k=R+(N<<22&4294967295|N>>>10),N=C+(L^k&(R^L))+P[4]+4118548399&4294967295,C=k+(N<<7&4294967295|N>>>25),N=L+(R^C&(k^R))+P[5]+1200080426&4294967295,L=C+(N<<12&4294967295|N>>>20),N=R+(k^L&(C^k))+P[6]+2821735955&4294967295,R=L+(N<<17&4294967295|N>>>15),N=k+(C^R&(L^C))+P[7]+4249261313&4294967295,k=R+(N<<22&4294967295|N>>>10),N=C+(L^k&(R^L))+P[8]+1770035416&4294967295,C=k+(N<<7&4294967295|N>>>25),N=L+(R^C&(k^R))+P[9]+2336552879&4294967295,L=C+(N<<12&4294967295|N>>>20),N=R+(k^L&(C^k))+P[10]+4294925233&4294967295,R=L+(N<<17&4294967295|N>>>15),N=k+(C^R&(L^C))+P[11]+2304563134&4294967295,k=R+(N<<22&4294967295|N>>>10),N=C+(L^k&(R^L))+P[12]+1804603682&4294967295,C=k+(N<<7&4294967295|N>>>25),N=L+(R^C&(k^R))+P[13]+4254626195&4294967295,L=C+(N<<12&4294967295|N>>>20),N=R+(k^L&(C^k))+P[14]+2792965006&4294967295,R=L+(N<<17&4294967295|N>>>15),N=k+(C^R&(L^C))+P[15]+1236535329&4294967295,k=R+(N<<22&4294967295|N>>>10),N=C+(R^L&(k^R))+P[1]+4129170786&4294967295,C=k+(N<<5&4294967295|N>>>27),N=L+(k^R&(C^k))+P[6]+3225465664&4294967295,L=C+(N<<9&4294967295|N>>>23),N=R+(C^k&(L^C))+P[11]+643717713&4294967295,R=L+(N<<14&4294967295|N>>>18),N=k+(L^C&(R^L))+P[0]+3921069994&4294967295,k=R+(N<<20&4294967295|N>>>12),N=C+(R^L&(k^R))+P[5]+3593408605&4294967295,C=k+(N<<5&4294967295|N>>>27),N=L+(k^R&(C^k))+P[10]+38016083&4294967295,L=C+(N<<9&4294967295|N>>>23),N=R+(C^k&(L^C))+P[15]+3634488961&4294967295,R=L+(N<<14&4294967295|N>>>18),N=k+(L^C&(R^L))+P[4]+3889429448&4294967295,k=R+(N<<20&4294967295|N>>>12),N=C+(R^L&(k^R))+P[9]+568446438&4294967295,C=k+(N<<5&4294967295|N>>>27),N=L+(k^R&(C^k))+P[14]+3275163606&4294967295,L=C+(N<<9&4294967295|N>>>23),N=R+(C^k&(L^C))+P[3]+4107603335&4294967295,R=L+(N<<14&4294967295|N>>>18),N=k+(L^C&(R^L))+P[8]+1163531501&4294967295,k=R+(N<<20&4294967295|N>>>12),N=C+(R^L&(k^R))+P[13]+2850285829&4294967295,C=k+(N<<5&4294967295|N>>>27),N=L+(k^R&(C^k))+P[2]+4243563512&4294967295,L=C+(N<<9&4294967295|N>>>23),N=R+(C^k&(L^C))+P[7]+1735328473&4294967295,R=L+(N<<14&4294967295|N>>>18),N=k+(L^C&(R^L))+P[12]+2368359562&4294967295,k=R+(N<<20&4294967295|N>>>12),N=C+(k^R^L)+P[5]+4294588738&4294967295,C=k+(N<<4&4294967295|N>>>28),N=L+(C^k^R)+P[8]+2272392833&4294967295,L=C+(N<<11&4294967295|N>>>21),N=R+(L^C^k)+P[11]+1839030562&4294967295,R=L+(N<<16&4294967295|N>>>16),N=k+(R^L^C)+P[14]+4259657740&4294967295,k=R+(N<<23&4294967295|N>>>9),N=C+(k^R^L)+P[1]+2763975236&4294967295,C=k+(N<<4&4294967295|N>>>28),N=L+(C^k^R)+P[4]+1272893353&4294967295,L=C+(N<<11&4294967295|N>>>21),N=R+(L^C^k)+P[7]+4139469664&4294967295,R=L+(N<<16&4294967295|N>>>16),N=k+(R^L^C)+P[10]+3200236656&4294967295,k=R+(N<<23&4294967295|N>>>9),N=C+(k^R^L)+P[13]+681279174&4294967295,C=k+(N<<4&4294967295|N>>>28),N=L+(C^k^R)+P[0]+3936430074&4294967295,L=C+(N<<11&4294967295|N>>>21),N=R+(L^C^k)+P[3]+3572445317&4294967295,R=L+(N<<16&4294967295|N>>>16),N=k+(R^L^C)+P[6]+76029189&4294967295,k=R+(N<<23&4294967295|N>>>9),N=C+(k^R^L)+P[9]+3654602809&4294967295,C=k+(N<<4&4294967295|N>>>28),N=L+(C^k^R)+P[12]+3873151461&4294967295,L=C+(N<<11&4294967295|N>>>21),N=R+(L^C^k)+P[15]+530742520&4294967295,R=L+(N<<16&4294967295|N>>>16),N=k+(R^L^C)+P[2]+3299628645&4294967295,k=R+(N<<23&4294967295|N>>>9),N=C+(R^(k|~L))+P[0]+4096336452&4294967295,C=k+(N<<6&4294967295|N>>>26),N=L+(k^(C|~R))+P[7]+1126891415&4294967295,L=C+(N<<10&4294967295|N>>>22),N=R+(C^(L|~k))+P[14]+2878612391&4294967295,R=L+(N<<15&4294967295|N>>>17),N=k+(L^(R|~C))+P[5]+4237533241&4294967295,k=R+(N<<21&4294967295|N>>>11),N=C+(R^(k|~L))+P[12]+1700485571&4294967295,C=k+(N<<6&4294967295|N>>>26),N=L+(k^(C|~R))+P[3]+2399980690&4294967295,L=C+(N<<10&4294967295|N>>>22),N=R+(C^(L|~k))+P[10]+4293915773&4294967295,R=L+(N<<15&4294967295|N>>>17),N=k+(L^(R|~C))+P[1]+2240044497&4294967295,k=R+(N<<21&4294967295|N>>>11),N=C+(R^(k|~L))+P[8]+1873313359&4294967295,C=k+(N<<6&4294967295|N>>>26),N=L+(k^(C|~R))+P[15]+4264355552&4294967295,L=C+(N<<10&4294967295|N>>>22),N=R+(C^(L|~k))+P[6]+2734768916&4294967295,R=L+(N<<15&4294967295|N>>>17),N=k+(L^(R|~C))+P[13]+1309151649&4294967295,k=R+(N<<21&4294967295|N>>>11),N=C+(R^(k|~L))+P[4]+4149444226&4294967295,C=k+(N<<6&4294967295|N>>>26),N=L+(k^(C|~R))+P[11]+3174756917&4294967295,L=C+(N<<10&4294967295|N>>>22),N=R+(C^(L|~k))+P[2]+718787259&4294967295,R=L+(N<<15&4294967295|N>>>17),N=k+(L^(R|~C))+P[9]+3951481745&4294967295,S.g[0]=S.g[0]+C&4294967295,S.g[1]=S.g[1]+(R+(N<<21&4294967295|N>>>11))&4294967295,S.g[2]=S.g[2]+R&4294967295,S.g[3]=S.g[3]+L&4294967295}r.prototype.u=function(S,C){C===void 0&&(C=S.length);for(var k=C-this.blockSize,P=this.B,R=this.h,L=0;L<C;){if(R==0)for(;L<=k;)i(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<C;)if(P[R++]=S.charCodeAt(L++),R==this.blockSize){i(this,P),R=0;break}}else for(;L<C;)if(P[R++]=S[L++],R==this.blockSize){i(this,P),R=0;break}}this.h=R,this.o+=C},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var C=1;C<S.length-8;++C)S[C]=0;var k=8*this.o;for(C=S.length-8;C<S.length;++C)S[C]=k&255,k/=256;for(this.u(S),S=Array(16),C=k=0;4>C;++C)for(var P=0;32>P;P+=8)S[k++]=this.g[C]>>>P&255;return S};function o(S,C){var k=a;return Object.prototype.hasOwnProperty.call(k,S)?k[S]:k[S]=C(S)}function s(S,C){this.h=C;for(var k=[],P=!0,R=S.length-1;0<=R;R--){var L=S[R]|0;P&&L==C||(k[R]=L,P=!1)}this.g=k}var a={};function l(S){return-128<=S&&128>S?o(S,function(C){return new s([C|0],0>C?-1:0)}):new s([S|0],0>S?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(0>S)return w(u(-S));for(var C=[],k=1,P=0;S>=k;P++)C[P]=S/k|0,k*=4294967296;return new s(C,0)}function c(S,C){if(S.length==0)throw Error("number format error: empty string");if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S.charAt(0)=="-")return w(c(S.substring(1),C));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var k=u(Math.pow(C,8)),P=f,R=0;R<S.length;R+=8){var L=Math.min(8,S.length-R),N=parseInt(S.substring(R,R+L),C);8>L?(L=u(Math.pow(C,L)),P=P.j(L).add(u(N))):(P=P.j(k),P=P.add(u(N)))}return P}var f=l(0),h=l(1),p=l(16777216);t=s.prototype,t.m=function(){if(_(this))return-w(this).m();for(var S=0,C=1,k=0;k<this.g.length;k++){var P=this.i(k);S+=(0<=P?P:4294967296+P)*C,C*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(g(this))return"0";if(_(this))return"-"+w(this).toString(S);for(var C=u(Math.pow(S,6)),k=this,P="";;){var R=x(k,C).g;k=b(k,R.j(C));var L=((0<k.g.length?k.g[0]:k.h)>>>0).toString(S);if(k=R,g(k))return L+P;for(;6>L.length;)L="0"+L;P=L+P}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function g(S){if(S.h!=0)return!1;for(var C=0;C<S.g.length;C++)if(S.g[C]!=0)return!1;return!0}function _(S){return S.h==-1}t.l=function(S){return S=b(this,S),_(S)?-1:g(S)?0:1};function w(S){for(var C=S.g.length,k=[],P=0;P<C;P++)k[P]=~S.g[P];return new s(k,~S.h).add(h)}t.abs=function(){return _(this)?w(this):this},t.add=function(S){for(var C=Math.max(this.g.length,S.g.length),k=[],P=0,R=0;R<=C;R++){var L=P+(this.i(R)&65535)+(S.i(R)&65535),N=(L>>>16)+(this.i(R)>>>16)+(S.i(R)>>>16);P=N>>>16,L&=65535,N&=65535,k[R]=N<<16|L}return new s(k,k[k.length-1]&-2147483648?-1:0)};function b(S,C){return S.add(w(C))}t.j=function(S){if(g(this)||g(S))return f;if(_(this))return _(S)?w(this).j(w(S)):w(w(this).j(S));if(_(S))return w(this.j(w(S)));if(0>this.l(p)&&0>S.l(p))return u(this.m()*S.m());for(var C=this.g.length+S.g.length,k=[],P=0;P<2*C;P++)k[P]=0;for(P=0;P<this.g.length;P++)for(var R=0;R<S.g.length;R++){var L=this.i(P)>>>16,N=this.i(P)&65535,V=S.i(R)>>>16,F=S.i(R)&65535;k[2*P+2*R]+=N*F,v(k,2*P+2*R),k[2*P+2*R+1]+=L*F,v(k,2*P+2*R+1),k[2*P+2*R+1]+=N*V,v(k,2*P+2*R+1),k[2*P+2*R+2]+=L*V,v(k,2*P+2*R+2)}for(P=0;P<C;P++)k[P]=k[2*P+1]<<16|k[2*P];for(P=C;P<2*C;P++)k[P]=0;return new s(k,0)};function v(S,C){for(;(S[C]&65535)!=S[C];)S[C+1]+=S[C]>>>16,S[C]&=65535,C++}function y(S,C){this.g=S,this.h=C}function x(S,C){if(g(C))throw Error("division by zero");if(g(S))return new y(f,f);if(_(S))return C=x(w(S),C),new y(w(C.g),w(C.h));if(_(C))return C=x(S,w(C)),new y(w(C.g),C.h);if(30<S.g.length){if(_(S)||_(C))throw Error("slowDivide_ only works with positive integers.");for(var k=h,P=C;0>=P.l(S);)k=I(k),P=I(P);var R=O(k,1),L=O(P,1);for(P=O(P,2),k=O(k,2);!g(P);){var N=L.add(P);0>=N.l(S)&&(R=R.add(k),L=N),P=O(P,1),k=O(k,1)}return C=b(S,R.j(C)),new y(R,C)}for(R=f;0<=S.l(C);){for(k=Math.max(1,Math.floor(S.m()/C.m())),P=Math.ceil(Math.log(k)/Math.LN2),P=48>=P?1:Math.pow(2,P-48),L=u(k),N=L.j(C);_(N)||0<N.l(S);)k-=P,L=u(k),N=L.j(C);g(L)&&(L=h),R=R.add(L),S=b(S,N)}return new y(R,S)}t.A=function(S){return x(this,S).h},t.and=function(S){for(var C=Math.max(this.g.length,S.g.length),k=[],P=0;P<C;P++)k[P]=this.i(P)&S.i(P);return new s(k,this.h&S.h)},t.or=function(S){for(var C=Math.max(this.g.length,S.g.length),k=[],P=0;P<C;P++)k[P]=this.i(P)|S.i(P);return new s(k,this.h|S.h)},t.xor=function(S){for(var C=Math.max(this.g.length,S.g.length),k=[],P=0;P<C;P++)k[P]=this.i(P)^S.i(P);return new s(k,this.h^S.h)};function I(S){for(var C=S.g.length+1,k=[],P=0;P<C;P++)k[P]=S.i(P)<<1|S.i(P-1)>>>31;return new s(k,S.h)}function O(S,C){var k=C>>5;C%=32;for(var P=S.g.length-k,R=[],L=0;L<P;L++)R[L]=0<C?S.i(L+k)>>>C|S.i(L+k+1)<<32-C:S.i(L+k);return new s(R,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,G5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=u,s.fromString=c,Dd=s}).apply(typeof JL<"u"?JL:typeof self<"u"?self:typeof window<"u"?window:{});var gb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Q5,Ig,Y5,t_,RS,X5,J5,Z5;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(T,$,H){return T==Array.prototype||T==Object.prototype||(T[$]=H.value),T};function n(T){T=[typeof globalThis=="object"&&globalThis,T,typeof window=="object"&&window,typeof self=="object"&&self,typeof gb=="object"&&gb];for(var $=0;$<T.length;++$){var H=T[$];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var r=n(this);function i(T,$){if($)e:{var H=r;T=T.split(".");for(var ie=0;ie<T.length-1;ie++){var xe=T[ie];if(!(xe in H))break e;H=H[xe]}T=T[T.length-1],ie=H[T],$=$(ie),$!=ie&&$!=null&&e(H,T,{configurable:!0,writable:!0,value:$})}}function o(T,$){T instanceof String&&(T+="");var H=0,ie=!1,xe={next:function(){if(!ie&&H<T.length){var Ae=H++;return{value:$(Ae,T[Ae]),done:!1}}return ie=!0,{done:!0,value:void 0}}};return xe[Symbol.iterator]=function(){return xe},xe}i("Array.prototype.values",function(T){return T||function(){return o(this,function($,H){return H})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function l(T){var $=typeof T;return $=$!="object"?$:T?Array.isArray(T)?"array":$:"null",$=="array"||$=="object"&&typeof T.length=="number"}function u(T){var $=typeof T;return $=="object"&&T!=null||$=="function"}function c(T,$,H){return T.call.apply(T.bind,arguments)}function f(T,$,H){if(!T)throw Error();if(2<arguments.length){var ie=Array.prototype.slice.call(arguments,2);return function(){var xe=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(xe,ie),T.apply($,xe)}}return function(){return T.apply($,arguments)}}function h(T,$,H){return h=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:f,h.apply(null,arguments)}function p(T,$){var H=Array.prototype.slice.call(arguments,1);return function(){var ie=H.slice();return ie.push.apply(ie,arguments),T.apply(this,ie)}}function g(T,$){function H(){}H.prototype=$.prototype,T.aa=$.prototype,T.prototype=new H,T.prototype.constructor=T,T.Qb=function(ie,xe,Ae){for(var Ke=Array(arguments.length-2),yn=2;yn<arguments.length;yn++)Ke[yn-2]=arguments[yn];return $.prototype[xe].apply(ie,Ke)}}function _(T){const $=T.length;if(0<$){const H=Array($);for(let ie=0;ie<$;ie++)H[ie]=T[ie];return H}return[]}function w(T,$){for(let H=1;H<arguments.length;H++){const ie=arguments[H];if(l(ie)){const xe=T.length||0,Ae=ie.length||0;T.length=xe+Ae;for(let Ke=0;Ke<Ae;Ke++)T[xe+Ke]=ie[Ke]}else T.push(ie)}}class b{constructor($,H){this.i=$,this.j=H,this.h=0,this.g=null}get(){let $;return 0<this.h?(this.h--,$=this.g,this.g=$.next,$.next=null):$=this.i(),$}}function v(T){return/^[\s\xa0]*$/.test(T)}function y(){var T=a.navigator;return T&&(T=T.userAgent)?T:""}function x(T){return x[" "](T),T}x[" "]=function(){};var I=y().indexOf("Gecko")!=-1&&!(y().toLowerCase().indexOf("webkit")!=-1&&y().indexOf("Edge")==-1)&&!(y().indexOf("Trident")!=-1||y().indexOf("MSIE")!=-1)&&y().indexOf("Edge")==-1;function O(T,$,H){for(const ie in T)$.call(H,T[ie],ie,T)}function S(T,$){for(const H in T)$.call(void 0,T[H],H,T)}function C(T){const $={};for(const H in T)$[H]=T[H];return $}const k="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function P(T,$){let H,ie;for(let xe=1;xe<arguments.length;xe++){ie=arguments[xe];for(H in ie)T[H]=ie[H];for(let Ae=0;Ae<k.length;Ae++)H=k[Ae],Object.prototype.hasOwnProperty.call(ie,H)&&(T[H]=ie[H])}}function R(T){var $=1;T=T.split(":");const H=[];for(;0<$&&T.length;)H.push(T.shift()),$--;return T.length&&H.push(T.join(":")),H}function L(T){a.setTimeout(()=>{throw T},0)}function N(){var T=Q;let $=null;return T.g&&($=T.g,T.g=T.g.next,T.g||(T.h=null),$.next=null),$}class V{constructor(){this.h=this.g=null}add($,H){const ie=F.get();ie.set($,H),this.h?this.h.next=ie:this.g=ie,this.h=ie}}var F=new b(()=>new z,T=>T.reset());class z{constructor(){this.next=this.g=this.h=null}set($,H){this.h=$,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let B,W=!1,Q=new V,G=()=>{const T=a.Promise.resolve(void 0);B=()=>{T.then(j)}};var j=()=>{for(var T;T=N();){try{T.h.call(T.g)}catch(H){L(H)}var $=F;$.j(T),100>$.h&&($.h++,T.next=$.g,$.g=T)}W=!1};function U(){this.s=this.s,this.C=this.C}U.prototype.s=!1,U.prototype.ma=function(){this.s||(this.s=!0,this.N())},U.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function K(T,$){this.type=T,this.g=this.target=$,this.defaultPrevented=!1}K.prototype.h=function(){this.defaultPrevented=!0};var ne=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var T=!1,$=Object.defineProperty({},"passive",{get:function(){T=!0}});try{const H=()=>{};a.addEventListener("test",H,$),a.removeEventListener("test",H,$)}catch{}return T}();function oe(T,$){if(K.call(this,T?T.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,T){var H=this.type=T.type,ie=T.changedTouches&&T.changedTouches.length?T.changedTouches[0]:null;if(this.target=T.target||T.srcElement,this.g=$,$=T.relatedTarget){if(I){e:{try{x($.nodeName);var xe=!0;break e}catch{}xe=!1}xe||($=null)}}else H=="mouseover"?$=T.fromElement:H=="mouseout"&&($=T.toElement);this.relatedTarget=$,ie?(this.clientX=ie.clientX!==void 0?ie.clientX:ie.pageX,this.clientY=ie.clientY!==void 0?ie.clientY:ie.pageY,this.screenX=ie.screenX||0,this.screenY=ie.screenY||0):(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0),this.button=T.button,this.key=T.key||"",this.ctrlKey=T.ctrlKey,this.altKey=T.altKey,this.shiftKey=T.shiftKey,this.metaKey=T.metaKey,this.pointerId=T.pointerId||0,this.pointerType=typeof T.pointerType=="string"?T.pointerType:X[T.pointerType]||"",this.state=T.state,this.i=T,T.defaultPrevented&&oe.aa.h.call(this)}}g(oe,K);var X={2:"touch",3:"pen",4:"mouse"};oe.prototype.h=function(){oe.aa.h.call(this);var T=this.i;T.preventDefault?T.preventDefault():T.returnValue=!1};var Z="closure_listenable_"+(1e6*Math.random()|0),re=0;function ue(T,$,H,ie,xe){this.listener=T,this.proxy=null,this.src=$,this.type=H,this.capture=!!ie,this.ha=xe,this.key=++re,this.da=this.fa=!1}function te(T){T.da=!0,T.listener=null,T.proxy=null,T.src=null,T.ha=null}function fe(T){this.src=T,this.g={},this.h=0}fe.prototype.add=function(T,$,H,ie,xe){var Ae=T.toString();T=this.g[Ae],T||(T=this.g[Ae]=[],this.h++);var Ke=ve(T,$,ie,xe);return-1<Ke?($=T[Ke],H||($.fa=!1)):($=new ue($,this.src,Ae,!!ie,xe),$.fa=H,T.push($)),$};function be(T,$){var H=$.type;if(H in T.g){var ie=T.g[H],xe=Array.prototype.indexOf.call(ie,$,void 0),Ae;(Ae=0<=xe)&&Array.prototype.splice.call(ie,xe,1),Ae&&(te($),T.g[H].length==0&&(delete T.g[H],T.h--))}}function ve(T,$,H,ie){for(var xe=0;xe<T.length;++xe){var Ae=T[xe];if(!Ae.da&&Ae.listener==$&&Ae.capture==!!H&&Ae.ha==ie)return xe}return-1}var we="closure_lm_"+(1e6*Math.random()|0),Ce={};function Ue(T,$,H,ie,xe){if(Array.isArray($)){for(var Ae=0;Ae<$.length;Ae++)Ue(T,$[Ae],H,ie,xe);return null}return H=ct(H),T&&T[Z]?T.K($,H,u(ie)?!!ie.capture:!!ie,xe):Oe(T,$,H,!1,ie,xe)}function Oe(T,$,H,ie,xe,Ae){if(!$)throw Error("Invalid event type");var Ke=u(xe)?!!xe.capture:!!xe,yn=He(T);if(yn||(T[we]=yn=new fe(T)),H=yn.add($,H,ie,Ke,Ae),H.proxy)return H;if(ie=he(),H.proxy=ie,ie.src=T,ie.listener=H,T.addEventListener)ne||(xe=Ke),xe===void 0&&(xe=!1),T.addEventListener($.toString(),ie,xe);else if(T.attachEvent)T.attachEvent(me($.toString()),ie);else if(T.addListener&&T.removeListener)T.addListener(ie);else throw Error("addEventListener and attachEvent are unavailable.");return H}function he(){function T(H){return $.call(T.src,T.listener,H)}const $=Se;return T}function _e(T,$,H,ie,xe){if(Array.isArray($))for(var Ae=0;Ae<$.length;Ae++)_e(T,$[Ae],H,ie,xe);else ie=u(ie)?!!ie.capture:!!ie,H=ct(H),T&&T[Z]?(T=T.i,$=String($).toString(),$ in T.g&&(Ae=T.g[$],H=ve(Ae,H,ie,xe),-1<H&&(te(Ae[H]),Array.prototype.splice.call(Ae,H,1),Ae.length==0&&(delete T.g[$],T.h--)))):T&&(T=He(T))&&($=T.g[$.toString()],T=-1,$&&(T=ve($,H,ie,xe)),(H=-1<T?$[T]:null)&&Te(H))}function Te(T){if(typeof T!="number"&&T&&!T.da){var $=T.src;if($&&$[Z])be($.i,T);else{var H=T.type,ie=T.proxy;$.removeEventListener?$.removeEventListener(H,ie,T.capture):$.detachEvent?$.detachEvent(me(H),ie):$.addListener&&$.removeListener&&$.removeListener(ie),(H=He($))?(be(H,T),H.h==0&&(H.src=null,$[we]=null)):te(T)}}}function me(T){return T in Ce?Ce[T]:Ce[T]="on"+T}function Se(T,$){if(T.da)T=!0;else{$=new oe($,this);var H=T.listener,ie=T.ha||T.src;T.fa&&Te(T),T=H.call(ie,$)}return T}function He(T){return T=T[we],T instanceof fe?T:null}var Qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function ct(T){return typeof T=="function"?T:(T[Qe]||(T[Qe]=function($){return T.handleEvent($)}),T[Qe])}function xt(){U.call(this),this.i=new fe(this),this.M=this,this.F=null}g(xt,U),xt.prototype[Z]=!0,xt.prototype.removeEventListener=function(T,$,H,ie){_e(this,T,$,H,ie)};function yt(T,$){var H,ie=T.F;if(ie)for(H=[];ie;ie=ie.F)H.push(ie);if(T=T.M,ie=$.type||$,typeof $=="string")$=new K($,T);else if($ instanceof K)$.target=$.target||T;else{var xe=$;$=new K(ie,T),P($,xe)}if(xe=!0,H)for(var Ae=H.length-1;0<=Ae;Ae--){var Ke=$.g=H[Ae];xe=ot(Ke,ie,!0,$)&&xe}if(Ke=$.g=T,xe=ot(Ke,ie,!0,$)&&xe,xe=ot(Ke,ie,!1,$)&&xe,H)for(Ae=0;Ae<H.length;Ae++)Ke=$.g=H[Ae],xe=ot(Ke,ie,!1,$)&&xe}xt.prototype.N=function(){if(xt.aa.N.call(this),this.i){var T=this.i,$;for($ in T.g){for(var H=T.g[$],ie=0;ie<H.length;ie++)te(H[ie]);delete T.g[$],T.h--}}this.F=null},xt.prototype.K=function(T,$,H,ie){return this.i.add(String(T),$,!1,H,ie)},xt.prototype.L=function(T,$,H,ie){return this.i.add(String(T),$,!0,H,ie)};function ot(T,$,H,ie){if($=T.i.g[String($)],!$)return!0;$=$.concat();for(var xe=!0,Ae=0;Ae<$.length;++Ae){var Ke=$[Ae];if(Ke&&!Ke.da&&Ke.capture==H){var yn=Ke.listener,zr=Ke.ha||Ke.src;Ke.fa&&be(T.i,Ke),xe=yn.call(zr,ie)!==!1&&xe}}return xe&&!ie.defaultPrevented}function ht(T,$,H){if(typeof T=="function")H&&(T=h(T,H));else if(T&&typeof T.handleEvent=="function")T=h(T.handleEvent,T);else throw Error("Invalid listener argument");return 2147483647<Number($)?-1:a.setTimeout(T,$||0)}function Tt(T){T.g=ht(()=>{T.g=null,T.i&&(T.i=!1,Tt(T))},T.l);const $=T.h;T.h=null,T.m.apply(null,$)}class xn extends U{constructor($,H){super(),this.m=$,this.l=H,this.h=null,this.i=!1,this.g=null}j($){this.h=arguments,this.g?this.i=!0:Tt(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function zn(T){U.call(this),this.h=T,this.g={}}g(zn,U);var mt=[];function Kt(T){O(T.g,function($,H){this.g.hasOwnProperty(H)&&Te($)},T),T.g={}}zn.prototype.N=function(){zn.aa.N.call(this),Kt(this)},zn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var sn=a.JSON.stringify,mr=a.JSON.parse,to=class{stringify(T){return a.JSON.stringify(T,void 0)}parse(T){return a.JSON.parse(T,void 0)}};function va(){}va.prototype.h=null;function uu(T){return T.h||(T.h=T.i())}function cu(){}var es={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Ns(){K.call(this,"d")}g(Ns,K);function ya(){K.call(this,"c")}g(ya,K);var no={},ro=null;function Ls(){return ro=ro||new xt}no.La="serverreachability";function il(T){K.call(this,no.La,T)}g(il,K);function Ds(T){const $=Ls();yt($,new il($))}no.STAT_EVENT="statevent";function ba(T,$){K.call(this,no.STAT_EVENT,T),this.stat=$}g(ba,K);function sr(T){const $=Ls();yt($,new ba($,T))}no.Ma="timingevent";function io(T,$){K.call(this,no.Ma,T),this.size=$}g(io,K);function Oo(T,$){if(typeof T!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){T()},$)}function ar(){this.g=!0}ar.prototype.xa=function(){this.g=!1};function js(T,$,H,ie,xe,Ae){T.info(function(){if(T.g)if(Ae)for(var Ke="",yn=Ae.split("&"),zr=0;zr<yn.length;zr++){var an=yn[zr].split("=");if(1<an.length){var In=an[0];an=an[1];var jr=In.split("_");Ke=2<=jr.length&&jr[1]=="type"?Ke+(In+"="+an+"&"):Ke+(In+"=redacted&")}}else Ke=null;else Ke=Ae;return"XMLHTTP REQ ("+ie+") [attempt "+xe+"]: "+$+`
`+H+`
`+Ke})}function Fc(T,$,H,ie,xe,Ae,Ke){T.info(function(){return"XMLHTTP RESP ("+ie+") [ attempt "+xe+"]: "+$+`
`+H+`
`+Ae+" "+Ke})}function Ii(T,$,H,ie){T.info(function(){return"XMLHTTP TEXT ("+$+"): "+du(T,H)+(ie?" "+ie:"")})}function _a(T,$){T.info(function(){return"TIMEOUT: "+$})}ar.prototype.info=function(){};function du(T,$){if(!T.g)return $;if(!$)return null;try{var H=JSON.parse($);if(H){for(T=0;T<H.length;T++)if(Array.isArray(H[T])){var ie=H[T];if(!(2>ie.length)){var xe=ie[1];if(Array.isArray(xe)&&!(1>xe.length)){var Ae=xe[0];if(Ae!="noop"&&Ae!="stop"&&Ae!="close")for(var Ke=1;Ke<xe.length;Ke++)xe[Ke]=""}}}}return sn(H)}catch{return $}}var $s={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ol={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wa;function Ms(){}g(Ms,va),Ms.prototype.g=function(){return new XMLHttpRequest},Ms.prototype.i=function(){return{}},wa=new Ms;function oo(T,$,H,ie){this.j=T,this.i=$,this.l=H,this.R=ie||1,this.U=new zn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new fu}function fu(){this.i=null,this.g="",this.h=!1}var hu={},jt={};function gr(T,$,H){T.L=1,T.v=Ia(di($)),T.m=H,T.P=!0,Af(T,null)}function Af(T,$){T.F=Date.now(),Bs(T),T.A=di(T.v);var H=T.A,ie=T.R;Array.isArray(ie)||(ie=[String(ie)]),tt(H.i,"t",ie),T.C=0,H=T.j.J,T.h=new fu,T.g=f0(T.j,H?$:null,!T.m),0<T.O&&(T.M=new xn(h(T.Y,T,T.g),T.O)),$=T.U,H=T.g,ie=T.ca;var xe="readystatechange";Array.isArray(xe)||(xe&&(mt[0]=xe.toString()),xe=mt);for(var Ae=0;Ae<xe.length;Ae++){var Ke=Ue(H,xe[Ae],ie||$.handleEvent,!1,$.h||$);if(!Ke)break;$.g[Ke.key]=Ke}$=T.H?C(T.H):{},T.m?(T.u||(T.u="POST"),$["Content-Type"]="application/x-www-form-urlencoded",T.g.ea(T.A,T.u,T.m,$)):(T.u="GET",T.g.ea(T.A,T.u,null,$)),Ds(),js(T.i,T.u,T.A,T.l,T.R,T.m)}oo.prototype.ca=function(T){T=T.target;const $=this.M;$&&fi(T)==3?$.j():this.Y(T)},oo.prototype.Y=function(T){try{if(T==this.g)e:{const jr=fi(this.g);var $=this.g.Ba();const rs=this.g.Z();if(!(3>jr)&&(jr!=3||this.g&&(this.h.h||this.g.oa()||Sm(this.g)))){this.J||jr!=4||$==7||($==8||0>=rs?Ds(3):Ds(2)),Vc(this);var H=this.g.Z();this.X=H;t:if(sl(this)){var ie=Sm(this.g);T="";var xe=ie.length,Ae=fi(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){so(this),al(this);var Ke="";break t}this.h.i=new a.TextDecoder}for($=0;$<xe;$++)this.h.h=!0,T+=this.h.i.decode(ie[$],{stream:!(Ae&&$==xe-1)});ie.length=0,this.h.g+=T,this.C=0,Ke=this.h.g}else Ke=this.g.oa();if(this.o=H==200,Fc(this.i,this.u,this.A,this.l,this.R,jr,H),this.o){if(this.T&&!this.K){t:{if(this.g){var yn,zr=this.g;if((yn=zr.g?zr.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!v(yn)){var an=yn;break t}}an=null}if(H=an)Ii(this.i,this.l,H,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,pu(this,H);else{this.o=!1,this.s=3,sr(12),so(this),al(this);break e}}if(this.P){H=!0;let ao;for(;!this.J&&this.C<Ke.length;)if(ao=Rf(this,Ke),ao==jt){jr==4&&(this.s=4,sr(14),H=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(ao==hu){this.s=4,sr(15),Ii(this.i,this.l,Ke,"[Invalid Chunk]"),H=!1;break}else Ii(this.i,this.l,ao,null),pu(this,ao);if(sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),jr!=4||Ke.length!=0||this.h.h||(this.s=1,sr(16),H=!1),this.o=this.o&&H,!H)Ii(this.i,this.l,Ke,"[Invalid Chunked Response]"),so(this),al(this);else if(0<Ke.length&&!this.W){this.W=!0;var In=this.j;In.g==this&&In.ba&&!In.M&&(In.j.info("Great, no buffering proxy detected. Bytes received: "+Ke.length),ns(In),In.M=!0,sr(11))}}else Ii(this.i,this.l,Ke,null),pu(this,Ke);jr==4&&so(this),this.o&&!this.J&&(jr==4?Dn(this.j,this):(this.o=!1,Bs(this)))}else Cm(this.g),H==400&&0<Ke.indexOf("Unknown SID")?(this.s=3,sr(12)):(this.s=0,sr(13)),so(this),al(this)}}}catch{}finally{}};function sl(T){return T.g?T.u=="GET"&&T.L!=2&&T.j.Ca:!1}function Rf(T,$){var H=T.C,ie=$.indexOf(`
`,H);return ie==-1?jt:(H=Number($.substring(H,ie)),isNaN(H)?hu:(ie+=1,ie+H>$.length?jt:($=$.slice(ie,ie+H),T.C=ie+H,$)))}oo.prototype.cancel=function(){this.J=!0,so(this)};function Bs(T){T.S=Date.now()+T.I,Of(T,T.I)}function Of(T,$){if(T.B!=null)throw Error("WatchDog timer not null");T.B=Oo(h(T.ba,T),$)}function Vc(T){T.B&&(a.clearTimeout(T.B),T.B=null)}oo.prototype.ba=function(){this.B=null;const T=Date.now();0<=T-this.S?(_a(this.i,this.A),this.L!=2&&(Ds(),sr(17)),so(this),this.s=2,al(this)):Of(this,this.S-T)};function al(T){T.j.G==0||T.J||Dn(T.j,T)}function so(T){Vc(T);var $=T.M;$&&typeof $.ma=="function"&&$.ma(),T.M=null,Kt(T.U),T.g&&($=T.g,T.g=null,$.abort(),$.ma())}function pu(T,$){try{var H=T.j;if(H.G!=0&&(H.g==T||vu(H.h,T))){if(!T.K&&vu(H.h,T)&&H.G==3){try{var ie=H.Da.g.parse($)}catch{ie=null}if(Array.isArray(ie)&&ie.length==3){var xe=ie;if(xe[0]==0){e:if(!H.u){if(H.g)if(H.g.F+3e3<T.F)bu(H),Hc(H);else break e;Mf(H),sr(18)}}else H.za=xe[1],0<H.za-H.T&&37500>xe[2]&&H.F&&H.v==0&&!H.C&&(H.C=Oo(h(H.Za,H),6e3));if(1>=Uc(H.h)&&H.ca){try{H.ca()}catch{}H.ca=void 0}}else Hs(H,11)}else if((T.K||H.g==T)&&bu(H),!v($))for(xe=H.Da.g.parse($),$=0;$<xe.length;$++){let an=xe[$];if(H.T=an[0],an=an[1],H.G==2)if(an[0]=="c"){H.K=an[1],H.ia=an[2];const In=an[3];In!=null&&(H.la=In,H.j.info("VER="+H.la));const jr=an[4];jr!=null&&(H.Aa=jr,H.j.info("SVER="+H.Aa));const rs=an[5];rs!=null&&typeof rs=="number"&&0<rs&&(ie=1.5*rs,H.L=ie,H.j.info("backChannelRequestTimeoutMs_="+ie)),ie=H;const ao=T.g;if(ao){const Yc=ao.g?ao.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yc){var Ae=ie.h;Ae.g||Yc.indexOf("spdy")==-1&&Yc.indexOf("quic")==-1&&Yc.indexOf("h2")==-1||(Ae.j=Ae.l,Ae.g=new Set,Ae.h&&(ll(Ae,Ae.h),Ae.h=null))}if(ie.D){const Am=ao.g?ao.g.getResponseHeader("X-HTTP-Session-Id"):null;Am&&(ie.ya=Am,En(ie.I,ie.D,Am))}}H.G=3,H.l&&H.l.ua(),H.ba&&(H.R=Date.now()-T.F,H.j.info("Handshake RTT: "+H.R+"ms")),ie=H;var Ke=T;if(ie.qa=Bf(ie,ie.J?ie.ia:null,ie.W),Ke.K){yu(ie.h,Ke);var yn=Ke,zr=ie.L;zr&&(yn.I=zr),yn.B&&(Vc(yn),Bs(yn)),ie.g=Ke}else c0(ie);0<H.i.length&&Wc(H)}else an[0]!="stop"&&an[0]!="close"||Hs(H,7);else H.G==3&&(an[0]=="stop"||an[0]=="close"?an[0]=="stop"?Hs(H,7):$f(H):an[0]!="noop"&&H.l&&H.l.ta(an),H.v=0)}}Ds(4)}catch{}}var mu=class{constructor(T,$){this.g=T,this.map=$}};function Nf(T){this.l=T||10,a.PerformanceNavigationTiming?(T=a.performance.getEntriesByType("navigation"),T=0<T.length&&(T[0].nextHopProtocol=="hq"||T[0].nextHopProtocol=="h2")):T=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=T?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function gu(T){return T.h?!0:T.g?T.g.size>=T.j:!1}function Uc(T){return T.h?1:T.g?T.g.size:0}function vu(T,$){return T.h?T.h==$:T.g?T.g.has($):!1}function ll(T,$){T.g?T.g.add($):T.h=$}function yu(T,$){T.h&&T.h==$?T.h=null:T.g&&T.g.has($)&&T.g.delete($)}Nf.prototype.cancel=function(){if(this.i=zc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const T of this.g.values())T.cancel();this.g.clear()}};function zc(T){if(T.h!=null)return T.i.concat(T.h.D);if(T.g!=null&&T.g.size!==0){let $=T.i;for(const H of T.g.values())$=$.concat(H.D);return $}return _(T.i)}function Mn(T){if(T.V&&typeof T.V=="function")return T.V();if(typeof Map<"u"&&T instanceof Map||typeof Set<"u"&&T instanceof Set)return Array.from(T.values());if(typeof T=="string")return T.split("");if(l(T)){for(var $=[],H=T.length,ie=0;ie<H;ie++)$.push(T[ie]);return $}$=[],H=0;for(ie in T)$[H++]=T[ie];return $}function xa(T){if(T.na&&typeof T.na=="function")return T.na();if(!T.V||typeof T.V!="function"){if(typeof Map<"u"&&T instanceof Map)return Array.from(T.keys());if(!(typeof Set<"u"&&T instanceof Set)){if(l(T)||typeof T=="string"){var $=[];T=T.length;for(var H=0;H<T;H++)$.push(H);return $}$=[],H=0;for(const ie in T)$[H++]=ie;return $}}}function ul(T,$){if(T.forEach&&typeof T.forEach=="function")T.forEach($,void 0);else if(l(T)||typeof T=="string")Array.prototype.forEach.call(T,$,void 0);else for(var H=xa(T),ie=Mn(T),xe=ie.length,Ae=0;Ae<xe;Ae++)$.call(void 0,ie[Ae],H&&H[Ae],T)}var cl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lf(T,$){if(T){T=T.split("&");for(var H=0;H<T.length;H++){var ie=T[H].indexOf("="),xe=null;if(0<=ie){var Ae=T[H].substring(0,ie);xe=T[H].substring(ie+1)}else Ae=T[H];$(Ae,xe?decodeURIComponent(xe.replace(/\+/g," ")):"")}}}function Fs(T){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,T instanceof Fs){this.h=T.h,dl(this,T.j),this.o=T.o,this.g=T.g,Ea(this,T.s),this.l=T.l;var $=T.i,H=new qe;H.i=$.i,$.g&&(H.g=new Map($.g),H.h=$.h),Df(this,H),this.m=T.m}else T&&($=String(T).match(cl))?(this.h=!1,dl(this,$[1]||"",!0),this.o=Vs($[2]||""),this.g=Vs($[3]||"",!0),Ea(this,$[4]),this.l=Vs($[5]||"",!0),Df(this,$[6]||"",!0),this.m=Vs($[7]||"")):(this.h=!1,this.i=new qe(null,this.h))}Fs.prototype.toString=function(){var T=[],$=this.j;$&&T.push(Mi($,ae,!0),":");var H=this.g;return(H||$=="file")&&(T.push("//"),($=this.o)&&T.push(Mi($,ae,!0),"@"),T.push(encodeURIComponent(String(H)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.s,H!=null&&T.push(":",String(H))),(H=this.l)&&(this.g&&H.charAt(0)!="/"&&T.push("/"),T.push(Mi(H,H.charAt(0)=="/"?ce:le,!0))),(H=this.i.toString())&&T.push("?",H),(H=this.m)&&T.push("#",Mi(H,Be)),T.join("")};function di(T){return new Fs(T)}function dl(T,$,H){T.j=H?Vs($,!0):$,T.j&&(T.j=T.j.replace(/:$/,""))}function Ea(T,$){if($){if($=Number($),isNaN($)||0>$)throw Error("Bad port number "+$);T.s=$}else T.s=null}function Df(T,$,H){$ instanceof qe?(T.i=$,At(T.i,T.h)):(H||($=Mi($,Ee)),T.i=new qe($,T.h))}function En(T,$,H){T.i.set($,H)}function Ia(T){return En(T,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),T}function Vs(T,$){return T?$?decodeURI(T.replace(/%25/g,"%2525")):decodeURIComponent(T):""}function Mi(T,$,H){return typeof T=="string"?(T=encodeURI(T).replace($,J),H&&(T=T.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T):null}function J(T){return T=T.charCodeAt(0),"%"+(T>>4&15).toString(16)+(T&15).toString(16)}var ae=/[#\/\?@]/g,le=/[#\?:]/g,ce=/[#\?]/g,Ee=/[#\?@]/g,Be=/#/g;function qe(T,$){this.h=this.g=null,this.i=T||null,this.j=!!$}function Ne(T){T.g||(T.g=new Map,T.h=0,T.i&&Lf(T.i,function($,H){T.add(decodeURIComponent($.replace(/\+/g," ")),H)}))}t=qe.prototype,t.add=function(T,$){Ne(this),this.i=null,T=St(this,T);var H=this.g.get(T);return H||this.g.set(T,H=[]),H.push($),this.h+=1,this};function We(T,$){Ne(T),$=St(T,$),T.g.has($)&&(T.i=null,T.h-=T.g.get($).length,T.g.delete($))}function lt(T,$){return Ne(T),$=St(T,$),T.g.has($)}t.forEach=function(T,$){Ne(this),this.g.forEach(function(H,ie){H.forEach(function(xe){T.call($,xe,ie,this)},this)},this)},t.na=function(){Ne(this);const T=Array.from(this.g.values()),$=Array.from(this.g.keys()),H=[];for(let ie=0;ie<$.length;ie++){const xe=T[ie];for(let Ae=0;Ae<xe.length;Ae++)H.push($[ie])}return H},t.V=function(T){Ne(this);let $=[];if(typeof T=="string")lt(this,T)&&($=$.concat(this.g.get(St(this,T))));else{T=Array.from(this.g.values());for(let H=0;H<T.length;H++)$=$.concat(T[H])}return $},t.set=function(T,$){return Ne(this),this.i=null,T=St(this,T),lt(this,T)&&(this.h-=this.g.get(T).length),this.g.set(T,[$]),this.h+=1,this},t.get=function(T,$){return T?(T=this.V(T),0<T.length?String(T[0]):$):$};function tt(T,$,H){We(T,$),0<H.length&&(T.i=null,T.g.set(St(T,$),_(H)),T.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const T=[],$=Array.from(this.g.keys());for(var H=0;H<$.length;H++){var ie=$[H];const Ae=encodeURIComponent(String(ie)),Ke=this.V(ie);for(ie=0;ie<Ke.length;ie++){var xe=Ae;Ke[ie]!==""&&(xe+="="+encodeURIComponent(String(Ke[ie]))),T.push(xe)}}return this.i=T.join("&")};function St(T,$){return $=String($),T.j&&($=$.toLowerCase()),$}function At(T,$){$&&!T.j&&(Ne(T),T.i=null,T.g.forEach(function(H,ie){var xe=ie.toLowerCase();ie!=xe&&(We(this,ie),tt(this,xe,H))},T)),T.j=$}function Xt(T,$){const H=new ar;if(a.Image){const ie=new Image;ie.onload=p(Gt,H,"TestLoadImage: loaded",!0,$,ie),ie.onerror=p(Gt,H,"TestLoadImage: error",!1,$,ie),ie.onabort=p(Gt,H,"TestLoadImage: abort",!1,$,ie),ie.ontimeout=p(Gt,H,"TestLoadImage: timeout",!1,$,ie),a.setTimeout(function(){ie.ontimeout&&ie.ontimeout()},1e4),ie.src=T}else $(!1)}function Ft(T,$){const H=new ar,ie=new AbortController,xe=setTimeout(()=>{ie.abort(),Gt(H,"TestPingServer: timeout",!1,$)},1e4);fetch(T,{signal:ie.signal}).then(Ae=>{clearTimeout(xe),Ae.ok?Gt(H,"TestPingServer: ok",!0,$):Gt(H,"TestPingServer: server error",!1,$)}).catch(()=>{clearTimeout(xe),Gt(H,"TestPingServer: error",!1,$)})}function Gt(T,$,H,ie,xe){try{xe&&(xe.onload=null,xe.onerror=null,xe.onabort=null,xe.ontimeout=null),ie(H)}catch{}}function Ln(){this.g=new to}function Zr(T,$,H){const ie=H||"";try{ul(T,function(xe,Ae){let Ke=xe;u(xe)&&(Ke=sn(xe)),$.push(ie+Ae+"="+encodeURIComponent(Ke))})}catch(xe){throw $.push(ie+"type="+encodeURIComponent("_badmap")),xe}}function ts(T){this.l=T.Ub||null,this.j=T.eb||!1}g(ts,va),ts.prototype.g=function(){return new Sr(this.l,this.j)},ts.prototype.i=function(T){return function(){return T}}({});function Sr(T,$){xt.call(this),this.D=T,this.o=$,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}g(Sr,xt),t=Sr.prototype,t.open=function(T,$){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=T,this.A=$,this.readyState=1,qt(this)},t.send=function(T){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const $={headers:this.u,method:this.B,credentials:this.m,cache:void 0};T&&($.body=T),(this.D||a).fetch(new Request(this.A,$)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Qt(this)),this.readyState=0},t.Sa=function(T){if(this.g&&(this.l=T,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=T.headers,this.readyState=2,qt(this)),this.g&&(this.readyState=3,qt(this),this.g)))if(this.responseType==="arraybuffer")T.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in T){if(this.j=T.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Cr(this)}else T.text().then(this.Ra.bind(this),this.ga.bind(this))};function Cr(T){T.j.read().then(T.Pa.bind(T)).catch(T.ga.bind(T))}t.Pa=function(T){if(this.g){if(this.o&&T.value)this.response.push(T.value);else if(!this.o){var $=T.value?T.value:new Uint8Array(0);($=this.v.decode($,{stream:!T.done}))&&(this.response=this.responseText+=$)}T.done?Qt(this):qt(this),this.readyState==3&&Cr(this)}},t.Ra=function(T){this.g&&(this.response=this.responseText=T,Qt(this))},t.Qa=function(T){this.g&&(this.response=T,Qt(this))},t.ga=function(){this.g&&Qt(this)};function Qt(T){T.readyState=4,T.l=null,T.j=null,T.v=null,qt(T)}t.setRequestHeader=function(T,$){this.u.append(T,$)},t.getResponseHeader=function(T){return this.h&&this.h.get(T.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const T=[],$=this.h.entries();for(var H=$.next();!H.done;)H=H.value,T.push(H[0]+": "+H[1]),H=$.next();return T.join(`\r
`)};function qt(T){T.onreadystatechange&&T.onreadystatechange.call(T)}Object.defineProperty(Sr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(T){this.m=T?"include":"same-origin"}});function Us(T){let $="";return O(T,function(H,ie){$+=ie,$+=":",$+=H,$+=`\r
`}),$}function zs(T,$,H){e:{for(ie in H){var ie=!1;break e}ie=!0}ie||(H=Us(H),typeof T=="string"?H!=null&&encodeURIComponent(String(H)):En(T,$,H))}function Sn(T){xt.call(this),this.headers=new Map,this.o=T||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}g(Sn,xt);var qc=/^https?$/i,Im=["POST","PUT"];t=Sn.prototype,t.Ha=function(T){this.J=T},t.ea=function(T,$,H,ie){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+T);$=$?$.toUpperCase():"GET",this.D=T,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wa.g(),this.v=this.o?uu(this.o):uu(wa),this.g.onreadystatechange=h(this.Ea,this);try{this.B=!0,this.g.open($,String(T),!0),this.B=!1}catch(Ae){a0(this,Ae);return}if(T=H||"",H=new Map(this.headers),ie)if(Object.getPrototypeOf(ie)===Object.prototype)for(var xe in ie)H.set(xe,ie[xe]);else if(typeof ie.keys=="function"&&typeof ie.get=="function")for(const Ae of ie.keys())H.set(Ae,ie.get(Ae));else throw Error("Unknown input type for opt_headers: "+String(ie));ie=Array.from(H.keys()).find(Ae=>Ae.toLowerCase()=="content-type"),xe=a.FormData&&T instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Im,$,void 0))||ie||xe||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ae,Ke]of H)this.g.setRequestHeader(Ae,Ke);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{jf(this),this.u=!0,this.g.send(T),this.u=!1}catch(Ae){a0(this,Ae)}};function a0(T,$){T.h=!1,T.g&&(T.j=!0,T.g.abort(),T.j=!1),T.l=$,T.m=5,Tm(T),vr(T)}function Tm(T){T.A||(T.A=!0,yt(T,"complete"),yt(T,"error"))}t.abort=function(T){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=T||7,yt(this,"complete"),yt(this,"abort"),vr(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),vr(this,!0)),Sn.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?l0(this):this.bb())},t.bb=function(){l0(this)};function l0(T){if(T.h&&typeof s<"u"&&(!T.v[1]||fi(T)!=4||T.Z()!=2)){if(T.u&&fi(T)==4)ht(T.Ea,0,T);else if(yt(T,"readystatechange"),fi(T)==4){T.h=!1;try{const Ke=T.Z();e:switch(Ke){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var $=!0;break e;default:$=!1}var H;if(!(H=$)){var ie;if(ie=Ke===0){var xe=String(T.D).match(cl)[1]||null;!xe&&a.self&&a.self.location&&(xe=a.self.location.protocol.slice(0,-1)),ie=!qc.test(xe?xe.toLowerCase():"")}H=ie}if(H)yt(T,"complete"),yt(T,"success");else{T.m=6;try{var Ae=2<fi(T)?T.g.statusText:""}catch{Ae=""}T.l=Ae+" ["+T.Z()+"]",Tm(T)}}finally{vr(T)}}}}function vr(T,$){if(T.g){jf(T);const H=T.g,ie=T.v[0]?()=>{}:null;T.g=null,T.v=null,$||yt(T,"ready");try{H.onreadystatechange=ie}catch{}}}function jf(T){T.I&&(a.clearTimeout(T.I),T.I=null)}t.isActive=function(){return!!this.g};function fi(T){return T.g?T.g.readyState:0}t.Z=function(){try{return 2<fi(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(T){if(this.g){var $=this.g.responseText;return T&&$.indexOf(T)==0&&($=$.substring(T.length)),mr($)}};function Sm(T){try{if(!T.g)return null;if("response"in T.g)return T.g.response;switch(T.H){case"":case"text":return T.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in T.g)return T.g.mozResponseArrayBuffer}return null}catch{return null}}function Cm(T){const $={};T=(T.g&&2<=fi(T)&&T.g.getAllResponseHeaders()||"").split(`\r
`);for(let ie=0;ie<T.length;ie++){if(v(T[ie]))continue;var H=R(T[ie]);const xe=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Ae=$[xe]||[];$[xe]=Ae,Ae.push(H)}S($,function(ie){return ie.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ei(T,$,H){return H&&H.internalChannelParams&&H.internalChannelParams[T]||$}function Pm(T){this.Aa=0,this.i=[],this.j=new ar,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ei("failFast",!1,T),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ei("baseRetryDelayMs",5e3,T),this.cb=ei("retryDelaySeedMs",1e4,T),this.Wa=ei("forwardChannelMaxRetries",2,T),this.wa=ei("forwardChannelRequestTimeoutMs",2e4,T),this.pa=T&&T.xmlHttpFactory||void 0,this.Xa=T&&T.Tb||void 0,this.Ca=T&&T.useFetchStreams||!1,this.L=void 0,this.J=T&&T.supportsCrossDomainXhr||!1,this.K="",this.h=new Nf(T&&T.concurrentRequestLimit),this.Da=new Ln,this.P=T&&T.fastHandshake||!1,this.O=T&&T.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=T&&T.Rb||!1,T&&T.xa&&this.j.xa(),T&&T.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&T&&T.detectBufferingProxy||!1,this.ja=void 0,T&&T.longPollingTimeout&&0<T.longPollingTimeout&&(this.ja=T.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Pm.prototype,t.la=8,t.G=1,t.connect=function(T,$,H,ie){sr(0),this.W=T,this.H=$||{},H&&ie!==void 0&&(this.H.OSID=H,this.H.OAID=ie),this.F=this.X,this.I=Bf(this,null,this.W),Wc(this)};function $f(T){if(km(T),T.G==3){var $=T.U++,H=di(T.I);if(En(H,"SID",T.K),En(H,"RID",$),En(H,"TYPE","terminate"),Kc(T,H),$=new oo(T,T.j,$),$.L=2,$.v=Ia(di(H)),H=!1,a.navigator&&a.navigator.sendBeacon)try{H=a.navigator.sendBeacon($.v.toString(),"")}catch{}!H&&a.Image&&(new Image().src=$.v,H=!0),H||($.g=f0($.j,null),$.g.ea($.v)),$.F=Date.now(),Bs($)}d0(T)}function Hc(T){T.g&&(ns(T),T.g.cancel(),T.g=null)}function km(T){Hc(T),T.u&&(a.clearTimeout(T.u),T.u=null),bu(T),T.h.cancel(),T.s&&(typeof T.s=="number"&&a.clearTimeout(T.s),T.s=null)}function Wc(T){if(!gu(T.h)&&!T.s){T.s=!0;var $=T.Ga;B||G(),W||(B(),W=!0),Q.add($,T),T.B=0}}function u0(T,$){return Uc(T.h)>=T.h.j-(T.s?1:0)?!1:T.s?(T.i=$.D.concat(T.i),!0):T.G==1||T.G==2||T.B>=(T.Va?0:T.Wa)?!1:(T.s=Oo(h(T.Ga,T,$),qs(T,T.B)),T.B++,!0)}t.Ga=function(T){if(this.s)if(this.s=null,this.G==1){if(!T){this.U=Math.floor(1e5*Math.random()),T=this.U++;const xe=new oo(this,this.j,T);let Ae=this.o;if(this.S&&(Ae?(Ae=C(Ae),P(Ae,this.S)):Ae=this.S),this.m!==null||this.O||(xe.H=Ae,Ae=null),this.P)e:{for(var $=0,H=0;H<this.i.length;H++){t:{var ie=this.i[H];if("__data__"in ie.map&&(ie=ie.map.__data__,typeof ie=="string")){ie=ie.length;break t}ie=void 0}if(ie===void 0)break;if($+=ie,4096<$){$=H;break e}if($===4096||H===this.i.length-1){$=H+1;break e}}$=1e3}else $=1e3;$=Bi(this,xe,$),H=di(this.I),En(H,"RID",T),En(H,"CVER",22),this.D&&En(H,"X-HTTP-Session-Id",this.D),Kc(this,H),Ae&&(this.O?$="headers="+encodeURIComponent(String(Us(Ae)))+"&"+$:this.m&&zs(H,this.m,Ae)),ll(this.h,xe),this.Ua&&En(H,"TYPE","init"),this.P?(En(H,"$req",$),En(H,"SID","null"),xe.T=!0,gr(xe,H,null)):gr(xe,H,$),this.G=2}}else this.G==3&&(T?Ti(this,T):this.i.length==0||gu(this.h)||Ti(this))};function Ti(T,$){var H;$?H=$.l:H=T.U++;const ie=di(T.I);En(ie,"SID",T.K),En(ie,"RID",H),En(ie,"AID",T.T),Kc(T,ie),T.m&&T.o&&zs(ie,T.m,T.o),H=new oo(T,T.j,H,T.B+1),T.m===null&&(H.H=T.o),$&&(T.i=$.D.concat(T.i)),$=Bi(T,H,1e3),H.I=Math.round(.5*T.wa)+Math.round(.5*T.wa*Math.random()),ll(T.h,H),gr(H,ie,$)}function Kc(T,$){T.H&&O(T.H,function(H,ie){En($,ie,H)}),T.l&&ul({},function(H,ie){En($,ie,H)})}function Bi(T,$,H){H=Math.min(T.i.length,H);var ie=T.l?h(T.l.Na,T.l,T):null;e:{var xe=T.i;let Ae=-1;for(;;){const Ke=["count="+H];Ae==-1?0<H?(Ae=xe[0].g,Ke.push("ofs="+Ae)):Ae=0:Ke.push("ofs="+Ae);let yn=!0;for(let zr=0;zr<H;zr++){let an=xe[zr].g;const In=xe[zr].map;if(an-=Ae,0>an)Ae=Math.max(0,xe[zr].g-100),yn=!1;else try{Zr(In,Ke,"req"+an+"_")}catch{ie&&ie(In)}}if(yn){ie=Ke.join("&");break e}}}return T=T.i.splice(0,H),$.D=T,ie}function c0(T){if(!T.g&&!T.u){T.Y=1;var $=T.Fa;B||G(),W||(B(),W=!0),Q.add($,T),T.v=0}}function Mf(T){return T.g||T.u||3<=T.v?!1:(T.Y++,T.u=Oo(h(T.Fa,T),qs(T,T.v)),T.v++,!0)}t.Fa=function(){if(this.u=null,Gc(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var T=2*this.R;this.j.info("BP detection timer enabled: "+T),this.A=Oo(h(this.ab,this),T)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,sr(10),Hc(this),Gc(this))};function ns(T){T.A!=null&&(a.clearTimeout(T.A),T.A=null)}function Gc(T){T.g=new oo(T,T.j,"rpc",T.Y),T.m===null&&(T.g.H=T.o),T.g.O=0;var $=di(T.qa);En($,"RID","rpc"),En($,"SID",T.K),En($,"AID",T.T),En($,"CI",T.F?"0":"1"),!T.F&&T.ja&&En($,"TO",T.ja),En($,"TYPE","xmlhttp"),Kc(T,$),T.m&&T.o&&zs($,T.m,T.o),T.L&&(T.g.I=T.L);var H=T.g;T=T.ia,H.L=1,H.v=Ia(di($)),H.m=null,H.P=!0,Af(H,T)}t.Za=function(){this.C!=null&&(this.C=null,Hc(this),Mf(this),sr(19))};function bu(T){T.C!=null&&(a.clearTimeout(T.C),T.C=null)}function Dn(T,$){var H=null;if(T.g==$){bu(T),ns(T),T.g=null;var ie=2}else if(vu(T.h,$))H=$.D,yu(T.h,$),ie=1;else return;if(T.G!=0){if($.o)if(ie==1){H=$.m?$.m.length:0,$=Date.now()-$.F;var xe=T.B;ie=Ls(),yt(ie,new io(ie,H)),Wc(T)}else c0(T);else if(xe=$.s,xe==3||xe==0&&0<$.X||!(ie==1&&u0(T,$)||ie==2&&Mf(T)))switch(H&&0<H.length&&($=T.h,$.i=$.i.concat(H)),xe){case 1:Hs(T,5);break;case 4:Hs(T,10);break;case 3:Hs(T,6);break;default:Hs(T,2)}}}function qs(T,$){let H=T.Ta+Math.floor(Math.random()*T.cb);return T.isActive()||(H*=2),H*$}function Hs(T,$){if(T.j.info("Error code "+$),$==2){var H=h(T.fb,T),ie=T.Xa;const xe=!ie;ie=new Fs(ie||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||dl(ie,"https"),Ia(ie),xe?Xt(ie.toString(),H):Ft(ie.toString(),H)}else sr(2);T.G=0,T.l&&T.l.sa($),d0(T),km(T)}t.fb=function(T){T?(this.j.info("Successfully pinged google.com"),sr(2)):(this.j.info("Failed to ping google.com"),sr(1))};function d0(T){if(T.G=0,T.ka=[],T.l){const $=zc(T.h);($.length!=0||T.i.length!=0)&&(w(T.ka,$),w(T.ka,T.i),T.h.i.length=0,_(T.i),T.i.length=0),T.l.ra()}}function Bf(T,$,H){var ie=H instanceof Fs?di(H):new Fs(H);if(ie.g!="")$&&(ie.g=$+"."+ie.g),Ea(ie,ie.s);else{var xe=a.location;ie=xe.protocol,$=$?$+"."+xe.hostname:xe.hostname,xe=+xe.port;var Ae=new Fs(null);ie&&dl(Ae,ie),$&&(Ae.g=$),xe&&Ea(Ae,xe),H&&(Ae.l=H),ie=Ae}return H=T.D,$=T.ya,H&&$&&En(ie,H,$),En(ie,"VER",T.la),Kc(T,ie),ie}function f0(T,$,H){if($&&!T.J)throw Error("Can't create secondary domain capable XhrIo object.");return $=T.Ca&&!T.pa?new Sn(new ts({eb:H})):new Sn(T.pa),$.Ha(T.J),$}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function h0(){}t=h0.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ff(){}Ff.prototype.g=function(T,$){return new Si(T,$)};function Si(T,$){xt.call(this),this.g=new Pm($),this.l=T,this.h=$&&$.messageUrlParams||null,T=$&&$.messageHeaders||null,$&&$.clientProtocolHeaderRequired&&(T?T["X-Client-Protocol"]="webchannel":T={"X-Client-Protocol":"webchannel"}),this.g.o=T,T=$&&$.initMessageHeaders||null,$&&$.messageContentType&&(T?T["X-WebChannel-Content-Type"]=$.messageContentType:T={"X-WebChannel-Content-Type":$.messageContentType}),$&&$.va&&(T?T["X-WebChannel-Client-Profile"]=$.va:T={"X-WebChannel-Client-Profile":$.va}),this.g.S=T,(T=$&&$.Sb)&&!v(T)&&(this.g.m=T),this.v=$&&$.supportsCrossDomainXhr||!1,this.u=$&&$.sendRawJson||!1,($=$&&$.httpSessionIdParam)&&!v($)&&(this.g.D=$,T=this.h,T!==null&&$ in T&&(T=this.h,$ in T&&delete T[$])),this.j=new _u(this)}g(Si,xt),Si.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Si.prototype.close=function(){$f(this.g)},Si.prototype.o=function(T){var $=this.g;if(typeof T=="string"){var H={};H.__data__=T,T=H}else this.u&&(H={},H.__data__=sn(T),T=H);$.i.push(new mu($.Ya++,T)),$.G==3&&Wc($)},Si.prototype.N=function(){this.g.l=null,delete this.j,$f(this.g),delete this.g,Si.aa.N.call(this)};function Qc(T){Ns.call(this),T.__headers__&&(this.headers=T.__headers__,this.statusCode=T.__status__,delete T.__headers__,delete T.__status__);var $=T.__sm__;if($){e:{for(const H in $){T=H;break e}T=void 0}(this.i=T)&&(T=this.i,$=$!==null&&T in $?$[T]:void 0),this.data=$}else this.data=T}g(Qc,Ns);function fl(){ya.call(this),this.status=1}g(fl,ya);function _u(T){this.g=T}g(_u,h0),_u.prototype.ua=function(){yt(this.g,"a")},_u.prototype.ta=function(T){yt(this.g,new Qc(T))},_u.prototype.sa=function(T){yt(this.g,new fl)},_u.prototype.ra=function(){yt(this.g,"b")},Ff.prototype.createWebChannel=Ff.prototype.g,Si.prototype.send=Si.prototype.o,Si.prototype.open=Si.prototype.m,Si.prototype.close=Si.prototype.close,Z5=function(){return new Ff},J5=function(){return Ls()},X5=no,RS={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},$s.NO_ERROR=0,$s.TIMEOUT=8,$s.HTTP_ERROR=6,t_=$s,ol.COMPLETE="complete",Y5=ol,cu.EventType=es,es.OPEN="a",es.CLOSE="b",es.ERROR="c",es.MESSAGE="d",xt.prototype.listen=xt.prototype.K,Ig=cu,Sn.prototype.listenOnce=Sn.prototype.L,Sn.prototype.getLastError=Sn.prototype.Ka,Sn.prototype.getLastErrorCode=Sn.prototype.Ba,Sn.prototype.getStatus=Sn.prototype.Z,Sn.prototype.getResponseJson=Sn.prototype.Oa,Sn.prototype.getResponseText=Sn.prototype.oa,Sn.prototype.send=Sn.prototype.ea,Sn.prototype.setWithCredentials=Sn.prototype.Ha,Q5=Sn}).apply(typeof gb<"u"?gb:typeof self<"u"?self:typeof window<"u"?window:{});const ZL="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}oi.UNAUTHENTICATED=new oi(null),oi.GOOGLE_CREDENTIALS=new oi("google-credentials-uid"),oi.FIRST_PARTY=new oi("first-party-uid"),oi.MOCK_USER=new oi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let em="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cc=new w1("@firebase/firestore");function dh(){return cc.logLevel}function Xre(t){cc.setLogLevel(t)}function Me(t,...e){if(cc.logLevel<=Zt.DEBUG){const n=e.map(bk);cc.debug(`Firestore (${em}): ${t}`,...n)}}function Rr(t,...e){if(cc.logLevel<=Zt.ERROR){const n=e.map(bk);cc.error(`Firestore (${em}): ${t}`,...n)}}function Ka(t,...e){if(cc.logLevel<=Zt.WARN){const n=e.map(bk);cc.warn(`Firestore (${em}): ${t}`,...n)}}function bk(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t="Unexpected state"){const e=`FIRESTORE (${em}) INTERNAL ASSERTION FAILED: `+t;throw Rr(e),new Error(e)}function gt(t,e){t||dt()}function Jre(t,e){t||dt()}function rt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends ma{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eV{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zre{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(oi.UNAUTHENTICATED))}shutdown(){}}class eie{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class tie{constructor(e){this.t=e,this.currentUser=oi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){gt(this.o===void 0);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let o=new _i;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new _i,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const l=o;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{Me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(Me("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new _i)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(Me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(gt(typeof r.accessToken=="string"),new eV(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return gt(e===null||typeof e=="string"),new oi(e)}}class nie{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=oi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class rie{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new nie(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(oi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class iie{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oie{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){gt(this.o===void 0);const r=o=>{o.error!=null&&Me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const s=o.token!==this.R;return this.R=o.token,Me("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.A.getImmediate({optional:!0});o?i(o):Me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(gt(typeof n.token=="string"),this.R=n.token,new iie(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sie(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tV{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=sie(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}}function Mt(t,e){return t<e?-1:t>e?1:0}function yp(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}function nV(t){return t+"\0"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rt{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new je(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new je(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new je(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Rt.fromMillis(Date.now())}static fromDate(e){return Rt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Rt(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Mt(this.nanoseconds,e.nanoseconds):Mt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new _t(e)}static min(){return new _t(new Rt(0,0))}static max(){return new _t(new Rt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(e,n,r){n===void 0?n=0:n>e.length&&dt(),r===void 0?r=e.length-n:r>e.length-n&&dt(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Lv.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Lv?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class rn extends Lv{construct(e,n,r){return new rn(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new je(ke.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new rn(n)}static emptyPath(){return new rn([])}}const aie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends Lv{construct(e,n,r){return new nr(e,n,r)}static isValidIdentifier(e){return aie.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const o=()=>{if(r.length===0)throw new je(ke.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new je(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new je(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new je(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(n)}static emptyPath(){return new nr([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.path=e}static fromPath(e){return new et(rn.fromString(e))}static fromName(e){return new et(rn.fromString(e).popFirst(5))}static empty(){return new et(rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rn.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new et(new rn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sw{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}}function OS(t){return t.fields.find(e=>e.kind===2)}function dd(t){return t.fields.filter(e=>e.kind!==2)}sw.UNKNOWN_ID=-1;class n_{constructor(e,n){this.fieldPath=e,this.kind=n}}class Dv{constructor(e,n){this.sequenceNumber=e,this.offset=n}static empty(){return new Dv(0,Ho.min())}}function rV(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=_t.fromTimestamp(r===1e9?new Rt(n+1,0):new Rt(n,r));return new Ho(i,et.empty(),e)}function iV(t){return new Ho(t.readTime,t.key,-1)}class Ho{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ho(_t.min(),et.empty(),-1)}static max(){return new Ho(_t.max(),et.empty(),-1)}}function _k(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=et.comparator(t.documentKey,e.documentKey),n!==0?n:Mt(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class sV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sc(t){if(t.code!==ke.FAILED_PRECONDITION||t.message!==oV)throw t;Me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ie{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new Ie((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof Ie?n:Ie.resolve(n)}catch(n){return Ie.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):Ie.reject(n)}static resolve(e){return new Ie((n,r)=>{n(e)})}static reject(e){return new Ie((n,r)=>{r(e)})}static waitFor(e){return new Ie((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},l=>r(l))}),s=!0,o===i&&n()})}static or(e){let n=Ie.resolve(!1);for(const r of e)n=n.next(i=>i?Ie.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new Ie((r,i)=>{const o=e.length,s=new Array(o);let a=0;for(let l=0;l<o;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===o&&r(s)},c=>i(c))}})}static doWhile(e,n){return new Ie((r,i)=>{const o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new _i,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new qg(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=wk(r.target.error);this.V.reject(new qg(e,i))}}static open(e,n,r,i){try{return new C1(n,e.transaction(i,r))}catch(o){throw new qg(n,o)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(Me("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new uie(n)}}class Va{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Va.S(Xr())===12.2&&Rr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Me("SimpleDb","Removing database:",e),yd(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!e5())return!1;if(Va.v())return!0;const e=Xr(),n=Va.S(e),r=0<n&&n<10,i=aV(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static v(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.C)==="YES"}static F(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}async M(e){return this.db||(Me("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=o=>{const s=o.target.result;n(s)},i.onblocked=()=>{r(new qg(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=o=>{const s=o.target.error;s.name==="VersionError"?r(new je(ke.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new je(ke.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new qg(e,s))},i.onupgradeneeded=o=>{Me("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',o.oldVersion);const s=o.target.result;this.p.O(s,i.transaction,o.oldVersion,this.version).next(()=>{Me("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.N&&(this.db.onversionchange=n=>this.N(n)),this.db}L(e){this.N=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const o=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.M(e);const a=C1.open(this.db,e,o?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),Ie.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(Me("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}function aV(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}class lie{constructor(e){this.B=e,this.k=!1,this.q=null}get isDone(){return this.k}get K(){return this.q}set cursor(e){this.B=e}done(){this.k=!0}$(e){this.q=e}delete(){return yd(this.B.delete())}}class qg extends je{constructor(e,n){super(ke.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Cc(t){return t.name==="IndexedDbTransactionError"}class uie{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(Me("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(Me("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yd(r)}add(e){return Me("SimpleDb","ADD",this.store.name,e,e),yd(this.store.add(e))}get(e){return yd(this.store.get(e)).next(n=>(n===void 0&&(n=null),Me("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return Me("SimpleDb","DELETE",this.store.name,e),yd(this.store.delete(e))}count(){return Me("SimpleDb","COUNT",this.store.name),yd(this.store.count())}U(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const o=i.getAll(r.range);return new Ie((s,a)=>{o.onerror=l=>{a(l.target.error)},o.onsuccess=l=>{s(l.target.result)}})}{const o=this.cursor(r),s=[];return this.W(o,(a,l)=>{s.push(l)}).next(()=>s)}}G(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new Ie((i,o)=>{r.onerror=s=>{o(s.target.error)},r.onsuccess=s=>{i(s.target.result)}})}j(e,n){Me("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.H=!1;const i=this.cursor(r);return this.W(i,(o,s,a)=>a.delete())}J(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.W(i,n)}Y(e){const n=this.cursor({});return new Ie((r,i)=>{n.onerror=o=>{const s=wk(o.target.error);i(s)},n.onsuccess=o=>{const s=o.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}W(e,n){const r=[];return new Ie((i,o)=>{e.onerror=s=>{o(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void i();const l=new lie(a),u=n(a.primaryKey,a.value,l);if(u instanceof Ie){const c=u.catch(f=>(l.done(),Ie.reject(f)));r.push(c)}l.isDone?i():l.K===null?a.continue():a.continue(l.K)}}).next(()=>Ie.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.H?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function yd(t){return new Ie((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=wk(r.target.error);n(i)}})}let eD=!1;function wk(t){const e=Va.S(Xr());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new je("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return eD||(eD=!0,setTimeout(()=>{throw r},0)),r}}return t}class cie{constructor(e,n){this.asyncQueue=e,this.Z=n,this.task=null}start(){this.X(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}X(e){Me("IndexBackfiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,async()=>{this.task=null;try{Me("IndexBackfiller",`Documents written: ${await this.Z.ee()}`)}catch(n){Cc(n)?Me("IndexBackfiller","Ignoring IndexedDB error during index backfill: ",n):await Sc(n)}await this.X(6e4)})}}class die{constructor(e,n){this.localStore=e,this.persistence=n}async ee(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>this.te(n,e))}te(e,n){const r=new Set;let i=n,o=!0;return Ie.doWhile(()=>o===!0&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(s=>{if(s!==null&&!r.has(s))return Me("IndexBackfiller",`Processing collection: ${s}`),this.ne(e,s,i).next(a=>{i-=a,r.add(s)});o=!1})).next(()=>n-i)}ne(e,n,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,n).next(i=>this.localStore.localDocuments.getNextDocuments(e,n,i,r).next(o=>{const s=o.changes;return this.localStore.indexManager.updateIndexEntries(e,s).next(()=>this.re(i,o)).next(a=>(Me("IndexBackfiller",`Updating offset: ${a}`),this.localStore.indexManager.updateCollectionGroup(e,n,a))).next(()=>s.size)}))}re(e,n){let r=e;return n.changes.forEach((i,o)=>{const s=iV(o);_k(s,r)>0&&(r=s)}),new Ho(r.readTime,r.documentKey,Math.max(n.batchId,e.largestBatchId))}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}yo.oe=-1;function Ry(t){return t==null}function jv(t){return t===0&&1/t==-1/0}function lV(t){return typeof t=="number"&&Number.isInteger(t)&&!jv(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qi(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=tD(e)),e=fie(t.get(n),e);return tD(e)}function fie(t,e){let n=e;const r=t.length;for(let i=0;i<r;i++){const o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function tD(t){return t+""}function La(t){const e=t.length;if(gt(e>=2),e===2)return gt(t.charAt(0)===""&&t.charAt(1)===""),rn.emptyPath();const n=e-2,r=[];let i="";for(let o=0;o<e;){const s=t.indexOf("",o);switch((s<0||s>n)&&dt(),t.charAt(s+1)){case"":const a=t.substring(o,s);let l;i.length===0?l=a:(i+=a,l=i,i=""),r.push(l);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:dt()}o=s+2}return new rn(r)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nD=["userId","batchId"];/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(t,e){return[t,Qi(e)]}function uV(t,e,n){return[t,Qi(e),n]}const hie={},pie=["prefixPath","collectionGroup","readTime","documentId"],mie=["prefixPath","collectionGroup","documentId"],gie=["collectionGroup","readTime","prefixPath","documentId"],vie=["canonicalId","targetId"],yie=["targetId","path"],bie=["path","targetId"],_ie=["collectionId","parent"],wie=["indexId","uid"],xie=["uid","sequenceNumber"],Eie=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Iie=["indexId","uid","orderedDocumentKey"],Tie=["userId","collectionPath","documentId"],Sie=["userId","collectionPath","largestBatchId"],Cie=["userId","collectionGroup","largestBatchId"],cV=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Pie=[...cV,"documentOverlays"],dV=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],fV=dV,xk=[...fV,"indexConfiguration","indexState","indexEntries"],kie=xk,Aie=[...xk,"globals"];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS extends sV{constructor(e,n){super(),this._e=e,this.currentSequenceNumber=n}}function Jr(t,e){const n=rt(t);return Va.F(n._e,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rD(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function xf(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function hV(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fn{constructor(e,n){this.comparator=e,this.root=n||gi.EMPTY}insert(e,n){return new Fn(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,gi.BLACK,null,null))}remove(e){return new Fn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,gi.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vb(this.root,e,this.comparator,!1)}getReverseIterator(){return new vb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vb(this.root,e,this.comparator,!0)}}class vb{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class gi{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??gi.RED,this.left=i??gi.EMPTY,this.right=o??gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new gi(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw dt();const e=this.left.check();if(e!==this.right.check())throw dt();return e+(this.isRed()?0:1)}}gi.EMPTY=null,gi.RED=!0,gi.BLACK=!1;gi.EMPTY=new class{constructor(){this.size=0}get key(){throw dt()}get value(){throw dt()}get color(){throw dt()}get left(){throw dt()}get right(){throw dt()}copy(e,n,r,i,o){return this}insert(e,n,r){return new gi(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e){this.comparator=e,this.data=new Fn(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new iD(this.data.getIterator())}getIteratorFrom(e){return new iD(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Nn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Nn(this.comparator);return n.data=e,n}}class iD{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function eh(t){return t.hasNext()?t.getNext():void 0}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new bo([])}unionWith(e){let n=new Nn(nr.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new bo(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return yp(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pV extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rie(){return typeof atob<"u"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new pV("Invalid base64 string: "+o):o}}(e);return new Er(n)}static fromUint8Array(e){const n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new Er(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Mt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Er.EMPTY_BYTE_STRING=new Er("");const Oie=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wl(t){if(gt(!!t),typeof t=="string"){let e=0;const n=Oie.exec(t);if(gt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Zn(t.seconds),nanos:Zn(t.nanos)}}function Zn(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function dc(t){return typeof t=="string"?Er.fromBase64String(t):Er.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Ek(t){const e=t.mapValue.fields.__previous_value__;return P1(e)?Ek(e):e}function $v(t){const e=Wl(t.mapValue.fields.__local_write_time__.timestampValue);return new Rt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nie{constructor(e,n,r,i,o,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fc("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fc&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ku={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},i_={nullValue:"NULL_VALUE"};function Jd(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?P1(t)?4:mV(t)?9007199254740991:k1(t)?10:11:dt()}function Ga(t,e){if(t===e)return!0;const n=Jd(t);if(n!==Jd(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $v(t).isEqual($v(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const s=Wl(i.timestampValue),a=Wl(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return dc(i.bytesValue).isEqual(dc(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Zn(i.geoPointValue.latitude)===Zn(o.geoPointValue.latitude)&&Zn(i.geoPointValue.longitude)===Zn(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Zn(i.integerValue)===Zn(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const s=Zn(i.doubleValue),a=Zn(o.doubleValue);return s===a?jv(s)===jv(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return yp(t.arrayValue.values||[],e.arrayValue.values||[],Ga);case 10:case 11:return function(i,o){const s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(rD(s)!==rD(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!Ga(s[l],a[l])))return!1;return!0}(t,e);default:return dt()}}function Mv(t,e){return(t.values||[]).find(n=>Ga(n,e))!==void 0}function hc(t,e){if(t===e)return 0;const n=Jd(t),r=Jd(e);if(n!==r)return Mt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Mt(t.booleanValue,e.booleanValue);case 2:return function(o,s){const a=Zn(o.integerValue||o.doubleValue),l=Zn(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return oD(t.timestampValue,e.timestampValue);case 4:return oD($v(t),$v(e));case 5:return Mt(t.stringValue,e.stringValue);case 6:return function(o,s){const a=dc(o),l=dc(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){const a=o.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Mt(a[u],l[u]);if(c!==0)return c}return Mt(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){const a=Mt(Zn(o.latitude),Zn(s.latitude));return a!==0?a:Mt(Zn(o.longitude),Zn(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return sD(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,l,u,c;const f=o.fields||{},h=s.fields||{},p=(a=f.value)===null||a===void 0?void 0:a.arrayValue,g=(l=h.value)===null||l===void 0?void 0:l.arrayValue,_=Mt(((u=p==null?void 0:p.values)===null||u===void 0?void 0:u.length)||0,((c=g==null?void 0:g.values)===null||c===void 0?void 0:c.length)||0);return _!==0?_:sD(p,g)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Ku.mapValue&&s===Ku.mapValue)return 0;if(o===Ku.mapValue)return 1;if(s===Ku.mapValue)return-1;const a=o.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let f=0;f<l.length&&f<c.length;++f){const h=Mt(l[f],c[f]);if(h!==0)return h;const p=hc(a[l[f]],u[c[f]]);if(p!==0)return p}return Mt(l.length,c.length)}(t.mapValue,e.mapValue);default:throw dt()}}function oD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Mt(t,e);const n=Wl(t),r=Wl(e),i=Mt(n.seconds,r.seconds);return i!==0?i:Mt(n.nanos,r.nanos)}function sD(t,e){const n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){const o=hc(n[i],r[i]);if(o)return o}return Mt(n.length,r.length)}function bp(t){return LS(t)}function LS(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Wl(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return dc(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return et.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=LS(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const s of r)o?o=!1:i+=",",i+=`${s}:${LS(n.fields[s])}`;return i+"}"}(t.mapValue):dt()}function Zd(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function DS(t){return!!t&&"integerValue"in t}function Bv(t){return!!t&&"arrayValue"in t}function aD(t){return!!t&&"nullValue"in t}function lD(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function o_(t){return!!t&&"mapValue"in t}function k1(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Hg(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xf(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Hg(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Hg(t.arrayValue.values[n]);return e}return Object.assign({},t)}function mV(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}const gV={mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{}}}}};function Lie(t){return"nullValue"in t?i_:"booleanValue"in t?{booleanValue:!1}:"integerValue"in t||"doubleValue"in t?{doubleValue:NaN}:"timestampValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in t?{stringValue:""}:"bytesValue"in t?{bytesValue:""}:"referenceValue"in t?Zd(fc.empty(),et.empty()):"geoPointValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in t?{arrayValue:{}}:"mapValue"in t?k1(t)?gV:{mapValue:{}}:dt()}function Die(t){return"nullValue"in t?{booleanValue:!1}:"booleanValue"in t?{doubleValue:NaN}:"integerValue"in t||"doubleValue"in t?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in t?{stringValue:""}:"stringValue"in t?{bytesValue:""}:"bytesValue"in t?Zd(fc.empty(),et.empty()):"referenceValue"in t?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in t?{arrayValue:{}}:"arrayValue"in t?gV:"mapValue"in t?k1(t)?{mapValue:{}}:Ku:dt()}function uD(t,e){const n=hc(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?-1:!t.inclusive&&e.inclusive?1:0}function cD(t,e){const n=hc(t.value,e.value);return n!==0?n:t.inclusive&&!e.inclusive?1:!t.inclusive&&e.inclusive?-1:0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yi{constructor(e){this.value=e}static empty(){return new yi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!o_(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Hg(n)}setAll(e){let n=nr.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Hg(s):i.push(a.lastSegment())});const o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){const n=this.field(e.popLast());o_(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ga(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];o_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){xf(n,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new yi(Hg(this.value))}}function vV(t){const e=[];return xf(t.fields,(n,r)=>{const i=new nr([n]);if(o_(r)){const o=vV(r.mapValue).fields;if(o.length===0)e.push(i);else for(const s of o)e.push(i.child(s))}else e.push(i)}),new bo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kn{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Kn(e,0,_t.min(),_t.min(),_t.min(),yi.empty(),0)}static newFoundDocument(e,n,r,i){return new Kn(e,1,n,_t.min(),r,i,0)}static newNoDocument(e,n){return new Kn(e,2,n,_t.min(),_t.min(),yi.empty(),0)}static newUnknownDocument(e,n){return new Kn(e,3,n,_t.min(),_t.min(),yi.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(_t.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=_t.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(e,n){this.position=e,this.inclusive=n}}function dD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const o=e[i],s=t.position[i];if(o.field.isKeyField()?r=et.comparator(et.fromName(s.referenceValue),n.key):r=hc(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function fD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ga(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fv{constructor(e,n="asc"){this.field=e,this.dir=n}}function jie(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yV{}class on extends yV{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new $ie(e,n,r):n==="array-contains"?new Fie(e,r):n==="in"?new IV(e,r):n==="not-in"?new Vie(e,r):n==="array-contains-any"?new Uie(e,r):new on(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new Mie(e,r):new Bie(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hc(n,this.value)):n!==null&&Jd(this.value)===Jd(n)&&this.matchesComparison(hc(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class kn extends yV{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new kn(e,n)}matches(e){return _p(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function _p(t){return t.op==="and"}function jS(t){return t.op==="or"}function Ik(t){return bV(t)&&_p(t)}function bV(t){for(const e of t.filters)if(e instanceof kn)return!1;return!0}function $S(t){if(t instanceof on)return t.field.canonicalString()+t.op.toString()+bp(t.value);if(Ik(t))return t.filters.map(e=>$S(e)).join(",");{const e=t.filters.map(n=>$S(n)).join(",");return`${t.op}(${e})`}}function _V(t,e){return t instanceof on?function(r,i){return i instanceof on&&r.op===i.op&&r.field.isEqual(i.field)&&Ga(r.value,i.value)}(t,e):t instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&_V(s,i.filters[a]),!0):!1}(t,e):void dt()}function wV(t,e){const n=t.filters.concat(e);return kn.create(n,t.op)}function xV(t){return t instanceof on?function(n){return`${n.field.canonicalString()} ${n.op} ${bp(n.value)}`}(t):t instanceof kn?function(n){return n.op.toString()+" {"+n.getFilters().map(xV).join(" ,")+"}"}(t):"Filter"}class $ie extends on{constructor(e,n,r){super(e,n,r),this.key=et.fromName(r.referenceValue)}matches(e){const n=et.comparator(e.key,this.key);return this.matchesComparison(n)}}class Mie extends on{constructor(e,n){super(e,"in",n),this.keys=EV("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Bie extends on{constructor(e,n){super(e,"not-in",n),this.keys=EV("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function EV(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>et.fromName(r.referenceValue))}class Fie extends on{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Bv(n)&&Mv(n.arrayValue,this.value)}}class IV extends on{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Mv(this.value.arrayValue,n)}}class Vie extends on{constructor(e,n){super(e,"not-in",n)}matches(e){if(Mv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Mv(this.value.arrayValue,n)}}class Uie extends on{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Bv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Mv(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zie{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}}function MS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new zie(t,e,n,r,i,o,s)}function ef(t){const e=rt(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>$S(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Ry(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bp(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bp(r)).join(",")),e.ue=n}return e.ue}function Oy(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!jie(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!_V(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!fD(t.startAt,e.startAt)&&fD(t.endAt,e.endAt)}function aw(t){return et.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function lw(t,e){return t.filters.filter(n=>n instanceof on&&n.field.isEqual(e))}function hD(t,e,n){let r=i_,i=!0;for(const o of lw(t,e)){let s=i_,a=!0;switch(o.op){case"<":case"<=":s=Lie(o.value);break;case"==":case"in":case">=":s=o.value;break;case">":s=o.value,a=!1;break;case"!=":case"not-in":s=i_}uD({value:r,inclusive:i},{value:s,inclusive:a})<0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];uD({value:r,inclusive:i},{value:s,inclusive:n.inclusive})<0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}function pD(t,e,n){let r=Ku,i=!0;for(const o of lw(t,e)){let s=Ku,a=!0;switch(o.op){case">=":case">":s=Die(o.value),a=!1;break;case"==":case"in":case"<=":s=o.value;break;case"<":s=o.value,a=!1;break;case"!=":case"not-in":s=Ku}cD({value:r,inclusive:i},{value:s,inclusive:a})>0&&(r=s,i=a)}if(n!==null){for(let o=0;o<t.orderBy.length;++o)if(t.orderBy[o].field.isEqual(e)){const s=n.position[o];cD({value:r,inclusive:i},{value:s,inclusive:n.inclusive})>0&&(r=s,i=n.inclusive);break}}return{value:r,inclusive:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function TV(t,e,n,r,i,o,s,a){return new iu(t,e,n,r,i,o,s,a)}function tm(t){return new iu(t)}function mD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Tk(t){return t.collectionGroup!==null}function Wh(t){const e=rt(t);if(e.ce===null){e.ce=[];const n=new Set;for(const o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Nn(nr.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Fv(o,r))}),n.has(nr.keyField().canonicalString())||e.ce.push(new Fv(nr.keyField(),r))}return e.ce}function Yi(t){const e=rt(t);return e.le||(e.le=qie(e,Wh(t))),e.le}function qie(t,e){if(t.limitType==="F")return MS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Fv(i.field,o)});const n=t.endAt?new pc(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new pc(t.startAt.position,t.startAt.inclusive):null;return MS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function BS(t,e){const n=t.filters.concat([e]);return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function uw(t,e,n){return new iu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ny(t,e){return Oy(Yi(t),Yi(e))&&t.limitType===e.limitType}function SV(t){return`${ef(Yi(t))}|lt:${t.limitType}`}function fh(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>xV(i)).join(", ")}]`),Ry(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>bp(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>bp(i)).join(",")),`Target(${r})`}(Yi(t))}; limitType=${t.limitType})`}function Ly(t,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):et.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(const o of Wh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,l){const u=dD(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,Wh(r),i)||r.endAt&&!function(s,a,l){const u=dD(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,Wh(r),i))}(t,e)}function CV(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function PV(t){return(e,n)=>{let r=!1;for(const i of Wh(t)){const o=Hie(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function Hie(t,e,n){const r=t.field.isKeyField()?et.comparator(e.key,n.key):function(o,s,a){const l=s.data.field(o),u=a.data.field(o);return l!==null&&u!==null?hc(l,u):dt()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){xf(this.inner,(n,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return hV(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wie=new Fn(et.comparator);function _o(){return Wie}const kV=new Fn(et.comparator);function Tg(...t){let e=kV;for(const n of t)e=e.insert(n.key,n);return e}function AV(t){let e=kV;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Da(){return Wg()}function RV(){return Wg()}function Wg(){return new Pc(t=>t.toString(),(t,e)=>t.isEqual(e))}const Kie=new Fn(et.comparator),Gie=new Nn(et.comparator);function zt(...t){let e=Gie;for(const n of t)e=e.add(n);return e}const Qie=new Nn(Mt);function Sk(){return Qie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ck(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jv(e)?"-0":e}}function OV(t){return{integerValue:""+t}}function NV(t,e){return lV(e)?OV(e):Ck(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(){this._=void 0}}function Yie(t,e,n){return t instanceof wp?function(i,o){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&P1(o)&&(o=Ek(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof tf?DV(t,e):t instanceof nf?jV(t,e):function(i,o){const s=LV(i,o),a=gD(s)+gD(i.Pe);return DS(s)&&DS(i.Pe)?OV(a):Ck(i.serializer,a)}(t,e)}function Xie(t,e,n){return t instanceof tf?DV(t,e):t instanceof nf?jV(t,e):n}function LV(t,e){return t instanceof xp?function(r){return DS(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class wp extends A1{}class tf extends A1{constructor(e){super(),this.elements=e}}function DV(t,e){const n=$V(e);for(const r of t.elements)n.some(i=>Ga(i,r))||n.push(r);return{arrayValue:{values:n}}}class nf extends A1{constructor(e){super(),this.elements=e}}function jV(t,e){let n=$V(e);for(const r of t.elements)n=n.filter(i=>!Ga(i,r));return{arrayValue:{values:n}}}class xp extends A1{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function gD(t){return Zn(t.integerValue||t.doubleValue)}function $V(t){return Bv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dy{constructor(e,n){this.field=e,this.transform=n}}function Jie(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof tf&&i instanceof tf||r instanceof nf&&i instanceof nf?yp(r.elements,i.elements,Ga):r instanceof xp&&i instanceof xp?Ga(r.Pe,i.Pe):r instanceof wp&&i instanceof wp}(t.transform,e.transform)}class Zie{constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function s_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class R1{}function MV(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rm(t.key,rr.none()):new nm(t.key,t.data,rr.none());{const n=t.data,r=yi.empty();let i=new Nn(nr.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new ou(t.key,r,new bo(i.toArray()),rr.none())}}function eoe(t,e,n){t instanceof nm?function(i,o,s){const a=i.value.clone(),l=yD(i.fieldTransforms,o,s.transformResults);a.setAll(l),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ou?function(i,o,s){if(!s_(i.precondition,o))return void o.convertToUnknownDocument(s.version);const a=yD(i.fieldTransforms,o,s.transformResults),l=o.data;l.setAll(BV(i)),l.setAll(a),o.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Kg(t,e,n,r){return t instanceof nm?function(o,s,a,l){if(!s_(o.precondition,s))return a;const u=o.value.clone(),c=bD(o.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ou?function(o,s,a,l){if(!s_(o.precondition,s))return a;const u=bD(o.fieldTransforms,l,s),c=s.data;return c.setAll(BV(o)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(o,s,a){return s_(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function toe(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),o=LV(r.transform,i||null);o!=null&&(n===null&&(n=yi.empty()),n.set(r.field,o))}return n||null}function vD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&yp(r,i,(o,s)=>Jie(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class nm extends R1{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ou extends R1{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function BV(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function yD(t,e,n){const r=new Map;gt(t.length===n.length);for(let i=0;i<n.length;i++){const o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Xie(s,a,n[i]))}return r}function bD(t,e,n){const r=new Map;for(const i of t){const o=i.transform,s=n.data.field(i.field);r.set(i.field,Yie(o,s,e))}return r}class rm extends R1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Pk extends R1{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&eoe(o,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Kg(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Kg(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=RV();return this.mutations.forEach(i=>{const o=e.get(i.key),s=o.overlayedDocument;let a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;const l=MV(s,a);l!==null&&r.set(i.key,l),s.isValidDocument()||s.convertToNoDocument(_t.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),zt())}isEqual(e){return this.batchId===e.batchId&&yp(this.mutations,e.mutations,(n,r)=>vD(n,r))&&yp(this.baseMutations,e.baseMutations,(n,r)=>vD(n,r))}}class Ak{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){gt(e.mutations.length===r.length);let i=function(){return Kie}();const o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new Ak(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rk{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class noe{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $r,un;function FV(t){switch(t){default:return dt();case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0}}function VV(t){if(t===void 0)return Rr("GRPC error has no .code"),ke.UNKNOWN;switch(t){case $r.OK:return ke.OK;case $r.CANCELLED:return ke.CANCELLED;case $r.UNKNOWN:return ke.UNKNOWN;case $r.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case $r.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case $r.INTERNAL:return ke.INTERNAL;case $r.UNAVAILABLE:return ke.UNAVAILABLE;case $r.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case $r.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case $r.NOT_FOUND:return ke.NOT_FOUND;case $r.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case $r.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case $r.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case $r.ABORTED:return ke.ABORTED;case $r.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case $r.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case $r.DATA_LOSS:return ke.DATA_LOSS;default:return dt()}}(un=$r||($r={}))[un.OK=0]="OK",un[un.CANCELLED=1]="CANCELLED",un[un.UNKNOWN=2]="UNKNOWN",un[un.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",un[un.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",un[un.NOT_FOUND=5]="NOT_FOUND",un[un.ALREADY_EXISTS=6]="ALREADY_EXISTS",un[un.PERMISSION_DENIED=7]="PERMISSION_DENIED",un[un.UNAUTHENTICATED=16]="UNAUTHENTICATED",un[un.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",un[un.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",un[un.ABORTED=10]="ABORTED",un[un.OUT_OF_RANGE=11]="OUT_OF_RANGE",un[un.UNIMPLEMENTED=12]="UNIMPLEMENTED",un[un.INTERNAL=13]="INTERNAL",un[un.UNAVAILABLE=14]="UNAVAILABLE",un[un.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UV(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const roe=new Dd([4294967295,4294967295],0);function _D(t){const e=UV().encode(t),n=new G5;return n.update(e),new Uint8Array(n.digest())}function wD(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Dd([n,r],0),new Dd([i,o],0)]}class Ok{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Sg(`Invalid padding: ${n}`);if(r<0)throw new Sg(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Sg(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Sg(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=Dd.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(Dd.fromNumber(r)));return i.compare(roe)===1&&(i=new Dd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=_D(e),[r,i]=wD(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new Ok(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;const n=_D(e),[r,i]=wD(n);for(let o=0;o<this.hashCount;o++){const s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Sg extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,$y.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new jy(_t.min(),i,new Fn(Mt),_o(),zt())}}class $y{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new $y(r,n,zt(),zt(),zt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a_{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class zV{constructor(e,n){this.targetId=e,this.me=n}}class qV{constructor(e,n,r=Er.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class xD{constructor(){this.fe=0,this.ge=ID(),this.pe=Er.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=zt(),n=zt(),r=zt();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:dt()}}),new $y(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=ID()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,gt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ioe{constructor(e){this.Le=e,this.Be=new Map,this.ke=_o(),this.qe=ED(),this.Qe=new Fn(Mt)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:dt()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const o=i.target;if(aw(o))if(r===0){const s=new et(o.path);this.Ue(n,s,Kn.newNoDocument(s,_t.min()))}else gt(r===1);else{const s=this.Ye(n);if(s!==r){const a=this.Ze(e),l=a?this.Xe(a,e,s):1;if(l!==0){this.je(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,u)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n;let s,a;try{s=dc(r).toUint8Array()}catch(l){if(l instanceof pV)return Ka("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ok(s,i,o)}catch(l){return Ka(l instanceof Sg?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(o=>{const s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){const n=new Map;this.Be.forEach((o,s)=>{const a=this.Je(s);if(a){if(o.current&&aw(a.target)){const l=new et(a.target.path);this.ke.get(l)!==null||this.it(s,l)||this.Ue(s,l,Kn.newNoDocument(l,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=zt();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));const i=new jy(e,n,this.Qe,this.ke,r);return this.ke=_o(),this.qe=ED(),this.Qe=new Fn(Mt),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xD,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Nn(Mt),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Me("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xD),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ED(){return new Fn(et.comparator)}function ID(){return new Fn(et.comparator)}const ooe={asc:"ASCENDING",desc:"DESCENDING"},soe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},aoe={and:"AND",or:"OR"};class loe{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function FS(t,e){return t.useProto3Json||Ry(e)?e:{value:e}}function Ep(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HV(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function uoe(t,e){return Ep(t,e.toTimestamp())}function Or(t){return gt(!!t),_t.fromTimestamp(function(n){const r=Wl(n);return new Rt(r.seconds,r.nanos)}(t))}function Nk(t,e){return VS(t,e).canonicalString()}function VS(t,e){const n=function(i){return new rn(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function WV(t){const e=rn.fromString(t);return gt(n3(e)),e}function Vv(t,e){return Nk(t.databaseId,e.path)}function Ua(t,e){const n=WV(e);if(n.get(1)!==t.databaseId.projectId)throw new je(ke.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new je(ke.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new et(QV(n))}function KV(t,e){return Nk(t.databaseId,e)}function GV(t){const e=WV(t);return e.length===4?rn.emptyPath():QV(e)}function US(t){return new rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function QV(t){return gt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function TD(t,e,n){return{name:Vv(t,e),fields:n.value.mapValue.fields}}function YV(t,e,n){const r=Ua(t,e.name),i=Or(e.updateTime),o=e.createTime?Or(e.createTime):_t.min(),s=new yi({mapValue:{fields:e.fields}}),a=Kn.newFoundDocument(r,i,o,s);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function coe(t,e){return"found"in e?function(r,i){gt(!!i.found),i.found.name,i.found.updateTime;const o=Ua(r,i.found.name),s=Or(i.found.updateTime),a=i.found.createTime?Or(i.found.createTime):_t.min(),l=new yi({mapValue:{fields:i.found.fields}});return Kn.newFoundDocument(o,s,a,l)}(t,e):"missing"in e?function(r,i){gt(!!i.missing),gt(!!i.readTime);const o=Ua(r,i.missing),s=Or(i.readTime);return Kn.newNoDocument(o,s)}(t,e):dt()}function doe(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(u,c){return u.useProto3Json?(gt(c===void 0||typeof c=="string"),Er.fromBase64String(c||"")):(gt(c===void 0||c instanceof Buffer||c instanceof Uint8Array),Er.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?ke.UNKNOWN:VV(u.code);return new je(c,u.message||"")}(s);n=new qV(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Ua(t,r.document.name),o=Or(r.document.updateTime),s=r.document.createTime?Or(r.document.createTime):_t.min(),a=new yi({mapValue:{fields:r.document.fields}}),l=Kn.newFoundDocument(i,o,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new a_(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Ua(t,r.document),o=r.readTime?Or(r.readTime):_t.min(),s=Kn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new a_([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Ua(t,r.document),o=r.removedTargetIds||[];n=new a_([],o,i,null)}else{if(!("filter"in e))return dt();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,s=new noe(i,o),a=r.targetId;n=new zV(a,s)}}return n}function Uv(t,e){let n;if(e instanceof nm)n={update:TD(t,e.key,e.value)};else if(e instanceof rm)n={delete:Vv(t,e.key)};else if(e instanceof ou)n={update:TD(t,e.key,e.data),updateMask:voe(e.fieldMask)};else{if(!(e instanceof Pk))return dt();n={verify:Vv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){const a=s.transform;if(a instanceof wp)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof tf)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof nf)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof xp)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw dt()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:uoe(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:dt()}(t,e.precondition)),n}function zS(t,e){const n=e.currentDocument?function(o){return o.updateTime!==void 0?rr.updateTime(Or(o.updateTime)):o.exists!==void 0?rr.exists(o.exists):rr.none()}(e.currentDocument):rr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(s,a){let l=null;if("setToServerValue"in a)gt(a.setToServerValue==="REQUEST_TIME"),l=new wp;else if("appendMissingElements"in a){const c=a.appendMissingElements.values||[];l=new tf(c)}else if("removeAllFromArray"in a){const c=a.removeAllFromArray.values||[];l=new nf(c)}else"increment"in a?l=new xp(s,a.increment):dt();const u=nr.fromServerFormat(a.fieldPath);return new Dy(u,l)}(t,i)):[];if(e.update){e.update.name;const i=Ua(t,e.update.name),o=new yi({mapValue:{fields:e.update.fields}});if(e.updateMask){const s=function(l){const u=l.fieldPaths||[];return new bo(u.map(c=>nr.fromServerFormat(c)))}(e.updateMask);return new ou(i,o,s,n,r)}return new nm(i,o,n,r)}if(e.delete){const i=Ua(t,e.delete);return new rm(i,n)}if(e.verify){const i=Ua(t,e.verify);return new Pk(i,n)}return dt()}function foe(t,e){return t&&t.length>0?(gt(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Or(i.updateTime):Or(o);return s.isEqual(_t.min())&&(s=Or(o)),new Zie(s,i.transformResults||[])}(n,e))):[]}function XV(t,e){return{documents:[KV(t,e.path)]}}function JV(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=KV(t,i);const o=function(u){if(u.length!==0)return t3(kn.create(u,"and"))}(e.filters);o&&(n.structuredQuery.where=o);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:hh(h.field),direction:poe(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=FS(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:n,parent:i}}function ZV(t){let e=GV(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){gt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let o=[];n.where&&(o=function(f){const h=e3(f);return h instanceof kn&&Ik(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(f){return f.map(h=>function(g){return new Fv(ph(g.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(g.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(f){let h;return h=typeof f=="object"?f.value:f,Ry(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(f){const h=!!f.before,p=f.values||[];return new pc(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(f){const h=!f.before,p=f.values||[];return new pc(p,h)}(n.endAt)),TV(e,i,s,o,a,"F",l,u)}function hoe(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return dt()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function e3(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=ph(n.unaryFilter.field);return on.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=ph(n.unaryFilter.field);return on.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=ph(n.unaryFilter.field);return on.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=ph(n.unaryFilter.field);return on.create(s,"!=",{nullValue:"NULL_VALUE"});default:return dt()}}(t):t.fieldFilter!==void 0?function(n){return on.create(ph(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return dt()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return kn.create(n.compositeFilter.filters.map(r=>e3(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return dt()}}(n.compositeFilter.op))}(t):dt()}function poe(t){return ooe[t]}function moe(t){return soe[t]}function goe(t){return aoe[t]}function hh(t){return{fieldPath:t.canonicalString()}}function ph(t){return nr.fromServerFormat(t.fieldPath)}function t3(t){return t instanceof on?function(n){if(n.op==="=="){if(lD(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NAN"}};if(aD(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(lD(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NOT_NAN"}};if(aD(n.value))return{unaryFilter:{field:hh(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hh(n.field),op:moe(n.op),value:n.value}}}(t):t instanceof kn?function(n){const r=n.getFilters().map(i=>t3(i));return r.length===1?r[0]:{compositeFilter:{op:goe(n.op),filters:r}}}(t):dt()}function voe(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function n3(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n,r,i,o=_t.min(),s=_t.min(),a=Er.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Nl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r3{constructor(e){this.ct=e}}function yoe(t,e){let n;if(e.document)n=YV(t.ct,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=et.fromSegments(e.noDocument.path),i=of(e.noDocument.readTime);n=Kn.newNoDocument(r,i),e.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!e.unknownDocument)return dt();{const r=et.fromSegments(e.unknownDocument.path),i=of(e.unknownDocument.version);n=Kn.newUnknownDocument(r,i)}}return e.readTime&&n.setReadTime(function(i){const o=new Rt(i[0],i[1]);return _t.fromTimestamp(o)}(e.readTime)),n}function SD(t,e){const n=e.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:cw(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=function(o,s){return{name:Vv(o,s.key),fields:s.data.value.mapValue.fields,updateTime:Ep(o,s.version.toTimestamp()),createTime:Ep(o,s.createTime.toTimestamp())}}(t.ct,e);else if(e.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:rf(e.version)};else{if(!e.isUnknownDocument())return dt();r.unknownDocument={path:n.path.toArray(),version:rf(e.version)}}return r}function cw(t){const e=t.toTimestamp();return[e.seconds,e.nanoseconds]}function rf(t){const e=t.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function of(t){const e=new Rt(t.seconds,t.nanoseconds);return _t.fromTimestamp(e)}function bd(t,e){const n=(e.baseMutations||[]).map(o=>zS(t.ct,o));for(let o=0;o<e.mutations.length-1;++o){const s=e.mutations[o];if(o+1<e.mutations.length&&e.mutations[o+1].transform!==void 0){const a=e.mutations[o+1];s.updateTransforms=a.transform.fieldTransforms,e.mutations.splice(o+1,1),++o}}const r=e.mutations.map(o=>zS(t.ct,o)),i=Rt.fromMillis(e.localWriteTimeMs);return new kk(e.batchId,i,n,r)}function Cg(t){const e=of(t.readTime),n=t.lastLimboFreeSnapshotVersion!==void 0?of(t.lastLimboFreeSnapshotVersion):_t.min();let r;return r=function(o){return o.documents!==void 0}(t.query)?function(o){return gt(o.documents.length===1),Yi(tm(GV(o.documents[0])))}(t.query):function(o){return Yi(ZV(o))}(t.query),new Nl(r,t.targetId,"TargetPurposeListen",t.lastListenSequenceNumber,e,n,Er.fromBase64String(t.resumeToken))}function i3(t,e){const n=rf(e.snapshotVersion),r=rf(e.lastLimboFreeSnapshotVersion);let i;i=aw(e.target)?XV(t.ct,e.target):JV(t.ct,e.target)._t;const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ef(e.target),readTime:n,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function Lk(t){const e=ZV({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?uw(e,e.limit,"L"):e}function zI(t,e){return new Rk(e.largestBatchId,zS(t.ct,e.overlayMutation))}function CD(t,e){const n=e.path.lastSegment();return[t,Qi(e.path.popLast()),n]}function PD(t,e,n,r){return{indexId:t,uid:e,sequenceNumber:n,readTime:rf(r.readTime),documentKey:Qi(r.documentKey.path),largestBatchId:r.largestBatchId}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class boe{getBundleMetadata(e,n){return kD(e).get(n).next(r=>{if(r)return function(o){return{id:o.bundleId,createTime:of(o.createTime),version:o.version}}(r)})}saveBundleMetadata(e,n){return kD(e).put(function(i){return{bundleId:i.id,createTime:rf(Or(i.createTime)),version:i.version}}(n))}getNamedQuery(e,n){return AD(e).get(n).next(r=>{if(r)return function(o){return{name:o.name,query:Lk(o.bundledQuery),readTime:of(o.readTime)}}(r)})}saveNamedQuery(e,n){return AD(e).put(function(i){return{name:i.name,readTime:rf(Or(i.readTime)),bundledQuery:i.bundledQuery}}(n))}}function kD(t){return Jr(t,"bundles")}function AD(t){return Jr(t,"namedQueries")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n){this.serializer=e,this.userId=n}static lt(e,n){const r=n.uid||"";return new O1(e,r)}getOverlay(e,n){return Zm(e).get(CD(this.userId,n)).next(r=>r?zI(this.serializer,r):null)}getOverlays(e,n){const r=Da();return Ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){const i=[];return r.forEach((o,s)=>{const a=new Rk(n,s);i.push(this.ht(e,a))}),Ie.waitFor(i)}removeOverlaysForBatchId(e,n,r){const i=new Set;n.forEach(s=>i.add(Qi(s.getCollectionPath())));const o=[];return i.forEach(s=>{const a=IDBKeyRange.bound([this.userId,s,r],[this.userId,s,r+1],!1,!0);o.push(Zm(e).j("collectionPathOverlayIndex",a))}),Ie.waitFor(o)}getOverlaysForCollection(e,n,r){const i=Da(),o=Qi(n),s=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Zm(e).U("collectionPathOverlayIndex",s).next(a=>{for(const l of a){const u=zI(this.serializer,l);i.set(u.getKey(),u)}return i})}getOverlaysForCollectionGroup(e,n,r,i){const o=Da();let s;const a=IDBKeyRange.bound([this.userId,n,r],[this.userId,n,Number.POSITIVE_INFINITY],!0);return Zm(e).J({index:"collectionGroupOverlayIndex",range:a},(l,u,c)=>{const f=zI(this.serializer,u);o.size()<i||f.largestBatchId===s?(o.set(f.getKey(),f),s=f.largestBatchId):c.done()}).next(()=>o)}ht(e,n){return Zm(e).put(function(i,o,s){const[a,l,u]=CD(o,s.mutation.key);return{userId:o,collectionPath:l,documentId:u,collectionGroup:s.mutation.key.getCollectionGroup(),largestBatchId:s.largestBatchId,overlayMutation:Uv(i.ct,s.mutation)}}(this.serializer,this.userId,n))}}function Zm(t){return Jr(t,"documentOverlays")}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _oe{Pt(e){return Jr(e,"globals")}getSessionToken(e){return this.Pt(e).get("sessionToken").next(n=>{const r=n==null?void 0:n.value;return r?Er.fromUint8Array(r):Er.EMPTY_BYTE_STRING})}setSessionToken(e,n){return this.Pt(e).put({name:"sessionToken",value:n.toUint8Array()})}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _d{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Zn(e.integerValue));else if("doubleValue"in e){const r=Zn(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),jv(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Wl(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(dc(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?mV(e)?this.dt(n,Number.MAX_SAFE_INTEGER):k1(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):dt()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){const r=e.fields||{};this.dt(n,55);for(const i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;const o=e.fields||{};this.dt(n,53);const s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Zn(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){const r=e.values||[];this.dt(n,50);for(const i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),et.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}}_d.vt=new _d;function woe(t){if(t===0)return 8;let e=0;return!(t>>4)&&(e+=4,t<<=4),!(t>>6)&&(e+=2,t<<=2),!(t>>7)&&(e+=1),e}function RD(t){const e=64-function(r){let i=0;for(let o=0;o<8;++o){const s=woe(255&r[o]);if(i+=s,s!==8)break}return i}(t);return Math.ceil(e/8)}class xoe{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ct(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ft(r.value),r=n.next();this.Mt()}xt(e){const n=e[Symbol.iterator]();let r=n.next();for(;!r.done;)this.Ot(r.value),r=n.next();this.Nt()}Lt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ft(r);else if(r<2048)this.Ft(960|r>>>6),this.Ft(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ft(480|r>>>12),this.Ft(128|63&r>>>6),this.Ft(128|63&r);else{const i=n.codePointAt(0);this.Ft(240|i>>>18),this.Ft(128|63&i>>>12),this.Ft(128|63&i>>>6),this.Ft(128|63&i)}}this.Mt()}Bt(e){for(const n of e){const r=n.charCodeAt(0);if(r<128)this.Ot(r);else if(r<2048)this.Ot(960|r>>>6),this.Ot(128|63&r);else if(n<"\uD800"||"\uDBFF"<n)this.Ot(480|r>>>12),this.Ot(128|63&r>>>6),this.Ot(128|63&r);else{const i=n.codePointAt(0);this.Ot(240|i>>>18),this.Ot(128|63&i>>>12),this.Ot(128|63&i>>>6),this.Ot(128|63&i)}}this.Nt()}kt(e){const n=this.qt(e),r=RD(n);this.Qt(1+r),this.buffer[this.position++]=255&r;for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=255&n[i]}Kt(e){const n=this.qt(e),r=RD(n);this.Qt(1+r),this.buffer[this.position++]=~(255&r);for(let i=n.length-r;i<n.length;++i)this.buffer[this.position++]=~(255&n[i])}$t(){this.Ut(255),this.Ut(255)}Wt(){this.Gt(255),this.Gt(255)}reset(){this.position=0}seed(e){this.Qt(e.length),this.buffer.set(e,this.position),this.position+=e.length}zt(){return this.buffer.slice(0,this.position)}qt(e){const n=function(o){const s=new DataView(new ArrayBuffer(8));return s.setFloat64(0,o,!1),new Uint8Array(s.buffer)}(e),r=(128&n[0])!=0;n[0]^=r?255:128;for(let i=1;i<n.length;++i)n[i]^=r?255:0;return n}Ft(e){const n=255&e;n===0?(this.Ut(0),this.Ut(255)):n===255?(this.Ut(255),this.Ut(0)):this.Ut(n)}Ot(e){const n=255&e;n===0?(this.Gt(0),this.Gt(255)):n===255?(this.Gt(255),this.Gt(0)):this.Gt(e)}Mt(){this.Ut(0),this.Ut(1)}Nt(){this.Gt(0),this.Gt(1)}Ut(e){this.Qt(1),this.buffer[this.position++]=e}Gt(e){this.Qt(1),this.buffer[this.position++]=~e}Qt(e){const n=e+this.position;if(n<=this.buffer.length)return;let r=2*this.buffer.length;r<n&&(r=n);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class Eoe{constructor(e){this.jt=e}gt(e){this.jt.Ct(e)}Rt(e){this.jt.Lt(e)}At(e){this.jt.kt(e)}Et(){this.jt.$t()}}class Ioe{constructor(e){this.jt=e}gt(e){this.jt.xt(e)}Rt(e){this.jt.Bt(e)}At(e){this.jt.Kt(e)}Et(){this.jt.Wt()}}class eg{constructor(){this.jt=new xoe,this.Ht=new Eoe(this.jt),this.Jt=new Ioe(this.jt)}seed(e){this.jt.seed(e)}Yt(e){return e===0?this.Ht:this.Jt}zt(){return this.jt.zt()}reset(){this.jt.reset()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wd{constructor(e,n,r,i){this.indexId=e,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}Zt(){const e=this.directionalValue.length,n=e===0||this.directionalValue[e-1]===255?e+1:e,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new wd(this.indexId,this.documentKey,this.arrayValue,r)}}function Au(t,e){let n=t.indexId-e.indexId;return n!==0?n:(n=OD(t.arrayValue,e.arrayValue),n!==0?n:(n=OD(t.directionalValue,e.directionalValue),n!==0?n:et.comparator(t.documentKey,e.documentKey)))}function OD(t,e){for(let n=0;n<t.length&&n<e.length;++n){const r=t[n]-e[n];if(r!==0)return r}return t.length-e.length}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ND{constructor(e){this.Xt=new Nn((n,r)=>nr.comparator(n.field,r.field)),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.en=e.orderBy,this.tn=[];for(const n of e.filters){const r=n;r.isInequality()?this.Xt=this.Xt.add(r):this.tn.push(r)}}get nn(){return this.Xt.size>1}rn(e){if(gt(e.collectionGroup===this.collectionId),this.nn)return!1;const n=OS(e);if(n!==void 0&&!this.sn(n))return!1;const r=dd(e);let i=new Set,o=0,s=0;for(;o<r.length&&this.sn(r[o]);++o)i=i.add(r[o].fieldPath.canonicalString());if(o===r.length)return!0;if(this.Xt.size>0){const a=this.Xt.getIterator().getNext();if(!i.has(a.field.canonicalString())){const l=r[o];if(!this.on(a,l)||!this._n(this.en[s++],l))return!1}++o}for(;o<r.length;++o){const a=r[o];if(s>=this.en.length||!this._n(this.en[s++],a))return!1}return!0}an(){if(this.nn)return null;let e=new Nn(nr.comparator);const n=[];for(const r of this.tn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")n.push(new n_(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),n.push(new n_(r.field,0))}for(const r of this.en)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),n.push(new n_(r.field,r.dir==="asc"?0:1)));return new sw(sw.UNKNOWN_ID,this.collectionId,n,Dv.empty())}sn(e){for(const n of this.tn)if(this.on(n,e))return!0;return!1}on(e,n){if(e===void 0||!e.field.isEqual(n.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return n.kind===2===r}_n(e,n){return!!e.field.isEqual(n.fieldPath)&&(n.kind===0&&e.dir==="asc"||n.kind===1&&e.dir==="desc")}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o3(t){var e,n;if(gt(t instanceof on||t instanceof kn),t instanceof on){if(t instanceof IV){const i=((n=(e=t.value.arrayValue)===null||e===void 0?void 0:e.values)===null||n===void 0?void 0:n.map(o=>on.create(t.field,"==",o)))||[];return kn.create(i,"or")}return t}const r=t.filters.map(i=>o3(i));return kn.create(r,t.op)}function Toe(t){if(t.getFilters().length===0)return[];const e=WS(o3(t));return gt(s3(e)),qS(e)||HS(e)?[e]:e.getFilters()}function qS(t){return t instanceof on}function HS(t){return t instanceof kn&&Ik(t)}function s3(t){return qS(t)||HS(t)||function(n){if(n instanceof kn&&jS(n)){for(const r of n.getFilters())if(!qS(r)&&!HS(r))return!1;return!0}return!1}(t)}function WS(t){if(gt(t instanceof on||t instanceof kn),t instanceof on)return t;if(t.filters.length===1)return WS(t.filters[0]);const e=t.filters.map(r=>WS(r));let n=kn.create(e,t.op);return n=dw(n),s3(n)?n:(gt(n instanceof kn),gt(_p(n)),gt(n.filters.length>1),n.filters.reduce((r,i)=>Dk(r,i)))}function Dk(t,e){let n;return gt(t instanceof on||t instanceof kn),gt(e instanceof on||e instanceof kn),n=t instanceof on?e instanceof on?function(i,o){return kn.create([i,o],"and")}(t,e):LD(t,e):e instanceof on?LD(e,t):function(i,o){if(gt(i.filters.length>0&&o.filters.length>0),_p(i)&&_p(o))return wV(i,o.getFilters());const s=jS(i)?i:o,a=jS(i)?o:i,l=s.filters.map(u=>Dk(u,a));return kn.create(l,"or")}(t,e),dw(n)}function LD(t,e){if(_p(e))return wV(e,t.getFilters());{const n=e.filters.map(r=>Dk(t,r));return kn.create(n,"or")}}function dw(t){if(gt(t instanceof on||t instanceof kn),t instanceof on)return t;const e=t.getFilters();if(e.length===1)return dw(e[0]);if(bV(t))return t;const n=e.map(i=>dw(i)),r=[];return n.forEach(i=>{i instanceof on?r.push(i):i instanceof kn&&(i.op===t.op?r.push(...i.filters):r.push(i))}),r.length===1?r[0]:kn.create(r,t.op)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Soe{constructor(){this.un=new jk}addToCollectionParentIndex(e,n){return this.un.add(n),Ie.resolve()}getCollectionParents(e,n){return Ie.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return Ie.resolve()}deleteFieldIndex(e,n){return Ie.resolve()}deleteAllFieldIndexes(e){return Ie.resolve()}createTargetIndexes(e,n){return Ie.resolve()}getDocumentsMatchingTarget(e,n){return Ie.resolve(null)}getIndexType(e,n){return Ie.resolve(0)}getFieldIndexes(e,n){return Ie.resolve([])}getNextCollectionGroupToUpdate(e){return Ie.resolve(null)}getMinOffset(e,n){return Ie.resolve(Ho.min())}getMinOffsetFromCollectionGroup(e,n){return Ie.resolve(Ho.min())}updateCollectionGroup(e,n,r){return Ie.resolve()}updateIndexEntries(e,n){return Ie.resolve()}}class jk{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Nn(rn.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Nn(rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new Uint8Array(0);class Coe{constructor(e,n){this.databaseId=n,this.cn=new jk,this.ln=new Pc(r=>ef(r),(r,i)=>Oy(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,n){if(!this.cn.has(n)){const r=n.lastSegment(),i=n.popLast();e.addOnCommittedListener(()=>{this.cn.add(n)});const o={collectionId:r,parent:Qi(i)};return DD(e).put(o)}return Ie.resolve()}getCollectionParents(e,n){const r=[],i=IDBKeyRange.bound([n,""],[nV(n),""],!1,!0);return DD(e).U(i).next(o=>{for(const s of o){if(s.collectionId!==n)break;r.push(La(s.parent))}return r})}addFieldIndex(e,n){const r=tg(e),i=function(a){return{indexId:a.indexId,collectionGroup:a.collectionGroup,fields:a.fields.map(l=>[l.fieldPath.canonicalString(),l.kind])}}(n);delete i.indexId;const o=r.add(i);if(n.indexState){const s=nh(e);return o.next(a=>{s.put(PD(a,this.uid,n.indexState.sequenceNumber,n.indexState.offset))})}return o.next()}deleteFieldIndex(e,n){const r=tg(e),i=nh(e),o=th(e);return r.delete(n.indexId).next(()=>i.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([n.indexId],[n.indexId+1],!1,!0)))}deleteAllFieldIndexes(e){const n=tg(e),r=th(e),i=nh(e);return n.j().next(()=>r.j()).next(()=>i.j())}createTargetIndexes(e,n){return Ie.forEach(this.hn(n),r=>this.getIndexType(e,r).next(i=>{if(i===0||i===1){const o=new ND(r).an();if(o!=null)return this.addFieldIndex(e,o)}}))}getDocumentsMatchingTarget(e,n){const r=th(e);let i=!0;const o=new Map;return Ie.forEach(this.hn(n),s=>this.Pn(e,s).next(a=>{i&&(i=!!a),o.set(s,a)})).next(()=>{if(i){let s=zt();const a=[];return Ie.forEach(o,(l,u)=>{Me("IndexedDbIndexManager",`Using index ${function(y){return`id=${y.indexId}|cg=${y.collectionGroup}|f=${y.fields.map(x=>`${x.fieldPath}:${x.kind}`).join(",")}`}(l)} to execute ${ef(n)}`);const c=function(y,x){const I=OS(x);if(I===void 0)return null;for(const O of lw(y,I.fieldPath))switch(O.op){case"array-contains-any":return O.value.arrayValue.values||[];case"array-contains":return[O.value]}return null}(u,l),f=function(y,x){const I=new Map;for(const O of dd(x))for(const S of lw(y,O.fieldPath))switch(S.op){case"==":case"in":I.set(O.fieldPath.canonicalString(),S.value);break;case"not-in":case"!=":return I.set(O.fieldPath.canonicalString(),S.value),Array.from(I.values())}return null}(u,l),h=function(y,x){const I=[];let O=!0;for(const S of dd(x)){const C=S.kind===0?hD(y,S.fieldPath,y.startAt):pD(y,S.fieldPath,y.startAt);I.push(C.value),O&&(O=C.inclusive)}return new pc(I,O)}(u,l),p=function(y,x){const I=[];let O=!0;for(const S of dd(x)){const C=S.kind===0?pD(y,S.fieldPath,y.endAt):hD(y,S.fieldPath,y.endAt);I.push(C.value),O&&(O=C.inclusive)}return new pc(I,O)}(u,l),g=this.In(l,u,h),_=this.In(l,u,p),w=this.Tn(l,u,f),b=this.En(l.indexId,c,g,h.inclusive,_,p.inclusive,w);return Ie.forEach(b,v=>r.G(v,n.limit).next(y=>{y.forEach(x=>{const I=et.fromSegments(x.documentKey);s.has(I)||(s=s.add(I),a.push(I))})}))}).next(()=>a)}return Ie.resolve(null)})}hn(e){let n=this.ln.get(e);return n||(e.filters.length===0?n=[e]:n=Toe(kn.create(e.filters,"and")).map(r=>MS(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.ln.set(e,n),n)}En(e,n,r,i,o,s,a){const l=(n!=null?n.length:1)*Math.max(r.length,o.length),u=l/(n!=null?n.length:1),c=[];for(let f=0;f<l;++f){const h=n?this.dn(n[f/u]):yb,p=this.An(e,h,r[f%u],i),g=this.Rn(e,h,o[f%u],s),_=a.map(w=>this.An(e,h,w,!0));c.push(...this.createRange(p,g,_))}return c}An(e,n,r,i){const o=new wd(e,et.empty(),n,r);return i?o:o.Zt()}Rn(e,n,r,i){const o=new wd(e,et.empty(),n,r);return i?o.Zt():o}Pn(e,n){const r=new ND(n),i=n.collectionGroup!=null?n.collectionGroup:n.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let s=null;for(const a of o)r.rn(a)&&(!s||a.fields.length>s.fields.length)&&(s=a);return s})}getIndexType(e,n){let r=2;const i=this.hn(n);return Ie.forEach(i,o=>this.Pn(e,o).next(s=>{s?r!==0&&s.fields.length<function(l){let u=new Nn(nr.comparator),c=!1;for(const f of l.filters)for(const h of f.getFlattenedFilters())h.field.isKeyField()||(h.op==="array-contains"||h.op==="array-contains-any"?c=!0:u=u.add(h.field));for(const f of l.orderBy)f.field.isKeyField()||(u=u.add(f.field));return u.size+(c?1:0)}(o)&&(r=1):r=0})).next(()=>function(s){return s.limit!==null}(n)&&i.length>1&&r===2?1:r)}Vn(e,n){const r=new eg;for(const i of dd(e)){const o=n.data.field(i.fieldPath);if(o==null)return null;const s=r.Yt(i.kind);_d.vt.It(o,s)}return r.zt()}dn(e){const n=new eg;return _d.vt.It(e,n.Yt(0)),n.zt()}mn(e,n){const r=new eg;return _d.vt.It(Zd(this.databaseId,n),r.Yt(function(o){const s=dd(o);return s.length===0?0:s[s.length-1].kind}(e))),r.zt()}Tn(e,n,r){if(r===null)return[];let i=[];i.push(new eg);let o=0;for(const s of dd(e)){const a=r[o++];for(const l of i)if(this.fn(n,s.fieldPath)&&Bv(a))i=this.gn(i,s,a);else{const u=l.Yt(s.kind);_d.vt.It(a,u)}}return this.pn(i)}In(e,n,r){return this.Tn(e,n,r.position)}pn(e){const n=[];for(let r=0;r<e.length;++r)n[r]=e[r].zt();return n}gn(e,n,r){const i=[...e],o=[];for(const s of r.arrayValue.values||[])for(const a of i){const l=new eg;l.seed(a.zt()),_d.vt.It(s,l.Yt(n.kind)),o.push(l)}return o}fn(e,n){return!!e.filters.find(r=>r instanceof on&&r.field.isEqual(n)&&(r.op==="in"||r.op==="not-in"))}getFieldIndexes(e,n){const r=tg(e),i=nh(e);return(n?r.U("collectionGroupIndex",IDBKeyRange.bound(n,n)):r.U()).next(o=>{const s=[];return Ie.forEach(o,a=>i.get([a.indexId,this.uid]).next(l=>{s.push(function(c,f){const h=f?new Dv(f.sequenceNumber,new Ho(of(f.readTime),new et(La(f.documentKey)),f.largestBatchId)):Dv.empty(),p=c.fields.map(([g,_])=>new n_(nr.fromServerFormat(g),_));return new sw(c.indexId,c.collectionGroup,p,h)}(a,l))})).next(()=>s)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(n=>n.length===0?null:(n.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return o!==0?o:Mt(r.collectionGroup,i.collectionGroup)}),n[0].collectionGroup))}updateCollectionGroup(e,n,r){const i=tg(e),o=nh(e);return this.yn(e).next(s=>i.U("collectionGroupIndex",IDBKeyRange.bound(n,n)).next(a=>Ie.forEach(a,l=>o.put(PD(l.indexId,this.uid,s,r)))))}updateIndexEntries(e,n){const r=new Map;return Ie.forEach(n,(i,o)=>{const s=r.get(i.collectionGroup);return(s?Ie.resolve(s):this.getFieldIndexes(e,i.collectionGroup)).next(a=>(r.set(i.collectionGroup,a),Ie.forEach(a,l=>this.wn(e,i,l).next(u=>{const c=this.Sn(o,l);return u.isEqual(c)?Ie.resolve():this.bn(e,o,l,u,c)}))))})}Dn(e,n,r,i){return th(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,n.key),documentKey:n.key.path.toArray()})}vn(e,n,r,i){return th(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,n.key),n.key.path.toArray()])}wn(e,n,r){const i=th(e);let o=new Nn(Au);return i.J({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,n)])},(s,a)=>{o=o.add(new wd(r.indexId,n,a.arrayValue,a.directionalValue))}).next(()=>o)}Sn(e,n){let r=new Nn(Au);const i=this.Vn(n,e);if(i==null)return r;const o=OS(n);if(o!=null){const s=e.data.field(o.fieldPath);if(Bv(s))for(const a of s.arrayValue.values||[])r=r.add(new wd(n.indexId,e.key,this.dn(a),i))}else r=r.add(new wd(n.indexId,e.key,yb,i));return r}bn(e,n,r,i,o){Me("IndexedDbIndexManager","Updating index entries for document '%s'",n.key);const s=[];return function(l,u,c,f,h){const p=l.getIterator(),g=u.getIterator();let _=eh(p),w=eh(g);for(;_||w;){let b=!1,v=!1;if(_&&w){const y=c(_,w);y<0?v=!0:y>0&&(b=!0)}else _!=null?v=!0:b=!0;b?(f(w),w=eh(g)):v?(h(_),_=eh(p)):(_=eh(p),w=eh(g))}}(i,o,Au,a=>{s.push(this.Dn(e,n,r,a))},a=>{s.push(this.vn(e,n,r,a))}),Ie.waitFor(s)}yn(e){let n=1;return nh(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),n=i.sequenceNumber+1}).next(()=>n)}createRange(e,n,r){r=r.sort((s,a)=>Au(s,a)).filter((s,a,l)=>!a||Au(s,l[a-1])!==0);const i=[];i.push(e);for(const s of r){const a=Au(s,e),l=Au(s,n);if(a===0)i[0]=e.Zt();else if(a>0&&l<0)i.push(s),i.push(s.Zt());else if(l>0)break}i.push(n);const o=[];for(let s=0;s<i.length;s+=2){if(this.Cn(i[s],i[s+1]))return[];const a=[i[s].indexId,this.uid,i[s].arrayValue,i[s].directionalValue,yb,[]],l=[i[s+1].indexId,this.uid,i[s+1].arrayValue,i[s+1].directionalValue,yb,[]];o.push(IDBKeyRange.bound(a,l))}return o}Cn(e,n){return Au(e,n)>0}getMinOffsetFromCollectionGroup(e,n){return this.getFieldIndexes(e,n).next(jD)}getMinOffset(e,n){return Ie.mapArray(this.hn(n),r=>this.Pn(e,r).next(i=>i||dt())).next(jD)}}function DD(t){return Jr(t,"collectionParents")}function th(t){return Jr(t,"indexEntries")}function tg(t){return Jr(t,"indexConfiguration")}function nh(t){return Jr(t,"indexState")}function jD(t){gt(t.length!==0);let e=t[0].indexState.offset,n=e.largestBatchId;for(let r=1;r<t.length;r++){const i=t[r].indexState.offset;_k(i,e)<0&&(e=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new Ho(e.readTime,e.documentKey,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $D={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class po{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new po(e,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a3(t,e,n){const r=t.store("mutations"),i=t.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const l=r.J({range:s},(c,f,h)=>(a++,h.delete()));o.push(l.next(()=>{gt(a===1)}));const u=[];for(const c of n.mutations){const f=uV(e,c.key.path,n.batchId);o.push(i.delete(f)),u.push(c.key)}return Ie.waitFor(o).next(()=>u)}function fw(t){if(!t)return 0;let e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw dt();e=t.noDocument}return JSON.stringify(e).length}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */po.DEFAULT_COLLECTION_PERCENTILE=10,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,po.DEFAULT=new po(41943040,po.DEFAULT_COLLECTION_PERCENTILE,po.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),po.DISABLED=new po(-1,0,0);class N1{constructor(e,n,r,i){this.userId=e,this.serializer=n,this.indexManager=r,this.referenceDelegate=i,this.Fn={}}static lt(e,n,r,i){gt(e.uid!=="");const o=e.isAuthenticated()?e.uid:"";return new N1(o,n,r,i)}checkEmpty(e){let n=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).J({index:"userMutationsIndex",range:r},(i,o,s)=>{n=!1,s.done()}).next(()=>n)}addMutationBatch(e,n,r,i){const o=mh(e),s=Ru(e);return s.add({}).next(a=>{gt(typeof a=="number");const l=new kk(a,n,r,i),u=function(p,g,_){const w=_.baseMutations.map(v=>Uv(p.ct,v)),b=_.mutations.map(v=>Uv(p.ct,v));return{userId:g,batchId:_.batchId,localWriteTimeMs:_.localWriteTime.toMillis(),baseMutations:w,mutations:b}}(this.serializer,this.userId,l),c=[];let f=new Nn((h,p)=>Mt(h.canonicalString(),p.canonicalString()));for(const h of i){const p=uV(this.userId,h.key.path,a);f=f.add(h.key.path.popLast()),c.push(s.put(u)),c.push(o.put(p,hie))}return f.forEach(h=>{c.push(this.indexManager.addToCollectionParentIndex(e,h))}),e.addOnCommittedListener(()=>{this.Fn[a]=l.keys()}),Ie.waitFor(c).next(()=>l)})}lookupMutationBatch(e,n){return Ru(e).get(n).next(r=>r?(gt(r.userId===this.userId),bd(this.serializer,r)):null)}Mn(e,n){return this.Fn[n]?Ie.resolve(this.Fn[n]):this.lookupMutationBatch(e,n).next(r=>{if(r){const i=r.keys();return this.Fn[n]=i,i}return null})}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return Ru(e).J({index:"userMutationsIndex",range:i},(s,a,l)=>{a.userId===this.userId&&(gt(a.batchId>=r),o=bd(this.serializer,a)),l.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const n=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return Ru(e).J({index:"userMutationsIndex",range:n,reverse:!0},(i,o,s)=>{r=o.batchId,s.done()}).next(()=>r)}getAllMutationBatches(e){const n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Ru(e).U("userMutationsIndex",n).next(r=>r.map(i=>bd(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,n){const r=r_(this.userId,n.path),i=IDBKeyRange.lowerBound(r),o=[];return mh(e).J({range:i},(s,a,l)=>{const[u,c,f]=s,h=La(c);if(u===this.userId&&n.path.isEqual(h))return Ru(e).get(f).next(p=>{if(!p)throw dt();gt(p.userId===this.userId),o.push(bd(this.serializer,p))});l.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nn(Mt);const i=[];return n.forEach(o=>{const s=r_(this.userId,o.path),a=IDBKeyRange.lowerBound(s),l=mh(e).J({range:a},(u,c,f)=>{const[h,p,g]=u,_=La(p);h===this.userId&&o.path.isEqual(_)?r=r.add(g):f.done()});i.push(l)}),Ie.waitFor(i).next(()=>this.xn(e,r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1,o=r_(this.userId,r),s=IDBKeyRange.lowerBound(o);let a=new Nn(Mt);return mh(e).J({range:s},(l,u,c)=>{const[f,h,p]=l,g=La(h);f===this.userId&&r.isPrefixOf(g)?g.length===i&&(a=a.add(p)):c.done()}).next(()=>this.xn(e,a))}xn(e,n){const r=[],i=[];return n.forEach(o=>{i.push(Ru(e).get(o).next(s=>{if(s===null)throw dt();gt(s.userId===this.userId),r.push(bd(this.serializer,s))}))}),Ie.waitFor(i).next(()=>r)}removeMutationBatch(e,n){return a3(e._e,this.userId,n).next(r=>(e.addOnCommittedListener(()=>{this.On(n.batchId)}),Ie.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}On(e){delete this.Fn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(n=>{if(!n)return Ie.resolve();const r=IDBKeyRange.lowerBound(function(s){return[s]}(this.userId)),i=[];return mh(e).J({range:r},(o,s,a)=>{if(o[0]===this.userId){const l=La(o[1]);i.push(l)}else a.done()}).next(()=>{gt(i.length===0)})})}containsKey(e,n){return l3(e,this.userId,n)}Nn(e){return u3(e).get(this.userId).next(n=>n||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function l3(t,e,n){const r=r_(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return mh(t).J({range:o,H:!0},(a,l,u)=>{const[c,f,h]=a;c===e&&f===i&&(s=!0),u.done()}).next(()=>s)}function Ru(t){return Jr(t,"mutations")}function mh(t){return Jr(t,"documentMutations")}function u3(t){return Jr(t,"mutationQueues")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new sf(0)}static kn(){return new sf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Poe{constructor(e,n){this.referenceDelegate=e,this.serializer=n}allocateTargetId(e){return this.qn(e).next(n=>{const r=new sf(n.highestTargetId);return n.highestTargetId=r.next(),this.Qn(e,n).next(()=>n.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.qn(e).next(n=>_t.fromTimestamp(new Rt(n.lastRemoteSnapshotVersion.seconds,n.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.qn(e).next(n=>n.highestListenSequenceNumber)}setTargetsMetadata(e,n,r){return this.qn(e).next(i=>(i.highestListenSequenceNumber=n,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),n>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=n),this.Qn(e,i)))}addTargetData(e,n){return this.Kn(e,n).next(()=>this.qn(e).next(r=>(r.targetCount+=1,this.$n(n,r),this.Qn(e,r))))}updateTargetData(e,n){return this.Kn(e,n)}removeTargetData(e,n){return this.removeMatchingKeysForTargetId(e,n.targetId).next(()=>rh(e).delete(n.targetId)).next(()=>this.qn(e)).next(r=>(gt(r.targetCount>0),r.targetCount-=1,this.Qn(e,r)))}removeTargets(e,n,r){let i=0;const o=[];return rh(e).J((s,a)=>{const l=Cg(a);l.sequenceNumber<=n&&r.get(l.targetId)===null&&(i++,o.push(this.removeTargetData(e,l)))}).next(()=>Ie.waitFor(o)).next(()=>i)}forEachTarget(e,n){return rh(e).J((r,i)=>{const o=Cg(i);n(o)})}qn(e){return MD(e).get("targetGlobalKey").next(n=>(gt(n!==null),n))}Qn(e,n){return MD(e).put("targetGlobalKey",n)}Kn(e,n){return rh(e).put(i3(this.serializer,n))}$n(e,n){let r=!1;return e.targetId>n.highestTargetId&&(n.highestTargetId=e.targetId,r=!0),e.sequenceNumber>n.highestListenSequenceNumber&&(n.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.qn(e).next(n=>n.targetCount)}getTargetData(e,n){const r=ef(n),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return rh(e).J({range:i,index:"queryTargetsIndex"},(s,a,l)=>{const u=Cg(a);Oy(n,u.target)&&(o=u,l.done())}).next(()=>o)}addMatchingKeys(e,n,r){const i=[],o=Vu(e);return n.forEach(s=>{const a=Qi(s.path);i.push(o.put({targetId:r,path:a})),i.push(this.referenceDelegate.addReference(e,r,s))}),Ie.waitFor(i)}removeMatchingKeys(e,n,r){const i=Vu(e);return Ie.forEach(n,o=>{const s=Qi(o.path);return Ie.waitFor([i.delete([r,s]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,n){const r=Vu(e),i=IDBKeyRange.bound([n],[n+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,n){const r=IDBKeyRange.bound([n],[n+1],!1,!0),i=Vu(e);let o=zt();return i.J({range:r,H:!0},(s,a,l)=>{const u=La(s[1]),c=new et(u);o=o.add(c)}).next(()=>o)}containsKey(e,n){const r=Qi(n.path),i=IDBKeyRange.bound([r],[nV(r)],!1,!0);let o=0;return Vu(e).J({index:"documentTargetsIndex",H:!0,range:i},([s,a],l,u)=>{s!==0&&(o++,u.done())}).next(()=>o>0)}ot(e,n){return rh(e).get(n).next(r=>r?Cg(r):null)}}function rh(t){return Jr(t,"targets")}function MD(t){return Jr(t,"targetGlobal")}function Vu(t){return Jr(t,"targetDocuments")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD([t,e],[n,r]){const i=Mt(t,n);return i===0?Mt(e,r):i}class koe{constructor(e){this.Un=e,this.buffer=new Nn(BD),this.Wn=0}Gn(){return++this.Wn}zn(e){const n=[e,this.Gn()];if(this.buffer.size<this.Un)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();BD(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Aoe{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Hn(6e4)}stop(){this.jn&&(this.jn.cancel(),this.jn=null)}get started(){return this.jn!==null}Hn(e){Me("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Cc(n)?Me("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Sc(n)}await this.Hn(3e5)})}}class Roe{constructor(e,n){this.Jn=e,this.params=n}calculateTargetCount(e,n){return this.Jn.Yn(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return Ie.resolve(yo.oe);const r=new koe(n);return this.Jn.forEachTarget(e,i=>r.zn(i.sequenceNumber)).next(()=>this.Jn.Zn(e,i=>r.zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Jn.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Jn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(Me("LruGarbageCollector","Garbage collection skipped; disabled"),Ie.resolve($D)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Me("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),$D):this.Xn(e,n))}getCacheSize(e){return this.Jn.getCacheSize(e)}Xn(e,n){let r,i,o,s,a,l,u;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(Me("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,s=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(o=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),dh()<=Zt.DEBUG&&Me("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-c}ms
	Determined least recently used ${i} in `+(a-s)+`ms
	Removed ${o} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-c}ms`),Ie.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:f})))}}function Ooe(t,e){return new Roe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Noe{constructor(e,n){this.db=e,this.garbageCollector=Ooe(this,n)}Yn(e){const n=this.er(e);return this.db.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}er(e){let n=0;return this.Zn(e,r=>{n++}).next(()=>n)}forEachTarget(e,n){return this.db.getTargetCache().forEachTarget(e,n)}Zn(e,n){return this.tr(e,(r,i)=>n(i))}addReference(e,n,r){return bb(e,r)}removeReference(e,n,r){return bb(e,r)}removeTargets(e,n,r){return this.db.getTargetCache().removeTargets(e,n,r)}markPotentiallyOrphaned(e,n){return bb(e,n)}nr(e,n){return function(i,o){let s=!1;return u3(i).Y(a=>l3(i,a,o).next(l=>(l&&(s=!0),Ie.resolve(!l)))).next(()=>s)}(e,n)}removeOrphanedDocuments(e,n){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.tr(e,(s,a)=>{if(a<=n){const l=this.nr(e,s).next(u=>{if(!u)return o++,r.getEntry(e,s).next(()=>(r.removeEntry(s,_t.min()),Vu(e).delete(function(f){return[0,Qi(f.path)]}(s))))});i.push(l)}}).next(()=>Ie.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,n){return bb(e,n)}tr(e,n){const r=Vu(e);let i,o=yo.oe;return r.J({index:"documentTargetsIndex"},([s,a],{path:l,sequenceNumber:u})=>{s===0?(o!==yo.oe&&n(new et(La(i)),o),o=u,i=l):o=yo.oe}).next(()=>{o!==yo.oe&&n(new et(La(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function bb(t,e){return Vu(t).put(function(r,i){return{targetId:0,path:Qi(r.path),sequenceNumber:i}}(e,t.currentSequenceNumber))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c3{constructor(){this.changes=new Pc(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Kn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Ie.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Loe{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,n,r){return od(e).put(r)}removeEntry(e,n,r){return od(e).delete(function(o,s){const a=o.path.toArray();return[a.slice(0,a.length-2),a[a.length-2],cw(s),a[a.length-1]]}(n,r))}updateMetadata(e,n){return this.getMetadata(e).next(r=>(r.byteSize+=n,this.rr(e,r)))}getEntry(e,n){let r=Kn.newInvalidDocument(n);return od(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ng(n))},(i,o)=>{r=this.ir(n,o)}).next(()=>r)}sr(e,n){let r={size:0,document:Kn.newInvalidDocument(n)};return od(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ng(n))},(i,o)=>{r={document:this.ir(n,o),size:fw(o)}}).next(()=>r)}getEntries(e,n){let r=_o();return this._r(e,n,(i,o)=>{const s=this.ir(i,o);r=r.insert(i,s)}).next(()=>r)}ar(e,n){let r=_o(),i=new Fn(et.comparator);return this._r(e,n,(o,s)=>{const a=this.ir(o,s);r=r.insert(o,a),i=i.insert(o,fw(s))}).next(()=>({documents:r,ur:i}))}_r(e,n,r){if(n.isEmpty())return Ie.resolve();let i=new Nn(UD);n.forEach(l=>i=i.add(l));const o=IDBKeyRange.bound(ng(i.first()),ng(i.last())),s=i.getIterator();let a=s.getNext();return od(e).J({index:"documentKeyIndex",range:o},(l,u,c)=>{const f=et.fromSegments([...u.prefixPath,u.collectionGroup,u.documentId]);for(;a&&UD(a,f)<0;)r(a,null),a=s.getNext();a&&a.isEqual(f)&&(r(a,u),a=s.hasNext()?s.getNext():null),a?c.$(ng(a)):c.done()}).next(()=>{for(;a;)r(a,null),a=s.hasNext()?s.getNext():null})}getDocumentsMatchingQuery(e,n,r,i,o){const s=n.path,a=[s.popLast().toArray(),s.lastSegment(),cw(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],l=[s.popLast().toArray(),s.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return od(e).U(IDBKeyRange.bound(a,l,!0)).next(u=>{o==null||o.incrementDocumentReadCount(u.length);let c=_o();for(const f of u){const h=this.ir(et.fromSegments(f.prefixPath.concat(f.collectionGroup,f.documentId)),f);h.isFoundDocument()&&(Ly(n,h)||i.has(h.key))&&(c=c.insert(h.key,h))}return c})}getAllFromCollectionGroup(e,n,r,i){let o=_o();const s=VD(n,r),a=VD(n,Ho.max());return od(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,a,!0)},(l,u,c)=>{const f=this.ir(et.fromSegments(u.prefixPath.concat(u.collectionGroup,u.documentId)),u);o=o.insert(f.key,f),o.size===i&&c.done()}).next(()=>o)}newChangeBuffer(e){return new Doe(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(n=>n.byteSize)}getMetadata(e){return FD(e).get("remoteDocumentGlobalKey").next(n=>(gt(!!n),n))}rr(e,n){return FD(e).put("remoteDocumentGlobalKey",n)}ir(e,n){if(n){const r=yoe(this.serializer,n);if(!(r.isNoDocument()&&r.version.isEqual(_t.min())))return r}return Kn.newInvalidDocument(e)}}function d3(t){return new Loe(t)}class Doe extends c3{constructor(e,n){super(),this.cr=e,this.trackRemovals=n,this.lr=new Pc(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const n=[];let r=0,i=new Nn((o,s)=>Mt(o.canonicalString(),s.canonicalString()));return this.changes.forEach((o,s)=>{const a=this.lr.get(o);if(n.push(this.cr.removeEntry(e,o,a.readTime)),s.isValidDocument()){const l=SD(this.cr.serializer,s);i=i.add(o.path.popLast());const u=fw(l);r+=u-a.size,n.push(this.cr.addEntry(e,o,l))}else if(r-=a.size,this.trackRemovals){const l=SD(this.cr.serializer,s.convertToNoDocument(_t.min()));n.push(this.cr.addEntry(e,o,l))}}),i.forEach(o=>{n.push(this.cr.indexManager.addToCollectionParentIndex(e,o))}),n.push(this.cr.updateMetadata(e,r)),Ie.waitFor(n)}getFromCache(e,n){return this.cr.sr(e,n).next(r=>(this.lr.set(n,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,n){return this.cr.ar(e,n).next(({documents:r,ur:i})=>(i.forEach((o,s)=>{this.lr.set(o,{size:s,readTime:r.get(o).readTime})}),r))}}function FD(t){return Jr(t,"remoteDocumentGlobal")}function od(t){return Jr(t,"remoteDocumentsV14")}function ng(t){const e=t.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function VD(t,e){const n=e.documentKey.path.toArray();return[t,cw(e.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function UD(t,e){const n=t.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Mt(n[o],r[o]),i)return i;return i=Mt(n.length,r.length),i||(i=Mt(n[n.length-2],r[r.length-2]),i||Mt(n[n.length-1],r[r.length-1]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class joe{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f3{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Kg(r.mutation,i,bo.empty(),Rt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,zt()).next(()=>r))}getLocalViewOfDocuments(e,n,r=zt()){const i=Da();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Tg();return o.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=Da();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,zt()))}populateOverlays(e,n,r){const i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=_o();const s=Wg(),a=function(){return Wg()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ou)?o=o.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),Kg(c.mutation,u,c.mutation.getFieldMask(),Rt.now())):s.set(u.key,bo.empty())}),this.recalculateAndSaveOverlays(e,o).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var f;return a.set(u,new joe(c,(f=s.get(u))!==null&&f!==void 0?f:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Wg();let i=new Fn((s,a)=>s-a),o=zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||bo.empty();c=a.applyToLocalView(u,c),r.set(l,c);const f=(i.get(a.batchId)||zt()).add(l);i=i.insert(a.batchId,f)})}).next(()=>{const s=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,f=RV();c.forEach(h=>{if(!o.has(h)){const p=MV(n.get(h),r.get(h));p!==null&&f.set(h,p),o=o.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,f))}return Ie.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return et.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Tk(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{const s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):Ie.resolve(Da());let a=-1,l=o;return s.next(u=>Ie.forEach(u,(c,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),o.get(c)?Ie.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,o)).next(()=>this.computeViews(e,l,u,zt())).next(c=>({batchId:a,changes:AV(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new et(n)).next(r=>{let i=Tg();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const o=n.collectionGroup;let s=Tg();return this.indexManager.getCollectionParents(e,o).next(a=>Ie.forEach(a,l=>{const u=function(f,h){return new iu(h,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(o));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((f,h)=>{s=s.insert(f,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Kn.newInvalidDocument(c)))});let a=Tg();return s.forEach((l,u)=>{const c=o.get(l);c!==void 0&&Kg(c.mutation,u,bo.empty(),Rt.now()),Ly(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $oe{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return Ie.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Or(i.createTime)}}(n)),Ie.resolve()}getNamedQuery(e,n){return Ie.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Lk(i.bundledQuery),readTime:Or(i.readTime)}}(n)),Ie.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Moe{constructor(){this.overlays=new Fn(et.comparator),this.Ir=new Map}getOverlay(e,n){return Ie.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Da();return Ie.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),Ie.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),Ie.resolve()}getOverlaysForCollection(e,n,r){const i=Da(),o=n.length+1,s=new et(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===o&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Ie.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Fn((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=o.get(u.largestBatchId);c===null&&(c=Da(),o=o.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Da(),l=o.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Ie.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Rk(n,r));let o=this.Ir.get(n);o===void 0&&(o=zt(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Boe{constructor(){this.sessionToken=Er.EMPTY_BYTE_STRING}getSessionToken(e){return Ie.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,Ie.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $k{constructor(){this.Tr=new Nn(ri.Er),this.dr=new Nn(ri.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){const r=new ri(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ri(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){const n=new et(new rn([])),r=new ri(n,e),i=new ri(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const n=new et(new rn([])),r=new ri(n,e),i=new ri(n,e+1);let o=zt();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){const n=new ri(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class ri{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return et.comparator(e.key,n.key)||Mt(e.wr,n.wr)}static Ar(e,n){return Mt(e.wr,n.wr)||et.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Foe{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Nn(ri.Er)}checkEmpty(e){return Ie.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new kk(o,n,r,i);this.mutationQueue.push(s);for(const a of i)this.br=this.br.add(new ri(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return Ie.resolve(s)}lookupMutationBatch(e,n){return Ie.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.vr(r),o=i<0?0:i;return Ie.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return Ie.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Ie.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new ri(n,0),i=new ri(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{const a=this.Dr(s.wr);o.push(a)}),Ie.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Nn(Mt);return n.forEach(i=>{const o=new ri(i,0),s=new ri(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),Ie.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let o=r;et.isDocumentKey(o)||(o=o.child(""));const s=new ri(new et(o),0);let a=new Nn(Mt);return this.br.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.wr)),!0)},s),Ie.resolve(this.Cr(a))}Cr(e){const n=[];return e.forEach(r=>{const i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){gt(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return Ie.forEach(n.mutations,i=>{const o=new ri(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){const r=new ri(n,0),i=this.br.firstAfterOrEqual(r);return Ie.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Ie.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Voe{constructor(e){this.Mr=e,this.docs=function(){return new Fn(et.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return Ie.resolve(r?r.document.mutableCopy():Kn.newInvalidDocument(n))}getEntries(e,n){let r=_o();return n.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Kn.newInvalidDocument(i))}),Ie.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=_o();const s=n.path,a=new et(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||_k(iV(c),r)<=0||(i.has(c.key)||Ly(n,c))&&(o=o.insert(c.key,c.mutableCopy()))}return Ie.resolve(o)}getAllFromCollectionGroup(e,n,r,i){dt()}Or(e,n){return Ie.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Uoe(this)}getSize(e){return Ie.resolve(this.size)}}class Uoe extends c3{constructor(e){super(),this.cr=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),Ie.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zoe{constructor(e){this.persistence=e,this.Nr=new Pc(n=>ef(n),Oy),this.lastRemoteSnapshotVersion=_t.min(),this.highestTargetId=0,this.Lr=0,this.Br=new $k,this.targetCount=0,this.kr=sf.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),Ie.resolve()}getLastRemoteSnapshotVersion(e){return Ie.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Ie.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Ie.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),Ie.resolve()}Kn(e){this.Nr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.kr=new sf(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,Ie.resolve()}updateTargetData(e,n){return this.Kn(n),Ie.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,Ie.resolve()}removeTargets(e,n,r){let i=0;const o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),Ie.waitFor(o).next(()=>i)}getTargetCount(e){return Ie.resolve(this.targetCount)}getTargetData(e,n){const r=this.Nr.get(n)||null;return Ie.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),Ie.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);const i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),Ie.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),Ie.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Br.yr(n);return Ie.resolve(r)}containsKey(e,n){return Ie.resolve(this.Br.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h3{constructor(e,n){this.qr={},this.overlays={},this.Qr=new yo(0),this.Kr=!1,this.Kr=!0,this.$r=new Boe,this.referenceDelegate=e(this),this.Ur=new zoe(this),this.indexManager=new Soe,this.remoteDocumentCache=function(i){return new Voe(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new r3(n),this.Gr=new $oe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Moe,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Foe(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){Me("MemoryPersistence","Starting transaction:",e);const i=new qoe(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return Ie.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}}class qoe extends sV{constructor(e){super(),this.currentSequenceNumber=e}}class L1{constructor(e){this.persistence=e,this.Jr=new $k,this.Yr=null}static Zr(e){return new L1(e)}get Xr(){if(this.Yr)return this.Yr;throw dt()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),Ie.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),Ie.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),Ie.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ie.forEach(this.Xr,r=>{const i=et.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,_t.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return Ie.or([()=>Ie.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hoe{constructor(e){this.serializer=e}O(e,n,r,i){const o=new C1("createOrUpgrade",n);r<1&&i>=1&&(function(l){l.createObjectStore("owner")}(e),function(l){l.createObjectStore("mutationQueues",{keyPath:"userId"}),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nD,{unique:!0}),l.createObjectStore("documentMutations")}(e),zD(e),function(l){l.createObjectStore("remoteDocuments")}(e));let s=Ie.resolve();return r<3&&i>=3&&(r!==0&&(function(l){l.deleteObjectStore("targetDocuments"),l.deleteObjectStore("targets"),l.deleteObjectStore("targetGlobal")}(e),zD(e)),s=s.next(()=>function(l){const u=l.store("targetGlobal"),c={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_t.min().toTimestamp(),targetCount:0};return u.put("targetGlobalKey",c)}(o))),r<4&&i>=4&&(r!==0&&(s=s.next(()=>function(l,u){return u.store("mutations").U().next(c=>{l.deleteObjectStore("mutations"),l.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",nD,{unique:!0});const f=u.store("mutations"),h=c.map(p=>f.put(p));return Ie.waitFor(h)})}(e,o))),s=s.next(()=>{(function(l){l.createObjectStore("clientMetadata",{keyPath:"clientId"})})(e)})),r<5&&i>=5&&(s=s.next(()=>this.ni(o))),r<6&&i>=6&&(s=s.next(()=>(function(l){l.createObjectStore("remoteDocumentGlobal")}(e),this.ri(o)))),r<7&&i>=7&&(s=s.next(()=>this.ii(o))),r<8&&i>=8&&(s=s.next(()=>this.si(e,o))),r<9&&i>=9&&(s=s.next(()=>{(function(l){l.objectStoreNames.contains("remoteDocumentChanges")&&l.deleteObjectStore("remoteDocumentChanges")})(e)})),r<10&&i>=10&&(s=s.next(()=>this.oi(o))),r<11&&i>=11&&(s=s.next(()=>{(function(l){l.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(l){l.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(s=s.next(()=>{(function(l){const u=l.createObjectStore("documentOverlays",{keyPath:Tie});u.createIndex("collectionPathOverlayIndex",Sie,{unique:!1}),u.createIndex("collectionGroupOverlayIndex",Cie,{unique:!1})})(e)})),r<13&&i>=13&&(s=s.next(()=>function(l){const u=l.createObjectStore("remoteDocumentsV14",{keyPath:pie});u.createIndex("documentKeyIndex",mie),u.createIndex("collectionGroupIndex",gie)}(e)).next(()=>this._i(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(s=s.next(()=>this.ai(e,o))),r<15&&i>=15&&(s=s.next(()=>function(l){l.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),l.createObjectStore("indexState",{keyPath:wie}).createIndex("sequenceNumberIndex",xie,{unique:!1}),l.createObjectStore("indexEntries",{keyPath:Eie}).createIndex("documentKeyIndex",Iie,{unique:!1})}(e))),r<16&&i>=16&&(s=s.next(()=>{n.objectStore("indexState").clear()}).next(()=>{n.objectStore("indexEntries").clear()})),r<17&&i>=17&&(s=s.next(()=>{(function(l){l.createObjectStore("globals",{keyPath:"name"})})(e)})),s}ri(e){let n=0;return e.store("remoteDocuments").J((r,i)=>{n+=fw(i)}).next(()=>{const r={byteSize:n};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}ni(e){const n=e.store("mutationQueues"),r=e.store("mutations");return n.U().next(i=>Ie.forEach(i,o=>{const s=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.U("userMutationsIndex",s).next(a=>Ie.forEach(a,l=>{gt(l.userId===o.userId);const u=bd(this.serializer,l);return a3(e,o.userId,u).next(()=>{})}))}))}ii(e){const n=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.J((s,a)=>{const l=new rn(s),u=function(f){return[0,Qi(f)]}(l);o.push(n.get(u).next(c=>c?Ie.resolve():(f=>n.put({targetId:0,path:Qi(f),sequenceNumber:i.highestListenSequenceNumber}))(l)))}).next(()=>Ie.waitFor(o))})}si(e,n){e.createObjectStore("collectionParents",{keyPath:_ie});const r=n.store("collectionParents"),i=new jk,o=s=>{if(i.add(s)){const a=s.lastSegment(),l=s.popLast();return r.put({collectionId:a,parent:Qi(l)})}};return n.store("remoteDocuments").J({H:!0},(s,a)=>{const l=new rn(s);return o(l.popLast())}).next(()=>n.store("documentMutations").J({H:!0},([s,a,l],u)=>{const c=La(a);return o(c.popLast())}))}oi(e){const n=e.store("targets");return n.J((r,i)=>{const o=Cg(i),s=i3(this.serializer,o);return n.put(s)})}_i(e,n){const r=n.store("remoteDocuments"),i=[];return r.J((o,s)=>{const a=n.store("remoteDocumentsV14"),l=function(f){return f.document?new et(rn.fromString(f.document.name).popFirst(5)):f.noDocument?et.fromSegments(f.noDocument.path):f.unknownDocument?et.fromSegments(f.unknownDocument.path):dt()}(s).path.toArray(),u={prefixPath:l.slice(0,l.length-2),collectionGroup:l[l.length-2],documentId:l[l.length-1],readTime:s.readTime||[0,0],unknownDocument:s.unknownDocument,noDocument:s.noDocument,document:s.document,hasCommittedMutations:!!s.hasCommittedMutations};i.push(a.put(u))}).next(()=>Ie.waitFor(i))}ai(e,n){const r=n.store("mutations"),i=d3(this.serializer),o=new h3(L1.Zr,this.serializer.ct);return r.U().next(s=>{const a=new Map;return s.forEach(l=>{var u;let c=(u=a.get(l.userId))!==null&&u!==void 0?u:zt();bd(this.serializer,l).keys().forEach(f=>c=c.add(f)),a.set(l.userId,c)}),Ie.forEach(a,(l,u)=>{const c=new oi(u),f=O1.lt(this.serializer,c),h=o.getIndexManager(c),p=N1.lt(c,this.serializer,h,o.referenceDelegate);return new f3(i,p,f,h).recalculateAndSaveOverlaysForDocumentKeys(new NS(n,yo.oe),l).next()})})}}function zD(t){t.createObjectStore("targetDocuments",{keyPath:yie}).createIndex("documentTargetsIndex",bie,{unique:!0}),t.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",vie,{unique:!0}),t.createObjectStore("targetGlobal")}const qI="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Mk{constructor(e,n,r,i,o,s,a,l,u,c,f=17){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.ui=o,this.window=s,this.document=a,this.ci=u,this.li=c,this.hi=f,this.Qr=null,this.Kr=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Pi=null,this.inForeground=!1,this.Ii=null,this.Ti=null,this.Ei=Number.NEGATIVE_INFINITY,this.di=h=>Promise.resolve(),!Mk.D())throw new je(ke.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Noe(this,i),this.Ai=n+"main",this.serializer=new r3(l),this.Ri=new Va(this.Ai,this.hi,new Hoe(this.serializer)),this.$r=new _oe,this.Ur=new Poe(this.referenceDelegate,this.serializer),this.remoteDocumentCache=d3(this.serializer),this.Gr=new boe,this.window&&this.window.localStorage?this.Vi=this.window.localStorage:(this.Vi=null,c===!1&&Rr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.mi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new je(ke.FAILED_PRECONDITION,qI);return this.fi(),this.gi(),this.pi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Ur.getHighestSequenceNumber(e))}).then(e=>{this.Qr=new yo(e,this.ci)}).then(()=>{this.Kr=!0}).catch(e=>(this.Ri&&this.Ri.close(),Promise.reject(e)))}yi(e){return this.di=async n=>{if(this.started)return e(n)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.Ri.L(async n=>{n.newVersion===null&&await e()})}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.ui.enqueueAndForget(async()=>{this.started&&await this.mi()}))}mi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>_b(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.wi(e).next(n=>{n||(this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)))})}).next(()=>this.Si(e)).next(n=>this.isPrimary&&!n?this.bi(e).next(()=>!1):!!n&&this.Di(e).next(()=>!0))).catch(e=>{if(Cc(e))return Me("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Me("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.ui.enqueueRetryable(()=>this.di(e)),this.isPrimary=e})}wi(e){return rg(e).get("owner").next(n=>Ie.resolve(this.vi(n)))}Ci(e){return _b(e).delete(this.clientId)}async Fi(){if(this.isPrimary&&!this.Mi(this.Ei,18e5)){this.Ei=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",n=>{const r=Jr(n,"clientMetadata");return r.U().next(i=>{const o=this.xi(i,18e5),s=i.filter(a=>o.indexOf(a)===-1);return Ie.forEach(s,a=>r.delete(a.clientId)).next(()=>s)})}).catch(()=>[]);if(this.Vi)for(const n of e)this.Vi.removeItem(this.Oi(n.clientId))}}pi(){this.Ti=this.ui.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.mi().then(()=>this.Fi()).then(()=>this.pi()))}vi(e){return!!e&&e.ownerId===this.clientId}Si(e){return this.li?Ie.resolve(!0):rg(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)){if(this.vi(n)&&this.networkEnabled)return!0;if(!this.vi(n)){if(!n.allowTabSynchronization)throw new je(ke.FAILED_PRECONDITION,qI);return!1}}return!(!this.networkEnabled||!this.inForeground)||_b(e).U().next(r=>this.xi(r,5e3).find(i=>{if(this.clientId!==i.clientId){const o=!this.networkEnabled&&i.networkEnabled,s=!this.inForeground&&i.inForeground,a=this.networkEnabled===i.networkEnabled;if(o||s&&a)return!0}return!1})===void 0)}).next(n=>(this.isPrimary!==n&&Me("IndexedDbPersistence",`Client ${n?"is":"is not"} eligible for a primary lease.`),n))}async shutdown(){this.Kr=!1,this.Li(),this.Ti&&(this.Ti.cancel(),this.Ti=null),this.Bi(),this.ki(),await this.Ri.runTransaction("shutdown","readwrite",["owner","clientMetadata"],e=>{const n=new NS(e,yo.oe);return this.bi(n).next(()=>this.Ci(n))}),this.Ri.close(),this.qi()}xi(e,n){return e.filter(r=>this.Mi(r.updateTimeMs,n)&&!this.Ni(r.clientId))}Qi(){return this.runTransaction("getActiveClients","readonly",e=>_b(e).U().next(n=>this.xi(n,18e5).map(r=>r.clientId)))}get started(){return this.Kr}getGlobalsCache(){return this.$r}getMutationQueue(e,n){return N1.lt(e,this.serializer,n,this.referenceDelegate)}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Coe(e,this.serializer.ct.databaseId)}getDocumentOverlayCache(e){return O1.lt(this.serializer,e)}getBundleCache(){return this.Gr}runTransaction(e,n,r){Me("IndexedDbPersistence","Starting transaction:",e);const i=n==="readonly"?"readonly":"readwrite",o=function(l){return l===17?Aie:l===16?kie:l===15?xk:l===14?fV:l===13?dV:l===12?Pie:l===11?cV:void dt()}(this.hi);let s;return this.Ri.runTransaction(e,i,o,a=>(s=new NS(a,this.Qr?this.Qr.next():yo.oe),n==="readwrite-primary"?this.wi(s).next(l=>!!l||this.Si(s)).next(l=>{if(!l)throw Rr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.ui.enqueueRetryable(()=>this.di(!1)),new je(ke.FAILED_PRECONDITION,oV);return r(s)}).next(l=>this.Di(s).next(()=>l)):this.Ki(s).next(()=>r(s)))).then(a=>(s.raiseOnCommittedEvent(),a))}Ki(e){return rg(e).get("owner").next(n=>{if(n!==null&&this.Mi(n.leaseTimestampMs,5e3)&&!this.Ni(n.ownerId)&&!this.vi(n)&&!(this.li||this.allowTabSynchronization&&n.allowTabSynchronization))throw new je(ke.FAILED_PRECONDITION,qI)})}Di(e){const n={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rg(e).put("owner",n)}static D(){return Va.D()}bi(e){const n=rg(e);return n.get("owner").next(r=>this.vi(r)?(Me("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):Ie.resolve())}Mi(e,n){const r=Date.now();return!(e<r-n)&&(!(e>r)||(Rr(`Detected an update time that is in the future: ${e} > ${r}`),!1))}fi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ii=()=>{this.ui.enqueueAndForget(()=>(this.inForeground=this.document.visibilityState==="visible",this.mi()))},this.document.addEventListener("visibilitychange",this.Ii),this.inForeground=this.document.visibilityState==="visible")}Bi(){this.Ii&&(this.document.removeEventListener("visibilitychange",this.Ii),this.Ii=null)}gi(){var e;typeof((e=this.window)===null||e===void 0?void 0:e.addEventListener)=="function"&&(this.Pi=()=>{this.Li();const n=/(?:Version|Mobile)\/1[456]/;Z4()&&(navigator.appVersion.match(n)||navigator.userAgent.match(n))&&this.ui.enterRestrictedMode(!0),this.ui.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Pi))}ki(){this.Pi&&(this.window.removeEventListener("pagehide",this.Pi),this.Pi=null)}Ni(e){var n;try{const r=((n=this.Vi)===null||n===void 0?void 0:n.getItem(this.Oi(e)))!==null;return Me("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return Rr("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Li(){if(this.Vi)try{this.Vi.setItem(this.Oi(this.clientId),String(Date.now()))}catch(e){Rr("Failed to set zombie client id.",e)}}qi(){if(this.Vi)try{this.Vi.removeItem(this.Oi(this.clientId))}catch{}}Oi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rg(t){return Jr(t,"owner")}function _b(t){return Jr(t,"clientMetadata")}function Bk(t,e){let n=t.projectId;return t.isDefaultDatabase||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fk{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=zt(),i=zt();for(const o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new Fk(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Woe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p3{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return Z4()?8:aV(Xr())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){const o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;const s=new Woe;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(dh()<=Zt.DEBUG&&Me("QueryEngine","SDK will not create cache indexes for query:",fh(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Ie.resolve()):(dh()<=Zt.DEBUG&&Me("QueryEngine","Query:",fh(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(dh()<=Zt.DEBUG&&Me("QueryEngine","The SDK decides to create cache indexes for query:",fh(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Yi(n))):Ie.resolve())}Yi(e,n){if(mD(n))return Ie.resolve(null);let r=Yi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=uw(n,null,"F"),r=Yi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const s=zt(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.ts(n,a);return this.ns(n,u,s,l.readTime)?this.Yi(e,uw(n,null,"F")):this.rs(e,u,n,l)}))})))}Zi(e,n,r,i){return mD(n)||i.isEqual(_t.min())?Ie.resolve(null):this.Ji.getDocuments(e,r).next(o=>{const s=this.ts(n,o);return this.ns(n,s,r,i)?Ie.resolve(null):(dh()<=Zt.DEBUG&&Me("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),fh(n)),this.rs(e,s,n,rV(i,-1)).next(a=>a))})}ts(e,n){let r=new Nn(PV(e));return n.forEach((i,o)=>{Ly(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return dh()<=Zt.DEBUG&&Me("QueryEngine","Using full collection scan to execute query:",fh(n)),this.Ji.getDocumentsMatchingQuery(e,n,Ho.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Koe{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Fn(Mt),this._s=new Pc(o=>ef(o),Oy),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f3(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}}function m3(t,e,n,r){return new Koe(t,e,n,r)}async function g3(t,e){const n=rt(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{const s=[],a=[];let l=zt();for(const u of i){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of o){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({hs:u,removedBatchIds:s,addedBatchIds:a}))})})}function Goe(t,e){const n=rt(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const f=u.batch,h=f.keys();let p=Ie.resolve();return h.forEach(g=>{p=p.next(()=>c.getEntry(l,g)).next(_=>{const w=u.docVersions.get(g);gt(w!==null),_.version.compareTo(w)<0&&(f.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=zt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function v3(t){const e=rt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Qoe(t,e){const n=rt(t),r=e.snapshotVersion;let i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;const a=[];e.targetChanges.forEach((c,f)=>{const h=i.get(f);if(!h)return;a.push(n.Ur.removeMatchingKeys(o,c.removedDocuments,f).next(()=>n.Ur.addMatchingKeys(o,c.addedDocuments,f)));let p=h.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(f)!==null?p=p.withResumeToken(Er.EMPTY_BYTE_STRING,_t.min()).withLastLimboFreeSnapshotVersion(_t.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(f,p),function(_,w,b){return _.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:b.addedDocuments.size+b.modifiedDocuments.size+b.removedDocuments.size>0}(h,p,c)&&a.push(n.Ur.updateTargetData(o,p))});let l=_o(),u=zt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,c))}),a.push(y3(o,s,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!r.isEqual(_t.min())){const c=n.Ur.getLastRemoteSnapshotVersion(o).next(f=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(c)}return Ie.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,l,u)).next(()=>l)}).then(o=>(n.os=i,o))}function y3(t,e,n){let r=zt(),i=zt();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=_o();return n.forEach((a,l)=>{const u=o.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(_t.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):Me("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Ps:s,Is:i}})}function Yoe(t,e){const n=rt(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ip(t,e){const n=rt(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,Ie.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new Nl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}async function Tp(t,e,n){const r=rt(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i))}catch(s){if(!Cc(s))throw s;Me("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)}function hw(t,e,n){const r=rt(t);let i=_t.min(),o=zt();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const f=rt(l),h=f._s.get(c);return h!==void 0?Ie.resolve(f.os.get(h)):f.Ur.getTargetData(u,c)}(r,s,Yi(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(l=>{o=l})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:_t.min(),n?o:zt())).next(a=>(w3(r,CV(e),a),{documents:a,Ts:o})))}function b3(t,e){const n=rt(t),r=rt(n.Ur),i=n.os.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",o=>r.ot(o,e).next(s=>s?s.target:null))}function _3(t,e){const n=rt(t),r=n.us.get(e)||_t.min();return n.persistence.runTransaction("Get new document changes","readonly",i=>n.cs.getAllFromCollectionGroup(i,e,rV(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(w3(n,e,i),i))}function w3(t,e,n){let r=t.us.get(e)||_t.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}async function Xoe(t,e,n,r){const i=rt(t);let o=zt(),s=_o();for(const u of n){const c=e.Es(u.metadata.name);u.document&&(o=o.add(c));const f=e.ds(u);f.setReadTime(e.As(u.metadata.readTime)),s=s.insert(c,f)}const a=i.cs.newChangeBuffer({trackRemovals:!0}),l=await Ip(i,function(c){return Yi(tm(rn.fromString(`__bundle__/docs/${c}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",u=>y3(u,a,s).next(c=>(a.apply(u),c)).next(c=>i.Ur.removeMatchingKeysForTargetId(u,l.targetId).next(()=>i.Ur.addMatchingKeys(u,o,l.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(u,c.Ps,c.Is)).next(()=>c.Ps)))}async function Joe(t,e,n=zt()){const r=await Ip(t,Yi(Lk(e.bundledQuery))),i=rt(t);return i.persistence.runTransaction("Save named query","readwrite",o=>{const s=Or(e.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Gr.saveNamedQuery(o,e);const a=r.withResumeToken(Er.EMPTY_BYTE_STRING,s);return i.os=i.os.insert(a.targetId,a),i.Ur.updateTargetData(o,a).next(()=>i.Ur.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Ur.addMatchingKeys(o,n,r.targetId)).next(()=>i.Gr.saveNamedQuery(o,e))})}function qD(t,e){return`firestore_clients_${t}_${e}`}function HD(t,e,n){let r=`firestore_mutations_${t}_${n}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function HI(t,e){return`firestore_targets_${t}_${e}`}class pw{constructor(e,n,r,i){this.user=e,this.batchId=n,this.state=r,this.error=i}static Rs(e,n,r){const i=JSON.parse(r);let o,s=typeof i=="object"&&["pending","acknowledged","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return s&&i.error&&(s=typeof i.error.message=="string"&&typeof i.error.code=="string",s&&(o=new je(i.error.code,i.error.message))),s?new pw(e,n,i.state,o):(Rr("SharedClientState",`Failed to parse mutation state for ID '${n}': ${r}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Gg{constructor(e,n,r){this.targetId=e,this.state=n,this.error=r}static Rs(e,n){const r=JSON.parse(n);let i,o=typeof r=="object"&&["not-current","current","rejected"].indexOf(r.state)!==-1&&(r.error===void 0||typeof r.error=="object");return o&&r.error&&(o=typeof r.error.message=="string"&&typeof r.error.code=="string",o&&(i=new je(r.error.code,r.error.message))),o?new Gg(e,r.state,i):(Rr("SharedClientState",`Failed to parse target state for ID '${e}': ${n}`),null)}Vs(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mw{constructor(e,n){this.clientId=e,this.activeTargetIds=n}static Rs(e,n){const r=JSON.parse(n);let i=typeof r=="object"&&r.activeTargetIds instanceof Array,o=Sk();for(let s=0;i&&s<r.activeTargetIds.length;++s)i=lV(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new mw(e,o):(Rr("SharedClientState",`Failed to parse client data for instance '${e}': ${n}`),null)}}class Vk{constructor(e,n){this.clientId=e,this.onlineState=n}static Rs(e){const n=JSON.parse(e);return typeof n=="object"&&["Unknown","Online","Offline"].indexOf(n.onlineState)!==-1&&typeof n.clientId=="string"?new Vk(n.clientId,n.onlineState):(Rr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class KS{constructor(){this.activeTargetIds=Sk()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class WI{constructor(e,n,r,i,o){this.window=e,this.ui=n,this.persistenceKey=r,this.ps=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.ys=this.ws.bind(this),this.Ss=new Fn(Mt),this.started=!1,this.bs=[];const s=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.Ds=qD(this.persistenceKey,this.ps),this.vs=function(l){return`firestore_sequence_number_${l}`}(this.persistenceKey),this.Ss=this.Ss.insert(this.ps,new KS),this.Cs=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Fs=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Ms=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.xs=function(l){return`firestore_online_state_${l}`}(this.persistenceKey),this.Os=function(l){return`firestore_bundle_loaded_v2_${l}`}(this.persistenceKey),this.window.addEventListener("storage",this.ys)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Qi();for(const r of e){if(r===this.ps)continue;const i=this.getItem(qD(this.persistenceKey,r));if(i){const o=mw.Rs(r,i);o&&(this.Ss=this.Ss.insert(o.clientId,o))}}this.Ns();const n=this.storage.getItem(this.xs);if(n){const r=this.Ls(n);r&&this.Bs(r)}for(const r of this.bs)this.ws(r);this.bs=[],this.window.addEventListener("pagehide",()=>this.shutdown()),this.started=!0}writeSequenceNumber(e){this.setItem(this.vs,JSON.stringify(e))}getAllActiveQueryTargets(){return this.ks(this.Ss)}isActiveQueryTarget(e){let n=!1;return this.Ss.forEach((r,i)=>{i.activeTargetIds.has(e)&&(n=!0)}),n}addPendingMutation(e){this.qs(e,"pending")}updateMutationState(e,n,r){this.qs(e,n,r),this.Qs(e)}addLocalQueryTarget(e,n=!0){let r="not-current";if(this.isActiveQueryTarget(e)){const i=this.storage.getItem(HI(this.persistenceKey,e));if(i){const o=Gg.Rs(e,i);o&&(r=o.state)}}return n&&this.Ks.fs(e),this.Ns(),r}removeLocalQueryTarget(e){this.Ks.gs(e),this.Ns()}isLocalQueryTarget(e){return this.Ks.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(HI(this.persistenceKey,e))}updateQueryState(e,n,r){this.$s(e,n,r)}handleUserChange(e,n,r){n.forEach(i=>{this.Qs(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.Us(e)}notifyBundleLoaded(e){this.Ws(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.ys),this.removeItem(this.Ds),this.started=!1)}getItem(e){const n=this.storage.getItem(e);return Me("SharedClientState","READ",e,n),n}setItem(e,n){Me("SharedClientState","SET",e,n),this.storage.setItem(e,n)}removeItem(e){Me("SharedClientState","REMOVE",e),this.storage.removeItem(e)}ws(e){const n=e;if(n.storageArea===this.storage){if(Me("SharedClientState","EVENT",n.key,n.newValue),n.key===this.Ds)return void Rr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.ui.enqueueRetryable(async()=>{if(this.started){if(n.key!==null){if(this.Cs.test(n.key)){if(n.newValue==null){const r=this.Gs(n.key);return this.zs(r,null)}{const r=this.js(n.key,n.newValue);if(r)return this.zs(r.clientId,r)}}else if(this.Fs.test(n.key)){if(n.newValue!==null){const r=this.Hs(n.key,n.newValue);if(r)return this.Js(r)}}else if(this.Ms.test(n.key)){if(n.newValue!==null){const r=this.Ys(n.key,n.newValue);if(r)return this.Zs(r)}}else if(n.key===this.xs){if(n.newValue!==null){const r=this.Ls(n.newValue);if(r)return this.Bs(r)}}else if(n.key===this.vs){const r=function(o){let s=yo.oe;if(o!=null)try{const a=JSON.parse(o);gt(typeof a=="number"),s=a}catch(a){Rr("SharedClientState","Failed to read sequence number from WebStorage",a)}return s}(n.newValue);r!==yo.oe&&this.sequenceNumberHandler(r)}else if(n.key===this.Os){const r=this.Xs(n.newValue);await Promise.all(r.map(i=>this.syncEngine.eo(i)))}}}else this.bs.push(n)})}}get Ks(){return this.Ss.get(this.ps)}Ns(){this.setItem(this.Ds,this.Ks.Vs())}qs(e,n,r){const i=new pw(this.currentUser,e,n,r),o=HD(this.persistenceKey,this.currentUser,e);this.setItem(o,i.Vs())}Qs(e){const n=HD(this.persistenceKey,this.currentUser,e);this.removeItem(n)}Us(e){const n={clientId:this.ps,onlineState:e};this.storage.setItem(this.xs,JSON.stringify(n))}$s(e,n,r){const i=HI(this.persistenceKey,e),o=new Gg(e,n,r);this.setItem(i,o.Vs())}Ws(e){const n=JSON.stringify(Array.from(e));this.setItem(this.Os,n)}Gs(e){const n=this.Cs.exec(e);return n?n[1]:null}js(e,n){const r=this.Gs(e);return mw.Rs(r,n)}Hs(e,n){const r=this.Fs.exec(e),i=Number(r[1]),o=r[2]!==void 0?r[2]:null;return pw.Rs(new oi(o),i,n)}Ys(e,n){const r=this.Ms.exec(e),i=Number(r[1]);return Gg.Rs(i,n)}Ls(e){return Vk.Rs(e)}Xs(e){return JSON.parse(e)}async Js(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.no(e.batchId,e.state,e.error);Me("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Zs(e){return this.syncEngine.ro(e.targetId,e.state,e.error)}zs(e,n){const r=n?this.Ss.insert(e,n):this.Ss.remove(e),i=this.ks(this.Ss),o=this.ks(r),s=[],a=[];return o.forEach(l=>{i.has(l)||s.push(l)}),i.forEach(l=>{o.has(l)||a.push(l)}),this.syncEngine.io(s,a).then(()=>{this.Ss=r})}Bs(e){this.Ss.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}ks(e){let n=Sk();return e.forEach((r,i)=>{n=n.unionWith(i.activeTargetIds)}),n}}class x3{constructor(){this.so=new KS,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new KS,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zoe{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WD{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){Me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){Me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wb=null;function KI(){return wb===null?wb=function(){return 268435456+Math.round(2147483648*Math.random())}():wb++,"0x"+wb.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ese={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tse{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ri="WebChannelConnection";class nse extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){const a=KI(),l=this.xo(n,r.toUriEncodedString());Me("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,o,s),this.No(n,l,u,i).then(c=>(Me("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ka("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+em}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){const i=ese[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){const o=KI();return new Promise((s,a)=>{const l=new Q5;l.setWithCredentials(!0),l.listenOnce(Y5.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case t_.NO_ERROR:const c=l.getResponseJson();Me(Ri,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(c)),s(c);break;case t_.TIMEOUT:Me(Ri,`RPC '${e}' ${o} timed out`),a(new je(ke.DEADLINE_EXCEEDED,"Request time out"));break;case t_.HTTP_ERROR:const f=l.getStatus();if(Me(Ri,`RPC '${e}' ${o} failed with status:`,f,"response text:",l.getResponseText()),f>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const g=function(w){const b=w.toLowerCase().replace(/_/g,"-");return Object.values(ke).indexOf(b)>=0?b:ke.UNKNOWN}(p.status);a(new je(g,p.message))}else a(new je(ke.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new je(ke.UNAVAILABLE,"Connection failed."));break;default:dt()}}finally{Me(Ri,`RPC '${e}' ${o} completed.`)}});const u=JSON.stringify(i);Me(Ri,`RPC '${e}' ${o} sending request:`,i),l.send(n,"POST",u,r,15)})}Bo(e,n,r){const i=KI(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Z5(),a=J5(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=o.join("");Me(Ri,`Creating RPC '${e}' stream ${i}: ${c}`,l);const f=s.createWebChannel(c,l);let h=!1,p=!1;const g=new tse({Io:w=>{p?Me(Ri,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(Me(Ri,`Opening RPC '${e}' stream ${i} transport.`),f.open(),h=!0),Me(Ri,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),_=(w,b,v)=>{w.listen(b,y=>{try{v(y)}catch(x){setTimeout(()=>{throw x},0)}})};return _(f,Ig.EventType.OPEN,()=>{p||(Me(Ri,`RPC '${e}' stream ${i} transport opened.`),g.yo())}),_(f,Ig.EventType.CLOSE,()=>{p||(p=!0,Me(Ri,`RPC '${e}' stream ${i} transport closed`),g.So())}),_(f,Ig.EventType.ERROR,w=>{p||(p=!0,Ka(Ri,`RPC '${e}' stream ${i} transport errored:`,w),g.So(new je(ke.UNAVAILABLE,"The operation could not be completed")))}),_(f,Ig.EventType.MESSAGE,w=>{var b;if(!p){const v=w.data[0];gt(!!v);const y=v,x=y.error||((b=y[0])===null||b===void 0?void 0:b.error);if(x){Me(Ri,`RPC '${e}' stream ${i} received error:`,x);const I=x.status;let O=function(k){const P=$r[k];if(P!==void 0)return VV(P)}(I),S=x.message;O===void 0&&(O=ke.INTERNAL,S="Unknown error status: "+I+" with message "+x.message),p=!0,g.So(new je(O,S)),f.close()}else Me(Ri,`RPC '${e}' stream ${i} received:`,v),g.bo(v)}}),_(a,X5.STAT_EVENT,w=>{w.stat===RS.PROXY?Me(Ri,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===RS.NOPROXY&&Me(Ri,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{g.wo()},0),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(){return typeof window<"u"?window:null}function l_(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function My(t){return new loe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uk{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&Me("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(e,n,r,i,o,s,a,l){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Uk(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,n){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===ke.RESOURCE_EXHAUSTED?(Rr(n.toString()),Rr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===ke.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(n)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{const i=new je(ke.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){const r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return Me("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(Me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class rse extends I3{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const n=doe(this.serializer,e),r=function(o){if(!("targetChange"in o))return _t.min();const s=o.targetChange;return s.targetIds&&s.targetIds.length?_t.min():s.readTime?Or(s.readTime):_t.min()}(e);return this.listener.d_(n,r)}A_(e){const n={};n.database=US(this.serializer),n.addTarget=function(o,s){let a;const l=s.target;if(a=aw(l)?{documents:XV(o,l)}:{query:JV(o,l)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=HV(o,s.resumeToken);const u=FS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(_t.min())>0){a.readTime=Ep(o,s.snapshotVersion.toTimestamp());const u=FS(o,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=hoe(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){const n={};n.database=US(this.serializer),n.removeTarget=e,this.a_(n)}}class ise extends I3{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return gt(!!e.streamToken),this.lastStreamToken=e.streamToken,gt(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){gt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const n=foe(e.writeResults,e.commitTime),r=Or(e.commitTime);return this.listener.g_(r,n)}p_(){const e={};e.database=US(this.serializer),this.a_(e)}m_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Uv(this.serializer,r))};this.a_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ose extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new je(ke.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,VS(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new je(ke.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,VS(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===ke.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(ke.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class sse{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Rr(n),this.D_=!1):Me("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ase{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(async()=>{kc(this)&&(Me("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=rt(l);u.L_.add(4),await im(u),u.q_.set("Unknown"),u.L_.delete(4),await By(u)}(this))})}),this.q_=new sse(r,i)}}async function By(t){if(kc(t))for(const e of t.B_)await e(!0)}async function im(t){for(const e of t.B_)await e(!1)}function D1(t,e){const n=rt(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),Hk(n)?qk(n):sm(n).r_()&&zk(n,e))}function Sp(t,e){const n=rt(t),r=sm(n);n.N_.delete(e),r.r_()&&T3(n,e),n.N_.size===0&&(r.r_()?r.o_():kc(n)&&n.q_.set("Unknown"))}function zk(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(_t.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}sm(t).A_(e)}function T3(t,e){t.Q_.xe(e),sm(t).R_(e)}function qk(t){t.Q_=new ioe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),sm(t).start(),t.q_.v_()}function Hk(t){return kc(t)&&!sm(t).n_()&&t.N_.size>0}function kc(t){return rt(t).L_.size===0}function S3(t){t.Q_=void 0}async function lse(t){t.q_.set("Online")}async function use(t){t.N_.forEach((e,n)=>{zk(t,e)})}async function cse(t,e){S3(t),Hk(t)?(t.q_.M_(e),qk(t)):t.q_.set("Unknown")}async function dse(t,e,n){if(t.q_.set("Online"),e instanceof qV&&e.state===2&&e.cause)try{await async function(i,o){const s=o.cause;for(const a of o.targetIds)i.N_.has(a)&&(await i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))}(t,e)}catch(r){Me("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await gw(t,r)}else if(e instanceof a_?t.Q_.Ke(e):e instanceof zV?t.Q_.He(e):t.Q_.We(e),!n.isEqual(_t.min()))try{const r=await v3(t.localStore);n.compareTo(r)>=0&&await function(o,s){const a=o.Q_.rt(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=o.N_.get(u);c&&o.N_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=o.N_.get(l);if(!c)return;o.N_.set(l,c.withResumeToken(Er.EMPTY_BYTE_STRING,c.snapshotVersion)),T3(o,l);const f=new Nl(c.target,l,u,c.sequenceNumber);zk(o,f)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){Me("RemoteStore","Failed to raise snapshot:",r),await gw(t,r)}}async function gw(t,e,n){if(!Cc(e))throw e;t.L_.add(1),await im(t),t.q_.set("Offline"),n||(n=()=>v3(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Me("RemoteStore","Retrying IndexedDB access"),await n(),t.L_.delete(1),await By(t)})}function C3(t,e){return e().catch(n=>gw(t,n,e))}async function om(t){const e=rt(t),n=mc(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;fse(e);)try{const i=await Yoe(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,hse(e,i)}catch(i){await gw(e,i)}P3(e)&&k3(e)}function fse(t){return kc(t)&&t.O_.length<10}function hse(t,e){t.O_.push(e);const n=mc(t);n.r_()&&n.V_&&n.m_(e.mutations)}function P3(t){return kc(t)&&!mc(t).n_()&&t.O_.length>0}function k3(t){mc(t).start()}async function pse(t){mc(t).p_()}async function mse(t){const e=mc(t);for(const n of t.O_)e.m_(n.mutations)}async function gse(t,e,n){const r=t.O_.shift(),i=Ak.from(r,e,n);await C3(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await om(t)}async function vse(t,e){e&&mc(t).V_&&await async function(r,i){if(function(s){return FV(s)&&s!==ke.ABORTED}(i.code)){const o=r.O_.shift();mc(r).s_(),await C3(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await om(r)}}(t,e),P3(t)&&k3(t)}async function KD(t,e){const n=rt(t);n.asyncQueue.verifyOperationInProgress(),Me("RemoteStore","RemoteStore received new credentials");const r=kc(n);n.L_.add(3),await im(n),r&&n.q_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),await By(n)}async function GS(t,e){const n=rt(t);e?(n.L_.delete(2),await By(n)):e||(n.L_.add(2),await im(n),n.q_.set("Unknown"))}function sm(t){return t.K_||(t.K_=function(n,r,i){const o=rt(n);return o.w_(),new rse(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:lse.bind(null,t),Ro:use.bind(null,t),mo:cse.bind(null,t),d_:dse.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),Hk(t)?qk(t):t.q_.set("Unknown")):(await t.K_.stop(),S3(t))})),t.K_}function mc(t){return t.U_||(t.U_=function(n,r,i){const o=rt(n);return o.w_(),new ise(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pse.bind(null,t),mo:vse.bind(null,t),f_:mse.bind(null,t),g_:gse.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await om(t)):(await t.U_.stop(),t.O_.length>0&&(Me("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wk{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new _i,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){const s=Date.now()+r,a=new Wk(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(ke.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function am(t,e){if(Rr("AsyncQueue",`${e}: ${t}`),Cc(t))return new je(ke.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kh{constructor(e){this.comparator=e?(n,r)=>e(n,r)||et.comparator(n.key,r.key):(n,r)=>et.comparator(n.key,r.key),this.keyedMap=Tg(),this.sortedSet=new Fn(this.comparator)}static emptySet(e){return new Kh(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Kh)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Kh;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(){this.W_=new Fn(et.comparator)}track(e){const n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):dt():this.W_=this.W_.insert(n,e)}G_(){const e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Cp{constructor(e,n,r,i,o,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,o){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new Cp(e,n,Kh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ny(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yse{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class bse{constructor(){this.queries=QD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){const i=rt(n),o=i.queries;i.queries=QD(),o.forEach((s,a)=>{for(const l of a.j_)l.onError(r)})})(this,new je(ke.ABORTED,"Firestore shutting down"))}}function QD(){return new Pc(t=>SV(t),Ny)}async function Kk(t,e){const n=rt(t);let r=3;const i=e.query;let o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new yse,r=e.J_()?0:1);try{switch(r){case 0:o.z_=await n.onListen(i,!0);break;case 1:o.z_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(s){const a=am(s,`Initialization of query '${fh(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Qk(n)}async function Gk(t,e){const n=rt(t),r=e.query;let i=3;const o=n.queries.get(r);if(o){const s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function _se(t,e){const n=rt(t);let r=!1;for(const i of e){const o=i.query,s=n.queries.get(o);if(s){for(const a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Qk(n)}function wse(t,e,n){const r=rt(t),i=r.queries.get(e);if(i)for(const o of i.j_)o.onError(n);r.queries.delete(e)}function Qk(t){t.Y_.forEach(e=>{e.next()})}var QS,YD;(YD=QS||(QS={})).ea="default",YD.Cache="cache";class Yk{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Cp(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;const r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=Cp.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==QS.Cache}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xse{constructor(e,n){this.aa=e,this.byteLength=n}ua(){return"metadata"in this.aa}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XD{constructor(e){this.serializer=e}Es(e){return Ua(this.serializer,e)}ds(e){return e.metadata.exists?YV(this.serializer,e.document,!1):Kn.newNoDocument(this.Es(e.metadata.name),this.As(e.metadata.readTime))}As(e){return Or(e)}}class Ese{constructor(e,n,r){this.ca=e,this.localStore=n,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=A3(e)}la(e){this.progress.bytesLoaded+=e.byteLength;let n=this.progress.documentsLoaded;if(e.aa.namedQuery)this.queries.push(e.aa.namedQuery);else if(e.aa.documentMetadata){this.documents.push({metadata:e.aa.documentMetadata}),e.aa.documentMetadata.exists||++n;const r=rn.fromString(e.aa.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.aa.document&&(this.documents[this.documents.length-1].document=e.aa.document,++n);return n!==this.progress.documentsLoaded?(this.progress.documentsLoaded=n,Object.assign({},this.progress)):null}ha(e){const n=new Map,r=new XD(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.Es(i.metadata.name);for(const s of i.metadata.queries){const a=(n.get(s)||zt()).add(o);n.set(s,a)}}return n}async complete(){const e=await Xoe(this.localStore,new XD(this.serializer),this.documents,this.ca.id),n=this.ha(this.documents);for(const r of this.queries)await Joe(this.localStore,r,n.get(r.name));return this.progress.taskState="Success",{progress:this.progress,Pa:this.collectionGroups,Ia:e}}}function A3(t){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:t.totalDocuments,totalBytes:t.totalBytes}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R3{constructor(e){this.key=e}}class O3{constructor(e){this.key=e}}class N3{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=zt(),this.mutatedKeys=zt(),this.Aa=PV(e),this.Ra=new Kh(this.Aa)}get Va(){return this.Ta}ma(e,n){const r=n?n.fa:new GD,i=n?n.Ra:this.Ra;let o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,f)=>{const h=i.get(c),p=Ly(this.query,f)?f:null,g=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let w=!1;h&&p?h.data.isEqual(p.data)?g!==_&&(r.track({type:3,doc:p}),w=!0):this.ga(h,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.Aa(p,l)>0||u&&this.Aa(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),w=!0):h&&!p&&(r.track({type:1,doc:h}),w=!0,(l||u)&&(a=!0)),w&&(p?(s=s.add(p),o=_?o.add(c):o.delete(c)):(s=s.delete(c),o=o.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),o=o.delete(c.key),r.track({type:1,doc:c})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const s=e.fa.G_();s.sort((c,f)=>function(p,g){const _=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return dt()}};return _(p)-_(g)}(c.type,f.type)||this.Aa(c.doc,f.doc)),this.pa(r),i=i!=null&&i;const a=n&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,s.length!==0||u?{snapshot:new Cp(this.query,e.Ra,o,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new GD,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=zt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const n=[];return e.forEach(r=>{this.da.has(r)||n.push(new O3(r))}),this.da.forEach(r=>{e.has(r)||n.push(new R3(r))}),n}ba(e){this.Ta=e.Ts,this.da=zt();const n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return Cp.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class Ise{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class Tse{constructor(e){this.key=e,this.va=!1}}class Sse{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Pc(a=>SV(a),Ny),this.Ma=new Map,this.xa=new Set,this.Oa=new Fn(et.comparator),this.Na=new Map,this.La=new $k,this.Ba={},this.ka=new Map,this.qa=sf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function Cse(t,e,n=!0){const r=j1(t);let i;const o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=await L3(r,e,n,!0),i}async function Pse(t,e){const n=j1(t);await L3(n,e,!0,!1)}async function L3(t,e,n,r){const i=await Ip(t.localStore,Yi(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n);let a;return r&&(a=await Xk(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&D1(t.remoteStore,i),a}async function Xk(t,e,n,r,i){t.Ka=(f,h,p)=>async function(_,w,b,v){let y=w.view.ma(b);y.ns&&(y=await hw(_.localStore,w.query,!1).then(({documents:S})=>w.view.ma(S,y)));const x=v&&v.targetChanges.get(w.targetId),I=v&&v.targetMismatches.get(w.targetId)!=null,O=w.view.applyChanges(y,_.isPrimaryClient,x,I);return YS(_,w.targetId,O.wa),O.snapshot}(t,f,h,p);const o=await hw(t.localStore,e,!0),s=new N3(e,o.Ts),a=s.ma(o.documents),l=$y.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=s.applyChanges(a,t.isPrimaryClient,l);YS(t,n,u.wa);const c=new Ise(e,n,s);return t.Fa.set(e,c),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),u.snapshot}async function kse(t,e,n){const r=rt(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ny(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Tp(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Sp(r.remoteStore,i.targetId),Pp(r,i.targetId)}).catch(Sc)):(Pp(r,i.targetId),await Tp(r.localStore,i.targetId,!0))}async function Ase(t,e){const n=rt(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Sp(n.remoteStore,r.targetId))}async function Rse(t,e,n){const r=tA(t);try{const i=await function(s,a){const l=rt(s),u=Rt.now(),c=a.reduce((p,g)=>p.add(g.key),zt());let f,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let g=_o(),_=zt();return l.cs.getEntries(p,c).next(w=>{g=w,g.forEach((b,v)=>{v.isValidDocument()||(_=_.add(b))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,g)).next(w=>{f=w;const b=[];for(const v of a){const y=toe(v,f.get(v.key).overlayedDocument);y!=null&&b.push(new ou(v.key,y,vV(y.value.mapValue),rr.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,b,a)}).next(w=>{h=w;const b=w.applyToLocalDocumentSet(f,_);return l.documentOverlayCache.saveOverlays(p,w.batchId,b)})}).then(()=>({batchId:h.batchId,changes:AV(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,l){let u=s.Ba[s.currentUser.toKey()];u||(u=new Fn(Mt)),u=u.insert(a,l),s.Ba[s.currentUser.toKey()]=u}(r,i.batchId,n),await su(r,i.changes),await om(r.remoteStore)}catch(i){const o=am(i,"Failed to persist write");n.reject(o)}}async function D3(t,e){const n=rt(t);try{const r=await Qoe(n.localStore,e);e.targetChanges.forEach((i,o)=>{const s=n.Na.get(o);s&&(gt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?gt(s.va):i.removedDocuments.size>0&&(gt(s.va),s.va=!1))}),await su(n,r,e)}catch(r){await Sc(r)}}function JD(t,e,n){const r=rt(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.Fa.forEach((o,s)=>{const a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){const l=rt(s);l.onlineState=a;let u=!1;l.queries.forEach((c,f)=>{for(const h of f.j_)h.Z_(a)&&(u=!0)}),u&&Qk(l)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Ose(t,e,n){const r=rt(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Na.get(e),o=i&&i.key;if(o){let s=new Fn(et.comparator);s=s.insert(o,Kn.newNoDocument(o,_t.min()));const a=zt().add(o),l=new jy(_t.min(),new Map,new Fn(Mt),s,a);await D3(r,l),r.Oa=r.Oa.remove(o),r.Na.delete(e),eA(r)}else await Tp(r.localStore,e,!1).then(()=>Pp(r,e,n)).catch(Sc)}async function Nse(t,e){const n=rt(t),r=e.batch.batchId;try{const i=await Goe(n.localStore,e);Zk(n,r,null),Jk(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await su(n,i)}catch(i){await Sc(i)}}async function Lse(t,e,n){const r=rt(t);try{const i=await function(s,a){const l=rt(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(f=>(gt(f!==null),c=f.keys(),l.mutationQueue.removeMutationBatch(u,f))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Zk(r,e,n),Jk(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await su(r,i)}catch(i){await Sc(i)}}async function Dse(t,e){const n=rt(t);kc(n.remoteStore)||Me("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=await function(s){const a=rt(s);return a.persistence.runTransaction("Get highest unacknowledged batch id","readonly",l=>a.mutationQueue.getHighestUnacknowledgedBatchId(l))}(n.localStore);if(r===-1)return void e.resolve();const i=n.ka.get(r)||[];i.push(e),n.ka.set(r,i)}catch(r){const i=am(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}function Jk(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function Zk(t,e,n){const r=rt(t);let i=r.Ba[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Pp(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||j3(t,r)})}function j3(t,e){t.xa.delete(e.path.canonicalString());const n=t.Oa.get(e);n!==null&&(Sp(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),eA(t))}function YS(t,e,n){for(const r of n)r instanceof R3?(t.La.addReference(r.key,e),jse(t,r)):r instanceof O3?(Me("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||j3(t,r.key)):dt()}function jse(t,e){const n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(Me("SyncEngine","New document in limbo: "+n),t.xa.add(r),eA(t))}function eA(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const n=new et(rn.fromString(e)),r=t.qa.next();t.Na.set(r,new Tse(n)),t.Oa=t.Oa.insert(n,r),D1(t.remoteStore,new Nl(Yi(tm(n.path)),r,"TargetPurposeLimboResolution",yo.oe))}}async function su(t,e,n){const r=rt(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,l)=>{s.push(r.Ka(l,e,n).then(u=>{var c;if((u||n)&&r.isPrimaryClient){const f=u?!u.fromCache:(c=n==null?void 0:n.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=Fk.Wi(l.targetId,u);o.push(f)}}))}),await Promise.all(s),r.Ca.d_(i),await async function(l,u){const c=rt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>Ie.forEach(u,h=>Ie.forEach(h.$i,p=>c.persistence.referenceDelegate.addReference(f,h.targetId,p)).next(()=>Ie.forEach(h.Ui,p=>c.persistence.referenceDelegate.removeReference(f,h.targetId,p)))))}catch(f){if(!Cc(f))throw f;Me("LocalStore","Failed to update sequence numbers: "+f)}for(const f of u){const h=f.targetId;if(!f.fromCache){const p=c.os.get(h),g=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(g);c.os=c.os.insert(h,_)}}}(r.localStore,o))}async function $se(t,e){const n=rt(t);if(!n.currentUser.isEqual(e)){Me("SyncEngine","User change. New user:",e.toKey());const r=await g3(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(l=>{l.reject(new je(ke.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await su(n,r.hs)}}function Mse(t,e){const n=rt(t),r=n.Na.get(e);if(r&&r.va)return zt().add(r.key);{let i=zt();const o=n.Ma.get(e);if(!o)return i;for(const s of o){const a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}async function Bse(t,e){const n=rt(t),r=await hw(n.localStore,e.query,!0),i=e.view.ba(r);return n.isPrimaryClient&&YS(n,e.targetId,i.wa),i}async function Fse(t,e){const n=rt(t);return _3(n.localStore,e).then(r=>su(n,r))}async function Vse(t,e,n,r){const i=rt(t),o=await function(a,l){const u=rt(a),c=rt(u.mutationQueue);return u.persistence.runTransaction("Lookup mutation documents","readonly",f=>c.Mn(f,l).next(h=>h?u.localDocuments.getDocuments(f,h):Ie.resolve(null)))}(i.localStore,e);o!==null?(n==="pending"?await om(i.remoteStore):n==="acknowledged"||n==="rejected"?(Zk(i,e,r||null),Jk(i,e),function(a,l){rt(rt(a).mutationQueue).On(l)}(i.localStore,e)):dt(),await su(i,o)):Me("SyncEngine","Cannot apply mutation batch with id: "+e)}async function Use(t,e){const n=rt(t);if(j1(n),tA(n),e===!0&&n.Qa!==!0){const r=n.sharedClientState.getAllActiveQueryTargets(),i=await ZD(n,r.toArray());n.Qa=!0,await GS(n.remoteStore,!0);for(const o of i)D1(n.remoteStore,o)}else if(e===!1&&n.Qa!==!1){const r=[];let i=Promise.resolve();n.Ma.forEach((o,s)=>{n.sharedClientState.isLocalQueryTarget(s)?r.push(s):i=i.then(()=>(Pp(n,s),Tp(n.localStore,s,!0))),Sp(n.remoteStore,s)}),await i,await ZD(n,r),function(s){const a=rt(s);a.Na.forEach((l,u)=>{Sp(a.remoteStore,u)}),a.La.pr(),a.Na=new Map,a.Oa=new Fn(et.comparator)}(n),n.Qa=!1,await GS(n.remoteStore,!1)}}async function ZD(t,e,n){const r=rt(t),i=[],o=[];for(const s of e){let a;const l=r.Ma.get(s);if(l&&l.length!==0){a=await Ip(r.localStore,Yi(l[0]));for(const u of l){const c=r.Fa.get(u),f=await Bse(r,c);f.snapshot&&o.push(f.snapshot)}}else{const u=await b3(r.localStore,s);a=await Ip(r.localStore,u),await Xk(r,$3(u),s,!1,a.resumeToken)}i.push(a)}return r.Ca.d_(o),i}function $3(t){return TV(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function zse(t){return function(n){return rt(rt(n).persistence).Qi()}(rt(t).localStore)}async function qse(t,e,n,r){const i=rt(t);if(i.Qa)return void Me("SyncEngine","Ignoring unexpected query state notification.");const o=i.Ma.get(e);if(o&&o.length>0)switch(n){case"current":case"not-current":{const s=await _3(i.localStore,CV(o[0])),a=jy.createSynthesizedRemoteEventForCurrentChange(e,n==="current",Er.EMPTY_BYTE_STRING);await su(i,s,a);break}case"rejected":await Tp(i.localStore,e,!0),Pp(i,e,r);break;default:dt()}}async function Hse(t,e,n){const r=j1(t);if(r.Qa){for(const i of e){if(r.Ma.has(i)&&r.sharedClientState.isActiveQueryTarget(i)){Me("SyncEngine","Adding an already active target "+i);continue}const o=await b3(r.localStore,i),s=await Ip(r.localStore,o);await Xk(r,$3(o),s.targetId,!1,s.resumeToken),D1(r.remoteStore,s)}for(const i of n)r.Ma.has(i)&&await Tp(r.localStore,i,!1).then(()=>{Sp(r.remoteStore,i),Pp(r,i)}).catch(Sc)}}function j1(t){const e=rt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=D3.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Mse.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Ose.bind(null,e),e.Ca.d_=_se.bind(null,e.eventManager),e.Ca.$a=wse.bind(null,e.eventManager),e}function tA(t){const e=rt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Nse.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Lse.bind(null,e),e}function Wse(t,e,n){const r=rt(t);(async function(o,s,a){try{const l=await s.getMetadata();if(await function(p,g){const _=rt(p),w=Or(g.createTime);return _.persistence.runTransaction("hasNewerBundle","readonly",b=>_.Gr.getBundleMetadata(b,g.id)).then(b=>!!b&&b.createTime.compareTo(w)>=0)}(o.localStore,l))return await s.close(),a._completeWith(function(p){return{taskState:"Success",documentsLoaded:p.totalDocuments,bytesLoaded:p.totalBytes,totalDocuments:p.totalDocuments,totalBytes:p.totalBytes}}(l)),Promise.resolve(new Set);a._updateProgress(A3(l));const u=new Ese(l,o.localStore,s.serializer);let c=await s.Ua();for(;c;){const h=await u.la(c);h&&a._updateProgress(h),c=await s.Ua()}const f=await u.complete();return await su(o,f.Ia,void 0),await function(p,g){const _=rt(p);return _.persistence.runTransaction("Save bundle","readwrite",w=>_.Gr.saveBundleMetadata(w,g))}(o.localStore,l),a._completeWith(f.progress),Promise.resolve(f.Pa)}catch(l){return Ka("SyncEngine",`Loading bundle failed with ${l}`),a._failWith(l),Promise.resolve(new Set)}})(r,e,n).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}class zv{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=My(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,n){return null}Ha(e,n){return null}za(e){return m3(this.persistence,new p3,e.initialUser,this.serializer)}Ga(e){return new h3(L1.Zr,this.serializer)}Wa(e){return new x3}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zv.provider={build:()=>new zv};class M3 extends zv{constructor(e,n,r){super(),this.Ja=e,this.cacheSizeBytes=n,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.Ja.initialize(this,e),await tA(this.Ja.syncEngine),await om(this.Ja.remoteStore),await this.persistence.yi(()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve()))}za(e){return m3(this.persistence,new p3,e.initialUser,this.serializer)}ja(e,n){const r=this.persistence.referenceDelegate.garbageCollector;return new Aoe(r,e.asyncQueue,n)}Ha(e,n){const r=new die(n,this.persistence);return new cie(e.asyncQueue,r)}Ga(e){const n=Bk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?po.withCacheSize(this.cacheSizeBytes):po.DEFAULT;return new Mk(this.synchronizeTabs,n,e.clientId,r,e.asyncQueue,E3(),l_(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Wa(e){return new x3}}class Kse extends M3{constructor(e,n){super(e,n,!1),this.Ja=e,this.cacheSizeBytes=n,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const n=this.Ja.syncEngine;this.sharedClientState instanceof WI&&(this.sharedClientState.syncEngine={no:Vse.bind(null,n),ro:qse.bind(null,n),io:Hse.bind(null,n),Qi:zse.bind(null,n),eo:Fse.bind(null,n)},await this.sharedClientState.start()),await this.persistence.yi(async r=>{await Use(this.Ja.syncEngine,r),this.gcScheduler&&(r&&!this.gcScheduler.started?this.gcScheduler.start():r||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(r&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():r||this.indexBackfillerScheduler.stop())})}Wa(e){const n=E3();if(!WI.D(n))throw new je(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=Bk(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new WI(n,e.asyncQueue,r,e.clientId,e.initialUser)}}class qv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>JD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=$se.bind(null,this.syncEngine),await GS(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new bse}()}createDatastore(e){const n=My(e.databaseInfo.databaseId),r=function(o){return new nse(o)}(e.databaseInfo);return function(o,s,a,l){return new ose(o,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new ase(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>JD(this.syncEngine,n,0),function(){return WD.D()?new WD:new Zoe}())}createSyncEngine(e,n){return function(i,o,s,a,l,u,c){const f=new Sse(i,o,s,a,l,u);return c&&(f.Qa=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(i){const o=rt(i);Me("RemoteStore","RemoteStore shutting down."),o.L_.add(5),await im(o),o.k_.shutdown(),o.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}qv.provider={build:()=>new qv};function ej(t,e=10240){let n=0;return{async read(){if(n<t.byteLength){const r={value:t.slice(n,n+e),done:!1};return n+=e,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Rr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gse{constructor(e,n){this.Xa=e,this.serializer=n,this.metadata=new _i,this.buffer=new Uint8Array,this.eu=function(){return new TextDecoder("utf-8")}(),this.tu().then(r=>{r&&r.ua()?this.metadata.resolve(r.aa.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is
             ${JSON.stringify(r==null?void 0:r.aa)}`))},r=>this.metadata.reject(r))}close(){return this.Xa.cancel()}async getMetadata(){return this.metadata.promise}async Ua(){return await this.getMetadata(),this.tu()}async tu(){const e=await this.nu();if(e===null)return null;const n=this.eu.decode(e),r=Number(n);isNaN(r)&&this.ru(`length string (${n}) is not valid number`);const i=await this.iu(r);return new xse(JSON.parse(i),e.length+r)}su(){return this.buffer.findIndex(e=>e===123)}async nu(){for(;this.su()<0&&!await this.ou(););if(this.buffer.length===0)return null;const e=this.su();e<0&&this.ru("Reached the end of bundle when a length string is expected.");const n=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),n}async iu(e){for(;this.buffer.length<e;)await this.ou()&&this.ru("Reached the end of bundle when more is expected.");const n=this.eu.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),n}ru(e){throw this.Xa.cancel(),new Error(`Invalid bundle format: ${e}`)}async ou(){const e=await this.Xa.read();if(!e.done){const n=new Uint8Array(this.buffer.length+e.value.length);n.set(this.buffer),n.set(e.value,this.buffer.length),this.buffer=n}return e.done}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qse{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastTransactionError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw this.lastTransactionError=new je(ke.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes."),this.lastTransactionError;const n=await async function(i,o){const s=rt(i),a={documents:o.map(f=>Vv(s.serializer,f))},l=await s.Lo("BatchGetDocuments",s.serializer.databaseId,rn.emptyPath(),a,o.length),u=new Map;l.forEach(f=>{const h=coe(s.serializer,f);u.set(h.key.toString(),h)});const c=[];return o.forEach(f=>{const h=u.get(f.toString());gt(!!h),c.push(h)}),c}(this.datastore,e);return n.forEach(r=>this.recordVersion(r)),n}set(e,n){this.write(n.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,n){try{this.write(n.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastTransactionError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new rm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastTransactionError)throw this.lastTransactionError;const e=this.readVersions;this.mutations.forEach(n=>{e.delete(n.key.toString())}),e.forEach((n,r)=>{const i=et.fromPath(r);this.mutations.push(new Pk(i,this.precondition(i)))}),await async function(r,i){const o=rt(r),s={writes:i.map(a=>Uv(o.serializer,a))};await o.Mo("Commit",o.serializer.databaseId,rn.emptyPath(),s)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let n;if(e.isFoundDocument())n=e.version;else{if(!e.isNoDocument())throw dt();n=_t.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!n.isEqual(r))throw new je(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),n)}precondition(e){const n=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&n?n.isEqual(_t.min())?rr.exists(!1):rr.updateTime(n):rr.none()}preconditionForUpdate(e){const n=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&n){if(n.isEqual(_t.min()))throw new je(ke.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rr.updateTime(n)}return rr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yse{constructor(e,n,r,i,o){this.asyncQueue=e,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=o,this._u=r.maxAttempts,this.t_=new Uk(this.asyncQueue,"transaction_retry")}au(){this._u-=1,this.uu()}uu(){this.t_.Go(async()=>{const e=new Qse(this.datastore),n=this.cu(e);n&&n.then(r=>{this.asyncQueue.enqueueAndForget(()=>e.commit().then(()=>{this.deferred.resolve(r)}).catch(i=>{this.lu(i)}))}).catch(r=>{this.lu(r)})})}cu(e){try{const n=this.updateFunction(e);return!Ry(n)&&n.catch&&n.then?n:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(n){return this.deferred.reject(n),null}}lu(e){this._u>0&&this.hu(e)?(this._u-=1,this.asyncQueue.enqueueAndForget(()=>(this.uu(),Promise.resolve()))):this.deferred.reject(e)}hu(e){if(e.name==="FirebaseError"){const n=e.code;return n==="aborted"||n==="failed-precondition"||n==="already-exists"||!FV(n)}return!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xse{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=oi.UNAUTHENTICATED,this.clientId=tV.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async s=>{Me("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(Me("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _i;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=am(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function GI(t,e){t.asyncQueue.verifyOperationInProgress(),Me("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await g3(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function tj(t,e){t.asyncQueue.verifyOperationInProgress();const n=await nA(t);Me("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>KD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>KD(e.remoteStore,i)),t._onlineComponents=e}async function nA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Me("FirestoreClient","Using user provided OfflineComponentProvider");try{await GI(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(i){return i.name==="FirebaseError"?i.code===ke.FAILED_PRECONDITION||i.code===ke.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await GI(t,new zv)}}else Me("FirestoreClient","Using default OfflineComponentProvider"),await GI(t,new zv);return t._offlineComponents}async function M1(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Me("FirestoreClient","Using user provided OnlineComponentProvider"),await tj(t,t._uninitializedComponentsProvider._online)):(Me("FirestoreClient","Using default OnlineComponentProvider"),await tj(t,new qv))),t._onlineComponents}function B3(t){return nA(t).then(e=>e.persistence)}function rA(t){return nA(t).then(e=>e.localStore)}function F3(t){return M1(t).then(e=>e.remoteStore)}function iA(t){return M1(t).then(e=>e.syncEngine)}function Jse(t){return M1(t).then(e=>e.datastore)}async function kp(t){const e=await M1(t),n=e.eventManager;return n.onListen=Cse.bind(null,e.syncEngine),n.onUnlisten=kse.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Pse.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Ase.bind(null,e.syncEngine),n}function Zse(t){return t.asyncQueue.enqueue(async()=>{const e=await B3(t),n=await F3(t);return e.setNetworkEnabled(!0),function(i){const o=rt(i);return o.L_.delete(0),By(o)}(n)})}function eae(t){return t.asyncQueue.enqueue(async()=>{const e=await B3(t),n=await F3(t);return e.setNetworkEnabled(!1),async function(i){const o=rt(i);o.L_.add(0),await im(o),o.q_.set("Offline")}(n)})}function tae(t,e){const n=new _i;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await function(u,c){const f=rt(u);return f.persistence.runTransaction("read document","readonly",h=>f.localDocuments.getDocument(h,c))}(i,o);a.isFoundDocument()?s.resolve(a):a.isNoDocument()?s.resolve(null):s.reject(new je(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(a){const l=am(a,`Failed to get document '${o} from cache`);s.reject(l)}}(await rA(t),e,n)),n.promise}function V3(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new $1({next:h=>{c.Za(),s.enqueueAndForget(()=>Gk(o,f));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new je(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new je(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Yk(tm(a.path),c,{includeMetadataChanges:!0,_a:!0});return Kk(o,f)}(await kp(t),t.asyncQueue,e,n,r)),r.promise}function nae(t,e){const n=new _i;return t.asyncQueue.enqueueAndForget(async()=>async function(i,o,s){try{const a=await hw(i,o,!0),l=new N3(o,a.Ts),u=l.ma(a.documents),c=l.applyChanges(u,!1);s.resolve(c.snapshot)}catch(a){const l=am(a,`Failed to execute query '${o} against cache`);s.reject(l)}}(await rA(t),e,n)),n.promise}function U3(t,e,n={}){const r=new _i;return t.asyncQueue.enqueueAndForget(async()=>function(o,s,a,l,u){const c=new $1({next:h=>{c.Za(),s.enqueueAndForget(()=>Gk(o,f)),h.fromCache&&l.source==="server"?u.reject(new je(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),f=new Yk(a,c,{includeMetadataChanges:!0,_a:!0});return Kk(o,f)}(await kp(t),t.asyncQueue,e,n,r)),r.promise}function rae(t,e){const n=new $1(e);return t.asyncQueue.enqueueAndForget(async()=>function(i,o){rt(i).Y_.add(o),o.next()}(await kp(t),n)),()=>{n.Za(),t.asyncQueue.enqueueAndForget(async()=>function(i,o){rt(i).Y_.delete(o)}(await kp(t),n))}}function iae(t,e,n,r){const i=function(s,a){let l;return l=typeof s=="string"?UV().encode(s):s,function(c,f){return new Gse(c,f)}(function(c,f){if(c instanceof Uint8Array)return ej(c,f);if(c instanceof ArrayBuffer)return ej(new Uint8Array(c),f);if(c instanceof ReadableStream)return c.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(l),a)}(n,My(e));t.asyncQueue.enqueueAndForget(async()=>{Wse(await iA(t),i,r)})}function oae(t,e){return t.asyncQueue.enqueue(async()=>function(r,i){const o=rt(r);return o.persistence.runTransaction("Get named query","readonly",s=>o.Gr.getNamedQuery(s,i))}(await rA(t),e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z3(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nj=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oA(t,e,n){if(!n)throw new je(ke.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function q3(t,e,n,r){if(e===!0&&r===!0)throw new je(ke.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function rj(t){if(!et.isDocumentKey(t))throw new je(ke.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ij(t){if(et.isDocumentKey(t))throw new je(ke.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function B1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":dt()}function vn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(ke.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=B1(t);throw new je(ke.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function H3(t,e){if(e<=0)throw new je(ke.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oj{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new je(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new je(ke.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}q3("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=z3((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new je(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new je(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new je(ke.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Fy{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oj({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oj(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Zre;switch(r.type){case"firstParty":return new rie(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new je(ke.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=nj.get(n);r&&(Me("ComponentProvider","Removing Datastore"),nj.delete(n),r.terminate())}(this),Promise.resolve()}}function W3(t,e,n,r={}){var i;const o=(t=vn(t,Fy))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=oi.MOCK_USER;else{a=X4(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new je(ke.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new oi(u)}t._authCredentials=new eie(new eV(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xi=class K3{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new K3(this.firestore,e,this._query)}},hr=class G3{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new oc(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new G3(this.firestore,e,this._key)}},oc=class Q3 extends Xi{constructor(e,n,r){super(e,n,tm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new hr(this.firestore,null,new et(e))}withConverter(e){return new Q3(this.firestore,e,this._path)}};function hn(t,e,...n){if(t=fn(t),oA("collection","path",e),t instanceof Fy){const r=rn.fromString(e,...n);return ij(r),new oc(t,null,r)}{if(!(t instanceof hr||t instanceof oc))throw new je(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return ij(r),new oc(t.firestore,null,r)}}function sae(t,e){if(t=vn(t,Fy),oA("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new je(ke.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Xi(t,null,function(r){return new iu(rn.emptyPath(),r)}(e))}function bt(t,e,...n){if(t=fn(t),arguments.length===1&&(e=tV.newId()),oA("doc","path",e),t instanceof Fy){const r=rn.fromString(e,...n);return rj(r),new hr(t,null,new et(r))}{if(!(t instanceof hr||t instanceof oc))throw new je(ke.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(rn.fromString(e,...n));return rj(r),new hr(t.firestore,t instanceof oc?t.converter:null,new et(r))}}function Y3(t,e){return t=fn(t),e=fn(e),(t instanceof hr||t instanceof oc)&&(e instanceof hr||e instanceof oc)&&t.firestore===e.firestore&&t.path===e.path&&t.converter===e.converter}function X3(t,e){return t=fn(t),e=fn(e),t instanceof Xi&&e instanceof Xi&&t.firestore===e.firestore&&Ny(t._query,e._query)&&t.converter===e.converter}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Uk(this,"async_queue_retry"),this.Vu=()=>{const r=l_();r&&Me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const n=l_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const n=l_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const n=new _i;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Cc(e))throw e;Me("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;const i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Rr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);const i=Wk.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&dt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const n=this.Tu.indexOf(e);this.Tu.splice(n,1)}}function XS(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}class aae{constructor(){this._progressObserver={},this._taskCompletionResolver=new _i,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,n,r){this._progressObserver={next:e,error:n,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,n){return this._taskCompletionResolver.promise.then(e,n)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lae=-1;let Nr=class extends Fy{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new sj,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new sj(e),this._firestoreClient=void 0,await e}}};function uae(t,e){const n=typeof t=="object"?t:E1(),r=typeof t=="string"?t:"(default)",i=Jp(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=G4("firestore");o&&W3(i,...o)}return i}function ji(t){if(t._terminated)throw new je(ke.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||J3(t),t._firestoreClient}function J3(t){var e,n,r;const i=t._freezeSettings(),o=function(a,l,u,c){return new Nie(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,z3(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new Xse(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){const l=a==null?void 0:a._online.build();return{_offline:a==null?void 0:a._offline.build(l),_online:l}}(t._componentsProvider))}function cae(t,e){Ka("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=t._freezeSettings();return Z3(t,qv.provider,{build:r=>new M3(r,n.cacheSizeBytes,e==null?void 0:e.forceOwnership)}),Promise.resolve()}async function dae(t){Ka("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const e=t._freezeSettings();Z3(t,qv.provider,{build:n=>new Kse(n,e.cacheSizeBytes)})}function Z3(t,e,n){if((t=vn(t,Nr))._firestoreClient||t._terminated)throw new je(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(t._componentsProvider||t._getSettings().localCache)throw new je(ke.FAILED_PRECONDITION,"SDK cache is already specified.");t._componentsProvider={_online:e,_offline:n},J3(t)}function fae(t){if(t._initialized&&!t._terminated)throw new je(ke.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new _i;return t._queue.enqueueAndForgetEvenWhileRestricted(async()=>{try{await async function(r){if(!Va.D())return Promise.resolve();const i=r+"main";await Va.delete(i)}(Bk(t._databaseId,t._persistenceKey)),e.resolve()}catch(n){e.reject(n)}}),e.promise}function hae(t){return function(n){const r=new _i;return n.asyncQueue.enqueueAndForget(async()=>Dse(await iA(n),r)),r.promise}(ji(t=vn(t,Nr)))}function pae(t){return Zse(ji(t=vn(t,Nr)))}function mae(t){return eae(ji(t=vn(t,Nr)))}function gae(t,e){const n=ji(t=vn(t,Nr)),r=new aae;return iae(n,t._databaseId,e,r),r}function vae(t,e){return oae(ji(t=vn(t,Nr)),e).then(n=>n?new Xi(t,null,n.query):null)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qa(Er.fromBase64String(e))}catch(n){throw new je(ke.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qa(Er.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new je(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ef=class{constructor(e){this._methodName=e}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new je(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new je(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Mt(this._lat,e._lat)||Mt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yae=/^__.*__$/;class bae{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ou(e,this.data,this.fieldMask,n,this.fieldTransforms):new nm(e,this.data,n,this.fieldTransforms)}}class e6{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ou(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function t6(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw dt()}}class V1{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new V1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return vw(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(t6(this.Cu)&&yae.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class _ae{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||My(e)}Qu(e,n,r,i=!1){return new V1({Cu:e,methodName:n,qu:r,path:nr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function If(t){const e=t._freezeSettings(),n=My(t._databaseId);return new _ae(t._databaseId,!!e.ignoreUndefinedProperties,n)}function U1(t,e,n,r,i,o={}){const s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);hA("Data must be an object, but it was:",s,r);const a=i6(r,s);let l,u;if(o.merge)l=new bo(s.fieldMask),u=s.fieldTransforms;else if(o.mergeFields){const c=[];for(const f of o.mergeFields){const h=JS(e,f,n);if(!s.contains(h))throw new je(ke.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);s6(c,h)||c.push(h)}l=new bo(c),u=s.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,u=s.fieldTransforms;return new bae(new yi(a),l,u)}class Vy extends Ef{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Vy}}function n6(t,e,n){return new V1({Cu:3,qu:e.settings.qu,methodName:t._methodName,xu:n},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class aA extends Ef{_toFieldTransform(e){return new Dy(e.path,new wp)}isEqual(e){return e instanceof aA}}class lA extends Ef{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=n6(this,e,!0),r=this.Ku.map(o=>Tf(o,n)),i=new tf(r);return new Dy(e.path,i)}isEqual(e){return e instanceof lA&&mp(this.Ku,e.Ku)}}class uA extends Ef{constructor(e,n){super(e),this.Ku=n}_toFieldTransform(e){const n=n6(this,e,!0),r=this.Ku.map(o=>Tf(o,n)),i=new nf(r);return new Dy(e.path,i)}isEqual(e){return e instanceof uA&&mp(this.Ku,e.Ku)}}class cA extends Ef{constructor(e,n){super(e),this.$u=n}_toFieldTransform(e){const n=new xp(e.serializer,NV(e.serializer,this.$u));return new Dy(e.path,n)}isEqual(e){return e instanceof cA&&this.$u===e.$u}}function dA(t,e,n,r){const i=t.Qu(1,e,n);hA("Data must be an object, but it was:",i,r);const o=[],s=yi.empty();xf(r,(l,u)=>{const c=pA(e,l,n);u=fn(u);const f=i.Nu(c);if(u instanceof Vy)o.push(c);else{const h=Tf(u,f);h!=null&&(o.push(c),s.set(c,h))}});const a=new bo(o);return new e6(s,a,i.fieldTransforms)}function fA(t,e,n,r,i,o){const s=t.Qu(1,e,n),a=[JS(e,r,n)],l=[i];if(o.length%2!=0)throw new je(ke.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<o.length;h+=2)a.push(JS(e,o[h])),l.push(o[h+1]);const u=[],c=yi.empty();for(let h=a.length-1;h>=0;--h)if(!s6(u,a[h])){const p=a[h];let g=l[h];g=fn(g);const _=s.Nu(p);if(g instanceof Vy)u.push(p);else{const w=Tf(g,_);w!=null&&(u.push(p),c.set(p,w))}}const f=new bo(u);return new e6(c,f,s.fieldTransforms)}function r6(t,e,n,r=!1){return Tf(n,t.Qu(r?4:3,e))}function Tf(t,e){if(o6(t=fn(t)))return hA("Unsupported field value:",e,t),i6(t,e);if(t instanceof Ef)return function(r,i){if(!t6(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){const o=[];let s=0;for(const a of r){let l=Tf(a,i.Lu(s));l==null&&(l={nullValue:"NULL_VALUE"}),o.push(l),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=fn(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return NV(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Rt.fromDate(r);return{timestampValue:Ep(i.serializer,o)}}if(r instanceof Rt){const o=new Rt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ep(i.serializer,o)}}if(r instanceof F1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qa)return{bytesValue:HV(i.serializer,r._byteString)};if(r instanceof hr){const o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Nk(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof sA)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(l=>{if(typeof l!="number")throw a.Bu("VectorValues must only contain numeric values.");return Ck(a.serializer,l)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${B1(r)}`)}(t,e)}function i6(t,e){const n={};return hV(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xf(t,(r,i)=>{const o=Tf(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function o6(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Rt||t instanceof F1||t instanceof Qa||t instanceof hr||t instanceof Ef||t instanceof sA)}function hA(t,e,n){if(!o6(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=B1(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function JS(t,e,n){if((e=fn(e))instanceof gc)return e._internalPath;if(typeof e=="string")return pA(t,e);throw vw("Field path arguments must be of type string or ",t,!1,void 0,n)}const wae=new RegExp("[~\\*/\\[\\]]");function pA(t,e,n){if(e.search(wae)>=0)throw vw(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new gc(...e.split("."))._internalPath}catch{throw vw(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function vw(t,e,n,r,i){const o=r&&!r.isEmpty(),s=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(o||s)&&(l+=" (found",o&&(l+=` in field ${r}`),s&&(l+=` in document ${i}`),l+=")"),new je(ke.INVALID_ARGUMENT,a+t+l)}function s6(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hv{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new hr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new xae(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(z1("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class xae extends Hv{data(){return super.data()}}function z1(t,e){return typeof e=="string"?pA(t,e):e instanceof gc?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a6(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(ke.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mA{}class Uy extends mA{}function Lt(t,e,...n){let r=[];e instanceof mA&&r.push(e),r=r.concat(n),function(o){const s=o.filter(l=>l instanceof lm).length,a=o.filter(l=>l instanceof zy).length;if(s>1||s>0&&a>0)throw new je(ke.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class zy extends Uy{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new zy(e,n,r)}_apply(e){const n=this._parse(e);return c6(e._query,n),new Xi(e.firestore,e.converter,BS(e._query,n))}_parse(e){const n=If(e.firestore);return function(o,s,a,l,u,c,f){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new je(ke.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){lj(f,c);const p=[];for(const g of f)p.push(aj(l,o,g));h={arrayValue:{values:p}}}else h=aj(l,o,f)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||lj(f,c),h=r6(a,s,f,c==="in"||c==="not-in");return on.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Ze(t,e,n){const r=e,i=z1("where",t);return zy._create(i,r,n)}class lm extends mA{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new lm(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:kn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i;const a=o.getFlattenedFilters();for(const l of a)c6(s,l),s=BS(s,l)}(e._query,n),new Xi(e.firestore,e.converter,BS(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function yw(...t){return t.forEach(e=>d6("or",e)),lm._create("or",t)}function jd(...t){return t.forEach(e=>d6("and",e)),lm._create("and",t)}class gA extends Uy{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new gA(e,n)}_apply(e){const n=function(i,o,s){if(i.startAt!==null)throw new je(ke.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new je(ke.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Fv(o,s)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,function(i,o){const s=i.explicitOrderBy.concat([o]);return new iu(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function l6(t,e="asc"){const n=e,r=z1("orderBy",t);return gA._create(r,n)}class q1 extends Uy{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new q1(e,n,r)}_apply(e){return new Xi(e.firestore,e.converter,uw(e._query,this._limit,this._limitType))}}function Eae(t){return H3("limit",t),q1._create("limit",t,"F")}function Iae(t){return H3("limitToLast",t),q1._create("limitToLast",t,"L")}class H1 extends Uy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new H1(e,n,r)}_apply(e){const n=u6(e,this.type,this._docOrFields,this._inclusive);return new Xi(e.firestore,e.converter,function(i,o){return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,o,i.endAt)}(e._query,n))}}function Tae(...t){return H1._create("startAt",t,!0)}function Sae(...t){return H1._create("startAfter",t,!1)}class W1 extends Uy{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new W1(e,n,r)}_apply(e){const n=u6(e,this.type,this._docOrFields,this._inclusive);return new Xi(e.firestore,e.converter,function(i,o){return new iu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,i.startAt,o)}(e._query,n))}}function Cae(...t){return W1._create("endBefore",t,!1)}function Pae(...t){return W1._create("endAt",t,!0)}function u6(t,e,n,r){if(n[0]=fn(n[0]),n[0]instanceof Hv)return function(o,s,a,l,u){if(!l)throw new je(ke.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const f of Wh(o))if(f.field.isKeyField())c.push(Zd(s,l.key));else{const h=l.data.field(f.field);if(P1(h))throw new je(ke.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=f.field.canonicalString();throw new je(ke.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new pc(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=If(t.firestore);return function(s,a,l,u,c,f){const h=s.explicitOrderBy;if(c.length>h.length)throw new je(ke.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let g=0;g<c.length;g++){const _=c[g];if(h[g].field.isKeyField()){if(typeof _!="string")throw new je(ke.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!Tk(s)&&_.indexOf("/")!==-1)throw new je(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);const w=s.path.child(rn.fromString(_));if(!et.isDocumentKey(w))throw new je(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const b=new et(w);p.push(Zd(a,b))}else{const w=r6(l,u,_);p.push(w)}}return new pc(p,f)}(t._query,t.firestore._databaseId,i,e,n,r)}}function aj(t,e,n){if(typeof(n=fn(n))=="string"){if(n==="")throw new je(ke.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Tk(e)&&n.indexOf("/")!==-1)throw new je(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(rn.fromString(n));if(!et.isDocumentKey(r))throw new je(ke.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Zd(t,new et(r))}if(n instanceof hr)return Zd(t,n._key);throw new je(ke.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${B1(n)}.`)}function lj(t,e){if(!Array.isArray(t)||t.length===0)throw new je(ke.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function c6(t,e){const n=function(i,o){for(const s of i)for(const a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new je(ke.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new je(ke.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function d6(t,e){if(!(e instanceof zy||e instanceof lm))throw new je(ke.INVALID_ARGUMENT,`Function ${t}() requires AppliableConstraints created with a call to 'where(...)', 'or(...)', or 'and(...)'.`)}class vA{convertValue(e,n="none"){switch(Jd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Zn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(dc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw dt()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return xf(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;const o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Zn(s.doubleValue));return new sA(o)}convertGeoPoint(e){return new F1(Zn(e.latitude),Zn(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ek(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($v(e));default:return null}}convertTimestamp(e){const n=Wl(e);return new Rt(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=rn.fromString(e);gt(n3(r));const i=new fc(r.get(1),r.get(3)),o=new et(r.popFirst(5));return i.isEqual(n)||Rr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K1(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}class kae extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cd{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}let Kl=class extends Hv{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Qg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(z1("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Qg=class extends Kl{data(e={}){return super.data(e)}},vc=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Cd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qg(this._firestore,this._userDataWriter,r.key,r,new Cd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new je(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{const l=new Qg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{const l=new Qg(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Cd(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Aae(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Aae(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return dt()}}function f6(t,e){return t instanceof Kl&&e instanceof Kl?t._firestore===e._firestore&&t._key.isEqual(e._key)&&(t._document===null?e._document===null:t._document.isEqual(e._document))&&t._converter===e._converter:t instanceof vc&&e instanceof vc&&t._firestore===e._firestore&&X3(t.query,e.query)&&t.metadata.isEqual(e.metadata)&&t._snapshot.isEqual(e._snapshot)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ao(t){t=vn(t,hr);const e=vn(t.firestore,Nr);return V3(ji(e),t._key).then(n=>yA(e,t,n))}class Sf extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qa(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new hr(this.firestore,null,n)}}function Rae(t){t=vn(t,hr);const e=vn(t.firestore,Nr),n=ji(e),r=new Sf(e);return tae(n,t._key).then(i=>new Kl(e,r,t._key,i,new Cd(i!==null&&i.hasLocalMutations,!0),t.converter))}function Oae(t){t=vn(t,hr);const e=vn(t.firestore,Nr);return V3(ji(e),t._key,{source:"server"}).then(n=>yA(e,t,n))}function Ur(t){t=vn(t,Xi);const e=vn(t.firestore,Nr),n=ji(e),r=new Sf(e);return a6(t._query),U3(n,t._query).then(i=>new vc(e,r,t,i))}function Nae(t){t=vn(t,Xi);const e=vn(t.firestore,Nr),n=ji(e),r=new Sf(e);return nae(n,t._query).then(i=>new vc(e,r,t,i))}function Lae(t){t=vn(t,Xi);const e=vn(t.firestore,Nr),n=ji(e),r=new Sf(e);return U3(n,t._query,{source:"server"}).then(i=>new vc(e,r,t,i))}function Ki(t,e,n){t=vn(t,hr);const r=vn(t.firestore,Nr),i=K1(t.converter,e,n);return qy(r,[U1(If(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,rr.none())])}function xi(t,e,n,...r){t=vn(t,hr);const i=vn(t.firestore,Nr),o=If(i);let s;return s=typeof(e=fn(e))=="string"||e instanceof gc?fA(o,"updateDoc",t._key,e,n,r):dA(o,"updateDoc",t._key,e),qy(i,[s.toMutation(t._key,rr.exists(!0))])}function Wo(t){return qy(vn(t.firestore,Nr),[new rm(t._key,rr.none())])}function Dae(t,e){const n=vn(t.firestore,Nr),r=bt(t),i=K1(t.converter,e);return qy(n,[U1(If(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function h6(t,...e){var n,r,i;t=fn(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||XS(e[s])||(o=e[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(XS(e[s])){const f=e[s];e[s]=(n=f.next)===null||n===void 0?void 0:n.bind(f),e[s+1]=(r=f.error)===null||r===void 0?void 0:r.bind(f),e[s+2]=(i=f.complete)===null||i===void 0?void 0:i.bind(f)}let l,u,c;if(t instanceof hr)u=vn(t.firestore,Nr),c=tm(t._key.path),l={next:f=>{e[s]&&e[s](yA(u,t,f))},error:e[s+1],complete:e[s+2]};else{const f=vn(t,Xi);u=vn(f.firestore,Nr),c=f._query;const h=new Sf(u);l={next:p=>{e[s]&&e[s](new vc(u,h,f,p))},error:e[s+1],complete:e[s+2]},a6(t._query)}return function(h,p,g,_){const w=new $1(_),b=new Yk(p,w,g);return h.asyncQueue.enqueueAndForget(async()=>Kk(await kp(h),b)),()=>{w.Za(),h.asyncQueue.enqueueAndForget(async()=>Gk(await kp(h),b))}}(ji(u),c,a,l)}function jae(t,e){return rae(ji(t=vn(t,Nr)),XS(e)?e:{next:e})}function qy(t,e){return function(r,i){const o=new _i;return r.asyncQueue.enqueueAndForget(async()=>Rse(await iA(r),i,o)),o.promise}(ji(t),e)}function yA(t,e,n){const r=n.docs.get(e._key),i=new Sf(t);return new Kl(t,i,e._key,r,new Cd(n.hasPendingWrites,n.fromCache),e.converter)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $ae={maxAttempts:5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mae=class{constructor(e,n){this._firestore=e,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=If(e)}set(e,n,r){this._verifyNotCommitted();const i=Uu(e,this._firestore),o=K1(i.converter,n,r),s=U1(this._dataReader,"WriteBatch.set",i._key,o,i.converter!==null,r);return this._mutations.push(s.toMutation(i._key,rr.none())),this}update(e,n,r,...i){this._verifyNotCommitted();const o=Uu(e,this._firestore);let s;return s=typeof(n=fn(n))=="string"||n instanceof gc?fA(this._dataReader,"WriteBatch.update",o._key,n,r,i):dA(this._dataReader,"WriteBatch.update",o._key,n),this._mutations.push(s.toMutation(o._key,rr.exists(!0))),this}delete(e){this._verifyNotCommitted();const n=Uu(e,this._firestore);return this._mutations=this._mutations.concat(new rm(n._key,rr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new je(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}};function Uu(t,e){if((t=fn(t)).firestore!==e)throw new je(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bae=class extends class{constructor(n,r){this._firestore=n,this._transaction=r,this._dataReader=If(n)}get(n){const r=Uu(n,this._firestore),i=new kae(this._firestore);return this._transaction.lookup([r._key]).then(o=>{if(!o||o.length!==1)return dt();const s=o[0];if(s.isFoundDocument())return new Hv(this._firestore,i,s.key,s,r.converter);if(s.isNoDocument())return new Hv(this._firestore,i,r._key,null,r.converter);throw dt()})}set(n,r,i){const o=Uu(n,this._firestore),s=K1(o.converter,r,i),a=U1(this._dataReader,"Transaction.set",o._key,s,o.converter!==null,i);return this._transaction.set(o._key,a),this}update(n,r,i,...o){const s=Uu(n,this._firestore);let a;return a=typeof(r=fn(r))=="string"||r instanceof gc?fA(this._dataReader,"Transaction.update",s._key,r,i,o):dA(this._dataReader,"Transaction.update",s._key,r),this._transaction.update(s._key,a),this}delete(n){const r=Uu(n,this._firestore);return this._transaction.delete(r._key),this}}{constructor(e,n){super(e,n),this._firestore=e}get(e){const n=Uu(e,this._firestore),r=new Sf(this._firestore);return super.get(e).then(i=>new Kl(this._firestore,r,n._key,i._document,new Cd(!1,!1),n.converter))}};function Fae(t,e,n){t=vn(t,Nr);const r=Object.assign(Object.assign({},$ae),n);return function(o){if(o.maxAttempts<1)throw new je(ke.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(o,s,a){const l=new _i;return o.asyncQueue.enqueueAndForget(async()=>{const u=await Jse(o);new Yse(o.asyncQueue,u,a,s,l).au()}),l.promise}(ji(t),i=>e(new Bae(t,i)),r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vae(){return new Vy("deleteField")}function Uae(){return new aA("serverTimestamp")}function Wv(...t){return new lA("arrayUnion",t)}function zae(...t){return new uA("arrayRemove",t)}function qae(t){return new cA("increment",t)}(function(e,n=!0){(function(i){em=i})(tu),ql(new Wa("firestore",(r,{instanceIdentifier:i,options:o})=>{const s=r.getProvider("app").getImmediate(),a=new Nr(new tie(r.getProvider("auth-internal")),new oie(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new je(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fc(u.options.projectId,c)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),To(ZL,"4.7.3",e),To(ZL,"4.7.3","esm2017")})();const Hae="@firebase/firestore-compat",Wae="0.3.38";/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bA(t,e){if(e===void 0)return{merge:!1};if(e.mergeFields!==void 0&&e.merge!==void 0)throw new je("invalid-argument",`Invalid options passed to function ${t}(): You cannot specify both "merge" and "mergeFields".`);return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uj(){if(typeof Uint8Array>"u")throw new je("unimplemented","Uint8Arrays are not available in this environment.")}function cj(){if(!Rie())throw new je("unimplemented","Blobs are unavailable in Firestore in this environment.")}let p6=class ZS{constructor(e){this._delegate=e}static fromBase64String(e){return cj(),new ZS(Qa.fromBase64String(e))}static fromUint8Array(e){return uj(),new ZS(Qa.fromUint8Array(e))}toBase64(){return cj(),this._delegate.toBase64()}toUint8Array(){return uj(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t){return Kae(t,["next","error","complete"])}function Kae(t,e){if(typeof t!="object"||t===null)return!1;const n=t;for(const r of e)if(r in n&&typeof n[r]=="function")return!0;return!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gae{enableIndexedDbPersistence(e,n){return cae(e._delegate,{forceOwnership:n})}enableMultiTabIndexedDbPersistence(e){return dae(e._delegate)}clearIndexedDbPersistence(e){return fae(e._delegate)}}class m6{constructor(e,n,r){this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof fc||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const n=this._delegate._getSettings();!e.merge&&n.host!==e.host&&Ka("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&(e=Object.assign(Object.assign({},n),e),delete e.merge),this._delegate._setSettings(e)}useEmulator(e,n,r={}){W3(this._delegate,e,n,r)}enableNetwork(){return pae(this._delegate)}disableNetwork(){return mae(this._delegate)}enablePersistence(e){let n=!1,r=!1;return e&&(n=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,q3("synchronizeTabs",n,"experimentalForceOwningTab",r)),n?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return hae(this._delegate)}onSnapshotsInSync(e){return jae(this._delegate,e)}get app(){if(!this._appCompat)throw new je("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Ap(this,hn(this._delegate,e))}catch(n){throw Wi(n,"collection()","Firestore.collection()")}}doc(e){try{return new ys(this,bt(this._delegate,e))}catch(n){throw Wi(n,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new Hi(this,sae(this._delegate,e))}catch(n){throw Wi(n,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return Fae(this._delegate,n=>e(new g6(this,n)))}batch(){return ji(this._delegate),new v6(new Mae(this._delegate,e=>qy(this._delegate,e)))}loadBundle(e){return gae(this._delegate,e)}namedQuery(e){return vae(this._delegate,e).then(n=>n?new Hi(this,n):null)}}class G1 extends vA{constructor(e){super(),this.firestore=e}convertBytes(e){return new p6(new Qa(e))}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return ys.forKey(n,this.firestore,null)}}function Qae(t){Xre(t)}class g6{constructor(e,n){this._firestore=e,this._delegate=n,this._userDataWriter=new G1(e)}get(e){const n=Pd(e);return this._delegate.get(n).then(r=>new Kv(this._firestore,new Kl(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,n.converter)))}set(e,n,r){const i=Pd(e);return r?(bA("Transaction.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Pd(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Pd(e);return this._delegate.delete(n),this}}class v6{constructor(e){this._delegate=e}set(e,n,r){const i=Pd(e);return r?(bA("WriteBatch.set",r),this._delegate.set(i,n,r)):this._delegate.set(i,n),this}update(e,n,r,...i){const o=Pd(e);return arguments.length===2?this._delegate.update(o,n):this._delegate.update(o,n,r,...i),this}delete(e){const n=Pd(e);return this._delegate.delete(n),this}commit(){return this._delegate.commit()}}class af{constructor(e,n,r){this._firestore=e,this._userDataWriter=n,this._delegate=r}fromFirestore(e,n){const r=new Qg(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new Gv(this._firestore,r),n??{})}toFirestore(e,n){return n?this._delegate.toFirestore(e,n):this._delegate.toFirestore(e)}static getInstance(e,n){const r=af.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(n);return o||(o=new af(e,new G1(e),n),i.set(n,o)),o}}af.INSTANCES=new WeakMap;class ys{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new G1(e)}static forPath(e,n,r){if(e.length%2!==0)throw new je("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new ys(n,new hr(n._delegate,r,new et(e)))}static forKey(e,n,r){return new ys(n,new hr(n._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Ap(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Ap(this.firestore,hn(this._delegate,e))}catch(n){throw Wi(n,"collection()","DocumentReference.collection()")}}isEqual(e){return e=fn(e),e instanceof hr?Y3(this._delegate,e):!1}set(e,n){n=bA("DocumentReference.set",n);try{return n?Ki(this._delegate,e,n):Ki(this._delegate,e)}catch(r){throw Wi(r,"setDoc()","DocumentReference.set()")}}update(e,n,...r){try{return arguments.length===1?xi(this._delegate,e):xi(this._delegate,e,n,...r)}catch(i){throw Wi(i,"updateDoc()","DocumentReference.update()")}}delete(){return Wo(this._delegate)}onSnapshot(...e){const n=y6(e),r=b6(e,i=>new Kv(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return h6(this._delegate,n,r)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Rae(this._delegate):(e==null?void 0:e.source)==="server"?n=Oae(this._delegate):n=Ao(this._delegate),n.then(r=>new Kv(this.firestore,new Kl(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new ys(this.firestore,e?this._delegate.withConverter(af.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Wi(t,e,n){return t.message=t.message.replace(e,n),t}function y6(t){for(const e of t)if(typeof e=="object"&&!eC(e))return e;return{}}function b6(t,e){var n,r;let i;return eC(t[0])?i=t[0]:eC(t[1])?i=t[1]:typeof t[0]=="function"?i={next:t[0],error:t[1],complete:t[2]}:i={next:t[1],error:t[2],complete:t[3]},{next:o=>{i.next&&i.next(e(o))},error:(n=i.error)===null||n===void 0?void 0:n.bind(i),complete:(r=i.complete)===null||r===void 0?void 0:r.bind(i)}}class Kv{constructor(e,n){this._firestore=e,this._delegate=n}get ref(){return new ys(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,n){return this._delegate.get(e,n)}isEqual(e){return f6(this._delegate,e._delegate)}}class Gv extends Kv{data(e){const n=this._delegate.data(e);return this._delegate._converter||Jre(n!==void 0),n}}class Hi{constructor(e,n){this.firestore=e,this._delegate=n,this._userDataWriter=new G1(e)}where(e,n,r){try{return new Hi(this.firestore,Lt(this._delegate,Ze(e,n,r)))}catch(i){throw Wi(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,n){try{return new Hi(this.firestore,Lt(this._delegate,l6(e,n)))}catch(r){throw Wi(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new Hi(this.firestore,Lt(this._delegate,Eae(e)))}catch(n){throw Wi(n,"limit()","Query.limit()")}}limitToLast(e){try{return new Hi(this.firestore,Lt(this._delegate,Iae(e)))}catch(n){throw Wi(n,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new Hi(this.firestore,Lt(this._delegate,Tae(...e)))}catch(n){throw Wi(n,"startAt()","Query.startAt()")}}startAfter(...e){try{return new Hi(this.firestore,Lt(this._delegate,Sae(...e)))}catch(n){throw Wi(n,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new Hi(this.firestore,Lt(this._delegate,Cae(...e)))}catch(n){throw Wi(n,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new Hi(this.firestore,Lt(this._delegate,Pae(...e)))}catch(n){throw Wi(n,"endAt()","Query.endAt()")}}isEqual(e){return X3(this._delegate,e._delegate)}get(e){let n;return(e==null?void 0:e.source)==="cache"?n=Nae(this._delegate):(e==null?void 0:e.source)==="server"?n=Lae(this._delegate):n=Ur(this._delegate),n.then(r=>new tC(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const n=y6(e),r=b6(e,i=>new tC(this.firestore,new vc(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return h6(this._delegate,n,r)}withConverter(e){return new Hi(this.firestore,e?this._delegate.withConverter(af.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class Yae{constructor(e,n){this._firestore=e,this._delegate=n}get type(){return this._delegate.type}get doc(){return new Gv(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class tC{constructor(e,n){this._firestore=e,this._delegate=n}get query(){return new Hi(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new Gv(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(n=>new Yae(this._firestore,n))}forEach(e,n){this._delegate.forEach(r=>{e.call(n,new Gv(this._firestore,r))})}isEqual(e){return f6(this._delegate,e._delegate)}}class Ap extends Hi{constructor(e,n){super(e,n),this.firestore=e,this._delegate=n}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new ys(this.firestore,e):null}doc(e){try{return e===void 0?new ys(this.firestore,bt(this._delegate)):new ys(this.firestore,bt(this._delegate,e))}catch(n){throw Wi(n,"doc()","CollectionReference.doc()")}}add(e){return Dae(this._delegate,e).then(n=>new ys(this.firestore,n))}isEqual(e){return Y3(this._delegate,e._delegate)}withConverter(e){return new Ap(this.firestore,e?this._delegate.withConverter(af.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Pd(t){return vn(t,hr)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(...e){this._delegate=new gc(...e)}static documentId(){return new _A(nr.keyField().canonicalString())}isEqual(e){return e=fn(e),e instanceof gc?this._delegate._internalPath.isEqual(e._internalPath):!1}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this._delegate=e}static serverTimestamp(){const e=Uae();return e._methodName="FieldValue.serverTimestamp",new xd(e)}static delete(){const e=Vae();return e._methodName="FieldValue.delete",new xd(e)}static arrayUnion(...e){const n=Wv(...e);return n._methodName="FieldValue.arrayUnion",new xd(n)}static arrayRemove(...e){const n=zae(...e);return n._methodName="FieldValue.arrayRemove",new xd(n)}static increment(e){const n=qae(e);return n._methodName="FieldValue.increment",new xd(n)}isEqual(e){return this._delegate.isEqual(e._delegate)}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xae={Firestore:m6,GeoPoint:F1,Timestamp:Rt,Blob:p6,Transaction:g6,WriteBatch:v6,DocumentReference:ys,DocumentSnapshot:Kv,Query:Hi,QueryDocumentSnapshot:Gv,QuerySnapshot:tC,CollectionReference:Ap,FieldPath:_A,FieldValue:xd,setLogLevel:Qae,CACHE_SIZE_UNLIMITED:lae};function Jae(t,e){t.INTERNAL.registerComponent(new Wa("firestore-compat",n=>{const r=n.getProvider("app-compat").getImmediate(),i=n.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},Xae)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zae(t){Jae(t,(e,n)=>new m6(e,n,new Gae)),t.registerVersion(Hae,Wae)}Zae(Yre);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _6="firebasestorage.googleapis.com",w6="storageBucket",ele=2*60*1e3,tle=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr extends ma{constructor(e,n,r=0){super(QI(e),`Firebase Storage: ${n} (${QI(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Tr.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QI(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Ir;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Ir||(Ir={}));function QI(t){return"storage/"+t}function wA(){const t="An unknown error occurred, please check the error payload for server response.";return new Tr(Ir.UNKNOWN,t)}function nle(t){return new Tr(Ir.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function rle(t){return new Tr(Ir.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function ile(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Tr(Ir.UNAUTHENTICATED,t)}function ole(){return new Tr(Ir.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function sle(t){return new Tr(Ir.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function ale(){return new Tr(Ir.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lle(){return new Tr(Ir.CANCELED,"User canceled the upload/download.")}function ule(t){return new Tr(Ir.INVALID_URL,"Invalid URL '"+t+"'.")}function cle(t){return new Tr(Ir.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function dle(){return new Tr(Ir.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+w6+"' property when initializing the app?")}function fle(){return new Tr(Ir.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function hle(){return new Tr(Ir.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function ple(t){return new Tr(Ir.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function nC(t){return new Tr(Ir.INVALID_ARGUMENT,t)}function x6(){return new Tr(Ir.APP_DELETED,"The Firebase app was deleted.")}function mle(t){return new Tr(Ir.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Yg(t,e){return new Tr(Ir.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ig(t){throw new Tr(Ir.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Fo.makeFromUrl(e,n)}catch{return new Fo(e,"")}if(r.path==="")return r;throw cle(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function o(x){x.path.charAt(x.path.length-1)==="/"&&(x.path_=x.path_.slice(0,-1))}const s="(/(.*))?$",a=new RegExp("^gs://"+i+s,"i"),l={bucket:1,path:3};function u(x){x.path_=decodeURIComponent(x.path)}const c="v[A-Za-z0-9_]+",f=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${f}/${c}/b/${i}/o${h}`,"i"),g={bucket:1,path:3},_=n===_6?"(?:storage.googleapis.com|storage.cloud.google.com)":n,w="([^?#]*)",b=new RegExp(`^https?://${_}/${i}/${w}`,"i"),y=[{regex:a,indices:l,postModify:o},{regex:p,indices:g,postModify:u},{regex:b,indices:{bucket:1,path:2},postModify:u}];for(let x=0;x<y.length;x++){const I=y[x],O=I.regex.exec(e);if(O){const S=O[I.indices.bucket];let C=O[I.indices.path];C||(C=""),r=new Fo(S,C),I.postModify(r);break}}if(r==null)throw ule(e);return r}}class gle{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vle(t,e,n){let r=1,i=null,o=null,s=!1,a=0;function l(){return a===2}let u=!1;function c(...w){u||(u=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(p,l())},w)}function h(){o&&clearTimeout(o)}function p(w,...b){if(u){h();return}if(w){h(),c.call(null,w,...b);return}if(l()||s){h(),c.call(null,w,...b);return}r<64&&(r*=2);let y;a===1?(a=2,y=0):y=(r+Math.random())*1e3,f(y)}let g=!1;function _(w){g||(g=!0,h(),!u&&(i!==null?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),o=setTimeout(()=>{s=!0,_(!0)},n),_}function yle(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ble(t){return t!==void 0}function _le(t){return typeof t=="object"&&!Array.isArray(t)}function xA(t){return typeof t=="string"||t instanceof String}function dj(t){return EA()&&t instanceof Blob}function EA(){return typeof Blob<"u"}function fj(t,e,n,r){if(r<e)throw nC(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw nC(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IA(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function E6(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var $d;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($d||($d={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wle(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||i||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xle{constructor(e,n,r,i,o,s,a,l,u,c,f,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=o,this.additionalRetryCodes_=s,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=f,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,g)=>{this.resolve_=p,this.reject_=g,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new xb(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const s=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&o.addUploadProgressListener(s),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(s),this.pendingConnection_=null;const a=o.getErrorCode()===$d.NO_ERROR,l=o.getStatus();if(!a||wle(l,this.additionalRetryCodes_)&&this.retry){const c=o.getErrorCode()===$d.ABORT;r(!1,new xb(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new xb(u,o))})},n=(r,i)=>{const o=this.resolve_,s=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());ble(l)?o(l):o()}catch(l){s(l)}else if(a!==null){const l=wA();l.serverResponse=a.getErrorText(),this.errorCallback_?s(this.errorCallback_(a,l)):s(l)}else if(i.canceled){const l=this.appDelete_?x6():lle();s(l)}else{const l=ale();s(l)}};this.canceled_?n(!1,new xb(!1,null,!0)):this.backoffId_=vle(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&yle(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class xb{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function Ele(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function Ile(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Tle(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Sle(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Cle(t,e,n,r,i,o,s=!0){const a=E6(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return Tle(u,e),Ele(u,n),Ile(u,o),Sle(u,r),new xle(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ple(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function kle(...t){const e=Ple();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(EA())return new Blob(t);throw new Tr(Ir.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function Ale(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rle(t){if(typeof atob>"u")throw ple("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ja={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class YI{constructor(e,n){this.data=e,this.contentType=n||null}}function Ole(t,e){switch(t){case ja.RAW:return new YI(I6(e));case ja.BASE64:case ja.BASE64URL:return new YI(T6(t,e));case ja.DATA_URL:return new YI(Lle(e),Dle(e))}throw wA()}function I6(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const o=r,s=t.charCodeAt(++n);r=65536|(o&1023)<<10|s&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Nle(t){let e;try{e=decodeURIComponent(t)}catch{throw Yg(ja.DATA_URL,"Malformed data URL.")}return I6(e)}function T6(t,e){switch(t){case ja.BASE64:{const i=e.indexOf("-")!==-1,o=e.indexOf("_")!==-1;if(i||o)throw Yg(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case ja.BASE64URL:{const i=e.indexOf("+")!==-1,o=e.indexOf("/")!==-1;if(i||o)throw Yg(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Rle(e)}catch(i){throw i.message.includes("polyfill")?i:Yg(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class S6{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Yg(ja.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=jle(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Lle(t){const e=new S6(t);return e.base64?T6(ja.BASE64,e.rest):Nle(e.rest)}function Dle(t){return new S6(t).contentType}function jle(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n){let r=0,i="";dj(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(dj(this.data_)){const r=this.data_,i=Ale(r,e,n);return i===null?null:new zu(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new zu(r,!0)}}static getBlob(...e){if(EA()){const n=e.map(r=>r instanceof zu?r.data_:r);return new zu(kle.apply(null,n))}else{const n=e.map(s=>xA(s)?Ole(ja.RAW,s).data:s.data_);let r=0;n.forEach(s=>{r+=s.byteLength});const i=new Uint8Array(r);let o=0;return n.forEach(s=>{for(let a=0;a<s.length;a++)i[o++]=s[a]}),new zu(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C6(t){let e;try{e=JSON.parse(t)}catch{return null}return _le(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $le(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Mle(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function P6(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ble(t,e){return e}class zi{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Ble}}let Eb=null;function Fle(t){return!xA(t)||t.length<2?t:P6(t)}function k6(){if(Eb)return Eb;const t=[];t.push(new zi("bucket")),t.push(new zi("generation")),t.push(new zi("metageneration")),t.push(new zi("name","fullPath",!0));function e(o,s){return Fle(s)}const n=new zi("name");n.xform=e,t.push(n);function r(o,s){return s!==void 0?Number(s):s}const i=new zi("size");return i.xform=r,t.push(i),t.push(new zi("timeCreated")),t.push(new zi("updated")),t.push(new zi("md5Hash",null,!0)),t.push(new zi("cacheControl",null,!0)),t.push(new zi("contentDisposition",null,!0)),t.push(new zi("contentEncoding",null,!0)),t.push(new zi("contentLanguage",null,!0)),t.push(new zi("contentType",null,!0)),t.push(new zi("metadata","customMetadata",!0)),Eb=t,Eb}function Vle(t,e){function n(){const r=t.bucket,i=t.fullPath,o=new Fo(r,i);return e._makeStorageReference(o)}Object.defineProperty(t,"ref",{get:n})}function Ule(t,e,n){const r={};r.type="file";const i=n.length;for(let o=0;o<i;o++){const s=n[o];r[s.local]=s.xform(r,e[s.server])}return Vle(r,t),r}function A6(t,e,n){const r=C6(e);return r===null?null:Ule(t,r,n)}function zle(t,e,n,r){const i=C6(e);if(i===null||!xA(i.downloadTokens))return null;const o=i.downloadTokens;if(o.length===0)return null;const s=encodeURIComponent;return o.split(",").map(u=>{const c=t.bucket,f=t.fullPath,h="/b/"+s(c)+"/o/"+s(f),p=IA(h,n,r),g=E6({alt:"media",token:u});return p+g})[0]}function qle(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}class R6{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O6(t){if(!t)throw wA()}function Hle(t,e){function n(r,i){const o=A6(t,i,e);return O6(o!==null),o}return n}function Wle(t,e){function n(r,i){const o=A6(t,i,e);return O6(o!==null),zle(o,i,t.host,t._protocol)}return n}function N6(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=ole():i=ile():n.getStatus()===402?i=rle(t.bucket):n.getStatus()===403?i=sle(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function Kle(t){const e=N6(t);function n(r,i){let o=e(r,i);return r.getStatus()===404&&(o=nle(t.path)),o.serverResponse=i.serverResponse,o}return n}function Gle(t,e,n){const r=e.fullServerUrl(),i=IA(r,t.host,t._protocol),o="GET",s=t.maxOperationRetryTime,a=new R6(i,o,Wle(t,n),s);return a.errorHandler=Kle(e),a}function Qle(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Yle(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Qle(null,e)),r}function Xle(t,e,n,r,i){const o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"};function a(){let y="";for(let x=0;x<2;x++)y=y+Math.random().toString().slice(2);return y}const l=a();s["Content-Type"]="multipart/related; boundary="+l;const u=Yle(e,r,i),c=qle(u,n),f="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=zu.getBlob(f,r,h);if(p===null)throw fle();const g={name:u.fullPath},_=IA(o,t.host,t._protocol),w="POST",b=t.maxUploadRetryTime,v=new R6(_,w,Hle(t,n),b);return v.urlParams=g,v.headers=s,v.body=p.uploadData(),v.errorHandler=N6(e),v}class Jle{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$d.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$d.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$d.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ig("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const o in i)i.hasOwnProperty(o)&&this.xhr_.setRequestHeader(o,i[o].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ig("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ig("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ig("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ig("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class Zle extends Jle{initXhr(){this.xhr_.responseType="text"}}function L6(){return new Zle}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e,n){this._service=e,n instanceof Fo?this._location=n:this._location=Fo.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new lf(e,n)}get root(){const e=new Fo(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return P6(this._location.path)}get storage(){return this._service}get parent(){const e=$le(this._location.path);if(e===null)return null;const n=new Fo(this._location.bucket,e);return new lf(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw mle(e)}}function eue(t,e,n){t._throwIfRoot("uploadBytes");const r=Xle(t.storage,t._location,k6(),new zu(e,!0),n);return t.storage.makeRequestWithTokens(r,L6).then(i=>({metadata:i,ref:t}))}function tue(t){t._throwIfRoot("getDownloadURL");const e=Gle(t.storage,t._location,k6());return t.storage.makeRequestWithTokens(e,L6).then(n=>{if(n===null)throw hle();return n})}function nue(t,e){const n=Mle(t._location.path,e),r=new Fo(t._location.bucket,n);return new lf(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rue(t){return/^[A-Za-z]+:\/\//.test(t)}function iue(t,e){return new lf(t,e)}function D6(t,e){if(t instanceof TA){const n=t;if(n._bucket==null)throw dle();const r=new lf(n,n._bucket);return e!=null?D6(r,e):r}else return e!==void 0?nue(t,e):t}function oue(t,e){if(e&&rue(e)){if(t instanceof TA)return iue(t,e);throw nC("To use ref(service, url), the first argument must be a Storage instance.")}else return D6(t,e)}function hj(t,e){const n=e==null?void 0:e[w6];return n==null?null:Fo.makeFromBucketSpec(n,t)}function sue(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:X4(i,t.app.options.projectId))}class TA{constructor(e,n,r,i,o){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=o,this._bucket=null,this._host=_6,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=ele,this._maxUploadRetryTime=tle,this._requests=new Set,i!=null?this._bucket=Fo.makeFromBucketSpec(i,this._host):this._bucket=hj(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Fo.makeFromBucketSpec(this._url,e):this._bucket=hj(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){fj("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new lf(this,e)}_makeRequest(e,n,r,i,o=!0){if(this._deleted)return new gle(x6());{const s=Cle(e,this._appId,r,i,n,this._firebaseVersion,o);return this._requests.add(s),s.getPromise().then(()=>this._requests.delete(s),()=>this._requests.delete(s)),s}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const pj="@firebase/storage",mj="0.13.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j6="storage";function $6(t,e,n){return t=fn(t),eue(t,e,n)}function M6(t){return t=fn(t),tue(t)}function B6(t,e){return t=fn(t),oue(t,e)}function aue(t=E1(),e){t=fn(t);const r=Jp(t,j6).getImmediate({identifier:e}),i=G4("storage");return i&&lue(r,...i),r}function lue(t,e,n,r={}){sue(t,e,n,r)}function uue(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new TA(n,r,i,e,tu)}function cue(){ql(new Wa(j6,uue,"PUBLIC").setMultipleInstances(!0)),To(pj,mj,""),To(pj,mj,"esm2017")}cue();var F6={exports:{}};/*! algoliasearch.umd.js | 4.24.0 |  Algolia, inc. | https://github.com/algolia/algoliasearch-client-javascript */(function(t,e){(function(n,r){t.exports=r()})(Gn,function(){function n(J,ae,le){return ae in J?Object.defineProperty(J,ae,{value:le,enumerable:!0,configurable:!0,writable:!0}):J[ae]=le,J}function r(J,ae){var le=Object.keys(J);if(Object.getOwnPropertySymbols){var ce=Object.getOwnPropertySymbols(J);ae&&(ce=ce.filter(function(Ee){return Object.getOwnPropertyDescriptor(J,Ee).enumerable})),le.push.apply(le,ce)}return le}function i(J){for(var ae=1;ae<arguments.length;ae++){var le=arguments[ae]!=null?arguments[ae]:{};ae%2?r(Object(le),!0).forEach(function(ce){n(J,ce,le[ce])}):Object.getOwnPropertyDescriptors?Object.defineProperties(J,Object.getOwnPropertyDescriptors(le)):r(Object(le)).forEach(function(ce){Object.defineProperty(J,ce,Object.getOwnPropertyDescriptor(le,ce))})}return J}function o(J,ae){if(J==null)return{};var le,ce,Ee=function(qe,Ne){if(qe==null)return{};var We,lt,tt={},St=Object.keys(qe);for(lt=0;lt<St.length;lt++)We=St[lt],Ne.indexOf(We)>=0||(tt[We]=qe[We]);return tt}(J,ae);if(Object.getOwnPropertySymbols){var Be=Object.getOwnPropertySymbols(J);for(ce=0;ce<Be.length;ce++)le=Be[ce],ae.indexOf(le)>=0||Object.prototype.propertyIsEnumerable.call(J,le)&&(Ee[le]=J[le])}return Ee}function s(J,ae){return function(le){if(Array.isArray(le))return le}(J)||function(le,ce){if(Symbol.iterator in Object(le)||Object.prototype.toString.call(le)==="[object Arguments]"){var Ee=[],Be=!0,qe=!1,Ne=void 0;try{for(var We,lt=le[Symbol.iterator]();!(Be=(We=lt.next()).done)&&(Ee.push(We.value),!ce||Ee.length!==ce);Be=!0);}catch(tt){qe=!0,Ne=tt}finally{try{Be||lt.return==null||lt.return()}finally{if(qe)throw Ne}}return Ee}}(J,ae)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(J){return function(ae){if(Array.isArray(ae)){for(var le=0,ce=new Array(ae.length);le<ae.length;le++)ce[le]=ae[le];return ce}}(J)||function(ae){if(Symbol.iterator in Object(ae)||Object.prototype.toString.call(ae)==="[object Arguments]")return Array.from(ae)}(J)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function l(J){var ae,le="algoliasearch-client-js-".concat(J.key),ce=function(){return ae===void 0&&(ae=J.localStorage||window.localStorage),ae},Ee=function(){return JSON.parse(ce().getItem(le)||"{}")},Be=function(Ne){ce().setItem(le,JSON.stringify(Ne))},qe=function(){var Ne=J.timeToLive?1e3*J.timeToLive:null,We=Ee(),lt=Object.fromEntries(Object.entries(We).filter(function(St){return s(St,2)[1].timestamp!==void 0}));if(Be(lt),Ne){var tt=Object.fromEntries(Object.entries(lt).filter(function(St){var At=s(St,2)[1],Xt=new Date().getTime();return!(At.timestamp+Ne<Xt)}));Be(tt)}};return{get:function(Ne,We){var lt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then(function(){qe();var tt=JSON.stringify(Ne);return Ee()[tt]}).then(function(tt){return Promise.all([tt?tt.value:We(),tt!==void 0])}).then(function(tt){var St=s(tt,2),At=St[0],Xt=St[1];return Promise.all([At,Xt||lt.miss(At)])}).then(function(tt){return s(tt,1)[0]})},set:function(Ne,We){return Promise.resolve().then(function(){var lt=Ee();return lt[JSON.stringify(Ne)]={timestamp:new Date().getTime(),value:We},ce().setItem(le,JSON.stringify(lt)),We})},delete:function(Ne){return Promise.resolve().then(function(){var We=Ee();delete We[JSON.stringify(Ne)],ce().setItem(le,JSON.stringify(We))})},clear:function(){return Promise.resolve().then(function(){ce().removeItem(le)})}}}function u(J){var ae=a(J.caches),le=ae.shift();return le===void 0?{get:function(ce,Ee){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},qe=Ee();return qe.then(function(Ne){return Promise.all([Ne,Be.miss(Ne)])}).then(function(Ne){return s(Ne,1)[0]})},set:function(ce,Ee){return Promise.resolve(Ee)},delete:function(ce){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(ce,Ee){var Be=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}};return le.get(ce,Ee,Be).catch(function(){return u({caches:ae}).get(ce,Ee,Be)})},set:function(ce,Ee){return le.set(ce,Ee).catch(function(){return u({caches:ae}).set(ce,Ee)})},delete:function(ce){return le.delete(ce).catch(function(){return u({caches:ae}).delete(ce)})},clear:function(){return le.clear().catch(function(){return u({caches:ae}).clear()})}}}function c(){var J=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{serializable:!0},ae={};return{get:function(le,ce){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{miss:function(){return Promise.resolve()}},Be=JSON.stringify(le);if(Be in ae)return Promise.resolve(J.serializable?JSON.parse(ae[Be]):ae[Be]);var qe=ce(),Ne=Ee&&Ee.miss||function(){return Promise.resolve()};return qe.then(function(We){return Ne(We)}).then(function(){return qe})},set:function(le,ce){return ae[JSON.stringify(le)]=J.serializable?JSON.stringify(ce):ce,Promise.resolve(ce)},delete:function(le){return delete ae[JSON.stringify(le)],Promise.resolve()},clear:function(){return ae={},Promise.resolve()}}}function f(J,ae,le){var ce={"x-algolia-api-key":le,"x-algolia-application-id":ae};return{headers:function(){return J===b.WithinHeaders?ce:{}},queryParameters:function(){return J===b.WithinQueryParameters?ce:{}}}}function h(J){var ae=0;return J(function le(){return ae++,new Promise(function(ce){setTimeout(function(){ce(J(le))},Math.min(100*ae,1e3))})})}function p(J){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(le,ce){return Promise.resolve()};return Object.assign(J,{wait:function(le){return p(J.then(function(ce){return Promise.all([ae(ce,le),ce])}).then(function(ce){return ce[1]}))}})}function g(J){for(var ae=J.length-1;ae>0;ae--){var le=Math.floor(Math.random()*(ae+1)),ce=J[ae];J[ae]=J[le],J[le]=ce}return J}function _(J,ae){return ae&&Object.keys(ae).forEach(function(le){J[le]=ae[le](J)}),J}function w(J){for(var ae=arguments.length,le=new Array(ae>1?ae-1:0),ce=1;ce<ae;ce++)le[ce-1]=arguments[ce];var Ee=0;return J.replace(/%s/g,function(){return encodeURIComponent(le[Ee++])})}var b={WithinQueryParameters:0,WithinHeaders:1};function v(J,ae){var le=J||{},ce=le.data||{};return Object.keys(le).forEach(function(Ee){["timeout","headers","queryParameters","data","cacheable"].indexOf(Ee)===-1&&(ce[Ee]=le[Ee])}),{data:Object.entries(ce).length>0?ce:void 0,timeout:le.timeout||ae,headers:le.headers||{},queryParameters:le.queryParameters||{},cacheable:le.cacheable}}var y={Read:1,Write:2,Any:3},x=1,I=2,O=3;function S(J){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x;return i(i({},J),{},{status:ae,lastUpdate:Date.now()})}function C(J){return typeof J=="string"?{protocol:"https",url:J,accept:y.Any}:{protocol:J.protocol||"https",url:J.url,accept:J.accept||y.Any}}var k="DELETE",P="GET",R="POST",L="PUT";function N(J,ae){return Promise.all(ae.map(function(le){return J.get(le,function(){return Promise.resolve(S(le))})})).then(function(le){var ce=le.filter(function(qe){return function(Ne){return Ne.status===x||Date.now()-Ne.lastUpdate>12e4}(qe)}),Ee=le.filter(function(qe){return function(Ne){return Ne.status===O&&Date.now()-Ne.lastUpdate<=12e4}(qe)}),Be=[].concat(a(ce),a(Ee));return{getTimeout:function(qe,Ne){return(Ee.length===0&&qe===0?1:Ee.length+3+qe)*Ne},statelessHosts:Be.length>0?Be.map(function(qe){return C(qe)}):ae}})}function V(J,ae,le,ce){var Ee=[],Be=function(At,Xt){if(!(At.method===P||At.data===void 0&&Xt.data===void 0)){var Ft=Array.isArray(At.data)?At.data:i(i({},At.data),Xt.data);return JSON.stringify(Ft)}}(le,ce),qe=function(At,Xt){var Ft=i(i({},At.headers),Xt.headers),Gt={};return Object.keys(Ft).forEach(function(Ln){var Zr=Ft[Ln];Gt[Ln.toLowerCase()]=Zr}),Gt}(J,ce),Ne=le.method,We=le.method!==P?{}:i(i({},le.data),ce.data),lt=i(i(i({"x-algolia-agent":J.userAgent.value},J.queryParameters),We),ce.queryParameters),tt=0,St=function At(Xt,Ft){var Gt=Xt.pop();if(Gt===void 0)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:Q(Ee)};var Ln={data:Be,headers:qe,method:Ne,url:B(Gt,le.path,lt),connectTimeout:Ft(tt,J.timeouts.connect),responseTimeout:Ft(tt,ce.timeout)},Zr=function(Sr){var Cr={request:Ln,response:Sr,host:Gt,triesLeft:Xt.length};return Ee.push(Cr),Cr},ts={onSuccess:function(Sr){return function(Cr){try{return JSON.parse(Cr.content)}catch(Qt){throw function(qt,Us){return{name:"DeserializationError",message:qt,response:Us}}(Qt.message,Cr)}}(Sr)},onRetry:function(Sr){var Cr=Zr(Sr);return Sr.isTimedOut&&tt++,Promise.all([J.logger.info("Retryable failure",G(Cr)),J.hostsCache.set(Gt,S(Gt,Sr.isTimedOut?O:I))]).then(function(){return At(Xt,Ft)})},onFail:function(Sr){throw Zr(Sr),function(Cr,Qt){var qt=Cr.content,Us=Cr.status,zs=qt;try{zs=JSON.parse(qt).message}catch{}return function(Sn,qc,Im){return{name:"ApiError",message:Sn,status:qc,transporterStackTrace:Im}}(zs,Us,Qt)}(Sr,Q(Ee))}};return J.requester.send(Ln).then(function(Sr){return function(Cr,Qt){return function(qt){var Us=qt.status;return qt.isTimedOut||function(zs){var Sn=zs.isTimedOut,qc=zs.status;return!Sn&&~~qc==0}(qt)||~~(Us/100)!=2&&~~(Us/100)!=4}(Cr)?Qt.onRetry(Cr):~~(Cr.status/100)==2?Qt.onSuccess(Cr):Qt.onFail(Cr)}(Sr,ts)})};return N(J.hostsCache,ae).then(function(At){return St(a(At.statelessHosts).reverse(),At.getTimeout)})}function F(J){var ae=J.hostsCache,le=J.logger,ce=J.requester,Ee=J.requestsCache,Be=J.responsesCache,qe=J.timeouts,Ne=J.userAgent,We=J.hosts,lt=J.queryParameters,tt={hostsCache:ae,logger:le,requester:ce,requestsCache:Ee,responsesCache:Be,timeouts:qe,userAgent:Ne,headers:J.headers,queryParameters:lt,hosts:We.map(function(St){return C(St)}),read:function(St,At){var Xt=v(At,tt.timeouts.read),Ft=function(){return V(tt,tt.hosts.filter(function(Ln){return(Ln.accept&y.Read)!=0}),St,Xt)};if((Xt.cacheable!==void 0?Xt.cacheable:St.cacheable)!==!0)return Ft();var Gt={request:St,mappedRequestOptions:Xt,transporter:{queryParameters:tt.queryParameters,headers:tt.headers}};return tt.responsesCache.get(Gt,function(){return tt.requestsCache.get(Gt,function(){return tt.requestsCache.set(Gt,Ft()).then(function(Ln){return Promise.all([tt.requestsCache.delete(Gt),Ln])},function(Ln){return Promise.all([tt.requestsCache.delete(Gt),Promise.reject(Ln)])}).then(function(Ln){var Zr=s(Ln,2);return Zr[0],Zr[1]})})},{miss:function(Ln){return tt.responsesCache.set(Gt,Ln)}})},write:function(St,At){return V(tt,tt.hosts.filter(function(Xt){return(Xt.accept&y.Write)!=0}),St,v(At,tt.timeouts.write))}};return tt}function z(J){var ae={value:"Algolia for JavaScript (".concat(J,")"),add:function(le){var ce="; ".concat(le.segment).concat(le.version!==void 0?" (".concat(le.version,")"):"");return ae.value.indexOf(ce)===-1&&(ae.value="".concat(ae.value).concat(ce)),ae}};return ae}function B(J,ae,le){var ce=W(le),Ee="".concat(J.protocol,"://").concat(J.url,"/").concat(ae.charAt(0)==="/"?ae.substr(1):ae);return ce.length&&(Ee+="?".concat(ce)),Ee}function W(J){return Object.keys(J).map(function(ae){return w("%s=%s",ae,(le=J[ae],Object.prototype.toString.call(le)==="[object Object]"||Object.prototype.toString.call(le)==="[object Array]"?JSON.stringify(J[ae]):J[ae]));var le}).join("&")}function Q(J){return J.map(function(ae){return G(ae)})}function G(J){var ae=J.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return i(i({},J),{},{request:i(i({},J.request),{},{headers:i(i({},J.request.headers),ae)})})}var j=function(J){return function(ae,le){return J.transporter.write({method:R,path:"2/abtests",data:ae},le)}},U=function(J){return function(ae,le){return J.transporter.write({method:k,path:w("2/abtests/%s",ae)},le)}},K=function(J){return function(ae,le){return J.transporter.read({method:P,path:w("2/abtests/%s",ae)},le)}},ne=function(J){return function(ae){return J.transporter.read({method:P,path:"2/abtests"},ae)}},oe=function(J){return function(ae,le){return J.transporter.write({method:R,path:w("2/abtests/%s/stop",ae)},le)}},X=function(J){return function(ae){return J.transporter.read({method:P,path:"1/strategies/personalization"},ae)}},Z=function(J){return function(ae,le){return J.transporter.write({method:R,path:"1/strategies/personalization",data:ae},le)}};function re(J){return function ae(le){return J.request(le).then(function(ce){if(J.batch!==void 0&&J.batch(ce.hits),!J.shouldStop(ce))return ce.cursor?ae({cursor:ce.cursor}):ae({page:(le.page||0)+1})})}({})}var ue=function(J){return function(ae,le){var ce=le||{},Ee=ce.queryParameters,Be=o(ce,["queryParameters"]),qe=i({acl:ae},Ee!==void 0?{queryParameters:Ee}:{});return p(J.transporter.write({method:R,path:"1/keys",data:qe},Be),function(Ne,We){return h(function(lt){return Te(J)(Ne.key,We).catch(function(tt){if(tt.status!==404)throw tt;return lt()})})})}},te=function(J){return function(ae,le,ce){var Ee=v(ce);return Ee.queryParameters["X-Algolia-User-ID"]=ae,J.transporter.write({method:R,path:"1/clusters/mapping",data:{cluster:le}},Ee)}},fe=function(J){return function(ae,le,ce){return J.transporter.write({method:R,path:"1/clusters/mapping/batch",data:{users:ae,cluster:le}},ce)}},be=function(J){return function(ae,le){return p(J.transporter.write({method:R,path:w("/1/dictionaries/%s/batch",ae),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},le),function(ce,Ee){return ro(J)(ce.taskID,Ee)})}},ve=function(J){return function(ae,le,ce){return p(J.transporter.write({method:R,path:w("1/indexes/%s/operation",ae),data:{operation:"copy",destination:le}},ce),function(Ee,Be){return yt(J)(ae,{methods:{waitTask:Mn}}).waitTask(Ee.taskID,Be)})}},we=function(J){return function(ae,le,ce){return ve(J)(ae,le,i(i({},ce),{},{scope:[ul.Rules]}))}},Ce=function(J){return function(ae,le,ce){return ve(J)(ae,le,i(i({},ce),{},{scope:[ul.Settings]}))}},Ue=function(J){return function(ae,le,ce){return ve(J)(ae,le,i(i({},ce),{},{scope:[ul.Synonyms]}))}},Oe=function(J){return function(ae,le){return ae.method===P?J.transporter.read(ae,le):J.transporter.write(ae,le)}},he=function(J){return function(ae,le){return p(J.transporter.write({method:k,path:w("1/keys/%s",ae)},le),function(ce,Ee){return h(function(Be){return Te(J)(ae,Ee).then(Be).catch(function(qe){if(qe.status!==404)throw qe})})})}},_e=function(J){return function(ae,le,ce){var Ee=le.map(function(Be){return{action:"deleteEntry",body:{objectID:Be}}});return p(J.transporter.write({method:R,path:w("/1/dictionaries/%s/batch",ae),data:{clearExistingDictionaryEntries:!1,requests:Ee}},ce),function(Be,qe){return ro(J)(Be.taskID,qe)})}},Te=function(J){return function(ae,le){return J.transporter.read({method:P,path:w("1/keys/%s",ae)},le)}},me=function(J){return function(ae,le){return J.transporter.read({method:P,path:w("1/task/%s",ae.toString())},le)}},Se=function(J){return function(ae){return J.transporter.read({method:P,path:"/1/dictionaries/*/settings"},ae)}},He=function(J){return function(ae){return J.transporter.read({method:P,path:"1/logs"},ae)}},Qe=function(J){return function(ae){return J.transporter.read({method:P,path:"1/clusters/mapping/top"},ae)}},ct=function(J){return function(ae,le){return J.transporter.read({method:P,path:w("1/clusters/mapping/%s",ae)},le)}},xt=function(J){return function(ae){var le=ae||{},ce=le.retrieveMappings,Ee=o(le,["retrieveMappings"]);return ce===!0&&(Ee.getClusters=!0),J.transporter.read({method:P,path:"1/clusters/mapping/pending"},Ee)}},yt=function(J){return function(ae){var le=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ce={transporter:J.transporter,appId:J.appId,indexName:ae};return _(ce,le.methods)}},ot=function(J){return function(ae){return J.transporter.read({method:P,path:"1/keys"},ae)}},ht=function(J){return function(ae){return J.transporter.read({method:P,path:"1/clusters"},ae)}},Tt=function(J){return function(ae){return J.transporter.read({method:P,path:"1/indexes"},ae)}},xn=function(J){return function(ae){return J.transporter.read({method:P,path:"1/clusters/mapping"},ae)}},zn=function(J){return function(ae,le,ce){return p(J.transporter.write({method:R,path:w("1/indexes/%s/operation",ae),data:{operation:"move",destination:le}},ce),function(Ee,Be){return yt(J)(ae,{methods:{waitTask:Mn}}).waitTask(Ee.taskID,Be)})}},mt=function(J){return function(ae,le){return p(J.transporter.write({method:R,path:"1/indexes/*/batch",data:{requests:ae}},le),function(ce,Ee){return Promise.all(Object.keys(ce.taskID).map(function(Be){return yt(J)(Be,{methods:{waitTask:Mn}}).waitTask(ce.taskID[Be],Ee)}))})}},Kt=function(J){return function(ae,le){return J.transporter.read({method:R,path:"1/indexes/*/objects",data:{requests:ae}},le)}},sn=function(J){return function(ae,le){var ce=ae.map(function(Ee){return i(i({},Ee),{},{params:W(Ee.params||{})})});return J.transporter.read({method:R,path:"1/indexes/*/queries",data:{requests:ce},cacheable:!0},le)}},mr=function(J){return function(ae,le){return Promise.all(ae.map(function(ce){var Ee=ce.params,Be=Ee.facetName,qe=Ee.facetQuery,Ne=o(Ee,["facetName","facetQuery"]);return yt(J)(ce.indexName,{methods:{searchForFacetValues:vu}}).searchForFacetValues(Be,qe,i(i({},le),Ne))}))}},to=function(J){return function(ae,le){var ce=v(le);return ce.queryParameters["X-Algolia-User-ID"]=ae,J.transporter.write({method:k,path:"1/clusters/mapping"},ce)}},va=function(J){return function(ae,le,ce){var Ee=le.map(function(Be){return{action:"addEntry",body:Be}});return p(J.transporter.write({method:R,path:w("/1/dictionaries/%s/batch",ae),data:{clearExistingDictionaryEntries:!0,requests:Ee}},ce),function(Be,qe){return ro(J)(Be.taskID,qe)})}},uu=function(J){return function(ae,le){return p(J.transporter.write({method:R,path:w("1/keys/%s/restore",ae)},le),function(ce,Ee){return h(function(Be){return Te(J)(ae,Ee).catch(function(qe){if(qe.status!==404)throw qe;return Be()})})})}},cu=function(J){return function(ae,le,ce){var Ee=le.map(function(Be){return{action:"addEntry",body:Be}});return p(J.transporter.write({method:R,path:w("/1/dictionaries/%s/batch",ae),data:{clearExistingDictionaryEntries:!1,requests:Ee}},ce),function(Be,qe){return ro(J)(Be.taskID,qe)})}},es=function(J){return function(ae,le,ce){return J.transporter.read({method:R,path:w("/1/dictionaries/%s/search",ae),data:{query:le},cacheable:!0},ce)}},Ns=function(J){return function(ae,le){return J.transporter.read({method:R,path:"1/clusters/mapping/search",data:{query:ae}},le)}},ya=function(J){return function(ae,le){return p(J.transporter.write({method:L,path:"/1/dictionaries/*/settings",data:ae},le),function(ce,Ee){return ro(J)(ce.taskID,Ee)})}},no=function(J){return function(ae,le){var ce=Object.assign({},le),Ee=le||{},Be=Ee.queryParameters,qe=o(Ee,["queryParameters"]),Ne=Be?{queryParameters:Be}:{},We=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return p(J.transporter.write({method:L,path:w("1/keys/%s",ae),data:Ne},qe),function(lt,tt){return h(function(St){return Te(J)(ae,tt).then(function(At){return function(Xt){return Object.keys(ce).filter(function(Ft){return We.indexOf(Ft)!==-1}).every(function(Ft){if(Array.isArray(Xt[Ft])&&Array.isArray(ce[Ft])){var Gt=Xt[Ft];return Gt.length===ce[Ft].length&&Gt.every(function(Ln,Zr){return Ln===ce[Ft][Zr]})}return Xt[Ft]===ce[Ft]})}(At)?Promise.resolve():St()})})})}},ro=function(J){return function(ae,le){return h(function(ce){return me(J)(ae,le).then(function(Ee){return Ee.status!=="published"?ce():void 0})})}},Ls=function(J){return function(ae,le){return p(J.transporter.write({method:R,path:w("1/indexes/%s/batch",J.indexName),data:{requests:ae}},le),function(ce,Ee){return Mn(J)(ce.taskID,Ee)})}},il=function(J){return function(ae){return re(i(i({shouldStop:function(le){return le.cursor===void 0}},ae),{},{request:function(le){return J.transporter.read({method:R,path:w("1/indexes/%s/browse",J.indexName),data:le},ae)}}))}},Ds=function(J){return function(ae){var le=i({hitsPerPage:1e3},ae);return re(i(i({shouldStop:function(ce){return ce.hits.length<le.hitsPerPage}},le),{},{request:function(ce){return ll(J)("",i(i({},le),ce)).then(function(Ee){return i(i({},Ee),{},{hits:Ee.hits.map(function(Be){return delete Be._highlightResult,Be})})})}}))}},ba=function(J){return function(ae){var le=i({hitsPerPage:1e3},ae);return re(i(i({shouldStop:function(ce){return ce.hits.length<le.hitsPerPage}},le),{},{request:function(ce){return yu(J)("",i(i({},le),ce)).then(function(Ee){return i(i({},Ee),{},{hits:Ee.hits.map(function(Be){return delete Be._highlightResult,Be})})})}}))}},sr=function(J){return function(ae,le,ce){var Ee=ce||{},Be=Ee.batchSize,qe=o(Ee,["batchSize"]),Ne={taskIDs:[],objectIDs:[]};return p(function We(){var lt,tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,St=[];for(lt=tt;lt<ae.length&&(St.push(ae[lt]),St.length!==(Be||1e3));lt++);return St.length===0?Promise.resolve(Ne):Ls(J)(St.map(function(At){return{action:le,body:At}}),qe).then(function(At){return Ne.objectIDs=Ne.objectIDs.concat(At.objectIDs),Ne.taskIDs.push(At.taskID),lt++,We(lt)})}(),function(We,lt){return Promise.all(We.taskIDs.map(function(tt){return Mn(J)(tt,lt)}))})}},io=function(J){return function(ae){return p(J.transporter.write({method:R,path:w("1/indexes/%s/clear",J.indexName)},ae),function(le,ce){return Mn(J)(le.taskID,ce)})}},Oo=function(J){return function(ae){var le=ae||{},ce=le.forwardToReplicas,Ee=v(o(le,["forwardToReplicas"]));return ce&&(Ee.queryParameters.forwardToReplicas=1),p(J.transporter.write({method:R,path:w("1/indexes/%s/rules/clear",J.indexName)},Ee),function(Be,qe){return Mn(J)(Be.taskID,qe)})}},ar=function(J){return function(ae){var le=ae||{},ce=le.forwardToReplicas,Ee=v(o(le,["forwardToReplicas"]));return ce&&(Ee.queryParameters.forwardToReplicas=1),p(J.transporter.write({method:R,path:w("1/indexes/%s/synonyms/clear",J.indexName)},Ee),function(Be,qe){return Mn(J)(Be.taskID,qe)})}},js=function(J){return function(ae,le){return p(J.transporter.write({method:R,path:w("1/indexes/%s/deleteByQuery",J.indexName),data:ae},le),function(ce,Ee){return Mn(J)(ce.taskID,Ee)})}},Fc=function(J){return function(ae){return p(J.transporter.write({method:k,path:w("1/indexes/%s",J.indexName)},ae),function(le,ce){return Mn(J)(le.taskID,ce)})}},Ii=function(J){return function(ae,le){return p(_a(J)([ae],le).then(function(ce){return{taskID:ce.taskIDs[0]}}),function(ce,Ee){return Mn(J)(ce.taskID,Ee)})}},_a=function(J){return function(ae,le){var ce=ae.map(function(Ee){return{objectID:Ee}});return sr(J)(ce,xa.DeleteObject,le)}},du=function(J){return function(ae,le){var ce=le||{},Ee=ce.forwardToReplicas,Be=v(o(ce,["forwardToReplicas"]));return Ee&&(Be.queryParameters.forwardToReplicas=1),p(J.transporter.write({method:k,path:w("1/indexes/%s/rules/%s",J.indexName,ae)},Be),function(qe,Ne){return Mn(J)(qe.taskID,Ne)})}},$s=function(J){return function(ae,le){var ce=le||{},Ee=ce.forwardToReplicas,Be=v(o(ce,["forwardToReplicas"]));return Ee&&(Be.queryParameters.forwardToReplicas=1),p(J.transporter.write({method:k,path:w("1/indexes/%s/synonyms/%s",J.indexName,ae)},Be),function(qe,Ne){return Mn(J)(qe.taskID,Ne)})}},ol=function(J){return function(ae){return gr(J)(ae).then(function(){return!0}).catch(function(le){if(le.status!==404)throw le;return!1})}},wa=function(J){return function(ae,le,ce){return J.transporter.read({method:R,path:w("1/answers/%s/prediction",J.indexName),data:{query:ae,queryLanguages:le},cacheable:!0},ce)}},Ms=function(J){return function(ae,le){var ce=le||{},Ee=ce.query,Be=ce.paginate,qe=o(ce,["query","paginate"]),Ne=0;return function We(){return Uc(J)(Ee||"",i(i({},qe),{},{page:Ne})).then(function(lt){for(var tt=0,St=Object.entries(lt.hits);tt<St.length;tt++){var At=s(St[tt],2),Xt=At[0],Ft=At[1];if(ae(Ft))return{object:Ft,position:parseInt(Xt,10),page:Ne}}if(Ne++,Be===!1||Ne>=lt.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return We()})}()}},oo=function(J){return function(ae,le){return J.transporter.read({method:P,path:w("1/indexes/%s/%s",J.indexName,ae)},le)}},fu=function(){return function(J,ae){for(var le=0,ce=Object.entries(J.hits);le<ce.length;le++){var Ee=s(ce[le],2),Be=Ee[0];if(Ee[1].objectID===ae)return parseInt(Be,10)}return-1}},hu=function(J){return function(ae,le){var ce=le||{},Ee=ce.attributesToRetrieve,Be=o(ce,["attributesToRetrieve"]),qe=ae.map(function(Ne){return i({indexName:J.indexName,objectID:Ne},Ee?{attributesToRetrieve:Ee}:{})});return J.transporter.read({method:R,path:"1/indexes/*/objects",data:{requests:qe}},Be)}},jt=function(J){return function(ae,le){return J.transporter.read({method:P,path:w("1/indexes/%s/rules/%s",J.indexName,ae)},le)}},gr=function(J){return function(ae){return J.transporter.read({method:P,path:w("1/indexes/%s/settings",J.indexName),data:{getVersion:2}},ae)}},Af=function(J){return function(ae,le){return J.transporter.read({method:P,path:w("1/indexes/%s/synonyms/%s",J.indexName,ae)},le)}},sl=function(J){return function(ae,le){return p(Rf(J)([ae],le).then(function(ce){return{objectID:ce.objectIDs[0],taskID:ce.taskIDs[0]}}),function(ce,Ee){return Mn(J)(ce.taskID,Ee)})}},Rf=function(J){return function(ae,le){var ce=le||{},Ee=ce.createIfNotExists,Be=o(ce,["createIfNotExists"]),qe=Ee?xa.PartialUpdateObject:xa.PartialUpdateObjectNoCreate;return sr(J)(ae,qe,Be)}},Bs=function(J){return function(ae,le){var ce=le||{},Ee=ce.safe,Be=ce.autoGenerateObjectIDIfNotExist,qe=ce.batchSize,Ne=o(ce,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),We=function(Ft,Gt,Ln,Zr){return p(J.transporter.write({method:R,path:w("1/indexes/%s/operation",Ft),data:{operation:Ln,destination:Gt}},Zr),function(ts,Sr){return Mn(J)(ts.taskID,Sr)})},lt=Math.random().toString(36).substring(7),tt="".concat(J.indexName,"_tmp_").concat(lt),St=so({appId:J.appId,transporter:J.transporter,indexName:tt}),At=[],Xt=We(J.indexName,tt,"copy",i(i({},Ne),{},{scope:["settings","synonyms","rules"]}));return At.push(Xt),p((Ee?Xt.wait(Ne):Xt).then(function(){var Ft=St(ae,i(i({},Ne),{},{autoGenerateObjectIDIfNotExist:Be,batchSize:qe}));return At.push(Ft),Ee?Ft.wait(Ne):Ft}).then(function(){var Ft=We(tt,J.indexName,"move",Ne);return At.push(Ft),Ee?Ft.wait(Ne):Ft}).then(function(){return Promise.all(At)}).then(function(Ft){var Gt=s(Ft,3),Ln=Gt[0],Zr=Gt[1],ts=Gt[2];return{objectIDs:Zr.objectIDs,taskIDs:[Ln.taskID].concat(a(Zr.taskIDs),[ts.taskID])}}),function(Ft,Gt){return Promise.all(At.map(function(Ln){return Ln.wait(Gt)}))})}},Of=function(J){return function(ae,le){return mu(J)(ae,i(i({},le),{},{clearExistingRules:!0}))}},Vc=function(J){return function(ae,le){return gu(J)(ae,i(i({},le),{},{clearExistingSynonyms:!0}))}},al=function(J){return function(ae,le){return p(so(J)([ae],le).then(function(ce){return{objectID:ce.objectIDs[0],taskID:ce.taskIDs[0]}}),function(ce,Ee){return Mn(J)(ce.taskID,Ee)})}},so=function(J){return function(ae,le){var ce=le||{},Ee=ce.autoGenerateObjectIDIfNotExist,Be=o(ce,["autoGenerateObjectIDIfNotExist"]),qe=Ee?xa.AddObject:xa.UpdateObject;if(qe===xa.UpdateObject){var Ne=!0,We=!1,lt=void 0;try{for(var tt,St=ae[Symbol.iterator]();!(Ne=(tt=St.next()).done);Ne=!0)if(tt.value.objectID===void 0)return p(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(At){We=!0,lt=At}finally{try{Ne||St.return==null||St.return()}finally{if(We)throw lt}}}return sr(J)(ae,qe,Be)}},pu=function(J){return function(ae,le){return mu(J)([ae],le)}},mu=function(J){return function(ae,le){var ce=le||{},Ee=ce.forwardToReplicas,Be=ce.clearExistingRules,qe=v(o(ce,["forwardToReplicas","clearExistingRules"]));return Ee&&(qe.queryParameters.forwardToReplicas=1),Be&&(qe.queryParameters.clearExistingRules=1),p(J.transporter.write({method:R,path:w("1/indexes/%s/rules/batch",J.indexName),data:ae},qe),function(Ne,We){return Mn(J)(Ne.taskID,We)})}},Nf=function(J){return function(ae,le){return gu(J)([ae],le)}},gu=function(J){return function(ae,le){var ce=le||{},Ee=ce.forwardToReplicas,Be=ce.clearExistingSynonyms,qe=ce.replaceExistingSynonyms,Ne=v(o(ce,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return Ee&&(Ne.queryParameters.forwardToReplicas=1),(qe||Be)&&(Ne.queryParameters.replaceExistingSynonyms=1),p(J.transporter.write({method:R,path:w("1/indexes/%s/synonyms/batch",J.indexName),data:ae},Ne),function(We,lt){return Mn(J)(We.taskID,lt)})}},Uc=function(J){return function(ae,le){return J.transporter.read({method:R,path:w("1/indexes/%s/query",J.indexName),data:{query:ae},cacheable:!0},le)}},vu=function(J){return function(ae,le,ce){return J.transporter.read({method:R,path:w("1/indexes/%s/facets/%s/query",J.indexName,ae),data:{facetQuery:le},cacheable:!0},ce)}},ll=function(J){return function(ae,le){return J.transporter.read({method:R,path:w("1/indexes/%s/rules/search",J.indexName),data:{query:ae}},le)}},yu=function(J){return function(ae,le){return J.transporter.read({method:R,path:w("1/indexes/%s/synonyms/search",J.indexName),data:{query:ae}},le)}},zc=function(J){return function(ae,le){var ce=le||{},Ee=ce.forwardToReplicas,Be=v(o(ce,["forwardToReplicas"]));return Ee&&(Be.queryParameters.forwardToReplicas=1),p(J.transporter.write({method:L,path:w("1/indexes/%s/settings",J.indexName),data:ae},Be),function(qe,Ne){return Mn(J)(qe.taskID,Ne)})}},Mn=function(J){return function(ae,le){return h(function(ce){return function(Ee){return function(Be,qe){return Ee.transporter.read({method:P,path:w("1/indexes/%s/task/%s",Ee.indexName,Be.toString())},qe)}}(J)(ae,le).then(function(Ee){return Ee.status!=="published"?ce():void 0})})}},xa={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ul={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},cl=1,Lf=2,Fs=3,di=function(J){return function(ae,le){var ce=ae.map(function(Ee){return i(i({},Ee),{},{threshold:Ee.threshold||0})});return J.transporter.read({method:R,path:"1/indexes/*/recommendations",data:{requests:ce},cacheable:!0},le)}},dl=function(J){return function(ae,le){return di(J)(ae.map(function(ce){return i(i({},ce),{},{fallbackParameters:{},model:"bought-together"})}),le)}},Ea=function(J){return function(ae,le){return di(J)(ae.map(function(ce){return i(i({},ce),{},{model:"related-products"})}),le)}},Df=function(J){return function(ae,le){var ce=ae.map(function(Ee){return i(i({},Ee),{},{model:"trending-facets",threshold:Ee.threshold||0})});return J.transporter.read({method:R,path:"1/indexes/*/recommendations",data:{requests:ce},cacheable:!0},le)}},En=function(J){return function(ae,le){var ce=ae.map(function(Ee){return i(i({},Ee),{},{model:"trending-items",threshold:Ee.threshold||0})});return J.transporter.read({method:R,path:"1/indexes/*/recommendations",data:{requests:ce},cacheable:!0},le)}},Ia=function(J){return function(ae,le){return di(J)(ae.map(function(ce){return i(i({},ce),{},{model:"looking-similar"})}),le)}},Vs=function(J){return function(ae,le){var ce=ae.map(function(Ee){return i(i({},Ee),{},{model:"recommended-for-you",threshold:Ee.threshold||0})});return J.transporter.read({method:R,path:"1/indexes/*/recommendations",data:{requests:ce},cacheable:!0},le)}};function Mi(J,ae,le){var ce,Ee={appId:J,apiKey:ae,timeouts:{connect:1,read:2,write:30},requester:{send:function(Ne){return new Promise(function(We){var lt=new XMLHttpRequest;lt.open(Ne.method,Ne.url,!0),Object.keys(Ne.headers).forEach(function(Xt){return lt.setRequestHeader(Xt,Ne.headers[Xt])});var tt,St=function(Xt,Ft){return setTimeout(function(){lt.abort(),We({status:0,content:Ft,isTimedOut:!0})},1e3*Xt)},At=St(Ne.connectTimeout,"Connection timeout");lt.onreadystatechange=function(){lt.readyState>lt.OPENED&&tt===void 0&&(clearTimeout(At),tt=St(Ne.responseTimeout,"Socket timeout"))},lt.onerror=function(){lt.status===0&&(clearTimeout(At),clearTimeout(tt),We({content:lt.responseText||"Network request failed",status:lt.status,isTimedOut:!1}))},lt.onload=function(){clearTimeout(At),clearTimeout(tt),We({content:lt.responseText,status:lt.status,isTimedOut:!1})},lt.send(Ne.data)})}},logger:(ce=Fs,{debug:function(Ne,We){return cl>=ce&&console.debug(Ne,We),Promise.resolve()},info:function(Ne,We){return Lf>=ce&&console.info(Ne,We),Promise.resolve()},error:function(Ne,We){return console.error(Ne,We),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:u({caches:[l({key:"".concat("4.24.0","-").concat(J)}),c()]}),userAgent:z("4.24.0").add({segment:"Browser"})},Be=i(i({},Ee),le),qe=function(){return function(Ne){return function(We){var lt=We.region||"us",tt=f(b.WithinHeaders,We.appId,We.apiKey),St=F(i(i({hosts:[{url:"personalization.".concat(lt,".algolia.com")}]},We),{},{headers:i(i(i({},tt.headers()),{"content-type":"application/json"}),We.headers),queryParameters:i(i({},tt.queryParameters()),We.queryParameters)}));return _({appId:We.appId,transporter:St},We.methods)}(i(i(i({},Ee),Ne),{},{methods:{getPersonalizationStrategy:X,setPersonalizationStrategy:Z}}))}};return function(Ne){var We=Ne.appId,lt=f(Ne.authMode!==void 0?Ne.authMode:b.WithinHeaders,We,Ne.apiKey),tt=F(i(i({hosts:[{url:"".concat(We,"-dsn.algolia.net"),accept:y.Read},{url:"".concat(We,".algolia.net"),accept:y.Write}].concat(g([{url:"".concat(We,"-1.algolianet.com")},{url:"".concat(We,"-2.algolianet.com")},{url:"".concat(We,"-3.algolianet.com")}]))},Ne),{},{headers:i(i(i({},lt.headers()),{"content-type":"application/x-www-form-urlencoded"}),Ne.headers),queryParameters:i(i({},lt.queryParameters()),Ne.queryParameters)}));return _({transporter:tt,appId:We,addAlgoliaAgent:function(St,At){tt.userAgent.add({segment:St,version:At})},clearCache:function(){return Promise.all([tt.requestsCache.clear(),tt.responsesCache.clear()]).then(function(){})}},Ne.methods)}(i(i({},Be),{},{methods:{search:sn,searchForFacetValues:mr,multipleBatch:mt,multipleGetObjects:Kt,multipleQueries:sn,copyIndex:ve,copySettings:Ce,copySynonyms:Ue,copyRules:we,moveIndex:zn,listIndices:Tt,getLogs:He,listClusters:ht,multipleSearchForFacetValues:mr,getApiKey:Te,addApiKey:ue,listApiKeys:ot,updateApiKey:no,deleteApiKey:he,restoreApiKey:uu,assignUserID:te,assignUserIDs:fe,getUserID:ct,searchUserIDs:Ns,listUserIDs:xn,getTopUserIDs:Qe,removeUserID:to,hasPendingMappings:xt,clearDictionaryEntries:be,deleteDictionaryEntries:_e,getDictionarySettings:Se,getAppTask:me,replaceDictionaryEntries:va,saveDictionaryEntries:cu,searchDictionaryEntries:es,setDictionarySettings:ya,waitAppTask:ro,customRequest:Oe,initIndex:function(Ne){return function(We){return yt(Ne)(We,{methods:{batch:Ls,delete:Fc,findAnswers:wa,getObject:oo,getObjects:hu,saveObject:al,saveObjects:so,search:Uc,searchForFacetValues:vu,waitTask:Mn,setSettings:zc,getSettings:gr,partialUpdateObject:sl,partialUpdateObjects:Rf,deleteObject:Ii,deleteObjects:_a,deleteBy:js,clearObjects:io,browseObjects:il,getObjectPosition:fu,findObject:Ms,exists:ol,saveSynonym:Nf,saveSynonyms:gu,getSynonym:Af,searchSynonyms:yu,browseSynonyms:ba,deleteSynonym:$s,clearSynonyms:ar,replaceAllObjects:Bs,replaceAllSynonyms:Vc,searchRules:ll,getRule:jt,deleteRule:du,saveRule:pu,saveRules:mu,replaceAllRules:Of,browseRules:Ds,clearRules:Oo}})}},initAnalytics:function(){return function(Ne){return function(We){var lt=We.region||"us",tt=f(b.WithinHeaders,We.appId,We.apiKey),St=F(i(i({hosts:[{url:"analytics.".concat(lt,".algolia.com")}]},We),{},{headers:i(i(i({},tt.headers()),{"content-type":"application/json"}),We.headers),queryParameters:i(i({},tt.queryParameters()),We.queryParameters)}));return _({appId:We.appId,transporter:St},We.methods)}(i(i(i({},Ee),Ne),{},{methods:{addABTest:j,getABTest:K,getABTests:ne,stopABTest:oe,deleteABTest:U}}))}},initPersonalization:qe,initRecommendation:function(){return function(Ne){return Be.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),qe()(Ne)}},getRecommendations:di,getFrequentlyBoughtTogether:dl,getLookingSimilar:Ia,getRecommendedForYou:Vs,getRelatedProducts:Ea,getTrendingFacets:Df,getTrendingItems:En}}))}return Mi.version="4.24.0",Mi})})(F6);var due=F6.exports;const fue=As(due),Jo=fue(void 0,void 0),hue={apiKey:"AIzaSyA5dbbXycGHFt1kx8gB_S12qos8vDBwnSE",authDomain:"pb-android-2725a.firebaseapp.com",databaseURL:"https://pb-android-2725a-default-rtdb.firebaseio.com",projectId:"pb-android-2725a",storageBucket:"pb-android-2725a.appspot.com",messagingSenderId:"468885270519",appId:"1:468885270519:web:354a97057557eec2ec48f2",measurementId:"G-SQMQDYSVKN"},pue=hue,SA=x1(pue),Et=Vre(SA),V6=aue(SA),Xe=uae(SA);class Un{constructor(e=[],n=[],r=[],i=[]){Ve(this,"readers");Ve(this,"writers");Ve(this,"editors");Ve(this,"commenters");this.commenters=e,this.readers=n,this.writers=r,this.editors=i}}class U6{constructor(e,n,r,i,o,s,a,l){Ve(this,"id");Ve(this,"title");Ve(this,"profileId");Ve(this,"userId");Ve(this,"readers");Ve(this,"writers");Ve(this,"editors");Ve(this,"commenters");this.id=e,this.title=n,this.profileId=r,this.userId=i,this.readers=o,this.writers=s,this.editors=a,this.commenters=l}}class Ac extends U6{constructor(n,r,i,o,s,a=0,l,u,c,f=new Un,h=Rt.now(),p){super(n,r,o,s,f.readers,f.writers,f.editors,f.commenters);Ve(this,"data");Ve(this,"approvalScore");Ve(this,"privacy");Ve(this,"type");Ve(this,"created");Ve(this,"ref");this.data=i,this.title=r,this.profileId=o,this.approvalScore=a,this.commentable=u,this.privacy=l,this.type=c,this.created=h,this.ref=p}}Ve(Ac,"className","page");class Q1{constructor(e,n,r,i,o,s=0,a=Rt.now()){Ve(this,"id");Ve(this,"text");Ve(this,"pageId");Ve(this,"profileId");Ve(this,"parentCommentId");Ve(this,"approvalScore");Ve(this,"created");this.id=e,this.text=n,this.pageId=r,this.profileId=i,this.parentCommentId=o,this.approvalScore=s,this.created=a}}Ve(Q1,"className","comment");function pi(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var mue=typeof Symbol=="function"&&Symbol.observable||"@@observable",gj=mue,XI=()=>Math.random().toString(36).substring(7).split("").join("."),gue={INIT:`@@redux/INIT${XI()}`,REPLACE:`@@redux/REPLACE${XI()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${XI()}`},bw=gue;function CA(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function z6(t,e,n){if(typeof t!="function")throw new Error(pi(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(pi(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(pi(1));return n(z6)(t,e)}let r=t,i=e,o=new Map,s=o,a=0,l=!1;function u(){s===o&&(s=new Map,o.forEach((w,b)=>{s.set(b,w)}))}function c(){if(l)throw new Error(pi(3));return i}function f(w){if(typeof w!="function")throw new Error(pi(4));if(l)throw new Error(pi(5));let b=!0;u();const v=a++;return s.set(v,w),function(){if(b){if(l)throw new Error(pi(6));b=!1,u(),s.delete(v),o=null}}}function h(w){if(!CA(w))throw new Error(pi(7));if(typeof w.type>"u")throw new Error(pi(8));if(typeof w.type!="string")throw new Error(pi(17));if(l)throw new Error(pi(9));try{l=!0,i=r(i,w)}finally{l=!1}return(o=s).forEach(v=>{v()}),w}function p(w){if(typeof w!="function")throw new Error(pi(10));r=w,h({type:bw.REPLACE})}function g(){const w=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(pi(11));function v(){const x=b;x.next&&x.next(c())}return v(),{unsubscribe:w(v)}},[gj](){return this}}}return h({type:bw.INIT}),{dispatch:h,subscribe:f,getState:c,replaceReducer:p,[gj]:g}}function vue(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:bw.INIT})>"u")throw new Error(pi(12));if(typeof n(void 0,{type:bw.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(pi(13))})}function q6(t){const e=Object.keys(t),n={};for(let o=0;o<e.length;o++){const s=e[o];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let i;try{vue(n)}catch(o){i=o}return function(s={},a){if(i)throw i;let l=!1;const u={};for(let c=0;c<r.length;c++){const f=r[c],h=n[f],p=s[f],g=h(p,a);if(typeof g>"u")throw a&&a.type,new Error(pi(14));u[f]=g,l=l||g!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function _w(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function yue(...t){return e=>(n,r)=>{const i=e(n,r);let o=()=>{throw new Error(pi(15))};const s={getState:i.getState,dispatch:(l,...u)=>o(l,...u)},a=t.map(l=>l(s));return o=_w(...a)(i.dispatch),{...i,dispatch:o}}}function bue(t){return CA(t)&&"type"in t&&typeof t.type=="string"}var H6=Symbol.for("immer-nothing"),vj=Symbol.for("immer-draftable"),Ko=Symbol.for("immer-state");function ea(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Rp=Object.getPrototypeOf;function uf(t){return!!t&&!!t[Ko]}function Gl(t){var e;return t?W6(t)||Array.isArray(t)||!!t[vj]||!!((e=t.constructor)!=null&&e[vj])||X1(t)||J1(t):!1}var _ue=Object.prototype.constructor.toString();function W6(t){if(!t||typeof t!="object")return!1;const e=Rp(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===_ue}function ww(t,e){Y1(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Y1(t){const e=t[Ko];return e?e.type_:Array.isArray(t)?1:X1(t)?2:J1(t)?3:0}function rC(t,e){return Y1(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function K6(t,e,n){const r=Y1(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function wue(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function X1(t){return t instanceof Map}function J1(t){return t instanceof Set}function fd(t){return t.copy_||t.base_}function iC(t,e){if(X1(t))return new Map(t);if(J1(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const n=W6(t);if(e===!0||e==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(t);delete r[Ko];let i=Reflect.ownKeys(r);for(let o=0;o<i.length;o++){const s=i[o],a=r[s];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:t[s]})}return Object.create(Rp(t),r)}else{const r=Rp(t);if(r!==null&&n)return{...t};const i=Object.create(r);return Object.assign(i,t)}}function PA(t,e=!1){return Z1(t)||uf(t)||!Gl(t)||(Y1(t)>1&&(t.set=t.add=t.clear=t.delete=xue),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>PA(r,!0))),t}function xue(){ea(2)}function Z1(t){return Object.isFrozen(t)}var Eue={};function cf(t){const e=Eue[t];return e||ea(0,t),e}var Qv;function G6(){return Qv}function Iue(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function yj(t,e){e&&(cf("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function oC(t){sC(t),t.drafts_.forEach(Tue),t.drafts_=null}function sC(t){t===Qv&&(Qv=t.parent_)}function bj(t){return Qv=Iue(Qv,t)}function Tue(t){const e=t[Ko];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function _j(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[Ko].modified_&&(oC(e),ea(4)),Gl(t)&&(t=xw(e,t),e.parent_||Ew(e,t)),e.patches_&&cf("Patches").generateReplacementPatches_(n[Ko].base_,t,e.patches_,e.inversePatches_)):t=xw(e,n,[]),oC(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==H6?t:void 0}function xw(t,e,n){if(Z1(e))return e;const r=e[Ko];if(!r)return ww(e,(i,o)=>wj(t,r,e,i,o,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return Ew(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let o=i,s=!1;r.type_===3&&(o=new Set(i),i.clear(),s=!0),ww(o,(a,l)=>wj(t,r,i,a,l,n,s)),Ew(t,i,!1),n&&t.patches_&&cf("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function wj(t,e,n,r,i,o,s){if(uf(i)){const a=o&&e&&e.type_!==3&&!rC(e.assigned_,r)?o.concat(r):void 0,l=xw(t,i,a);if(K6(n,r,l),uf(l))t.canAutoFreeze_=!1;else return}else s&&n.add(i);if(Gl(i)&&!Z1(i)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;xw(t,i),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&Ew(t,i)}}function Ew(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&PA(e,n)}function Sue(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:G6(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,o=kA;n&&(i=[r],o=Yv);const{revoke:s,proxy:a}=Proxy.revocable(i,o);return r.draft_=a,r.revoke_=s,a}var kA={get(t,e){if(e===Ko)return t;const n=fd(t);if(!rC(n,e))return Cue(t,n,e);const r=n[e];return t.finalized_||!Gl(r)?r:r===JI(t.base_,e)?(ZI(t),t.copy_[e]=lC(r,t)):r},has(t,e){return e in fd(t)},ownKeys(t){return Reflect.ownKeys(fd(t))},set(t,e,n){const r=Q6(fd(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const i=JI(fd(t),e),o=i==null?void 0:i[Ko];if(o&&o.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(wue(n,i)&&(n!==void 0||rC(t.base_,e)))return!0;ZI(t),aC(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return JI(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,ZI(t),aC(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=fd(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){ea(11)},getPrototypeOf(t){return Rp(t.base_)},setPrototypeOf(){ea(12)}},Yv={};ww(kA,(t,e)=>{Yv[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Yv.deleteProperty=function(t,e){return Yv.set.call(this,t,e,void 0)};Yv.set=function(t,e,n){return kA.set.call(this,t[0],e,n,t[0])};function JI(t,e){const n=t[Ko];return(n?fd(n):t)[e]}function Cue(t,e,n){var i;const r=Q6(e,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(t.draft_):void 0}function Q6(t,e){if(!(e in t))return;let n=Rp(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Rp(n)}}function aC(t){t.modified_||(t.modified_=!0,t.parent_&&aC(t.parent_))}function ZI(t){t.copy_||(t.copy_=iC(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var Pue=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const o=n;n=e;const s=this;return function(l=o,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&ea(6),r!==void 0&&typeof r!="function"&&ea(7);let i;if(Gl(e)){const o=bj(this),s=lC(e,void 0);let a=!0;try{i=n(s),a=!1}finally{a?oC(o):sC(o)}return yj(o,r),_j(i,o)}else if(!e||typeof e!="object"){if(i=n(e),i===void 0&&(i=e),i===H6&&(i=void 0),this.autoFreeze_&&PA(i,!0),r){const o=[],s=[];cf("Patches").generateReplacementPatches_(e,i,o,s),r(o,s)}return i}else ea(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,i;return[this.produce(e,n,(s,a)=>{r=s,i=a}),r,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Gl(t)||ea(8),uf(t)&&(t=kue(t));const e=bj(this),n=lC(t,void 0);return n[Ko].isManual_=!0,sC(e),n}finishDraft(t,e){const n=t&&t[Ko];(!n||!n.isManual_)&&ea(9);const{scope_:r}=n;return yj(r,e),_j(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const i=e[n];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}n>-1&&(e=e.slice(n+1));const r=cf("Patches").applyPatches_;return uf(t)?r(t,e):this.produce(t,i=>r(i,e))}};function lC(t,e){const n=X1(t)?cf("MapSet").proxyMap_(t,e):J1(t)?cf("MapSet").proxySet_(t,e):Sue(t,e);return(e?e.scope_:G6()).drafts_.push(n),n}function kue(t){return uf(t)||ea(10,t),Y6(t)}function Y6(t){if(!Gl(t)||Z1(t))return t;const e=t[Ko];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=iC(t,e.scope_.immer_.useStrictShallowCopy_)}else n=iC(t,!0);return ww(n,(r,i)=>{K6(n,r,Y6(i))}),e&&(e.finalized_=!1),n}var Go=new Pue,X6=Go.produce;Go.produceWithPatches.bind(Go);Go.setAutoFreeze.bind(Go);Go.setUseStrictShallowCopy.bind(Go);Go.applyPatches.bind(Go);Go.createDraft.bind(Go);Go.finishDraft.bind(Go);function J6(t){return({dispatch:n,getState:r})=>i=>o=>typeof o=="function"?o(n,r,t):i(o)}var Aue=J6(),Rue=J6,Oue=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?_w:_w.apply(null,arguments)},Nue=t=>t&&typeof t.match=="function";function ir(t,e){function n(...r){if(e){let i=e(...r);if(!i)throw new Error(la(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>bue(r)&&r.type===t,n}var Z6=class Pg extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Pg.prototype)}static get[Symbol.species](){return Pg}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Pg(...e[0].concat(this)):new Pg(...e.concat(this))}};function xj(t){return Gl(t)?X6(t,()=>{}):t}function Ej(t,e,n){if(t.has(e)){let i=t.get(e);return n.update&&(i=n.update(i,e,t),t.set(e,i)),i}if(!n.insert)throw new Error(la(10));const r=n.insert(e,t);return t.set(e,r),r}function Lue(t){return typeof t=="boolean"}var Due=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:o=!0}=e??{};let s=new Z6;return n&&(Lue(n)?s.push(Aue):s.push(Rue(n.extraArgument))),s},jue="RTK_autoBatch",eU=t=>e=>{setTimeout(e,t)},$ue=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:eU(10),Mue=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let i=!0,o=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?$ue:t.type==="callback"?t.queueNotification:eU(t.timeout),u=()=>{s=!1,o&&(o=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const f=()=>i&&c(),h=r.subscribe(f);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var f;try{return i=!((f=c==null?void 0:c.meta)!=null&&f[jue]),o=!i,o&&(s||(s=!0,l(u))),r.dispatch(c)}finally{i=!0}}})},Bue=t=>function(n){const{autoBatch:r=!0}=n??{};let i=new Z6(t);return r&&i.push(Mue(typeof r=="object"?r:void 0)),i};function Fue(t){const e=Due(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:o=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(CA(n))a=q6(n);else throw new Error(la(1));let l;typeof r=="function"?l=r(e):l=e();let u=_w;i&&(u=Oue({trace:!1,...typeof i=="object"&&i}));const c=yue(...l),f=Bue(c);let h=typeof s=="function"?s(f):f();const p=u(...h);return z6(a,o,p)}function tU(t){const e={},n=[];let r;const i={addCase(o,s){const a=typeof o=="string"?o:o.type;if(!a)throw new Error(la(28));if(a in e)throw new Error(la(29));return e[a]=s,i},addMatcher(o,s){return n.push({matcher:o,reducer:s}),i},addDefaultCase(o){return r=o,i}};return t(i),[e,n,r]}function Vue(t){return typeof t=="function"}function Uue(t,e){let[n,r,i]=tU(e),o;if(Vue(t))o=()=>xj(t());else{const a=xj(t);o=()=>a}function s(a=o(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[i]),u.reduce((c,f)=>{if(f)if(uf(c)){const p=f(c,l);return p===void 0?c:p}else{if(Gl(c))return X6(c,h=>f(h,l));{const h=f(c,l);if(h===void 0){if(c===null)return c;throw new Error(la(9))}return h}}return c},a)}return s.getInitialState=o,s}var zue=(t,e)=>Nue(t)?t.match(e):t(e);function que(...t){return e=>t.some(n=>zue(n,e))}var Hue="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",Wue=(t=21)=>{let e="",n=t;for(;n--;)e+=Hue[Math.random()*64|0];return e},Kue=["name","message","stack","code"],eT=class{constructor(t,e){Ve(this,"_type");this.payload=t,this.meta=e}},Ij=class{constructor(t,e){Ve(this,"_type");this.payload=t,this.meta=e}},Gue=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of Kue)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},at=(()=>{function t(e,n,r){const i=ir(e+"/fulfilled",(l,u,c,f)=>({payload:l,meta:{...f||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),o=ir(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),s=ir(e+"/rejected",(l,u,c,f,h)=>({payload:f,error:(r&&r.serializeError||Gue)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!f,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,f)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):Wue(),p=new AbortController;let g,_;function w(v){_=v,p.abort()}const b=async function(){var x,I;let v;try{let O=(x=r==null?void 0:r.condition)==null?void 0:x.call(r,l,{getState:c,extra:f});if(Yue(O)&&(O=await O),O===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const S=new Promise((C,k)=>{g=()=>{k({name:"AbortError",message:_||"Aborted"})},p.signal.addEventListener("abort",g)});u(o(h,l,(I=r==null?void 0:r.getPendingMeta)==null?void 0:I.call(r,{requestId:h,arg:l},{getState:c,extra:f}))),v=await Promise.race([S,Promise.resolve(n(l,{dispatch:u,getState:c,extra:f,requestId:h,signal:p.signal,abort:w,rejectWithValue:(C,k)=>new eT(C,k),fulfillWithValue:(C,k)=>new Ij(C,k)})).then(C=>{if(C instanceof eT)throw C;return C instanceof Ij?i(C.payload,h,l,C.meta):i(C,h,l)})])}catch(O){v=O instanceof eT?s(null,h,l,O.payload,O.meta):s(O,h,l)}finally{g&&p.signal.removeEventListener("abort",g)}return r&&!r.dispatchConditionRejection&&s.match(v)&&v.meta.condition||u(v),v}();return Object.assign(b,{abort:w,requestId:h,arg:l,unwrap(){return b.then(Que)}})}}return Object.assign(a,{pending:o,rejected:s,fulfilled:i,settled:que(s,i),typePrefix:e})}return t.withTypes=()=>t,t})();function Que(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function Yue(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var Xue=Symbol.for("rtk-slice-createasyncthunk");function Jue(t,e){return`${t}/${e}`}function Zue({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[Xue];return function(i){const{name:o,reducerPath:s=o}=i;if(!o)throw new Error(la(11));typeof process<"u";const a=(typeof i.reducers=="function"?i.reducers(tce()):i.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(y,x){const I=typeof y=="string"?y:y.type;if(!I)throw new Error(la(12));if(I in u.sliceCaseReducersByType)throw new Error(la(13));return u.sliceCaseReducersByType[I]=x,c},addMatcher(y,x){return u.sliceMatchers.push({matcher:y,reducer:x}),c},exposeAction(y,x){return u.actionCreators[y]=x,c},exposeCaseReducer(y,x){return u.sliceCaseReducersByName[y]=x,c}};l.forEach(y=>{const x=a[y],I={reducerName:y,type:Jue(o,y),createNotation:typeof i.reducers=="function"};rce(x)?oce(I,x,c,e):nce(I,x,c)});function f(){const[y={},x=[],I=void 0]=typeof i.extraReducers=="function"?tU(i.extraReducers):[i.extraReducers],O={...y,...u.sliceCaseReducersByType};return Uue(i.initialState,S=>{for(let C in O)S.addCase(C,O[C]);for(let C of u.sliceMatchers)S.addMatcher(C.matcher,C.reducer);for(let C of x)S.addMatcher(C.matcher,C.reducer);I&&S.addDefaultCase(I)})}const h=y=>y,p=new Map;let g;function _(y,x){return g||(g=f()),g(y,x)}function w(){return g||(g=f()),g.getInitialState()}function b(y,x=!1){function I(S){let C=S[y];return typeof C>"u"&&x&&(C=w()),C}function O(S=h){const C=Ej(p,x,{insert:()=>new WeakMap});return Ej(C,S,{insert:()=>{const k={};for(const[P,R]of Object.entries(i.selectors??{}))k[P]=ece(R,S,w,x);return k}})}return{reducerPath:y,getSelectors:O,get selectors(){return O(I)},selectSlice:I}}const v={name:o,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:w,...b(s),injectInto(y,{reducerPath:x,...I}={}){const O=x??s;return y.inject({reducerPath:O,reducer:_},I),{...v,...b(O,!0)}}};return v}}function ece(t,e,n,r){function i(o,...s){let a=e(o);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return i.unwrapped=t,i}var ex=Zue();function tce(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function nce({type:t,reducerName:e,createNotation:n},r,i){let o,s;if("reducer"in r){if(n&&!ice(r))throw new Error(la(17));o=r.reducer,s=r.prepare}else o=r;i.addCase(t,o).exposeCaseReducer(e,o).exposeAction(e,s?ir(t,s):ir(t))}function rce(t){return t._reducerDefinitionType==="asyncThunk"}function ice(t){return t._reducerDefinitionType==="reducerWithPrepare"}function oce({type:t,reducerName:e},n,r,i){if(!i)throw new Error(la(18));const{payloadCreator:o,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,f=i(t,o,c);r.exposeAction(e,f),s&&r.addCase(f.fulfilled,s),a&&r.addCase(f.pending,a),l&&r.addCase(f.rejected,l),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(e,{fulfilled:s||Ib,pending:a||Ib,rejected:l||Ib,settled:u||Ib})}function Ib(){}function la(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}class Op{constructor(e,n,r,i=2){Ve(this,"id");Ve(this,"pageId");Ve(this,"profileId");Ve(this,"score");this.id=e,this.pageId=n,this.profileId=r,this.score=i}}Ve(Op,"className","user_approval");const Gh=at("pages/getPublicPages",async t=>{let e=[];try{let n=hn(Xe,"page");const r=Lt(n,Ze("privacy","==",!1),l6("created","desc"));return(await Ur(r)).docs.forEach(o=>{const s=Rc(o);e=[...e,s]}),{pageList:e}}catch(n){return{error:n}}}),Xv=ir("pages/setHtmlContent",t=>({payload:{html:t}})),uC=at("pages/updatePage",async(t,e)=>{try{const{page:n,title:r,data:i,commentable:o,privacy:s}=t;let a=bt(Xe,"page",n.id);await xi(a,{title:r,data:i,privacy:s,approvalScore:n.approvalScore}),s||Jo.initIndex("page").partialUpdateObject({objectID:n.id,title:r},{createIfNotExists:!0}).wait();const l=new Un(n.commenters,n.readers,n.writers,n.editors);return{page:new Ac(n.id,r,i,n.profileId,n.userId,n.approvalScore,s,o,n.type,l,n.created)}}catch(n){return{error:new Error("Error: UDATE PAGE-"+n.message)}}}),Qh=at("pages/getProfilePages",async(t,e)=>{let n=[];const r=t.profile;try{const i=hn(Xe,"page");let o=Lt(i,Ze("profileId","==",r.id),Ze("privacy","==",!1)),s=[o];if(Et.currentUser&&Et.currentUser.uid==r.userId)o=Lt(i,Ze("profileId","==",r.id)),s=[o];else if(Et.currentUser&&Et.currentUser.uid!==r.userId){console.log(Et.currentUser.uid);const c=Lt(i,Ze("profileId","==",r.id),Ze("writers","array-contains",Et.currentUser.uid)),f=Lt(i,Ze("profileId","==",r.id),Ze("editors","array-contains",Et.currentUser.uid)),h=Lt(i,Ze("profileId","==",r.id),Ze("commenters","array-contains",Et.currentUser.uid)),p=Lt(i,Ze("profileId","==",r.id),Ze("readers","array-contains",Et.currentUser.uid));s=[...s,c,f,h,p]}let a=s.map(c=>Ur(c));return n=(await Promise.all(a)).map(c=>c.docs).flat().map(c=>Rc(c)),{pageList:n}}catch(i){return{error:`Page Query Where Error: ${i.message}`}}}),u_=at("pages/createPage",async function(t,e){const n=hn(Xe,"page"),r=bt(n).id,{profileId:i,data:o,privacy:s,approvalScore:a,type:l,title:u,readers:c,commentable:f,writers:h,commenters:p,editors:g}=t,_=Rt.now();try{await Ki(bt(Xe,"page",r),{id:r,title:u,data:o,profileId:i,approvalScore:a,privacy:s,commentable:f,type:l,readers:c,writers:h,commenters:p,editors:g,created:_});const w=new Un(p,c,h,g);return s||Jo.initIndex("page").saveObject({objectID:r,title:u}).wait(),{page:new Ac(r,u,o,i,Et.currentUser.uid,a,s,f,l,w,_)}}catch(w){return{error:new Error(`Error: SavePage ${w.message}`)}}}),Md=at("pages/fetchPage",async function(t,e){let n=t.id;try{const r=await Ao(bt(Xe,"page",n));return{page:Rc(r)}}catch(r){return{error:r}}}),nU=at("pages/fetchEditingPage",async function(t,e){let n=t.id;try{const r=await Ao(bt(Xe,"page",n));return{page:Rc(r)}}catch(r){return{error:r}}}),cC=at("books/saveRolesForPage",async(t,e)=>{try{const{page:n,readers:r,commenters:i,editors:o,writers:s}=t;let a=bt(Xe,"page",n.id);await xi(a,{editors:o,commenters:i,writers:s,readers:r});const l=new Un(i,r,s,o);return{page:new Ac(n.id,n.title,n.data,n.profileId,Et.currentUser.uid,n.approvalScore,n.privacy,n.commentable,n.type,l,n.created)}}catch(n){return{error:n??new Error("Error: CREATE PAGE ROLES")}}}),AA=at("pages/appendSaveRolesForPages",async(t,e)=>{try{const{pageIdList:n,readers:r}=t;return n.forEach(i=>{let o=bt(Xe,"page",i);xi(o,{readers:Wv(...r)})}),{readers:r}}catch(n){return{error:new Error(`Error:APPEND SAVE PAGE ROLES ${n.message}`)}}}),dC=at("pages/fetchAppendPagesOfProfile",async(t,e)=>{const{id:n}=t;if(n){const r=hn(Xe,"page");let i=Lt(r,jd(Ze("profileId","==",n),Ze("privacy","==",!1)));Et.currentUser.emailVerified?i=Lt(r,jd(Ze("profileId","==",n),yw(Ze("commenters","array-contains",Et.currentUser.uid),Ze("readers","array-contains",Et.currentUser.uid),Ze("editors","array-contains",Et.currentUser.uid),Ze("writers","array-contains",Et.currentUser.uid),Ze("privacy","==",!1)))):i=Lt(r,jd(Ze("profileId","==",n),Ze("privacy","==",!1)));let o=[];return(await Ur(i)).docs.forEach(a=>{const l=Rc(a);o=[...o,l]}),{pageList:o}}else return{pageList:[]}}),Yh=at("pages/fetchArrayOfPages",async(t,e)=>{try{const n=t.pageIdList,r=t.profile,i=n.map(a=>{const l=bt(Xe,"page",a);return Ao(l)});return{pageList:(await Promise.all(i)).map(a=>Rc(a))}}catch(n){return{error:n??new Error("Error: Fetch Array of Pages")}}}),Jv=ir("pages/setPageInView",t=>{const{page:e}=t;return{payload:e}}),ra=ir("pages/setEditingPage",t=>{const{page:e}=t;return{payload:e}}),sce=ir("pages/clearEditingPage",t=>({payload:null})),yc=ir("pages/setPagesToBeAdded",t=>{let{pageList:e}=t;return{payload:e}}),ace=ir("pages/clearPagesInView"),fC=at("pages/fetchArrayOfPagesAppend",async(t,e)=>{try{const n=hn(Xe,"page"),r=t.pageIdList;if(r.length==0)return{pageList:[]};{let i=Lt(n,jd(Ze("id","in",r),Ze("privacy","==",!1)));Et.currentUser&&(i=Lt(n,jd(Ze("id","in",r),yw(Ze("privacy","==",!1),Ze("commenters","array-contains",Et.currentUser.uid),Ze("readers","array-contains",Et.currentUser.uid),Ze("editors","array-contains",Et.currentUser.uid),Ze("writers","array-contains",Et.currentUser.uid),Ze("privacy","==",!1)))));const o=await Ur(i);let s=[];return o.docs.forEach(a=>{const l=Rc(a);s=[...s,l]}),{pageList:s}}}catch(n){return{error:n??new Error("Error: Fetch Array of Pages")}}}),lce=at("pages/createComment",async function(t,e){try{const{profileId:n,text:r,pageId:i,parentCommentId:o}=t,s=hn(Xe,"page_comment"),a=bt(s).id,l=Rt.now();return await Ki(bt(Xe,"page_comment",a),{id:a,profileId:n,text:r,pageId:i,parentCommentId:o,approvalScore:0,created:l}),{comment:new Q1(a,r,i,n,o,0)}}catch(n){return{error:new Error(`Error: Create Comment ${n.message}`)}}}),rU=ir("pages/appendComment",t=>{const{comment:e}=t;return{payload:e}}),c_=at("pages/fetchCommentsOfPages",async(t,e)=>{try{const{page:n}=t,r=hn(Xe,"page_comment");let i=Lt(r,Ze("pageId","==",n.id));const o=await Ur(i);let s=[];return o.docs.forEach(a=>{const l=a.data(),{id:u,profileId:c,text:f,pageId:h,parentCommentId:p,approvalScore:g,created:_}=l,w=new Q1(u,f,h,c,p,g,_);s=[...s,w]}),{comments:s}}catch(n){return{error:n??new Error("Error: Fetch Comments"+n.message)}}}),hC=at("pages/deleteComment",async(t,e)=>{const{comment:n}=t;try{return await Wo(bt(Xe,"page_comment",n.id)),{comment:n}}catch(r){return{error:new Error("Error Deleteing comment"+r.message)}}});ir("PAGES_LOADING",function(){return{payload:{loading:!0}}});const RA=at("pages/deletePage",async(t,e)=>{try{const{page:n}=t;return await Wo(bt(Xe,"page",n.id)),Jo.initIndex("page").deleteObject(n.id).wait(),{page:n}}catch(n){return{error:new Error("Error: Delete Page"+n.message)}}}),pC=at("pages/updateComment",async(t,e)=>{const{comment:n,newText:r}=t;let i=bt(Xe,"page_comment",n.id);return await xi(i,{text:r}),{comment:new Q1(n.id,r,n.pageId,n.profileId,n.parentCommentId,n.approvalScore,n.created)}});ir("books/fetchBooksWhereProfileEditor",(t,e)=>{try{const n=hn(Xe,"page");let r=Lt(n,Ze("writers","array-contains",Et.currentUser.uid)),i=[];return r.docs.forEach(o=>{const s=Rc(o);i=[...i,s]}),{pageList:i}}catch(n){return{error:n}}});at("pages/fetchBooksWhereProfileEditor",(t,e)=>{try{const n=hn(Xe,"page");let r=Lt(n,Ze("editors","array-contains",Et.currentUser.uid)),i=[];return r.docs.forEach(o=>{const s=o.data(),{id:a}=o,l=s.title,u=s.data,c=s.profileId,f=s.approvalScore,h=s.privacy,p=s.type,g=s.created;let _=s.commentable,w=s.commenters,b=s.editors,v=s.readers,y=s.writers;b||(b=[]),w||(w=[]),v||(v=[]),y||(y=[]),_==null&&(_=!0);const x=new Un(w,v,y,b),I=new Ac(a,l,u,c,Et.currentUser.uid,f,h,_,p,x,g);i=[...i,I]}),{pageList:i}}catch(n){return{error:n}}});const uce=at("pages/fetchPagesWhereProfileEditor",(t,e)=>{try{const n=hn(Xe,"page");let r=Lt(n,Ze("commenters","array-contains",Et.currentUser.uid)),i=[];return r.docs.forEach(o=>{const s=o.data(),{id:a}=o,l=s.title,u=s.data,c=s.profileId,f=s.approvalScore,h=s.privacy,p=s.type,g=s.created;let _=s.commentable,w=s.commenters,b=s.editors,v=s.readers,y=s.writers;b||(b=[]),w||(w=[]),v||(v=[]),y||(y=[]),_==null&&(_=!0);const x=new Un(w,v,y,b),I=new Ac(a,l,u,c,Et.currentUser.uid,f,h,_,p,x,g);i=[...i,I]}),{pageList:i}}catch(n){return{error:n}}}),iU=at("users/createPageApproval",async(t,e)=>{try{const{pageId:n,profileId:r,score:i}=t,o=`${r}_${n}`;return await Ki(bt(Xe,Op.className,o),{id:o,pageId:n,profileId:r,score:i}),{userApproval:new Op(o,n,r,i)}}catch(n){return{error:n}}}),oU=at("users/deletePageApproval",async(t,e)=>{const{userApproval:n}=t;await Wo(bt(Xe,Op.className,n.id));try{return{userApproval:n}}catch(r){return{error:r}}}),Rc=t=>{const e=t.data(),{id:n}=t,r=e.title,i=e.data,o=e.profileId,s=e.privacy,a=e.approvalScore,l=e.type,u=e.created,c=e.userId;let f=e.commentable,h=e.commenters,p=e.editors,g=e.readers,_=e.writers;const w=new Un(h,g,_,p);return new Ac(n,r,i,o,c,a,s,f,l,w,u)},Wn={text:"html/text",picture:"image",video:"video",link:"link"},mn={reader:"reader",writer:"writer",commenter:"commenter",editor:"editor"},og={grey:{50:"#FBFCFE",100:"#F0F4F8",200:"#DDE7EE",300:"#CDD7E1",400:"#9FA6AD",500:"#636B74",600:"#555E68",700:"#32383E",800:"#171A1C",900:"#0B0D0E"},blue:{50:"#EDF5FD",100:"#E3EFFB",200:"#C7DFF7",300:"#97C3F0",400:"#4393E4",500:"#0B6BCB",600:"#185EA5",700:"#12467B",800:"#0A2744",900:"#051423"},yellow:{50:"#FEFAF6",100:"#FDF0E1",200:"#FCE1C2",300:"#F3C896",400:"#EA9A3E",500:"#9A5B13",600:"#72430D",700:"#492B08",800:"#2E1B05",900:"#1D1002"},red:{50:"#FEF6F6",100:"#FCE4E4",200:"#F7C5C5",300:"#F09898",400:"#E47474",500:"#C41C1C",600:"#A51818",700:"#7D1212",800:"#430A0A",900:"#240505"},green:{50:"#F6FEF6",100:"#E3FBE3",200:"#C7F7C7",300:"#A1E8A1",400:"#51BC51",500:"#1F7A1F",600:"#136C13",700:"#0A470A",800:"#042F04",900:"#021D02"}},sU="$$joy";function Ya(t){let e="https://mui.com/production-error/?code="+t;for(let n=1;n<arguments.length;n+=1)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified MUI error #"+t+"; visit "+e+" for the full message."}const cce=Object.freeze(Object.defineProperty({__proto__:null,default:Ya},Symbol.toStringTag,{value:"Module"}));function q(){return q=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},q.apply(null,arguments)}function aU(t){var e=Object.create(null);return function(n){return e[n]===void 0&&(e[n]=t(n)),e[n]}}var dce=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,fce=aU(function(t){return dce.test(t)||t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)<91}),hce=!1;function pce(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function mce(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var gce=function(){function t(n){var r=this;this._insertTag=function(i){var o;r.tags.length===0?r.insertionPoint?o=r.insertionPoint.nextSibling:r.prepend?o=r.container.firstChild:o=r.before:o=r.tags[r.tags.length-1].nextSibling,r.container.insertBefore(i,o),r.tags.push(i)},this.isSpeedy=n.speedy===void 0?!hce:n.speedy,this.tags=[],this.ctr=0,this.nonce=n.nonce,this.key=n.key,this.container=n.container,this.prepend=n.prepend,this.insertionPoint=n.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(r){r.forEach(this._insertTag)},e.insert=function(r){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(mce(this));var i=this.tags[this.tags.length-1];if(this.isSpeedy){var o=pce(i);try{o.insertRule(r,o.cssRules.length)}catch{}}else i.appendChild(document.createTextNode(r));this.ctr++},e.flush=function(){this.tags.forEach(function(r){var i;return(i=r.parentNode)==null?void 0:i.removeChild(r)}),this.tags=[],this.ctr=0},t}(),Ni="-ms-",Iw="-moz-",_n="-webkit-",lU="comm",OA="rule",NA="decl",vce="@import",uU="@keyframes",yce="@layer",bce=Math.abs,tx=String.fromCharCode,_ce=Object.assign;function wce(t,e){return vi(t,0)^45?(((e<<2^vi(t,0))<<2^vi(t,1))<<2^vi(t,2))<<2^vi(t,3):0}function cU(t){return t.trim()}function xce(t,e){return(t=e.exec(t))?t[0]:t}function wn(t,e,n){return t.replace(e,n)}function mC(t,e){return t.indexOf(e)}function vi(t,e){return t.charCodeAt(e)|0}function Zv(t,e,n){return t.slice(e,n)}function Ra(t){return t.length}function LA(t){return t.length}function Tb(t,e){return e.push(t),t}function Ece(t,e){return t.map(e).join("")}var nx=1,Np=1,dU=0,ko=0,Mr=0,um="";function rx(t,e,n,r,i,o,s){return{value:t,root:e,parent:n,type:r,props:i,children:o,line:nx,column:Np,length:s,return:""}}function sg(t,e){return _ce(rx("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ice(){return Mr}function Tce(){return Mr=ko>0?vi(um,--ko):0,Np--,Mr===10&&(Np=1,nx--),Mr}function Uo(){return Mr=ko<dU?vi(um,ko++):0,Np++,Mr===10&&(Np=1,nx++),Mr}function za(){return vi(um,ko)}function d_(){return ko}function Hy(t,e){return Zv(um,t,e)}function ey(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function fU(t){return nx=Np=1,dU=Ra(um=t),ko=0,[]}function hU(t){return um="",t}function f_(t){return cU(Hy(ko-1,gC(t===91?t+2:t===40?t+1:t)))}function Sce(t){for(;(Mr=za())&&Mr<33;)Uo();return ey(t)>2||ey(Mr)>3?"":" "}function Cce(t,e){for(;--e&&Uo()&&!(Mr<48||Mr>102||Mr>57&&Mr<65||Mr>70&&Mr<97););return Hy(t,d_()+(e<6&&za()==32&&Uo()==32))}function gC(t){for(;Uo();)switch(Mr){case t:return ko;case 34:case 39:t!==34&&t!==39&&gC(Mr);break;case 40:t===41&&gC(t);break;case 92:Uo();break}return ko}function Pce(t,e){for(;Uo()&&t+Mr!==57;)if(t+Mr===84&&za()===47)break;return"/*"+Hy(e,ko-1)+"*"+tx(t===47?t:Uo())}function kce(t){for(;!ey(za());)Uo();return Hy(t,ko)}function Ace(t){return hU(h_("",null,null,null,[""],t=fU(t),0,[0],t))}function h_(t,e,n,r,i,o,s,a,l){for(var u=0,c=0,f=s,h=0,p=0,g=0,_=1,w=1,b=1,v=0,y="",x=i,I=o,O=r,S=y;w;)switch(g=v,v=Uo()){case 40:if(g!=108&&vi(S,f-1)==58){mC(S+=wn(f_(v),"&","&\f"),"&\f")!=-1&&(b=-1);break}case 34:case 39:case 91:S+=f_(v);break;case 9:case 10:case 13:case 32:S+=Sce(g);break;case 92:S+=Cce(d_()-1,7);continue;case 47:switch(za()){case 42:case 47:Tb(Rce(Pce(Uo(),d_()),e,n),l);break;default:S+="/"}break;case 123*_:a[u++]=Ra(S)*b;case 125*_:case 59:case 0:switch(v){case 0:case 125:w=0;case 59+c:b==-1&&(S=wn(S,/\f/g,"")),p>0&&Ra(S)-f&&Tb(p>32?Sj(S+";",r,n,f-1):Sj(wn(S," ","")+";",r,n,f-2),l);break;case 59:S+=";";default:if(Tb(O=Tj(S,e,n,u,c,i,a,y,x=[],I=[],f),o),v===123)if(c===0)h_(S,e,O,O,x,o,f,a,I);else switch(h===99&&vi(S,3)===110?100:h){case 100:case 108:case 109:case 115:h_(t,O,O,r&&Tb(Tj(t,O,O,0,0,i,a,y,i,x=[],f),I),i,I,f,a,r?x:I);break;default:h_(S,O,O,O,[""],I,0,a,I)}}u=c=p=0,_=b=1,y=S="",f=s;break;case 58:f=1+Ra(S),p=g;default:if(_<1){if(v==123)--_;else if(v==125&&_++==0&&Tce()==125)continue}switch(S+=tx(v),v*_){case 38:b=c>0?1:(S+="\f",-1);break;case 44:a[u++]=(Ra(S)-1)*b,b=1;break;case 64:za()===45&&(S+=f_(Uo())),h=za(),c=f=Ra(y=S+=kce(d_())),v++;break;case 45:g===45&&Ra(S)==2&&(_=0)}}return o}function Tj(t,e,n,r,i,o,s,a,l,u,c){for(var f=i-1,h=i===0?o:[""],p=LA(h),g=0,_=0,w=0;g<r;++g)for(var b=0,v=Zv(t,f+1,f=bce(_=s[g])),y=t;b<p;++b)(y=cU(_>0?h[b]+" "+v:wn(v,/&\f/g,h[b])))&&(l[w++]=y);return rx(t,e,n,i===0?OA:a,l,u,c)}function Rce(t,e,n){return rx(t,e,n,lU,tx(Ice()),Zv(t,2,-2),0)}function Sj(t,e,n,r){return rx(t,e,n,NA,Zv(t,0,r),Zv(t,r+1,-1),r)}function Xh(t,e){for(var n="",r=LA(t),i=0;i<r;i++)n+=e(t[i],i,t,e)||"";return n}function Oce(t,e,n,r){switch(t.type){case yce:if(t.children.length)break;case vce:case NA:return t.return=t.return||t.value;case lU:return"";case uU:return t.return=t.value+"{"+Xh(t.children,r)+"}";case OA:t.value=t.props.join(",")}return Ra(n=Xh(t.children,r))?t.return=t.value+"{"+n+"}":""}function Nce(t){var e=LA(t);return function(n,r,i,o){for(var s="",a=0;a<e;a++)s+=t[a](n,r,i,o)||"";return s}}function Lce(t){return function(e){e.root||(e=e.return)&&t(e)}}var Dce=function(e,n,r){for(var i=0,o=0;i=o,o=za(),i===38&&o===12&&(n[r]=1),!ey(o);)Uo();return Hy(e,ko)},jce=function(e,n){var r=-1,i=44;do switch(ey(i)){case 0:i===38&&za()===12&&(n[r]=1),e[r]+=Dce(ko-1,n,r);break;case 2:e[r]+=f_(i);break;case 4:if(i===44){e[++r]=za()===58?"&\f":"",n[r]=e[r].length;break}default:e[r]+=tx(i)}while(i=Uo());return e},$ce=function(e,n){return hU(jce(fU(e),n))},Cj=new WeakMap,Mce=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var n=e.value,r=e.parent,i=e.column===r.column&&e.line===r.line;r.type!=="rule";)if(r=r.parent,!r)return;if(!(e.props.length===1&&n.charCodeAt(0)!==58&&!Cj.get(r))&&!i){Cj.set(e,!0);for(var o=[],s=$ce(n,o),a=r.props,l=0,u=0;l<s.length;l++)for(var c=0;c<a.length;c++,u++)e.props[u]=o[l]?s[l].replace(/&\f/g,a[c]):a[c]+" "+s[l]}}},Bce=function(e){if(e.type==="decl"){var n=e.value;n.charCodeAt(0)===108&&n.charCodeAt(2)===98&&(e.return="",e.value="")}};function pU(t,e){switch(wce(t,e)){case 5103:return _n+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return _n+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return _n+t+Iw+t+Ni+t+t;case 6828:case 4268:return _n+t+Ni+t+t;case 6165:return _n+t+Ni+"flex-"+t+t;case 5187:return _n+t+wn(t,/(\w+).+(:[^]+)/,_n+"box-$1$2"+Ni+"flex-$1$2")+t;case 5443:return _n+t+Ni+"flex-item-"+wn(t,/flex-|-self/,"")+t;case 4675:return _n+t+Ni+"flex-line-pack"+wn(t,/align-content|flex-|-self/,"")+t;case 5548:return _n+t+Ni+wn(t,"shrink","negative")+t;case 5292:return _n+t+Ni+wn(t,"basis","preferred-size")+t;case 6060:return _n+"box-"+wn(t,"-grow","")+_n+t+Ni+wn(t,"grow","positive")+t;case 4554:return _n+wn(t,/([^-])(transform)/g,"$1"+_n+"$2")+t;case 6187:return wn(wn(wn(t,/(zoom-|grab)/,_n+"$1"),/(image-set)/,_n+"$1"),t,"")+t;case 5495:case 3959:return wn(t,/(image-set\([^]*)/,_n+"$1$`$1");case 4968:return wn(wn(t,/(.+:)(flex-)?(.*)/,_n+"box-pack:$3"+Ni+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+_n+t+t;case 4095:case 3583:case 4068:case 2532:return wn(t,/(.+)-inline(.+)/,_n+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ra(t)-1-e>6)switch(vi(t,e+1)){case 109:if(vi(t,e+4)!==45)break;case 102:return wn(t,/(.+:)(.+)-([^]+)/,"$1"+_n+"$2-$3$1"+Iw+(vi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~mC(t,"stretch")?pU(wn(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(vi(t,e+1)!==115)break;case 6444:switch(vi(t,Ra(t)-3-(~mC(t,"!important")&&10))){case 107:return wn(t,":",":"+_n)+t;case 101:return wn(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+_n+(vi(t,14)===45?"inline-":"")+"box$3$1"+_n+"$2$3$1"+Ni+"$2box$3")+t}break;case 5936:switch(vi(t,e+11)){case 114:return _n+t+Ni+wn(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return _n+t+Ni+wn(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return _n+t+Ni+wn(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return _n+t+Ni+t+t}return t}var Fce=function(e,n,r,i){if(e.length>-1&&!e.return)switch(e.type){case NA:e.return=pU(e.value,e.length);break;case uU:return Xh([sg(e,{value:wn(e.value,"@","@"+_n)})],i);case OA:if(e.length)return Ece(e.props,function(o){switch(xce(o,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Xh([sg(e,{props:[wn(o,/:(read-\w+)/,":"+Iw+"$1")]})],i);case"::placeholder":return Xh([sg(e,{props:[wn(o,/:(plac\w+)/,":"+_n+"input-$1")]}),sg(e,{props:[wn(o,/:(plac\w+)/,":"+Iw+"$1")]}),sg(e,{props:[wn(o,/:(plac\w+)/,Ni+"input-$1")]})],i)}return""})}},Vce=[Fce],mU=function(e){var n=e.key;if(n==="css"){var r=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(r,function(_){var w=_.getAttribute("data-emotion");w.indexOf(" ")!==-1&&(document.head.appendChild(_),_.setAttribute("data-s",""))})}var i=e.stylisPlugins||Vce,o={},s,a=[];s=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+n+' "]'),function(_){for(var w=_.getAttribute("data-emotion").split(" "),b=1;b<w.length;b++)o[w[b]]=!0;a.push(_)});var l,u=[Mce,Bce];{var c,f=[Oce,Lce(function(_){c.insert(_)})],h=Nce(u.concat(i,f)),p=function(w){return Xh(Ace(w),h)};l=function(w,b,v,y){c=v,p(w?w+"{"+b.styles+"}":b.styles),y&&(g.inserted[b.name]=!0)}}var g={key:n,sheet:new gce({key:n,container:s,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:o,registered:{},insert:l};return g.sheet.hydrate(a),g},gU={exports:{}},Rn={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ci=typeof Symbol=="function"&&Symbol.for,DA=ci?Symbol.for("react.element"):60103,jA=ci?Symbol.for("react.portal"):60106,ix=ci?Symbol.for("react.fragment"):60107,ox=ci?Symbol.for("react.strict_mode"):60108,sx=ci?Symbol.for("react.profiler"):60114,ax=ci?Symbol.for("react.provider"):60109,lx=ci?Symbol.for("react.context"):60110,$A=ci?Symbol.for("react.async_mode"):60111,ux=ci?Symbol.for("react.concurrent_mode"):60111,cx=ci?Symbol.for("react.forward_ref"):60112,dx=ci?Symbol.for("react.suspense"):60113,Uce=ci?Symbol.for("react.suspense_list"):60120,fx=ci?Symbol.for("react.memo"):60115,hx=ci?Symbol.for("react.lazy"):60116,zce=ci?Symbol.for("react.block"):60121,qce=ci?Symbol.for("react.fundamental"):60117,Hce=ci?Symbol.for("react.responder"):60118,Wce=ci?Symbol.for("react.scope"):60119;function Zo(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case DA:switch(t=t.type,t){case $A:case ux:case ix:case sx:case ox:case dx:return t;default:switch(t=t&&t.$$typeof,t){case lx:case cx:case hx:case fx:case ax:return t;default:return e}}case jA:return e}}}function vU(t){return Zo(t)===ux}Rn.AsyncMode=$A;Rn.ConcurrentMode=ux;Rn.ContextConsumer=lx;Rn.ContextProvider=ax;Rn.Element=DA;Rn.ForwardRef=cx;Rn.Fragment=ix;Rn.Lazy=hx;Rn.Memo=fx;Rn.Portal=jA;Rn.Profiler=sx;Rn.StrictMode=ox;Rn.Suspense=dx;Rn.isAsyncMode=function(t){return vU(t)||Zo(t)===$A};Rn.isConcurrentMode=vU;Rn.isContextConsumer=function(t){return Zo(t)===lx};Rn.isContextProvider=function(t){return Zo(t)===ax};Rn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===DA};Rn.isForwardRef=function(t){return Zo(t)===cx};Rn.isFragment=function(t){return Zo(t)===ix};Rn.isLazy=function(t){return Zo(t)===hx};Rn.isMemo=function(t){return Zo(t)===fx};Rn.isPortal=function(t){return Zo(t)===jA};Rn.isProfiler=function(t){return Zo(t)===sx};Rn.isStrictMode=function(t){return Zo(t)===ox};Rn.isSuspense=function(t){return Zo(t)===dx};Rn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===ix||t===ux||t===sx||t===ox||t===dx||t===Uce||typeof t=="object"&&t!==null&&(t.$$typeof===hx||t.$$typeof===fx||t.$$typeof===ax||t.$$typeof===lx||t.$$typeof===cx||t.$$typeof===qce||t.$$typeof===Hce||t.$$typeof===Wce||t.$$typeof===zce)};Rn.typeOf=Zo;gU.exports=Rn;var Kce=gU.exports,yU=Kce,Gce={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},Qce={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bU={};bU[yU.ForwardRef]=Gce;bU[yU.Memo]=Qce;var Yce=!0;function Xce(t,e,n){var r="";return n.split(" ").forEach(function(i){t[i]!==void 0?e.push(t[i]+";"):i&&(r+=i+" ")}),r}var _U=function(e,n,r){var i=e.key+"-"+n.name;(r===!1||Yce===!1)&&e.registered[i]===void 0&&(e.registered[i]=n.styles)},wU=function(e,n,r){_U(e,n,r);var i=e.key+"-"+n.name;if(e.inserted[n.name]===void 0){var o=n;do e.insert(n===o?"."+i:"",o,e.sheet,!0),o=o.next;while(o!==void 0)}};function Jce(t){for(var e=0,n,r=0,i=t.length;i>=4;++r,i-=4)n=t.charCodeAt(r)&255|(t.charCodeAt(++r)&255)<<8|(t.charCodeAt(++r)&255)<<16|(t.charCodeAt(++r)&255)<<24,n=(n&65535)*1540483477+((n>>>16)*59797<<16),n^=n>>>24,e=(n&65535)*1540483477+((n>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(i){case 3:e^=(t.charCodeAt(r+2)&255)<<16;case 2:e^=(t.charCodeAt(r+1)&255)<<8;case 1:e^=t.charCodeAt(r)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Zce={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},ede=!1,tde=/[A-Z]|^ms/g,nde=/_EMO_([^_]+?)_([^]*?)_EMO_/g,xU=function(e){return e.charCodeAt(1)===45},Pj=function(e){return e!=null&&typeof e!="boolean"},tT=aU(function(t){return xU(t)?t:t.replace(tde,"-$&").toLowerCase()}),kj=function(e,n){switch(e){case"animation":case"animationName":if(typeof n=="string")return n.replace(nde,function(r,i,o){return Oa={name:i,styles:o,next:Oa},i})}return Zce[e]!==1&&!xU(e)&&typeof n=="number"&&n!==0?n+"px":n},rde="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function ty(t,e,n){if(n==null)return"";var r=n;if(r.__emotion_styles!==void 0)return r;switch(typeof n){case"boolean":return"";case"object":{var i=n;if(i.anim===1)return Oa={name:i.name,styles:i.styles,next:Oa},i.name;var o=n;if(o.styles!==void 0){var s=o.next;if(s!==void 0)for(;s!==void 0;)Oa={name:s.name,styles:s.styles,next:Oa},s=s.next;var a=o.styles+";";return a}return ide(t,e,n)}case"function":{if(t!==void 0){var l=Oa,u=n(t);return Oa=l,ty(t,e,u)}break}}var c=n;if(e==null)return c;var f=e[c];return f!==void 0?f:c}function ide(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=ty(t,e,n[i])+";";else for(var o in n){var s=n[o];if(typeof s!="object"){var a=s;e!=null&&e[a]!==void 0?r+=o+"{"+e[a]+"}":Pj(a)&&(r+=tT(o)+":"+kj(o,a)+";")}else{if(o==="NO_COMPONENT_SELECTOR"&&ede)throw new Error(rde);if(Array.isArray(s)&&typeof s[0]=="string"&&(e==null||e[s[0]]===void 0))for(var l=0;l<s.length;l++)Pj(s[l])&&(r+=tT(o)+":"+kj(o,s[l])+";");else{var u=ty(t,e,s);switch(o){case"animation":case"animationName":{r+=tT(o)+":"+u+";";break}default:r+=o+"{"+u+"}"}}}}return r}var Aj=/label:\s*([^\s;{]+)\s*(;|$)/g,Oa;function MA(t,e,n){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var r=!0,i="";Oa=void 0;var o=t[0];if(o==null||o.raw===void 0)r=!1,i+=ty(n,e,o);else{var s=o;i+=s[0]}for(var a=1;a<t.length;a++)if(i+=ty(n,e,t[a]),r){var l=o;i+=l[a]}Aj.lastIndex=0;for(var u="",c;(c=Aj.exec(i))!==null;)u+="-"+c[1];var f=Jce(i)+u;return{name:f,styles:i,next:Oa}}var ode=function(e){return e()},EU=ap.useInsertionEffect?ap.useInsertionEffect:!1,sde=EU||ode,Rj=EU||D.useLayoutEffect,IU=D.createContext(typeof HTMLElement<"u"?mU({key:"css"}):null),ade=IU.Provider,TU=function(e){return D.forwardRef(function(n,r){var i=D.useContext(IU);return e(n,i,r)})},px=D.createContext({}),nT={exports:{}},Oj;function SU(){return Oj||(Oj=1,function(t){function e(){return t.exports=e=Object.assign?Object.assign.bind():function(n){for(var r=1;r<arguments.length;r++){var i=arguments[r];for(var o in i)({}).hasOwnProperty.call(i,o)&&(n[o]=i[o])}return n},t.exports.__esModule=!0,t.exports.default=t.exports,e.apply(null,arguments)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(nT)),nT.exports}SU();var lde=TU(function(t,e){var n=t.styles,r=MA([n],void 0,D.useContext(px)),i=D.useRef();return Rj(function(){var o=e.key+"-global",s=new e.sheet.constructor({key:o,nonce:e.sheet.nonce,container:e.sheet.container,speedy:e.sheet.isSpeedy}),a=!1,l=document.querySelector('style[data-emotion="'+o+" "+r.name+'"]');return e.sheet.tags.length&&(s.before=e.sheet.tags[0]),l!==null&&(a=!0,l.setAttribute("data-emotion",o),s.hydrate([l])),i.current=[s,a],function(){s.flush()}},[e]),Rj(function(){var o=i.current,s=o[0],a=o[1];if(a){o[1]=!1;return}if(r.next!==void 0&&wU(e,r.next,!0),s.tags.length){var l=s.tags[s.tags.length-1].nextElementSibling;s.before=l,s.flush()}e.insert("",r,s,!1)},[e,r.name]),null});function ny(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return MA(e)}var Cf=function(){var e=ny.apply(void 0,arguments),n="animation-"+e.name;return{name:n,styles:"@keyframes "+n+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},ude=fce,cde=function(e){return e!=="theme"},Nj=function(e){return typeof e=="string"&&e.charCodeAt(0)>96?ude:cde},Lj=function(e,n,r){var i;if(n){var o=n.shouldForwardProp;i=e.__emotion_forwardProp&&o?function(s){return e.__emotion_forwardProp(s)&&o(s)}:o}return typeof i!="function"&&r&&(i=e.__emotion_forwardProp),i},dde=!1,fde=function(e){var n=e.cache,r=e.serialized,i=e.isStringTag;return _U(n,r,i),sde(function(){return wU(n,r,i)}),null},hde=function t(e,n){var r=e.__emotion_real===e,i=r&&e.__emotion_base||e,o,s;n!==void 0&&(o=n.label,s=n.target);var a=Lj(e,n,r),l=a||Nj(i),u=!l("as");return function(){var c=arguments,f=r&&e.__emotion_styles!==void 0?e.__emotion_styles.slice(0):[];if(o!==void 0&&f.push("label:"+o+";"),c[0]==null||c[0].raw===void 0)f.push.apply(f,c);else{f.push(c[0][0]);for(var h=c.length,p=1;p<h;p++)f.push(c[p],c[0][p])}var g=TU(function(_,w,b){var v=u&&_.as||i,y="",x=[],I=_;if(_.theme==null){I={};for(var O in _)I[O]=_[O];I.theme=D.useContext(px)}typeof _.className=="string"?y=Xce(w.registered,x,_.className):_.className!=null&&(y=_.className+" ");var S=MA(f.concat(x),w.registered,I);y+=w.key+"-"+S.name,s!==void 0&&(y+=" "+s);var C=u&&a===void 0?Nj(v):l,k={};for(var P in _)u&&P==="as"||C(P)&&(k[P]=_[P]);return k.className=y,b&&(k.ref=b),D.createElement(D.Fragment,null,D.createElement(fde,{cache:w,serialized:S,isStringTag:typeof v=="string"}),D.createElement(v,k))});return g.displayName=o!==void 0?o:"Styled("+(typeof i=="string"?i:i.displayName||i.name||"Component")+")",g.defaultProps=e.defaultProps,g.__emotion_real=g,g.__emotion_base=i,g.__emotion_styles=f,g.__emotion_forwardProp=a,Object.defineProperty(g,"toString",{value:function(){return s===void 0&&dde?"NO_COMPONENT_SELECTOR":"."+s}}),g.withComponent=function(_,w){return t(_,q({},n,w,{shouldForwardProp:Lj(g,w,!0)})).apply(void 0,f)},g}},pde=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],vC=hde.bind();pde.forEach(function(t){vC[t]=vC(t)});var CU={exports:{}},mde="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gde=mde,vde=gde;function PU(){}function kU(){}kU.resetWarningCache=PU;var yde=function(){function t(r,i,o,s,a,l){if(l!==vde){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:kU,resetWarningCache:PU};return n.PropTypes=n,n};CU.exports=yde();var bde=CU.exports;const Pn=As(bde);let yC;typeof document=="object"&&(yC=mU({key:"css",prepend:!0}));function _de(t){const{injectFirst:e,children:n}=t;return e&&yC?E.jsx(ade,{value:yC,children:n}):n}function wde(t){return t==null||Object.keys(t).length===0}function AU(t){const{styles:e,defaultTheme:n={}}=t,r=typeof e=="function"?i=>e(wde(i)?n:i):e;return E.jsx(lde,{styles:r})}function BA(t,e){return vC(t,e)}const RU=(t,e)=>{Array.isArray(t.__emotion_styles)&&(t.__emotion_styles=e(t.__emotion_styles))},xde=Object.freeze(Object.defineProperty({__proto__:null,GlobalStyles:AU,StyledEngineProvider:_de,ThemeContext:px,css:ny,default:BA,internal_processStyles:RU,keyframes:Cf},Symbol.toStringTag,{value:"Module"}));function Fe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.includes(r))continue;n[r]=t[r]}return n}function Cl(t){if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)}function OU(t){if(!Cl(t))return t;const e={};return Object.keys(t).forEach(n=>{e[n]=OU(t[n])}),e}function Vr(t,e,n={clone:!0}){const r=n.clone?q({},t):t;return Cl(t)&&Cl(e)&&Object.keys(e).forEach(i=>{Cl(e[i])&&Object.prototype.hasOwnProperty.call(t,i)&&Cl(t[i])?r[i]=Vr(t[i],e[i],n):n.clone?r[i]=Cl(e[i])?OU(e[i]):e[i]:r[i]=e[i]}),r}const Ede=Object.freeze(Object.defineProperty({__proto__:null,default:Vr,isPlainObject:Cl},Symbol.toStringTag,{value:"Module"})),Ide=["values","unit","step"],Tde=t=>{const e=Object.keys(t).map(n=>({key:n,val:t[n]}))||[];return e.sort((n,r)=>n.val-r.val),e.reduce((n,r)=>q({},n,{[r.key]:r.val}),{})};function FA(t){const{values:e={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=t,i=Fe(t,Ide),o=Tde(e),s=Object.keys(o);function a(h){return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n})`}function l(h){return`@media (max-width:${(typeof e[h]=="number"?e[h]:h)-r/100}${n})`}function u(h,p){const g=s.indexOf(p);return`@media (min-width:${typeof e[h]=="number"?e[h]:h}${n}) and (max-width:${(g!==-1&&typeof e[s[g]]=="number"?e[s[g]]:p)-r/100}${n})`}function c(h){return s.indexOf(h)+1<s.length?u(h,s[s.indexOf(h)+1]):a(h)}function f(h){const p=s.indexOf(h);return p===0?a(s[1]):p===s.length-1?l(s[p]):u(h,s[s.indexOf(h)+1]).replace("@media","@media not all and")}return q({keys:s,values:o,up:a,down:l,between:u,only:c,not:f,unit:n},i)}const Sde={borderRadius:4};function Xg(t,e){return e?Vr(t,e,{clone:!1}):t}const VA={xs:0,sm:600,md:900,lg:1200,xl:1536},Dj={keys:["xs","sm","md","lg","xl"],up:t=>`@media (min-width:${VA[t]}px)`};function fa(t,e,n){const r=t.theme||{};if(Array.isArray(e)){const o=r.breakpoints||Dj;return e.reduce((s,a,l)=>(s[o.up(o.keys[l])]=n(e[l]),s),{})}if(typeof e=="object"){const o=r.breakpoints||Dj;return Object.keys(e).reduce((s,a)=>{if(Object.keys(o.values||VA).indexOf(a)!==-1){const l=o.up(a);s[l]=n(e[a],a)}else{const l=a;s[l]=e[l]}return s},{})}return n(e)}function NU(t={}){var e;return((e=t.keys)==null?void 0:e.reduce((r,i)=>{const o=t.up(i);return r[o]={},r},{}))||{}}function LU(t,e){return t.reduce((n,r)=>{const i=n[r];return(!i||Object.keys(i).length===0)&&delete n[r],n},e)}function Cde(t,...e){const n=NU(t),r=[n,...e].reduce((i,o)=>Vr(i,o),{});return LU(Object.keys(n),r)}function Pde(t,e){if(typeof t!="object")return{};const n={},r=Object.keys(e);return Array.isArray(t)?r.forEach((i,o)=>{o<t.length&&(n[i]=!0)}):r.forEach(i=>{t[i]!=null&&(n[i]=!0)}),n}function rT({values:t,breakpoints:e,base:n}){const r=n||Pde(t,e),i=Object.keys(r);if(i.length===0)return t;let o;return i.reduce((s,a,l)=>(Array.isArray(t)?(s[a]=t[l]!=null?t[l]:t[o],o=l):typeof t=="object"?(s[a]=t[a]!=null?t[a]:t[o],o=a):s[a]=t,s),{})}function Ge(t){if(typeof t!="string")throw new Error(Ya(7));return t.charAt(0).toUpperCase()+t.slice(1)}const kde=Object.freeze(Object.defineProperty({__proto__:null,default:Ge},Symbol.toStringTag,{value:"Module"}));function mx(t,e,n=!0){if(!e||typeof e!="string")return null;if(t&&t.vars&&n){const r=`vars.${e}`.split(".").reduce((i,o)=>i&&i[o]?i[o]:null,t);if(r!=null)return r}return e.split(".").reduce((r,i)=>r&&r[i]!=null?r[i]:null,t)}function Tw(t,e,n,r=n){let i;return typeof t=="function"?i=t(n):Array.isArray(t)?i=t[n]||r:i=mx(t,n)||r,e&&(i=e(i,r,t)),i}function Lr(t){const{prop:e,cssProperty:n=t.prop,themeKey:r,transform:i}=t,o=s=>{if(s[e]==null)return null;const a=s[e],l=s.theme,u=mx(l,r)||{};return fa(s,a,f=>{let h=Tw(u,i,f);return f===h&&typeof f=="string"&&(h=Tw(u,i,`${e}${f==="default"?"":Ge(f)}`,f)),n===!1?h:{[n]:h}})};return o.propTypes={},o.filterProps=[e],o}function Ade(t){const e={};return n=>(e[n]===void 0&&(e[n]=t(n)),e[n])}const Rde={m:"margin",p:"padding"},Ode={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},jj={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Nde=Ade(t=>{if(t.length>2)if(jj[t])t=jj[t];else return[t];const[e,n]=t.split(""),r=Rde[e],i=Ode[n]||"";return Array.isArray(i)?i.map(o=>r+o):[r+i]}),UA=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],zA=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...UA,...zA];function Wy(t,e,n,r){var i;const o=(i=mx(t,e,!1))!=null?i:n;return typeof o=="number"?s=>typeof s=="string"?s:o*s:Array.isArray(o)?s=>typeof s=="string"?s:o[s]:typeof o=="function"?o:()=>{}}function qA(t){return Wy(t,"spacing",8)}function df(t,e){if(typeof e=="string"||e==null)return e;const n=Math.abs(e),r=t(n);return e>=0?r:typeof r=="number"?-r:`-${r}`}function Lde(t,e){return n=>t.reduce((r,i)=>(r[i]=df(e,n),r),{})}function Dde(t,e,n,r){if(e.indexOf(n)===-1)return null;const i=Nde(n),o=Lde(i,r),s=t[n];return fa(t,s,o)}function DU(t,e){const n=qA(t.theme);return Object.keys(t).map(r=>Dde(t,e,r,n)).reduce(Xg,{})}function _r(t){return DU(t,UA)}_r.propTypes={};_r.filterProps=UA;function wr(t){return DU(t,zA)}wr.propTypes={};wr.filterProps=zA;function jU(t=8){if(t.mui)return t;const e=qA({spacing:t}),n=(...r)=>(r.length===0?[1]:r).map(o=>{const s=e(o);return typeof s=="number"?`${s}px`:s}).join(" ");return n.mui=!0,n}function gx(...t){const e=t.reduce((r,i)=>(i.filterProps.forEach(o=>{r[o]=i}),r),{}),n=r=>Object.keys(r).reduce((i,o)=>e[o]?Xg(i,e[o](r)):i,{});return n.propTypes={},n.filterProps=t.reduce((r,i)=>r.concat(i.filterProps),[]),n}function gs(t){return typeof t!="number"?t:`${t}px solid`}function Rs(t,e){return Lr({prop:t,themeKey:"borders",transform:e})}const jde=Rs("border",gs),$de=Rs("borderTop",gs),Mde=Rs("borderRight",gs),Bde=Rs("borderBottom",gs),Fde=Rs("borderLeft",gs),Vde=Rs("borderColor"),Ude=Rs("borderTopColor"),zde=Rs("borderRightColor"),qde=Rs("borderBottomColor"),Hde=Rs("borderLeftColor"),Wde=Rs("outline",gs),Kde=Rs("outlineColor"),vx=t=>{if(t.borderRadius!==void 0&&t.borderRadius!==null){const e=Wy(t.theme,"shape.borderRadius",4),n=r=>({borderRadius:df(e,r)});return fa(t,t.borderRadius,n)}return null};vx.propTypes={};vx.filterProps=["borderRadius"];gx(jde,$de,Mde,Bde,Fde,Vde,Ude,zde,qde,Hde,vx,Wde,Kde);const yx=t=>{if(t.gap!==void 0&&t.gap!==null){const e=Wy(t.theme,"spacing",8),n=r=>({gap:df(e,r)});return fa(t,t.gap,n)}return null};yx.propTypes={};yx.filterProps=["gap"];const bx=t=>{if(t.columnGap!==void 0&&t.columnGap!==null){const e=Wy(t.theme,"spacing",8),n=r=>({columnGap:df(e,r)});return fa(t,t.columnGap,n)}return null};bx.propTypes={};bx.filterProps=["columnGap"];const _x=t=>{if(t.rowGap!==void 0&&t.rowGap!==null){const e=Wy(t.theme,"spacing",8),n=r=>({rowGap:df(e,r)});return fa(t,t.rowGap,n)}return null};_x.propTypes={};_x.filterProps=["rowGap"];const Gde=Lr({prop:"gridColumn"}),Qde=Lr({prop:"gridRow"}),Yde=Lr({prop:"gridAutoFlow"}),Xde=Lr({prop:"gridAutoColumns"}),Jde=Lr({prop:"gridAutoRows"}),Zde=Lr({prop:"gridTemplateColumns"}),efe=Lr({prop:"gridTemplateRows"}),tfe=Lr({prop:"gridTemplateAreas"}),nfe=Lr({prop:"gridArea"});gx(yx,bx,_x,Gde,Qde,Yde,Xde,Jde,Zde,efe,tfe,nfe);function Jh(t,e){return e==="grey"?e:t}const rfe=Lr({prop:"color",themeKey:"palette",transform:Jh}),ife=Lr({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:Jh}),ofe=Lr({prop:"backgroundColor",themeKey:"palette",transform:Jh});gx(rfe,ife,ofe);function Mo(t){return t<=1&&t!==0?`${t*100}%`:t}const sfe=Lr({prop:"width",transform:Mo}),HA=t=>{if(t.maxWidth!==void 0&&t.maxWidth!==null){const e=n=>{var r,i;const o=((r=t.theme)==null||(r=r.breakpoints)==null||(r=r.values)==null?void 0:r[n])||VA[n];return o?((i=t.theme)==null||(i=i.breakpoints)==null?void 0:i.unit)!=="px"?{maxWidth:`${o}${t.theme.breakpoints.unit}`}:{maxWidth:o}:{maxWidth:Mo(n)}};return fa(t,t.maxWidth,e)}return null};HA.filterProps=["maxWidth"];const afe=Lr({prop:"minWidth",transform:Mo}),lfe=Lr({prop:"height",transform:Mo}),ufe=Lr({prop:"maxHeight",transform:Mo}),cfe=Lr({prop:"minHeight",transform:Mo});Lr({prop:"size",cssProperty:"width",transform:Mo});Lr({prop:"size",cssProperty:"height",transform:Mo});const dfe=Lr({prop:"boxSizing"});gx(sfe,HA,afe,lfe,ufe,cfe,dfe);const cm={border:{themeKey:"borders",transform:gs},borderTop:{themeKey:"borders",transform:gs},borderRight:{themeKey:"borders",transform:gs},borderBottom:{themeKey:"borders",transform:gs},borderLeft:{themeKey:"borders",transform:gs},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:gs},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:vx},color:{themeKey:"palette",transform:Jh},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:Jh},backgroundColor:{themeKey:"palette",transform:Jh},p:{style:wr},pt:{style:wr},pr:{style:wr},pb:{style:wr},pl:{style:wr},px:{style:wr},py:{style:wr},padding:{style:wr},paddingTop:{style:wr},paddingRight:{style:wr},paddingBottom:{style:wr},paddingLeft:{style:wr},paddingX:{style:wr},paddingY:{style:wr},paddingInline:{style:wr},paddingInlineStart:{style:wr},paddingInlineEnd:{style:wr},paddingBlock:{style:wr},paddingBlockStart:{style:wr},paddingBlockEnd:{style:wr},m:{style:_r},mt:{style:_r},mr:{style:_r},mb:{style:_r},ml:{style:_r},mx:{style:_r},my:{style:_r},margin:{style:_r},marginTop:{style:_r},marginRight:{style:_r},marginBottom:{style:_r},marginLeft:{style:_r},marginX:{style:_r},marginY:{style:_r},marginInline:{style:_r},marginInlineStart:{style:_r},marginInlineEnd:{style:_r},marginBlock:{style:_r},marginBlockStart:{style:_r},marginBlockEnd:{style:_r},displayPrint:{cssProperty:!1,transform:t=>({"@media print":{display:t}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:yx},rowGap:{style:_x},columnGap:{style:bx},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:Mo},maxWidth:{style:HA},minWidth:{transform:Mo},height:{transform:Mo},maxHeight:{transform:Mo},minHeight:{transform:Mo},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}};function ffe(...t){const e=t.reduce((r,i)=>r.concat(Object.keys(i)),[]),n=new Set(e);return t.every(r=>n.size===Object.keys(r).length)}function hfe(t,e){return typeof t=="function"?t(e):t}function $U(){function t(n,r,i,o){const s={[n]:r,theme:i},a=o[n];if(!a)return{[n]:r};const{cssProperty:l=n,themeKey:u,transform:c,style:f}=a;if(r==null)return null;if(u==="typography"&&r==="inherit")return{[n]:r};const h=mx(i,u)||{};return f?f(s):fa(s,r,g=>{let _=Tw(h,c,g);return g===_&&typeof g=="string"&&(_=Tw(h,c,`${n}${g==="default"?"":Ge(g)}`,g)),l===!1?_:{[l]:_}})}function e(n){var r;const{sx:i,theme:o={}}=n||{};if(!i)return null;const s=(r=o.unstable_sxConfig)!=null?r:cm;function a(l){let u=l;if(typeof l=="function")u=l(o);else if(typeof l!="object")return l;if(!u)return null;const c=NU(o.breakpoints),f=Object.keys(c);let h=c;return Object.keys(u).forEach(p=>{const g=hfe(u[p],o);if(g!=null)if(typeof g=="object")if(s[p])h=Xg(h,t(p,g,o,s));else{const _=fa({theme:o},g,w=>({[p]:w}));ffe(_,g)?h[p]=e({sx:g,theme:o}):h=Xg(h,_)}else h=Xg(h,t(p,g,o,s))}),LU(f,h)}return Array.isArray(i)?i.map(a):a(i)}return e}const Pf=$U();Pf.filterProps=["sx"];function WA(t,e){const n=this;return n.vars&&typeof n.getColorSchemeSelector=="function"?{[n.getColorSchemeSelector(t).replace(/(\[[^\]]+\])/,"*:where($1)")]:e}:n.palette.mode===t?e:{}}const pfe=["breakpoints","palette","spacing","shape"];function dm(t={},...e){const{breakpoints:n={},palette:r={},spacing:i,shape:o={}}=t,s=Fe(t,pfe),a=FA(n),l=jU(i);let u=Vr({breakpoints:a,direction:"ltr",components:{},palette:q({mode:"light"},r),spacing:l,shape:q({},Sde,o)},s);return u.applyStyles=WA,u=e.reduce((c,f)=>Vr(c,f),u),u.unstable_sxConfig=q({},cm,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(f){return Pf({sx:f,theme:this})},u}const mfe=Object.freeze(Object.defineProperty({__proto__:null,default:dm,private_createBreakpoints:FA,unstable_applyStyles:WA},Symbol.toStringTag,{value:"Module"}));function gfe(t){return Object.keys(t).length===0}function MU(t=null){const e=D.useContext(px);return!e||gfe(e)?t:e}const vfe=dm();function wx(t=vfe){return MU(t)}function yfe({styles:t,themeId:e,defaultTheme:n={}}){const r=wx(n),i=typeof t=="function"?t(e&&r[e]||r):t;return E.jsx(AU,{styles:i})}const bfe=["sx"],_fe=t=>{var e,n;const r={systemProps:{},otherProps:{}},i=(e=t==null||(n=t.theme)==null?void 0:n.unstable_sxConfig)!=null?e:cm;return Object.keys(t).forEach(o=>{i[o]?r.systemProps[o]=t[o]:r.otherProps[o]=t[o]}),r};function xx(t){const{sx:e}=t,n=Fe(t,bfe),{systemProps:r,otherProps:i}=_fe(n);let o;return Array.isArray(e)?o=[r,...e]:typeof e=="function"?o=(...s)=>{const a=e(...s);return Cl(a)?q({},r,a):r}:o=q({},r,e),q({},i,{sx:o})}const wfe=Object.freeze(Object.defineProperty({__proto__:null,default:Pf,extendSxProp:xx,unstable_createStyleFunctionSx:$U,unstable_defaultSxConfig:cm},Symbol.toStringTag,{value:"Module"})),$j=t=>t,xfe=()=>{let t=$j;return{configure(e){t=e},generate(e){return t(e)},reset(){t=$j}}},KA=xfe();function BU(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=BU(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function st(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=BU(t))&&(r&&(r+=" "),r+=e);return r}const Efe=["className","component"];function Ife(t={}){const{themeId:e,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:i}=t,o=BA("div",{shouldForwardProp:a=>a!=="theme"&&a!=="sx"&&a!=="as"})(Pf);return D.forwardRef(function(l,u){const c=wx(n),f=xx(l),{className:h,component:p="div"}=f,g=Fe(f,Efe);return E.jsx(o,q({as:p,ref:u,className:st(h,i?i(r):r),theme:e&&c[e]||c},g))})}const FU={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Dt(t,e,n="Mui"){const r=FU[e];return r?`${n}-${r}`:`${KA.generate(t)}-${e}`}function Nt(t,e,n="Mui"){const r={};return e.forEach(i=>{r[i]=Dt(t,i,n)}),r}var VU={exports:{}},On={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GA=Symbol.for("react.element"),QA=Symbol.for("react.portal"),Ex=Symbol.for("react.fragment"),Ix=Symbol.for("react.strict_mode"),Tx=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),Cx=Symbol.for("react.context"),Tfe=Symbol.for("react.server_context"),Px=Symbol.for("react.forward_ref"),kx=Symbol.for("react.suspense"),Ax=Symbol.for("react.suspense_list"),Rx=Symbol.for("react.memo"),Ox=Symbol.for("react.lazy"),Sfe=Symbol.for("react.offscreen"),UU;UU=Symbol.for("react.module.reference");function Os(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case GA:switch(t=t.type,t){case Ex:case Tx:case Ix:case kx:case Ax:return t;default:switch(t=t&&t.$$typeof,t){case Tfe:case Cx:case Px:case Ox:case Rx:case Sx:return t;default:return e}}case QA:return e}}}On.ContextConsumer=Cx;On.ContextProvider=Sx;On.Element=GA;On.ForwardRef=Px;On.Fragment=Ex;On.Lazy=Ox;On.Memo=Rx;On.Portal=QA;On.Profiler=Tx;On.StrictMode=Ix;On.Suspense=kx;On.SuspenseList=Ax;On.isAsyncMode=function(){return!1};On.isConcurrentMode=function(){return!1};On.isContextConsumer=function(t){return Os(t)===Cx};On.isContextProvider=function(t){return Os(t)===Sx};On.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===GA};On.isForwardRef=function(t){return Os(t)===Px};On.isFragment=function(t){return Os(t)===Ex};On.isLazy=function(t){return Os(t)===Ox};On.isMemo=function(t){return Os(t)===Rx};On.isPortal=function(t){return Os(t)===QA};On.isProfiler=function(t){return Os(t)===Tx};On.isStrictMode=function(t){return Os(t)===Ix};On.isSuspense=function(t){return Os(t)===kx};On.isSuspenseList=function(t){return Os(t)===Ax};On.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===Ex||t===Tx||t===Ix||t===kx||t===Ax||t===Sfe||typeof t=="object"&&t!==null&&(t.$$typeof===Ox||t.$$typeof===Rx||t.$$typeof===Sx||t.$$typeof===Cx||t.$$typeof===Px||t.$$typeof===UU||t.getModuleId!==void 0)};On.typeOf=Os;VU.exports=On;var Mj=VU.exports;const Cfe=/^\s*function(?:\s|\s*\/\*.*\*\/\s*)+([^(\s/]*)\s*/;function zU(t){const e=`${t}`.match(Cfe);return e&&e[1]||""}function qU(t,e=""){return t.displayName||t.name||zU(t)||e}function Bj(t,e,n){const r=qU(e);return t.displayName||(r!==""?`${n}(${r})`:n)}function Pfe(t){if(t!=null){if(typeof t=="string")return t;if(typeof t=="function")return qU(t,"Component");if(typeof t=="object")switch(t.$$typeof){case Mj.ForwardRef:return Bj(t,t.render,"ForwardRef");case Mj.Memo:return Bj(t,t.type,"memo");default:return}}}const kfe=Object.freeze(Object.defineProperty({__proto__:null,default:Pfe,getFunctionName:zU},Symbol.toStringTag,{value:"Module"})),Afe=["ownerState"],Rfe=["variants"],Ofe=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function Nfe(t){return Object.keys(t).length===0}function Lfe(t){return typeof t=="string"&&t.charCodeAt(0)>96}function iT(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Dfe=dm(),jfe=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Sb({defaultTheme:t,theme:e,themeId:n}){return Nfe(e)?t:e[n]||e}function $fe(t){return t?(e,n)=>n[t]:null}function p_(t,e){let{ownerState:n}=e,r=Fe(e,Afe);const i=typeof t=="function"?t(q({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>p_(o,q({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=Fe(i,Rfe);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props(q({ownerState:n},r,n)):Object.keys(l.props).forEach(c=>{(n==null?void 0:n[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style(q({ownerState:n},r,n)):l.style))}),a}return i}function HU(t={}){const{themeId:e,defaultTheme:n=Dfe,rootShouldForwardProp:r=iT,slotShouldForwardProp:i=iT}=t,o=s=>Pf(q({},s,{theme:Sb(q({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{RU(s,I=>I.filter(O=>!(O!=null&&O.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:f,overridesResolver:h=$fe(jfe(u))}=a,p=Fe(a,Ofe),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,_=f||!1;let w,b=iT;u==="Root"||u==="root"?b=r:u?b=i:Lfe(s)&&(b=void 0);const v=BA(s,q({shouldForwardProp:b,label:w},p)),y=I=>typeof I=="function"&&I.__emotion_real!==I||Cl(I)?O=>p_(I,q({},O,{theme:Sb({theme:O.theme,defaultTheme:n,themeId:e})})):I,x=(I,...O)=>{let S=y(I);const C=O?O.map(y):[];l&&h&&C.push(R=>{const L=Sb(q({},R,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const N=L.components[l].styleOverrides,V={};return Object.entries(N).forEach(([F,z])=>{V[F]=p_(z,q({},R,{theme:L}))}),h(R,V)}),l&&!g&&C.push(R=>{var L;const N=Sb(q({},R,{defaultTheme:n,themeId:e})),V=N==null||(L=N.components)==null||(L=L[l])==null?void 0:L.variants;return p_({variants:V},q({},R,{theme:N}))}),_||C.push(o);const k=C.length-O.length;if(Array.isArray(I)&&k>0){const R=new Array(k).fill("");S=[...I,...R],S.raw=[...I.raw,...R]}const P=v(S,...C);return s.muiName&&(P.muiName=s.muiName),P};return v.withConfig&&(x.withConfig=v.withConfig),x}}const WU=HU();function ry(t,e){const n=q({},e);return Object.keys(t).forEach(r=>{if(r.toString().match(/^(components|slots)$/))n[r]=q({},t[r],n[r]);else if(r.toString().match(/^(componentsProps|slotProps)$/)){const i=t[r]||{},o=e[r];n[r]={},!o||!Object.keys(o)?n[r]=i:!i||!Object.keys(i)?n[r]=o:(n[r]=q({},o),Object.keys(i).forEach(s=>{n[r][s]=ry(i[s],o[s])}))}else n[r]===void 0&&(n[r]=t[r])}),n}function KU(t){const{theme:e,name:n,props:r}=t;return!e||!e.components||!e.components[n]||!e.components[n].defaultProps?r:ry(e.components[n].defaultProps,r)}function YA({props:t,name:e,defaultTheme:n,themeId:r}){let i=wx(n);return r&&(i=i[r]||i),KU({theme:i,name:e,props:t})}const or=typeof window<"u"?D.useLayoutEffect:D.useEffect;function Mfe(t,e,n,r,i){const[o,s]=D.useState(()=>i&&n?n(t).matches:r?r(t).matches:e);return or(()=>{let a=!0;if(!n)return;const l=n(t),u=()=>{a&&s(l.matches)};return u(),l.addListener(u),()=>{a=!1,l.removeListener(u)}},[t,n]),o}const GU=D.useSyncExternalStore;function Bfe(t,e,n,r,i){const o=D.useCallback(()=>e,[e]),s=D.useMemo(()=>{if(i&&n)return()=>n(t).matches;if(r!==null){const{matches:c}=r(t);return()=>c}return o},[o,t,r,i,n]),[a,l]=D.useMemo(()=>{if(n===null)return[o,()=>()=>{}];const c=n(t);return[()=>c.matches,f=>(c.addListener(f),()=>{c.removeListener(f)})]},[o,n,t]);return GU(l,a,s)}function Ffe(t,e={}){const n=MU(),r=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:i=!1,matchMedia:o=r?window.matchMedia:null,ssrMatchMedia:s=null,noSsr:a=!1}=KU({name:"MuiUseMediaQuery",props:e,theme:n});let l=t;return l=l.replace(/^@media( ?)/m,""),(GU!==void 0?Bfe:Mfe)(l,i,o,s,a)}function QU(t,e=Number.MIN_SAFE_INTEGER,n=Number.MAX_SAFE_INTEGER){return Math.max(e,Math.min(t,n))}const Vfe=Object.freeze(Object.defineProperty({__proto__:null,default:QU},Symbol.toStringTag,{value:"Module"}));function Ufe(t,e=0,n=1){return QU(t,e,n)}function zfe(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function XA(t){if(t.type)return t;if(t.charAt(0)==="#")return XA(zfe(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error(Ya(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error(Ya(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const sd=t=>{const e=XA(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};function qfe(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function Hfe(t,e){return t=XA(t),e=Ufe(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,qfe(t)}function bC(...t){return t.reduce((e,n)=>n==null?e:function(...i){e.apply(this,i),n.apply(this,i)},()=>{})}function Nx(t,e=166){let n;function r(...i){const o=()=>{t.apply(this,i)};clearTimeout(n),n=setTimeout(o,e)}return r.clear=()=>{clearTimeout(n)},r}function Wfe(t,e){return()=>null}function Jg(t,e){var n,r;return D.isValidElement(t)&&e.indexOf((n=t.type.muiName)!=null?n:(r=t.type)==null||(r=r._payload)==null||(r=r.value)==null?void 0:r.muiName)!==-1}function li(t){return t&&t.ownerDocument||document}function Xa(t){return li(t).defaultView||window}function Kfe(t,e){return()=>null}function Lp(t,e){typeof t=="function"?t(e):t&&(t.current=e)}let Fj=0;function Gfe(t){const[e,n]=D.useState(t),r=t||e;return D.useEffect(()=>{e==null&&(Fj+=1,n(`mui-${Fj}`))},[e]),r}const Vj=ap.useId;function Oc(t){if(Vj!==void 0){const e=Vj();return t??e}return Gfe(t)}function Qfe(t,e,n,r,i){return null}function iy({controlled:t,default:e,name:n,state:r="value"}){const{current:i}=D.useRef(t!==void 0),[o,s]=D.useState(e),a=i?t:o,l=D.useCallback(u=>{i||s(u)},[]);return[a,l]}function Ll(t){const e=D.useRef(t);return or(()=>{e.current=t}),D.useRef((...n)=>(0,e.current)(...n)).current}function en(...t){return D.useMemo(()=>t.every(e=>e==null)?null:e=>{t.forEach(n=>{Lp(n,e)})},t)}const Uj={};function Yfe(t,e){const n=D.useRef(Uj);return n.current===Uj&&(n.current=t(e)),n}const Xfe=[];function Jfe(t){D.useEffect(t,Xfe)}class Ky{constructor(){this.currentId=null,this.clear=()=>{this.currentId!==null&&(clearTimeout(this.currentId),this.currentId=null)},this.disposeEffect=()=>this.clear}static create(){return new Ky}start(e,n){this.clear(),this.currentId=setTimeout(()=>{this.currentId=null,n()},e)}}function Lh(){const t=Yfe(Ky.create).current;return Jfe(t.disposeEffect),t}let Lx=!0,_C=!1;const Zfe=new Ky,ehe={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function the(t){const{type:e,tagName:n}=t;return!!(n==="INPUT"&&ehe[e]&&!t.readOnly||n==="TEXTAREA"&&!t.readOnly||t.isContentEditable)}function nhe(t){t.metaKey||t.altKey||t.ctrlKey||(Lx=!0)}function oT(){Lx=!1}function rhe(){this.visibilityState==="hidden"&&_C&&(Lx=!0)}function ihe(t){t.addEventListener("keydown",nhe,!0),t.addEventListener("mousedown",oT,!0),t.addEventListener("pointerdown",oT,!0),t.addEventListener("touchstart",oT,!0),t.addEventListener("visibilitychange",rhe,!0)}function ohe(t){const{target:e}=t;try{return e.matches(":focus-visible")}catch{}return Lx||the(e)}function Dx(){const t=D.useCallback(i=>{i!=null&&ihe(i.ownerDocument)},[]),e=D.useRef(!1);function n(){return e.current?(_C=!0,Zfe.start(100,()=>{_C=!1}),e.current=!1,!0):!1}function r(i){return ohe(i)?(e.current=!0,!0):!1}return{isFocusVisibleRef:e,onFocus:r,onBlur:n,ref:t}}function YU(t){const e=t.documentElement.clientWidth;return Math.abs(window.innerWidth-e)}function wt(t,e,n=void 0){const r={};return Object.keys(t).forEach(i=>{r[i]=t[i].reduce((o,s)=>{if(s){const a=e(s);a!==""&&o.push(a),n&&n[s]&&o.push(n[s])}return o},[]).join(" ")}),r}function Dp(t){return typeof t=="string"}function Dh(t,e,n){return t===void 0||Dp(t)?e:q({},e,{ownerState:q({},e.ownerState,n)})}function XU(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function zj(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function JU(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=st(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=q({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=q({},n,i,r);return p.length>0&&(_.className=p),Object.keys(g).length>0&&(_.style=g),{props:_,internalRef:void 0}}const s=XU(q({},i,r)),a=zj(r),l=zj(i),u=e(s),c=st(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=q({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=q({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:u.ref}}function ZU(t,e,n){return typeof t=="function"?t(e,n):t}const she=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function ff(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=Fe(t,she),a=o?{}:ZU(r,i),{props:l,internalRef:u}=JU(q({},s,{externalSlotProps:a})),c=en(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return Dh(n,q({},l,{ref:c}),i)}const ahe=D.createContext(),e9=()=>{const t=D.useContext(ahe);return t??!1},lhe=D.createContext(void 0);function uhe(t){const{theme:e,name:n,props:r}=t;if(!e||!e.components||!e.components[n])return r;const i=e.components[n];return i.defaultProps?ry(i.defaultProps,r):!i.styleOverrides&&!i.variants?ry(i,r):r}function che({props:t,name:e}){const n=D.useContext(lhe);return uhe({props:t,name:e,theme:{components:n}})}function JA(t=""){function e(...r){if(!r.length)return"";const i=r[0];return typeof i=="string"&&!i.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?`, var(--${t?`${t}-`:""}${i}${e(...r.slice(1))})`:`, ${i}`}return(r,...i)=>`var(--${t?`${t}-`:""}${r}${e(...i)})`}const qj=(t,e,n,r=[])=>{let i=t;e.forEach((o,s)=>{s===e.length-1?Array.isArray(i)?i[Number(o)]=n:i&&typeof i=="object"&&(i[o]=n):i&&typeof i=="object"&&(i[o]||(i[o]=r.includes(o)?[]:{}),i=i[o])})},dhe=(t,e,n)=>{function r(i,o=[],s=[]){Object.entries(i).forEach(([a,l])=>{(!n||n&&!n([...o,a]))&&l!=null&&(typeof l=="object"&&Object.keys(l).length>0?r(l,[...o,a],Array.isArray(l)?[...s,a]:s):e([...o,a],l,s))})}r(t)},fhe=(t,e)=>typeof e=="number"?["lineHeight","fontWeight","opacity","zIndex"].some(r=>t.includes(r))||t[t.length-1].toLowerCase().indexOf("opacity")>=0?e:`${e}px`:e;function sT(t,e){const{prefix:n,shouldSkipGeneratingVar:r}=e||{},i={},o={},s={};return dhe(t,(a,l,u)=>{if((typeof l=="string"||typeof l=="number")&&(!r||!r(a,l))){const c=`--${n?`${n}-`:""}${a.join("-")}`;Object.assign(i,{[c]:fhe(a,l)}),qj(o,a,`var(${c})`,u),qj(s,a,`var(${c}, ${l})`,u)}},a=>a[0]==="vars"),{css:i,vars:o,varsWithDefaults:s}}function oy(t){"@babel/helpers - typeof";return oy=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},oy(t)}function hhe(t,e){if(oy(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(oy(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function phe(t){var e=hhe(t,"string");return oy(e)=="symbol"?e:e+""}const mhe=["colorSchemes","components","defaultColorScheme"];function ghe(t,e){const{colorSchemes:n={},defaultColorScheme:r="light"}=t,i=Fe(t,mhe),{vars:o,css:s,varsWithDefaults:a}=sT(i,e);let l=a;const u={},{[r]:c}=n,f=Fe(n,[r].map(phe));if(Object.entries(f||{}).forEach(([p,g])=>{const{vars:_,css:w,varsWithDefaults:b}=sT(g,e);l=Vr(l,b),u[p]={css:w,vars:_}}),c){const{css:p,vars:g,varsWithDefaults:_}=sT(c,e);l=Vr(l,_),u[r]={css:p,vars:g}}return{vars:l,generateCssVars:p=>{var g;if(!p){var _;const b=q({},s);return{css:b,vars:o,selector:(e==null||(_=e.getSelector)==null?void 0:_.call(e,p,b))||":root"}}const w=q({},u[p].css);return{css:w,vars:u[p].vars,selector:(e==null||(g=e.getSelector)==null?void 0:g.call(e,p,w))||":root"}}}}const vhe=["className","component","disableGutters","fixed","maxWidth","classes"],yhe=dm(),bhe=WU("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),_he=t=>YA({props:t,name:"MuiContainer",defaultTheme:yhe}),whe=(t,e)=>{const n=l=>Dt(e,l),{classes:r,fixed:i,disableGutters:o,maxWidth:s}=t,a={root:["root",s&&`maxWidth${Ge(String(s))}`,i&&"fixed",o&&"disableGutters"]};return wt(a,n,r)};function xhe(t={}){const{createStyledComponent:e=bhe,useThemeProps:n=_he,componentName:r="MuiContainer"}=t,i=e(({theme:s,ownerState:a})=>q({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",display:"block"},!a.disableGutters&&{paddingLeft:s.spacing(2),paddingRight:s.spacing(2),[s.breakpoints.up("sm")]:{paddingLeft:s.spacing(3),paddingRight:s.spacing(3)}}),({theme:s,ownerState:a})=>a.fixed&&Object.keys(s.breakpoints.values).reduce((l,u)=>{const c=u,f=s.breakpoints.values[c];return f!==0&&(l[s.breakpoints.up(c)]={maxWidth:`${f}${s.breakpoints.unit}`}),l},{}),({theme:s,ownerState:a})=>q({},a.maxWidth==="xs"&&{[s.breakpoints.up("xs")]:{maxWidth:Math.max(s.breakpoints.values.xs,444)}},a.maxWidth&&a.maxWidth!=="xs"&&{[s.breakpoints.up(a.maxWidth)]:{maxWidth:`${s.breakpoints.values[a.maxWidth]}${s.breakpoints.unit}`}}));return D.forwardRef(function(a,l){const u=n(a),{className:c,component:f="div",disableGutters:h=!1,fixed:p=!1,maxWidth:g="lg"}=u,_=Fe(u,vhe),w=q({},u,{component:f,disableGutters:h,fixed:p,maxWidth:g}),b=whe(w,r);return E.jsx(i,q({as:f,ownerState:w,className:st(b.root,c),ref:l},_))})}const Ehe=["component","direction","spacing","divider","children","className","useFlexGap"],Ihe=dm(),The=WU("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root});function She(t){return YA({props:t,name:"MuiStack",defaultTheme:Ihe})}function Che(t,e){const n=D.Children.toArray(t).filter(Boolean);return n.reduce((r,i,o)=>(r.push(i),o<n.length-1&&r.push(D.cloneElement(e,{key:`separator-${o}`})),r),[])}const Phe=t=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[t],khe=({ownerState:t,theme:e})=>{let n=q({display:"flex",flexDirection:"column"},fa({theme:e},rT({values:t.direction,breakpoints:e.breakpoints.values}),r=>({flexDirection:r})));if(t.spacing){const r=qA(e),i=Object.keys(e.breakpoints.values).reduce((l,u)=>((typeof t.spacing=="object"&&t.spacing[u]!=null||typeof t.direction=="object"&&t.direction[u]!=null)&&(l[u]=!0),l),{}),o=rT({values:t.direction,base:i}),s=rT({values:t.spacing,base:i});typeof o=="object"&&Object.keys(o).forEach((l,u,c)=>{if(!o[l]){const h=u>0?o[c[u-1]]:"column";o[l]=h}}),n=Vr(n,fa({theme:e},s,(l,u)=>t.useFlexGap?{gap:df(r,l)}:{"& > :not(style):not(style)":{margin:0},"& > :not(style) ~ :not(style)":{[`margin${Phe(u?o[u]:t.direction)}`]:df(r,l)}}))}return n=Cde(e.breakpoints,n),n};function Ahe(t={}){const{createStyledComponent:e=The,useThemeProps:n=She,componentName:r="MuiStack"}=t,i=()=>wt({root:["root"]},l=>Dt(r,l),{}),o=e(khe);return D.forwardRef(function(l,u){const c=n(l),f=xx(c),{component:h="div",direction:p="column",spacing:g=0,divider:_,children:w,className:b,useFlexGap:v=!1}=f,y=Fe(f,Ehe),x={direction:p,spacing:g,useFlexGap:v},I=i();return E.jsx(o,q({as:h,ownerState:x,ref:u,className:st(I.root,b)},y,{children:_?Che(w,_):w}))})}const Rhe=q({},cm,{borderRadius:{themeKey:"radius"},boxShadow:{themeKey:"shadow"},fontFamily:{themeKey:"fontFamily"},fontSize:{themeKey:"fontSize"},fontWeight:{themeKey:"fontWeight"},letterSpacing:{themeKey:"letterSpacing"},lineHeight:{themeKey:"lineHeight"}});function Ohe(t){var e;return!!t[0].match(/^(typography|variants|breakpoints)$/)||!!t[0].match(/sxConfig$/)||t[0]==="palette"&&!!((e=t[1])!=null&&e.match(/^(mode)$/))||t[0]==="focus"&&t[1]!=="thickness"}const Nc=(t,e)=>Dt(t,e,"Mui"),au=(t,e)=>Nt(t,e,"Mui"),Nhe=t=>t&&typeof t=="object"&&Object.keys(t).some(e=>{var n;return(n=e.match)==null?void 0:n.call(e,/^(plain(Hover|Active|Disabled)?(Color|Bg)|outlined(Hover|Active|Disabled)?(Color|Border|Bg)|soft(Hover|Active|Disabled)?(Color|Bg)|solid(Hover|Active|Disabled)?(Color|Bg))$/)}),Hj=(t,e,n)=>{e.includes("Color")&&(t.color=n),e.includes("Bg")&&(t.backgroundColor=n),e.includes("Border")&&(t.borderColor=n)},Wj=(t,e,n)=>{const r={};return Object.entries(e||{}).forEach(([i,o])=>{if(i.match(new RegExp(`${t}(color|bg|border)`,"i"))&&o){const s=n?n(i):o;i.includes("Disabled")&&(r.pointerEvents="none",r.cursor="default",r["--Icon-color"]="currentColor"),i.match(/(Hover|Active|Disabled)/)||(r["--variant-borderWidth"]||(r["--variant-borderWidth"]="0px"),i.includes("Border")&&(r["--variant-borderWidth"]="1px",r.border="var(--variant-borderWidth) solid")),Hj(r,i,s)}}),r},Oi=(t,e)=>{let n={};if(e){const{getCssVar:r,palette:i}=e;Object.entries(i).forEach(o=>{const[s,a]=o;Nhe(a)&&typeof a=="object"&&(n=q({},n,{[s]:Wj(t,a,l=>`var(--variant-${l}, ${r(`palette-${s}-${l}`,i[s][l])})`)}))})}return n.context=Wj(t,{plainColor:"var(--variant-plainColor)",plainHoverColor:"var(--variant-plainHoverColor)",plainHoverBg:"var(--variant-plainHoverBg)",plainActiveBg:"var(--variant-plainActiveBg)",plainDisabledColor:"var(--variant-plainDisabledColor)",outlinedColor:"var(--variant-outlinedColor)",outlinedBorder:"var(--variant-outlinedBorder)",outlinedHoverColor:"var(--variant-outlinedHoverColor)",outlinedHoverBorder:"var(--variant-outlinedHoverBorder)",outlinedHoverBg:"var(--variant-outlinedHoverBg)",outlinedActiveBg:"var(--variant-outlinedActiveBg)",outlinedDisabledColor:"var(--variant-outlinedDisabledColor)",outlinedDisabledBorder:"var(--variant-outlinedDisabledBorder)",softColor:"var(--variant-softColor)",softBg:"var(--variant-softBg)",softHoverColor:"var(--variant-softHoverColor)",softHoverBg:"var(--variant-softHoverBg)",softActiveBg:"var(--variant-softActiveBg)",softDisabledColor:"var(--variant-softDisabledColor)",softDisabledBg:"var(--variant-softDisabledBg)",solidColor:"var(--variant-solidColor)",solidBg:"var(--variant-solidBg)",solidHoverBg:"var(--variant-solidHoverBg)",solidActiveBg:"var(--variant-solidActiveBg)",solidDisabledColor:"var(--variant-solidDisabledColor)",solidDisabledBg:"var(--variant-solidDisabledBg)"}),n},Lhe=["cssVarPrefix","breakpoints","spacing","components","variants","shouldSkipGeneratingVar"],Dhe=["colorSchemes"],jhe=(t="joy")=>JA(t);function $he(t){var e,n,r,i,o,s,a,l,u,c;const f={},{cssVarPrefix:h="joy",breakpoints:p,spacing:g,components:_,variants:w,shouldSkipGeneratingVar:b=Ohe}=f,v=Fe(f,Lhe),y=jhe(h),x={primary:og.blue,neutral:og.grey,danger:og.red,success:og.green,warning:og.yellow,common:{white:"#FFF",black:"#000"}},I=re=>{var ue;const te=re.split("-"),fe=te[1],be=te[2];return y(re,(ue=x[fe])==null?void 0:ue[be])},O=re=>({plainColor:I(`palette-${re}-500`),plainHoverBg:I(`palette-${re}-100`),plainActiveBg:I(`palette-${re}-200`),plainDisabledColor:I("palette-neutral-400"),outlinedColor:I(`palette-${re}-500`),outlinedBorder:I(`palette-${re}-300`),outlinedHoverBg:I(`palette-${re}-100`),outlinedActiveBg:I(`palette-${re}-200`),outlinedDisabledColor:I("palette-neutral-400"),outlinedDisabledBorder:I("palette-neutral-200"),softColor:I(`palette-${re}-700`),softBg:I(`palette-${re}-100`),softHoverBg:I(`palette-${re}-200`),softActiveColor:I(`palette-${re}-800`),softActiveBg:I(`palette-${re}-300`),softDisabledColor:I("palette-neutral-400"),softDisabledBg:I("palette-neutral-50"),solidColor:I("palette-common-white"),solidBg:I(`palette-${re}-500`),solidHoverBg:I(`palette-${re}-600`),solidActiveBg:I(`palette-${re}-700`),solidDisabledColor:I("palette-neutral-400"),solidDisabledBg:I("palette-neutral-100")}),S=re=>({plainColor:I(`palette-${re}-300`),plainHoverBg:I(`palette-${re}-800`),plainActiveBg:I(`palette-${re}-700`),plainDisabledColor:I("palette-neutral-500"),outlinedColor:I(`palette-${re}-200`),outlinedBorder:I(`palette-${re}-700`),outlinedHoverBg:I(`palette-${re}-800`),outlinedActiveBg:I(`palette-${re}-700`),outlinedDisabledColor:I("palette-neutral-500"),outlinedDisabledBorder:I("palette-neutral-800"),softColor:I(`palette-${re}-200`),softBg:I(`palette-${re}-800`),softHoverBg:I(`palette-${re}-700`),softActiveColor:I(`palette-${re}-100`),softActiveBg:I(`palette-${re}-600`),softDisabledColor:I("palette-neutral-500"),softDisabledBg:I("palette-neutral-800"),solidColor:I("palette-common-white"),solidBg:I(`palette-${re}-500`),solidHoverBg:I(`palette-${re}-600`),solidActiveBg:I(`palette-${re}-700`),solidDisabledColor:I("palette-neutral-500"),solidDisabledBg:I("palette-neutral-800")}),C={palette:{mode:"light",primary:q({},x.primary,O("primary")),neutral:q({},x.neutral,O("neutral"),{plainColor:I("palette-neutral-700"),plainHoverColor:I("palette-neutral-900"),outlinedColor:I("palette-neutral-700")}),danger:q({},x.danger,O("danger")),success:q({},x.success,O("success")),warning:q({},x.warning,O("warning")),common:{white:"#FFF",black:"#000"},text:{primary:I("palette-neutral-800"),secondary:I("palette-neutral-700"),tertiary:I("palette-neutral-600"),icon:I("palette-neutral-500")},background:{body:I("palette-common-white"),surface:I("palette-neutral-50"),popup:I("palette-common-white"),level1:I("palette-neutral-100"),level2:I("palette-neutral-200"),level3:I("palette-neutral-300"),tooltip:I("palette-neutral-500"),backdrop:`rgba(${y("palette-neutral-darkChannel",sd(x.neutral[900]))} / 0.25)`},divider:`rgba(${y("palette-neutral-mainChannel",sd(x.neutral[500]))} / 0.2)`,focusVisible:I("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"21 21 21",shadowOpacity:"0.08"},k={palette:{mode:"dark",primary:q({},x.primary,S("primary")),neutral:q({},x.neutral,S("neutral"),{plainColor:I("palette-neutral-300"),plainHoverColor:I("palette-neutral-300")}),danger:q({},x.danger,S("danger")),success:q({},x.success,S("success")),warning:q({},x.warning,S("warning")),common:{white:"#FFF",black:"#000"},text:{primary:I("palette-neutral-100"),secondary:I("palette-neutral-300"),tertiary:I("palette-neutral-400"),icon:I("palette-neutral-400")},background:{body:I("palette-common-black"),surface:I("palette-neutral-900"),popup:I("palette-common-black"),level1:I("palette-neutral-800"),level2:I("palette-neutral-700"),level3:I("palette-neutral-600"),tooltip:I("palette-neutral-600"),backdrop:`rgba(${y("palette-neutral-darkChannel",sd(x.neutral[50]))} / 0.25)`},divider:`rgba(${y("palette-neutral-mainChannel",sd(x.neutral[500]))} / 0.16)`,focusVisible:I("palette-primary-500")},shadowRing:"0 0 #000",shadowChannel:"0 0 0",shadowOpacity:"0.6"},P='-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',R=q({body:`"Inter", ${y(`fontFamily-fallback, ${P}`)}`,display:`"Inter", ${y(`fontFamily-fallback, ${P}`)}`,code:"Source Code Pro,ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace",fallback:P},v.fontFamily),L=q({sm:300,md:500,lg:600,xl:700},v.fontWeight),N=q({xs:"0.75rem",sm:"0.875rem",md:"1rem",lg:"1.125rem",xl:"1.25rem",xl2:"1.5rem",xl3:"1.875rem",xl4:"2.25rem"},v.fontSize),V=q({xs:"1.33334",sm:"1.42858",md:"1.5",lg:"1.55556",xl:"1.66667"},v.lineHeight),F=(e=(n=v.colorSchemes)==null||(n=n.light)==null?void 0:n.shadowRing)!=null?e:C.shadowRing,z=(r=(i=v.colorSchemes)==null||(i=i.light)==null?void 0:i.shadowChannel)!=null?r:C.shadowChannel,B=(o=(s=v.colorSchemes)==null||(s=s.light)==null?void 0:s.shadowOpacity)!=null?o:C.shadowOpacity,W={colorSchemes:{light:C,dark:k},fontSize:N,fontFamily:R,fontWeight:L,focus:{thickness:"2px",selector:`&.${Nc("","focusVisible")}, &:focus-visible`,default:{outlineOffset:`var(--focus-outline-offset, ${y("focus-thickness",(a=(l=v.focus)==null?void 0:l.thickness)!=null?a:"2px")})`,outline:`${y("focus-thickness",(u=(c=v.focus)==null?void 0:c.thickness)!=null?u:"2px")} solid ${y("palette-focusVisible",x.primary[500])}`}},lineHeight:V,radius:{xs:"2px",sm:"6px",md:"8px",lg:"12px",xl:"16px"},shadow:{xs:`${y("shadowRing",F)}, 0px 1px 2px 0px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)})`,sm:`${y("shadowRing",F)}, 0px 1px 2px 0px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)}), 0px 2px 4px 0px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)})`,md:`${y("shadowRing",F)}, 0px 2px 8px -2px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)}), 0px 6px 12px -2px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)})`,lg:`${y("shadowRing",F)}, 0px 2px 8px -2px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)}), 0px 12px 16px -4px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)})`,xl:`${y("shadowRing",F)}, 0px 2px 8px -2px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)}), 0px 20px 24px -4px rgba(${y("shadowChannel",z)} / ${y("shadowOpacity",B)})`},zIndex:{badge:1,table:10,popup:1e3,modal:1300,snackbar:1400,tooltip:1500},typography:{h1:{fontFamily:y(`fontFamily-display, ${R.display}`),fontWeight:y(`fontWeight-xl, ${L.xl}`),fontSize:y(`fontSize-xl4, ${N.xl4}`),lineHeight:y(`lineHeight-xs, ${V.xs}`),letterSpacing:"-0.025em",color:y(`palette-text-primary, ${C.palette.text.primary}`)},h2:{fontFamily:y(`fontFamily-display, ${R.display}`),fontWeight:y(`fontWeight-xl, ${L.xl}`),fontSize:y(`fontSize-xl3, ${N.xl3}`),lineHeight:y(`lineHeight-xs, ${V.xs}`),letterSpacing:"-0.025em",color:y(`palette-text-primary, ${C.palette.text.primary}`)},h3:{fontFamily:y(`fontFamily-display, ${R.display}`),fontWeight:y(`fontWeight-lg, ${L.lg}`),fontSize:y(`fontSize-xl2, ${N.xl2}`),lineHeight:y(`lineHeight-xs, ${V.xs}`),letterSpacing:"-0.025em",color:y(`palette-text-primary, ${C.palette.text.primary}`)},h4:{fontFamily:y(`fontFamily-display, ${R.display}`),fontWeight:y(`fontWeight-lg, ${L.lg}`),fontSize:y(`fontSize-xl, ${N.xl}`),lineHeight:y(`lineHeight-md, ${V.md}`),letterSpacing:"-0.025em",color:y(`palette-text-primary, ${C.palette.text.primary}`)},"title-lg":{fontFamily:y(`fontFamily-body, ${R.body}`),fontWeight:y(`fontWeight-lg, ${L.lg}`),fontSize:y(`fontSize-lg, ${N.lg}`),lineHeight:y(`lineHeight-xs, ${V.xs}`),color:y(`palette-text-primary, ${C.palette.text.primary}`)},"title-md":{fontFamily:y(`fontFamily-body, ${R.body}`),fontWeight:y(`fontWeight-md, ${L.md}`),fontSize:y(`fontSize-md, ${N.md}`),lineHeight:y(`lineHeight-md, ${V.md}`),color:y(`palette-text-primary, ${C.palette.text.primary}`)},"title-sm":{fontFamily:y(`fontFamily-body, ${R.body}`),fontWeight:y(`fontWeight-md, ${L.md}`),fontSize:y(`fontSize-sm, ${N.sm}`),lineHeight:y(`lineHeight-sm, ${V.sm}`),color:y(`palette-text-primary, ${C.palette.text.primary}`)},"body-lg":{fontFamily:y(`fontFamily-body, ${R.body}`),fontSize:y(`fontSize-lg, ${N.lg}`),lineHeight:y(`lineHeight-md, ${V.md}`),color:y(`palette-text-secondary, ${C.palette.text.secondary}`)},"body-md":{fontFamily:y(`fontFamily-body, ${R.body}`),fontSize:y(`fontSize-md, ${N.md}`),lineHeight:y(`lineHeight-md, ${V.md}`),color:y(`palette-text-secondary, ${C.palette.text.secondary}`)},"body-sm":{fontFamily:y(`fontFamily-body, ${R.body}`),fontSize:y(`fontSize-sm, ${N.sm}`),lineHeight:y(`lineHeight-md, ${V.md}`),color:y(`palette-text-tertiary, ${C.palette.text.tertiary}`)},"body-xs":{fontFamily:y(`fontFamily-body, ${R.body}`),fontWeight:y(`fontWeight-md, ${L.md}`),fontSize:y(`fontSize-xs, ${N.xs}`),lineHeight:y(`lineHeight-md, ${V.md}`),color:y(`palette-text-tertiary, ${C.palette.text.tertiary}`)}}},Q=v?Vr(W,v):W,{colorSchemes:G}=Q,j=Fe(Q,Dhe),U=q({colorSchemes:G},j,{breakpoints:FA(p??{}),components:Vr({MuiSvgIcon:{defaultProps:{fontSize:"xl2"},styleOverrides:{root:({ownerState:re,theme:ue})=>{var te;const fe=re.instanceFontSize;return q({margin:"var(--Icon-margin)"},re.fontSize&&re.fontSize!=="inherit"&&{fontSize:`var(--Icon-fontSize, ${ue.vars.fontSize[re.fontSize]})`},!re.htmlColor&&q({color:`var(--Icon-color, ${U.vars.palette.text.icon})`},re.color&&re.color!=="inherit"&&ue.vars.palette[re.color]&&{color:`rgba(${(te=ue.vars.palette[re.color])==null?void 0:te.mainChannel} / 1)`}),fe&&fe!=="inherit"&&{"--Icon-fontSize":ue.vars.fontSize[fe]})}}}},_),cssVarPrefix:h,getCssVar:y,spacing:jU(g)});function K(re,ue){Object.keys(ue).forEach(te=>{const fe={main:"500",light:"200",dark:"700"};re==="dark"&&(fe.main=400),!ue[te].mainChannel&&ue[te][fe.main]&&(ue[te].mainChannel=sd(ue[te][fe.main])),!ue[te].lightChannel&&ue[te][fe.light]&&(ue[te].lightChannel=sd(ue[te][fe.light])),!ue[te].darkChannel&&ue[te][fe.dark]&&(ue[te].darkChannel=sd(ue[te][fe.dark]))})}Object.entries(U.colorSchemes).forEach(([re,ue])=>{K(re,ue.palette)});const ne={prefix:h,shouldSkipGeneratingVar:b},{vars:oe,generateCssVars:X}=ghe(q({colorSchemes:G},j),ne);U.vars=oe,U.generateCssVars=X,U.unstable_sxConfig=q({},Rhe,void 0),U.unstable_sx=function(ue){return Pf({sx:ue,theme:this})},U.getColorSchemeSelector=re=>re==="light"?"&":`&[data-joy-color-scheme="${re}"], [data-joy-color-scheme="${re}"] &`;const Z={getCssVar:y,palette:U.colorSchemes.light.palette};return U.variants=Vr({plain:Oi("plain",Z),plainHover:Oi("plainHover",Z),plainActive:Oi("plainActive",Z),plainDisabled:Oi("plainDisabled",Z),outlined:Oi("outlined",Z),outlinedHover:Oi("outlinedHover",Z),outlinedActive:Oi("outlinedActive",Z),outlinedDisabled:Oi("outlinedDisabled",Z),soft:Oi("soft",Z),softHover:Oi("softHover",Z),softActive:Oi("softActive",Z),softDisabled:Oi("softDisabled",Z),solid:Oi("solid",Z),solidHover:Oi("solidHover",Z),solidActive:Oi("solidActive",Z),solidDisabled:Oi("solidDisabled",Z)},w),U.palette=q({},U.colorSchemes.light.palette,{colorScheme:"light"}),U.shouldSkipGeneratingVar=b,U.applyStyles=WA,U}const t9=$he(),Yn=HU({defaultTheme:t9,themeId:sU});function kf({props:t,name:e}){return YA({props:t,name:e,defaultTheme:q({},t9,{components:{}}),themeId:sU})}function Mhe(t){return typeof t=="string"}function n9(t,e,n){return t===void 0||Mhe(t)?e:q({},e,{ownerState:q({},e.ownerState,n)})}function Kj(t,e,n=(r,i)=>r===i){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}const Bhe={disableDefaultClasses:!1},Fhe=D.createContext(Bhe);function Gy(t){const{disableDefaultClasses:e}=D.useContext(Fhe);return n=>e?"":t(n)}function ua(t,e=[]){if(t===void 0)return{};const n={};return Object.keys(t).filter(r=>r.match(/^on[A-Z]/)&&typeof t[r]=="function"&&!e.includes(r)).forEach(r=>{n[r]=t[r]}),n}function r9(t,e,n){return typeof t=="function"?t(e,n):t}function Vhe(t){const{rootElementName:e="",componentName:n}=t,[r,i]=D.useState(e.toUpperCase()),o=D.useCallback(s=>{var a;i((a=s==null?void 0:s.tagName)!=null?a:"")},[]);return[r,o]}function Gj(t){if(t===void 0)return{};const e={};return Object.keys(t).filter(n=>!(n.match(/^on[A-Z]/)&&typeof t[n]=="function")).forEach(n=>{e[n]=t[n]}),e}function i9(t){const{getSlotProps:e,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:o}=t;if(!e){const p=st(n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),g=q({},n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),_=q({},n,i,r);return p.length>0&&(_.className=p),Object.keys(g).length>0&&(_.style=g),{props:_,internalRef:void 0}}const s=ua(q({},i,r)),a=Gj(r),l=Gj(i),u=e(s),c=st(u==null?void 0:u.className,n==null?void 0:n.className,o,i==null?void 0:i.className,r==null?void 0:r.className),f=q({},u==null?void 0:u.style,n==null?void 0:n.style,i==null?void 0:i.style,r==null?void 0:r.style),h=q({},u,n,l,a);return c.length>0&&(h.className=c),Object.keys(f).length>0&&(h.style=f),{props:h,internalRef:u.ref}}const Uhe=["elementType","externalSlotProps","ownerState","skipResolvingSlotProps"];function hf(t){var e;const{elementType:n,externalSlotProps:r,ownerState:i,skipResolvingSlotProps:o=!1}=t,s=Fe(t,Uhe),a=o?{}:r9(r,i),{props:l,internalRef:u}=i9(q({},s,{externalSlotProps:a})),c=en(u,a==null?void 0:a.ref,(e=t.additionalProps)==null?void 0:e.ref);return n9(n,q({},l,{ref:c}),i)}const o9="base";function zhe(t){return`${o9}--${t}`}function qhe(t,e){return`${o9}-${t}-${e}`}function fm(t,e){const n=FU[e];return n?zhe(n):qhe(t,e)}function Qy(t,e){const n={};return e.forEach(r=>{n[r]=fm(t,r)}),n}function jx(t={}){const{disabled:e=!1,focusableWhenDisabled:n,href:r,rootRef:i,tabIndex:o,to:s,type:a,rootElementName:l}=t,u=D.useRef(),[c,f]=D.useState(!1),{isFocusVisibleRef:h,onFocus:p,onBlur:g,ref:_}=Dx(),[w,b]=D.useState(!1);e&&!n&&w&&b(!1),D.useEffect(()=>{h.current=w},[w,h]);const[v,y]=Vhe({rootElementName:l??(r||s?"a":void 0),componentName:"Button"}),x=F=>z=>{var B;w&&z.preventDefault(),(B=F.onMouseLeave)==null||B.call(F,z)},I=F=>z=>{var B;g(z),h.current===!1&&b(!1),(B=F.onBlur)==null||B.call(F,z)},O=F=>z=>{var B;if(u.current||(u.current=z.currentTarget),p(z),h.current===!0){var W;b(!0),(W=F.onFocusVisible)==null||W.call(F,z)}(B=F.onFocus)==null||B.call(F,z)},S=()=>{const F=u.current;return v==="BUTTON"||v==="INPUT"&&["button","submit","reset"].includes(F==null?void 0:F.type)||v==="A"&&(F==null?void 0:F.href)},C=F=>z=>{if(!e){var B;(B=F.onClick)==null||B.call(F,z)}},k=F=>z=>{var B;e||(f(!0),document.addEventListener("mouseup",()=>{f(!1)},{once:!0})),(B=F.onMouseDown)==null||B.call(F,z)},P=F=>z=>{var B;if((B=F.onKeyDown)==null||B.call(F,z),!z.defaultMuiPrevented&&(z.target===z.currentTarget&&!S()&&z.key===" "&&z.preventDefault(),z.target===z.currentTarget&&z.key===" "&&!e&&f(!0),z.target===z.currentTarget&&!S()&&z.key==="Enter"&&!e)){var W;(W=F.onClick)==null||W.call(F,z),z.preventDefault()}},R=F=>z=>{var B;if(z.target===z.currentTarget&&f(!1),(B=F.onKeyUp)==null||B.call(F,z),z.target===z.currentTarget&&!S()&&!e&&z.key===" "&&!z.defaultMuiPrevented){var W;(W=F.onClick)==null||W.call(F,z)}},L=en(y,i,_,u),N={};return o!==void 0&&(N.tabIndex=o),v==="BUTTON"?(N.type=a??"button",n?N["aria-disabled"]=e:N.disabled=e):v==="INPUT"?a&&["button","submit","reset"].includes(a)&&(n?N["aria-disabled"]=e:N.disabled=e):v!==""&&(!r&&!s&&(N.role="button",N.tabIndex=o??0),e&&(N["aria-disabled"]=e,N.tabIndex=n?o??0:-1)),{getRootProps:(F={})=>{const z=q({},ua(t),ua(F)),B=q({type:a},z,N,F,{onBlur:I(z),onClick:C(z),onFocus:O(z),onKeyDown:P(z),onKeyUp:R(z),onMouseDown:k(z),onMouseLeave:x(z),ref:L});return delete B.onFocusVisible,B},focusVisible:w,setFocusVisible:b,active:c,rootRef:L}}const $x=D.createContext(null);function Hhe(t,e){return t===e}const aT={},Qj=()=>{};function wC(t,e){const n=q({},t);return Object.keys(e).forEach(r=>{e[r]!==void 0&&(n[r]=e[r])}),n}function Whe(t){const{nextState:e,initialState:n,stateComparers:r,onStateChange:i,controlledProps:o,lastActionRef:s}=t,a=D.useRef(n);D.useEffect(()=>{if(s.current===null)return;const l=wC(a.current,o);Object.keys(e).forEach(u=>{var c;const f=(c=r[u])!=null?c:Hhe,h=e[u],p=l[u];if(p==null&&h!=null||p!=null&&h==null||p!=null&&h!=null&&!f(h,p)){var g,_;i==null||i((g=s.current.event)!=null?g:null,u,h,(_=s.current.type)!=null?_:"",e)}}),a.current=e,s.current=null},[a,e,s,i,r,o])}function s9(t){const e=D.useRef(null),{reducer:n,initialState:r,controlledProps:i=aT,stateComparers:o=aT,onStateChange:s=Qj,actionContext:a,componentName:l=""}=t;D.useRef(i);const u=D.useCallback((p,g)=>{e.current=g;const _=wC(p,i);return n(_,g)},[i,n]),[c,f]=D.useReducer(u,r),h=D.useCallback(p=>{f(q({},p,{context:a}))},[a]);return Whe({nextState:c,initialState:r,stateComparers:o??aT,onStateChange:s??Qj,controlledProps:i,lastActionRef:e}),[wC(c,i),h]}const ta={blur:"dropdown:blur",escapeKeyDown:"dropdown:escapeKeyDown",toggle:"dropdown:toggle",open:"dropdown:open",close:"dropdown:close"};function Khe(t,e){switch(e.type){case ta.blur:return{open:!1,changeReason:e.event};case ta.escapeKeyDown:return{open:!1,changeReason:e.event};case ta.toggle:return{open:!t.open,changeReason:e.event};case ta.open:return{open:!0,changeReason:e.event};case ta.close:return{open:!1,changeReason:e.event};default:throw new Error("Unhandled action")}}function Ghe(t={}){const{defaultOpen:e,onOpenChange:n,open:r,componentName:i="useDropdown"}=t,[o,s]=D.useState(""),[a,l]=D.useState(null),u=D.useRef(null),c=D.useCallback((_,w,b,v)=>{w==="open"&&(n==null||n(_,b)),u.current=v},[n]),f=D.useMemo(()=>r!==void 0?{open:r}:{},[r]),[h,p]=s9({controlledProps:f,initialState:e?{open:!0,changeReason:null}:{open:!1,changeReason:null},onStateChange:c,reducer:Khe,componentName:i});return D.useEffect(()=>{!h.open&&u.current!==null&&u.current!==ta.blur&&(a==null||a.focus())},[h.open,a]),{contextValue:{state:h,dispatch:p,popupId:o,registerPopup:s,registerTrigger:l,triggerElement:a},open:h.open}}function bs(t){const{children:e,open:n,defaultOpen:r,onOpenChange:i}=t,{contextValue:o}=Ghe({defaultOpen:r,onOpenChange:i,open:n});return E.jsx($x.Provider,{value:o,children:e})}const Qhe=D.createContext(void 0);function Yhe(){return D.useContext(Qhe)}function Xhe(t={}){const{defaultValue:e,disabled:n=!1,error:r=!1,onBlur:i,onChange:o,onFocus:s,required:a=!1,value:l,inputRef:u}=t,c=Yhe();let f,h,p,g,_;if(c){var w,b,v;f=void 0,h=(w=c.disabled)!=null?w:!1,p=(b=c.error)!=null?b:!1,g=(v=c.required)!=null?v:!1,_=c.value}else f=e,h=n,p=r,g=a,_=l;const{current:y}=D.useRef(_!=null),x=D.useCallback(F=>{},[]),I=D.useRef(null),O=en(I,u,x),[S,C]=D.useState(!1);D.useEffect(()=>{!c&&h&&S&&(C(!1),i==null||i())},[c,h,S,i]);const k=F=>z=>{var B;if(c!=null&&c.disabled){z.stopPropagation();return}if((B=F.onFocus)==null||B.call(F,z),c&&c.onFocus){var W;c==null||(W=c.onFocus)==null||W.call(c)}else C(!0)},P=F=>z=>{var B;(B=F.onBlur)==null||B.call(F,z),c&&c.onBlur?c.onBlur():C(!1)},R=F=>(z,...B)=>{var W,Q;if(!y&&(z.target||I.current)==null)throw new Error(Ya(17));c==null||(W=c.onChange)==null||W.call(c,z),(Q=F.onChange)==null||Q.call(F,z,...B)},L=F=>z=>{var B;I.current&&z.currentTarget===z.target&&I.current.focus(),(B=F.onClick)==null||B.call(F,z)};return{disabled:h,error:p,focused:S,formControlContext:c,getInputProps:(F={})=>{const B=q({},{onBlur:i,onChange:o,onFocus:s},ua(F)),W=q({},B,{onBlur:P(B),onChange:R(B),onFocus:k(B)});return q({},W,{"aria-invalid":p||void 0,defaultValue:f,value:_,required:g,disabled:h},F,{ref:O},W)},getRootProps:(F={})=>{const z=ua(t,["onBlur","onChange","onFocus"]),B=q({},z,ua(F));return q({},F,B,{onClick:L(B)})},inputRef:O,required:g,value:_}}const a9="Menu";function Jhe(t){return fm(a9,t)}Qy(a9,["root","listbox","expanded"]);const cr={blur:"list:blur",focus:"list:focus",itemClick:"list:itemClick",itemHover:"list:itemHover",itemsChange:"list:itemsChange",keyDown:"list:keyDown",resetHighlight:"list:resetHighlight",highlightLast:"list:highlightLast",textNavigation:"list:textNavigation",clearSelection:"list:clearSelection"};function Zhe(t,e,n,r,i,o){if(n.length===0||!r&&n.every((a,l)=>i(a,l)))return-1;let s=t;for(;;){if(!o&&e==="next"&&s===n.length||!o&&e==="previous"&&s===-1)return-1;if(r?!1:i(n[s],s))s+=e==="next"?1:-1,o&&(s=(s+n.length)%n.length);else return s}}function mo(t,e,n){var r;const{items:i,isItemDisabled:o,disableListWrap:s,disabledItemsFocusable:a,itemComparer:l,focusManagement:u}=n,c=u==="DOM"?0:-1,f=i.length-1,h=t==null?-1:i.findIndex(b=>l(b,t));let p,g,_=!s;switch(e){case"reset":if(c===-1)return null;p=0,g="next",_=!1;break;case"start":p=0,g="next",_=!1;break;case"end":p=f,g="previous",_=!1;break;default:{const b=h+e;b<0?!_&&h!==-1||Math.abs(e)>1?(p=0,g="next"):(p=f,g="previous"):b>f?!_||Math.abs(e)>1?(p=f,g="previous"):(p=0,g="next"):(p=b,g=e>=0?"next":"previous")}}const w=Zhe(p,g,i,a,o,_);return w===-1&&t!==null&&!o(t,h)?t:(r=i[w])!=null?r:null}function epe(t,e,n,r){return n==="none"?[]:n==="single"?r(e[0],t)?e:[t]:e.some(i=>r(i,t))?e.filter(i=>!r(i,t)):[...e,t]}function l9(t,e,n){const{itemComparer:r,isItemDisabled:i,selectionMode:o,items:s}=n,{selectedValues:a}=e,l=s.findIndex(c=>r(t,c));if(i(t,l))return e;const u=epe(t,a,o,r);return q({},e,{selectedValues:u,highlightedValue:t})}function tpe(t,e,n){const r=e.highlightedValue,{orientation:i,pageSize:o}=n;switch(t){case"Home":return q({},e,{highlightedValue:mo(r,"start",n)});case"End":return q({},e,{highlightedValue:mo(r,"end",n)});case"PageUp":return q({},e,{highlightedValue:mo(r,-o,n)});case"PageDown":return q({},e,{highlightedValue:mo(r,o,n)});case"ArrowUp":if(i!=="vertical")break;return q({},e,{highlightedValue:mo(r,-1,n)});case"ArrowDown":if(i!=="vertical")break;return q({},e,{highlightedValue:mo(r,1,n)});case"ArrowLeft":{if(i==="vertical")break;return q({},e,{highlightedValue:mo(r,i==="horizontal-ltr"?-1:1,n)})}case"ArrowRight":{if(i==="vertical")break;return q({},e,{highlightedValue:mo(r,i==="horizontal-ltr"?1:-1,n)})}case"Enter":case" ":return e.highlightedValue===null?e:l9(e.highlightedValue,e,n)}return e}function npe(t,e){return e.focusManagement==="DOM"?t:q({},t,{highlightedValue:null})}function rpe(t,e,n){var r;const i=(r=n(t))==null?void 0:r.trim().toLowerCase();return!i||i.length===0?!1:i.indexOf(e)===0}function ipe(t,e,n){const{items:r,isItemDisabled:i,disabledItemsFocusable:o,getItemAsString:s}=n,a=e.length>1;let l=a?t.highlightedValue:mo(t.highlightedValue,1,n);for(let u=0;u<r.length;u+=1){if(!l||!a&&t.highlightedValue===l)return t;if(rpe(l,e,s)&&(!i(l,r.indexOf(l))||o))return q({},t,{highlightedValue:l});l=mo(l,1,n)}return t}function ope(t,e,n,r){var i;const{itemComparer:o,focusManagement:s}=r;let a=null;if(n.highlightedValue!=null){var l;a=(l=t.find(f=>o(f,n.highlightedValue)))!=null?l:null}else s==="DOM"&&e.length===0&&(a=mo(null,"reset",r));const c=((i=n.selectedValues)!=null?i:[]).filter(f=>t.some(h=>o(h,f)));return q({},n,{highlightedValue:a,selectedValues:c})}function spe(t,e){return q({},t,{highlightedValue:mo(null,"reset",e)})}function ape(t,e){return q({},t,{highlightedValue:mo(null,"end",e)})}function lpe(t,e){return q({},t,{selectedValues:[],highlightedValue:mo(null,"reset",e)})}function u9(t,e){const{type:n,context:r}=e;switch(n){case cr.keyDown:return tpe(e.key,t,r);case cr.itemClick:return l9(e.item,t,r);case cr.blur:return npe(t,r);case cr.textNavigation:return ipe(t,e.searchString,r);case cr.itemsChange:return ope(e.items,e.previousItems,t,r);case cr.resetHighlight:return spe(t,r);case cr.highlightLast:return ape(t,r);case cr.clearSelection:return lpe(t,r);default:return t}}const upe=500;function cpe(t){const e=D.useRef({searchString:"",lastTime:null});return D.useCallback(n=>{if(n.key.length===1&&n.key!==" "){const r=e.current,i=n.key.toLowerCase(),o=performance.now();r.searchString.length>0&&r.lastTime&&o-r.lastTime>upe?r.searchString=i:(r.searchString.length!==1||i!==r.searchString)&&(r.searchString+=i),r.lastTime=o,t(r.searchString,n)}},[t])}const Yj={},dpe=()=>{},fpe=(t,e)=>t===e,hpe=()=>!1,ppe=t=>typeof t=="string"?t:String(t),mpe=()=>({highlightedValue:null,selectedValues:[]});function gpe(t){const{controlledProps:e=Yj,disabledItemsFocusable:n=!1,disableListWrap:r=!1,focusManagement:i="activeDescendant",getInitialState:o=mpe,getItemDomElement:s,getItemId:a,isItemDisabled:l=hpe,rootRef:u,onStateChange:c=dpe,items:f,itemComparer:h=fpe,getItemAsString:p=ppe,onChange:g,onHighlightChange:_,onItemsChange:w,orientation:b="vertical",pageSize:v=5,reducerActionContext:y=Yj,selectionMode:x="single",stateReducer:I,componentName:O="useList"}=t,S=D.useRef(null),C=en(u,S),k=D.useCallback((Z,re,ue)=>{if(_==null||_(Z,re,ue),i==="DOM"&&re!=null&&(ue===cr.itemClick||ue===cr.keyDown||ue===cr.textNavigation)){var te;s==null||(te=s(re))==null||te.focus()}},[s,_,i]),P=D.useMemo(()=>({highlightedValue:h,selectedValues:(Z,re)=>Kj(Z,re,h)}),[h]),R=D.useCallback((Z,re,ue,te,fe)=>{switch(c==null||c(Z,re,ue,te,fe),re){case"highlightedValue":k(Z,ue,te);break;case"selectedValues":g==null||g(Z,ue,te);break}},[k,g,c]),L=D.useMemo(()=>({disabledItemsFocusable:n,disableListWrap:r,focusManagement:i,isItemDisabled:l,itemComparer:h,items:f,getItemAsString:p,onHighlightChange:k,orientation:b,pageSize:v,selectionMode:x,stateComparers:P}),[n,r,i,l,h,f,p,k,b,v,x,P]),N=o(),V=I??u9,F=D.useMemo(()=>q({},y,L),[y,L]),[z,B]=s9({reducer:V,actionContext:F,initialState:N,controlledProps:e,stateComparers:P,onStateChange:R,componentName:O}),{highlightedValue:W,selectedValues:Q}=z,G=cpe((Z,re)=>B({type:cr.textNavigation,event:re,searchString:Z})),j=D.useRef([]);D.useEffect(()=>{Kj(j.current,f,h)||(B({type:cr.itemsChange,event:null,items:f,previousItems:j.current}),j.current=f,w==null||w(f))},[f,h,B,w]);const U=Z=>re=>{var ue;if((ue=Z.onKeyDown)==null||ue.call(Z,re),re.defaultMuiPrevented)return;const te=["Home","End","PageUp","PageDown"];b==="vertical"?te.push("ArrowUp","ArrowDown"):te.push("ArrowLeft","ArrowRight"),i==="activeDescendant"&&te.push(" ","Enter"),te.includes(re.key)&&re.preventDefault(),B({type:cr.keyDown,key:re.key,event:re}),G(re)},K=Z=>re=>{var ue,te;(ue=Z.onBlur)==null||ue.call(Z,re),!re.defaultMuiPrevented&&((te=S.current)!=null&&te.contains(re.relatedTarget)||B({type:cr.blur,event:re}))},ne=(Z={})=>{const re=ua(Z);return q({},Z,{"aria-activedescendant":i==="activeDescendant"&&W!=null?a(W):void 0,tabIndex:i==="DOM"?-1:0,ref:C},re,{onBlur:K(re),onKeyDown:U(re)})},oe=D.useCallback(Z=>{const re=(Q??[]).some(fe=>fe!=null&&h(Z,fe)),ue=W!=null&&h(Z,W);return{focusable:i==="DOM",highlighted:ue,selected:re}},[h,Q,W,i]),X=D.useMemo(()=>({dispatch:B,getItemState:oe}),[B,oe]);return D.useDebugValue({state:z}),{contextValue:X,dispatch:B,getRootProps:ne,rootRef:C,state:z}}const Yy=D.createContext(null);function vpe(t){const{handlePointerOverEvents:e=!1,item:n}=t,r=D.useContext(Yy);if(!r)throw new Error("useListItem must be used within a ListProvider");const{dispatch:i,getItemState:o}=r,{highlighted:s,selected:a,focusable:l}=o(n),u=D.useCallback(p=>g=>{var _;(_=p.onClick)==null||_.call(p,g),!g.defaultPrevented&&i({type:cr.itemClick,item:n,event:g})},[i,n]),c=D.useCallback(p=>g=>{var _;(_=p.onMouseOver)==null||_.call(p,g),!g.defaultPrevented&&i({type:cr.itemHover,item:n,event:g})},[i,n]);let f;return l&&(f=s?0:-1),{getRootProps:(p={})=>{const g=ua(p);return q({},p,{onClick:u(g),onPointerOver:e?c(g):void 0,tabIndex:f})},highlighted:s,selected:a}}function ype(t,e){if(e.type===cr.itemHover)return q({},t,{highlightedValue:e.item});const n=u9(t,e);if(n.highlightedValue===null&&e.context.items.length>0)return q({},n,{highlightedValue:e.context.items[0]});if(e.type===cr.keyDown&&e.event.key==="Escape")return q({},n,{open:!1});if(e.type===cr.blur){var r;if(!((r=e.context.listboxRef.current)!=null&&r.contains(e.event.relatedTarget))){var i,o;const s=(i=e.context.listboxRef.current)==null?void 0:i.getAttribute("id"),a=(o=e.event.relatedTarget)==null?void 0:o.getAttribute("aria-controls");return s&&a&&s===a?n:q({},n,{open:!1,highlightedValue:e.context.items[0]})}}return n}const c9=D.createContext(null);function bpe(t){const e=Array.from(t.keys()).map(n=>{const r=t.get(n);return{key:n,subitem:r}});return e.sort((n,r)=>{const i=n.subitem.ref.current,o=r.subitem.ref.current;return i===null||o===null||i===o?0:i.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_PRECEDING?1:-1}),new Map(e.map(n=>[n.key,n.subitem]))}function _pe(){const[t,e]=D.useState(new Map),n=D.useRef(new Set),r=D.useCallback(function(u){n.current.delete(u),e(c=>{const f=new Map(c);return f.delete(u),f})},[]),i=D.useCallback(function(u,c){let f;return typeof u=="function"?f=u(n.current):f=u,n.current.add(f),e(h=>{const p=new Map(h);return p.set(f,c),p}),{id:f,deregister:()=>r(f)}},[r]),o=D.useMemo(()=>bpe(t),[t]),s=D.useCallback(function(u){return Array.from(o.keys()).indexOf(u)},[o]);return{contextValue:D.useMemo(()=>({getItemIndex:s,registerItem:i,totalSubitemCount:t.size}),[s,i,t.size]),subitems:o}}function wpe(t,e){const n=D.useContext(c9);if(n===null)throw new Error("useCompoundItem must be used within a useCompoundParent");const{registerItem:r}=n,[i,o]=D.useState(typeof t=="function"?void 0:t);return or(()=>{const{id:s,deregister:a}=r(t,e);return o(s),a},[r,e,t]),{id:i,index:i!==void 0?n.getItemIndex(i):-1,totalItemCount:n.totalSubitemCount}}function Sw(t,e){return function(r={}){const i=q({},r,t(r));return q({},i,e(i))}}const xpe={dispatch:()=>{},popupId:"",registerPopup:()=>{},registerTrigger:()=>{},state:{open:!0,changeReason:null},triggerElement:null};function d9(t={}){var e,n;const{listboxRef:r,onItemsChange:i,id:o,disabledItemsFocusable:s=!0,disableListWrap:a=!1,autoFocus:l=!0,componentName:u="useMenu"}=t,c=D.useRef(null),f=en(c,r),h=(e=Oc(o))!=null?e:"",{state:{open:p,changeReason:g},dispatch:_,triggerElement:w,registerPopup:b}=(n=D.useContext($x))!=null?n:xpe,v=D.useRef(p),{subitems:y,contextValue:x}=_pe(),I=D.useMemo(()=>Array.from(y.keys()),[y]),O=D.useCallback(Q=>{var G,j;return Q==null?null:(G=(j=y.get(Q))==null?void 0:j.ref.current)!=null?G:null},[y]),S=D.useCallback(Q=>{var G;return(y==null||(G=y.get(Q))==null?void 0:G.disabled)||!1},[y]),C=D.useCallback(Q=>{var G,j;return((G=y.get(Q))==null?void 0:G.label)||((j=y.get(Q))==null||(j=j.ref.current)==null?void 0:j.innerText)},[y]),k=D.useMemo(()=>({listboxRef:c}),[c]),{dispatch:P,getRootProps:R,contextValue:L,state:{highlightedValue:N},rootRef:V}=gpe({disabledItemsFocusable:s,disableListWrap:a,focusManagement:"DOM",getItemDomElement:O,getInitialState:()=>({selectedValues:[],highlightedValue:null}),isItemDisabled:S,items:I,getItemAsString:C,rootRef:f,onItemsChange:i,reducerActionContext:k,selectionMode:"none",stateReducer:ype,componentName:u});or(()=>{b(h)},[h,b]),or(()=>{p&&(g==null?void 0:g.type)==="keydown"&&g.key==="ArrowUp"&&P({type:cr.highlightLast,event:g})},[p,g,P]),D.useEffect(()=>{if(p&&l&&N&&!v.current){var Q;(Q=y.get(N))==null||(Q=Q.ref)==null||(Q=Q.current)==null||Q.focus()}},[p,l,N,y,I]),D.useEffect(()=>{var Q;if((Q=c.current)!=null&&Q.contains(document.activeElement)&&N!==null){var G;y==null||(G=y.get(N))==null||(G=G.ref.current)==null||G.focus()}},[N,y]);const F=Q=>G=>{var j,U;(j=Q.onBlur)==null||j.call(Q,G),!G.defaultMuiPrevented&&((U=c.current)!=null&&U.contains(G.relatedTarget)||G.relatedTarget===w||_({type:ta.blur,event:G}))},z=Q=>G=>{var j;(j=Q.onKeyDown)==null||j.call(Q,G),!G.defaultMuiPrevented&&G.key==="Escape"&&_({type:ta.escapeKeyDown,event:G})},B=(Q={})=>({onBlur:F(Q),onKeyDown:z(Q)}),W=(Q={})=>{const G=Sw(B,R),j=ua(Q);return q({},Q,j,G(j),{id:h,role:"menu"})};return D.useDebugValue({subitems:y,highlightedValue:N}),{contextValue:q({},x,L),dispatch:P,getListboxProps:W,highlightedValue:N,listboxRef:V,menuItems:y,open:p,triggerElement:w}}function xC(t){const{value:e,children:n}=t,{dispatch:r,getItemIndex:i,getItemState:o,registerItem:s,totalSubitemCount:a}=e,l=D.useMemo(()=>({dispatch:r,getItemState:o,getItemIndex:i}),[r,i,o]),u=D.useMemo(()=>({getItemIndex:i,registerItem:s,totalSubitemCount:a}),[s,i,a]);return E.jsx(c9.Provider,{value:u,children:E.jsx(Yy.Provider,{value:l,children:n})})}const Cw=Math.min,Bd=Math.max,Pw=Math.round,Cb=Math.floor,bc=t=>({x:t,y:t}),Epe={left:"right",right:"left",bottom:"top",top:"bottom"},Ipe={start:"end",end:"start"};function Xj(t,e,n){return Bd(t,Cw(e,n))}function Mx(t,e){return typeof t=="function"?t(e):t}function pf(t){return t.split("-")[0]}function Bx(t){return t.split("-")[1]}function f9(t){return t==="x"?"y":"x"}function h9(t){return t==="y"?"height":"width"}function jp(t){return["top","bottom"].includes(pf(t))?"y":"x"}function p9(t){return f9(jp(t))}function Tpe(t,e,n){n===void 0&&(n=!1);const r=Bx(t),i=p9(t),o=h9(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[o]>e.floating[o]&&(s=kw(s)),[s,kw(s)]}function Spe(t){const e=kw(t);return[EC(t),e,EC(e)]}function EC(t){return t.replace(/start|end/g,e=>Ipe[e])}function Cpe(t,e,n){const r=["left","right"],i=["right","left"],o=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?o:s;default:return[]}}function Ppe(t,e,n,r){const i=Bx(t);let o=Cpe(pf(t),n==="start",r);return i&&(o=o.map(s=>s+"-"+i),e&&(o=o.concat(o.map(EC)))),o}function kw(t){return t.replace(/left|right|bottom|top/g,e=>Epe[e])}function kpe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ape(t){return typeof t!="number"?kpe(t):{top:t,right:t,bottom:t,left:t}}function Aw(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Jj(t,e,n){let{reference:r,floating:i}=t;const o=jp(e),s=p9(e),a=h9(s),l=pf(e),u=o==="y",c=r.x+r.width/2-i.width/2,f=r.y+r.height/2-i.height/2,h=r[a]/2-i[a]/2;let p;switch(l){case"top":p={x:c,y:r.y-i.height};break;case"bottom":p={x:c,y:r.y+r.height};break;case"right":p={x:r.x+r.width,y:f};break;case"left":p={x:r.x-i.width,y:f};break;default:p={x:r.x,y:r.y}}switch(Bx(e)){case"start":p[s]-=h*(n&&u?-1:1);break;case"end":p[s]+=h*(n&&u?-1:1);break}return p}const Rpe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:o=[],platform:s}=n,a=o.filter(Boolean),l=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:c,y:f}=Jj(u,r,l),h=r,p={},g=0;for(let _=0;_<a.length;_++){const{name:w,fn:b}=a[_],{x:v,y,data:x,reset:I}=await b({x:c,y:f,initialPlacement:r,placement:h,strategy:i,middlewareData:p,rects:u,platform:s,elements:{reference:t,floating:e}});c=v??c,f=y??f,p={...p,[w]:{...p[w],...x}},I&&g<=50&&(g++,typeof I=="object"&&(I.placement&&(h=I.placement),I.rects&&(u=I.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):I.rects),{x:c,y:f}=Jj(u,h,l)),_=-1)}return{x:c,y:f,placement:h,strategy:i,middlewareData:p}};async function m9(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:o,rects:s,elements:a,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:c="viewport",elementContext:f="floating",altBoundary:h=!1,padding:p=0}=Mx(e,t),g=Ape(p),w=a[h?f==="floating"?"reference":"floating":f],b=Aw(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(w)))==null||n?w:w.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:u,rootBoundary:c,strategy:l})),v=f==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,y=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),x=await(o.isElement==null?void 0:o.isElement(y))?await(o.getScale==null?void 0:o.getScale(y))||{x:1,y:1}:{x:1,y:1},I=Aw(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:y,strategy:l}):v);return{top:(b.top-I.top+g.top)/x.y,bottom:(I.bottom-b.bottom+g.bottom)/x.y,left:(b.left-I.left+g.left)/x.x,right:(I.right-b.right+g.right)/x.x}}const Ope=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:o,rects:s,initialPlacement:a,platform:l,elements:u}=e,{mainAxis:c=!0,crossAxis:f=!0,fallbackPlacements:h,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:g="none",flipAlignment:_=!0,...w}=Mx(t,e);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const b=pf(i),v=jp(a),y=pf(a)===a,x=await(l.isRTL==null?void 0:l.isRTL(u.floating)),I=h||(y||!_?[kw(a)]:Spe(a)),O=g!=="none";!h&&O&&I.push(...Ppe(a,_,g,x));const S=[a,...I],C=await m9(e,w),k=[];let P=((r=o.flip)==null?void 0:r.overflows)||[];if(c&&k.push(C[b]),f){const V=Tpe(i,s,x);k.push(C[V[0]],C[V[1]])}if(P=[...P,{placement:i,overflows:k}],!k.every(V=>V<=0)){var R,L;const V=(((R=o.flip)==null?void 0:R.index)||0)+1,F=S[V];if(F)return{data:{index:V,overflows:P},reset:{placement:F}};let z=(L=P.filter(B=>B.overflows[0]<=0).sort((B,W)=>B.overflows[1]-W.overflows[1])[0])==null?void 0:L.placement;if(!z)switch(p){case"bestFit":{var N;const B=(N=P.filter(W=>{if(O){const Q=jp(W.placement);return Q===v||Q==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(Q=>Q>0).reduce((Q,G)=>Q+G,0)]).sort((W,Q)=>W[1]-Q[1])[0])==null?void 0:N[0];B&&(z=B);break}case"initialPlacement":z=a;break}if(i!==z)return{reset:{placement:z}}}return{}}}};async function Npe(t,e){const{placement:n,platform:r,elements:i}=t,o=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=pf(n),a=Bx(n),l=jp(n)==="y",u=["left","top"].includes(s)?-1:1,c=o&&l?-1:1,f=Mx(e,t);let{mainAxis:h,crossAxis:p,alignmentAxis:g}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof g=="number"&&(p=a==="end"?g*-1:g),l?{x:p*c,y:h*u}:{x:h*u,y:p*c}}const Lpe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:o,placement:s,middlewareData:a}=e,l=await Npe(e,t);return s===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:o+l.y,data:{...l,placement:s}}}}},Dpe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:o=!0,crossAxis:s=!1,limiter:a={fn:w=>{let{x:b,y:v}=w;return{x:b,y:v}}},...l}=Mx(t,e),u={x:n,y:r},c=await m9(e,l),f=jp(pf(i)),h=f9(f);let p=u[h],g=u[f];if(o){const w=h==="y"?"top":"left",b=h==="y"?"bottom":"right",v=p+c[w],y=p-c[b];p=Xj(v,p,y)}if(s){const w=f==="y"?"top":"left",b=f==="y"?"bottom":"right",v=g+c[w],y=g-c[b];g=Xj(v,g,y)}const _=a.fn({...e,[h]:p,[f]:g});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[h]:o,[f]:s}}}}}};function Fx(){return typeof window<"u"}function hm(t){return g9(t)?(t.nodeName||"").toLowerCase():"#document"}function zo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function tl(t){var e;return(e=(g9(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function g9(t){return Fx()?t instanceof Node||t instanceof zo(t).Node:!1}function ha(t){return Fx()?t instanceof Element||t instanceof zo(t).Element:!1}function Ja(t){return Fx()?t instanceof HTMLElement||t instanceof zo(t).HTMLElement:!1}function Zj(t){return!Fx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof zo(t).ShadowRoot}function Xy(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=pa(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function jpe(t){return["table","td","th"].includes(hm(t))}function Vx(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function ZA(t){const e=eR(),n=ha(t)?pa(t):t;return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function $pe(t){let e=_c(t);for(;Ja(e)&&!$p(e);){if(ZA(e))return e;if(Vx(e))return null;e=_c(e)}return null}function eR(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function $p(t){return["html","body","#document"].includes(hm(t))}function pa(t){return zo(t).getComputedStyle(t)}function Ux(t){return ha(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _c(t){if(hm(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Zj(t)&&t.host||tl(t);return Zj(e)?e.host:e}function v9(t){const e=_c(t);return $p(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ja(e)&&Xy(e)?e:v9(e)}function sy(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=v9(t),o=i===((r=t.ownerDocument)==null?void 0:r.body),s=zo(i);if(o){const a=IC(s);return e.concat(s,s.visualViewport||[],Xy(i)?i:[],a&&n?sy(a):[])}return e.concat(i,sy(i,[],n))}function IC(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function y9(t){const e=pa(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ja(t),o=i?t.offsetWidth:n,s=i?t.offsetHeight:r,a=Pw(n)!==o||Pw(r)!==s;return a&&(n=o,r=s),{width:n,height:r,$:a}}function tR(t){return ha(t)?t:t.contextElement}function Zh(t){const e=tR(t);if(!Ja(e))return bc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:o}=y9(e);let s=(o?Pw(n.width):n.width)/r,a=(o?Pw(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!a||!Number.isFinite(a))&&(a=1),{x:s,y:a}}const Mpe=bc(0);function b9(t){const e=zo(t);return!eR()||!e.visualViewport?Mpe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Bpe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==zo(t)?!1:e}function mf(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),o=tR(t);let s=bc(1);e&&(r?ha(r)&&(s=Zh(r)):s=Zh(t));const a=Bpe(o,n,r)?b9(o):bc(0);let l=(i.left+a.x)/s.x,u=(i.top+a.y)/s.y,c=i.width/s.x,f=i.height/s.y;if(o){const h=zo(o),p=r&&ha(r)?zo(r):r;let g=h,_=IC(g);for(;_&&r&&p!==g;){const w=Zh(_),b=_.getBoundingClientRect(),v=pa(_),y=b.left+(_.clientLeft+parseFloat(v.paddingLeft))*w.x,x=b.top+(_.clientTop+parseFloat(v.paddingTop))*w.y;l*=w.x,u*=w.y,c*=w.x,f*=w.y,l+=y,u+=x,g=zo(_),_=IC(g)}}return Aw({width:c,height:f,x:l,y:u})}function Fpe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const o=i==="fixed",s=tl(r),a=e?Vx(e.floating):!1;if(r===s||a&&o)return n;let l={scrollLeft:0,scrollTop:0},u=bc(1);const c=bc(0),f=Ja(r);if((f||!f&&!o)&&((hm(r)!=="body"||Xy(s))&&(l=Ux(r)),Ja(r))){const h=mf(r);u=Zh(r),c.x=h.x+r.clientLeft,c.y=h.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-l.scrollLeft*u.x+c.x,y:n.y*u.y-l.scrollTop*u.y+c.y}}function Vpe(t){return Array.from(t.getClientRects())}function TC(t,e){const n=Ux(t).scrollLeft;return e?e.left+n:mf(tl(t)).left+n}function Upe(t){const e=tl(t),n=Ux(t),r=t.ownerDocument.body,i=Bd(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),o=Bd(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+TC(t);const a=-n.scrollTop;return pa(r).direction==="rtl"&&(s+=Bd(e.clientWidth,r.clientWidth)-i),{width:i,height:o,x:s,y:a}}function zpe(t,e){const n=zo(t),r=tl(t),i=n.visualViewport;let o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;const u=eR();(!u||u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a,y:l}}function qpe(t,e){const n=mf(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,o=Ja(t)?Zh(t):bc(1),s=t.clientWidth*o.x,a=t.clientHeight*o.y,l=i*o.x,u=r*o.y;return{width:s,height:a,x:l,y:u}}function e$(t,e,n){let r;if(e==="viewport")r=zpe(t,n);else if(e==="document")r=Upe(tl(t));else if(ha(e))r=qpe(e,n);else{const i=b9(t);r={...e,x:e.x-i.x,y:e.y-i.y}}return Aw(r)}function _9(t,e){const n=_c(t);return n===e||!ha(n)||$p(n)?!1:pa(n).position==="fixed"||_9(n,e)}function Hpe(t,e){const n=e.get(t);if(n)return n;let r=sy(t,[],!1).filter(a=>ha(a)&&hm(a)!=="body"),i=null;const o=pa(t).position==="fixed";let s=o?_c(t):t;for(;ha(s)&&!$p(s);){const a=pa(s),l=ZA(s);!l&&a.position==="fixed"&&(i=null),(o?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Xy(s)&&!l&&_9(t,s))?r=r.filter(c=>c!==s):i=a,s=_c(s)}return e.set(t,r),r}function Wpe(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?Vx(e)?[]:Hpe(e,this._c):[].concat(n),r],a=s[0],l=s.reduce((u,c)=>{const f=e$(e,c,i);return u.top=Bd(f.top,u.top),u.right=Cw(f.right,u.right),u.bottom=Cw(f.bottom,u.bottom),u.left=Bd(f.left,u.left),u},e$(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Kpe(t){const{width:e,height:n}=y9(t);return{width:e,height:n}}function Gpe(t,e,n){const r=Ja(e),i=tl(e),o=n==="fixed",s=mf(t,!0,o,e);let a={scrollLeft:0,scrollTop:0};const l=bc(0);if(r||!r&&!o)if((hm(e)!=="body"||Xy(i))&&(a=Ux(e)),r){const p=mf(e,!0,o,e);l.x=p.x+e.clientLeft,l.y=p.y+e.clientTop}else i&&(l.x=TC(i));let u=0,c=0;if(i&&!r&&!o){const p=i.getBoundingClientRect();c=p.top+a.scrollTop,u=p.left+a.scrollLeft-TC(i,p)}const f=s.left+a.scrollLeft-l.x-u,h=s.top+a.scrollTop-l.y-c;return{x:f,y:h,width:s.width,height:s.height}}function lT(t){return pa(t).position==="static"}function t$(t,e){if(!Ja(t)||pa(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return tl(t)===n&&(n=n.ownerDocument.body),n}function w9(t,e){const n=zo(t);if(Vx(t))return n;if(!Ja(t)){let i=_c(t);for(;i&&!$p(i);){if(ha(i)&&!lT(i))return i;i=_c(i)}return n}let r=t$(t,e);for(;r&&jpe(r)&&lT(r);)r=t$(r,e);return r&&$p(r)&&lT(r)&&!ZA(r)?n:r||$pe(t)||n}const Qpe=async function(t){const e=this.getOffsetParent||w9,n=this.getDimensions,r=await n(t.floating);return{reference:Gpe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Ype(t){return pa(t).direction==="rtl"}const Xpe={convertOffsetParentRelativeRectToViewportRelativeRect:Fpe,getDocumentElement:tl,getClippingRect:Wpe,getOffsetParent:w9,getElementRects:Qpe,getClientRects:Vpe,getDimensions:Kpe,getScale:Zh,isElement:ha,isRTL:Ype};function Jpe(t,e){let n=null,r;const i=tl(t);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function s(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const{left:u,top:c,width:f,height:h}=t.getBoundingClientRect();if(a||e(),!f||!h)return;const p=Cb(c),g=Cb(i.clientWidth-(u+f)),_=Cb(i.clientHeight-(c+h)),w=Cb(u),v={rootMargin:-p+"px "+-g+"px "+-_+"px "+-w+"px",threshold:Bd(0,Cw(1,l))||1};let y=!0;function x(I){const O=I[0].intersectionRatio;if(O!==l){if(!y)return s();O?s(!1,O):r=setTimeout(()=>{s(!1,1e-7)},1e3)}y=!1}try{n=new IntersectionObserver(x,{...v,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,v)}n.observe(t)}return s(!0),o}function n$(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:o=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,u=tR(t),c=i||o?[...u?sy(u):[],...sy(e)]:[];c.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),o&&b.addEventListener("resize",n)});const f=u&&a?Jpe(u,n):null;let h=-1,p=null;s&&(p=new ResizeObserver(b=>{let[v]=b;v&&v.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var y;(y=p)==null||y.observe(e)})),n()}),u&&!l&&p.observe(u),p.observe(e));let g,_=l?mf(t):null;l&&w();function w(){const b=mf(t);_&&(b.x!==_.x||b.y!==_.y||b.width!==_.width||b.height!==_.height)&&n(),_=b,g=requestAnimationFrame(w)}return n(),()=>{var b;c.forEach(v=>{i&&v.removeEventListener("scroll",n),o&&v.removeEventListener("resize",n)}),f==null||f(),(b=p)==null||b.disconnect(),p=null,l&&cancelAnimationFrame(g)}}const Zpe=Lpe,eme=Dpe,tme=Ope,nme=(t,e,n)=>{const r=new Map,i={platform:Xpe,...n},o={...i.platform,_c:r};return Rpe(t,e,{...i,platform:o})};var m_=typeof document<"u"?D.useLayoutEffect:D.useEffect;function Rw(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Rw(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const o=i[r];if(!(o==="_owner"&&t.$$typeof)&&!Rw(t[o],e[o]))return!1}return!0}return t!==t&&e!==e}function x9(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function r$(t,e){const n=x9(t);return Math.round(e*n)/n}function uT(t){const e=D.useRef(t);return m_(()=>{e.current=t}),e}function rme(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:o,floating:s}={},transform:a=!0,whileElementsMounted:l,open:u}=t,[c,f]=D.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[h,p]=D.useState(r);Rw(h,r)||p(r);const[g,_]=D.useState(null),[w,b]=D.useState(null),v=D.useCallback(W=>{W!==O.current&&(O.current=W,_(W))},[]),y=D.useCallback(W=>{W!==S.current&&(S.current=W,b(W))},[]),x=o||g,I=s||w,O=D.useRef(null),S=D.useRef(null),C=D.useRef(c),k=l!=null,P=uT(l),R=uT(i),L=uT(u),N=D.useCallback(()=>{if(!O.current||!S.current)return;const W={placement:e,strategy:n,middleware:h};R.current&&(W.platform=R.current),nme(O.current,S.current,W).then(Q=>{const G={...Q,isPositioned:L.current!==!1};V.current&&!Rw(C.current,G)&&(C.current=G,Yp.flushSync(()=>{f(G)}))})},[h,e,n,R,L]);m_(()=>{u===!1&&C.current.isPositioned&&(C.current.isPositioned=!1,f(W=>({...W,isPositioned:!1})))},[u]);const V=D.useRef(!1);m_(()=>(V.current=!0,()=>{V.current=!1}),[]),m_(()=>{if(x&&(O.current=x),I&&(S.current=I),x&&I){if(P.current)return P.current(x,I,N);N()}},[x,I,N,P,k]);const F=D.useMemo(()=>({reference:O,floating:S,setReference:v,setFloating:y}),[v,y]),z=D.useMemo(()=>({reference:x,floating:I}),[x,I]),B=D.useMemo(()=>{const W={position:n,left:0,top:0};if(!z.floating)return W;const Q=r$(z.floating,c.x),G=r$(z.floating,c.y);return a?{...W,transform:"translate("+Q+"px, "+G+"px)",...x9(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:Q,top:G}},[n,a,z.floating,c.x,c.y]);return D.useMemo(()=>({...c,update:N,refs:F,elements:z,floatingStyles:B}),[c,N,F,z,B])}const i$=(t,e)=>({...Zpe(t),options:[t,e]}),ime=(t,e)=>({...eme(t),options:[t,e]}),ome=(t,e)=>({...tme(t),options:[t,e]});function sme(t){return typeof t=="function"?t():t}const E9=D.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=D.useState(null),l=en(D.isValidElement(r)?r.ref:null,n);if(or(()=>{o||a(sme(i)||document.body)},[i,o]),or(()=>{if(s&&!o)return Lp(n,s),()=>{Lp(n,null)}},[n,s,o]),o){if(D.isValidElement(r)){const u={ref:l};return D.cloneElement(r,u)}return E.jsx(D.Fragment,{children:r})}return E.jsx(D.Fragment,{children:s&&Yp.createPortal(r,s)})}),I9="Popup";function ame(t){return fm(I9,t)}Qy(I9,["root","open"]);const lme=D.createContext(null);function ume(t){const[e,n]=D.useState(!0),r=D.useRef(!1),i=D.useRef(0),[o,s]=D.useState(!1),a=D.useRef(t);D.useEffect(()=>{!t&&i.current>0&&a.current!==t&&(r.current=!0,n(!1)),a.current=t},[t]);const l=D.useCallback(()=>{r.current=!1,n(!0)},[]),u=D.useCallback(()=>(i.current+=1,s(!0),()=>{i.current-=1,i.current===0&&s(!1)}),[]);let c;return o?t?c=!1:c=!r.current&&e:c=!t,{contextValue:D.useMemo(()=>({requestedEnter:t,onExited:l,registerTransition:u,hasExited:c}),[l,t,u,c]),hasExited:c}}const cme=D.createContext(null),dme=["anchor","children","container","disablePortal","keepMounted","middleware","offset","open","placement","slotProps","slots","strategy"];function fme(t){const{open:e}=t;return wt({root:["root",e&&"open"]},Gy(ame))}function hme(t){return typeof t=="function"?t():t}const pme=D.forwardRef(function(e,n){var r;const{anchor:i,children:o,container:s,disablePortal:a=!1,keepMounted:l=!1,middleware:u,offset:c=0,open:f=!1,placement:h="bottom",slotProps:p={},slots:g={},strategy:_="absolute"}=e,w=Fe(e,dme),{refs:b,elements:v,floatingStyles:y,update:x,placement:I}=rme({elements:{reference:hme(i)},open:f,middleware:u??[i$(c??0),ome(),ime()],placement:h,strategy:_,whileElementsMounted:l?void 0:n$}),O=en(b.setFloating,n);or(()=>{if(l&&f&&v.reference&&v.floating)return n$(v.reference,v.floating,x)},[l,f,v,x]);const S=q({},e,{disablePortal:a,keepMounted:l,offset:i$,open:f,placement:h,finalPlacement:I,strategy:_}),{contextValue:C,hasExited:k}=ume(f),P=l&&k?"hidden":void 0,R=fme(S),L=(r=g==null?void 0:g.root)!=null?r:"div",N=hf({elementType:L,externalSlotProps:p.root,externalForwardedProps:w,ownerState:S,className:R.root,additionalProps:{ref:O,role:"tooltip",style:q({},y,{visibility:P})}}),V=D.useMemo(()=>({placement:I}),[I]);return l||!k?E.jsx(E9,{disablePortal:a,container:s,children:E.jsx(cme.Provider,{value:V,children:E.jsx(lme.Provider,{value:C,children:E.jsx(L,q({},N,{children:o}))})})}):null}),mme=["actions","anchor","children","onItemsChange","slotProps","slots"];function gme(t){const{open:e}=t;return wt({root:["root",e&&"expanded"],listbox:["listbox",e&&"expanded"]},Gy(Jhe))}const o$=D.forwardRef(function(e,n){var r,i;const{actions:o,anchor:s,children:a,onItemsChange:l,slotProps:u={},slots:c={}}=e,f=Fe(e,mme),{contextValue:h,getListboxProps:p,dispatch:g,open:_,triggerElement:w}=d9({onItemsChange:l,componentName:"Menu"}),b=s??w;D.useImperativeHandle(o,()=>({dispatch:g,resetHighlight:()=>g({type:cr.resetHighlight,event:null})}),[g]);const v=q({},e,{open:_}),y=gme(v),x=(r=c.root)!=null?r:"div",I=hf({elementType:x,externalSlotProps:u.root,externalForwardedProps:f,additionalProps:{ref:n,role:void 0},className:y.root,ownerState:v}),O=(i=c.listbox)!=null?i:"ul",S=hf({elementType:O,getSlotProps:p,externalSlotProps:u.listbox,className:y.listbox,ownerState:v});return _===!0&&b==null?E.jsx(x,q({},I,{children:E.jsx(O,q({},S,{children:E.jsx(xC,{value:h,children:a})}))})):E.jsx(pme,q({keepMounted:!0},I,{open:_,anchor:b,slots:{root:x},children:E.jsx(O,q({},S,{children:E.jsx(xC,{value:h,children:a})}))}))});function T9(t={}){const{disabled:e=!1,focusableWhenDisabled:n,rootRef:r}=t,i=D.useContext($x);if(i===null)throw new Error("useMenuButton: no menu context available.");const{state:o,dispatch:s,registerTrigger:a,popupId:l}=i,{getRootProps:u,rootRef:c,active:f}=jx({disabled:e,focusableWhenDisabled:n,rootRef:r}),h=en(c,a),p=b=>v=>{var y;(y=b.onClick)==null||y.call(b,v),!v.defaultMuiPrevented&&s({type:ta.toggle,event:v})},g=b=>v=>{var y;(y=b.onKeyDown)==null||y.call(b,v),!v.defaultMuiPrevented&&(v.key==="ArrowDown"||v.key==="ArrowUp")&&(v.preventDefault(),s({type:ta.open,event:v}))},_=(b={})=>({onClick:p(b),onKeyDown:g(b)});return{active:f,getRootProps:(b={})=>{const v=ua(b),y=Sw(_,u);return q({"aria-haspopup":"menu","aria-expanded":o.open,"aria-controls":l},b,v,y(v),{tabIndex:0,ref:h})},open:o.open,rootRef:h}}const S9="MenuButton";function vme(t){return fm(S9,t)}Qy(S9,["root","active","disabled","expanded"]);const yme=["children","disabled","label","slots","slotProps","focusableWhenDisabled"],bme=t=>{const{active:e,disabled:n,open:r}=t;return wt({root:["root",n&&"disabled",e&&"active",r&&"expanded"]},Gy(vme))},s$=D.forwardRef(function(e,n){const{children:r,disabled:i=!1,slots:o={},slotProps:s={},focusableWhenDisabled:a=!1}=e,l=Fe(e,yme),{getRootProps:u,open:c,active:f}=T9({disabled:i,focusableWhenDisabled:a,rootRef:n}),h=q({},e,{open:c,active:f,disabled:i,focusableWhenDisabled:a}),p=bme(h),g=o.root||"button",_=hf({elementType:g,getSlotProps:u,externalForwardedProps:l,externalSlotProps:s.root,additionalProps:{ref:n,type:"button"},ownerState:h,className:p.root});return E.jsx(g,q({},_,{children:r}))}),C9="MenuItem";function _me(t){return fm(C9,t)}Qy(C9,["root","disabled","focusVisible"]);function wme(t){return`menu-item-${t.size}`}const xme={dispatch:()=>{},popupId:"",registerPopup:()=>{},registerTrigger:()=>{},state:{open:!0,changeReason:null},triggerElement:null};function P9(t){var e;const{disabled:n=!1,id:r,rootRef:i,label:o,disableFocusOnHover:s=!1}=t,a=Oc(r),l=D.useRef(null),u=D.useMemo(()=>({disabled:n,id:a??"",label:o,ref:l}),[n,a,o]),{dispatch:c}=(e=D.useContext($x))!=null?e:xme,{getRootProps:f,highlighted:h}=vpe({item:a,handlePointerOverEvents:!s}),{index:p,totalItemCount:g}=wpe(a??wme,u),{getRootProps:_,focusVisible:w,rootRef:b}=jx({disabled:n,focusableWhenDisabled:!0}),v=en(b,i,l);D.useDebugValue({id:a,highlighted:h,disabled:n,label:o});const y=O=>S=>{var C;(C=O.onClick)==null||C.call(O,S),!S.defaultMuiPrevented&&c({type:ta.close,event:S})},x=(O={})=>q({},O,{onClick:y(O)});function I(O={}){const S=ua(O),C=Sw(x,Sw(_,f));return q({},O,S,C(S),{id:a,ref:v,role:"menuitem"})}return a===void 0?{getRootProps:I,disabled:!1,focusVisible:w,highlighted:!1,index:-1,totalItemCount:0,rootRef:v}:{getRootProps:I,disabled:n,focusVisible:w,highlighted:h,index:p,totalItemCount:g,rootRef:v}}function k9(t){const e=D.useContext(Yy);if(!e)throw new Error("MenuItem: ListContext was not found.");const n=Oc(t),{getItemState:r,dispatch:i}=e;let o;n!=null?o=r(n):o={focusable:!0,highlighted:!1,selected:!1};const{highlighted:s,selected:a,focusable:l}=o,u=D.useCallback(f=>{if(f!==n)throw new Error(["Base UI MenuItem: Tried to access the state of another MenuItem.",`itemValue: ${f} | id: ${n}`,"This is unsupported when the MenuItem uses the MenuItemContextStabilizer as a performance optimization."].join("/n"));return{highlighted:s,selected:a,focusable:l}},[s,a,l,n]);return{contextValue:D.useMemo(()=>({dispatch:i,getItemState:u}),[i,u]),id:n}}const Eme=["children","disabled","label","id","slotProps","slots"];function Ime(t){const{disabled:e,focusVisible:n}=t;return wt({root:["root",e&&"disabled",n&&"focusVisible"]},Gy(_me))}const Tme=D.memo(D.forwardRef(function(e,n){var r;const{children:i,disabled:o=!1,label:s,id:a,slotProps:l={},slots:u={}}=e,c=Fe(e,Eme),{getRootProps:f,disabled:h,focusVisible:p,highlighted:g}=P9({id:a,disabled:o,rootRef:n,label:s}),_=q({},e,{disabled:h,focusVisible:p,highlighted:g}),w=Ime(_),b=(r=u.root)!=null?r:"li",v=hf({elementType:b,getSlotProps:f,externalSlotProps:l.root,externalForwardedProps:c,className:w.root,ownerState:_});return E.jsx(b,q({},v,{children:i}))})),xl=D.forwardRef(function(e,n){const{id:r}=e,{contextValue:i,id:o}=k9(r);return E.jsx(Yy.Provider,{value:i,children:E.jsx(Tme,q({},e,{id:o,ref:n}))})});var So="top",Ts="bottom",Ss="right",Co="left",nR="auto",Jy=[So,Ts,Ss,Co],Mp="start",ay="end",Sme="clippingParents",A9="viewport",ag="popper",Cme="reference",a$=Jy.reduce(function(t,e){return t.concat([e+"-"+Mp,e+"-"+ay])},[]),R9=[].concat(Jy,[nR]).reduce(function(t,e){return t.concat([e,e+"-"+Mp,e+"-"+ay])},[]),Pme="beforeRead",kme="read",Ame="afterRead",Rme="beforeMain",Ome="main",Nme="afterMain",Lme="beforeWrite",Dme="write",jme="afterWrite",$me=[Pme,kme,Ame,Rme,Ome,Nme,Lme,Dme,jme];function Za(t){return t?(t.nodeName||"").toLowerCase():null}function Qo(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function gf(t){var e=Qo(t).Element;return t instanceof e||t instanceof Element}function xs(t){var e=Qo(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function rR(t){if(typeof ShadowRoot>"u")return!1;var e=Qo(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function Mme(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!xs(o)||!Za(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var a=i[s];a===!1?o.removeAttribute(s):o.setAttribute(s,a===!0?"":a)}))})}function Bme(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),a=s.reduce(function(l,u){return l[u]="",l},{});!xs(i)||!Za(i)||(Object.assign(i.style,a),Object.keys(o).forEach(function(l){i.removeAttribute(l)}))})}}const Fme={name:"applyStyles",enabled:!0,phase:"write",fn:Mme,effect:Bme,requires:["computeStyles"]};function qa(t){return t.split("-")[0]}var Fd=Math.max,Ow=Math.min,Bp=Math.round;function SC(){var t=navigator.userAgentData;return t!=null&&t.brands&&Array.isArray(t.brands)?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function O9(){return!/^((?!chrome|android).)*safari/i.test(SC())}function Fp(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&xs(t)&&(i=t.offsetWidth>0&&Bp(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Bp(r.height)/t.offsetHeight||1);var s=gf(t)?Qo(t):window,a=s.visualViewport,l=!O9()&&n,u=(r.left+(l&&a?a.offsetLeft:0))/i,c=(r.top+(l&&a?a.offsetTop:0))/o,f=r.width/i,h=r.height/o;return{width:f,height:h,top:c,right:u+f,bottom:c+h,left:u,x:u,y:c}}function iR(t){var e=Fp(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function N9(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&rR(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ql(t){return Qo(t).getComputedStyle(t)}function Vme(t){return["table","td","th"].indexOf(Za(t))>=0}function Lc(t){return((gf(t)?t.ownerDocument:t.document)||window.document).documentElement}function zx(t){return Za(t)==="html"?t:t.assignedSlot||t.parentNode||(rR(t)?t.host:null)||Lc(t)}function l$(t){return!xs(t)||Ql(t).position==="fixed"?null:t.offsetParent}function Ume(t){var e=/firefox/i.test(SC()),n=/Trident/i.test(SC());if(n&&xs(t)){var r=Ql(t);if(r.position==="fixed")return null}var i=zx(t);for(rR(i)&&(i=i.host);xs(i)&&["html","body"].indexOf(Za(i))<0;){var o=Ql(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function Zy(t){for(var e=Qo(t),n=l$(t);n&&Vme(n)&&Ql(n).position==="static";)n=l$(n);return n&&(Za(n)==="html"||Za(n)==="body"&&Ql(n).position==="static")?e:n||Ume(t)||e}function oR(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zg(t,e,n){return Fd(t,Ow(e,n))}function zme(t,e,n){var r=Zg(t,e,n);return r>n?n:r}function L9(){return{top:0,right:0,bottom:0,left:0}}function D9(t){return Object.assign({},L9(),t)}function j9(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var qme=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,D9(typeof e!="number"?e:j9(e,Jy))};function Hme(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,a=qa(n.placement),l=oR(a),u=[Co,Ss].indexOf(a)>=0,c=u?"height":"width";if(!(!o||!s)){var f=qme(i.padding,n),h=iR(o),p=l==="y"?So:Co,g=l==="y"?Ts:Ss,_=n.rects.reference[c]+n.rects.reference[l]-s[l]-n.rects.popper[c],w=s[l]-n.rects.reference[l],b=Zy(o),v=b?l==="y"?b.clientHeight||0:b.clientWidth||0:0,y=_/2-w/2,x=f[p],I=v-h[c]-f[g],O=v/2-h[c]/2+y,S=Zg(x,O,I),C=l;n.modifiersData[r]=(e={},e[C]=S,e.centerOffset=S-O,e)}}function Wme(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||N9(e.elements.popper,i)&&(e.elements.arrow=i))}const $9={name:"arrow",enabled:!0,phase:"main",fn:Hme,effect:Wme,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Vp(t){return t.split("-")[1]}var Kme={top:"auto",right:"auto",bottom:"auto",left:"auto"};function Gme(t,e){var n=t.x,r=t.y,i=e.devicePixelRatio||1;return{x:Bp(n*i)/i||0,y:Bp(r*i)/i||0}}function u$(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,a=t.position,l=t.gpuAcceleration,u=t.adaptive,c=t.roundOffsets,f=t.isFixed,h=s.x,p=h===void 0?0:h,g=s.y,_=g===void 0?0:g,w=typeof c=="function"?c({x:p,y:_}):{x:p,y:_};p=w.x,_=w.y;var b=s.hasOwnProperty("x"),v=s.hasOwnProperty("y"),y=Co,x=So,I=window;if(u){var O=Zy(n),S="clientHeight",C="clientWidth";if(O===Qo(n)&&(O=Lc(n),Ql(O).position!=="static"&&a==="absolute"&&(S="scrollHeight",C="scrollWidth")),O=O,i===So||(i===Co||i===Ss)&&o===ay){x=Ts;var k=f&&O===I&&I.visualViewport?I.visualViewport.height:O[S];_-=k-r.height,_*=l?1:-1}if(i===Co||(i===So||i===Ts)&&o===ay){y=Ss;var P=f&&O===I&&I.visualViewport?I.visualViewport.width:O[C];p-=P-r.width,p*=l?1:-1}}var R=Object.assign({position:a},u&&Kme),L=c===!0?Gme({x:p,y:_},Qo(n)):{x:p,y:_};if(p=L.x,_=L.y,l){var N;return Object.assign({},R,(N={},N[x]=v?"0":"",N[y]=b?"0":"",N.transform=(I.devicePixelRatio||1)<=1?"translate("+p+"px, "+_+"px)":"translate3d("+p+"px, "+_+"px, 0)",N))}return Object.assign({},R,(e={},e[x]=v?_+"px":"",e[y]=b?p+"px":"",e.transform="",e))}function Qme(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,a=n.roundOffsets,l=a===void 0?!0:a,u={placement:qa(e.placement),variation:Vp(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,u$(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:l})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,u$(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:l})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const M9={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Qme,data:{}};var Pb={passive:!0};function Yme(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,a=s===void 0?!0:s,l=Qo(e.elements.popper),u=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&u.forEach(function(c){c.addEventListener("scroll",n.update,Pb)}),a&&l.addEventListener("resize",n.update,Pb),function(){o&&u.forEach(function(c){c.removeEventListener("scroll",n.update,Pb)}),a&&l.removeEventListener("resize",n.update,Pb)}}const B9={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Yme,data:{}};var Xme={left:"right",right:"left",bottom:"top",top:"bottom"};function g_(t){return t.replace(/left|right|bottom|top/g,function(e){return Xme[e]})}var Jme={start:"end",end:"start"};function c$(t){return t.replace(/start|end/g,function(e){return Jme[e]})}function sR(t){var e=Qo(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function aR(t){return Fp(Lc(t)).left+sR(t).scrollLeft}function Zme(t,e){var n=Qo(t),r=Lc(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,a=0,l=0;if(i){o=i.width,s=i.height;var u=O9();(u||!u&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:o,height:s,x:a+aR(t),y:l}}function ege(t){var e,n=Lc(t),r=sR(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=Fd(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=Fd(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),a=-r.scrollLeft+aR(t),l=-r.scrollTop;return Ql(i||n).direction==="rtl"&&(a+=Fd(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:a,y:l}}function lR(t){var e=Ql(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function F9(t){return["html","body","#document"].indexOf(Za(t))>=0?t.ownerDocument.body:xs(t)&&lR(t)?t:F9(zx(t))}function ev(t,e){var n;e===void 0&&(e=[]);var r=F9(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Qo(r),s=i?[o].concat(o.visualViewport||[],lR(r)?r:[]):r,a=e.concat(s);return i?a:a.concat(ev(zx(s)))}function CC(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function tge(t,e){var n=Fp(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function d$(t,e,n){return e===A9?CC(Zme(t,n)):gf(e)?tge(e,n):CC(ege(Lc(t)))}function nge(t){var e=ev(zx(t)),n=["absolute","fixed"].indexOf(Ql(t).position)>=0,r=n&&xs(t)?Zy(t):t;return gf(r)?e.filter(function(i){return gf(i)&&N9(i,r)&&Za(i)!=="body"}):[]}function rge(t,e,n,r){var i=e==="clippingParents"?nge(t):[].concat(e),o=[].concat(i,[n]),s=o[0],a=o.reduce(function(l,u){var c=d$(t,u,r);return l.top=Fd(c.top,l.top),l.right=Ow(c.right,l.right),l.bottom=Ow(c.bottom,l.bottom),l.left=Fd(c.left,l.left),l},d$(t,s,r));return a.width=a.right-a.left,a.height=a.bottom-a.top,a.x=a.left,a.y=a.top,a}function V9(t){var e=t.reference,n=t.element,r=t.placement,i=r?qa(r):null,o=r?Vp(r):null,s=e.x+e.width/2-n.width/2,a=e.y+e.height/2-n.height/2,l;switch(i){case So:l={x:s,y:e.y-n.height};break;case Ts:l={x:s,y:e.y+e.height};break;case Ss:l={x:e.x+e.width,y:a};break;case Co:l={x:e.x-n.width,y:a};break;default:l={x:e.x,y:e.y}}var u=i?oR(i):null;if(u!=null){var c=u==="y"?"height":"width";switch(o){case Mp:l[u]=l[u]-(e[c]/2-n[c]/2);break;case ay:l[u]=l[u]+(e[c]/2-n[c]/2);break}}return l}function ly(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,a=n.boundary,l=a===void 0?Sme:a,u=n.rootBoundary,c=u===void 0?A9:u,f=n.elementContext,h=f===void 0?ag:f,p=n.altBoundary,g=p===void 0?!1:p,_=n.padding,w=_===void 0?0:_,b=D9(typeof w!="number"?w:j9(w,Jy)),v=h===ag?Cme:ag,y=t.rects.popper,x=t.elements[g?v:h],I=rge(gf(x)?x:x.contextElement||Lc(t.elements.popper),l,c,s),O=Fp(t.elements.reference),S=V9({reference:O,element:y,strategy:"absolute",placement:i}),C=CC(Object.assign({},y,S)),k=h===ag?C:O,P={top:I.top-k.top+b.top,bottom:k.bottom-I.bottom+b.bottom,left:I.left-k.left+b.left,right:k.right-I.right+b.right},R=t.modifiersData.offset;if(h===ag&&R){var L=R[i];Object.keys(P).forEach(function(N){var V=[Ss,Ts].indexOf(N)>=0?1:-1,F=[So,Ts].indexOf(N)>=0?"y":"x";P[N]+=L[F]*V})}return P}function ige(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,a=n.flipVariations,l=n.allowedAutoPlacements,u=l===void 0?R9:l,c=Vp(r),f=c?a?a$:a$.filter(function(g){return Vp(g)===c}):Jy,h=f.filter(function(g){return u.indexOf(g)>=0});h.length===0&&(h=f);var p=h.reduce(function(g,_){return g[_]=ly(t,{placement:_,boundary:i,rootBoundary:o,padding:s})[qa(_)],g},{});return Object.keys(p).sort(function(g,_){return p[g]-p[_]})}function oge(t){if(qa(t)===nR)return[];var e=g_(t);return[c$(t),e,c$(e)]}function sge(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!0:s,l=n.fallbackPlacements,u=n.padding,c=n.boundary,f=n.rootBoundary,h=n.altBoundary,p=n.flipVariations,g=p===void 0?!0:p,_=n.allowedAutoPlacements,w=e.options.placement,b=qa(w),v=b===w,y=l||(v||!g?[g_(w)]:oge(w)),x=[w].concat(y).reduce(function(ne,oe){return ne.concat(qa(oe)===nR?ige(e,{placement:oe,boundary:c,rootBoundary:f,padding:u,flipVariations:g,allowedAutoPlacements:_}):oe)},[]),I=e.rects.reference,O=e.rects.popper,S=new Map,C=!0,k=x[0],P=0;P<x.length;P++){var R=x[P],L=qa(R),N=Vp(R)===Mp,V=[So,Ts].indexOf(L)>=0,F=V?"width":"height",z=ly(e,{placement:R,boundary:c,rootBoundary:f,altBoundary:h,padding:u}),B=V?N?Ss:Co:N?Ts:So;I[F]>O[F]&&(B=g_(B));var W=g_(B),Q=[];if(o&&Q.push(z[L]<=0),a&&Q.push(z[B]<=0,z[W]<=0),Q.every(function(ne){return ne})){k=R,C=!1;break}S.set(R,Q)}if(C)for(var G=g?3:1,j=function(oe){var X=x.find(function(Z){var re=S.get(Z);if(re)return re.slice(0,oe).every(function(ue){return ue})});if(X)return k=X,"break"},U=G;U>0;U--){var K=j(U);if(K==="break")break}e.placement!==k&&(e.modifiersData[r]._skip=!0,e.placement=k,e.reset=!0)}}const U9={name:"flip",enabled:!0,phase:"main",fn:sge,requiresIfExists:["offset"],data:{_skip:!1}};function f$(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function h$(t){return[So,Ss,Ts,Co].some(function(e){return t[e]>=0})}function age(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=ly(e,{elementContext:"reference"}),a=ly(e,{altBoundary:!0}),l=f$(s,r),u=f$(a,i,o),c=h$(l),f=h$(u);e.modifiersData[n]={referenceClippingOffsets:l,popperEscapeOffsets:u,isReferenceHidden:c,hasPopperEscaped:f},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":c,"data-popper-escaped":f})}const z9={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:age};function lge(t,e,n){var r=qa(t),i=[Co,So].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],a=o[1];return s=s||0,a=(a||0)*i,[Co,Ss].indexOf(r)>=0?{x:a,y:s}:{x:s,y:a}}function uge(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=R9.reduce(function(c,f){return c[f]=lge(f,e.rects,o),c},{}),a=s[e.placement],l=a.x,u=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=l,e.modifiersData.popperOffsets.y+=u),e.modifiersData[r]=s}const q9={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uge};function cge(t){var e=t.state,n=t.name;e.modifiersData[n]=V9({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const H9={name:"popperOffsets",enabled:!0,phase:"read",fn:cge,data:{}};function dge(t){return t==="x"?"y":"x"}function fge(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,a=s===void 0?!1:s,l=n.boundary,u=n.rootBoundary,c=n.altBoundary,f=n.padding,h=n.tether,p=h===void 0?!0:h,g=n.tetherOffset,_=g===void 0?0:g,w=ly(e,{boundary:l,rootBoundary:u,padding:f,altBoundary:c}),b=qa(e.placement),v=Vp(e.placement),y=!v,x=oR(b),I=dge(x),O=e.modifiersData.popperOffsets,S=e.rects.reference,C=e.rects.popper,k=typeof _=="function"?_(Object.assign({},e.rects,{placement:e.placement})):_,P=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),R=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,L={x:0,y:0};if(O){if(o){var N,V=x==="y"?So:Co,F=x==="y"?Ts:Ss,z=x==="y"?"height":"width",B=O[x],W=B+w[V],Q=B-w[F],G=p?-C[z]/2:0,j=v===Mp?S[z]:C[z],U=v===Mp?-C[z]:-S[z],K=e.elements.arrow,ne=p&&K?iR(K):{width:0,height:0},oe=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:L9(),X=oe[V],Z=oe[F],re=Zg(0,S[z],ne[z]),ue=y?S[z]/2-G-re-X-P.mainAxis:j-re-X-P.mainAxis,te=y?-S[z]/2+G+re+Z+P.mainAxis:U+re+Z+P.mainAxis,fe=e.elements.arrow&&Zy(e.elements.arrow),be=fe?x==="y"?fe.clientTop||0:fe.clientLeft||0:0,ve=(N=R==null?void 0:R[x])!=null?N:0,we=B+ue-ve-be,Ce=B+te-ve,Ue=Zg(p?Ow(W,we):W,B,p?Fd(Q,Ce):Q);O[x]=Ue,L[x]=Ue-B}if(a){var Oe,he=x==="x"?So:Co,_e=x==="x"?Ts:Ss,Te=O[I],me=I==="y"?"height":"width",Se=Te+w[he],He=Te-w[_e],Qe=[So,Co].indexOf(b)!==-1,ct=(Oe=R==null?void 0:R[I])!=null?Oe:0,xt=Qe?Se:Te-S[me]-C[me]-ct+P.altAxis,yt=Qe?Te+S[me]+C[me]-ct-P.altAxis:He,ot=p&&Qe?zme(xt,Te,yt):Zg(p?xt:Se,Te,p?yt:He);O[I]=ot,L[I]=ot-Te}e.modifiersData[r]=L}}const W9={name:"preventOverflow",enabled:!0,phase:"main",fn:fge,requiresIfExists:["offset"]};function hge(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function pge(t){return t===Qo(t)||!xs(t)?sR(t):hge(t)}function mge(t){var e=t.getBoundingClientRect(),n=Bp(e.width)/t.offsetWidth||1,r=Bp(e.height)/t.offsetHeight||1;return n!==1||r!==1}function gge(t,e,n){n===void 0&&(n=!1);var r=xs(e),i=xs(e)&&mge(e),o=Lc(e),s=Fp(t,i,n),a={scrollLeft:0,scrollTop:0},l={x:0,y:0};return(r||!r&&!n)&&((Za(e)!=="body"||lR(o))&&(a=pge(e)),xs(e)?(l=Fp(e,!0),l.x+=e.clientLeft,l.y+=e.clientTop):o&&(l.x=aR(o))),{x:s.left+a.scrollLeft-l.x,y:s.top+a.scrollTop-l.y,width:s.width,height:s.height}}function vge(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(a){if(!n.has(a)){var l=e.get(a);l&&i(l)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function yge(t){var e=vge(t);return $me.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function bge(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function _ge(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var p$={placement:"bottom",modifiers:[],strategy:"absolute"};function m$(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function K9(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?p$:i;return function(a,l,u){u===void 0&&(u=o);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},p$,o),modifiersData:{},elements:{reference:a,popper:l},attributes:{},styles:{}},f=[],h=!1,p={state:c,setOptions:function(b){var v=typeof b=="function"?b(c.options):b;_(),c.options=Object.assign({},o,c.options,v),c.scrollParents={reference:gf(a)?ev(a):a.contextElement?ev(a.contextElement):[],popper:ev(l)};var y=yge(_ge([].concat(r,c.options.modifiers)));return c.orderedModifiers=y.filter(function(x){return x.enabled}),g(),p.update()},forceUpdate:function(){if(!h){var b=c.elements,v=b.reference,y=b.popper;if(m$(v,y)){c.rects={reference:gge(v,Zy(y),c.options.strategy==="fixed"),popper:iR(y)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(P){return c.modifiersData[P.name]=Object.assign({},P.data)});for(var x=0;x<c.orderedModifiers.length;x++){if(c.reset===!0){c.reset=!1,x=-1;continue}var I=c.orderedModifiers[x],O=I.fn,S=I.options,C=S===void 0?{}:S,k=I.name;typeof O=="function"&&(c=O({state:c,options:C,name:k,instance:p})||c)}}}},update:bge(function(){return new Promise(function(w){p.forceUpdate(),w(c)})}),destroy:function(){_(),h=!0}};if(!m$(a,l))return p;p.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function g(){c.orderedModifiers.forEach(function(w){var b=w.name,v=w.options,y=v===void 0?{}:v,x=w.effect;if(typeof x=="function"){var I=x({state:c,name:b,instance:p,options:y}),O=function(){};f.push(I||O)}})}function _(){f.forEach(function(w){return w()}),f=[]}return p}}var wge=[B9,H9,M9,Fme,q9,U9,W9,$9,z9],G9=K9({defaultModifiers:wge});const Q9="Popper";function xge(t){return fm(Q9,t)}Qy(Q9,["root"]);const Ege=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],Ige=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function Tge(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function PC(t){return typeof t=="function"?t():t}function Sge(t){return t.nodeType!==void 0}const Cge=()=>wt({root:["root"]},Gy(xge)),Pge={},kge=D.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:f,popperRef:h,slotProps:p={},slots:g={},TransitionProps:_}=e,w=Fe(e,Ege),b=D.useRef(null),v=en(b,n),y=D.useRef(null),x=en(y,h),I=D.useRef(x);or(()=>{I.current=x},[x]),D.useImperativeHandle(h,()=>y.current,[]);const O=Tge(c,s),[S,C]=D.useState(O),[k,P]=D.useState(PC(i));D.useEffect(()=>{y.current&&y.current.forceUpdate()}),D.useEffect(()=>{i&&P(PC(i))},[i]),or(()=>{if(!k||!u)return;const F=W=>{C(W.placement)};let z=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{F(W)}}];l!=null&&(z=z.concat(l)),f&&f.modifiers!=null&&(z=z.concat(f.modifiers));const B=G9(k,b.current,q({placement:O},f,{modifiers:z}));return I.current(B),()=>{B.destroy(),I.current(null)}},[k,a,l,u,f,O]);const R={placement:S};_!==null&&(R.TransitionProps=_);const L=Cge(),N=(r=g.root)!=null?r:"div",V=hf({elementType:N,externalSlotProps:p.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:L.root});return E.jsx(N,q({},V,{children:typeof o=="function"?o(R):o}))}),Age=D.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:f="bottom",popperOptions:h=Pge,popperRef:p,style:g,transition:_=!1,slotProps:w={},slots:b={}}=e,v=Fe(e,Ige),[y,x]=D.useState(!0),I=()=>{x(!1)},O=()=>{x(!0)};if(!l&&!c&&(!_||y))return null;let S;if(o)S=o;else if(r){const P=PC(r);S=P&&Sge(P)?li(P).body:li(null).body}const C=!c&&l&&(!_||y)?"none":void 0,k=_?{in:c,onEnter:I,onExited:O}:void 0;return E.jsx(E9,{disablePortal:a,container:S,children:E.jsx(kge,q({anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:_?!y:c,placement:f,popperOptions:h,popperRef:p,slotProps:w,slots:b},v,{style:q({position:"fixed",top:0,left:0,display:C},g),TransitionProps:k,children:i}))})}),Rge=["onChange","maxRows","minRows","style","value"];function kb(t){return parseInt(t,10)||0}const Oge={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function Nge(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const uR=D.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=Fe(e,Rge),{current:u}=D.useRef(a!=null),c=D.useRef(null),f=en(n,c),h=D.useRef(null),p=D.useCallback(()=>{const w=c.current,v=Xa(w).getComputedStyle(w);if(v.width==="0px")return{outerHeightStyle:0,overflowing:!1};const y=h.current;y.style.width=v.width,y.value=w.value||e.placeholder||"x",y.value.slice(-1)===`
`&&(y.value+=" ");const x=v.boxSizing,I=kb(v.paddingBottom)+kb(v.paddingTop),O=kb(v.borderBottomWidth)+kb(v.borderTopWidth),S=y.scrollHeight;y.value="x";const C=y.scrollHeight;let k=S;o&&(k=Math.max(Number(o)*C,k)),i&&(k=Math.min(Number(i)*C,k)),k=Math.max(k,C);const P=k+(x==="border-box"?I+O:0),R=Math.abs(k-S)<=1;return{outerHeightStyle:P,overflowing:R}},[i,o,e.placeholder]),g=D.useCallback(()=>{const w=p();if(Nge(w))return;const b=c.current;b.style.height=`${w.outerHeightStyle}px`,b.style.overflow=w.overflowing?"hidden":""},[p]);or(()=>{const w=()=>{g()};let b;const v=Nx(w),y=c.current,x=Xa(y);x.addEventListener("resize",v);let I;return typeof ResizeObserver<"u"&&(I=new ResizeObserver(w),I.observe(y)),()=>{v.clear(),cancelAnimationFrame(b),x.removeEventListener("resize",v),I&&I.disconnect()}},[p,g]),or(()=>{g()});const _=w=>{u||g(),r&&r(w)};return E.jsxs(D.Fragment,{children:[E.jsx("textarea",q({value:a,onChange:_,ref:f,rows:o,style:s},l)),E.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:h,tabIndex:-1,style:q({},Oge.shadow,s,{paddingTop:0,paddingBottom:0})})]})}),Lge=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],Dge=["component","slots","slotProps"],jge=["component"];function Qr(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=Fe(e,Lge),{component:u,slots:c={[t]:void 0},slotProps:f={[t]:void 0}}=o,h=Fe(o,Dge),p=c[t]||r,g=r9(f[t],i),_=i9(q({className:n},l,{externalForwardedProps:t==="root"?h:void 0,externalSlotProps:g})),{props:{component:w},internalRef:b}=_,v=Fe(_.props,jge),y=en(b,g==null?void 0:g.ref,e.ref),x=s?s(v):{},I=q({},i,x),O=t==="root"?w||u:w,S=n9(p,q({},t==="root"&&!u&&!c[t]&&a,t!=="root"&&!c[t]&&a,v,O&&{as:O},{ref:y}),I);return Object.keys(x).forEach(C=>{delete S[C]}),[p,S]}const $ge=au("MuiListItem",["root","startAction","endAction","nested","nesting","sticky","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]),Mge=D.createContext(!1),Y9=D.createContext(!1),Bge=D.createContext(!1),Fge=D.createContext(void 0),Vge={"--NestedList-marginRight":"0px","--NestedList-marginLeft":"0px","--NestedListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px"};function Uge(t){const{children:e,nested:n,row:r=!1,wrap:i=!1}=t,o=E.jsx(Y9.Provider,{value:r,children:E.jsx(Bge.Provider,{value:i,children:D.Children.map(e,(s,a)=>D.isValidElement(s)?D.cloneElement(s,q({},a===0&&{"data-first-child":""},a===D.Children.count(e)-1&&{"data-last-child":""})):s)})});return n===void 0?o:E.jsx(Mge.Provider,{value:n,children:o})}const zge=({theme:t,ownerState:e},n)=>{let r={};function i(o){if(typeof o=="function"){const s=o(t);i(s)}else Array.isArray(o)?o.forEach(s=>{typeof s!="boolean"&&i(s)}):typeof o=="object"&&(r=q({},r,o))}return e.sx&&(i(e.sx),n.forEach(o=>{const s=r[o];if(typeof s=="string"||typeof s=="number")if(o==="borderRadius")if(typeof s=="number")r[o]=`${s}px`;else{var a;r[o]=((a=t.vars)==null?void 0:a.radius[s])||s}else["p","padding","m","margin"].indexOf(o)!==-1&&typeof s=="number"?r[o]=t.spacing(s):r[o]=s;else typeof s=="function"?r[o]=s(t):r[o]=void 0})),r},X9=Yn("ul")(({theme:t,ownerState:e})=>{var n;const{p:r,padding:i,borderRadius:o}=zge({theme:t,ownerState:e},["p","padding","borderRadius"]);function s(a){return a==="sm"?{"--ListDivider-gap":"0.25rem","--ListItem-minHeight":"2rem","--ListItem-paddingY":"3px","--ListItem-paddingX":e.marker?"3px":"0.5rem","--ListItem-gap":"0.5rem","--ListItemDecorator-size":e.orientation==="horizontal"?"1.5rem":"2rem","--Icon-fontSize":t.vars.fontSize.lg}:a==="md"?{"--ListDivider-gap":"0.375rem","--ListItem-minHeight":"2.25rem","--ListItem-paddingY":"0.25rem","--ListItem-paddingX":e.marker?"0.25rem":"0.75rem","--ListItem-gap":"0.625rem","--ListItemDecorator-size":e.orientation==="horizontal"?"1.75rem":"2.5rem","--Icon-fontSize":t.vars.fontSize.xl}:a==="lg"?{"--ListDivider-gap":"0.5rem","--ListItem-minHeight":"2.75rem","--ListItem-paddingY":"0.375rem","--ListItem-paddingX":e.marker?"0.5rem":"1rem","--ListItem-gap":"0.75rem","--ListItemDecorator-size":e.orientation==="horizontal"?"2.25rem":"3rem","--Icon-fontSize":t.vars.fontSize.xl2}:{}}return[e.nesting&&q({},s(e.instanceSize),{"--ListItem-paddingRight":"var(--ListItem-paddingX)","--ListItem-paddingLeft":"var(--NestedListItem-paddingLeft)","--ListItemButton-marginBlock":"0px","--ListItemButton-marginInline":"0px","--ListItem-marginBlock":"0px","--ListItem-marginInline":"0px",padding:0},e.marker&&{paddingInlineStart:"calc(3ch - var(--_List-markerDeduct, 0px))"},{marginInlineStart:"var(--NestedList-marginLeft)",marginInlineEnd:"var(--NestedList-marginRight)",marginBlockStart:"var(--List-gap)",marginBlockEnd:"initial"}),!e.nesting&&q({},s(e.size),{"--List-gap":"0px","--List-nestedInsetStart":"0px","--ListItem-paddingLeft":"var(--ListItem-paddingX)","--ListItem-paddingRight":"var(--ListItem-paddingX)"},e.marker&&{"--_List-markerDeduct":"1ch"},{"--unstable_List-childRadius":"calc(max(var(--List-radius) - var(--List-padding), min(var(--List-padding) / 2, var(--List-radius) / 2)) - var(--variant-borderWidth, 0px))","--ListItem-radius":"var(--unstable_List-childRadius)","--ListItem-startActionTranslateX":"calc(0.5 * var(--ListItem-paddingLeft))","--ListItem-endActionTranslateX":"calc(-0.5 * var(--ListItem-paddingRight))",margin:"initial"},t.typography[`body-${e.size}`],e.orientation==="horizontal"?q({},e.wrap?{padding:"var(--List-padding)",marginInlineStart:"calc(-1 * var(--List-gap))",marginBlockStart:"calc(-1 * var(--List-gap))"}:{paddingInline:"var(--List-padding, var(--ListDivider-gap))",paddingBlock:"var(--List-padding)"}):{paddingBlock:"var(--List-padding, var(--ListDivider-gap))",paddingInline:"var(--List-padding)"},e.marker&&{paddingInlineStart:"3ch"}),q({boxSizing:"border-box",borderRadius:"var(--List-radius)",listStyle:"none",display:"flex",flexDirection:e.orientation==="horizontal"?"row":"column"},e.wrap&&{flexWrap:"wrap"},e.marker&&{"--_List-markerDisplay":"list-item","--_List-markerType":e.marker,lineHeight:"calc(var(--ListItem-minHeight) - 2 * var(--ListItem-paddingY))"},{flexGrow:1,position:"relative"},(n=t.variants[e.variant])==null?void 0:n[e.color],{"--unstable_List-borderWidth":"var(--variant-borderWidth, 0px)"},o!==void 0&&{"--List-radius":o},r!==void 0&&{"--List-padding":r},i!==void 0&&{"--List-padding":i})]});Yn(X9,{name:"JoyList",slot:"Root",overridesResolver:(t,e)=>e.root})({});const v_=au("MuiListItemButton",["root","horizontal","vertical","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","focusVisible","disabled","selected","variantPlain","variantSoft","variantOutlined","variantSolid"]),qge=D.createContext("horizontal"),J9=Yn("div")(({theme:t,ownerState:e})=>{var n,r,i,o,s,a;return q({"--Icon-margin":"initial","--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon,WebkitTapHighlightColor:"transparent",boxSizing:"border-box",position:"relative",font:"inherit",display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"stretch",gap:"var(--ListItem-gap)"},e.orientation==="vertical"&&{flexDirection:"column",justifyContent:"center"},{textAlign:"initial",textDecoration:"initial",backgroundColor:"initial",cursor:"pointer",marginInline:"var(--ListItemButton-marginInline)",marginBlock:"var(--ListItemButton-marginBlock)"},e["data-first-child"]===void 0&&{marginInlineStart:e.row?"var(--List-gap)":void 0,marginBlockStart:e.row?void 0:"var(--List-gap)"},{paddingBlock:"calc(var(--ListItem-paddingY) - var(--variant-borderWidth, 0px))",paddingInlineStart:"calc(var(--ListItem-paddingLeft) + var(--ListItem-startActionWidth, var(--unstable_startActionWidth, 0px)))",paddingInlineEnd:"calc(var(--ListItem-paddingRight) + var(--ListItem-endActionWidth, var(--unstable_endActionWidth, 0px)))",minBlockSize:"var(--ListItem-minHeight)",border:"1px solid transparent",borderRadius:"var(--ListItem-radius)",flex:"var(--unstable_ListItem-flex, none)",fontSize:"inherit",lineHeight:"inherit",minInlineSize:0,[t.focus.selector]:q({},t.focus.default,{zIndex:1})},(n=t.variants[e.variant])==null?void 0:n[e.color],{"&:active":(r=t.variants[`${e.variant}Active`])==null?void 0:r[e.color],[`.${$ge.root} > &`]:{"--unstable_ListItem-flex":"1 0 0%"},[`&.${v_.selected}`]:q({},(i=t.variants[`${e.variant}Active`])==null?void 0:i[e.color],{"--Icon-color":"currentColor"}),[`&:not(.${v_.selected}, [aria-selected="true"])`]:{"&:hover":(o=t.variants[`${e.variant}Hover`])==null?void 0:o[e.color],"&:active":(s=t.variants[`${e.variant}Active`])==null?void 0:s[e.color]},[`&.${v_.disabled}`]:q({},(a=t.variants[`${e.variant}Disabled`])==null?void 0:a[e.color])})});Yn(J9,{name:"JoyListItemButton",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>q({},!t.row&&{[`&.${v_.selected}`]:{fontWeight:e.vars.fontWeight.md}}));const cR=t=>e=>`--${t?`${t}-`:""}${e.replace(/^--/,"")}`,Nw="data-skip-inverted-colors",Z9=`& :not([${Nw}], [${Nw}] *)`,ez=t=>{var e,n,r,i,o,s,a,l,u,c,f,h,p,g,_,w,b,v,y,x,I,O;const S=cR(t.cssVarPrefix);return{"--variant-plainColor":"var(--variant-plainColor) !important","--variant-plainHoverColor":"var(--variant-plainHoverColor) !important","--variant-plainHoverBg":"var(--variant-plainHoverBg) !important","--variant-plainActiveBg":"var(--variant-plainActiveBg) !important","--variant-plainDisabledColor":"var(--variant-plainDisabledColor) !important","--variant-outlinedColor":"var(--variant-outlinedColor) !important","--variant-outlinedBorder":"var(--variant-outlinedBorder) !important","--variant-outlinedHoverColor":"var(--variant-outlinedHoverColor) !important","--variant-outlinedHoverBorder":"var(--variant-outlinedHoverBorder) !important","--variant-outlinedHoverBg":"var(--variant-outlinedHoverBg) !important","--variant-outlinedActiveBg":"var(--variant-outlinedActiveBg) !important","--variant-outlinedDisabledColor":"var(--variant-outlinedDisabledColor) !important","--variant-outlinedDisabledBorder":"var(--variant-outlinedDisabledBorder) !important","--variant-softColor":"var(--variant-softColor) !important","--variant-softHoverColor":"var(--variant-softHoverColor) !important","--variant-softBg":"var(--variant-softBg) !important","--variant-softHoverBg":"var(--variant-softHoverBg) !important","--variant-softActiveBg":"var(--variant-softActiveBg) !important","--variant-softActiveColor":"var(--variant-softActiveColor) !important","--variant-softDisabledColor":"var(--variant-softDisabledColor) !important","--variant-softDisabledBg":"var(--variant-softDisabledBg) !important","--variant-solidColor":"var(--variant-solidColor) !important","--variant-solidBg":"var(--variant-solidBg) !important","--variant-solidHoverBg":"var(--variant-solidHoverBg) !important","--variant-solidActiveBg":"var(--variant-solidActiveBg) !important","--variant-solidDisabledColor":"var(--variant-solidDisabledColor) !important","--variant-solidDisabledBg":"var(--variant-solidDisabledBg) !important","--Badge-ringColor":"var(--Badge-ringColor) !important",colorScheme:"unset",[t.getColorSchemeSelector("light")]:{[S("--palette-focusVisible")]:`${(e=t.colorSchemes.light)==null?void 0:e.palette.focusVisible} !important`,[S("--palette-background-body")]:`${(n=t.colorSchemes.light)==null?void 0:n.palette.background.body} !important`,[S("--palette-background-surface")]:`${(r=t.colorSchemes.light)==null?void 0:r.palette.background.surface} !important`,[S("--palette-background-popup")]:`${(i=t.colorSchemes.light)==null?void 0:i.palette.background.popup} !important`,[S("--palette-background-level1")]:`${(o=t.colorSchemes.light)==null?void 0:o.palette.background.level1} !important`,[S("--palette-background-level2")]:`${(s=t.colorSchemes.light)==null?void 0:s.palette.background.level2} !important`,[S("--palette-background-level3")]:`${(a=t.colorSchemes.light)==null?void 0:a.palette.background.level3} !important`,[S("--palette-text-primary")]:`${(l=t.colorSchemes.light)==null?void 0:l.palette.text.primary} !important`,[S("--palette-text-secondary")]:`${(u=t.colorSchemes.light)==null?void 0:u.palette.text.secondary} !important`,[S("--palette-text-tertiary")]:`${(c=t.colorSchemes.light)==null?void 0:c.palette.text.tertiary} !important`,[S("--palette-divider")]:`${(f=t.colorSchemes.light)==null?void 0:f.palette.divider} !important`},[t.getColorSchemeSelector("dark")]:{[S("--palette-focusVisible")]:`${(h=t.colorSchemes.dark)==null?void 0:h.palette.focusVisible} !important`,[S("--palette-background-body")]:`${(p=t.colorSchemes.dark)==null?void 0:p.palette.background.body} !important`,[S("--palette-background-surface")]:`${(g=t.colorSchemes.dark)==null?void 0:g.palette.background.surface} !important`,[S("--palette-background-popup")]:`${(_=t.colorSchemes.dark)==null?void 0:_.palette.background.popup} !important`,[S("--palette-background-level1")]:`${(w=t.colorSchemes.dark)==null?void 0:w.palette.background.level1} !important`,[S("--palette-background-level2")]:`${(b=t.colorSchemes.dark)==null?void 0:b.palette.background.level2} !important`,[S("--palette-background-level3")]:`${(v=t.colorSchemes.dark)==null?void 0:v.palette.background.level3} !important`,[S("--palette-text-primary")]:`${(y=t.colorSchemes.dark)==null?void 0:y.palette.text.primary} !important`,[S("--palette-text-secondary")]:`${(x=t.colorSchemes.dark)==null?void 0:x.palette.text.secondary} !important`,[S("--palette-text-tertiary")]:`${(I=t.colorSchemes.dark)==null?void 0:I.palette.text.tertiary} !important`,[S("--palette-divider")]:`${(O=t.colorSchemes.dark)==null?void 0:O.palette.divider} !important`}}};function Hge(t){return t.theme!==void 0}const Wge=t=>e=>{const n=Hge(e)?e.theme:e,r=JA(n.cssVarPrefix),i=cR(n.cssVarPrefix),o=s=>{const a=s.split("-");return r(s,n.palette[a[1]][a[2]])};return{[Z9]:{"--Badge-ringColor":o(`palette-${t}-solidBg`),"--Icon-color":"currentColor",[`${n.getColorSchemeSelector("light")}, ${n.getColorSchemeSelector("dark")}`]:{colorScheme:"dark",[i("--palette-focusVisible")]:o(`palette-${t}-200`),[i("--palette-background-body")]:"rgba(0 0 0 / 0.1)",[i("--palette-background-surface")]:"rgba(0 0 0 / 0.06)",[i("--palette-background-popup")]:o(`palette-${t}-700`),[i("--palette-background-level1")]:`rgba(${o(`palette-${t}-darkChannel`)} / 0.2)`,[i("--palette-background-level2")]:`rgba(${o(`palette-${t}-darkChannel`)} / 0.36)`,[i("--palette-background-level3")]:`rgba(${o(`palette-${t}-darkChannel`)} / 0.6)`,[i("--palette-text-primary")]:o("palette-common-white"),[i("--palette-text-secondary")]:o(`palette-${t}-200`),[i("--palette-text-tertiary")]:o(`palette-${t}-300`),[i("--palette-text-icon")]:o(`palette-${t}-200`),[i("--palette-divider")]:`rgba(${o(`palette-${t}-lightChannel`)} / 0.32)`,"--variant-plainColor":o(`palette-${t}-50`),"--variant-plainHoverColor":"#fff","--variant-plainHoverBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${o(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-outlinedColor":o(`palette-${t}-50`),"--variant-outlinedBorder":`rgba(${o(`palette-${t}-lightChannel`)} / 0.5)`,"--variant-outlinedHoverColor":"#fff","--variant-outlinedHoverBorder":o(`palette-${t}-300`),"--variant-outlinedHoverBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${o(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":"rgba(255 255 255 / 0.2)","--variant-softColor":o("palette-common-white"),"--variant-softHoverColor":o("palette-common-white"),"--variant-softBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.24)`,"--variant-softHoverBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.36)`,"--variant-softActiveBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.16)`,"--variant-softActiveColor":"#fff","--variant-softDisabledColor":`rgba(${o(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.1)`,"--variant-solidColor":o(`palette-${t}-${t==="neutral"?"600":"500"}`),"--variant-solidBg":o("palette-common-white"),"--variant-solidHoverBg":o("palette-common-white"),"--variant-solidActiveBg":o(`palette-${t}-100`),"--variant-solidDisabledColor":`rgba(${o(`palette-${t}-lightChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.1)`}},[`&, & [${Nw}]`]:ez(n)}},Kge=t=>e=>{const{theme:n=e}=e,r=JA(n.cssVarPrefix),i=cR(n.cssVarPrefix),o=s=>{const a=s.split("-");return r(s,n.palette[a[1]][a[2]])};return{[Z9]:{"--Badge-ringColor":o(`palette-${t}-softBg`),"--Icon-color":"currentColor",[n.getColorSchemeSelector("dark")]:{[i("--palette-focusVisible")]:o(`palette-${t}-300`),[i("--palette-background-body")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.1)`,[i("--palette-background-surface")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.08)`,[i("--palette-background-level1")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.2)`,[i("--palette-background-level2")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.4)`,[i("--palette-background-level3")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.6)`,[i("--palette-text-primary")]:o(`palette-${t}-100`),[i("--palette-text-secondary")]:`rgba(${o(`palette-${t}-lightChannel`)} / 0.72)`,[i("--palette-text-tertiary")]:`rgba(${o(`palette-${t}-lightChannel`)} / 0.6)`,[i("--palette-text-icon")]:`rgba(${o(`palette-${t}-lightChannel`)} / 0.6)`,[i("--palette-divider")]:`rgba(${o(`palette-${t}-lightChannel`)} / 0.2)`,"--variant-plainColor":`rgba(${o(`palette-${t}-lightChannel`)} / 1)`,"--variant-plainHoverColor":o(`palette-${t}-50`),"--variant-plainHoverBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.16)`,"--variant-plainActiveBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-plainDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-outlinedColor":`rgba(${o(`palette-${t}-lightChannel`)} / 1)`,"--variant-outlinedHoverColor":o(`palette-${t}-50`),"--variant-outlinedBg":"initial","--variant-outlinedBorder":`rgba(${o(`palette-${t}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverBorder":o(`palette-${t}-600`),"--variant-outlinedHoverBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.16)`,"--variant-outlinedActiveBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-outlinedDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-outlinedDisabledBorder":`rgba(${o(`palette-${t}-mainChannel`)} / 0.2)`,"--variant-softColor":o(`palette-${t}-200`),"--variant-softBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.24)`,"--variant-softHoverColor":"#fff","--variant-softHoverBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-softActiveBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.48)`,"--variant-softDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-softDisabledBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-solidColor":"#fff","--variant-solidBg":o(`palette-${t}-500`),"--variant-solidHoverColor":"#fff","--variant-solidHoverBg":o(`palette-${t}-600`),"--variant-solidActiveBg":o(`palette-${t}-600`),"--variant-solidDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.72)`,"--variant-solidDisabledBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.12)`},[n.getColorSchemeSelector("light")]:{[i("--palette-focusVisible")]:o(`palette-${t}-500`),[i("--palette-background-body")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.1)`,[i("--palette-background-surface")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.08)`,[i("--palette-background-level1")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.2)`,[i("--palette-background-level2")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.32)`,[i("--palette-background-level3")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.48)`,[i("--palette-text-primary")]:o(`palette-${t}-700`),[i("--palette-text-secondary")]:`rgba(${o(`palette-${t}-darkChannel`)} / 0.8)`,[i("--palette-text-tertiary")]:`rgba(${o(`palette-${t}-darkChannel`)} / 0.68)`,[i("--palette-text-icon")]:o(`palette-${t}-500`),[i("--palette-divider")]:`rgba(${o(`palette-${t}-mainChannel`)} / 0.32)`,"--variant-plainColor":`rgba(${o(`palette-${t}-darkChannel`)} / 0.8)`,"--variant-plainHoverColor":`rgba(${o(`palette-${t}-darkChannel`)} / 1)`,"--variant-plainHoverBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-plainActiveBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.24)`,"--variant-plainDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-outlinedColor":`rgba(${o(`palette-${t}-mainChannel`)} / 1)`,"--variant-outlinedBorder":`rgba(${o(`palette-${t}-mainChannel`)} / 0.4)`,"--variant-outlinedHoverColor":o(`palette-${t}-600`),"--variant-outlinedHoverBorder":o(`palette-${t}-300`),"--variant-outlinedHoverBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-outlinedActiveBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.24)`,"--variant-outlinedDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-outlinedDisabledBorder":`rgba(${o(`palette-${t}-mainChannel`)} / 0.12)`,"--variant-softColor":o(`palette-${t}-600`),"--variant-softBg":`rgba(${o(`palette-${t}-lightChannel`)} / 0.8)`,"--variant-softHoverColor":o(`palette-${t}-700`),"--variant-softHoverBg":o(`palette-${t}-200`),"--variant-softActiveBg":o(`palette-${t}-300`),"--variant-softDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-softDisabledBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.08)`,"--variant-solidColor":o("palette-common-white"),"--variant-solidBg":o(`palette-${t}-${t==="neutral"?"700":"500"}`),"--variant-solidHoverColor":o("palette-common-white"),"--variant-solidHoverBg":o(`palette-${t}-600`),"--variant-solidActiveBg":o(`palette-${t}-600`),"--variant-solidDisabledColor":`rgba(${o(`palette-${t}-mainChannel`)} / 0.6)`,"--variant-solidDisabledBg":`rgba(${o(`palette-${t}-mainChannel`)} / 0.08)`}},[`&, & [${Nw}]`]:ez(n)}},tz=D.createContext(void 0);function Gge(t,e){let n=e,r=t;return t==="outlined"&&(n="neutral",r="plain"),t==="plain"&&(n="neutral"),{variant:r,color:n}}function Qge(t,e,n=!1){const r=D.useContext(tz),[i,o]=typeof r=="string"?r.split(":"):[],s=Gge(i||void 0,o||void 0);return s.variant=t||s.variant,s.color=e||(n?o:s.color),s}function Yge({children:t,color:e,variant:n}){return E.jsx(tz.Provider,{value:`${n||""}:${e||""}`,children:t})}function Xge(t){return Nc("MuiIconButton",t)}au("MuiIconButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","loading","loadingIndicator"]);const dR=D.createContext({}),nz=D.createContext(void 0);function Jge(t){return Nc("MuiCircularProgress",t)}au("MuiCircularProgress",["root","determinate","svg","track","progress","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft","variantSolid"]);let Zge=t=>t,g$;const eve=["color","backgroundColor"],tve=["children","className","color","size","variant","thickness","determinate","value","component","slots","slotProps"],nve=Cf({"0%":{transform:"rotate(-90deg)"},"100%":{transform:"rotate(270deg)"}}),rve=t=>{const{determinate:e,color:n,variant:r,size:i}=t,o={root:["root",e&&"determinate",n&&`color${Ge(n)}`,r&&`variant${Ge(r)}`,i&&`size${Ge(i)}`],svg:["svg"],track:["track"],progress:["progress"]};return wt(o,Jge,{})};function ih(t,e){return`var(--CircularProgress-${t}Thickness, var(--CircularProgress-thickness, ${e}))`}const ive=Yn("span",{name:"JoyCircularProgress",slot:"Root",overridesResolver:(t,e)=>e.root})(({ownerState:t,theme:e})=>{var n,r,i,o;const s=((n=e.variants[t.variant])==null?void 0:n[t.color])||{},{color:a,backgroundColor:l}=s,u=Fe(s,eve);return q({"--Icon-fontSize":"calc(0.4 * var(--_root-size))","--CircularProgress-trackColor":l,"--CircularProgress-progressColor":a,"--CircularProgress-percent":t.value,"--CircularProgress-linecap":"round"},t.size==="sm"&&{"--_root-size":"var(--CircularProgress-size, 24px)","--_track-thickness":ih("track","3px"),"--_progress-thickness":ih("progress","3px")},t.instanceSize==="sm"&&{"--CircularProgress-size":"24px"},t.size==="md"&&{"--_track-thickness":ih("track","6px"),"--_progress-thickness":ih("progress","6px"),"--_root-size":"var(--CircularProgress-size, 40px)"},t.instanceSize==="md"&&{"--CircularProgress-size":"40px"},t.size==="lg"&&{"--_track-thickness":ih("track","8px"),"--_progress-thickness":ih("progress","8px"),"--_root-size":"var(--CircularProgress-size, 64px)"},t.instanceSize==="lg"&&{"--CircularProgress-size":"64px"},t.thickness&&{"--_track-thickness":`${t.thickness}px`,"--_progress-thickness":`${t.thickness}px`},{"--_thickness-diff":"calc(var(--_track-thickness) - var(--_progress-thickness))","--_inner-size":"calc(var(--_root-size) - 2 * var(--variant-borderWidth, 0px))","--_outlined-inset":"max(var(--_track-thickness), var(--_progress-thickness))",width:"var(--_root-size)",height:"var(--_root-size)",borderRadius:"var(--_root-size)",margin:"var(--CircularProgress-margin)",boxSizing:"border-box",display:"inline-flex",justifyContent:"center",alignItems:"center",flexShrink:0,position:"relative",color:a},t.children&&{fontFamily:e.vars.fontFamily.body,fontWeight:e.vars.fontWeight.md,fontSize:"calc(0.2 * var(--_root-size))"},u,t.variant==="outlined"&&{"&::before":q({content:'""',display:"block",position:"absolute",borderRadius:"inherit",top:"var(--_outlined-inset)",left:"var(--_outlined-inset)",right:"var(--_outlined-inset)",bottom:"var(--_outlined-inset)"},u)},t.variant==="soft"&&{"--CircularProgress-trackColor":e.variants.soft.neutral.backgroundColor,"--CircularProgress-progressColor":(r=e.variants.solid)==null?void 0:r[t.color].backgroundColor},t.variant==="solid"&&{"--CircularProgress-trackColor":(i=e.variants.softHover)==null?void 0:i[t.color].backgroundColor,"--CircularProgress-progressColor":(o=e.variants.solid)==null?void 0:o[t.color].backgroundColor})}),ove=Yn("svg",{name:"JoyCircularProgress",slot:"Svg",overridesResolver:(t,e)=>e.svg})({width:"inherit",height:"inherit",display:"inherit",boxSizing:"inherit",position:"absolute",top:"calc(-1 * var(--variant-borderWidth, 0px))",left:"calc(-1 * var(--variant-borderWidth, 0px))"}),sve=Yn("circle",{name:"JoyCircularProgress",slot:"track",overridesResolver:(t,e)=>e.track})({cx:"50%",cy:"50%",r:"calc(var(--_inner-size) / 2 - var(--_track-thickness) / 2 + min(0px, var(--_thickness-diff) / 2))",fill:"transparent",strokeWidth:"var(--_track-thickness)",stroke:"var(--CircularProgress-trackColor)"}),ave=Yn("circle",{name:"JoyCircularProgress",slot:"progress",overridesResolver:(t,e)=>e.progress})({"--_progress-radius":"calc(var(--_inner-size) / 2 - var(--_progress-thickness) / 2 - max(0px, var(--_thickness-diff) / 2))","--_progress-length":"calc(2 * 3.1415926535 * var(--_progress-radius))",cx:"50%",cy:"50%",r:"var(--_progress-radius)",fill:"transparent",strokeWidth:"var(--_progress-thickness)",stroke:"var(--CircularProgress-progressColor)",strokeLinecap:"var(--CircularProgress-linecap, round)",strokeDasharray:"var(--_progress-length)",strokeDashoffset:"calc(var(--_progress-length) - var(--CircularProgress-percent) * var(--_progress-length) / 100)",transformOrigin:"center",transform:"rotate(-90deg)"},({ownerState:t})=>!t.determinate&&ny(g$||(g$=Zge`
      animation: var(--CircularProgress-circulation, 0.8s linear 0s infinite normal none running)
        ${0};
    `),nve)),fR=D.forwardRef(function(e,n){const r=kf({props:e,name:"JoyCircularProgress"}),{children:i,className:o,color:s="primary",size:a="md",variant:l="soft",thickness:u,determinate:c=!1,value:f=c?0:25,component:h,slots:p={},slotProps:g={}}=r,_=Fe(r,tve),w=q({},r,{color:s,size:a,variant:l,thickness:u,value:f,determinate:c,instanceSize:e.size}),b=rve(w),v=q({},_,{component:h,slots:p,slotProps:g}),[y,x]=Qr("root",{ref:n,className:st(b.root,o),elementType:ive,externalForwardedProps:v,ownerState:w,additionalProps:q({role:"progressbar",style:{"--CircularProgress-percent":f}},f&&c&&{"aria-valuenow":Math.round(typeof f=="number"?f:Number(f||0))})}),[I,O]=Qr("svg",{className:b.svg,elementType:ove,externalForwardedProps:v,ownerState:w}),[S,C]=Qr("track",{className:b.track,elementType:sve,externalForwardedProps:v,ownerState:w}),[k,P]=Qr("progress",{className:b.progress,elementType:ave,externalForwardedProps:v,ownerState:w});return E.jsxs(y,q({},x,{children:[E.jsxs(I,q({},O,{children:[E.jsx(S,q({},C)),E.jsx(k,q({},P))]})),i]}))}),lve=["children","action","component","color","disabled","variant","loading","loadingIndicator","size","slots","slotProps"],uve=t=>{const{color:e,disabled:n,focusVisible:r,focusVisibleClassName:i,size:o,variant:s,loading:a}=t,l={root:["root",n&&"disabled",r&&"focusVisible",s&&`variant${Ge(s)}`,e&&`color${Ge(e)}`,o&&`size${Ge(o)}`,a&&"loading"],loadingIndicator:["loadingIndicator"]},u=wt(l,Xge,{});return r&&i&&(u.root+=` ${i}`),u},cve=Yn("button")(({theme:t,ownerState:e})=>{var n,r,i,o;return[q({"--Icon-margin":"initial","--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon},e.instanceSize&&{"--IconButton-size":{sm:"2rem",md:"2.25rem",lg:"2.75rem"}[e.instanceSize]},e.size==="sm"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2rem) / 1.6)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2rem)",minHeight:"var(--IconButton-size, 2rem)",fontSize:t.vars.fontSize.sm,paddingInline:"2px"},e.size==="md"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.25rem) / 1.5)","--CircularProgress-size":"20px","--CircularProgress-thickness":"2px",minWidth:"var(--IconButton-size, 2.25rem)",minHeight:"var(--IconButton-size, 2.25rem)",fontSize:t.vars.fontSize.md,paddingInline:"0.25rem"},e.size==="lg"&&{"--Icon-fontSize":"calc(var(--IconButton-size, 2.75rem) / 1.571)","--CircularProgress-size":"28px","--CircularProgress-thickness":"4px",minWidth:"var(--IconButton-size, 2.75rem)",minHeight:"var(--IconButton-size, 2.75rem)",fontSize:t.vars.fontSize.lg,paddingInline:"0.375rem"},{WebkitTapHighlightColor:"transparent",paddingBlock:0,fontFamily:t.vars.fontFamily.body,fontWeight:t.vars.fontWeight.md,margin:"var(--IconButton-margin)",borderRadius:`var(--IconButton-radius, ${t.vars.radius.sm})`,border:"none",boxSizing:"border-box",backgroundColor:"transparent",cursor:"pointer",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",[t.focus.selector]:q({"--Icon-color":"currentColor"},t.focus.default)}),q({},(n=t.variants[e.variant])==null?void 0:n[e.color],{"&:hover":{"@media (hover: hover)":q({"--Icon-color":"currentColor"},(r=t.variants[`${e.variant}Hover`])==null?void 0:r[e.color])},'&:active, &[aria-pressed="true"]':q({"--Icon-color":"currentColor"},(i=t.variants[`${e.variant}Active`])==null?void 0:i[e.color]),"&:disabled":(o=t.variants[`${e.variant}Disabled`])==null?void 0:o[e.color]})]}),dve=Yn(cve,{name:"JoyIconButton",slot:"Root",overridesResolver:(t,e)=>e.root})({}),fve=Yn("span",{name:"JoyIconButton",slot:"LoadingIndicator",overridesResolver:(t,e)=>e.loadingIndicator})(({theme:t,ownerState:e})=>{var n,r;return q({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(n=t.variants[e.variant])==null||(n=n[e.color])==null?void 0:n.color},e.disabled&&{color:(r=t.variants[`${e.variant}Disabled`])==null||(r=r[e.color])==null?void 0:r.color})}),rz=D.forwardRef(function(e,n){var r;const i=kf({props:e,name:"JoyIconButton"}),{children:o,action:s,component:a="button",color:l="neutral",disabled:u,variant:c="plain",loading:f=!1,loadingIndicator:h,size:p="md",slots:g={},slotProps:_={}}=i,w=Fe(i,lve),b=D.useContext(dR),v=D.useContext(nz),y=e.variant||b.variant||c,x=e.size||b.size||p,I=e.color||b.color||l,O=(r=e.loading||e.disabled)!=null?r:b.disabled||f||u,S=D.useRef(null),C=en(S,n),{focusVisible:k,setFocusVisible:P,getRootProps:R}=jx(q({},i,{disabled:O,rootRef:C})),L=h??E.jsx(fR,{color:I,thickness:{sm:2,md:3,lg:4}[x]||3});D.useImperativeHandle(s,()=>({focusVisible:()=>{var U;P(!0),(U=S.current)==null||U.focus()}}),[P]);const N=q({},i,{component:a,color:I,disabled:O,variant:y,loading:f,size:x,focusVisible:k,instanceSize:e.size}),V=uve(N),F=U=>{var K;let ne=i.onClick;if(typeof _.root=="function"?ne=_.root(N).onClick:_.root&&(ne=_.root.onClick),(K=ne)==null||K(U),v){var oe;(oe=v.onClick)==null||oe.call(v,U,i.value)}};let z=i["aria-pressed"];typeof _.root=="function"?z=_.root(N)["aria-pressed"]:_.root&&(z=_.root["aria-pressed"]),v!=null&&v.value&&(Array.isArray(v.value)?z=v.value.indexOf(i.value)!==-1:z=v.value===i.value);const B=q({},w,{component:a,slots:g,slotProps:_}),[W,Q]=Qr("root",{ref:n,className:V.root,elementType:dve,getSlotProps:R,externalForwardedProps:B,ownerState:N,additionalProps:{onClick:F,"aria-pressed":z}}),[G,j]=Qr("loadingIndicator",{className:V.loadingIndicator,elementType:fve,externalForwardedProps:B,ownerState:N});return E.jsx(W,q({},Q,{children:f?E.jsx(G,q({},j,{children:L})):o}))});rz.muiName="IconButton";const hve=D.createContext(void 0),pve=["aria-describedby","aria-label","aria-labelledby","autoComplete","autoFocus","className","defaultValue","disabled","disabledInProp","error","id","name","onClick","onChange","onKeyDown","onKeyUp","onFocus","onBlur","placeholder","readOnly","required","type","value"];function mve(t,e){var n;const r=D.useContext(hve),{"aria-describedby":i,"aria-label":o,"aria-labelledby":s,autoComplete:a,autoFocus:l,className:u,defaultValue:c,disabled:f,disabledInProp:h,error:p,id:g,name:_,onClick:w,onChange:b,onKeyDown:v,onKeyUp:y,onFocus:x,onBlur:I,placeholder:O,readOnly:S,required:C,type:k,value:P}=t,R=Fe(t,pve),{getRootProps:L,getInputProps:N,focused:V,error:F,disabled:z}=Xhe({disabled:(n=h??(r==null?void 0:r.disabled))!=null?n:f,defaultValue:c,error:p,onBlur:I,onClick:w,onChange:b,onFocus:x,required:C??(r==null?void 0:r.required),value:P}),B={[e.disabled]:z,[e.error]:F,[e.focused]:V,[e.formControl]:!!r,[u]:u},W={[e.disabled]:z};return q({formControl:r,propsToForward:{"aria-describedby":i,"aria-label":o,"aria-labelledby":s,autoComplete:a,autoFocus:l,disabled:z,id:g,onKeyDown:v,onKeyUp:y,name:_,placeholder:O,readOnly:S,type:k},rootStateClasses:B,inputStateClasses:W,getRootProps:L,getInputProps:N,focused:V,error:F,disabled:z},R)}function gve(t){return Nc("MuiButton",t)}const v$=au("MuiButton",["root","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","focusVisible","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]),vve=["children","action","color","variant","size","fullWidth","startDecorator","endDecorator","loading","loadingPosition","loadingIndicator","disabled","component","slots","slotProps"],yve=t=>{const{color:e,disabled:n,focusVisible:r,focusVisibleClassName:i,fullWidth:o,size:s,variant:a,loading:l}=t,u={root:["root",n&&"disabled",r&&"focusVisible",o&&"fullWidth",a&&`variant${Ge(a)}`,e&&`color${Ge(e)}`,s&&`size${Ge(s)}`,l&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]},c=wt(u,gve,{});return r&&i&&(c.root+=` ${i}`),c},bve=Yn("span",{name:"JoyButton",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),_ve=Yn("span",{name:"JoyButton",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),wve=Yn("span",{name:"JoyButton",slot:"LoadingCenter",overridesResolver:(t,e)=>e.loadingIndicatorCenter})(({theme:t,ownerState:e})=>{var n,r;return q({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(n=t.variants[e.variant])==null||(n=n[e.color])==null?void 0:n.color},e.disabled&&{color:(r=t.variants[`${e.variant}Disabled`])==null||(r=r[e.color])==null?void 0:r.color})}),iz=({theme:t,ownerState:e})=>{var n,r,i,o;return[q({"--Icon-margin":"initial","--Icon-color":e.color!=="neutral"||e.variant==="solid"?"currentColor":t.vars.palette.text.icon},e.size==="sm"&&{"--Icon-fontSize":t.vars.fontSize.lg,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.375rem",minHeight:"var(--Button-minHeight, 2rem)",fontSize:t.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.25rem)",paddingInline:"0.75rem"},e.size==="md"&&{"--Icon-fontSize":t.vars.fontSize.xl,"--CircularProgress-size":"20px","--CircularProgress-thickness":"2px","--Button-gap":"0.5rem",minHeight:"var(--Button-minHeight, 2.25rem)",fontSize:t.vars.fontSize.sm,paddingBlock:"var(--Button-paddingBlock, 0.375rem)",paddingInline:"1rem"},e.size==="lg"&&{"--Icon-fontSize":t.vars.fontSize.xl2,"--CircularProgress-size":"28px","--CircularProgress-thickness":"4px","--Button-gap":"0.75rem",minHeight:"var(--Button-minHeight, 2.75rem)",fontSize:t.vars.fontSize.md,paddingBlock:"var(--Button-paddingBlock, 0.5rem)",paddingInline:"1.5rem"},{WebkitTapHighlightColor:"transparent",boxSizing:"border-box",borderRadius:`var(--Button-radius, ${t.vars.radius.sm})`,margin:"var(--Button-margin)",border:"none",backgroundColor:"transparent",cursor:"pointer",userSelect:"none",display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",textDecoration:"none",fontFamily:t.vars.fontFamily.body,fontWeight:t.vars.fontWeight.lg,lineHeight:t.vars.lineHeight.md},e.fullWidth&&{width:"100%"},{[t.focus.selector]:t.focus.default}),q({},(n=t.variants[e.variant])==null?void 0:n[e.color],{"&:hover":{"@media (hover: hover)":(r=t.variants[`${e.variant}Hover`])==null?void 0:r[e.color]},'&:active, &[aria-pressed="true"]':(i=t.variants[`${e.variant}Active`])==null?void 0:i[e.color],[`&.${v$.disabled}`]:(o=t.variants[`${e.variant}Disabled`])==null?void 0:o[e.color]},e.loadingPosition==="center"&&{[`&.${v$.loading}`]:{color:"transparent"}})]},xve=Yn("button",{name:"JoyButton",slot:"Root",overridesResolver:(t,e)=>e.root})(iz),uy=D.forwardRef(function(e,n){var r;const i=kf({props:e,name:"JoyButton"}),{children:o,action:s,color:a="primary",variant:l="solid",size:u="md",fullWidth:c=!1,startDecorator:f,endDecorator:h,loading:p=!1,loadingPosition:g="center",loadingIndicator:_,disabled:w,component:b,slots:v={},slotProps:y={}}=i,x=Fe(i,vve),I=D.useContext(dR),O=D.useContext(nz),S=e.variant||I.variant||l,C=e.size||I.size||u,k=e.color||I.color||a,P=(r=e.loading||e.disabled)!=null?r:I.disabled||p||w,R=D.useRef(null),L=en(R,n),{focusVisible:N,setFocusVisible:V,getRootProps:F}=jx(q({},i,{disabled:P,rootRef:L})),z=_??E.jsx(fR,{color:k,thickness:{sm:2,md:3,lg:4}[C]||3});D.useImperativeHandle(s,()=>({focusVisible:()=>{var te;V(!0),(te=R.current)==null||te.focus()}}),[V]);const B=q({},i,{color:k,fullWidth:c,variant:S,size:C,focusVisible:N,loading:p,loadingPosition:g,disabled:P}),W=yve(B),Q=te=>{var fe;let be=i.onClick;if(typeof y.root=="function"?be=y.root(B).onClick:y.root&&(be=y.root.onClick),(fe=be)==null||fe(te),O){var ve;(ve=O.onClick)==null||ve.call(O,te,i.value)}};let G=i["aria-pressed"];typeof y.root=="function"?G=y.root(B)["aria-pressed"]:y.root&&(G=y.root["aria-pressed"]),O!=null&&O.value&&(Array.isArray(O.value)?G=O.value.indexOf(i.value)!==-1:G=O.value===i.value);const j=q({},x,{component:b,slots:v,slotProps:y}),[U,K]=Qr("root",{ref:n,className:W.root,elementType:xve,externalForwardedProps:j,getSlotProps:F,ownerState:B,additionalProps:{onClick:Q,"aria-pressed":G}}),[ne,oe]=Qr("startDecorator",{className:W.startDecorator,elementType:bve,externalForwardedProps:j,ownerState:B}),[X,Z]=Qr("endDecorator",{className:W.endDecorator,elementType:_ve,externalForwardedProps:j,ownerState:B}),[re,ue]=Qr("loadingIndicatorCenter",{className:W.loadingIndicatorCenter,elementType:wve,externalForwardedProps:j,ownerState:B});return E.jsxs(U,q({},K,{children:[(f||p&&g==="start")&&E.jsx(ne,q({},oe,{children:p&&g==="start"?z:f})),o,p&&g==="center"&&E.jsx(re,q({},ue,{children:z})),(h||p&&g==="end")&&E.jsx(X,q({},Z,{children:p&&g==="end"?z:h}))]}))});uy.muiName="Button";function Eve(t){return Nc("MuiMenu",t)}au("MuiMenu",["root","listbox","expanded","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","sizeSm","sizeMd","sizeLg"]);const Ive=["actions","children","color","component","disablePortal","keepMounted","id","invertedColors","onItemsChange","modifiers","variant","size","slots","slotProps"],Tve=t=>{const{open:e,variant:n,color:r,size:i}=t,o={root:["root",e&&"expanded",n&&`variant${Ge(n)}`,r&&`color${Ge(r)}`,i&&`size${Ge(i)}`],listbox:["listbox"]};return wt(o,Eve,{})},y$=Yn(X9,{name:"JoyMenu",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var n,r;const i=(n=t.variants[e.variant])==null?void 0:n[e.color];return[q({"--focus-outline-offset":`calc(${t.vars.focus.thickness} * -1)`,"--ListItem-stickyBackground":(i==null?void 0:i.backgroundColor)||(i==null?void 0:i.background)||t.vars.palette.background.popup,"--ListItem-stickyTop":"calc(var(--List-padding, var(--ListDivider-gap)) * -1)"},Vge,{borderRadius:`var(--List-radius, ${t.vars.radius.sm})`,boxShadow:t.shadow.md,overflow:"auto",zIndex:`var(--unstable_popup-zIndex, ${t.vars.zIndex.popup})`},!(i!=null&&i.backgroundColor)&&{backgroundColor:t.vars.palette.background.popup},e.variant==="solid"&&e.color&&e.invertedColors&&Wge(e.color)(t),e.variant==="soft"&&e.color&&e.invertedColors&&Kge(e.color)(t),(r=t.variants[e.variant])==null?void 0:r[e.color])]}),ia=D.forwardRef(function(e,n){var r;const i=kf({props:e,name:"JoyMenu"}),{actions:o,children:s,color:a="neutral",component:l,disablePortal:u=!1,keepMounted:c=!1,id:f,invertedColors:h=!1,onItemsChange:p,modifiers:g,variant:_="outlined",size:w="md",slots:b={},slotProps:v={}}=i,y=Fe(i,Ive),{contextValue:x,getListboxProps:I,dispatch:O,open:S,triggerElement:C}=d9({onItemsChange:p,id:f,listboxRef:n});D.useImperativeHandle(o,()=>({dispatch:O,resetHighlight:()=>O({type:cr.resetHighlight,event:null})}),[O]);const k=q({},i,{disablePortal:u,invertedColors:h,color:a,variant:_,size:w,open:S,nesting:!1,row:!1}),P=Tve(k),R=q({},y,{component:l,slots:b,slotProps:v}),L=D.useMemo(()=>[{name:"offset",options:{offset:[0,4]}},...g||[]],[g]),N=hf({elementType:y$,getSlotProps:I,externalForwardedProps:R,externalSlotProps:{},ownerState:k,additionalProps:{anchorEl:C,open:S&&C!==null,disablePortal:u,keepMounted:c,modifiers:L},className:P.root});return E.jsx(y$,q({},N,!((r=i.slots)!=null&&r.root)&&{as:Age,slots:{root:l||"ul"}},{children:E.jsx(xC,{value:x,children:E.jsx(Yge,{variant:h?void 0:_,color:a,children:E.jsx(Fge.Provider,{value:"menu",children:E.jsx(Uge,{nested:!0,children:s})})})})}))});function Sve(t){return Nc("MuiMenuButton",t)}au("MuiMenuButton",["root","colorPrimary","colorNeutral","colorDanger","colorInfo","colorSuccess","colorWarning","colorContext","variantPlain","variantOutlined","variantSoft","variantSolid","disabled","sizeSm","sizeMd","sizeLg","fullWidth","startDecorator","endDecorator","loading","loadingIndicatorCenter"]);const Cve=["children","color","component","disabled","endDecorator","loading","loadingPosition","loadingIndicator","size","slotProps","slots","startDecorator","variant"],Pve=t=>{const{color:e,disabled:n,fullWidth:r,size:i,variant:o,loading:s}=t,a={root:["root",n&&"disabled",r&&"fullWidth",o&&`variant${Ge(o)}`,e&&`color${Ge(e)}`,i&&`size${Ge(i)}`,s&&"loading"],startDecorator:["startDecorator"],endDecorator:["endDecorator"],loadingIndicatorCenter:["loadingIndicatorCenter"]};return wt(a,Sve,{})},kve=Yn("button",{name:"JoyMenuButton",slot:"Root",overridesResolver:(t,e)=>e.root})(iz),Ave=Yn("span",{name:"JoyMenuButton",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({"--Icon-margin":"0 0 0 calc(var(--Button-gap) / -2)","--CircularProgress-margin":"0 0 0 calc(var(--Button-gap) / -2)",display:"inherit",marginRight:"var(--Button-gap)"}),Rve=Yn("span",{name:"JoyMenuButton",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({"--Icon-margin":"0 calc(var(--Button-gap) / -2) 0 0","--CircularProgress-margin":"0 calc(var(--Button-gap) / -2) 0 0",display:"inherit",marginLeft:"var(--Button-gap)"}),Ove=Yn("span",{name:"JoyMenuButton",slot:"LoadingCenter",overridesResolver:(t,e)=>e.loadingIndicatorCenter})(({theme:t,ownerState:e})=>{var n,r;return q({display:"inherit",position:"absolute",left:"50%",transform:"translateX(-50%)",color:(n=t.variants[e.variant])==null||(n=n[e.color])==null?void 0:n.color},e.disabled&&{color:(r=t.variants[`${e.variant}Disabled`])==null||(r=r[e.color])==null?void 0:r.color})}),kd=D.forwardRef(function(e,n){var r;const i=kf({props:e,name:"JoyMenuButton"}),{children:o,color:s="neutral",component:a,disabled:l=!1,endDecorator:u,loading:c=!1,loadingPosition:f="center",loadingIndicator:h,size:p="md",slotProps:g={},slots:_={},startDecorator:w,variant:b="outlined"}=i,v=Fe(i,Cve),y=D.useContext(dR),x=e.variant||y.variant||b,I=e.size||y.size||p,O=(r=e.disabled)!=null?r:y.disabled||l||c,{getRootProps:S,open:C,active:k}=T9({rootRef:n,disabled:O}),P=h??E.jsx(fR,{color:s,thickness:{sm:2,md:3,lg:4}[I]||3}),R=q({},i,{active:k,color:s,disabled:O,open:C,size:I,variant:x}),L=Pve(R),N=q({},v,{component:a,slots:_,slotProps:g}),[V,F]=Qr("root",{elementType:kve,getSlotProps:S,externalForwardedProps:N,ref:n,ownerState:R,className:L.root}),[z,B]=Qr("startDecorator",{className:L.startDecorator,elementType:Ave,externalForwardedProps:N,ownerState:R}),[W,Q]=Qr("endDecorator",{className:L.endDecorator,elementType:Rve,externalForwardedProps:N,ownerState:R}),[G,j]=Qr("loadingIndicatorCenter",{className:L.loadingIndicatorCenter,elementType:Ove,externalForwardedProps:N,ownerState:R});return E.jsxs(V,q({},F,{children:[(w||c&&f==="start")&&E.jsx(z,q({},B,{children:c&&f==="start"?P:w})),o,c&&f==="center"&&E.jsx(G,q({},j,{children:P})),(u||c&&f==="end")&&E.jsx(W,q({},Q,{children:c&&f==="end"?P:u}))]}))});function Nve(t){return Nc("MuiMenuItem",t)}au("MuiMenuItem",["root","focusVisible","disabled","selected","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","variantPlain","variantSoft","variantOutlined","variantSolid"]);const Lve=["children","disabled","component","selected","color","orientation","variant","slots","slotProps","id"],Dve=t=>{const{focusVisible:e,disabled:n,selected:r,color:i,variant:o}=t,s={root:["root",e&&"focusVisible",n&&"disabled",r&&"selected",i&&`color${Ge(i)}`,o&&`variant${Ge(o)}`]};return wt(s,Nve,{})},jve=Yn(J9,{name:"JoyMenuItem",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$ve=D.memo(D.forwardRef(function(e,n){const r=kf({props:e,name:"JoyMenuItem"}),i=D.useContext(Y9),{children:o,disabled:s=!1,component:a="li",selected:l=!1,color:u="neutral",orientation:c="horizontal",variant:f="plain",slots:h={},slotProps:p={},id:g}=r,_=Fe(r,Lve),{variant:w=f,color:b=u}=Qge(e.variant,e.color),{getRootProps:v,disabled:y,focusVisible:x}=P9({id:g,disabled:s,rootRef:n}),I=q({},r,{component:a,color:b,disabled:y,focusVisible:x,orientation:c,selected:l,row:i,variant:w}),O=Dve(I),S=q({},_,{component:a,slots:h,slotProps:p}),[C,k]=Qr("root",{ref:n,elementType:jve,getSlotProps:v,externalForwardedProps:S,className:O.root,ownerState:I});return E.jsx(qge.Provider,{value:c,children:E.jsx(C,q({},k,{children:o}))})})),er=D.forwardRef(function(e,n){const{contextValue:r,id:i}=k9(e.id);return E.jsx(Yy.Provider,{value:r,children:E.jsx($ve,q({},e,{id:i,ref:n}))})});function Mve(t){return Nc("MuiTextarea",t)}const oz=au("MuiTextarea",["root","textarea","startDecorator","endDecorator","formControl","disabled","error","focused","colorPrimary","colorNeutral","colorDanger","colorSuccess","colorWarning","colorContext","sizeSm","sizeMd","sizeLg","variantPlain","variantOutlined","variantSoft"]),Bve=["propsToForward","rootStateClasses","inputStateClasses","getRootProps","getInputProps","formControl","focused","error","disabled","size","color","variant","startDecorator","endDecorator","minRows","maxRows","component","slots","slotProps"],Fve=t=>{const{disabled:e,variant:n,color:r,size:i}=t,o={root:["root",e&&"disabled",n&&`variant${Ge(n)}`,r&&`color${Ge(r)}`,i&&`size${Ge(i)}`],textarea:["textarea"],startDecorator:["startDecorator"],endDecorator:["endDecorator"]};return wt(o,Mve,{})},Vve=Yn("div",{name:"JoyTextarea",slot:"Root",overridesResolver:(t,e)=>e.root})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a;const l=(n=t.variants[`${e.variant}`])==null?void 0:n[e.color];return[q({"--Textarea-radius":t.vars.radius.sm,"--Textarea-gap":"0.5rem","--Textarea-placeholderColor":"inherit","--Textarea-placeholderOpacity":.64,"--Textarea-decoratorColor":t.vars.palette.text.icon,"--Textarea-focused":"0","--Textarea-focusedThickness":t.vars.focus.thickness,"--Textarea-focusedHighlight":(r=t.vars.palette[e.color==="neutral"?"primary":e.color])==null?void 0:r[500],'&:not([data-inverted-colors="false"])':q({},e.instanceColor&&{"--_Textarea-focusedHighlight":(i=t.vars.palette[e.instanceColor==="neutral"?"primary":e.instanceColor])==null?void 0:i[500]},{"--Textarea-focusedHighlight":`var(--_Textarea-focusedHighlight, ${t.vars.palette.focusVisible})`})},e.size==="sm"&&{"--Textarea-minHeight":"2rem","--Textarea-paddingBlock":"calc(0.375rem - 0.5px - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.5rem","--Textarea-decoratorChildHeight":"min(1.5rem, var(--Textarea-minHeight))","--Icon-fontSize":t.vars.fontSize.xl},e.size==="md"&&{"--Textarea-minHeight":"2.25rem","--Textarea-paddingBlock":"calc(0.375rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"0.75rem","--Textarea-decoratorChildHeight":"min(1.75rem, var(--Textarea-minHeight))","--Icon-fontSize":t.vars.fontSize.xl2},e.size==="lg"&&{"--Textarea-minHeight":"3rem","--Textarea-paddingBlock":"calc(0.75rem - var(--variant-borderWidth, 0px))","--Textarea-paddingInline":"1rem","--Textarea-gap":"0.75rem","--Textarea-decoratorChildHeight":"min(2.375rem, var(--Textarea-minHeight))","--Icon-fontSize":t.vars.fontSize.xl2},{"--_Textarea-paddingBlock":"max((var(--Textarea-minHeight) - 2 * var(--variant-borderWidth, 0px) - var(--Textarea-decoratorChildHeight)) / 2, 0px)","--Textarea-decoratorChildRadius":"max(var(--Textarea-radius) - var(--variant-borderWidth, 0px) - var(--_Textarea-paddingBlock), min(var(--_Textarea-paddingBlock) + var(--variant-borderWidth, 0px), var(--Textarea-radius) / 2))","--Button-minHeight":"var(--Textarea-decoratorChildHeight)","--Button-paddingBlock":"0px","--IconButton-size":"var(--Textarea-decoratorChildHeight)","--Button-radius":"var(--Textarea-decoratorChildRadius)","--IconButton-radius":"var(--Textarea-decoratorChildRadius)",boxSizing:"border-box"},e.variant!=="plain"&&{boxShadow:t.shadow.xs},{minWidth:0,minHeight:"var(--Textarea-minHeight)",cursor:"text",position:"relative",display:"flex",flexDirection:"column",paddingInlineStart:"var(--Textarea-paddingInline)",paddingBlock:"var(--Textarea-paddingBlock)",borderRadius:"var(--Textarea-radius)"},t.typography[`body-${e.size}`],l,{backgroundColor:(o=l==null?void 0:l.backgroundColor)!=null?o:t.vars.palette.background.surface,"&::before":{boxSizing:"border-box",content:'""',display:"block",position:"absolute",pointerEvents:"none",top:0,left:0,right:0,bottom:0,zIndex:1,borderRadius:"inherit",margin:"calc(var(--variant-borderWidth, 0px) * -1)",boxShadow:"var(--Textarea-focusedInset, inset) 0 0 0 calc(var(--Textarea-focused) * var(--Textarea-focusedThickness)) var(--Textarea-focusedHighlight)"}}),{"&:hover":q({},(s=t.variants[`${e.variant}Hover`])==null?void 0:s[e.color],{backgroundColor:null,cursor:"text"}),[`&.${oz.disabled}`]:(a=t.variants[`${e.variant}Disabled`])==null?void 0:a[e.color],"&:focus-within::before":{"--Textarea-focused":"1"}}]}),Uve=Yn(uR,{name:"JoyTextarea",slot:"Textarea",overridesResolver:(t,e)=>e.textarea})({resize:"none",border:"none",minWidth:0,outline:0,padding:0,paddingInlineEnd:"var(--Textarea-paddingInline)",flex:"auto",alignSelf:"stretch",color:"inherit",backgroundColor:"transparent",fontFamily:"inherit",fontSize:"inherit",fontStyle:"inherit",fontWeight:"inherit",lineHeight:"inherit","&::-webkit-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-moz-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&:-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"},"&::-ms-input-placeholder":{color:"var(--Textarea-placeholderColor)",opacity:"var(--Textarea-placeholderOpacity)"}}),zve=Yn("div",{name:"JoyTextarea",slot:"StartDecorator",overridesResolver:(t,e)=>e.startDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockEnd:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),qve=Yn("div",{name:"JoyTextarea",slot:"EndDecorator",overridesResolver:(t,e)=>e.endDecorator})({display:"flex",marginInlineStart:"calc(var(--Textarea-paddingBlock) - var(--Textarea-paddingInline))",marginInlineEnd:"var(--Textarea-paddingBlock)",marginBlockStart:"var(--Textarea-gap)",color:"var(--Textarea-decoratorColor)",cursor:"initial"}),Hve=D.forwardRef(function(e,n){var r,i,o,s,a,l,u,c;const f=kf({props:e,name:"JoyTextarea"}),h=mve(f,oz),{propsToForward:p,rootStateClasses:g,inputStateClasses:_,getRootProps:w,getInputProps:b,formControl:v,focused:y,error:x=!1,disabled:I=!1,size:O="md",color:S="neutral",variant:C="outlined",startDecorator:k,endDecorator:P,minRows:R,maxRows:L,component:N,slots:V={},slotProps:F={}}=h,z=Fe(h,Bve),B=(r=(i=e.disabled)!=null?i:v==null?void 0:v.disabled)!=null?r:I,W=(o=(s=e.error)!=null?s:v==null?void 0:v.error)!=null?o:x,Q=(a=(l=e.size)!=null?l:v==null?void 0:v.size)!=null?a:O,G=(u=e.color)!=null?u:W?"danger":(c=v==null?void 0:v.color)!=null?c:S,j=q({instanceColor:W?"danger":e.color},f,{color:G,disabled:B,error:W,focused:y,size:Q,variant:C}),U=Fve(j),K=q({},z,{component:N,slots:V,slotProps:F}),[ne,oe]=Qr("root",{ref:n,className:[U.root,g],elementType:Vve,externalForwardedProps:K,getSlotProps:w,ownerState:j}),[X,Z]=Qr("textarea",{additionalProps:{id:v==null?void 0:v.htmlFor,"aria-describedby":v==null?void 0:v["aria-describedby"]},className:[U.textarea,_],elementType:Uve,internalForwardedProps:q({},p,{minRows:R,maxRows:L}),externalForwardedProps:K,getSlotProps:b,ownerState:j}),[re,ue]=Qr("startDecorator",{className:U.startDecorator,elementType:zve,externalForwardedProps:K,ownerState:j}),[te,fe]=Qr("endDecorator",{className:U.endDecorator,elementType:qve,externalForwardedProps:K,ownerState:j});return E.jsxs(ne,q({},oe,{children:[k&&E.jsx(re,q({},ue,{children:k})),E.jsx(X,q({},Z)),P&&E.jsx(te,q({},fe,{children:P}))]}))}),cy={black:"#000",white:"#fff"},oh={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},sh={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},hd={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},ah={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Sl={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},lg={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Wve={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},qx="$$material";function Kve(t,e){return q({toolbar:{minHeight:56,[t.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[t.up("sm")]:{minHeight:64}}},e)}var Dr={},sz={exports:{}};(function(t){function e(n){return n&&n.__esModule?n:{default:n}}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports})(sz);var Ei=sz.exports;const Gve=Jl(cce),Qve=Jl(Vfe);var az=Ei;Object.defineProperty(Dr,"__esModule",{value:!0});var dr=Dr.alpha=dz;Dr.blend=lye;Dr.colorChannel=void 0;var Yve=Dr.darken=pR;Dr.decomposeColor=Cs;Dr.emphasize=fz;var Xve=Dr.getContrastRatio=rye;Dr.getLuminance=Lw;Dr.hexToRgb=lz;Dr.hslToRgb=cz;var Jve=Dr.lighten=mR;Dr.private_safeAlpha=iye;Dr.private_safeColorChannel=void 0;Dr.private_safeDarken=oye;Dr.private_safeEmphasize=aye;Dr.private_safeLighten=sye;Dr.recomposeColor=pm;Dr.rgbToHex=nye;var b$=az(Gve),Zve=az(Qve);function hR(t,e=0,n=1){return(0,Zve.default)(t,e,n)}function lz(t){t=t.slice(1);const e=new RegExp(`.{1,${t.length>=6?2:1}}`,"g");let n=t.match(e);return n&&n[0].length===1&&(n=n.map(r=>r+r)),n?`rgb${n.length===4?"a":""}(${n.map((r,i)=>i<3?parseInt(r,16):Math.round(parseInt(r,16)/255*1e3)/1e3).join(", ")})`:""}function eye(t){const e=t.toString(16);return e.length===1?`0${e}`:e}function Cs(t){if(t.type)return t;if(t.charAt(0)==="#")return Cs(lz(t));const e=t.indexOf("("),n=t.substring(0,e);if(["rgb","rgba","hsl","hsla","color"].indexOf(n)===-1)throw new Error((0,b$.default)(9,t));let r=t.substring(e+1,t.length-1),i;if(n==="color"){if(r=r.split(" "),i=r.shift(),r.length===4&&r[3].charAt(0)==="/"&&(r[3]=r[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(i)===-1)throw new Error((0,b$.default)(10,i))}else r=r.split(",");return r=r.map(o=>parseFloat(o)),{type:n,values:r,colorSpace:i}}const uz=t=>{const e=Cs(t);return e.values.slice(0,3).map((n,r)=>e.type.indexOf("hsl")!==-1&&r!==0?`${n}%`:n).join(" ")};Dr.colorChannel=uz;const tye=(t,e)=>{try{return uz(t)}catch{return t}};Dr.private_safeColorChannel=tye;function pm(t){const{type:e,colorSpace:n}=t;let{values:r}=t;return e.indexOf("rgb")!==-1?r=r.map((i,o)=>o<3?parseInt(i,10):i):e.indexOf("hsl")!==-1&&(r[1]=`${r[1]}%`,r[2]=`${r[2]}%`),e.indexOf("color")!==-1?r=`${n} ${r.join(" ")}`:r=`${r.join(", ")}`,`${e}(${r})`}function nye(t){if(t.indexOf("#")===0)return t;const{values:e}=Cs(t);return`#${e.map((n,r)=>eye(r===3?Math.round(255*n):n)).join("")}`}function cz(t){t=Cs(t);const{values:e}=t,n=e[0],r=e[1]/100,i=e[2]/100,o=r*Math.min(i,1-i),s=(u,c=(u+n/30)%12)=>i-o*Math.max(Math.min(c-3,9-c,1),-1);let a="rgb";const l=[Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255)];return t.type==="hsla"&&(a+="a",l.push(e[3])),pm({type:a,values:l})}function Lw(t){t=Cs(t);let e=t.type==="hsl"||t.type==="hsla"?Cs(cz(t)).values:t.values;return e=e.map(n=>(t.type!=="color"&&(n/=255),n<=.03928?n/12.92:((n+.055)/1.055)**2.4)),Number((.2126*e[0]+.7152*e[1]+.0722*e[2]).toFixed(3))}function rye(t,e){const n=Lw(t),r=Lw(e);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}function dz(t,e){return t=Cs(t),e=hR(e),(t.type==="rgb"||t.type==="hsl")&&(t.type+="a"),t.type==="color"?t.values[3]=`/${e}`:t.values[3]=e,pm(t)}function iye(t,e,n){try{return dz(t,e)}catch{return t}}function pR(t,e){if(t=Cs(t),e=hR(e),t.type.indexOf("hsl")!==-1)t.values[2]*=1-e;else if(t.type.indexOf("rgb")!==-1||t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]*=1-e;return pm(t)}function oye(t,e,n){try{return pR(t,e)}catch{return t}}function mR(t,e){if(t=Cs(t),e=hR(e),t.type.indexOf("hsl")!==-1)t.values[2]+=(100-t.values[2])*e;else if(t.type.indexOf("rgb")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(255-t.values[n])*e;else if(t.type.indexOf("color")!==-1)for(let n=0;n<3;n+=1)t.values[n]+=(1-t.values[n])*e;return pm(t)}function sye(t,e,n){try{return mR(t,e)}catch{return t}}function fz(t,e=.15){return Lw(t)>.5?pR(t,e):mR(t,e)}function aye(t,e,n){try{return fz(t,e)}catch{return t}}function lye(t,e,n,r=1){const i=(l,u)=>Math.round((l**(1/r)*(1-n)+u**(1/r)*n)**r),o=Cs(t),s=Cs(e),a=[i(o.values[0],s.values[0]),i(o.values[1],s.values[1]),i(o.values[2],s.values[2])];return pm({type:"rgb",values:a})}const uye=["mode","contrastThreshold","tonalOffset"],_$={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:cy.white,default:cy.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},cT={text:{primary:cy.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:cy.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function w$(t,e,n,r){const i=r.light||r,o=r.dark||r*1.5;t[e]||(t.hasOwnProperty(n)?t[e]=t[n]:e==="light"?t.light=Jve(t.main,i):e==="dark"&&(t.dark=Yve(t.main,o)))}function cye(t="light"){return t==="dark"?{main:hd[200],light:hd[50],dark:hd[400]}:{main:hd[700],light:hd[400],dark:hd[800]}}function dye(t="light"){return t==="dark"?{main:sh[200],light:sh[50],dark:sh[400]}:{main:sh[500],light:sh[300],dark:sh[700]}}function fye(t="light"){return t==="dark"?{main:oh[500],light:oh[300],dark:oh[700]}:{main:oh[700],light:oh[400],dark:oh[800]}}function hye(t="light"){return t==="dark"?{main:ah[400],light:ah[300],dark:ah[700]}:{main:ah[700],light:ah[500],dark:ah[900]}}function pye(t="light"){return t==="dark"?{main:Sl[400],light:Sl[300],dark:Sl[700]}:{main:Sl[800],light:Sl[500],dark:Sl[900]}}function mye(t="light"){return t==="dark"?{main:lg[400],light:lg[300],dark:lg[700]}:{main:"#ed6c02",light:lg[500],dark:lg[900]}}function gye(t){const{mode:e="light",contrastThreshold:n=3,tonalOffset:r=.2}=t,i=Fe(t,uye),o=t.primary||cye(e),s=t.secondary||dye(e),a=t.error||fye(e),l=t.info||hye(e),u=t.success||pye(e),c=t.warning||mye(e);function f(_){return Xve(_,cT.text.primary)>=n?cT.text.primary:_$.text.primary}const h=({color:_,name:w,mainShade:b=500,lightShade:v=300,darkShade:y=700})=>{if(_=q({},_),!_.main&&_[b]&&(_.main=_[b]),!_.hasOwnProperty("main"))throw new Error(Ya(11,w?` (${w})`:"",b));if(typeof _.main!="string")throw new Error(Ya(12,w?` (${w})`:"",JSON.stringify(_.main)));return w$(_,"light",v,r),w$(_,"dark",y,r),_.contrastText||(_.contrastText=f(_.main)),_},p={dark:cT,light:_$};return Vr(q({common:q({},cy),mode:e,primary:h({color:o,name:"primary"}),secondary:h({color:s,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:h({color:a,name:"error"}),warning:h({color:c,name:"warning"}),info:h({color:l,name:"info"}),success:h({color:u,name:"success"}),grey:Wve,contrastThreshold:n,getContrastText:f,augmentColor:h,tonalOffset:r},p[e]),i)}const vye=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function yye(t){return Math.round(t*1e5)/1e5}const x$={textTransform:"uppercase"},E$='"Roboto", "Helvetica", "Arial", sans-serif';function bye(t,e){const n=typeof e=="function"?e(t):e,{fontFamily:r=E$,fontSize:i=14,fontWeightLight:o=300,fontWeightRegular:s=400,fontWeightMedium:a=500,fontWeightBold:l=700,htmlFontSize:u=16,allVariants:c,pxToRem:f}=n,h=Fe(n,vye),p=i/14,g=f||(b=>`${b/u*p}rem`),_=(b,v,y,x,I)=>q({fontFamily:r,fontWeight:b,fontSize:g(v),lineHeight:y},r===E$?{letterSpacing:`${yye(x/v)}em`}:{},I,c),w={h1:_(o,96,1.167,-1.5),h2:_(o,60,1.2,-.5),h3:_(s,48,1.167,0),h4:_(s,34,1.235,.25),h5:_(s,24,1.334,0),h6:_(a,20,1.6,.15),subtitle1:_(s,16,1.75,.15),subtitle2:_(a,14,1.57,.1),body1:_(s,16,1.5,.15),body2:_(s,14,1.43,.15),button:_(a,14,1.75,.4,x$),caption:_(s,12,1.66,.4),overline:_(s,12,2.66,1,x$),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return Vr(q({htmlFontSize:u,pxToRem:g,fontFamily:r,fontSize:i,fontWeightLight:o,fontWeightRegular:s,fontWeightMedium:a,fontWeightBold:l},w),h,{clone:!1})}const _ye=.2,wye=.14,xye=.12;function Xn(...t){return[`${t[0]}px ${t[1]}px ${t[2]}px ${t[3]}px rgba(0,0,0,${_ye})`,`${t[4]}px ${t[5]}px ${t[6]}px ${t[7]}px rgba(0,0,0,${wye})`,`${t[8]}px ${t[9]}px ${t[10]}px ${t[11]}px rgba(0,0,0,${xye})`].join(",")}const Eye=["none",Xn(0,2,1,-1,0,1,1,0,0,1,3,0),Xn(0,3,1,-2,0,2,2,0,0,1,5,0),Xn(0,3,3,-2,0,3,4,0,0,1,8,0),Xn(0,2,4,-1,0,4,5,0,0,1,10,0),Xn(0,3,5,-1,0,5,8,0,0,1,14,0),Xn(0,3,5,-1,0,6,10,0,0,1,18,0),Xn(0,4,5,-2,0,7,10,1,0,2,16,1),Xn(0,5,5,-3,0,8,10,1,0,3,14,2),Xn(0,5,6,-3,0,9,12,1,0,3,16,2),Xn(0,6,6,-3,0,10,14,1,0,4,18,3),Xn(0,6,7,-4,0,11,15,1,0,4,20,3),Xn(0,7,8,-4,0,12,17,2,0,5,22,4),Xn(0,7,8,-4,0,13,19,2,0,5,24,4),Xn(0,7,9,-4,0,14,21,2,0,5,26,4),Xn(0,8,9,-5,0,15,22,2,0,6,28,5),Xn(0,8,10,-5,0,16,24,2,0,6,30,5),Xn(0,8,11,-5,0,17,26,2,0,6,32,5),Xn(0,9,11,-5,0,18,28,2,0,7,34,6),Xn(0,9,12,-6,0,19,29,2,0,7,36,6),Xn(0,10,13,-6,0,20,31,3,0,8,38,7),Xn(0,10,13,-6,0,21,33,3,0,8,40,7),Xn(0,10,14,-6,0,22,35,3,0,8,42,7),Xn(0,11,14,-7,0,23,36,3,0,9,44,8),Xn(0,11,15,-7,0,24,38,3,0,9,46,8)],Iye=["duration","easing","delay"],Tye={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},Sye={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function I$(t){return`${Math.round(t)}ms`}function Cye(t){if(!t)return 0;const e=t/36;return Math.round((4+15*e**.25+e/5)*10)}function Pye(t){const e=q({},Tye,t.easing),n=q({},Sye,t.duration);return q({getAutoHeightDuration:Cye,create:(i=["all"],o={})=>{const{duration:s=n.standard,easing:a=e.easeInOut,delay:l=0}=o;return Fe(o,Iye),(Array.isArray(i)?i:[i]).map(u=>`${u} ${typeof s=="string"?s:I$(s)} ${a} ${typeof l=="string"?l:I$(l)}`).join(",")}},t,{easing:e,duration:n})}const kye={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},Aye=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function gR(t={},...e){const{mixins:n={},palette:r={},transitions:i={},typography:o={}}=t,s=Fe(t,Aye);if(t.vars)throw new Error(Ya(18));const a=gye(r),l=dm(t);let u=Vr(l,{mixins:Kve(l.breakpoints,n),palette:a,shadows:Eye.slice(),typography:bye(a,o),transitions:Pye(i),zIndex:q({},kye)});return u=Vr(u,s),u=e.reduce((c,f)=>Vr(c,f),u),u.unstable_sxConfig=q({},cm,s==null?void 0:s.unstable_sxConfig),u.unstable_sx=function(f){return Pf({sx:f,theme:this})},u}function Rye(t){return String(t).match(/[\d.\-+]*\s*(.*)/)[1]||""}function Oye(t){return parseFloat(t)}const vR=gR();function Hx(){const t=wx(vR);return t[qx]||t}var e0={},dT={exports:{}},T$;function Nye(){return T$||(T$=1,function(t){function e(n,r){if(n==null)return{};var i={};for(var o in n)if({}.hasOwnProperty.call(n,o)){if(r.includes(o))continue;i[o]=n[o]}return i}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports}(dT)),dT.exports}const hz=Jl(xde),Lye=Jl(Ede),Dye=Jl(kde),jye=Jl(kfe),$ye=Jl(mfe),Mye=Jl(wfe);var mm=Ei;Object.defineProperty(e0,"__esModule",{value:!0});var Bye=e0.default=Jye;e0.shouldForwardProp=y_;e0.systemDefaultTheme=void 0;var fs=mm(SU()),kC=mm(Nye()),S$=Wye(hz),Fye=Lye;mm(Dye);mm(jye);var Vye=mm($ye),Uye=mm(Mye);const zye=["ownerState"],qye=["variants"],Hye=["name","slot","skipVariantsResolver","skipSx","overridesResolver"];function pz(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(pz=function(r){return r?n:e})(t)}function Wye(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=pz(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Kye(t){return Object.keys(t).length===0}function Gye(t){return typeof t=="string"&&t.charCodeAt(0)>96}function y_(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const Qye=e0.systemDefaultTheme=(0,Vye.default)(),Yye=t=>t&&t.charAt(0).toLowerCase()+t.slice(1);function Ab({defaultTheme:t,theme:e,themeId:n}){return Kye(e)?t:e[n]||e}function Xye(t){return t?(e,n)=>n[t]:null}function b_(t,e){let{ownerState:n}=e,r=(0,kC.default)(e,zye);const i=typeof t=="function"?t((0,fs.default)({ownerState:n},r)):t;if(Array.isArray(i))return i.flatMap(o=>b_(o,(0,fs.default)({ownerState:n},r)));if(i&&typeof i=="object"&&Array.isArray(i.variants)){const{variants:o=[]}=i;let a=(0,kC.default)(i,qye);return o.forEach(l=>{let u=!0;typeof l.props=="function"?u=l.props((0,fs.default)({ownerState:n},r,n)):Object.keys(l.props).forEach(c=>{(n==null?void 0:n[c])!==l.props[c]&&r[c]!==l.props[c]&&(u=!1)}),u&&(Array.isArray(a)||(a=[a]),a.push(typeof l.style=="function"?l.style((0,fs.default)({ownerState:n},r,n)):l.style))}),a}return i}function Jye(t={}){const{themeId:e,defaultTheme:n=Qye,rootShouldForwardProp:r=y_,slotShouldForwardProp:i=y_}=t,o=s=>(0,Uye.default)((0,fs.default)({},s,{theme:Ab((0,fs.default)({},s,{defaultTheme:n,themeId:e}))}));return o.__mui_systemSx=!0,(s,a={})=>{(0,S$.internal_processStyles)(s,I=>I.filter(O=>!(O!=null&&O.__mui_systemSx)));const{name:l,slot:u,skipVariantsResolver:c,skipSx:f,overridesResolver:h=Xye(Yye(u))}=a,p=(0,kC.default)(a,Hye),g=c!==void 0?c:u&&u!=="Root"&&u!=="root"||!1,_=f||!1;let w,b=y_;u==="Root"||u==="root"?b=r:u?b=i:Gye(s)&&(b=void 0);const v=(0,S$.default)(s,(0,fs.default)({shouldForwardProp:b,label:w},p)),y=I=>typeof I=="function"&&I.__emotion_real!==I||(0,Fye.isPlainObject)(I)?O=>b_(I,(0,fs.default)({},O,{theme:Ab({theme:O.theme,defaultTheme:n,themeId:e})})):I,x=(I,...O)=>{let S=y(I);const C=O?O.map(y):[];l&&h&&C.push(R=>{const L=Ab((0,fs.default)({},R,{defaultTheme:n,themeId:e}));if(!L.components||!L.components[l]||!L.components[l].styleOverrides)return null;const N=L.components[l].styleOverrides,V={};return Object.entries(N).forEach(([F,z])=>{V[F]=b_(z,(0,fs.default)({},R,{theme:L}))}),h(R,V)}),l&&!g&&C.push(R=>{var L;const N=Ab((0,fs.default)({},R,{defaultTheme:n,themeId:e})),V=N==null||(L=N.components)==null||(L=L[l])==null?void 0:L.variants;return b_({variants:V},(0,fs.default)({},R,{theme:N}))}),_||C.push(o);const k=C.length-O.length;if(Array.isArray(I)&&k>0){const R=new Array(k).fill("");S=[...I,...R],S.raw=[...I.raw,...R]}const P=v(S,...C);return s.muiName&&(P.muiName=s.muiName),P};return v.withConfig&&(x.withConfig=v.withConfig),x}}function mz(t){return t!=="ownerState"&&t!=="theme"&&t!=="sx"&&t!=="as"}const $i=t=>mz(t)&&t!=="classes",Je=Bye({themeId:qx,defaultTheme:vR,rootShouldForwardProp:$i}),C$=t=>{let e;return t<1?e=5.11916*t**2:e=4.5*Math.log(t+1)+2,(e/100).toFixed(2)};function Bt(t){return che(t)}function Zye(t){return Dt("MuiSvgIcon",t)}Nt("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const e0e=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],t0e=t=>{const{color:e,fontSize:n,classes:r}=t,i={root:["root",e!=="inherit"&&`color${Ge(e)}`,`fontSize${Ge(n)}`]};return wt(i,Zye,r)},n0e=Je("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="inherit"&&e[`color${Ge(n.color)}`],e[`fontSize${Ge(n.fontSize)}`]]}})(({theme:t,ownerState:e})=>{var n,r,i,o,s,a,l,u,c,f,h,p,g;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:e.hasSvgAsChild?void 0:"currentColor",flexShrink:0,transition:(n=t.transitions)==null||(r=n.create)==null?void 0:r.call(n,"fill",{duration:(i=t.transitions)==null||(i=i.duration)==null?void 0:i.shorter}),fontSize:{inherit:"inherit",small:((o=t.typography)==null||(s=o.pxToRem)==null?void 0:s.call(o,20))||"1.25rem",medium:((a=t.typography)==null||(l=a.pxToRem)==null?void 0:l.call(a,24))||"1.5rem",large:((u=t.typography)==null||(c=u.pxToRem)==null?void 0:c.call(u,35))||"2.1875rem"}[e.fontSize],color:(f=(h=(t.vars||t).palette)==null||(h=h[e.color])==null?void 0:h.main)!=null?f:{action:(p=(t.vars||t).palette)==null||(p=p.action)==null?void 0:p.active,disabled:(g=(t.vars||t).palette)==null||(g=g.action)==null?void 0:g.disabled,inherit:void 0}[e.color]}}),AC=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiSvgIcon"}),{children:i,className:o,color:s="inherit",component:a="svg",fontSize:l="medium",htmlColor:u,inheritViewBox:c=!1,titleAccess:f,viewBox:h="0 0 24 24"}=r,p=Fe(r,e0e),g=D.isValidElement(i)&&i.type==="svg",_=q({},r,{color:s,component:a,fontSize:l,instanceFontSize:e.fontSize,inheritViewBox:c,viewBox:h,hasSvgAsChild:g}),w={};c||(w.viewBox=h);const b=t0e(_);return E.jsxs(n0e,q({as:a,className:st(b.root,o),focusable:"false",color:u,"aria-hidden":f?void 0:!0,role:f?"img":void 0,ref:n},w,p,g&&i.props,{ownerState:_,children:[g?i.props.children:i,f?E.jsx("title",{children:f}):null]}))});AC.muiName="SvgIcon";function Ro(t,e){function n(r,i){return E.jsx(AC,q({"data-testid":`${e}Icon`,ref:i},r,{children:t}))}return n.muiName=AC.muiName,D.memo(D.forwardRef(n))}const r0e={configure:t=>{KA.configure(t)}},i0e=Object.freeze(Object.defineProperty({__proto__:null,capitalize:Ge,createChainedFunction:bC,createSvgIcon:Ro,debounce:Nx,deprecatedPropType:Wfe,isMuiElement:Jg,ownerDocument:li,ownerWindow:Xa,requirePropFactory:Kfe,setRef:Lp,unstable_ClassNameGenerator:r0e,unstable_useEnhancedEffect:or,unstable_useId:Oc,unsupportedProp:Qfe,useControlled:iy,useEventCallback:Ll,useForkRef:en,useIsFocusVisible:Dx},Symbol.toStringTag,{value:"Module"}));function RC(t,e){return RC=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},RC(t,e)}function gz(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,RC(t,e)}const P$={disabled:!1},Dw=gn.createContext(null);var o0e=function(e){return e.scrollTop},kg="unmounted",pd="exited",md="entering",gh="entered",OC="exiting",nl=function(t){gz(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=i,a=s&&!s.isMounting?r.enter:r.appear,l;return o.appearStatus=null,r.in?a?(l=pd,o.appearStatus=md):l=gh:r.unmountOnExit||r.mountOnEnter?l=kg:l=pd,o.state={status:l},o.nextCallback=null,o}e.getDerivedStateFromProps=function(i,o){var s=i.in;return s&&o.status===kg?{status:pd}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(i){var o=null;if(i!==this.props){var s=this.state.status;this.props.in?s!==md&&s!==gh&&(o=md):(s===md||s===gh)&&(o=OC)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var i=this.props.timeout,o,s,a;return o=s=a=i,i!=null&&typeof i!="number"&&(o=i.exit,s=i.enter,a=i.appear!==void 0?i.appear:s),{exit:o,enter:s,appear:a}},n.updateStatus=function(i,o){if(i===void 0&&(i=!1),o!==null)if(this.cancelNextCallback(),o===md){if(this.props.unmountOnExit||this.props.mountOnEnter){var s=this.props.nodeRef?this.props.nodeRef.current:pb.findDOMNode(this);s&&o0e(s)}this.performEnter(i)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pd&&this.setState({status:kg})},n.performEnter=function(i){var o=this,s=this.props.enter,a=this.context?this.context.isMounting:i,l=this.props.nodeRef?[a]:[pb.findDOMNode(this),a],u=l[0],c=l[1],f=this.getTimeouts(),h=a?f.appear:f.enter;if(!i&&!s||P$.disabled){this.safeSetState({status:gh},function(){o.props.onEntered(u)});return}this.props.onEnter(u,c),this.safeSetState({status:md},function(){o.props.onEntering(u,c),o.onTransitionEnd(h,function(){o.safeSetState({status:gh},function(){o.props.onEntered(u,c)})})})},n.performExit=function(){var i=this,o=this.props.exit,s=this.getTimeouts(),a=this.props.nodeRef?void 0:pb.findDOMNode(this);if(!o||P$.disabled){this.safeSetState({status:pd},function(){i.props.onExited(a)});return}this.props.onExit(a),this.safeSetState({status:OC},function(){i.props.onExiting(a),i.onTransitionEnd(s.exit,function(){i.safeSetState({status:pd},function(){i.props.onExited(a)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(i,o){o=this.setNextCallback(o),this.setState(i,o)},n.setNextCallback=function(i){var o=this,s=!0;return this.nextCallback=function(a){s&&(s=!1,o.nextCallback=null,i(a))},this.nextCallback.cancel=function(){s=!1},this.nextCallback},n.onTransitionEnd=function(i,o){this.setNextCallback(o);var s=this.props.nodeRef?this.props.nodeRef.current:pb.findDOMNode(this),a=i==null&&!this.props.addEndListener;if(!s||a){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var l=this.props.nodeRef?[this.nextCallback]:[s,this.nextCallback],u=l[0],c=l[1];this.props.addEndListener(u,c)}i!=null&&setTimeout(this.nextCallback,i)},n.render=function(){var i=this.state.status;if(i===kg)return null;var o=this.props,s=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var a=Fe(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return gn.createElement(Dw.Provider,{value:null},typeof s=="function"?s(i,a):gn.cloneElement(gn.Children.only(s),a))},e}(gn.Component);nl.contextType=Dw;nl.propTypes={};function lh(){}nl.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:lh,onEntering:lh,onEntered:lh,onExit:lh,onExiting:lh,onExited:lh};nl.UNMOUNTED=kg;nl.EXITED=pd;nl.ENTERING=md;nl.ENTERED=gh;nl.EXITING=OC;function s0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yR(t,e){var n=function(o){return e&&D.isValidElement(o)?e(o):o},r=Object.create(null);return t&&D.Children.map(t,function(i){return i}).forEach(function(i){r[i.key]=n(i)}),r}function a0e(t,e){t=t||{},e=e||{};function n(c){return c in e?e[c]:t[c]}var r=Object.create(null),i=[];for(var o in t)o in e?i.length&&(r[o]=i,i=[]):i.push(o);var s,a={};for(var l in e){if(r[l])for(s=0;s<r[l].length;s++){var u=r[l][s];a[r[l][s]]=n(u)}a[l]=n(l)}for(s=0;s<i.length;s++)a[i[s]]=n(i[s]);return a}function Ad(t,e,n){return n[e]!=null?n[e]:t.props[e]}function l0e(t,e){return yR(t.children,function(n){return D.cloneElement(n,{onExited:e.bind(null,n),in:!0,appear:Ad(n,"appear",t),enter:Ad(n,"enter",t),exit:Ad(n,"exit",t)})})}function u0e(t,e,n){var r=yR(t.children),i=a0e(e,r);return Object.keys(i).forEach(function(o){var s=i[o];if(D.isValidElement(s)){var a=o in e,l=o in r,u=e[o],c=D.isValidElement(u)&&!u.props.in;l&&(!a||c)?i[o]=D.cloneElement(s,{onExited:n.bind(null,s),in:!0,exit:Ad(s,"exit",t),enter:Ad(s,"enter",t)}):!l&&a&&!c?i[o]=D.cloneElement(s,{in:!1}):l&&a&&D.isValidElement(u)&&(i[o]=D.cloneElement(s,{onExited:n.bind(null,s),in:u.props.in,exit:Ad(s,"exit",t),enter:Ad(s,"enter",t)}))}}),i}var c0e=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},d0e={component:"div",childFactory:function(e){return e}},bR=function(t){gz(e,t);function e(r,i){var o;o=t.call(this,r,i)||this;var s=o.handleExited.bind(s0e(o));return o.state={contextValue:{isMounting:!0},handleExited:s,firstRender:!0},o}var n=e.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},e.getDerivedStateFromProps=function(i,o){var s=o.children,a=o.handleExited,l=o.firstRender;return{children:l?l0e(i,a):u0e(i,s,a),firstRender:!1}},n.handleExited=function(i,o){var s=yR(this.props.children);i.key in s||(i.props.onExited&&i.props.onExited(o),this.mounted&&this.setState(function(a){var l=q({},a.children);return delete l[i.key],{children:l}}))},n.render=function(){var i=this.props,o=i.component,s=i.childFactory,a=Fe(i,["component","childFactory"]),l=this.state.contextValue,u=c0e(this.state.children).map(s);return delete a.appear,delete a.enter,delete a.exit,o===null?gn.createElement(Dw.Provider,{value:l},u):gn.createElement(Dw.Provider,{value:l},gn.createElement(o,a,u))},e}(gn.Component);bR.propTypes={};bR.defaultProps=d0e;const vz=t=>t.scrollTop;function jw(t,e){var n,r;const{timeout:i,easing:o,style:s={}}=t;return{duration:(n=s.transitionDuration)!=null?n:typeof i=="number"?i:i[e.mode]||0,easing:(r=s.transitionTimingFunction)!=null?r:typeof o=="object"?o[e.mode]:o,delay:s.transitionDelay}}function f0e(t){return Dt("MuiPaper",t)}Nt("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const h0e=["className","component","elevation","square","variant"],p0e=t=>{const{square:e,elevation:n,variant:r,classes:i}=t,o={root:["root",r,!e&&"rounded",r==="elevation"&&`elevation${n}`]};return wt(o,f0e,i)},m0e=Je("div",{name:"MuiPaper",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],!n.square&&e.rounded,n.variant==="elevation"&&e[`elevation${n.elevation}`]]}})(({theme:t,ownerState:e})=>{var n;return q({backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow")},!e.square&&{borderRadius:t.shape.borderRadius},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.divider}`},e.variant==="elevation"&&q({boxShadow:(t.vars||t).shadows[e.elevation]},!t.vars&&t.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${dr("#fff",C$(e.elevation))}, ${dr("#fff",C$(e.elevation))})`},t.vars&&{backgroundImage:(n=t.vars.overlays)==null?void 0:n[e.elevation]}))}),Wx=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiPaper"}),{className:i,component:o="div",elevation:s=1,square:a=!1,variant:l="elevation"}=r,u=Fe(r,h0e),c=q({},r,{component:o,elevation:s,square:a,variant:l}),f=p0e(c);return E.jsx(m0e,q({as:o,ownerState:c,className:st(f.root,i),ref:n},u))}),g0e=["className","elementType","ownerState","externalForwardedProps","getSlotOwnerState","internalForwardedProps"],v0e=["component","slots","slotProps"],y0e=["component"];function b0e(t,e){const{className:n,elementType:r,ownerState:i,externalForwardedProps:o,getSlotOwnerState:s,internalForwardedProps:a}=e,l=Fe(e,g0e),{component:u,slots:c={[t]:void 0},slotProps:f={[t]:void 0}}=o;Fe(o,v0e);const h=c[t]||r,p=ZU(f[t],i),g=JU(q({className:n},l,{externalForwardedProps:void 0,externalSlotProps:p})),{props:{component:_},internalRef:w}=g,b=Fe(g.props,y0e),v=en(w,p==null?void 0:p.ref,e.ref),y=s?s(b):{},x=q({},i,y),I=_,O=Dh(h,q({},t==="root",!c[t]&&a,b,I&&{as:I},{ref:v}),x);return Object.keys(y).forEach(S=>{delete O[S]}),[h,O]}function _0e(t){const{className:e,classes:n,pulsate:r=!1,rippleX:i,rippleY:o,rippleSize:s,in:a,onExited:l,timeout:u}=t,[c,f]=D.useState(!1),h=st(e,n.ripple,n.rippleVisible,r&&n.ripplePulsate),p={width:s,height:s,top:-(s/2)+o,left:-(s/2)+i},g=st(n.child,c&&n.childLeaving,r&&n.childPulsate);return!a&&!c&&f(!0),D.useEffect(()=>{if(!a&&l!=null){const _=setTimeout(l,u);return()=>{clearTimeout(_)}}},[l,a,u]),E.jsx("span",{className:h,style:p,children:E.jsx("span",{className:g})})}const hs=Nt("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),w0e=["center","classes","className"];let Kx=t=>t,k$,A$,R$,O$;const NC=550,x0e=80,E0e=Cf(k$||(k$=Kx`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),I0e=Cf(A$||(A$=Kx`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),T0e=Cf(R$||(R$=Kx`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),S0e=Je("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),C0e=Je(_0e,{name:"MuiTouchRipple",slot:"Ripple"})(O$||(O$=Kx`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),hs.rippleVisible,E0e,NC,({theme:t})=>t.transitions.easing.easeInOut,hs.ripplePulsate,({theme:t})=>t.transitions.duration.shorter,hs.child,hs.childLeaving,I0e,NC,({theme:t})=>t.transitions.easing.easeInOut,hs.childPulsate,T0e,({theme:t})=>t.transitions.easing.easeInOut),P0e=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiTouchRipple"}),{center:i=!1,classes:o={},className:s}=r,a=Fe(r,w0e),[l,u]=D.useState([]),c=D.useRef(0),f=D.useRef(null);D.useEffect(()=>{f.current&&(f.current(),f.current=null)},[l]);const h=D.useRef(!1),p=Lh(),g=D.useRef(null),_=D.useRef(null),w=D.useCallback(x=>{const{pulsate:I,rippleX:O,rippleY:S,rippleSize:C,cb:k}=x;u(P=>[...P,E.jsx(C0e,{classes:{ripple:st(o.ripple,hs.ripple),rippleVisible:st(o.rippleVisible,hs.rippleVisible),ripplePulsate:st(o.ripplePulsate,hs.ripplePulsate),child:st(o.child,hs.child),childLeaving:st(o.childLeaving,hs.childLeaving),childPulsate:st(o.childPulsate,hs.childPulsate)},timeout:NC,pulsate:I,rippleX:O,rippleY:S,rippleSize:C},c.current)]),c.current+=1,f.current=k},[o]),b=D.useCallback((x={},I={},O=()=>{})=>{const{pulsate:S=!1,center:C=i||I.pulsate,fakeElement:k=!1}=I;if((x==null?void 0:x.type)==="mousedown"&&h.current){h.current=!1;return}(x==null?void 0:x.type)==="touchstart"&&(h.current=!0);const P=k?null:_.current,R=P?P.getBoundingClientRect():{width:0,height:0,left:0,top:0};let L,N,V;if(C||x===void 0||x.clientX===0&&x.clientY===0||!x.clientX&&!x.touches)L=Math.round(R.width/2),N=Math.round(R.height/2);else{const{clientX:F,clientY:z}=x.touches&&x.touches.length>0?x.touches[0]:x;L=Math.round(F-R.left),N=Math.round(z-R.top)}if(C)V=Math.sqrt((2*R.width**2+R.height**2)/3),V%2===0&&(V+=1);else{const F=Math.max(Math.abs((P?P.clientWidth:0)-L),L)*2+2,z=Math.max(Math.abs((P?P.clientHeight:0)-N),N)*2+2;V=Math.sqrt(F**2+z**2)}x!=null&&x.touches?g.current===null&&(g.current=()=>{w({pulsate:S,rippleX:L,rippleY:N,rippleSize:V,cb:O})},p.start(x0e,()=>{g.current&&(g.current(),g.current=null)})):w({pulsate:S,rippleX:L,rippleY:N,rippleSize:V,cb:O})},[i,w,p]),v=D.useCallback(()=>{b({},{pulsate:!0})},[b]),y=D.useCallback((x,I)=>{if(p.clear(),(x==null?void 0:x.type)==="touchend"&&g.current){g.current(),g.current=null,p.start(0,()=>{y(x,I)});return}g.current=null,u(O=>O.length>0?O.slice(1):O),f.current=I},[p]);return D.useImperativeHandle(n,()=>({pulsate:v,start:b,stop:y}),[v,b,y]),E.jsx(S0e,q({className:st(hs.root,o.root,s),ref:_},a,{children:E.jsx(bR,{component:null,exit:!0,children:l})}))});function k0e(t){return Dt("MuiButtonBase",t)}const A0e=Nt("MuiButtonBase",["root","disabled","focusVisible"]),R0e=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],O0e=t=>{const{disabled:e,focusVisible:n,focusVisibleClassName:r,classes:i}=t,s=wt({root:["root",e&&"disabled",n&&"focusVisible"]},k0e,i);return n&&r&&(s.root+=` ${r}`),s},N0e=Je("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(t,e)=>e.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${A0e.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),gm=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiButtonBase"}),{action:i,centerRipple:o=!1,children:s,className:a,component:l="button",disabled:u=!1,disableRipple:c=!1,disableTouchRipple:f=!1,focusRipple:h=!1,LinkComponent:p="a",onBlur:g,onClick:_,onContextMenu:w,onDragLeave:b,onFocus:v,onFocusVisible:y,onKeyDown:x,onKeyUp:I,onMouseDown:O,onMouseLeave:S,onMouseUp:C,onTouchEnd:k,onTouchMove:P,onTouchStart:R,tabIndex:L=0,TouchRippleProps:N,touchRippleRef:V,type:F}=r,z=Fe(r,R0e),B=D.useRef(null),W=D.useRef(null),Q=en(W,V),{isFocusVisibleRef:G,onFocus:j,onBlur:U,ref:K}=Dx(),[ne,oe]=D.useState(!1);u&&ne&&oe(!1),D.useImperativeHandle(i,()=>({focusVisible:()=>{oe(!0),B.current.focus()}}),[]);const[X,Z]=D.useState(!1);D.useEffect(()=>{Z(!0)},[]);const re=X&&!c&&!u;D.useEffect(()=>{ne&&h&&!c&&X&&W.current.pulsate()},[c,h,ne,X]);function ue(ht,Tt,xn=f){return Ll(zn=>(Tt&&Tt(zn),!xn&&W.current&&W.current[ht](zn),!0))}const te=ue("start",O),fe=ue("stop",w),be=ue("stop",b),ve=ue("stop",C),we=ue("stop",ht=>{ne&&ht.preventDefault(),S&&S(ht)}),Ce=ue("start",R),Ue=ue("stop",k),Oe=ue("stop",P),he=ue("stop",ht=>{U(ht),G.current===!1&&oe(!1),g&&g(ht)},!1),_e=Ll(ht=>{B.current||(B.current=ht.currentTarget),j(ht),G.current===!0&&(oe(!0),y&&y(ht)),v&&v(ht)}),Te=()=>{const ht=B.current;return l&&l!=="button"&&!(ht.tagName==="A"&&ht.href)},me=D.useRef(!1),Se=Ll(ht=>{h&&!me.current&&ne&&W.current&&ht.key===" "&&(me.current=!0,W.current.stop(ht,()=>{W.current.start(ht)})),ht.target===ht.currentTarget&&Te()&&ht.key===" "&&ht.preventDefault(),x&&x(ht),ht.target===ht.currentTarget&&Te()&&ht.key==="Enter"&&!u&&(ht.preventDefault(),_&&_(ht))}),He=Ll(ht=>{h&&ht.key===" "&&W.current&&ne&&!ht.defaultPrevented&&(me.current=!1,W.current.stop(ht,()=>{W.current.pulsate(ht)})),I&&I(ht),_&&ht.target===ht.currentTarget&&Te()&&ht.key===" "&&!ht.defaultPrevented&&_(ht)});let Qe=l;Qe==="button"&&(z.href||z.to)&&(Qe=p);const ct={};Qe==="button"?(ct.type=F===void 0?"button":F,ct.disabled=u):(!z.href&&!z.to&&(ct.role="button"),u&&(ct["aria-disabled"]=u));const xt=en(n,K,B),yt=q({},r,{centerRipple:o,component:l,disabled:u,disableRipple:c,disableTouchRipple:f,focusRipple:h,tabIndex:L,focusVisible:ne}),ot=O0e(yt);return E.jsxs(N0e,q({as:Qe,className:st(ot.root,a),ownerState:yt,onBlur:he,onClick:_,onContextMenu:fe,onFocus:_e,onKeyDown:Se,onKeyUp:He,onMouseDown:te,onMouseLeave:we,onMouseUp:ve,onDragLeave:be,onTouchEnd:Ue,onTouchMove:Oe,onTouchStart:Ce,ref:xt,tabIndex:u?-1:L,type:F},ct,z,{children:[s,re?E.jsx(P0e,q({ref:Q,center:o},N)):null]}))});function L0e(t){return Dt("MuiIconButton",t)}const D0e=Nt("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),j0e=["edge","children","className","color","disabled","disableFocusRipple","size"],$0e=t=>{const{classes:e,disabled:n,color:r,edge:i,size:o}=t,s={root:["root",n&&"disabled",r!=="default"&&`color${Ge(r)}`,i&&`edge${Ge(i)}`,`size${Ge(o)}`]};return wt(s,L0e,e)},M0e=Je(gm,{name:"MuiIconButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.color!=="default"&&e[`color${Ge(n.color)}`],n.edge&&e[`edge${Ge(n.edge)}`],e[`size${Ge(n.size)}`]]}})(({theme:t,ownerState:e})=>q({textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest})},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${t.vars.palette.action.activeChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette.action.active,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12}),({theme:t,ownerState:e})=>{var n;const r=(n=(t.vars||t).palette)==null?void 0:n[e.color];return q({},e.color==="inherit"&&{color:"inherit"},e.color!=="inherit"&&e.color!=="default"&&q({color:r==null?void 0:r.main},!e.disableRipple&&{"&:hover":q({},r&&{backgroundColor:t.vars?`rgba(${r.mainChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(r.main,t.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),e.size==="small"&&{padding:5,fontSize:t.typography.pxToRem(18)},e.size==="large"&&{padding:12,fontSize:t.typography.pxToRem(28)},{[`&.${D0e.disabled}`]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}})}),$n=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiIconButton"}),{edge:i=!1,children:o,className:s,color:a="default",disabled:l=!1,disableFocusRipple:u=!1,size:c="medium"}=r,f=Fe(r,j0e),h=q({},r,{edge:i,color:a,disabled:l,disableFocusRipple:u,size:c}),p=$0e(h);return E.jsx(M0e,q({className:st(p.root,s),centerRipple:!0,focusRipple:!u,disabled:l,ref:n},f,{ownerState:h,children:o}))});function B0e(t){return Dt("MuiTypography",t)}Nt("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const F0e=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],V0e=t=>{const{align:e,gutterBottom:n,noWrap:r,paragraph:i,variant:o,classes:s}=t,a={root:["root",o,t.align!=="inherit"&&`align${Ge(e)}`,n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]};return wt(a,B0e,s)},U0e=Je("span",{name:"MuiTypography",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.variant&&e[n.variant],n.align!=="inherit"&&e[`align${Ge(n.align)}`],n.noWrap&&e.noWrap,n.gutterBottom&&e.gutterBottom,n.paragraph&&e.paragraph]}})(({theme:t,ownerState:e})=>q({margin:0},e.variant==="inherit"&&{font:"inherit"},e.variant!=="inherit"&&t.typography[e.variant],e.align!=="inherit"&&{textAlign:e.align},e.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},e.gutterBottom&&{marginBottom:"0.35em"},e.paragraph&&{marginBottom:16})),N$={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},z0e={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},q0e=t=>z0e[t]||t,si=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiTypography"}),i=q0e(r.color),o=xx(q({},r,{color:i})),{align:s="inherit",className:a,component:l,gutterBottom:u=!1,noWrap:c=!1,paragraph:f=!1,variant:h="body1",variantMapping:p=N$}=o,g=Fe(o,F0e),_=q({},o,{align:s,color:i,className:a,component:l,gutterBottom:u,noWrap:c,paragraph:f,variant:h,variantMapping:p}),w=l||(f?"p":p[h]||N$[h])||"span",b=V0e(_);return E.jsx(U0e,q({as:w,ref:n,ownerState:_,className:st(b.root,a)},g))});function H0e(t){return Dt("MuiAppBar",t)}Nt("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const W0e=["className","color","enableColorOnDark","position"],K0e=t=>{const{color:e,position:n,classes:r}=t,i={root:["root",`color${Ge(e)}`,`position${Ge(n)}`]};return wt(i,H0e,r)},Rb=(t,e)=>t?`${t==null?void 0:t.replace(")","")}, ${e})`:e,G0e=Je(Wx,{name:"MuiAppBar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],e[`color${Ge(n.color)}`]]}})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?t.palette.grey[100]:t.palette.grey[900];return q({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},e.position==="fixed"&&{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},e.position==="absolute"&&{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="sticky"&&{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0},e.position==="static"&&{position:"static"},e.position==="relative"&&{position:"relative"},!t.vars&&q({},e.color==="default"&&{backgroundColor:n,color:t.palette.getContrastText(n)},e.color&&e.color!=="default"&&e.color!=="inherit"&&e.color!=="transparent"&&{backgroundColor:t.palette[e.color].main,color:t.palette[e.color].contrastText},e.color==="inherit"&&{color:"inherit"},t.palette.mode==="dark"&&!e.enableColorOnDark&&{backgroundColor:null,color:null},e.color==="transparent"&&q({backgroundColor:"transparent",color:"inherit"},t.palette.mode==="dark"&&{backgroundImage:"none"})),t.vars&&q({},e.color==="default"&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette.AppBar.defaultBg:Rb(t.vars.palette.AppBar.darkBg,t.vars.palette.AppBar.defaultBg),"--AppBar-color":e.enableColorOnDark?t.vars.palette.text.primary:Rb(t.vars.palette.AppBar.darkColor,t.vars.palette.text.primary)},e.color&&!e.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":e.enableColorOnDark?t.vars.palette[e.color].main:Rb(t.vars.palette.AppBar.darkBg,t.vars.palette[e.color].main),"--AppBar-color":e.enableColorOnDark?t.vars.palette[e.color].contrastText:Rb(t.vars.palette.AppBar.darkColor,t.vars.palette[e.color].contrastText)},!["inherit","transparent"].includes(e.color)&&{backgroundColor:"var(--AppBar-background)"},{color:e.color==="inherit"?"inherit":"var(--AppBar-color)"},e.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),Q0e=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiAppBar"}),{className:i,color:o="primary",enableColorOnDark:s=!1,position:a="fixed"}=r,l=Fe(r,W0e),u=q({},r,{color:o,position:a,enableColorOnDark:s}),c=K0e(u);return E.jsx(G0e,q({square:!0,component:"header",ownerState:u,elevation:4,className:st(c.root,i,a==="fixed"&&"mui-fixed"),ref:n},l))});var _R={};Object.defineProperty(_R,"__esModule",{value:!0});var yz=_R.default=void 0,Y0e=J0e(D),X0e=hz;function bz(t){if(typeof WeakMap!="function")return null;var e=new WeakMap,n=new WeakMap;return(bz=function(r){return r?n:e})(t)}function J0e(t,e){if(t&&t.__esModule)return t;if(t===null||typeof t!="object"&&typeof t!="function")return{default:t};var n=bz(e);if(n&&n.has(t))return n.get(t);var r={__proto__:null},i=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var o in t)if(o!=="default"&&Object.prototype.hasOwnProperty.call(t,o)){var s=i?Object.getOwnPropertyDescriptor(t,o):null;s&&(s.get||s.set)?Object.defineProperty(r,o,s):r[o]=t[o]}return r.default=t,n&&n.set(t,r),r}function Z0e(t){return Object.keys(t).length===0}function ebe(t=null){const e=Y0e.useContext(X0e.ThemeContext);return!e||Z0e(e)?t:e}yz=_R.default=ebe;function tbe(t){return typeof t=="function"?t():t}const _z=D.forwardRef(function(e,n){const{children:r,container:i,disablePortal:o=!1}=e,[s,a]=D.useState(null),l=en(D.isValidElement(r)?r.ref:null,n);if(or(()=>{o||a(tbe(i)||document.body)},[i,o]),or(()=>{if(s&&!o)return Lp(n,s),()=>{Lp(n,null)}},[n,s,o]),o){if(D.isValidElement(r)){const u={ref:l};return D.cloneElement(r,u)}return E.jsx(D.Fragment,{children:r})}return E.jsx(D.Fragment,{children:s&&Yp.createPortal(r,s)})});function nbe(t){return Dt("MuiPopper",t)}Nt("MuiPopper",["root"]);const rbe=["anchorEl","children","direction","disablePortal","modifiers","open","placement","popperOptions","popperRef","slotProps","slots","TransitionProps","ownerState"],ibe=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function obe(t,e){if(e==="ltr")return t;switch(t){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return t}}function LC(t){return typeof t=="function"?t():t}function sbe(t){return t.nodeType!==void 0}const abe=t=>{const{classes:e}=t;return wt({root:["root"]},nbe,e)},lbe={},ube=D.forwardRef(function(e,n){var r;const{anchorEl:i,children:o,direction:s,disablePortal:a,modifiers:l,open:u,placement:c,popperOptions:f,popperRef:h,slotProps:p={},slots:g={},TransitionProps:_}=e,w=Fe(e,rbe),b=D.useRef(null),v=en(b,n),y=D.useRef(null),x=en(y,h),I=D.useRef(x);or(()=>{I.current=x},[x]),D.useImperativeHandle(h,()=>y.current,[]);const O=obe(c,s),[S,C]=D.useState(O),[k,P]=D.useState(LC(i));D.useEffect(()=>{y.current&&y.current.forceUpdate()}),D.useEffect(()=>{i&&P(LC(i))},[i]),or(()=>{if(!k||!u)return;const F=W=>{C(W.placement)};let z=[{name:"preventOverflow",options:{altBoundary:a}},{name:"flip",options:{altBoundary:a}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:W})=>{F(W)}}];l!=null&&(z=z.concat(l)),f&&f.modifiers!=null&&(z=z.concat(f.modifiers));const B=G9(k,b.current,q({placement:O},f,{modifiers:z}));return I.current(B),()=>{B.destroy(),I.current(null)}},[k,a,l,u,f,O]);const R={placement:S};_!==null&&(R.TransitionProps=_);const L=abe(e),N=(r=g.root)!=null?r:"div",V=ff({elementType:N,externalSlotProps:p.root,externalForwardedProps:w,additionalProps:{role:"tooltip",ref:v},ownerState:e,className:L.root});return E.jsx(N,q({},V,{children:typeof o=="function"?o(R):o}))}),cbe=D.forwardRef(function(e,n){const{anchorEl:r,children:i,container:o,direction:s="ltr",disablePortal:a=!1,keepMounted:l=!1,modifiers:u,open:c,placement:f="bottom",popperOptions:h=lbe,popperRef:p,style:g,transition:_=!1,slotProps:w={},slots:b={}}=e,v=Fe(e,ibe),[y,x]=D.useState(!0),I=()=>{x(!1)},O=()=>{x(!0)};if(!l&&!c&&(!_||y))return null;let S;if(o)S=o;else if(r){const P=LC(r);S=P&&sbe(P)?li(P).body:li(null).body}const C=!c&&l&&(!_||y)?"none":void 0,k=_?{in:c,onEnter:I,onExited:O}:void 0;return E.jsx(_z,{disablePortal:a,container:S,children:E.jsx(ube,q({anchorEl:r,direction:s,disablePortal:a,modifiers:u,ref:n,open:_?!y:c,placement:f,popperOptions:h,popperRef:p,slotProps:w,slots:b},v,{style:q({position:"fixed",top:0,left:0,display:C},g),TransitionProps:k,children:i}))})}),dbe=["anchorEl","component","components","componentsProps","container","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","transition","slots","slotProps"],fbe=Je(cbe,{name:"MuiPopper",slot:"Root",overridesResolver:(t,e)=>e.root})({}),wz=D.forwardRef(function(e,n){var r;const i=yz(),o=Bt({props:e,name:"MuiPopper"}),{anchorEl:s,component:a,components:l,componentsProps:u,container:c,disablePortal:f,keepMounted:h,modifiers:p,open:g,placement:_,popperOptions:w,popperRef:b,transition:v,slots:y,slotProps:x}=o,I=Fe(o,dbe),O=(r=y==null?void 0:y.root)!=null?r:l==null?void 0:l.Root,S=q({anchorEl:s,container:c,disablePortal:f,keepMounted:h,modifiers:p,open:g,placement:_,popperOptions:w,popperRef:b,transition:v},I);return E.jsx(fbe,q({as:a,direction:i==null?void 0:i.direction,slots:{root:O},slotProps:x??u},S,{ref:n}))}),hbe=["onChange","maxRows","minRows","style","value"];function Ob(t){return parseInt(t,10)||0}const pbe={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function mbe(t){return t==null||Object.keys(t).length===0||t.outerHeightStyle===0&&!t.overflowing}const t0=D.forwardRef(function(e,n){const{onChange:r,maxRows:i,minRows:o=1,style:s,value:a}=e,l=Fe(e,hbe),{current:u}=D.useRef(a!=null),c=D.useRef(null),f=en(n,c),h=D.useRef(null),p=D.useRef(null),g=D.useCallback(()=>{const b=c.current,y=Xa(b).getComputedStyle(b);if(y.width==="0px")return{outerHeightStyle:0,overflowing:!1};const x=p.current;x.style.width=y.width,x.value=b.value||e.placeholder||"x",x.value.slice(-1)===`
`&&(x.value+=" ");const I=y.boxSizing,O=Ob(y.paddingBottom)+Ob(y.paddingTop),S=Ob(y.borderBottomWidth)+Ob(y.borderTopWidth),C=x.scrollHeight;x.value="x";const k=x.scrollHeight;let P=C;o&&(P=Math.max(Number(o)*k,P)),i&&(P=Math.min(Number(i)*k,P)),P=Math.max(P,k);const R=P+(I==="border-box"?O+S:0),L=Math.abs(P-C)<=1;return{outerHeightStyle:R,overflowing:L}},[i,o,e.placeholder]),_=D.useCallback(()=>{const b=g();if(mbe(b))return;const v=b.outerHeightStyle,y=c.current;h.current!==v&&(h.current=v,y.style.height=`${v}px`),y.style.overflow=b.overflowing?"hidden":""},[g]);or(()=>{const b=()=>{_()};let v;const y=Nx(b),x=c.current,I=Xa(x);I.addEventListener("resize",y);let O;return typeof ResizeObserver<"u"&&(O=new ResizeObserver(b),O.observe(x)),()=>{y.clear(),cancelAnimationFrame(v),I.removeEventListener("resize",y),O&&O.disconnect()}},[g,_]),or(()=>{_()});const w=b=>{u||_(),r&&r(b)};return E.jsxs(D.Fragment,{children:[E.jsx("textarea",q({value:a,onChange:w,ref:f,rows:o,style:s},l)),E.jsx("textarea",{"aria-hidden":!0,className:e.className,readOnly:!0,ref:p,tabIndex:-1,style:q({},pbe.shadow,s,{paddingTop:0,paddingBottom:0})})]})});function Dc({props:t,states:e,muiFormControl:n}){return e.reduce((r,i)=>(r[i]=t[i],n&&typeof t[i]>"u"&&(r[i]=n[i]),r),{})}const Gx=D.createContext(void 0);function rl(){return D.useContext(Gx)}function gbe(t){return E.jsx(yfe,q({},t,{defaultTheme:vR,themeId:qx}))}function L$(t){return t!=null&&!(Array.isArray(t)&&t.length===0)}function $w(t,e=!1){return t&&(L$(t.value)&&t.value!==""||e&&L$(t.defaultValue)&&t.defaultValue!=="")}function vbe(t){return t.startAdornment}function ybe(t){return Dt("MuiInputBase",t)}const Up=Nt("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),bbe=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],Qx=(t,e)=>{const{ownerState:n}=t;return[e.root,n.formControl&&e.formControl,n.startAdornment&&e.adornedStart,n.endAdornment&&e.adornedEnd,n.error&&e.error,n.size==="small"&&e.sizeSmall,n.multiline&&e.multiline,n.color&&e[`color${Ge(n.color)}`],n.fullWidth&&e.fullWidth,n.hiddenLabel&&e.hiddenLabel]},Yx=(t,e)=>{const{ownerState:n}=t;return[e.input,n.size==="small"&&e.inputSizeSmall,n.multiline&&e.inputMultiline,n.type==="search"&&e.inputTypeSearch,n.startAdornment&&e.inputAdornedStart,n.endAdornment&&e.inputAdornedEnd,n.hiddenLabel&&e.inputHiddenLabel]},_be=t=>{const{classes:e,color:n,disabled:r,error:i,endAdornment:o,focused:s,formControl:a,fullWidth:l,hiddenLabel:u,multiline:c,readOnly:f,size:h,startAdornment:p,type:g}=t,_={root:["root",`color${Ge(n)}`,r&&"disabled",i&&"error",l&&"fullWidth",s&&"focused",a&&"formControl",h&&h!=="medium"&&`size${Ge(h)}`,c&&"multiline",p&&"adornedStart",o&&"adornedEnd",u&&"hiddenLabel",f&&"readOnly"],input:["input",r&&"disabled",g==="search"&&"inputTypeSearch",c&&"inputMultiline",h==="small"&&"inputSizeSmall",u&&"inputHiddenLabel",p&&"inputAdornedStart",o&&"inputAdornedEnd",f&&"readOnly"]};return wt(_,ybe,e)},Xx=Je("div",{name:"MuiInputBase",slot:"Root",overridesResolver:Qx})(({theme:t,ownerState:e})=>q({},t.typography.body1,{color:(t.vars||t).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${Up.disabled}`]:{color:(t.vars||t).palette.text.disabled,cursor:"default"}},e.multiline&&q({padding:"4px 0 5px"},e.size==="small"&&{paddingTop:1}),e.fullWidth&&{width:"100%"})),Jx=Je("input",{name:"MuiInputBase",slot:"Input",overridesResolver:Yx})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light",r=q({color:"currentColor"},t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5},{transition:t.transitions.create("opacity",{duration:t.transitions.duration.shorter})}),i={opacity:"0 !important"},o=t.vars?{opacity:t.vars.opacity.inputPlaceholder}:{opacity:n?.42:.5};return q({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":r,"&::-moz-placeholder":r,"&:-ms-input-placeholder":r,"&::-ms-input-placeholder":r,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${Up.formControl} &`]:{"&::-webkit-input-placeholder":i,"&::-moz-placeholder":i,"&:-ms-input-placeholder":i,"&::-ms-input-placeholder":i,"&:focus::-webkit-input-placeholder":o,"&:focus::-moz-placeholder":o,"&:focus:-ms-input-placeholder":o,"&:focus::-ms-input-placeholder":o},[`&.${Up.disabled}`]:{opacity:1,WebkitTextFillColor:(t.vars||t).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},e.size==="small"&&{paddingTop:1},e.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},e.type==="search"&&{MozAppearance:"textfield"})}),wbe=E.jsx(gbe,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),wR=D.forwardRef(function(e,n){var r;const i=Bt({props:e,name:"MuiInputBase"}),{"aria-describedby":o,autoComplete:s,autoFocus:a,className:l,components:u={},componentsProps:c={},defaultValue:f,disabled:h,disableInjectingGlobalStyles:p,endAdornment:g,fullWidth:_=!1,id:w,inputComponent:b="input",inputProps:v={},inputRef:y,maxRows:x,minRows:I,multiline:O=!1,name:S,onBlur:C,onChange:k,onClick:P,onFocus:R,onKeyDown:L,onKeyUp:N,placeholder:V,readOnly:F,renderSuffix:z,rows:B,slotProps:W={},slots:Q={},startAdornment:G,type:j="text",value:U}=i,K=Fe(i,bbe),ne=v.value!=null?v.value:U,{current:oe}=D.useRef(ne!=null),X=D.useRef(),Z=D.useCallback(ot=>{},[]),re=en(X,y,v.ref,Z),[ue,te]=D.useState(!1),fe=rl(),be=Dc({props:i,muiFormControl:fe,states:["color","disabled","error","hiddenLabel","size","required","filled"]});be.focused=fe?fe.focused:ue,D.useEffect(()=>{!fe&&h&&ue&&(te(!1),C&&C())},[fe,h,ue,C]);const ve=fe&&fe.onFilled,we=fe&&fe.onEmpty,Ce=D.useCallback(ot=>{$w(ot)?ve&&ve():we&&we()},[ve,we]);or(()=>{oe&&Ce({value:ne})},[ne,Ce,oe]);const Ue=ot=>{if(be.disabled){ot.stopPropagation();return}R&&R(ot),v.onFocus&&v.onFocus(ot),fe&&fe.onFocus?fe.onFocus(ot):te(!0)},Oe=ot=>{C&&C(ot),v.onBlur&&v.onBlur(ot),fe&&fe.onBlur?fe.onBlur(ot):te(!1)},he=(ot,...ht)=>{if(!oe){const Tt=ot.target||X.current;if(Tt==null)throw new Error(Ya(1));Ce({value:Tt.value})}v.onChange&&v.onChange(ot,...ht),k&&k(ot,...ht)};D.useEffect(()=>{Ce(X.current)},[]);const _e=ot=>{X.current&&ot.currentTarget===ot.target&&X.current.focus(),P&&P(ot)};let Te=b,me=v;O&&Te==="input"&&(B?me=q({type:void 0,minRows:B,maxRows:B},me):me=q({type:void 0,maxRows:x,minRows:I},me),Te=t0);const Se=ot=>{Ce(ot.animationName==="mui-auto-fill-cancel"?X.current:{value:"x"})};D.useEffect(()=>{fe&&fe.setAdornedStart(!!G)},[fe,G]);const He=q({},i,{color:be.color||"primary",disabled:be.disabled,endAdornment:g,error:be.error,focused:be.focused,formControl:fe,fullWidth:_,hiddenLabel:be.hiddenLabel,multiline:O,size:be.size,startAdornment:G,type:j}),Qe=_be(He),ct=Q.root||u.Root||Xx,xt=W.root||c.root||{},yt=Q.input||u.Input||Jx;return me=q({},me,(r=W.input)!=null?r:c.input),E.jsxs(D.Fragment,{children:[!p&&wbe,E.jsxs(ct,q({},xt,!Dp(ct)&&{ownerState:q({},He,xt.ownerState)},{ref:n,onClick:_e},K,{className:st(Qe.root,xt.className,l,F&&"MuiInputBase-readOnly"),children:[G,E.jsx(Gx.Provider,{value:null,children:E.jsx(yt,q({ownerState:He,"aria-invalid":be.error,"aria-describedby":o,autoComplete:s,autoFocus:a,defaultValue:f,disabled:be.disabled,id:w,onAnimationStart:Se,name:S,placeholder:V,readOnly:F,required:be.required,rows:B,value:ne,onKeyDown:L,onKeyUp:N,type:j},me,!Dp(yt)&&{as:Te,ownerState:q({},He,me.ownerState)},{ref:re,className:st(Qe.input,me.className,F&&"MuiInputBase-readOnly"),onBlur:Oe,onChange:he,onFocus:Ue}))}),g,z?z(q({},be,{startAdornment:G})):null]}))]})});function xbe(t){return Dt("MuiInput",t)}const ug=q({},Up,Nt("MuiInput",["root","underline","input"]));function Ebe(t){return Dt("MuiOutlinedInput",t)}const Ou=q({},Up,Nt("MuiOutlinedInput",["root","notchedOutline","input"]));function Ibe(t){return Dt("MuiFilledInput",t)}const ad=q({},Up,Nt("MuiFilledInput",["root","underline","input"])),Tbe=Ro(E.jsx("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown"),Sbe=Ro(E.jsx("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function Cbe(t){return Dt("MuiAvatar",t)}Nt("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const Pbe=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],kbe=t=>{const{classes:e,variant:n,colorDefault:r}=t;return wt({root:["root",n,r&&"colorDefault"],img:["img"],fallback:["fallback"]},Cbe,e)},Abe=Je("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.colorDefault&&e.colorDefault]}})(({theme:t})=>({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:q({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:q({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]})),Rbe=Je("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(t,e)=>e.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),Obe=Je(Sbe,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(t,e)=>e.fallback})({width:"75%",height:"75%"});function Nbe({crossOrigin:t,referrerPolicy:e,src:n,srcSet:r}){const[i,o]=D.useState(!1);return D.useEffect(()=>{if(!n&&!r)return;o(!1);let s=!0;const a=new Image;return a.onload=()=>{s&&o("loaded")},a.onerror=()=>{s&&o("error")},a.crossOrigin=t,a.referrerPolicy=e,a.src=n,r&&(a.srcset=r),()=>{s=!1}},[t,e,n,r]),i}const Lbe=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiAvatar"}),{alt:i,children:o,className:s,component:a="div",slots:l={},slotProps:u={},imgProps:c,sizes:f,src:h,srcSet:p,variant:g="circular"}=r,_=Fe(r,Pbe);let w=null;const b=Nbe(q({},c,{src:h,srcSet:p})),v=h||p,y=v&&b!=="error",x=q({},r,{colorDefault:!y,component:a,variant:g}),I=kbe(x),[O,S]=b0e("img",{className:I.img,elementType:Rbe,externalForwardedProps:{slots:l,slotProps:{img:q({},c,u.img)}},additionalProps:{alt:i,src:h,srcSet:p,sizes:f},ownerState:x});return y?w=E.jsx(O,q({},S)):o||o===0?w=o:v&&i?w=i[0]:w=E.jsx(Obe,{ownerState:x,className:I.fallback}),E.jsx(Abe,q({as:a,ownerState:x,className:st(I.root,s),ref:n},_,{children:w}))}),Dbe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],jbe={entering:{opacity:1},entered:{opacity:1}},xz=D.forwardRef(function(e,n){const r=Hx(),i={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{addEndListener:o,appear:s=!0,children:a,easing:l,in:u,onEnter:c,onEntered:f,onEntering:h,onExit:p,onExited:g,onExiting:_,style:w,timeout:b=i,TransitionComponent:v=nl}=e,y=Fe(e,Dbe),x=D.useRef(null),I=en(x,a.ref,n),O=V=>F=>{if(V){const z=x.current;F===void 0?V(z):V(z,F)}},S=O(h),C=O((V,F)=>{vz(V);const z=jw({style:w,timeout:b,easing:l},{mode:"enter"});V.style.webkitTransition=r.transitions.create("opacity",z),V.style.transition=r.transitions.create("opacity",z),c&&c(V,F)}),k=O(f),P=O(_),R=O(V=>{const F=jw({style:w,timeout:b,easing:l},{mode:"exit"});V.style.webkitTransition=r.transitions.create("opacity",F),V.style.transition=r.transitions.create("opacity",F),p&&p(V)}),L=O(g),N=V=>{o&&o(x.current,V)};return E.jsx(v,q({appear:s,in:u,nodeRef:x,onEnter:C,onEntered:k,onEntering:S,onExit:R,onExited:L,onExiting:P,addEndListener:N,timeout:b},y,{children:(V,F)=>D.cloneElement(a,q({style:q({opacity:0,visibility:V==="exited"&&!u?"hidden":void 0},jbe[V],w,a.props.style),ref:I},F))}))});function $be(t){return Dt("MuiBackdrop",t)}Nt("MuiBackdrop",["root","invisible"]);const Mbe=["children","className","component","components","componentsProps","invisible","open","slotProps","slots","TransitionComponent","transitionDuration"],Bbe=t=>{const{classes:e,invisible:n}=t;return wt({root:["root",n&&"invisible"]},$be,e)},Fbe=Je("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.invisible&&e.invisible]}})(({ownerState:t})=>q({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},t.invisible&&{backgroundColor:"transparent"})),Ez=D.forwardRef(function(e,n){var r,i,o;const s=Bt({props:e,name:"MuiBackdrop"}),{children:a,className:l,component:u="div",components:c={},componentsProps:f={},invisible:h=!1,open:p,slotProps:g={},slots:_={},TransitionComponent:w=xz,transitionDuration:b}=s,v=Fe(s,Mbe),y=q({},s,{component:u,invisible:h}),x=Bbe(y),I=(r=g.root)!=null?r:f.root;return E.jsx(w,q({in:p,timeout:b},v,{children:E.jsx(Fbe,q({"aria-hidden":!0},I,{as:(i=(o=_.root)!=null?o:c.Root)!=null?i:u,className:st(x.root,l,I==null?void 0:I.className),ownerState:q({},y,I==null?void 0:I.ownerState),classes:x,ref:n,children:a}))}))}),Vbe=Nt("MuiBox",["root"]),Ube=gR(),fT=Ife({themeId:qx,defaultTheme:Ube,defaultClassName:Vbe.root,generateClassName:KA.generate});function zbe(t){return Dt("MuiButton",t)}const Nb=Nt("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","colorPrimary","colorSecondary","colorSuccess","colorError","colorInfo","colorWarning","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","icon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),qbe=D.createContext({}),Hbe=D.createContext(void 0),Wbe=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],Kbe=t=>{const{color:e,disableElevation:n,fullWidth:r,size:i,variant:o,classes:s}=t,a={root:["root",o,`${o}${Ge(e)}`,`size${Ge(i)}`,`${o}Size${Ge(i)}`,`color${Ge(e)}`,n&&"disableElevation",r&&"fullWidth"],label:["label"],startIcon:["icon","startIcon",`iconSize${Ge(i)}`],endIcon:["icon","endIcon",`iconSize${Ge(i)}`]},l=wt(a,zbe,s);return q({},s,l)},Iz=t=>q({},t.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},t.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},t.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),Gbe=Je(gm,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiButton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],e[`${n.variant}${Ge(n.color)}`],e[`size${Ge(n.size)}`],e[`${n.variant}Size${Ge(n.size)}`],n.color==="inherit"&&e.colorInherit,n.disableElevation&&e.disableElevation,n.fullWidth&&e.fullWidth]}})(({theme:t,ownerState:e})=>{var n,r;const i=t.palette.mode==="light"?t.palette.grey[300]:t.palette.grey[800],o=t.palette.mode==="light"?t.palette.grey.A100:t.palette.grey[700];return q({},t.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create(["background-color","box-shadow","border-color","color"],{duration:t.transitions.duration.short}),"&:hover":q({textDecoration:"none",backgroundColor:t.vars?`rgba(${t.vars.palette.text.primaryChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette.text.primary,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="text"&&e.color!=="inherit"&&{backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="outlined"&&e.color!=="inherit"&&{border:`1px solid ${(t.vars||t).palette[e.color].main}`,backgroundColor:t.vars?`rgba(${t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},e.variant==="contained"&&{backgroundColor:t.vars?t.vars.palette.Button.inheritContainedHoverBg:o,boxShadow:(t.vars||t).shadows[4],"@media (hover: none)":{boxShadow:(t.vars||t).shadows[2],backgroundColor:(t.vars||t).palette.grey[300]}},e.variant==="contained"&&e.color!=="inherit"&&{backgroundColor:(t.vars||t).palette[e.color].dark,"@media (hover: none)":{backgroundColor:(t.vars||t).palette[e.color].main}}),"&:active":q({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[8]}),[`&.${Nb.focusVisible}`]:q({},e.variant==="contained"&&{boxShadow:(t.vars||t).shadows[6]}),[`&.${Nb.disabled}`]:q({color:(t.vars||t).palette.action.disabled},e.variant==="outlined"&&{border:`1px solid ${(t.vars||t).palette.action.disabledBackground}`},e.variant==="contained"&&{color:(t.vars||t).palette.action.disabled,boxShadow:(t.vars||t).shadows[0],backgroundColor:(t.vars||t).palette.action.disabledBackground})},e.variant==="text"&&{padding:"6px 8px"},e.variant==="text"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main},e.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},e.variant==="outlined"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].main,border:t.vars?`1px solid rgba(${t.vars.palette[e.color].mainChannel} / 0.5)`:`1px solid ${dr(t.palette[e.color].main,.5)}`},e.variant==="contained"&&{color:t.vars?t.vars.palette.text.primary:(n=(r=t.palette).getContrastText)==null?void 0:n.call(r,t.palette.grey[300]),backgroundColor:t.vars?t.vars.palette.Button.inheritContainedBg:i,boxShadow:(t.vars||t).shadows[2]},e.variant==="contained"&&e.color!=="inherit"&&{color:(t.vars||t).palette[e.color].contrastText,backgroundColor:(t.vars||t).palette[e.color].main},e.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},e.size==="small"&&e.variant==="text"&&{padding:"4px 5px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="text"&&{padding:"8px 11px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="outlined"&&{padding:"3px 9px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="outlined"&&{padding:"7px 21px",fontSize:t.typography.pxToRem(15)},e.size==="small"&&e.variant==="contained"&&{padding:"4px 10px",fontSize:t.typography.pxToRem(13)},e.size==="large"&&e.variant==="contained"&&{padding:"8px 22px",fontSize:t.typography.pxToRem(15)},e.fullWidth&&{width:"100%"})},({ownerState:t})=>t.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${Nb.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${Nb.disabled}`]:{boxShadow:"none"}}),Qbe=Je("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.startIcon,e[`iconSize${Ge(n.size)}`]]}})(({ownerState:t})=>q({display:"inherit",marginRight:8,marginLeft:-4},t.size==="small"&&{marginLeft:-2},Iz(t))),Ybe=Je("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.endIcon,e[`iconSize${Ge(n.size)}`]]}})(({ownerState:t})=>q({display:"inherit",marginRight:-4,marginLeft:8},t.size==="small"&&{marginRight:-2},Iz(t))),It=D.forwardRef(function(e,n){const r=D.useContext(qbe),i=D.useContext(Hbe),o=ry(r,e),s=Bt({props:o,name:"MuiButton"}),{children:a,color:l="primary",component:u="button",className:c,disabled:f=!1,disableElevation:h=!1,disableFocusRipple:p=!1,endIcon:g,focusVisibleClassName:_,fullWidth:w=!1,size:b="medium",startIcon:v,type:y,variant:x="text"}=s,I=Fe(s,Wbe),O=q({},s,{color:l,component:u,disabled:f,disableElevation:h,disableFocusRipple:p,fullWidth:w,size:b,type:y,variant:x}),S=Kbe(O),C=v&&E.jsx(Qbe,{className:S.startIcon,ownerState:O,children:v}),k=g&&E.jsx(Ybe,{className:S.endIcon,ownerState:O,children:g}),P=i||"";return E.jsxs(Gbe,q({ownerState:O,className:st(r.className,S.root,c,P),component:u,disabled:f,focusRipple:!p,focusVisibleClassName:st(S.focusVisible,_),ref:n,type:y},I,{classes:S,children:[C,a,k]}))});function Xbe(t){return Dt("PrivateSwitchBase",t)}Nt("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const Jbe=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],Zbe=t=>{const{classes:e,checked:n,disabled:r,edge:i}=t,o={root:["root",n&&"checked",r&&"disabled",i&&`edge${Ge(i)}`],input:["input"]};return wt(o,Xbe,e)},e_e=Je(gm)(({ownerState:t})=>q({padding:9,borderRadius:"50%"},t.edge==="start"&&{marginLeft:t.size==="small"?-3:-12},t.edge==="end"&&{marginRight:t.size==="small"?-3:-12})),t_e=Je("input",{shouldForwardProp:$i})({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),n_e=D.forwardRef(function(e,n){const{autoFocus:r,checked:i,checkedIcon:o,className:s,defaultChecked:a,disabled:l,disableFocusRipple:u=!1,edge:c=!1,icon:f,id:h,inputProps:p,inputRef:g,name:_,onBlur:w,onChange:b,onFocus:v,readOnly:y,required:x=!1,tabIndex:I,type:O,value:S}=e,C=Fe(e,Jbe),[k,P]=iy({controlled:i,default:!!a,name:"SwitchBase",state:"checked"}),R=rl(),L=Q=>{v&&v(Q),R&&R.onFocus&&R.onFocus(Q)},N=Q=>{w&&w(Q),R&&R.onBlur&&R.onBlur(Q)},V=Q=>{if(Q.nativeEvent.defaultPrevented)return;const G=Q.target.checked;P(G),b&&b(Q,G)};let F=l;R&&typeof F>"u"&&(F=R.disabled);const z=O==="checkbox"||O==="radio",B=q({},e,{checked:k,disabled:F,disableFocusRipple:u,edge:c}),W=Zbe(B);return E.jsxs(e_e,q({component:"span",className:st(W.root,s),centerRipple:!0,focusRipple:!u,disabled:F,tabIndex:null,role:void 0,onFocus:L,onBlur:N,ownerState:B,ref:n},C,{children:[E.jsx(t_e,q({autoFocus:r,checked:i,defaultChecked:a,className:W.input,disabled:F,id:z?h:void 0,name:_,onChange:V,readOnly:y,ref:g,required:x,ownerState:B,tabIndex:I,type:O},O==="checkbox"&&S===void 0?{}:{value:S},p)),k?o:f]}))}),r_e=Ro(E.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),i_e=Ro(E.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),o_e=Ro(E.jsx("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function s_e(t){return Dt("MuiCheckbox",t)}const hT=Nt("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary","sizeSmall","sizeMedium"]),a_e=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],l_e=t=>{const{classes:e,indeterminate:n,color:r,size:i}=t,o={root:["root",n&&"indeterminate",`color${Ge(r)}`,`size${Ge(i)}`]},s=wt(o,s_e,e);return q({},e,s)},u_e=Je(n_e,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.indeterminate&&e.indeterminate,e[`size${Ge(n.size)}`],n.color!=="default"&&e[`color${Ge(n.color)}`]]}})(({theme:t,ownerState:e})=>q({color:(t.vars||t).palette.text.secondary},!e.disableRipple&&{"&:hover":{backgroundColor:t.vars?`rgba(${e.color==="default"?t.vars.palette.action.activeChannel:t.vars.palette[e.color].mainChannel} / ${t.vars.palette.action.hoverOpacity})`:dr(e.color==="default"?t.palette.action.active:t.palette[e.color].main,t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},e.color!=="default"&&{[`&.${hT.checked}, &.${hT.indeterminate}`]:{color:(t.vars||t).palette[e.color].main},[`&.${hT.disabled}`]:{color:(t.vars||t).palette.action.disabled}})),c_e=E.jsx(i_e,{}),d_e=E.jsx(r_e,{}),f_e=E.jsx(o_e,{}),Ps=D.forwardRef(function(e,n){var r,i;const o=Bt({props:e,name:"MuiCheckbox"}),{checkedIcon:s=c_e,color:a="primary",icon:l=d_e,indeterminate:u=!1,indeterminateIcon:c=f_e,inputProps:f,size:h="medium",className:p}=o,g=Fe(o,a_e),_=u?c:l,w=u?c:s,b=q({},o,{color:a,indeterminate:u,size:h}),v=l_e(b);return E.jsx(u_e,q({type:"checkbox",inputProps:q({"data-indeterminate":u},f),icon:D.cloneElement(_,{fontSize:(r=_.props.fontSize)!=null?r:h}),checkedIcon:D.cloneElement(w,{fontSize:(i=w.props.fontSize)!=null?i:h}),ownerState:b,ref:n,className:st(v.root,p)},g,{classes:v}))}),h_e=xhe({createStyledComponent:Je("div",{name:"MuiContainer",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[`maxWidth${Ge(String(n.maxWidth))}`],n.fixed&&e.fixed,n.disableGutters&&e.disableGutters]}}),useThemeProps:t=>Bt({props:t,name:"MuiContainer"})});function p_e(t){const e=li(t);return e.body===t?Xa(t).innerWidth>e.documentElement.clientWidth:t.scrollHeight>t.clientHeight}function tv(t,e){e?t.setAttribute("aria-hidden","true"):t.removeAttribute("aria-hidden")}function D$(t){return parseInt(Xa(t).getComputedStyle(t).paddingRight,10)||0}function m_e(t){const n=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(t.tagName)!==-1,r=t.tagName==="INPUT"&&t.getAttribute("type")==="hidden";return n||r}function j$(t,e,n,r,i){const o=[e,n,...r];[].forEach.call(t.children,s=>{const a=o.indexOf(s)===-1,l=!m_e(s);a&&l&&tv(s,i)})}function pT(t,e){let n=-1;return t.some((r,i)=>e(r)?(n=i,!0):!1),n}function g_e(t,e){const n=[],r=t.container;if(!e.disableScrollLock){if(p_e(r)){const s=YU(li(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight=`${D$(r)+s}px`;const a=li(r).querySelectorAll(".mui-fixed");[].forEach.call(a,l=>{n.push({value:l.style.paddingRight,property:"padding-right",el:l}),l.style.paddingRight=`${D$(l)+s}px`})}let o;if(r.parentNode instanceof DocumentFragment)o=li(r).body;else{const s=r.parentElement,a=Xa(r);o=(s==null?void 0:s.nodeName)==="HTML"&&a.getComputedStyle(s).overflowY==="scroll"?s:r}n.push({value:o.style.overflow,property:"overflow",el:o},{value:o.style.overflowX,property:"overflow-x",el:o},{value:o.style.overflowY,property:"overflow-y",el:o}),o.style.overflow="hidden"}return()=>{n.forEach(({value:o,el:s,property:a})=>{o?s.style.setProperty(a,o):s.style.removeProperty(a)})}}function v_e(t){const e=[];return[].forEach.call(t.children,n=>{n.getAttribute("aria-hidden")==="true"&&e.push(n)}),e}class y_e{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(e,n){let r=this.modals.indexOf(e);if(r!==-1)return r;r=this.modals.length,this.modals.push(e),e.modalRef&&tv(e.modalRef,!1);const i=v_e(n);j$(n,e.mount,e.modalRef,i,!0);const o=pT(this.containers,s=>s.container===n);return o!==-1?(this.containers[o].modals.push(e),r):(this.containers.push({modals:[e],container:n,restore:null,hiddenSiblings:i}),r)}mount(e,n){const r=pT(this.containers,o=>o.modals.indexOf(e)!==-1),i=this.containers[r];i.restore||(i.restore=g_e(i,n))}remove(e,n=!0){const r=this.modals.indexOf(e);if(r===-1)return r;const i=pT(this.containers,s=>s.modals.indexOf(e)!==-1),o=this.containers[i];if(o.modals.splice(o.modals.indexOf(e),1),this.modals.splice(r,1),o.modals.length===0)o.restore&&o.restore(),e.modalRef&&tv(e.modalRef,n),j$(o.container,e.mount,e.modalRef,o.hiddenSiblings,!1),this.containers.splice(i,1);else{const s=o.modals[o.modals.length-1];s.modalRef&&tv(s.modalRef,!1)}return r}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}}const b_e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function __e(t){const e=parseInt(t.getAttribute("tabindex")||"",10);return Number.isNaN(e)?t.contentEditable==="true"||(t.nodeName==="AUDIO"||t.nodeName==="VIDEO"||t.nodeName==="DETAILS")&&t.getAttribute("tabindex")===null?0:t.tabIndex:e}function w_e(t){if(t.tagName!=="INPUT"||t.type!=="radio"||!t.name)return!1;const e=r=>t.ownerDocument.querySelector(`input[type="radio"]${r}`);let n=e(`[name="${t.name}"]:checked`);return n||(n=e(`[name="${t.name}"]`)),n!==t}function x_e(t){return!(t.disabled||t.tagName==="INPUT"&&t.type==="hidden"||w_e(t))}function E_e(t){const e=[],n=[];return Array.from(t.querySelectorAll(b_e)).forEach((r,i)=>{const o=__e(r);o===-1||!x_e(r)||(o===0?e.push(r):n.push({documentOrder:i,tabIndex:o,node:r}))}),n.sort((r,i)=>r.tabIndex===i.tabIndex?r.documentOrder-i.documentOrder:r.tabIndex-i.tabIndex).map(r=>r.node).concat(e)}function I_e(){return!0}function T_e(t){const{children:e,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:i=!1,getTabbable:o=E_e,isEnabled:s=I_e,open:a}=t,l=D.useRef(!1),u=D.useRef(null),c=D.useRef(null),f=D.useRef(null),h=D.useRef(null),p=D.useRef(!1),g=D.useRef(null),_=en(e.ref,g),w=D.useRef(null);D.useEffect(()=>{!a||!g.current||(p.current=!n)},[n,a]),D.useEffect(()=>{if(!a||!g.current)return;const y=li(g.current);return g.current.contains(y.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),p.current&&g.current.focus()),()=>{i||(f.current&&f.current.focus&&(l.current=!0,f.current.focus()),f.current=null)}},[a]),D.useEffect(()=>{if(!a||!g.current)return;const y=li(g.current),x=S=>{w.current=S,!(r||!s()||S.key!=="Tab")&&y.activeElement===g.current&&S.shiftKey&&(l.current=!0,c.current&&c.current.focus())},I=()=>{const S=g.current;if(S===null)return;if(!y.hasFocus()||!s()||l.current){l.current=!1;return}if(S.contains(y.activeElement)||r&&y.activeElement!==u.current&&y.activeElement!==c.current)return;if(y.activeElement!==h.current)h.current=null;else if(h.current!==null)return;if(!p.current)return;let C=[];if((y.activeElement===u.current||y.activeElement===c.current)&&(C=o(g.current)),C.length>0){var k,P;const R=!!((k=w.current)!=null&&k.shiftKey&&((P=w.current)==null?void 0:P.key)==="Tab"),L=C[0],N=C[C.length-1];typeof L!="string"&&typeof N!="string"&&(R?N.focus():L.focus())}else S.focus()};y.addEventListener("focusin",I),y.addEventListener("keydown",x,!0);const O=setInterval(()=>{y.activeElement&&y.activeElement.tagName==="BODY"&&I()},50);return()=>{clearInterval(O),y.removeEventListener("focusin",I),y.removeEventListener("keydown",x,!0)}},[n,r,i,s,a,o]);const b=y=>{f.current===null&&(f.current=y.relatedTarget),p.current=!0,h.current=y.target;const x=e.props.onFocus;x&&x(y)},v=y=>{f.current===null&&(f.current=y.relatedTarget),p.current=!0};return E.jsxs(D.Fragment,{children:[E.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:u,"data-testid":"sentinelStart"}),D.cloneElement(e,{ref:_,onFocus:b}),E.jsx("div",{tabIndex:a?0:-1,onFocus:v,ref:c,"data-testid":"sentinelEnd"})]})}function S_e(t){return typeof t=="function"?t():t}function C_e(t){return t?t.props.hasOwnProperty("in"):!1}const P_e=new y_e;function k_e(t){const{container:e,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,manager:i=P_e,closeAfterTransition:o=!1,onTransitionEnter:s,onTransitionExited:a,children:l,onClose:u,open:c,rootRef:f}=t,h=D.useRef({}),p=D.useRef(null),g=D.useRef(null),_=en(g,f),[w,b]=D.useState(!c),v=C_e(l);let y=!0;(t["aria-hidden"]==="false"||t["aria-hidden"]===!1)&&(y=!1);const x=()=>li(p.current),I=()=>(h.current.modalRef=g.current,h.current.mount=p.current,h.current),O=()=>{i.mount(I(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},S=Ll(()=>{const z=S_e(e)||x().body;i.add(I(),z),g.current&&O()}),C=D.useCallback(()=>i.isTopModal(I()),[i]),k=Ll(z=>{p.current=z,z&&(c&&C()?O():g.current&&tv(g.current,y))}),P=D.useCallback(()=>{i.remove(I(),y)},[y,i]);D.useEffect(()=>()=>{P()},[P]),D.useEffect(()=>{c?S():(!v||!o)&&P()},[c,P,v,o,S]);const R=z=>B=>{var W;(W=z.onKeyDown)==null||W.call(z,B),!(B.key!=="Escape"||B.which===229||!C())&&(n||(B.stopPropagation(),u&&u(B,"escapeKeyDown")))},L=z=>B=>{var W;(W=z.onClick)==null||W.call(z,B),B.target===B.currentTarget&&u&&u(B,"backdropClick")};return{getRootProps:(z={})=>{const B=XU(t);delete B.onTransitionEnter,delete B.onTransitionExited;const W=q({},B,z);return q({role:"presentation"},W,{onKeyDown:R(W),ref:_})},getBackdropProps:(z={})=>{const B=z;return q({"aria-hidden":!0},B,{onClick:L(B),open:c})},getTransitionProps:()=>{const z=()=>{b(!1),s&&s()},B=()=>{b(!0),a&&a(),o&&P()};return{onEnter:bC(z,l==null?void 0:l.props.onEnter),onExited:bC(B,l==null?void 0:l.props.onExited)}},rootRef:_,portalRef:k,isTopModal:C,exited:w,hasTransition:v}}function A_e(t){return Dt("MuiModal",t)}Nt("MuiModal",["root","hidden","backdrop"]);const R_e=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],O_e=t=>{const{open:e,exited:n,classes:r}=t;return wt({root:["root",!e&&n&&"hidden"],backdrop:["backdrop"]},A_e,r)},N_e=Je("div",{name:"MuiModal",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.open&&n.exited&&e.hidden]}})(({theme:t,ownerState:e})=>q({position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0},!e.open&&e.exited&&{visibility:"hidden"})),L_e=Je(Ez,{name:"MuiModal",slot:"Backdrop",overridesResolver:(t,e)=>e.backdrop})({zIndex:-1}),Tz=D.forwardRef(function(e,n){var r,i,o,s,a,l;const u=Bt({name:"MuiModal",props:e}),{BackdropComponent:c=L_e,BackdropProps:f,className:h,closeAfterTransition:p=!1,children:g,container:_,component:w,components:b={},componentsProps:v={},disableAutoFocus:y=!1,disableEnforceFocus:x=!1,disableEscapeKeyDown:I=!1,disablePortal:O=!1,disableRestoreFocus:S=!1,disableScrollLock:C=!1,hideBackdrop:k=!1,keepMounted:P=!1,onBackdropClick:R,open:L,slotProps:N,slots:V}=u,F=Fe(u,R_e),z=q({},u,{closeAfterTransition:p,disableAutoFocus:y,disableEnforceFocus:x,disableEscapeKeyDown:I,disablePortal:O,disableRestoreFocus:S,disableScrollLock:C,hideBackdrop:k,keepMounted:P}),{getRootProps:B,getBackdropProps:W,getTransitionProps:Q,portalRef:G,isTopModal:j,exited:U,hasTransition:K}=k_e(q({},z,{rootRef:n})),ne=q({},z,{exited:U}),oe=O_e(ne),X={};if(g.props.tabIndex===void 0&&(X.tabIndex="-1"),K){const{onEnter:ve,onExited:we}=Q();X.onEnter=ve,X.onExited=we}const Z=(r=(i=V==null?void 0:V.root)!=null?i:b.Root)!=null?r:N_e,re=(o=(s=V==null?void 0:V.backdrop)!=null?s:b.Backdrop)!=null?o:c,ue=(a=N==null?void 0:N.root)!=null?a:v.root,te=(l=N==null?void 0:N.backdrop)!=null?l:v.backdrop,fe=ff({elementType:Z,externalSlotProps:ue,externalForwardedProps:F,getSlotProps:B,additionalProps:{ref:n,as:w},ownerState:ne,className:st(h,ue==null?void 0:ue.className,oe==null?void 0:oe.root,!ne.open&&ne.exited&&(oe==null?void 0:oe.hidden))}),be=ff({elementType:re,externalSlotProps:te,additionalProps:f,getSlotProps:ve=>W(q({},ve,{onClick:we=>{R&&R(we),ve!=null&&ve.onClick&&ve.onClick(we)}})),className:st(te==null?void 0:te.className,f==null?void 0:f.className,oe==null?void 0:oe.backdrop),ownerState:ne});return!P&&!L&&(!K||U)?null:E.jsx(_z,{ref:G,container:_,disablePortal:O,children:E.jsxs(Z,q({},fe,{children:[!k&&c?E.jsx(re,q({},be)):null,E.jsx(T_e,{disableEnforceFocus:x,disableAutoFocus:y,disableRestoreFocus:S,isEnabled:j,open:L,children:D.cloneElement(g,X)})]}))})});function D_e(t){return Dt("MuiDialog",t)}const mT=Nt("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),Sz=D.createContext({}),j_e=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],$_e=Je(Ez,{name:"MuiDialog",slot:"Backdrop",overrides:(t,e)=>e.backdrop})({zIndex:-1}),M_e=t=>{const{classes:e,scroll:n,maxWidth:r,fullWidth:i,fullScreen:o}=t,s={root:["root"],container:["container",`scroll${Ge(n)}`],paper:["paper",`paperScroll${Ge(n)}`,`paperWidth${Ge(String(r))}`,i&&"paperFullWidth",o&&"paperFullScreen"]};return wt(s,D_e,e)},B_e=Je(Tz,{name:"MuiDialog",slot:"Root",overridesResolver:(t,e)=>e.root})({"@media print":{position:"absolute !important"}}),F_e=Je("div",{name:"MuiDialog",slot:"Container",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.container,e[`scroll${Ge(n.scroll)}`]]}})(({ownerState:t})=>q({height:"100%","@media print":{height:"auto"},outline:0},t.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},t.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&::after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),V_e=Je(Wx,{name:"MuiDialog",slot:"Paper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.paper,e[`scrollPaper${Ge(n.scroll)}`],e[`paperWidth${Ge(String(n.maxWidth))}`],n.fullWidth&&e.paperFullWidth,n.fullScreen&&e.paperFullScreen]}})(({theme:t,ownerState:e})=>q({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},e.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},e.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!e.maxWidth&&{maxWidth:"calc(100% - 64px)"},e.maxWidth==="xs"&&{maxWidth:t.breakpoints.unit==="px"?Math.max(t.breakpoints.values.xs,444):`max(${t.breakpoints.values.xs}${t.breakpoints.unit}, 444px)`,[`&.${mT.paperScrollBody}`]:{[t.breakpoints.down(Math.max(t.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.maxWidth&&e.maxWidth!=="xs"&&{maxWidth:`${t.breakpoints.values[e.maxWidth]}${t.breakpoints.unit}`,[`&.${mT.paperScrollBody}`]:{[t.breakpoints.down(t.breakpoints.values[e.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},e.fullWidth&&{width:"calc(100% - 64px)"},e.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${mT.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),n0=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiDialog"}),i=Hx(),o={enter:i.transitions.duration.enteringScreen,exit:i.transitions.duration.leavingScreen},{"aria-describedby":s,"aria-labelledby":a,BackdropComponent:l,BackdropProps:u,children:c,className:f,disableEscapeKeyDown:h=!1,fullScreen:p=!1,fullWidth:g=!1,maxWidth:_="sm",onBackdropClick:w,onClick:b,onClose:v,open:y,PaperComponent:x=Wx,PaperProps:I={},scroll:O="paper",TransitionComponent:S=xz,transitionDuration:C=o,TransitionProps:k}=r,P=Fe(r,j_e),R=q({},r,{disableEscapeKeyDown:h,fullScreen:p,fullWidth:g,maxWidth:_,scroll:O}),L=M_e(R),N=D.useRef(),V=W=>{N.current=W.target===W.currentTarget},F=W=>{b&&b(W),N.current&&(N.current=null,w&&w(W),v&&v(W,"backdropClick"))},z=Oc(a),B=D.useMemo(()=>({titleId:z}),[z]);return E.jsx(B_e,q({className:st(L.root,f),closeAfterTransition:!0,components:{Backdrop:$_e},componentsProps:{backdrop:q({transitionDuration:C,as:l},u)},disableEscapeKeyDown:h,onClose:v,open:y,ref:n,onClick:F,ownerState:R},P,{children:E.jsx(S,q({appear:!0,in:y,timeout:C,role:"presentation"},k,{children:E.jsx(F_e,{className:st(L.container),onMouseDown:V,ownerState:R,children:E.jsx(V_e,q({as:x,elevation:24,role:"dialog","aria-describedby":s,"aria-labelledby":z},I,{className:st(L.paper,I.className),ownerState:R,children:E.jsx(Sz.Provider,{value:B,children:c})}))})}))}))});function U_e(t){return Dt("MuiDialogActions",t)}Nt("MuiDialogActions",["root","spacing"]);const z_e=["className","disableSpacing"],q_e=t=>{const{classes:e,disableSpacing:n}=t;return wt({root:["root",!n&&"spacing"]},U_e,e)},H_e=Je("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableSpacing&&e.spacing]}})(({ownerState:t})=>q({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!t.disableSpacing&&{"& > :not(style) ~ :not(style)":{marginLeft:8}})),xR=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiDialogActions"}),{className:i,disableSpacing:o=!1}=r,s=Fe(r,z_e),a=q({},r,{disableSpacing:o}),l=q_e(a);return E.jsx(H_e,q({className:st(l.root,i),ownerState:a,ref:n},s))});function W_e(t){return Dt("MuiDialogContent",t)}Nt("MuiDialogContent",["root","dividers"]);function K_e(t){return Dt("MuiDialogTitle",t)}const G_e=Nt("MuiDialogTitle",["root"]),Q_e=["className","dividers"],Y_e=t=>{const{classes:e,dividers:n}=t;return wt({root:["root",n&&"dividers"]},W_e,e)},X_e=Je("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.dividers&&e.dividers]}})(({theme:t,ownerState:e})=>q({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},e.dividers?{padding:"16px 24px",borderTop:`1px solid ${(t.vars||t).palette.divider}`,borderBottom:`1px solid ${(t.vars||t).palette.divider}`}:{[`.${G_e.root} + &`]:{paddingTop:0}})),ER=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiDialogContent"}),{className:i,dividers:o=!1}=r,s=Fe(r,Q_e),a=q({},r,{dividers:o}),l=Y_e(a);return E.jsx(X_e,q({className:st(l.root,i),ownerState:a,ref:n},s))});function J_e(t){return Dt("MuiDialogContentText",t)}Nt("MuiDialogContentText",["root"]);const Z_e=["children","className"],ewe=t=>{const{classes:e}=t,r=wt({root:["root"]},J_e,e);return q({},e,r)},twe=Je(si,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(t,e)=>e.root})({}),IR=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiDialogContentText"}),{className:i}=r,o=Fe(r,Z_e),s=ewe(o);return E.jsx(twe,q({component:"p",variant:"body1",color:"text.secondary",ref:n,ownerState:o,className:st(s.root,i)},r,{classes:s}))}),nwe=["className","id"],rwe=t=>{const{classes:e}=t;return wt({root:["root"]},K_e,e)},iwe=Je(si,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(t,e)=>e.root})({padding:"16px 24px",flex:"0 0 auto"}),TR=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiDialogTitle"}),{className:i,id:o}=r,s=Fe(r,nwe),a=r,l=rwe(a),{titleId:u=o}=D.useContext(Sz);return E.jsx(iwe,q({component:"h2",className:st(l.root,i),ownerState:a,ref:n,variant:"h6",id:o??u},s))}),$$=Nt("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),owe=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],swe=t=>{const{classes:e,disableUnderline:n}=t,i=wt({root:["root",!n&&"underline"],input:["input"]},Ibe,e);return q({},e,i)},awe=Je(Xx,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Qx(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{var n;const r=t.palette.mode==="light",i=r?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",o=r?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",s=r?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",a=r?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return q({position:"relative",backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o,borderTopLeftRadius:(t.vars||t).shape.borderRadius,borderTopRightRadius:(t.vars||t).shape.borderRadius,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),"&:hover":{backgroundColor:t.vars?t.vars.palette.FilledInput.hoverBg:s,"@media (hover: none)":{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o}},[`&.${ad.focused}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.bg:o},[`&.${ad.disabled}`]:{backgroundColor:t.vars?t.vars.palette.FilledInput.disabledBg:a}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(n=(t.vars||t).palette[e.color||"primary"])==null?void 0:n.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ad.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ad.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`:i}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ad.disabled}, .${ad.error}):before`]:{borderBottom:`1px solid ${(t.vars||t).palette.text.primary}`},[`&.${ad.disabled}:before`]:{borderBottomStyle:"dotted"}},e.startAdornment&&{paddingLeft:12},e.endAdornment&&{paddingRight:12},e.multiline&&q({padding:"25px 12px 8px"},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9}))}),lwe=Je(Jx,{name:"MuiFilledInput",slot:"Input",overridesResolver:Yx})(({theme:t,ownerState:e})=>q({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{paddingTop:21,paddingBottom:4},e.hiddenLabel&&{paddingTop:16,paddingBottom:17},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0},e.hiddenLabel&&e.size==="small"&&{paddingTop:8,paddingBottom:9},e.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0})),SR=D.forwardRef(function(e,n){var r,i,o,s;const a=Bt({props:e,name:"MuiFilledInput"}),{components:l={},componentsProps:u,fullWidth:c=!1,inputComponent:f="input",multiline:h=!1,slotProps:p,slots:g={},type:_="text"}=a,w=Fe(a,owe),b=q({},a,{fullWidth:c,inputComponent:f,multiline:h,type:_}),v=swe(a),y={root:{ownerState:b},input:{ownerState:b}},x=p??u?Vr(y,p??u):y,I=(r=(i=g.root)!=null?i:l.Root)!=null?r:awe,O=(o=(s=g.input)!=null?s:l.Input)!=null?o:lwe;return E.jsx(wR,q({slots:{root:I,input:O},componentsProps:x,fullWidth:c,inputComponent:f,multiline:h,ref:n,type:_},w,{classes:v}))});SR.muiName="Input";function uwe(t){return Dt("MuiFormControl",t)}Nt("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const cwe=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],dwe=t=>{const{classes:e,margin:n,fullWidth:r}=t,i={root:["root",n!=="none"&&`margin${Ge(n)}`,r&&"fullWidth"]};return wt(i,uwe,e)},fwe=Je("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:t},e)=>q({},e.root,e[`margin${Ge(t.margin)}`],t.fullWidth&&e.fullWidth)})(({ownerState:t})=>q({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},t.margin==="normal"&&{marginTop:16,marginBottom:8},t.margin==="dense"&&{marginTop:8,marginBottom:4},t.fullWidth&&{width:"100%"})),hwe=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiFormControl"}),{children:i,className:o,color:s="primary",component:a="div",disabled:l=!1,error:u=!1,focused:c,fullWidth:f=!1,hiddenLabel:h=!1,margin:p="none",required:g=!1,size:_="medium",variant:w="outlined"}=r,b=Fe(r,cwe),v=q({},r,{color:s,component:a,disabled:l,error:u,fullWidth:f,hiddenLabel:h,margin:p,required:g,size:_,variant:w}),y=dwe(v),[x,I]=D.useState(()=>{let N=!1;return i&&D.Children.forEach(i,V=>{if(!Jg(V,["Input","Select"]))return;const F=Jg(V,["Select"])?V.props.input:V;F&&vbe(F.props)&&(N=!0)}),N}),[O,S]=D.useState(()=>{let N=!1;return i&&D.Children.forEach(i,V=>{Jg(V,["Input","Select"])&&($w(V.props,!0)||$w(V.props.inputProps,!0))&&(N=!0)}),N}),[C,k]=D.useState(!1);l&&C&&k(!1);const P=c!==void 0&&!l?c:C;let R;const L=D.useMemo(()=>({adornedStart:x,setAdornedStart:I,color:s,disabled:l,error:u,filled:O,focused:P,fullWidth:f,hiddenLabel:h,size:_,onBlur:()=>{k(!1)},onEmpty:()=>{S(!1)},onFilled:()=>{S(!0)},onFocus:()=>{k(!0)},registerEffect:R,required:g,variant:w}),[x,s,l,u,O,P,f,h,R,g,_,w]);return E.jsx(Gx.Provider,{value:L,children:E.jsx(fwe,q({as:a,ownerState:v,className:st(y.root,o),ref:n},b,{children:i}))})}),Cz=Ahe({createStyledComponent:Je("div",{name:"MuiStack",slot:"Root",overridesResolver:(t,e)=>e.root}),useThemeProps:t=>Bt({props:t,name:"MuiStack"})});function pwe(t){return Dt("MuiFormControlLabel",t)}const Ag=Nt("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error","required","asterisk"]),mwe=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","required","slotProps","value"],gwe=t=>{const{classes:e,disabled:n,labelPlacement:r,error:i,required:o}=t,s={root:["root",n&&"disabled",`labelPlacement${Ge(r)}`,i&&"error",o&&"required"],label:["label",n&&"disabled"],asterisk:["asterisk",i&&"error"]};return wt(s,pwe,e)},vwe=Je("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Ag.label}`]:e.label},e.root,e[`labelPlacement${Ge(n.labelPlacement)}`]]}})(({theme:t,ownerState:e})=>q({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${Ag.disabled}`]:{cursor:"default"}},e.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},e.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},e.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${Ag.label}`]:{[`&.${Ag.disabled}`]:{color:(t.vars||t).palette.text.disabled}}})),ywe=Je("span",{name:"MuiFormControlLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${Ag.error}`]:{color:(t.vars||t).palette.error.main}})),ks=D.forwardRef(function(e,n){var r,i;const o=Bt({props:e,name:"MuiFormControlLabel"}),{className:s,componentsProps:a={},control:l,disabled:u,disableTypography:c,label:f,labelPlacement:h="end",required:p,slotProps:g={}}=o,_=Fe(o,mwe),w=rl(),b=(r=u??l.props.disabled)!=null?r:w==null?void 0:w.disabled,v=p??l.props.required,y={disabled:b,required:v};["checked","name","onChange","value","inputRef"].forEach(k=>{typeof l.props[k]>"u"&&typeof o[k]<"u"&&(y[k]=o[k])});const x=Dc({props:o,muiFormControl:w,states:["error"]}),I=q({},o,{disabled:b,labelPlacement:h,required:v,error:x.error}),O=gwe(I),S=(i=g.typography)!=null?i:a.typography;let C=f;return C!=null&&C.type!==si&&!c&&(C=E.jsx(si,q({component:"span"},S,{className:st(O.label,S==null?void 0:S.className),children:C}))),E.jsxs(vwe,q({className:st(O.root,s),ownerState:I,ref:n},_,{children:[D.cloneElement(l,y),v?E.jsxs(Cz,{display:"block",children:[C,E.jsxs(ywe,{ownerState:I,"aria-hidden":!0,className:O.asterisk,children:["","*"]})]}):C]}))});function bwe(t){return Dt("MuiFormGroup",t)}Nt("MuiFormGroup",["root","row","error"]);const _we=["className","row"],wwe=t=>{const{classes:e,row:n,error:r}=t;return wt({root:["root",n&&"row",r&&"error"]},bwe,e)},xwe=Je("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.row&&e.row]}})(({ownerState:t})=>q({display:"flex",flexDirection:"column",flexWrap:"wrap"},t.row&&{flexDirection:"row"})),Yl=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiFormGroup"}),{className:i,row:o=!1}=r,s=Fe(r,_we),a=rl(),l=Dc({props:r,muiFormControl:a,states:["error"]}),u=q({},r,{row:o,error:l.error}),c=wwe(u);return E.jsx(xwe,q({className:st(c.root,i),ownerState:u,ref:n},s))});function Ewe(t){return Dt("MuiFormHelperText",t)}const M$=Nt("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]);var B$;const Iwe=["children","className","component","disabled","error","filled","focused","margin","required","variant"],Twe=t=>{const{classes:e,contained:n,size:r,disabled:i,error:o,filled:s,focused:a,required:l}=t,u={root:["root",i&&"disabled",o&&"error",r&&`size${Ge(r)}`,n&&"contained",a&&"focused",s&&"filled",l&&"required"]};return wt(u,Ewe,e)},Swe=Je("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.size&&e[`size${Ge(n.size)}`],n.contained&&e.contained,n.filled&&e.filled]}})(({theme:t,ownerState:e})=>q({color:(t.vars||t).palette.text.secondary},t.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${M$.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${M$.error}`]:{color:(t.vars||t).palette.error.main}},e.size==="small"&&{marginTop:4},e.contained&&{marginLeft:14,marginRight:14})),Cwe=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiFormHelperText"}),{children:i,className:o,component:s="p"}=r,a=Fe(r,Iwe),l=rl(),u=Dc({props:r,muiFormControl:l,states:["variant","size","disabled","error","filled","focused","required"]}),c=q({},r,{component:s,contained:u.variant==="filled"||u.variant==="outlined",variant:u.variant,size:u.size,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=Twe(c);return E.jsx(Swe,q({as:s,ownerState:c,className:st(f.root,o),ref:n},a,{children:i===" "?B$||(B$=E.jsx("span",{className:"notranslate",children:""})):i}))});function Pwe(t){return Dt("MuiFormLabel",t)}const nv=Nt("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),kwe=["children","className","color","component","disabled","error","filled","focused","required"],Awe=t=>{const{classes:e,color:n,focused:r,disabled:i,error:o,filled:s,required:a}=t,l={root:["root",`color${Ge(n)}`,i&&"disabled",o&&"error",s&&"filled",r&&"focused",a&&"required"],asterisk:["asterisk",o&&"error"]};return wt(l,Pwe,e)},Rwe=Je("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:t},e)=>q({},e.root,t.color==="secondary"&&e.colorSecondary,t.filled&&e.filled)})(({theme:t,ownerState:e})=>q({color:(t.vars||t).palette.text.secondary},t.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${nv.focused}`]:{color:(t.vars||t).palette[e.color].main},[`&.${nv.disabled}`]:{color:(t.vars||t).palette.text.disabled},[`&.${nv.error}`]:{color:(t.vars||t).palette.error.main}})),Owe=Je("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(t,e)=>e.asterisk})(({theme:t})=>({[`&.${nv.error}`]:{color:(t.vars||t).palette.error.main}})),Nwe=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiFormLabel"}),{children:i,className:o,component:s="label"}=r,a=Fe(r,kwe),l=rl(),u=Dc({props:r,muiFormControl:l,states:["color","required","focused","disabled","error","filled"]}),c=q({},r,{color:u.color||"primary",component:s,disabled:u.disabled,error:u.error,filled:u.filled,focused:u.focused,required:u.required}),f=Awe(c);return E.jsxs(Rwe,q({as:s,ownerState:c,className:st(f.root,o),ref:n},a,{children:[i,u.required&&E.jsxs(Owe,{ownerState:c,"aria-hidden":!0,className:f.asterisk,children:["","*"]})]}))}),Lwe=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function DC(t){return`scale(${t}, ${t**2})`}const Dwe={entering:{opacity:1,transform:DC(1)},entered:{opacity:1,transform:"none"}},gT=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Mw=D.forwardRef(function(e,n){const{addEndListener:r,appear:i=!0,children:o,easing:s,in:a,onEnter:l,onEntered:u,onEntering:c,onExit:f,onExited:h,onExiting:p,style:g,timeout:_="auto",TransitionComponent:w=nl}=e,b=Fe(e,Lwe),v=Lh(),y=D.useRef(),x=Hx(),I=D.useRef(null),O=en(I,o.ref,n),S=F=>z=>{if(F){const B=I.current;z===void 0?F(B):F(B,z)}},C=S(c),k=S((F,z)=>{vz(F);const{duration:B,delay:W,easing:Q}=jw({style:g,timeout:_,easing:s},{mode:"enter"});let G;_==="auto"?(G=x.transitions.getAutoHeightDuration(F.clientHeight),y.current=G):G=B,F.style.transition=[x.transitions.create("opacity",{duration:G,delay:W}),x.transitions.create("transform",{duration:gT?G:G*.666,delay:W,easing:Q})].join(","),l&&l(F,z)}),P=S(u),R=S(p),L=S(F=>{const{duration:z,delay:B,easing:W}=jw({style:g,timeout:_,easing:s},{mode:"exit"});let Q;_==="auto"?(Q=x.transitions.getAutoHeightDuration(F.clientHeight),y.current=Q):Q=z,F.style.transition=[x.transitions.create("opacity",{duration:Q,delay:B}),x.transitions.create("transform",{duration:gT?Q:Q*.666,delay:gT?B:B||Q*.333,easing:W})].join(","),F.style.opacity=0,F.style.transform=DC(.75),f&&f(F)}),N=S(h),V=F=>{_==="auto"&&v.start(y.current||0,F),r&&r(I.current,F)};return E.jsx(w,q({appear:i,in:a,nodeRef:I,onEnter:k,onEntered:P,onEntering:C,onExit:L,onExited:N,onExiting:R,addEndListener:V,timeout:_==="auto"?null:_},b,{children:(F,z)=>D.cloneElement(o,q({style:q({opacity:0,transform:DC(.75),visibility:F==="exited"&&!a?"hidden":void 0},Dwe[F],g,o.props.style),ref:O},z))}))});Mw.muiSupportAuto=!0;const jwe=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],$we=t=>{const{classes:e,disableUnderline:n}=t,i=wt({root:["root",!n&&"underline"],input:["input"]},xbe,e);return q({},e,i)},Mwe=Je(Xx,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiInput",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[...Qx(t,e),!n.disableUnderline&&e.underline]}})(({theme:t,ownerState:e})=>{let r=t.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return t.vars&&(r=`rgba(${t.vars.palette.common.onBackgroundChannel} / ${t.vars.opacity.inputUnderline})`),q({position:"relative"},e.formControl&&{"label + &":{marginTop:16}},!e.disableUnderline&&{"&::after":{borderBottom:`2px solid ${(t.vars||t).palette[e.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:t.transitions.create("transform",{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${ug.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${ug.error}`]:{"&::before, &::after":{borderBottomColor:(t.vars||t).palette.error.main}},"&::before":{borderBottom:`1px solid ${r}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:t.transitions.create("border-bottom-color",{duration:t.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${ug.disabled}, .${ug.error}):before`]:{borderBottom:`2px solid ${(t.vars||t).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${r}`}},[`&.${ug.disabled}:before`]:{borderBottomStyle:"dotted"}})}),Bwe=Je(Jx,{name:"MuiInput",slot:"Input",overridesResolver:Yx})({}),CR=D.forwardRef(function(e,n){var r,i,o,s;const a=Bt({props:e,name:"MuiInput"}),{disableUnderline:l,components:u={},componentsProps:c,fullWidth:f=!1,inputComponent:h="input",multiline:p=!1,slotProps:g,slots:_={},type:w="text"}=a,b=Fe(a,jwe),v=$we(a),x={root:{ownerState:{disableUnderline:l}}},I=g??c?Vr(g??c,x):x,O=(r=(i=_.root)!=null?i:u.Root)!=null?r:Mwe,S=(o=(s=_.input)!=null?s:u.Input)!=null?o:Bwe;return E.jsx(wR,q({slots:{root:O,input:S},slotProps:I,fullWidth:f,inputComponent:h,multiline:p,ref:n,type:w},b,{classes:v}))});CR.muiName="Input";function Fwe(t){return Dt("MuiInputAdornment",t)}const F$=Nt("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var V$;const Vwe=["children","className","component","disablePointerEvents","disableTypography","position","variant"],Uwe=(t,e)=>{const{ownerState:n}=t;return[e.root,e[`position${Ge(n.position)}`],n.disablePointerEvents===!0&&e.disablePointerEvents,e[n.variant]]},zwe=t=>{const{classes:e,disablePointerEvents:n,hiddenLabel:r,position:i,size:o,variant:s}=t,a={root:["root",n&&"disablePointerEvents",i&&`position${Ge(i)}`,s,r&&"hiddenLabel",o&&`size${Ge(o)}`]};return wt(a,Fwe,e)},qwe=Je("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:Uwe})(({theme:t,ownerState:e})=>q({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(t.vars||t).palette.action.active},e.variant==="filled"&&{[`&.${F$.positionStart}&:not(.${F$.hiddenLabel})`]:{marginTop:16}},e.position==="start"&&{marginRight:8},e.position==="end"&&{marginLeft:8},e.disablePointerEvents===!0&&{pointerEvents:"none"})),Pz=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiInputAdornment"}),{children:i,className:o,component:s="div",disablePointerEvents:a=!1,disableTypography:l=!1,position:u,variant:c}=r,f=Fe(r,Vwe),h=rl()||{};let p=c;c&&h.variant,h&&!p&&(p=h.variant);const g=q({},r,{hiddenLabel:h.hiddenLabel,size:h.size,disablePointerEvents:a,position:u,variant:p}),_=zwe(g);return E.jsx(Gx.Provider,{value:null,children:E.jsx(qwe,q({as:s,ownerState:g,className:st(_.root,o),ref:n},f,{children:typeof i=="string"&&!l?E.jsx(si,{color:"text.secondary",children:i}):E.jsxs(D.Fragment,{children:[u==="start"?V$||(V$=E.jsx("span",{className:"notranslate",children:""})):null,i]})}))})});function Hwe(t){return Dt("MuiInputLabel",t)}Nt("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const Wwe=["disableAnimation","margin","shrink","variant","className"],Kwe=t=>{const{classes:e,formControl:n,size:r,shrink:i,disableAnimation:o,variant:s,required:a}=t,l={root:["root",n&&"formControl",!o&&"animated",i&&"shrink",r&&r!=="normal"&&`size${Ge(r)}`,s],asterisk:[a&&"asterisk"]},u=wt(l,Hwe,e);return q({},e,u)},Gwe=Je(Nwe,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${nv.asterisk}`]:e.asterisk},e.root,n.formControl&&e.formControl,n.size==="small"&&e.sizeSmall,n.shrink&&e.shrink,!n.disableAnimation&&e.animated,n.focused&&e.focused,e[n.variant]]}})(({theme:t,ownerState:e})=>q({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},e.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},e.size==="small"&&{transform:"translate(0, 17px) scale(1)"},e.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!e.disableAnimation&&{transition:t.transitions.create(["color","transform","max-width"],{duration:t.transitions.duration.shorter,easing:t.transitions.easing.easeOut})},e.variant==="filled"&&q({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},e.shrink&&q({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},e.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),e.variant==="outlined"&&q({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},e.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},e.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 32px)",transform:"translate(14px, -9px) scale(0.75)"}))),Qwe=D.forwardRef(function(e,n){const r=Bt({name:"MuiInputLabel",props:e}),{disableAnimation:i=!1,shrink:o,className:s}=r,a=Fe(r,Wwe),l=rl();let u=o;typeof u>"u"&&l&&(u=l.filled||l.focused||l.adornedStart);const c=Dc({props:r,muiFormControl:l,states:["size","variant","required","focused"]}),f=q({},r,{disableAnimation:i,formControl:l,shrink:u,size:c.size,variant:c.variant,required:c.required,focused:c.focused}),h=Kwe(f);return E.jsx(Gwe,q({"data-shrink":u,ownerState:f,ref:n,className:st(h.root,s)},a,{classes:h}))}),Ha=D.createContext({});function Ywe(t){return Dt("MuiList",t)}Nt("MuiList",["root","padding","dense","subheader"]);const Xwe=["children","className","component","dense","disablePadding","subheader"],Jwe=t=>{const{classes:e,disablePadding:n,dense:r,subheader:i}=t;return wt({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},Ywe,e)},Zwe=Je("ul",{name:"MuiList",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disablePadding&&e.padding,n.dense&&e.dense,n.subheader&&e.subheader]}})(({ownerState:t})=>q({listStyle:"none",margin:0,padding:0,position:"relative"},!t.disablePadding&&{paddingTop:8,paddingBottom:8},t.subheader&&{paddingTop:0})),ep=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiList"}),{children:i,className:o,component:s="ul",dense:a=!1,disablePadding:l=!1,subheader:u}=r,c=Fe(r,Xwe),f=D.useMemo(()=>({dense:a}),[a]),h=q({},r,{component:s,dense:a,disablePadding:l}),p=Jwe(h);return E.jsx(Ha.Provider,{value:f,children:E.jsxs(Zwe,q({as:s,className:st(p.root,o),ref:n,ownerState:h},c,{children:[u,i]}))})});function e1e(t){return Dt("MuiListItem",t)}const vh=Nt("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]);function t1e(t){return Dt("MuiListItemButton",t)}const yh=Nt("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),n1e=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],r1e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters]},i1e=t=>{const{alignItems:e,classes:n,dense:r,disabled:i,disableGutters:o,divider:s,selected:a}=t,u=wt({root:["root",r&&"dense",!o&&"gutters",s&&"divider",i&&"disabled",e==="flex-start"&&"alignItemsFlexStart",a&&"selected"]},t1e,n);return q({},n,u)},o1e=Je(gm,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiListItemButton",slot:"Root",overridesResolver:r1e})(({theme:t,ownerState:e})=>q({display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${yh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:dr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${yh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:dr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${yh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:dr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:dr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${yh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${yh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.alignItems==="flex-start"&&{alignItems:"flex-start"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.dense&&{paddingTop:4,paddingBottom:4})),ds=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiListItemButton"}),{alignItems:i="center",autoFocus:o=!1,component:s="div",children:a,dense:l=!1,disableGutters:u=!1,divider:c=!1,focusVisibleClassName:f,selected:h=!1,className:p}=r,g=Fe(r,n1e),_=D.useContext(Ha),w=D.useMemo(()=>({dense:l||_.dense||!1,alignItems:i,disableGutters:u}),[i,_.dense,l,u]),b=D.useRef(null);or(()=>{o&&b.current&&b.current.focus()},[o]);const v=q({},r,{alignItems:i,dense:w.dense,disableGutters:u,divider:c,selected:h}),y=i1e(v),x=en(b,n);return E.jsx(Ha.Provider,{value:w,children:E.jsx(o1e,q({ref:x,href:g.href||g.to,component:(g.href||g.to)&&s==="div"?"button":s,focusVisibleClassName:st(y.focusVisible,f),ownerState:v,className:st(y.root,p)},g,{classes:y,children:a}))})});function s1e(t){return Dt("MuiListItemSecondaryAction",t)}Nt("MuiListItemSecondaryAction",["root","disableGutters"]);const a1e=["className"],l1e=t=>{const{disableGutters:e,classes:n}=t;return wt({root:["root",e&&"disableGutters"]},s1e,n)},u1e=Je("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,n.disableGutters&&e.disableGutters]}})(({ownerState:t})=>q({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},t.disableGutters&&{right:0})),kz=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiListItemSecondaryAction"}),{className:i}=r,o=Fe(r,a1e),s=D.useContext(Ha),a=q({},r,{disableGutters:s.disableGutters}),l=l1e(a);return E.jsx(u1e,q({className:st(l.root,i),ownerState:a,ref:n},o))});kz.muiName="ListItemSecondaryAction";const c1e=["className"],d1e=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],f1e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.alignItems==="flex-start"&&e.alignItemsFlexStart,n.divider&&e.divider,!n.disableGutters&&e.gutters,!n.disablePadding&&e.padding,n.button&&e.button,n.hasSecondaryAction&&e.secondaryAction]},h1e=t=>{const{alignItems:e,button:n,classes:r,dense:i,disabled:o,disableGutters:s,disablePadding:a,divider:l,hasSecondaryAction:u,selected:c}=t;return wt({root:["root",i&&"dense",!s&&"gutters",!a&&"padding",l&&"divider",o&&"disabled",n&&"button",e==="flex-start"&&"alignItemsFlexStart",u&&"secondaryAction",c&&"selected"],container:["container"]},e1e,r)},p1e=Je("div",{name:"MuiListItem",slot:"Root",overridesResolver:f1e})(({theme:t,ownerState:e})=>q({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!e.disablePadding&&q({paddingTop:8,paddingBottom:8},e.dense&&{paddingTop:4,paddingBottom:4},!e.disableGutters&&{paddingLeft:16,paddingRight:16},!!e.secondaryAction&&{paddingRight:48}),!!e.secondaryAction&&{[`& > .${yh.root}`]:{paddingRight:48}},{[`&.${vh.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${vh.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:dr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${vh.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:dr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${vh.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity}},e.alignItems==="flex-start"&&{alignItems:"flex-start"},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},e.button&&{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${vh.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:dr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:dr(t.palette.primary.main,t.palette.action.selectedOpacity)}}},e.hasSecondaryAction&&{paddingRight:48})),m1e=Je("li",{name:"MuiListItem",slot:"Container",overridesResolver:(t,e)=>e.container})({position:"relative"}),g1e=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiListItem"}),{alignItems:i="center",autoFocus:o=!1,button:s=!1,children:a,className:l,component:u,components:c={},componentsProps:f={},ContainerComponent:h="li",ContainerProps:{className:p}={},dense:g=!1,disabled:_=!1,disableGutters:w=!1,disablePadding:b=!1,divider:v=!1,focusVisibleClassName:y,secondaryAction:x,selected:I=!1,slotProps:O={},slots:S={}}=r,C=Fe(r.ContainerProps,c1e),k=Fe(r,d1e),P=D.useContext(Ha),R=D.useMemo(()=>({dense:g||P.dense||!1,alignItems:i,disableGutters:w}),[i,P.dense,g,w]),L=D.useRef(null);or(()=>{o&&L.current&&L.current.focus()},[o]);const N=D.Children.toArray(a),V=N.length&&Jg(N[N.length-1],["ListItemSecondaryAction"]),F=q({},r,{alignItems:i,autoFocus:o,button:s,dense:R.dense,disabled:_,disableGutters:w,disablePadding:b,divider:v,hasSecondaryAction:V,selected:I}),z=h1e(F),B=en(L,n),W=S.root||c.Root||p1e,Q=O.root||f.root||{},G=q({className:st(z.root,Q.className,l),disabled:_},k);let j=u||"li";return s&&(G.component=u||"div",G.focusVisibleClassName=st(vh.focusVisible,y),j=gm),V?(j=!G.component&&!u?"div":j,h==="li"&&(j==="li"?j="div":G.component==="li"&&(G.component="div")),E.jsx(Ha.Provider,{value:R,children:E.jsxs(m1e,q({as:h,className:st(z.container,p),ref:B,ownerState:F},C,{children:[E.jsx(W,q({},Q,!Dp(W)&&{as:j,ownerState:q({},F,Q.ownerState)},G,{children:N})),N.pop()]}))})):E.jsx(Ha.Provider,{value:R,children:E.jsxs(W,q({},Q,{as:j,ref:B},!Dp(W)&&{ownerState:q({},F,Q.ownerState)},G,{children:[N,x&&E.jsx(kz,{children:x})]}))})}),U$=Nt("MuiListItemIcon",["root","alignItemsFlexStart"]);function v1e(t){return Dt("MuiListItemText",t)}const Bw=Nt("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),y1e=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],b1e=t=>{const{classes:e,inset:n,primary:r,secondary:i,dense:o}=t;return wt({root:["root",n&&"inset",o&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},v1e,e)},_1e=Je("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`& .${Bw.primary}`]:e.primary},{[`& .${Bw.secondary}`]:e.secondary},e.root,n.inset&&e.inset,n.primary&&n.secondary&&e.multiline,n.dense&&e.dense]}})(({ownerState:t})=>q({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},t.primary&&t.secondary&&{marginTop:6,marginBottom:6},t.inset&&{paddingLeft:56})),z$=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiListItemText"}),{children:i,className:o,disableTypography:s=!1,inset:a=!1,primary:l,primaryTypographyProps:u,secondary:c,secondaryTypographyProps:f}=r,h=Fe(r,y1e),{dense:p}=D.useContext(Ha);let g=l??i,_=c;const w=q({},r,{disableTypography:s,inset:a,primary:!!g,secondary:!!_,dense:p}),b=b1e(w);return g!=null&&g.type!==si&&!s&&(g=E.jsx(si,q({variant:p?"body2":"body1",className:b.primary,component:u!=null&&u.variant?void 0:"span",display:"block"},u,{children:g}))),_!=null&&_.type!==si&&!s&&(_=E.jsx(si,q({variant:"body2",className:b.secondary,color:"text.secondary",display:"block"},f,{children:_}))),E.jsxs(_1e,q({className:st(b.root,o),ownerState:w,ref:n},h,{children:[g,_]}))}),w1e=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function vT(t,e,n){return t===e?t.firstChild:e&&e.nextElementSibling?e.nextElementSibling:n?null:t.firstChild}function q$(t,e,n){return t===e?n?t.firstChild:t.lastChild:e&&e.previousElementSibling?e.previousElementSibling:n?null:t.lastChild}function Az(t,e){if(e===void 0)return!0;let n=t.innerText;return n===void 0&&(n=t.textContent),n=n.trim().toLowerCase(),n.length===0?!1:e.repeating?n[0]===e.keys[0]:n.indexOf(e.keys.join(""))===0}function cg(t,e,n,r,i,o){let s=!1,a=i(t,e,e?n:!1);for(;a;){if(a===t.firstChild){if(s)return!1;s=!0}const l=r?!1:a.disabled||a.getAttribute("aria-disabled")==="true";if(!a.hasAttribute("tabindex")||!Az(a,o)||l)a=i(t,a,n);else return a.focus(),!0}return!1}const x1e=D.forwardRef(function(e,n){const{actions:r,autoFocus:i=!1,autoFocusItem:o=!1,children:s,className:a,disabledItemsFocusable:l=!1,disableListWrap:u=!1,onKeyDown:c,variant:f="selectedMenu"}=e,h=Fe(e,w1e),p=D.useRef(null),g=D.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});or(()=>{i&&p.current.focus()},[i]),D.useImperativeHandle(r,()=>({adjustStyleForScrollbar:(y,{direction:x})=>{const I=!p.current.style.width;if(y.clientHeight<p.current.clientHeight&&I){const O=`${YU(li(y))}px`;p.current.style[x==="rtl"?"paddingLeft":"paddingRight"]=O,p.current.style.width=`calc(100% + ${O})`}return p.current}}),[]);const _=y=>{const x=p.current,I=y.key,O=li(x).activeElement;if(I==="ArrowDown")y.preventDefault(),cg(x,O,u,l,vT);else if(I==="ArrowUp")y.preventDefault(),cg(x,O,u,l,q$);else if(I==="Home")y.preventDefault(),cg(x,null,u,l,vT);else if(I==="End")y.preventDefault(),cg(x,null,u,l,q$);else if(I.length===1){const S=g.current,C=I.toLowerCase(),k=performance.now();S.keys.length>0&&(k-S.lastTime>500?(S.keys=[],S.repeating=!0,S.previousKeyMatched=!0):S.repeating&&C!==S.keys[0]&&(S.repeating=!1)),S.lastTime=k,S.keys.push(C);const P=O&&!S.repeating&&Az(O,S);S.previousKeyMatched&&(P||cg(x,O,!1,l,vT,S))?y.preventDefault():S.previousKeyMatched=!1}c&&c(y)},w=en(p,n);let b=-1;D.Children.forEach(s,(y,x)=>{if(!D.isValidElement(y)){b===x&&(b+=1,b>=s.length&&(b=-1));return}y.props.disabled||(f==="selectedMenu"&&y.props.selected||b===-1)&&(b=x),b===x&&(y.props.disabled||y.props.muiSkipListHighlight||y.type.muiSkipListHighlight)&&(b+=1,b>=s.length&&(b=-1))});const v=D.Children.map(s,(y,x)=>{if(x===b){const I={};return o&&(I.autoFocus=!0),y.props.tabIndex===void 0&&f==="selectedMenu"&&(I.tabIndex=0),D.cloneElement(y,I)}return y});return E.jsx(ep,q({role:"menu",ref:w,className:a,onKeyDown:_,tabIndex:i?0:-1},h,{children:v}))});function E1e(t){return Dt("MuiPopover",t)}Nt("MuiPopover",["root","paper"]);const I1e=["onEntering"],T1e=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","slots","slotProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps","disableScrollLock"],S1e=["slotProps"];function H$(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.height/2:e==="bottom"&&(n=t.height),n}function W$(t,e){let n=0;return typeof e=="number"?n=e:e==="center"?n=t.width/2:e==="right"&&(n=t.width),n}function K$(t){return[t.horizontal,t.vertical].map(e=>typeof e=="number"?`${e}px`:e).join(" ")}function yT(t){return typeof t=="function"?t():t}const C1e=t=>{const{classes:e}=t;return wt({root:["root"],paper:["paper"]},E1e,e)},P1e=Je(Tz,{name:"MuiPopover",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Rz=Je(Wx,{name:"MuiPopover",slot:"Paper",overridesResolver:(t,e)=>e.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),k1e=D.forwardRef(function(e,n){var r,i,o;const s=Bt({props:e,name:"MuiPopover"}),{action:a,anchorEl:l,anchorOrigin:u={vertical:"top",horizontal:"left"},anchorPosition:c,anchorReference:f="anchorEl",children:h,className:p,container:g,elevation:_=8,marginThreshold:w=16,open:b,PaperProps:v={},slots:y,slotProps:x,transformOrigin:I={vertical:"top",horizontal:"left"},TransitionComponent:O=Mw,transitionDuration:S="auto",TransitionProps:{onEntering:C}={},disableScrollLock:k=!1}=s,P=Fe(s.TransitionProps,I1e),R=Fe(s,T1e),L=(r=x==null?void 0:x.paper)!=null?r:v,N=D.useRef(),V=en(N,L.ref),F=q({},s,{anchorOrigin:u,anchorReference:f,elevation:_,marginThreshold:w,externalPaperSlotProps:L,transformOrigin:I,TransitionComponent:O,transitionDuration:S,TransitionProps:P}),z=C1e(F),B=D.useCallback(()=>{if(f==="anchorPosition")return c;const ve=yT(l),Ce=(ve&&ve.nodeType===1?ve:li(N.current).body).getBoundingClientRect();return{top:Ce.top+H$(Ce,u.vertical),left:Ce.left+W$(Ce,u.horizontal)}},[l,u.horizontal,u.vertical,c,f]),W=D.useCallback(ve=>({vertical:H$(ve,I.vertical),horizontal:W$(ve,I.horizontal)}),[I.horizontal,I.vertical]),Q=D.useCallback(ve=>{const we={width:ve.offsetWidth,height:ve.offsetHeight},Ce=W(we);if(f==="none")return{top:null,left:null,transformOrigin:K$(Ce)};const Ue=B();let Oe=Ue.top-Ce.vertical,he=Ue.left-Ce.horizontal;const _e=Oe+we.height,Te=he+we.width,me=Xa(yT(l)),Se=me.innerHeight-w,He=me.innerWidth-w;if(w!==null&&Oe<w){const Qe=Oe-w;Oe-=Qe,Ce.vertical+=Qe}else if(w!==null&&_e>Se){const Qe=_e-Se;Oe-=Qe,Ce.vertical+=Qe}if(w!==null&&he<w){const Qe=he-w;he-=Qe,Ce.horizontal+=Qe}else if(Te>He){const Qe=Te-He;he-=Qe,Ce.horizontal+=Qe}return{top:`${Math.round(Oe)}px`,left:`${Math.round(he)}px`,transformOrigin:K$(Ce)}},[l,f,B,W,w]),[G,j]=D.useState(b),U=D.useCallback(()=>{const ve=N.current;if(!ve)return;const we=Q(ve);we.top!==null&&(ve.style.top=we.top),we.left!==null&&(ve.style.left=we.left),ve.style.transformOrigin=we.transformOrigin,j(!0)},[Q]);D.useEffect(()=>(k&&window.addEventListener("scroll",U),()=>window.removeEventListener("scroll",U)),[l,k,U]);const K=(ve,we)=>{C&&C(ve,we),U()},ne=()=>{j(!1)};D.useEffect(()=>{b&&U()}),D.useImperativeHandle(a,()=>b?{updatePosition:()=>{U()}}:null,[b,U]),D.useEffect(()=>{if(!b)return;const ve=Nx(()=>{U()}),we=Xa(l);return we.addEventListener("resize",ve),()=>{ve.clear(),we.removeEventListener("resize",ve)}},[l,b,U]);let oe=S;S==="auto"&&!O.muiSupportAuto&&(oe=void 0);const X=g||(l?li(yT(l)).body:void 0),Z=(i=y==null?void 0:y.root)!=null?i:P1e,re=(o=y==null?void 0:y.paper)!=null?o:Rz,ue=ff({elementType:re,externalSlotProps:q({},L,{style:G?L.style:q({},L.style,{opacity:0})}),additionalProps:{elevation:_,ref:V},ownerState:F,className:st(z.paper,L==null?void 0:L.className)}),te=ff({elementType:Z,externalSlotProps:(x==null?void 0:x.root)||{},externalForwardedProps:R,additionalProps:{ref:n,slotProps:{backdrop:{invisible:!0}},container:X,open:b},ownerState:F,className:st(z.root,p)}),{slotProps:fe}=te,be=Fe(te,S1e);return E.jsx(Z,q({},be,!Dp(Z)&&{slotProps:fe,disableScrollLock:k},{children:E.jsx(O,q({appear:!0,in:b,onEntering:K,onExited:ne,timeout:oe},P,{children:E.jsx(re,q({},ue,{children:h}))}))}))});function A1e(t){return Dt("MuiMenu",t)}Nt("MuiMenu",["root","paper","list"]);const R1e=["onEntering"],O1e=["autoFocus","children","className","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant","slots","slotProps"],N1e={vertical:"top",horizontal:"right"},L1e={vertical:"top",horizontal:"left"},D1e=t=>{const{classes:e}=t;return wt({root:["root"],paper:["paper"],list:["list"]},A1e,e)},j1e=Je(k1e,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(t,e)=>e.root})({}),$1e=Je(Rz,{name:"MuiMenu",slot:"Paper",overridesResolver:(t,e)=>e.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),M1e=Je(x1e,{name:"MuiMenu",slot:"List",overridesResolver:(t,e)=>e.list})({outline:0}),tp=D.forwardRef(function(e,n){var r,i;const o=Bt({props:e,name:"MuiMenu"}),{autoFocus:s=!0,children:a,className:l,disableAutoFocusItem:u=!1,MenuListProps:c={},onClose:f,open:h,PaperProps:p={},PopoverClasses:g,transitionDuration:_="auto",TransitionProps:{onEntering:w}={},variant:b="selectedMenu",slots:v={},slotProps:y={}}=o,x=Fe(o.TransitionProps,R1e),I=Fe(o,O1e),O=e9(),S=q({},o,{autoFocus:s,disableAutoFocusItem:u,MenuListProps:c,onEntering:w,PaperProps:p,transitionDuration:_,TransitionProps:x,variant:b}),C=D1e(S),k=s&&!u&&h,P=D.useRef(null),R=(W,Q)=>{P.current&&P.current.adjustStyleForScrollbar(W,{direction:O?"rtl":"ltr"}),w&&w(W,Q)},L=W=>{W.key==="Tab"&&(W.preventDefault(),f&&f(W,"tabKeyDown"))};let N=-1;D.Children.map(a,(W,Q)=>{D.isValidElement(W)&&(W.props.disabled||(b==="selectedMenu"&&W.props.selected||N===-1)&&(N=Q))});const V=(r=v.paper)!=null?r:$1e,F=(i=y.paper)!=null?i:p,z=ff({elementType:v.root,externalSlotProps:y.root,ownerState:S,className:[C.root,l]}),B=ff({elementType:V,externalSlotProps:F,ownerState:S,className:C.paper});return E.jsx(j1e,q({onClose:f,anchorOrigin:{vertical:"bottom",horizontal:O?"right":"left"},transformOrigin:O?N1e:L1e,slots:{paper:V,root:v.root},slotProps:{root:z,paper:B},open:h,ref:n,transitionDuration:_,TransitionProps:q({onEntering:R},x),ownerState:S},I,{classes:g,children:E.jsx(M1e,q({onKeyDown:L,actions:P,autoFocus:s&&(N===-1||u),autoFocusItem:k,variant:b},c,{className:st(C.list,c.className),children:a}))}))});function B1e(t){return Dt("MuiMenuItem",t)}const dg=Nt("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),F1e=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],V1e=(t,e)=>{const{ownerState:n}=t;return[e.root,n.dense&&e.dense,n.divider&&e.divider,!n.disableGutters&&e.gutters]},U1e=t=>{const{disabled:e,dense:n,divider:r,disableGutters:i,selected:o,classes:s}=t,l=wt({root:["root",n&&"dense",e&&"disabled",!i&&"gutters",r&&"divider",o&&"selected"]},B1e,s);return q({},s,l)},z1e=Je(gm,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver:V1e})(({theme:t,ownerState:e})=>q({},t.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!e.disableGutters&&{paddingLeft:16,paddingRight:16},e.divider&&{borderBottom:`1px solid ${(t.vars||t).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${dg.selected}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:dr(t.palette.primary.main,t.palette.action.selectedOpacity),[`&.${dg.focusVisible}`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.focusOpacity}))`:dr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},[`&.${dg.selected}:hover`]:{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / calc(${t.vars.palette.action.selectedOpacity} + ${t.vars.palette.action.hoverOpacity}))`:dr(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${t.vars.palette.action.selectedOpacity})`:dr(t.palette.primary.main,t.palette.action.selectedOpacity)}},[`&.${dg.focusVisible}`]:{backgroundColor:(t.vars||t).palette.action.focus},[`&.${dg.disabled}`]:{opacity:(t.vars||t).palette.action.disabledOpacity},[`& + .${$$.root}`]:{marginTop:t.spacing(1),marginBottom:t.spacing(1)},[`& + .${$$.inset}`]:{marginLeft:52},[`& .${Bw.root}`]:{marginTop:0,marginBottom:0},[`& .${Bw.inset}`]:{paddingLeft:36},[`& .${U$.root}`]:{minWidth:36}},!e.dense&&{[t.breakpoints.up("sm")]:{minHeight:"auto"}},e.dense&&q({minHeight:32,paddingTop:4,paddingBottom:4},t.typography.body2,{[`& .${U$.root} svg`]:{fontSize:"1.25rem"}}))),Wr=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiMenuItem"}),{autoFocus:i=!1,component:o="li",dense:s=!1,divider:a=!1,disableGutters:l=!1,focusVisibleClassName:u,role:c="menuitem",tabIndex:f,className:h}=r,p=Fe(r,F1e),g=D.useContext(Ha),_=D.useMemo(()=>({dense:s||g.dense||!1,disableGutters:l}),[g.dense,s,l]),w=D.useRef(null);or(()=>{i&&w.current&&w.current.focus()},[i]);const b=q({},r,{dense:_.dense,divider:a,disableGutters:l}),v=U1e(r),y=en(w,n);let x;return r.disabled||(x=f!==void 0?f:-1),E.jsx(Ha.Provider,{value:_,children:E.jsx(z1e,q({ref:y,role:c,tabIndex:x,component:o,focusVisibleClassName:st(v.focusVisible,u),className:st(v.root,h)},p,{ownerState:b,classes:v}))})});function q1e(t){return Dt("MuiNativeSelect",t)}const PR=Nt("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]),H1e=["className","disabled","error","IconComponent","inputRef","variant"],W1e=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ge(n)}`,o&&"iconOpen",r&&"disabled"]};return wt(a,q1e,e)},Oz=({ownerState:t,theme:e})=>q({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":q({},e.vars?{backgroundColor:`rgba(${e.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:e.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${PR.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(e.vars||e).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},t.variant==="filled"&&{"&&&":{paddingRight:32}},t.variant==="outlined"&&{borderRadius:(e.vars||e).shape.borderRadius,"&:focus":{borderRadius:(e.vars||e).shape.borderRadius},"&&&":{paddingRight:32}}),K1e=Je("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:$i,overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.select,e[n.variant],n.error&&e.error,{[`&.${PR.multiple}`]:e.multiple}]}})(Oz),Nz=({ownerState:t,theme:e})=>q({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(e.vars||e).palette.action.active,[`&.${PR.disabled}`]:{color:(e.vars||e).palette.action.disabled}},t.open&&{transform:"rotate(180deg)"},t.variant==="filled"&&{right:7},t.variant==="outlined"&&{right:7}),G1e=Je("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})(Nz),Q1e=D.forwardRef(function(e,n){const{className:r,disabled:i,error:o,IconComponent:s,inputRef:a,variant:l="standard"}=e,u=Fe(e,H1e),c=q({},e,{disabled:i,variant:l,error:o}),f=W1e(c);return E.jsxs(D.Fragment,{children:[E.jsx(K1e,q({ownerState:c,className:st(f.select,r),disabled:i,ref:a||n},u)),e.multiple?null:E.jsx(G1e,{as:s,ownerState:c,className:f.icon})]})});var G$;const Y1e=["children","classes","className","label","notched"],X1e=Je("fieldset",{shouldForwardProp:$i})({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),J1e=Je("legend",{shouldForwardProp:$i})(({ownerState:t,theme:e})=>q({float:"unset",width:"auto",overflow:"hidden"},!t.withLabel&&{padding:0,lineHeight:"11px",transition:e.transitions.create("width",{duration:150,easing:e.transitions.easing.easeOut})},t.withLabel&&q({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:e.transitions.create("max-width",{duration:50,easing:e.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},t.notched&&{maxWidth:"100%",transition:e.transitions.create("max-width",{duration:100,easing:e.transitions.easing.easeOut,delay:50})})));function Z1e(t){const{className:e,label:n,notched:r}=t,i=Fe(t,Y1e),o=n!=null&&n!=="",s=q({},t,{notched:r,withLabel:o});return E.jsx(X1e,q({"aria-hidden":!0,className:e,ownerState:s},i,{children:E.jsx(J1e,{ownerState:s,children:o?E.jsx("span",{children:n}):G$||(G$=E.jsx("span",{className:"notranslate",children:""}))})}))}const exe=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],txe=t=>{const{classes:e}=t,r=wt({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},Ebe,e);return q({},e,r)},nxe=Je(Xx,{shouldForwardProp:t=>$i(t)||t==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:Qx})(({theme:t,ownerState:e})=>{const n=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return q({position:"relative",borderRadius:(t.vars||t).shape.borderRadius,[`&:hover .${Ou.notchedOutline}`]:{borderColor:(t.vars||t).palette.text.primary},"@media (hover: none)":{[`&:hover .${Ou.notchedOutline}`]:{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:n}},[`&.${Ou.focused} .${Ou.notchedOutline}`]:{borderColor:(t.vars||t).palette[e.color].main,borderWidth:2},[`&.${Ou.error} .${Ou.notchedOutline}`]:{borderColor:(t.vars||t).palette.error.main},[`&.${Ou.disabled} .${Ou.notchedOutline}`]:{borderColor:(t.vars||t).palette.action.disabled}},e.startAdornment&&{paddingLeft:14},e.endAdornment&&{paddingRight:14},e.multiline&&q({padding:"16.5px 14px"},e.size==="small"&&{padding:"8.5px 14px"}))}),rxe=Je(Z1e,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(t,e)=>e.notchedOutline})(({theme:t})=>{const e=t.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:t.vars?`rgba(${t.vars.palette.common.onBackgroundChannel} / 0.23)`:e}}),ixe=Je(Jx,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:Yx})(({theme:t,ownerState:e})=>q({padding:"16.5px 14px"},!t.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:t.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:t.palette.mode==="light"?null:"#fff",caretColor:t.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},t.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[t.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},e.size==="small"&&{padding:"8.5px 14px"},e.multiline&&{padding:0},e.startAdornment&&{paddingLeft:0},e.endAdornment&&{paddingRight:0})),kR=D.forwardRef(function(e,n){var r,i,o,s,a;const l=Bt({props:e,name:"MuiOutlinedInput"}),{components:u={},fullWidth:c=!1,inputComponent:f="input",label:h,multiline:p=!1,notched:g,slots:_={},type:w="text"}=l,b=Fe(l,exe),v=txe(l),y=rl(),x=Dc({props:l,muiFormControl:y,states:["color","disabled","error","focused","hiddenLabel","size","required"]}),I=q({},l,{color:x.color||"primary",disabled:x.disabled,error:x.error,focused:x.focused,formControl:y,fullWidth:c,hiddenLabel:x.hiddenLabel,multiline:p,size:x.size,type:w}),O=(r=(i=_.root)!=null?i:u.Root)!=null?r:nxe,S=(o=(s=_.input)!=null?s:u.Input)!=null?o:ixe;return E.jsx(wR,q({slots:{root:O,input:S},renderSuffix:C=>E.jsx(rxe,{ownerState:I,className:v.notchedOutline,label:h!=null&&h!==""&&x.required?a||(a=E.jsxs(D.Fragment,{children:[h,"","*"]})):h,notched:typeof g<"u"?g:!!(C.startAdornment||C.filled||C.focused)}),fullWidth:c,inputComponent:f,multiline:p,ref:n,type:w},b,{classes:q({},v,{notchedOutline:null})}))});kR.muiName="Input";function oxe(t){return Dt("MuiSelect",t)}const fg=Nt("MuiSelect",["root","select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput","error"]);var Q$;const sxe=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","error","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],axe=Je("div",{name:"MuiSelect",slot:"Select",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[{[`&.${fg.select}`]:e.select},{[`&.${fg.select}`]:e[n.variant]},{[`&.${fg.error}`]:e.error},{[`&.${fg.multiple}`]:e.multiple}]}})(Oz,{[`&.${fg.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),lxe=Je("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.icon,n.variant&&e[`icon${Ge(n.variant)}`],n.open&&e.iconOpen]}})(Nz),uxe=Je("input",{shouldForwardProp:t=>mz(t)&&t!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(t,e)=>e.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function Y$(t,e){return typeof e=="object"&&e!==null?t===e:String(t)===String(e)}function cxe(t){return t==null||typeof t=="string"&&!t.trim()}const dxe=t=>{const{classes:e,variant:n,disabled:r,multiple:i,open:o,error:s}=t,a={select:["select",n,r&&"disabled",i&&"multiple",s&&"error"],icon:["icon",`icon${Ge(n)}`,o&&"iconOpen",r&&"disabled"],nativeInput:["nativeInput"]};return wt(a,oxe,e)},fxe=D.forwardRef(function(e,n){var r;const{"aria-describedby":i,"aria-label":o,autoFocus:s,autoWidth:a,children:l,className:u,defaultOpen:c,defaultValue:f,disabled:h,displayEmpty:p,error:g=!1,IconComponent:_,inputRef:w,labelId:b,MenuProps:v={},multiple:y,name:x,onBlur:I,onChange:O,onClose:S,onFocus:C,onOpen:k,open:P,readOnly:R,renderValue:L,SelectDisplayProps:N={},tabIndex:V,value:F,variant:z="standard"}=e,B=Fe(e,sxe),[W,Q]=iy({controlled:F,default:f,name:"Select"}),[G,j]=iy({controlled:P,default:c,name:"Select"}),U=D.useRef(null),K=D.useRef(null),[ne,oe]=D.useState(null),{current:X}=D.useRef(P!=null),[Z,re]=D.useState(),ue=en(n,w),te=D.useCallback(mt=>{K.current=mt,mt&&oe(mt)},[]),fe=ne==null?void 0:ne.parentNode;D.useImperativeHandle(ue,()=>({focus:()=>{K.current.focus()},node:U.current,value:W}),[W]),D.useEffect(()=>{c&&G&&ne&&!X&&(re(a?null:fe.clientWidth),K.current.focus())},[ne,a]),D.useEffect(()=>{s&&K.current.focus()},[s]),D.useEffect(()=>{if(!b)return;const mt=li(K.current).getElementById(b);if(mt){const Kt=()=>{getSelection().isCollapsed&&K.current.focus()};return mt.addEventListener("click",Kt),()=>{mt.removeEventListener("click",Kt)}}},[b]);const be=(mt,Kt)=>{mt?k&&k(Kt):S&&S(Kt),X||(re(a?null:fe.clientWidth),j(mt))},ve=mt=>{mt.button===0&&(mt.preventDefault(),K.current.focus(),be(!0,mt))},we=mt=>{be(!1,mt)},Ce=D.Children.toArray(l),Ue=mt=>{const Kt=Ce.find(sn=>sn.props.value===mt.target.value);Kt!==void 0&&(Q(Kt.props.value),O&&O(mt,Kt))},Oe=mt=>Kt=>{let sn;if(Kt.currentTarget.hasAttribute("tabindex")){if(y){sn=Array.isArray(W)?W.slice():[];const mr=W.indexOf(mt.props.value);mr===-1?sn.push(mt.props.value):sn.splice(mr,1)}else sn=mt.props.value;if(mt.props.onClick&&mt.props.onClick(Kt),W!==sn&&(Q(sn),O)){const mr=Kt.nativeEvent||Kt,to=new mr.constructor(mr.type,mr);Object.defineProperty(to,"target",{writable:!0,value:{value:sn,name:x}}),O(to,mt)}y||be(!1,Kt)}},he=mt=>{R||[" ","ArrowUp","ArrowDown","Enter"].indexOf(mt.key)!==-1&&(mt.preventDefault(),be(!0,mt))},_e=ne!==null&&G,Te=mt=>{!_e&&I&&(Object.defineProperty(mt,"target",{writable:!0,value:{value:W,name:x}}),I(mt))};delete B["aria-invalid"];let me,Se;const He=[];let Qe=!1;($w({value:W})||p)&&(L?me=L(W):Qe=!0);const ct=Ce.map(mt=>{if(!D.isValidElement(mt))return null;let Kt;if(y){if(!Array.isArray(W))throw new Error(Ya(2));Kt=W.some(sn=>Y$(sn,mt.props.value)),Kt&&Qe&&He.push(mt.props.children)}else Kt=Y$(W,mt.props.value),Kt&&Qe&&(Se=mt.props.children);return D.cloneElement(mt,{"aria-selected":Kt?"true":"false",onClick:Oe(mt),onKeyUp:sn=>{sn.key===" "&&sn.preventDefault(),mt.props.onKeyUp&&mt.props.onKeyUp(sn)},role:"option",selected:Kt,value:void 0,"data-value":mt.props.value})});Qe&&(y?He.length===0?me=null:me=He.reduce((mt,Kt,sn)=>(mt.push(Kt),sn<He.length-1&&mt.push(", "),mt),[]):me=Se);let xt=Z;!a&&X&&ne&&(xt=fe.clientWidth);let yt;typeof V<"u"?yt=V:yt=h?null:0;const ot=N.id||(x?`mui-component-select-${x}`:void 0),ht=q({},e,{variant:z,value:W,open:_e,error:g}),Tt=dxe(ht),xn=q({},v.PaperProps,(r=v.slotProps)==null?void 0:r.paper),zn=Oc();return E.jsxs(D.Fragment,{children:[E.jsx(axe,q({ref:te,tabIndex:yt,role:"combobox","aria-controls":zn,"aria-disabled":h?"true":void 0,"aria-expanded":_e?"true":"false","aria-haspopup":"listbox","aria-label":o,"aria-labelledby":[b,ot].filter(Boolean).join(" ")||void 0,"aria-describedby":i,onKeyDown:he,onMouseDown:h||R?null:ve,onBlur:Te,onFocus:C},N,{ownerState:ht,className:st(N.className,Tt.select,u),id:ot,children:cxe(me)?Q$||(Q$=E.jsx("span",{className:"notranslate",children:""})):me})),E.jsx(uxe,q({"aria-invalid":g,value:Array.isArray(W)?W.join(","):W,name:x,ref:U,"aria-hidden":!0,onChange:Ue,tabIndex:-1,disabled:h,className:Tt.nativeInput,autoFocus:s,ownerState:ht},B)),E.jsx(lxe,{as:_,className:Tt.icon,ownerState:ht}),E.jsx(tp,q({id:`menu-${x||""}`,anchorEl:fe,open:_e,onClose:we,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},v,{MenuListProps:q({"aria-labelledby":b,role:"listbox","aria-multiselectable":y?"true":void 0,disableListWrap:!0,id:zn},v.MenuListProps),slotProps:q({},v.slotProps,{paper:q({},xn,{style:q({minWidth:xt},xn!=null?xn.style:null)})}),children:ct}))]})}),hxe=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],pxe=["root"],mxe=t=>{const{classes:e}=t;return e},AR={name:"MuiSelect",overridesResolver:(t,e)=>e.root,shouldForwardProp:t=>$i(t)&&t!=="variant",slot:"Root"},gxe=Je(CR,AR)(""),vxe=Je(kR,AR)(""),yxe=Je(SR,AR)(""),Lz=D.forwardRef(function(e,n){const r=Bt({name:"MuiSelect",props:e}),{autoWidth:i=!1,children:o,classes:s={},className:a,defaultOpen:l=!1,displayEmpty:u=!1,IconComponent:c=Tbe,id:f,input:h,inputProps:p,label:g,labelId:_,MenuProps:w,multiple:b=!1,native:v=!1,onClose:y,onOpen:x,open:I,renderValue:O,SelectDisplayProps:S,variant:C="outlined"}=r,k=Fe(r,hxe),P=v?Q1e:fxe,R=rl(),L=Dc({props:r,muiFormControl:R,states:["variant","error"]}),N=L.variant||C,V=q({},r,{variant:N,classes:s}),F=mxe(V),z=Fe(F,pxe),B=h||{standard:E.jsx(gxe,{ownerState:V}),outlined:E.jsx(vxe,{label:g,ownerState:V}),filled:E.jsx(yxe,{ownerState:V})}[N],W=en(n,B.ref);return E.jsx(D.Fragment,{children:D.cloneElement(B,q({inputComponent:P,inputProps:q({children:o,error:L.error,IconComponent:c,variant:N,type:void 0,multiple:b},v?{id:f}:{autoWidth:i,defaultOpen:l,displayEmpty:u,labelId:_,MenuProps:w,onClose:y,onOpen:x,open:I,renderValue:O,SelectDisplayProps:q({id:f},S)},p,{classes:p?Vr(z,p.classes):z},h?h.props.inputProps:{})},(b&&v||u)&&N==="outlined"?{notched:!0}:{},{ref:W,className:st(B.props.className,a,F.root)},!h&&{variant:N},k))})});Lz.muiName="Select";function bxe(t){return Dt("MuiSkeleton",t)}Nt("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const _xe=["animation","className","component","height","style","variant","width"];let Fw=t=>t,X$,J$,Z$,eM;const wxe=t=>{const{classes:e,variant:n,animation:r,hasChildren:i,width:o,height:s}=t;return wt({root:["root",n,r,i&&"withChildren",i&&!o&&"fitContent",i&&!s&&"heightAuto"]},bxe,e)},xxe=Cf(X$||(X$=Fw`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),Exe=Cf(J$||(J$=Fw`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),Ixe=Je("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,e[n.variant],n.animation!==!1&&e[n.animation],n.hasChildren&&e.withChildren,n.hasChildren&&!n.width&&e.fitContent,n.hasChildren&&!n.height&&e.heightAuto]}})(({theme:t,ownerState:e})=>{const n=Rye(t.shape.borderRadius)||"px",r=Oye(t.shape.borderRadius);return q({display:"block",backgroundColor:t.vars?t.vars.palette.Skeleton.bg:Hfe(t.palette.text.primary,t.palette.mode==="light"?.11:.13),height:"1.2em"},e.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${r}${n}/${Math.round(r/.6*10)/10}${n}`,"&:empty:before":{content:'"\\00a0"'}},e.variant==="circular"&&{borderRadius:"50%"},e.variant==="rounded"&&{borderRadius:(t.vars||t).shape.borderRadius},e.hasChildren&&{"& > *":{visibility:"hidden"}},e.hasChildren&&!e.width&&{maxWidth:"fit-content"},e.hasChildren&&!e.height&&{height:"auto"})},({ownerState:t})=>t.animation==="pulse"&&ny(Z$||(Z$=Fw`
      animation: ${0} 2s ease-in-out 0.5s infinite;
    `),xxe),({ownerState:t,theme:e})=>t.animation==="wave"&&ny(eM||(eM=Fw`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 2s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),Exe,(e.vars||e).palette.action.hover)),Vd=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiSkeleton"}),{animation:i="pulse",className:o,component:s="span",height:a,style:l,variant:u="text",width:c}=r,f=Fe(r,_xe),h=q({},r,{animation:i,component:s,variant:u,hasChildren:!!f.children}),p=wxe(h);return E.jsx(Ixe,q({as:s,ref:n,className:st(p.root,o),ownerState:h},f,{style:q({width:c,height:a},l)}))});function Txe(t){return Dt("MuiTooltip",t)}const Gu=Nt("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),Sxe=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function Cxe(t){return Math.round(t*1e5)/1e5}const Pxe=t=>{const{classes:e,disableInteractive:n,arrow:r,touch:i,placement:o}=t,s={popper:["popper",!n&&"popperInteractive",r&&"popperArrow"],tooltip:["tooltip",r&&"tooltipArrow",i&&"touch",`tooltipPlacement${Ge(o.split("-")[0])}`],arrow:["arrow"]};return wt(s,Txe,e)},kxe=Je(wz,{name:"MuiTooltip",slot:"Popper",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.popper,!n.disableInteractive&&e.popperInteractive,n.arrow&&e.popperArrow,!n.open&&e.popperClose]}})(({theme:t,ownerState:e,open:n})=>q({zIndex:(t.vars||t).zIndex.tooltip,pointerEvents:"none"},!e.disableInteractive&&{pointerEvents:"auto"},!n&&{pointerEvents:"none"},e.arrow&&{[`&[data-popper-placement*="bottom"] .${Gu.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${Gu.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${Gu.arrow}`]:q({},e.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${Gu.arrow}`]:q({},e.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),Axe=Je("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.tooltip,n.touch&&e.touch,n.arrow&&e.tooltipArrow,e[`tooltipPlacement${Ge(n.placement.split("-")[0])}`]]}})(({theme:t,ownerState:e})=>q({backgroundColor:t.vars?t.vars.palette.Tooltip.bg:dr(t.palette.grey[700],.92),borderRadius:(t.vars||t).shape.borderRadius,color:(t.vars||t).palette.common.white,fontFamily:t.typography.fontFamily,padding:"4px 8px",fontSize:t.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:t.typography.fontWeightMedium},e.arrow&&{position:"relative",margin:0},e.touch&&{padding:"8px 16px",fontSize:t.typography.pxToRem(14),lineHeight:`${Cxe(16/14)}em`,fontWeight:t.typography.fontWeightRegular},{[`.${Gu.popper}[data-popper-placement*="left"] &`]:q({transformOrigin:"right center"},e.isRtl?q({marginLeft:"14px"},e.touch&&{marginLeft:"24px"}):q({marginRight:"14px"},e.touch&&{marginRight:"24px"})),[`.${Gu.popper}[data-popper-placement*="right"] &`]:q({transformOrigin:"left center"},e.isRtl?q({marginRight:"14px"},e.touch&&{marginRight:"24px"}):q({marginLeft:"14px"},e.touch&&{marginLeft:"24px"})),[`.${Gu.popper}[data-popper-placement*="top"] &`]:q({transformOrigin:"center bottom",marginBottom:"14px"},e.touch&&{marginBottom:"24px"}),[`.${Gu.popper}[data-popper-placement*="bottom"] &`]:q({transformOrigin:"center top",marginTop:"14px"},e.touch&&{marginTop:"24px"})})),Rxe=Je("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(t,e)=>e.arrow})(({theme:t})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:t.vars?t.vars.palette.Tooltip.bg:dr(t.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let Lb=!1;const tM=new Ky;let hg={x:0,y:0};function Db(t,e){return(n,...r)=>{e&&e(n,...r),t(n,...r)}}const Oxe=D.forwardRef(function(e,n){var r,i,o,s,a,l,u,c,f,h,p,g,_,w,b,v,y,x,I;const O=Bt({props:e,name:"MuiTooltip"}),{arrow:S=!1,children:C,components:k={},componentsProps:P={},describeChild:R=!1,disableFocusListener:L=!1,disableHoverListener:N=!1,disableInteractive:V=!1,disableTouchListener:F=!1,enterDelay:z=100,enterNextDelay:B=0,enterTouchDelay:W=700,followCursor:Q=!1,id:G,leaveDelay:j=0,leaveTouchDelay:U=1500,onClose:K,onOpen:ne,open:oe,placement:X="bottom",PopperComponent:Z,PopperProps:re={},slotProps:ue={},slots:te={},title:fe,TransitionComponent:be=Mw,TransitionProps:ve}=O,we=Fe(O,Sxe),Ce=D.isValidElement(C)?C:E.jsx("span",{children:C}),Ue=Hx(),Oe=e9(),[he,_e]=D.useState(),[Te,me]=D.useState(null),Se=D.useRef(!1),He=V||Q,Qe=Lh(),ct=Lh(),xt=Lh(),yt=Lh(),[ot,ht]=iy({controlled:oe,default:!1,name:"Tooltip",state:"open"});let Tt=ot;const xn=Oc(G),zn=D.useRef(),mt=Ll(()=>{zn.current!==void 0&&(document.body.style.WebkitUserSelect=zn.current,zn.current=void 0),yt.clear()});D.useEffect(()=>mt,[mt]);const Kt=jt=>{tM.clear(),Lb=!0,ht(!0),ne&&!Tt&&ne(jt)},sn=Ll(jt=>{tM.start(800+j,()=>{Lb=!1}),ht(!1),K&&Tt&&K(jt),Qe.start(Ue.transitions.duration.shortest,()=>{Se.current=!1})}),mr=jt=>{Se.current&&jt.type!=="touchstart"||(he&&he.removeAttribute("title"),ct.clear(),xt.clear(),z||Lb&&B?ct.start(Lb?B:z,()=>{Kt(jt)}):Kt(jt))},to=jt=>{ct.clear(),xt.start(j,()=>{sn(jt)})},{isFocusVisibleRef:va,onBlur:uu,onFocus:cu,ref:es}=Dx(),[,Ns]=D.useState(!1),ya=jt=>{uu(jt),va.current===!1&&(Ns(!1),to(jt))},no=jt=>{he||_e(jt.currentTarget),cu(jt),va.current===!0&&(Ns(!0),mr(jt))},ro=jt=>{Se.current=!0;const gr=Ce.props;gr.onTouchStart&&gr.onTouchStart(jt)},Ls=jt=>{ro(jt),xt.clear(),Qe.clear(),mt(),zn.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",yt.start(W,()=>{document.body.style.WebkitUserSelect=zn.current,mr(jt)})},il=jt=>{Ce.props.onTouchEnd&&Ce.props.onTouchEnd(jt),mt(),xt.start(U,()=>{sn(jt)})};D.useEffect(()=>{if(!Tt)return;function jt(gr){(gr.key==="Escape"||gr.key==="Esc")&&sn(gr)}return document.addEventListener("keydown",jt),()=>{document.removeEventListener("keydown",jt)}},[sn,Tt]);const Ds=en(Ce.ref,es,_e,n);!fe&&fe!==0&&(Tt=!1);const ba=D.useRef(),sr=jt=>{const gr=Ce.props;gr.onMouseMove&&gr.onMouseMove(jt),hg={x:jt.clientX,y:jt.clientY},ba.current&&ba.current.update()},io={},Oo=typeof fe=="string";R?(io.title=!Tt&&Oo&&!N?fe:null,io["aria-describedby"]=Tt?xn:null):(io["aria-label"]=Oo?fe:null,io["aria-labelledby"]=Tt&&!Oo?xn:null);const ar=q({},io,we,Ce.props,{className:st(we.className,Ce.props.className),onTouchStart:ro,ref:Ds},Q?{onMouseMove:sr}:{}),js={};F||(ar.onTouchStart=Ls,ar.onTouchEnd=il),N||(ar.onMouseOver=Db(mr,ar.onMouseOver),ar.onMouseLeave=Db(to,ar.onMouseLeave),He||(js.onMouseOver=mr,js.onMouseLeave=to)),L||(ar.onFocus=Db(no,ar.onFocus),ar.onBlur=Db(ya,ar.onBlur),He||(js.onFocus=no,js.onBlur=ya));const Fc=D.useMemo(()=>{var jt;let gr=[{name:"arrow",enabled:!!Te,options:{element:Te,padding:4}}];return(jt=re.popperOptions)!=null&&jt.modifiers&&(gr=gr.concat(re.popperOptions.modifiers)),q({},re.popperOptions,{modifiers:gr})},[Te,re]),Ii=q({},O,{isRtl:Oe,arrow:S,disableInteractive:He,placement:X,PopperComponentProp:Z,touch:Se.current}),_a=Pxe(Ii),du=(r=(i=te.popper)!=null?i:k.Popper)!=null?r:kxe,$s=(o=(s=(a=te.transition)!=null?a:k.Transition)!=null?s:be)!=null?o:Mw,ol=(l=(u=te.tooltip)!=null?u:k.Tooltip)!=null?l:Axe,wa=(c=(f=te.arrow)!=null?f:k.Arrow)!=null?c:Rxe,Ms=Dh(du,q({},re,(h=ue.popper)!=null?h:P.popper,{className:st(_a.popper,re==null?void 0:re.className,(p=(g=ue.popper)!=null?g:P.popper)==null?void 0:p.className)}),Ii),oo=Dh($s,q({},ve,(_=ue.transition)!=null?_:P.transition),Ii),fu=Dh(ol,q({},(w=ue.tooltip)!=null?w:P.tooltip,{className:st(_a.tooltip,(b=(v=ue.tooltip)!=null?v:P.tooltip)==null?void 0:b.className)}),Ii),hu=Dh(wa,q({},(y=ue.arrow)!=null?y:P.arrow,{className:st(_a.arrow,(x=(I=ue.arrow)!=null?I:P.arrow)==null?void 0:x.className)}),Ii);return E.jsxs(D.Fragment,{children:[D.cloneElement(Ce,ar),E.jsx(du,q({as:Z??wz,placement:X,anchorEl:Q?{getBoundingClientRect:()=>({top:hg.y,left:hg.x,right:hg.x,bottom:hg.y,width:0,height:0})}:he,popperRef:ba,open:he?Tt:!1,id:xn,transition:!0},js,Ms,{popperOptions:Fc,children:({TransitionProps:jt})=>E.jsx($s,q({timeout:Ue.transitions.duration.shorter},jt,oo,{children:E.jsxs(ol,q({},fu,{children:[fe,S?E.jsx(wa,q({},hu,{ref:me})):null]}))}))}))]})});function Nxe(t){return Dt("MuiToolbar",t)}Nt("MuiToolbar",["root","gutters","regular","dense"]);const Lxe=["className","component","disableGutters","variant"],Dxe=t=>{const{classes:e,disableGutters:n,variant:r}=t;return wt({root:["root",!n&&"gutters",r]},Nxe,e)},jxe=Je("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(t,e)=>{const{ownerState:n}=t;return[e.root,!n.disableGutters&&e.gutters,e[n.variant]]}})(({theme:t,ownerState:e})=>q({position:"relative",display:"flex",alignItems:"center"},!e.disableGutters&&{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}},e.variant==="dense"&&{minHeight:48}),({theme:t,ownerState:e})=>e.variant==="regular"&&t.mixins.toolbar),$xe=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiToolbar"}),{className:i,component:o="div",disableGutters:s=!1,variant:a="regular"}=r,l=Fe(r,Lxe),u=q({},r,{component:o,disableGutters:s,variant:a}),c=Dxe(u);return E.jsx(jxe,q({as:o,className:st(c.root,i),ref:n,ownerState:u},l))});function Mxe(t){return Dt("MuiTextField",t)}Nt("MuiTextField",["root"]);const Bxe=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],Fxe={standard:CR,filled:SR,outlined:kR},Vxe=t=>{const{classes:e}=t;return wt({root:["root"]},Mxe,e)},Uxe=Je(hwe,{name:"MuiTextField",slot:"Root",overridesResolver:(t,e)=>e.root})({}),Po=D.forwardRef(function(e,n){const r=Bt({props:e,name:"MuiTextField"}),{autoComplete:i,autoFocus:o=!1,children:s,className:a,color:l="primary",defaultValue:u,disabled:c=!1,error:f=!1,FormHelperTextProps:h,fullWidth:p=!1,helperText:g,id:_,InputLabelProps:w,inputProps:b,InputProps:v,inputRef:y,label:x,maxRows:I,minRows:O,multiline:S=!1,name:C,onBlur:k,onChange:P,onFocus:R,placeholder:L,required:N=!1,rows:V,select:F=!1,SelectProps:z,type:B,value:W,variant:Q="outlined"}=r,G=Fe(r,Bxe),j=q({},r,{autoFocus:o,color:l,disabled:c,error:f,fullWidth:p,multiline:S,required:N,select:F,variant:Q}),U=Vxe(j),K={};Q==="outlined"&&(w&&typeof w.shrink<"u"&&(K.notched=w.shrink),K.label=x),F&&((!z||!z.native)&&(K.id=void 0),K["aria-describedby"]=void 0);const ne=Oc(_),oe=g&&ne?`${ne}-helper-text`:void 0,X=x&&ne?`${ne}-label`:void 0,Z=Fxe[Q],re=E.jsx(Z,q({"aria-describedby":oe,autoComplete:i,autoFocus:o,defaultValue:u,fullWidth:p,multiline:S,name:C,rows:V,maxRows:I,minRows:O,type:B,value:W,id:ne,inputRef:y,onBlur:k,onChange:P,onFocus:R,placeholder:L,inputProps:b},K,v));return E.jsxs(Uxe,q({className:st(U.root,a),disabled:c,error:f,fullWidth:p,ref:n,required:N,color:l,variant:Q,ownerState:j},G,{children:[x!=null&&x!==""&&E.jsx(Qwe,q({htmlFor:ne,id:X},w,{children:x})),F?E.jsx(Lz,q({"aria-describedby":oe,id:ne,labelId:X,value:W,input:re},z,{children:s})):re,g&&E.jsx(Cwe,q({id:oe},h,{children:g}))]}))});var RR={},bT={};const zxe=Jl(i0e);var nM;function eo(){return nM||(nM=1,function(t){"use client";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return e.createSvgIcon}});var e=zxe}(bT)),bT}var qxe=Ei;Object.defineProperty(RR,"__esModule",{value:!0});var Zx=RR.default=void 0,Hxe=qxe(eo()),Wxe=E;Zx=RR.default=(0,Hxe.default)((0,Wxe.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2m0 15-5-2.18L7 18V5h10z"}),"BookmarkBorder");var OR={},Kxe=Ei;Object.defineProperty(OR,"__esModule",{value:!0});var eE=OR.default=void 0,Gxe=Kxe(eo()),Qxe=E;eE=OR.default=(0,Gxe.default)((0,Qxe.jsx)("path",{d:"M17 3H7c-1.1 0-1.99.9-1.99 2L5 21l7-3 7 3V5c0-1.1-.9-2-2-2"}),"Bookmark");let ut=gR({palette:{primary:{main:Sl[900],dark:"#1A5638",light:Sl[200],extraLight:Sl[100],contrastText:"rgb(244,244,244)"},secondary:{main:"#1B2F5E",dark:"#72788D",light:hd[200]},info:{main:"rgb(1,1,1,0)",disabled:"rgb(44,44,44)",contrastText:"rgb(244,244,244)",neutralText:"#808080"}},attributes:{boxShadow:`0 1px 1px hsl(0deg 0% 0% / 0.075),
      0 2px 2px hsl(0deg 0% 0% / 0.075),
      0 4px 4px hsl(0deg 0% 0% / 0.075),
      0 8px 8px hsl(0deg 0% 0% / 0.075),
      0 16px 16px hsl(0deg 0% 0% / 0.075)`}});class Yxe{constructor(e,n,r,i,o,s){Ve(this,"id");Ve(this,"profileId");Ve(this,"readers");Ve(this,"writers");Ve(this,"editors");Ve(this,"commenters");this.id=e,this.profileId=n,this.readers=r,this.writers=i,this.commenters=o,this.editors=s}}class ga extends Yxe{constructor(n,r,i,o,s=[],a=[],l=!1,u=!1,c=new Un,f=Rt.now(),h=Rt.now()){super(n,i,c.readers,c.writers,c.commenters,c.editors);Ve(this,"id");Ve(this,"name");Ve(this,"pageIdList");Ve(this,"bookIdList");Ve(this,"profileId");Ve(this,"contributors");Ve(this,"purpose");Ve(this,"privacy");Ve(this,"writingIsOpen");Ve(this,"updatedAt");Ve(this,"created");this.id=n,this.name=r,this.pageIdList=s,this.bookIdList=a,this.writingIsOpen=l,this.profileId=i,this.privacy=u,this.purpose=o,this.updatedAt=f,this.created=h}static className(){return"library"}itemHashInLibrary(n){let r=this.pageIdList.find(o=>o==n.item.id),i=this.bookIdList.find(o=>o==n.item.id);return!!r&&!!i}}const __=at("libraries/updateLibrary",async function(t,e){try{const{library:n,name:r,purpose:i,privacy:o,writingIsOpen:s}=t,a=bt(Xe,"library",n.id);await xi(a,{privacy:o,writingIsOpen:s,name:r,purpose:i}),Jo.initIndex("library").partialUpdateObject({objectID:n.id,name:r},{createIfNotExists:!0}).wait();const l=new Un(n.commenters,n.readers,n.writers,n.editors);return{library:new ga(n.id,r,n.profileId,i,n.pageIdList,n.bookIdList,s,o,l,n.updatdedAt,n.created)}}catch(n){return{error:new Error(`Error: updateLibrary ${n.message}`)}}}),Xl=at("libraries/updateLibraryContent",async function(t,e){try{const{library:n,pageIdList:r,bookIdList:i}=t;let o=Rt.now();const s=bt(Xe,"library",n.id);await xi(s,{pageIdList:r,bookIdList:i,updatedAt:o});const a=new Un(n.commenters,n.readers,n.writers,n.editors);return{library:new ga(n.id,n.name,n.profileId,n.purpose,r,i,n.writingIsOpen,n.privacy,a,o,n.created)}}catch(n){return{error:new Error(`Error: update conteent Library ${n.message}`)}}}),Dz=at("libraries/updateLibraryContent",async function(t,e){try{const{library:n}=t,r=t.pageIdList,i=t.bookIdList;let o=Rt.now();const s=bt(Xe,"library",n.id);i.length>0&&await xi(s,{bookIdList:i,updatedAt:o}),r.length>0&&await xi(s,{pageIdList:r,updatedAt:o});const l=(await Ao(s)).data(),{id:u,name:c,profileId:f,purpose:h,pageIdList:p,bookIdList:g,readers:_,commenters:w,writingIsOpen:b,writers:v,editors:y,privacy:x,created:I}=l,O=new Un(w,_,v,y);return{library:new ga(u,c,f,h,p,g,b,x,O,o,I)}}catch(n){return{error:new Error(`Error: append update content Library ${n.message}`)}}}),np=at("libraries/fetchLibrary",async function(t,e){const{id:n}=t;try{const i=(await Ao(bt(Xe,"library",n))).data();let o=i.name,s=i.pageIdList,a=i.bookIdList,l=i.profileId,u=i.commenters,c=i.writers,f=i.editors,h=i.readers,p=i.purpose,g=i.privacy,_=i.writingIsOpen,w=i.created,b=i.updatedAt;u||(u=[]),c||(c=[]),f||(f=[]),h||(h=[]);const v=new Un(u,h,c,f);return{library:new ga(n,o,l,p,s,a,_,g,v,b,w)}}catch(r){return{error:new Error(`Error: Fetch Library: ${r.message}`)}}}),w_=at("library/createLibrary",async function(t,e){const n=hn(Xe,"library"),r=bt(n).id,{name:i,pageIdList:o,bookIdList:s,profileId:a,purpose:l,privacy:u,writingIsOpen:c,writers:f,editors:h,commenters:p,readers:g}=t,_=Rt.now();u||Jo.initIndex("library").saveObject({objectID:r,name:i}).wait();try{const w=await Ki(bt(Xe,"library",r),{id:r,name:i,purpose:l,profileId:a,pageIdList:o,bookIdList:s,privacy:u,writingIsOpen:c,readers:g,writers:f,editors:h,commenters:p,updatedAt:_,created:_}),b=new Un(p,g,f,h);return{library:new ga(r,i,a,l,o,s,c,u,b,_,_)}}catch(w){return{error:new Error(`Error: Create Library: ${w.message}`)}}}),rv=at("libraries/getProfileLibraries",async(t,e)=>{let n=[];try{const r=t.profile,i=hn(Xe,"library");let o=Lt(i,Ze("profileId","==",r.id),Ze("privacy","==",!1)),s=[o];if(Et.currentUser)if(Et.currentUser.uid===r.userId)o=Lt(i,Ze("profileId","==",r.id)),s=[o];else{const c=Lt(i,Ze("profileId","==",r.id),Ze("writers","array-contains",Et.currentUser.uid)),f=Lt(i,Ze("profileId","==",r.id),Ze("editors","array-contains",Et.currentUser.uid)),h=Lt(i,Ze("profileId","==",r.id),Ze("commenters","array-contains",Et.currentUser.uid)),p=Lt(i,Ze("profileId","==",r.id),Ze("readers","array-contains",Et.currentUser.uid));s=[...s,c,f,h,p]}let a=s.map(c=>Ur(c));return n=(await Promise.all(a)).map(c=>c.docs).flat().map(c=>$z(c)),{libList:n}}catch(r){return{error:r??new Error("Error: Get Profile Library")}}}),dy=ir("libraries/setLibraryInView",t=>{const{library:e}=t;return{payload:e}}),jz=ir("libraries/setBookmarkLibrary",t=>{const{library:e}=t;return{payload:e}}),Vw=at("libraries/fetchBookmarkLibrary",async(t,e)=>{let n=t.id;try{const i=(await Ao(bt(Xe,"library",n))).data();let o=i.id,s=i.name,a=i.pageIdList,l=i.bookIdList,u=i.profileId,c=i.purpose,f=i.privacy,h=i.writingIsOpen,p=i.created,g=i.commenters;const _=i.updatdedAt;let w=i.editors,b=i.readers,v=i.writers;w||(w=[]),g||(g=[]),b||(b=[]),v||(v=[]);const y=new Un(g,b,v,w);return{library:new ga(o,s,u,c,a,l,h,f,y,_,p)}}catch(r){return{error:new Error(`Error: Fetch Bookmark Library: ${r.message}`)}}}),jC=at("libraries/saveRolesForLibrary",async(t,e)=>{try{const{library:n,readers:r,commenters:i,editors:o,writers:s}=t;let a=bt(Xe,"library",n.id);await xi(a,{editors:o,commenters:i,writers:s,readers:r});const l=new Un(i,r,s,o);return{library:new ga(n.id,n.name,n.profileId,n.purpose,n.pageIdList,n.bookIdList,n.writingIsOpen,n.privacy,l,n.updatedAt,n.created)}}catch(n){return{error:n??new Error("Error: SAVE LIBRARY ROLES")}}}),iv=at("libraries/getPublicLibraries",async t=>{let e=[];const n=hn(Xe,"library");return(await Ur(Lt(n,Ze("privacy","==",!1)))).docs.forEach(i=>{const o=$z(i);e=[...e,o]}),{libraryList:e}}),Uw=at("libraries/deleteLibrary",async(t,e)=>{try{const{library:n}=t;return await Wo(bt(Xe,"library",n.id)),Jo.initIndex("library").deleteObject(n.id).wait(),{library:n}}catch(n){return{error:new Error("Error: Delete Library"+n.message)}}}),zw=at("libraries/fetchArrayOfLibraries",async(t,e)=>{try{const n=t.libraryIdList,r=t.profile,i=n.map(a=>{const l=bt(Xe,"library",a);return Ao(l)});return{libraryList:(await Promise.all(i)).map(a=>unpackPageDoc(a))}}catch(n){return{error:new Error(`Error: Fetch Array Of Libraries: ${n.message}`)}}}),rM=at("libraries/fetchArrayOfLibrariesAppend",async(t,e)=>{try{const n=hn(Xe,"library"),r=t.libraryIdList,i=await Ur(Lt(n,Ze("id","in",r)));let o=[];return i.docs.forEach(s=>{const a=s.data(),{id:l}=s,u=a.name,c=a.pageIdList,f=a.bookIdList,h=a.profileId,p=a.privacy,g=a.purpose,_=a.writingIsOpen,w=a.created,b=a.updatedAt;let v=a.commenters,y=a.editors,x=a.readers,I=a.writers;y||(y=[]),v||(v=[]),x||(x=[]),I||(I=[]);const O=new Un(v,x,I,y),S=new ga(l,u,h,g,c,f,_,p,O,b,w);o=[...o,S]}),{libraryList:o}}catch{return}}),Xxe=ir("libraries/clearLibrariesInView");function $z(t){const e=t.data(),{id:n}=t,r=e.name,i=e.pageIdList,o=e.bookIdList,s=e.profileId,a=e.privacy,l=e.purpose,u=e.writingIsOpen,c=e.created,f=e.updatdedAt;let h=e.commenters,p=e.editors,g=e.readers,_=e.writers;p||(p=[]),h||(h=[]),g||(g=[]),_||(_=[]);const w=new Un(h,g,_,p);return new ga(n,r,s,l,i,o,u,a,w,f,c)}function Ye(t,e,n){if(t&&t.error==null){const{payload:r}=t;r&&r.error==null?e(r):r!=null?n(r.error):e({})}else t!=null?n(t.error):n(new Error("Check result error"))}const ui={library:{route:()=>"/library/:id",createRoute:t=>`/library/${t}`},page:{route:()=>"/page/:id",createRoute:t=>`/page/${t}`},book:{route:()=>"/book/:id",createRoute:t=>`/book/${t}`},editor:{text:()=>"/page/text",link:()=>"/page/link",image:()=>"/page/image"},login:()=>"/login",editPage:{route:()=>"/page/:id/edit",createRoute:t=>`/page/${t}/edit`},editBook:t=>`/book${t}/edit`,createBook:()=>"book/new",createLibrary:()=>"/library/new",addPagesToBook:t=>`/book/${t}/add`,addItemsToLibrary:t=>`/library/${t}/add`,home:()=>"/",about:()=>"/about",profile:{route:()=>"/profile/:id",createRoute:t=>`/profile/${t}`},myProfile:()=>"/profile/home"},iM={proxyUrl:"https://web-production-aec2f.up.railway.app/"},oM=({link:t,style:e={},wide:n=!1,width:r=n?"100%":300,height:i=n?80:380,frameBorder:o=0,allow:s="encrypted-media",...a})=>{const l=new URL(t);return l.pathname=l.pathname.replace(/\/intl-\w+\//,"/"),gn.createElement("iframe",{title:"Spotify Web Player",src:`https://open.spotify.com/embed${l.pathname}`,width:r,height:i,frameBorder:o,allow:s,style:{borderRadius:8,...e},...a})};function r0({url:t,size:e}){const[n,r]=D.useState(null),[i,o]=D.useState(!0);D.useEffect(()=>{t.includes("https://open.spotify.com/")||(async()=>{var p,g,_;try{const w={"Access-Control-Allow-Origin":"*","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, OPTIONS","Access-Control-Allow-Headers":"Content-Type"};console.log(`${iM.proxyUrl}${t}`);const v=await(await fetch(`${iM.proxyUrl}${t}`,{headers:w})).text();if(a(t)){const x=l(t),I=`https://img.youtube.com/vi/${x}/maxresdefault.jpg`;r({videoId:x,videoThumbnail:I}),o(!1)}else{const I=new DOMParser().parseFromString(v,"text/html");let O=((p=I.querySelector("title"))==null?void 0:p.textContent)||"";const S=((g=I.querySelector('meta[name="description"]'))==null?void 0:g.getAttribute("content"))||"";let C=((_=I.querySelector('meta[property="og:image"]'))==null?void 0:_.getAttribute("content"))||"";if(!C&&!C){const k=I.querySelector("img");k&&(C=k.getAttribute("src")||"")}r({title:O,description:S,image:C}),o(!1)}}catch(w){console.error("error1"+w),o(!1)}})()},[t]);const s=()=>{window.open(t,"_blank")},a=h=>h.includes("youtube.com")||h.includes("youtu.be"),l=h=>{const p=/(?:\/embed\/|\/watch\?v=|\/(?:embed\/|v\/|watch\?.*v=|youtu\.be\/|embed\/|v=))([^&?#]+)/,g=h.match(p);return g?g[1]:""};if(t!=null&&t.includes("https://open.spotify.com/"))return E.jsx("div",{className:"link-preview",style:{cursor:"pointer"},children:E.jsx(oM,{width:"100%",link:t})});if(i)return E.jsx(Vd,{height:"20em",width:"100%"});if(!n)return E.jsx("p",{children:"Failed to fetch link preview."});if(n.videoId)return E.jsx("img",{onClick:s,style:{cursor:"pointer"},className:"thumbnail",src:n.videoThumbnail,alt:"Video Thumbnail"});const u=()=>n.title!=="Spotify"?E.jsx("div",{children:n.image&&E.jsx("img",{className:"thumbnail",src:n.image,alt:"Link Preview"})}):E.jsx(oM,{width:"100%",link:t}),c=()=>n.title!=="Spotify"?E.jsx("h4",{className:"title",children:n.title}):E.jsx("div",{}),f=()=>n.title!=="Spotify"?E.jsx("p",{children:n.description}):E.jsx("p",{children:n.description});return E.jsxs("div",{className:"link-preview",onClick:s,style:{cursor:"pointer"},children:[u(),f(),c()]})}function fy({page:t,book:e}){const n=pn(),r=Vn(),i=nt(k=>k.users.userApprovals),[o,s]=D.useState(null),a=nt(k=>k.users.currentProfile),l=nt(k=>k.libraries.bookmarkLibrary);D.useState(!1);const u=nt(k=>k.users.profilesInView).find(k=>k!=null&&k.id==t.profileId),[c,f]=D.useState(null),[h,p]=D.useState(null),[g,_]=D.useState(null),[w,b]=D.useState(null),v=k=>{b(P=>P==null?k.currentTarget:null)};D.useEffect(()=>{if(i!=null){let k=i.find(P=>P.pageId===t.id&&P.profileId===a.id);s(k)}},[i]),D.useEffect(()=>{c&&p(c.offsetHeight<c.scrollHeight)},[]),D.useEffect(()=>{if(l&&t){let k=l.pageIdList.find(P=>P==t.id);_(!!k)}},[t]);const y=k=>{k&&(n(Jv({page:k})),r(`/page/${k.id}`))},x=()=>t?t.type===Wn.text?E.jsx("div",{children:E.jsx("div",{ref:k=>f(k),className:"dashboard-content text ql-editor",dangerouslySetInnerHTML:{__html:t.data}})}):t.type===Wn.picture?E.jsx("img",{className:"dashboard-content image",src:t.data,alt:t.title}):t.type===Wn.link?E.jsx("div",{className:"",children:E.jsx(r0,{url:t.data})}):E.jsx("div",{className:"empty",children:"Loading..."}):E.jsx("div",{className:"empty",children:"Loading..."}),I=()=>{if(o)n(oU({userApproval:o}));else{const k={pageId:t.id,profileId:a.id,score:2};n(iU(k))}};let O=E.jsx("div",{});u&&(O=E.jsx("p",{onClick:()=>{r(`/profile/${u.id}`)},children:u.username}));const S=()=>{if(g&&t){let k=l.pageIdList.filter(R=>R!=t.id);const P={library:l,pageIdList:k,bookIdList:l.bookIdList};n(Xl(P)),_(!1)}else if(l&&a&&t){const k=[...l.pageIdList,t.id],P={library:l,pageIdList:k,bookIdList:l.bookIdList};n(Xl(P)).then(R=>{Ye(R,L=>{const{library:N}=L;let V=N.pageIdList.find(F=>F==t.id);_(!!V)},()=>{})})}};let C=E.jsx("div",{});if(e){let k="";e.title.length>30?k=e.title.slice(0,30)+"...":k=e.title,C=E.jsx("a",{onClick:()=>{r(`/book/${e.id}`)},children:E.jsxs("p",{children:[k," ",">"]})})}if(t){let k=ut.palette.info.disabled;return a&&(o?k=ut.palette.primary.light:k=ut.palette.info.main),E.jsxs("div",{className:"content-item",children:[E.jsxs("div",{className:"dashboard-header",children:[E.jsxs("div",{className:"titles",children:[C,E.jsxs("p",{onClick:()=>{r(`/page/${t.id}`)},children:[" "," "+t.title]})]}),O]}),x(),E.jsxs("div",{className:"btn-row",children:[E.jsx(It,{disabled:!a,onClick:I,style:{color:ut.palette.info.contrastText,backgroundColor:k},children:"Yea"}),E.jsx(It,{style:{color:ut.palette.info.contrastText,backgroundColor:ut.palette.info.main},onClick:()=>y(t),children:"Comments"}),E.jsxs(bs,{children:[E.jsx(It,{onClick:P=>{v(P)},"aria-controls":w?"menu":void 0,"aria-haspopup":"true","aria-expanded":w?"true":void 0,children:"Share"}),E.jsxs(ia,{id:"menu",anchorEl:w,onClose:()=>b(null),open:!!w,unmountOnExit:!0,children:[E.jsx(er,{disabled:!a,onClick:()=>{n(yc({pageList:[t]})),r("/book/new")},children:"Add to Book"}),E.jsx(er,{disabled:!a,onClick:()=>{n(yc({pageList:[t]})),r("/library/new")},children:"Add to Library"}),E.jsx(er,{onClick:()=>{navigator.clipboard.writeText(`https://plumbum.app/page/${t.id}`).then(()=>{alert("Text copied to clipboard")})},children:"Copy Share Link"}),a&&a.id==t.profileId?E.jsx(er,{onClick:()=>r(ui.editPage.createRoute(t.id)),children:"Edit"}):E.jsx("div",{}),E.jsx(er,{onClick:S,disabled:!a,children:g?E.jsx(eE,{}):E.jsx(Zx,{})})]})]})]})]})}else return E.jsx("div",{children:"Loading..."})}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var $C=function(t,e){return $C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},$C(t,e)};function Jxe(t,e){$C(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var ov=function(){return ov=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},ov.apply(this,arguments)};function Zxe(t,e,n,r){var i,o=!1,s=0;function a(){i&&clearTimeout(i)}function l(){a(),o=!0}typeof e!="boolean"&&(r=n,n=e,e=void 0);function u(){var c=this,f=Date.now()-s,h=arguments;if(o)return;function p(){s=Date.now(),n.apply(c,h)}function g(){i=void 0}r&&!i&&p(),a(),r===void 0&&f>t?p():e!==!0&&(i=setTimeout(r?g:p,r===void 0?t-f:t))}return u.cancel=l,u}var rp={Pixel:"Pixel",Percent:"Percent"},sM={unit:rp.Percent,value:.8};function aM(t){return typeof t=="number"?{unit:rp.Percent,value:t*100}:typeof t=="string"?t.match(/^(\d*(\.\d+)?)px$/)?{unit:rp.Pixel,value:parseFloat(t)}:t.match(/^(\d*(\.\d+)?)%$/)?{unit:rp.Percent,value:parseFloat(t)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),sM):(console.warn("scrollThreshold should be string or number"),sM)}var Yr=function(t){Jxe(e,t);function e(n){var r=t.call(this,n)||this;return r.lastScrollTop=0,r.actionTriggered=!1,r.startY=0,r.currentY=0,r.dragging=!1,r.maxPullDownDistance=0,r.getScrollableTarget=function(){return r.props.scrollableTarget instanceof HTMLElement?r.props.scrollableTarget:typeof r.props.scrollableTarget=="string"?document.getElementById(r.props.scrollableTarget):(r.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},r.onStart=function(i){r.lastScrollTop||(r.dragging=!0,i instanceof MouseEvent?r.startY=i.pageY:i instanceof TouchEvent&&(r.startY=i.touches[0].pageY),r.currentY=r.startY,r._infScroll&&(r._infScroll.style.willChange="transform",r._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},r.onMove=function(i){r.dragging&&(i instanceof MouseEvent?r.currentY=i.pageY:i instanceof TouchEvent&&(r.currentY=i.touches[0].pageY),!(r.currentY<r.startY)&&(r.currentY-r.startY>=Number(r.props.pullDownToRefreshThreshold)&&r.setState({pullToRefreshThresholdBreached:!0}),!(r.currentY-r.startY>r.maxPullDownDistance*1.5)&&r._infScroll&&(r._infScroll.style.overflow="visible",r._infScroll.style.transform="translate3d(0px, "+(r.currentY-r.startY)+"px, 0px)")))},r.onEnd=function(){r.startY=0,r.currentY=0,r.dragging=!1,r.state.pullToRefreshThresholdBreached&&(r.props.refreshFunction&&r.props.refreshFunction(),r.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){r._infScroll&&(r._infScroll.style.overflow="auto",r._infScroll.style.transform="none",r._infScroll.style.willChange="unset")})},r.onScrollListener=function(i){typeof r.props.onScroll=="function"&&setTimeout(function(){return r.props.onScroll&&r.props.onScroll(i)},0);var o=r.props.height||r._scrollableNode?i.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!r.actionTriggered){var s=r.props.inverse?r.isElementAtTop(o,r.props.scrollThreshold):r.isElementAtBottom(o,r.props.scrollThreshold);s&&r.props.hasMore&&(r.actionTriggered=!0,r.setState({showLoader:!0}),r.props.next&&r.props.next()),r.lastScrollTop=o.scrollTop}},r.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},r.throttledOnScrollListener=Zxe(150,r.onScrollListener).bind(r),r.onStart=r.onStart.bind(r),r.onMove=r.onMove.bind(r),r.onEnd=r.onEnd.bind(r),r}return e.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},e.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},e.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},e.getDerivedStateFromProps=function(n,r){var i=n.dataLength!==r.prevDataLength;return i?ov(ov({},r),{prevDataLength:n.dataLength}):null},e.prototype.isElementAtTop=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=aM(r);return o.unit===rp.Pixel?n.scrollTop<=o.value+i-n.scrollHeight+1:n.scrollTop<=o.value/100+i-n.scrollHeight+1},e.prototype.isElementAtBottom=function(n,r){r===void 0&&(r=.8);var i=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,o=aM(r);return o.unit===rp.Pixel?n.scrollTop+i>=n.scrollHeight-o.value:n.scrollTop+i>=o.value/100*n.scrollHeight},e.prototype.render=function(){var n=this,r=ov({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),i=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),o=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return gn.createElement("div",{style:o,className:"infinite-scroll-component__outerdiv"},gn.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(s){return n._infScroll=s},style:r},this.props.pullDownToRefresh&&gn.createElement("div",{style:{position:"relative"},ref:function(s){return n._pullDown=s}},gn.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!i&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},e}(D.Component);class jc extends U6{constructor(n,r,i,o,s,a,l,u=new Un,c=Rt.now(),f=Rt.now()){super(n,i,o,"",u.readers,u.writers,u.editors,u.commenters);Ve(this,"purpose");Ve(this,"profileId");Ve(this,"pageIdList");Ve(this,"updatedAt");Ve(this,"privacy");Ve(this,"writingIsOpen");Ve(this,"created");this.purpose=r,this.title=i,this.pageIdList=s,this.profileId=o,this.updatedAt=c,this.writingIsOpen=l,this.privacy=a,this.created=f}}Ve(jc,"className","book");const sv=at("books/getPublicBooks",async t=>{let e=[];try{return(await Ur(Lt(hn(Xe,"book"),Ze("privacy","==",!1)))).docs.forEach(r=>{const i=vm(r);e=[...e,i]}),{bookList:e}}catch(n){return{error:new Error(`getPublicBooks ${n.message}`)}}}),Ud=at("books/fetchBook",async function(t,e){let n=t.id;try{const r=await Ao(bt(Xe,"book",n));return{book:vm(r)}}catch(r){return{error:r}}}),ip=at("books/getProfileBooks",async(t,e)=>{try{const n=t.profile,r=hn(Xe,"book");let i=[],o=Lt(r,jd(Ze("profileId","==",n.id),Ze("privacy","==",!1))),s=[o];if(Et.currentUser)if(Et.currentUser.uid==n.userId)o=Lt(r,Ze("profileId","==",n.id)),s=[o];else{const c=Lt(r,Ze("profileId","==",n.id),Ze("writers","array-contains",Et.currentUser.uid)),f=Lt(r,Ze("profileId","==",n.id),Ze("editors","array-contains",Et.currentUser.uid)),h=Lt(r,Ze("profileId","==",n.id),Ze("commenters","array-contains",Et.currentUser.uid)),p=Lt(r,Ze("profileId","==",n.id),Ze("readers","array-contains",Et.currentUser.uid));s=[...s,c,f,h,p]}let a=s.map(c=>Ur(c));return i=(await Promise.all(a)).map(c=>c.docs).flat().map(c=>vm(c)),{bookList:i}}catch(n){return{error:new Error(`Error: GET PROFILE BOOKS: ${n.message}`)}}}),eEe=ir("books/clearBooksInView"),tEe=at("books/createBook",async function(t,e){try{const n=hn(Xe,"book"),r=bt(n).id,{title:i,purpose:o,profileId:s,pageIdList:a,privacy:l,writingIsOpen:u,commenters:c,editors:f,readers:h,writers:p}=t,g=Rt.now(),_=g;await Ki(bt(Xe,"book",r),{id:r,title:i,purpose:o,profileId:s,pageIdList:a,privacy:l,writingIsOpen:u,commenters:c,editors:f,readers:h,writers:p,updatedAt:g,created:g});const w=new Un(c,h,p,f);return l||Jo.initIndex("book").saveObject({objectID:r,titlee:i,type:"book"}).wait(),{book:new jc(r,o,i,s,a,l,u,w,_,g)}}catch(n){return{error:new Error(`Error: CreateBook ${n.message}`)}}}),NR=at("books/fetchArrayOfBooks",async(t,e)=>{try{const r=t.bookIdList.map(s=>{const a=bt(Xe,"book",s);return Ao(a)});return{bookList:(await Promise.all(r)).map(s=>vm(s))}}catch(n){return{error:n??new Error("Error: Fetch Array of Books")}}}),MC=at("books/fetchArrayOfBooksAppend",async(t,e)=>{const n=hn(Xe,"book"),r=t.bookIdList;let i=Lt(n,Ze("id","in",r),Ze("privacy","==",!1));Et.currentUser&&(i=Lt(n,jd(Ze("id","in",r),yw(Ze("privacy","==",!1),yw(Ze("commenters","array-contains",Et.currentUser.uid),Ze("readers","array-contains",Et.currentUser.uid),Ze("editors","array-contains",Et.currentUser.uid),Ze("writers","array-contains",Et.currentUser.uid),Ze("privacy","==",!1))))));const o=await Ur(i);let s=[];return o.docs.forEach(a=>{const l=a.data(),{id:u}=a,c=l.title,f=l.purpose,h=l.profileId,p=l.pageIdList,g=l.updatedAt,_=l.privacy,w=l.writingIsOpen,b=l.created;let v=l.commenters,y=l.editors,x=l.readers,I=l.writers;y||(y=[]),v||(v=[]),x||(x=[]),I||(I=[]);const O=new Un(v,x,I,y),S=new jc(u,f,c,h,p,_,w,O,g,b);s=[...s,S]}),{bookList:s}}),BC=at("books/saveRolesForBook",async(t,e)=>{try{const{book:n,readers:r,commenters:i,editors:o,writers:s}=t;let a=bt(Xe,"book",n.id);await xi(a,{editors:o,commenters:i,writers:s,readers:r});const l=new Un(i,r,s,o);return{book:new jc(n.id,n.purpose,n.title,n.profileId,n.pageIdList,n.privacy,n.writingIsOpen,l,n.updatedAt,n.created)}}catch(n){return{error:n??new Error("Error: SAVE BOOK ROLES")}}}),av=at("books/updateBooks",async(t,e)=>{try{const{book:n,title:r,purpose:i,pageIdList:o,privacy:s,writingIsOpen:a}=t;let l=Rt.now(),u=bt(Xe,"book",n.id);await xi(u,{title:r,pageIdList:o,privacy:s,writingIsOpen:a,purpose:i,updatedAt:l}),s||Jo.initIndex("book").partialUpdateObject({objectID:n.id,title:r},{createIfNotExists:!0}).wait();const c=new Un(n.commenters,n.readers,n.writers,n.editors);return{book:new jc(n.id,i,r,n.profileId,o,s,a,c,l,n.created)}}catch(n){return{error:new Error("Error: UDATE BOOK -"+n.message)}}}),FC=at("books/deleteBook",async(t,e)=>{try{const{book:n}=t;return await Wo(bt(Xe,"book",n.id)),Jo.initIndex("book").deleteObject(n.id).wait(),{book:n}}catch(n){return{error:new Error("Error: DELETE BOOK"+n.message)}}}),nEe=at("books/updateBookContent",async(t,e)=>{try{const{book:n,pageIdList:r}=t;let i=bt(Xe,"book",n.id);r.forEach(a=>{xi(i,{pageIdList:Wv(a)})});let o=new Un(n.commenters,n.readers,n.writers,n.editors);return{book:new jc(n.id,n.purpose,n.title,n.profileId,r,n.privacy,n.writingIsOpen,o,n.updatedAt,n.created)}}catch(n){return{error:new Error("Error: Update Book Content"+n.message)}}}),rEe=at("books/appendSaveRolesForBooks",async(t,e)=>{try{const{bookIdList:n,readers:r,commenters:i}=n;n.forEach(o=>{let s=hn(Xe,"book",o);xi(s,{readers:Wv(r),commenters:Wv(i)})})}catch(n){return{error:new Error(`Error: SAVE BOOK ROLES ${n.message}`)}}}),zp=ir("books/setBookInView",t=>{const{book:e}=t;return{payload:e}}),VC=ir("books/setBooksToBeAdded",t=>{let{bookList:e}=t;return{payload:e}}),iEe=at("books/fetchBooksWhereProfileEditor",(t,e)=>{try{const n=hn(Xe,"book");let r=Lt(n,Ze("editors","array-contains",Et.currentUser.uid)),i=[];return r.docs.forEach(o=>{const s=vm(o);i=[...i,s]}),{bookList:i}}catch(n){return{error:n}}}),oEe=at("books/fetchBooksWhereProfileEditor",(t,e)=>{try{const n=hn(Xe,"book");let r=Lt(n,Ze("writers","array-contains",Et.currentUser.uid)),i=[];return r.docs.forEach(o=>{const s=vm(o);i=[...i,s]}),{bookList:i}}catch(n){return{error:n}}});function vm(t){const e=t.data(),{id:n}=t,r=e.title,i=e.purpose,o=e.profileId,s=e.pageIdList,a=e.updatedAt,l=e.privacy,u=e.writingIsOpen,c=e.created;let f=e.commenters,h=e.editors,p=e.readers,g=e.writers;h||(h=[]),f||(f=[]),g||(g=[]),p||(p=[]);const _=new Un(f,p,g,h);return new jc(n,i,r,o,s,l,u,_,a,c)}class i0{constructor(e,n,r,i,o,s,a,l,u=Rt.now()){Ve(this,"id");Ve(this,"username");Ve(this,"profilePicture");Ve(this,"selfStatement");Ve(this,"bookmarkLibraryId");Ve(this,"homeLibraryId");Ve(this,"userId");Ve(this,"privacy");Ve(this,"created");this.id=e,this.username=n,this.profilePicture=r,this.selfStatement=i,this.bookmarkLibraryId=o,this.profileId=s,this.userId=a,this.privacy=l,this.created=u}}class LR{constructor(e,n,r,i=Rt.now()){Ve(this,"id");Ve(this,"bookId");Ve(this,"profileId");Ve(this,"created");this.id=e,this.bookId=n,this.profileId=r,this.created=i}}Ve(LR,"className","follow_book");class DR{constructor(e,n,r,i=Rt.now()){Ve(this,"id");Ve(this,"profileId");Ve(this,"libraryId");Ve(this,"created");this.id=e,this.profileId=n,this.created=i,this.libraryId=r}}Ve(DR,"className","follow_library");class jR{constructor(e,n,r,i=Rt.now()){Ve(this,"id");Ve(this,"followerId");Ve(this,"followingId");Ve(this,"created");this.id=e,this.followerId=n,this.created=i,this.followingId=r}}Ve(jR,"className","follow_profile");class Mz{constructor(e=[],n=[],r=[],i=[]){Ve(this,"pages");Ve(this,"books");Ve(this,"libraries");Ve(this,"profiles");this.books=n,this.pages=e,this.libraries=r,this.profiles=i}}function wo(){return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}const x_=at("users/logIn",async(t,e)=>{let n=t.email,r=t.password;try{const o=(await Sne(Et,n,r)).user.uid,a=(await Ur(Lt(hn(Xe,"profile"),Ze("userId","==",o)))).docs[0].data();if(a!=null){const l=a.id,u=a.username,c=a.profilePicture??"",f=a.selfStatement,h=a.homeLibraryId,p=a.bookmarkLibraryId,g=a.userId,_=a.privacy,w=a.created;return{profile:new i0(l,u,c,f,p,h,g,_,w)}}else throw new Error("Profile not found for the logged-in user.")}catch(i){return{error:i??new Error("Error: Performing Login")}}}),UC=at("users/signOut",async(t,e)=>(await Ane(Et),{profile:null})),E_=at("users/signUp",async(t,e)=>{let n=t.email,r=t.password;try{const i=await Tne(Et,n,r),o=bt(hn(Xe,"profile")).id,s=i.user.uid,a=bt(hn(Xe,"library")).id;new ga(a,"Saved");const l=Rt.now();await Ki(bt(Xe,"library",a),{id:a,name:"Saved",profileId:o,purpose:"Anything you find interesting can be saved here, for future use",pageIdList:[],bookIdList:[],writingIsOpen:!1,privacy:!0,editors:[],writers:[],commmenters:[],readers:[],created:l}),await Ki(bt(Xe,"user",s),{id:s,defaultProfileId:o,email:n,created:l});const{username:u,profilePicture:c,selfStatement:f,privacy:h}=t,p=new i0(o,u,c,f,a,a,s,h);return await Ki(bt(Xe,"profile",o),{id:o,username:u,profilePicture:c,selfStatement:f,bookmarkLibraryId:a,homeLibraryId:a,userId:s,privacy:h,created:l}),await Ki(bt(Xe,"profile",o,"collection","home"),{books:[],libraries:[],pages:[],profiles:[]}),Jo.initIndex("profile").saveObject({objectID:o,username:u,type:"profile"}).wait(),{profile:p}}catch{return{error:new Error("Error: performing sign up")}}}),zC=at("users/seachMultipleIndexes",async(t,e)=>{const{query:n}=t,r=[{indexName:"profile",query:n},{indexName:"page",query:n},{indexName:"book",query:n},{indexName:"library",query:n}];let{results:i}=await Jo.multipleQueries(r);return{results:i}});at("ds",async(t,e)=>{const{profile:n}=t;await Ki(bt(Xe,"profile",n.Id,"collection","home"),{books:[],libraries:[],pages:[],profiles:[]})});const qp=at("users/updatecollection",async(t,e)=>{try{const{profile:n,books:r,libraries:i,pages:o,profiles:s}=t;return await xi(bt(Xe,"profile",n.id,"collection","home"),{books:r,libraries:i,pages:o,profiles:s}),{collection:new Mz(o,r,i,s)}}catch(n){return{error:new Error(`Update Home Collection Error: ${n.message}`)}}}),vf=at("users/fetchHomeCollection",async(t,e)=>{try{const{profile:n}=t,i=(await Ao(bt(Xe,"profile",n.id,"collection","home"))).data(),{pages:o,books:s,libraries:a,profiles:l}=i;return{collection:new Mz(o,s,a,l)}}catch(n){return{error:new Error(`Fetch home Error: ${n.message}`)}}}),Bz=ir("users/setSignedInTrue",async t=>{}),Fz=ir("users/setSignedInFalse",async t=>{}),op=at("users/getCurrentProfile",async(t,e)=>{try{if(Et.currentUser){const r=(await Ur(Lt(hn(Xe,"profile"),Ze("userId","==",Et.currentUser.uid)))).docs[0].data(),i=r.id,o=r.username,s=r.profilePicture??"",a=r.selfStatement,l=r.homeLibraryId,u=r.bookmarkLibraryId,c=r.userId,f=r.privacy,h=r.created;return{profile:new i0(i,o,s,a,u,l,c,f,h)}}else throw new Error("No Authenticated User")}catch(n){return{error:new Error(` Getting current profile ${n.message}`)}}}),sEe=at("users/updateProfile",async(t,e)=>{try{const n=t.profile,r=t.username,i=t.profilePicture,o=bt(Xe,"profile",n.id),s=t.selfStatement,a=t.privacy;await xi(o,{username:r,profilePicture:i,selfStatement:s,privacy:a}),Jo.initIndex("profile").partialUpdateObject({objectID:n.id,username:r},{createIfNotExists:!0});const l=await Ao(o);return{profile:$R(l)}}catch(n){return{error:new Error(`Update Profile failed: ${n.message}`)}}}),qw=at("users/fetchAllProfiles",async(t,{params:e})=>{try{let n=hn(Xe,"profile"),r=await Ur(n),i=[];return r.docs.forEach(o=>{const s=$R(o);i.push(s)}),{profileList:i}}catch(n){return{error:new Error("Error: FETCH ALL PROFILES"+n.message)}}}),Vz=at("users/uploadProfilePicture",async(t,e)=>{try{const{file:n}=t,r=`profile/${n.name}-${wo()}.jpg`,i=B6(V6,r),o=new Blob([n]);return await $6(i,o),{url:await M6(i)}}catch(n){return{error:new Error("Error: UPLOAD Profile Picture"+n.message)}}}),aEe=at("users/uploadPicture",async(t,e)=>{try{const{file:n}=t,r=`image/picture-${n.name}.jpg`,i=B6(V6,r),o=new Blob([n]);await $6(i,o);const s=await M6(i);return{ref:r,url:s}}catch(n){return{error:new Error("Error: UPLOAD Picture"+n.message)}}}),lv=at("users/fetchProfile",async function(t,e){let n=t.id;try{const i=(await Ao(bt(Xe,"profile",n))).data();let{id:o,username:s,profilePicture:a,selfStatement:l,bookmarkLibraryId:u,homeLibraryId:c,userId:f,privacy:h,created:p}=i;return h&&(h=!1),{profile:new i0(o,s,a,l,u,c,f,h,p)}}catch(r){return{error:new Error("ERROR:FETCH PROFILEE:"+r.message)}}}),Uz=ir("users/setProfileInView",t=>{const{profile:e}=t;return{payload:e}}),Hw=at("users/createFollowBook",async function(t,e){try{const{profile:n,book:r}=t,i=`${n.id}_${r.id}`,o=Rt.now();return await Ki(bt(Xe,"follow_book",i),{id:i,bookId:r.id,profileId:n.id,created:o}),{followBook:new LR(i,r.id,n.id,o)}}catch(n){return{error:new Error(`Error:Create Follow Book ${n.message}`)}}}),qC=at("users/createFollowLibrary",async function(t,e){try{const{profile:n,library:r}=t,i=`${n.id}_${r.id}`,o=Rt.now();return await Ki(bt(Xe,"follow_library",i),{id:i,libraryId:r.id,profileId:n.id,created:o}),{followLibrary:new DR(i,n.id,r.id,o)}}catch(n){return{error:new Error(`Error: Create Follow Library ${n.message}`)}}}),hy=at("users/fetchFollowBooksForProfile",async(t,e)=>{try{const{profile:n}=t,r=hn(Xe,"follow_book"),i=await Ur(r,Ze("profileId","==",n.id));let o=[];return i.docs.forEach(s=>{const a=s.data(),{id:l,profileId:u,bookId:c,created:f}=a,h=new LR(l,c,u,n,f);o=[...o,h]}),{followList:o}}catch(n){return{error:new Error(`Error: Fetch Follow Books: ${n.message}`)}}}),Ww=at("users/fetchFollowlibraryForProfile",async(t,e)=>{try{const{profile:n}=t,r=hn(Xe,"follow_library"),i=await Ur(r,Ze("profileId","==",n.id));let o=[];return i.docs.forEach(s=>{const a=s.data(),{id:l,profileId:u,libraryId:c,created:f}=a,h=new DR(l,u,c,f);o=[...o,h]}),{followList:o}}catch(n){return{error:new Error(`Error: Fetch Follow books: ${n.message}`)}}}),zz=at("users/deleteFollowBook",async(t,e)=>{try{const{followBook:n,book:r,profile:i}=t;return n?await Wo(bt(Xe,"follow_book",n.id)):await Wo(bt(Xe,"follow_book",`${i.id}_${r.id}`)),{followBook:n}}catch(n){return{error:new Error("Error: Delete Follow Book"+n.message)}}}),qz=at("users/deleteFollowLibrary",async(t,e)=>{try{const{followLibrary:n,library:r,profile:i}=t;return n?await Wo(bt(Xe,"follow_library",n.id)):await Wo(bt(Xe,"follow_library",`${i.id}_${r.id}`)),{followLibrary:n}}catch(n){return{error:new Error("Error: Delete Follow Library"+n.message)}}}),Hz=at("users/deleteFollowProfile",async(t,e)=>{try{const{followProfile:n,follower:r,following:i}=t;return n?await Wo(bt(Xe,"follow_profile",n.id)):await Wo(bt(Xe,"follow_profile",`${r.id}_${i.id}`)),{followProfile:n}}catch(n){return{error:new Error("Error: Delete Follow Profile"+n.message)}}}),HC=at("users/createFollowProfile",async function(t,e){try{const{follower:n,following:r}=t,i=`${n.id}_${r.id}`,o=Rt.now();return await Ki(bt(Xe,"follow_profile",i),{id:i,followerId:n.id,followingId:r.id,created:o}),{followProfile:new jR(i,n.id,r.id,o)}}catch(n){return{error:new Error(`Error: Follow Profile ${n.message}`)}}}),Kw=at("users/fetchFollowProfilesForProfile",async(t,e)=>{try{const{profile:n}=t,r=hn(Xe,"follow_profile"),i=await Ur(r,Ze("followerId","==",n.id));let o=[];return i.docs.forEach(s=>{const a=s.data(),{id:l,followerId:u,followingId:c,created:f}=a,h=new jR(l,u,c,f);o=[...o,h]}),{followList:o}}catch(n){return{error:new Error(`Error: Fetch Follow Profile: ${n.message}`)}}}),lEe=at("users/deleteUserAccounts",async(t,e)=>{try{const n=Et.currentUser.uid;let o=(await Ur(Lt(hn(Xe,"profile"),Ze("userId","==",n)))).docs[0].data().id;return Wo(bt(Xe,"profile",o)),Jo.initIndex("profile").deleteObject(o).wait(),Et.currentUser.delete(),{code:200}}catch(n){return{error:new Error("Error: Deleting useer account"+n.message)}}}),WC=at("users/getPageApprovals",async(t,e)=>{try{const{profile:n}=t,r=await Ur(Lt(hn(Xe,Op.className),Ze("profileId","==",n.id)));let i=[];return r.docs.forEach(o=>{let s=uEe(o);s.push(s)}),{userApprovals:i}}catch(n){return{error:n}}}),Wz=at("pages/fetchArrayOfProfiles",async(t,e)=>{try{const r=t.profileIdList.map(s=>{const a=bt(Xe,"profile",s);return Ao(a)});return{profileList:(await Promise.all(r)).map(s=>$R(s))}}catch(n){return{error:n??new Error("Error: Fetch Array of Profiles")}}}),Gw=ir("users/searchDialogToggle",(t,e)=>{const{open:n}=t;return{payload:n}}),$R=t=>{const e=t.data();if(e!=null){const n=e.id,r=e.username??"",i=e.profilePicture??"",o=e.selfStatement,s=e.homeLibraryId,a=e.bookmarkLibraryId,l=e.userId,u=e.privacy,c=e.created;return new i0(n,r,i,o,a,s,l,u,c)}},uEe=t=>{const e=t.data(),{id:n}=t,{score:r,pageId:i,profileId:o}=e;return new Op(n,i,o,r)};at("Sf",async(t,e)=>{});function cEe(t){const e=pn(),n=nt(b=>b.users.currentProfile),r=nt(b=>b.pages.pagesInView),i=nt(b=>b.users.homeCollection),[o,s]=D.useState([]),[a,l]=D.useState(!1),[u,c]=D.useState(!1);D.useEffect(()=>{e(op()).then(b=>{Ye(b,v=>{const{profile:y}=v;e(vf({profile:y})),p()},v=>{p(),console.log(v)})})},[]),D.useEffect(()=>{n&&e(vf({profile:n})).then(v=>{Ye(v,y=>{p()},y=>{})})},[]);const f=()=>{l(!0),s([]),e(Gh()).then(b=>{Ye(b,v=>{c(!1);const{pageList:y}=v;let x=y.map(I=>({type:"page",page:I}));x=x.filter(I=>I.page!==null),s(x),c(!1)},v=>{console.log(v)})})},h=()=>{if(n){const b={libraryIdList:i.libraries};l(!0),e(zw(b)).then(v=>{if(v.error==null){const{payload:y}=v;if(y.error==null){const{libraryList:x}=y;x.forEach(I=>{if(I.bookIdList.length>0){const O={bookIdList:I.bookIdList,profile:n};e(MC(O)).then(S=>{Ye(S,C=>{const{bookList:k}=C;g(k)},C=>{})})}})}}l(!1)})}},p=()=>{if(n&&i){if(l(!0),i.books){const b={bookIdList:i.books,profile:n};i.books.length>0&&e(MC(b)).then(v=>Ye(v,y=>{l(!1);const{bookList:x}=y;g(x)},y=>{})),i.libraries&&i.libraries.length>0&&h(),i.profiles&&i.profiles.forEach(v=>{e(dC({id:v})).then(x=>Ye(x,I=>{l(!1);const{pageList:O}=I;O.map(C=>({type:"page",page:C})).forEach(C=>{o.includes(C)||s(k=>[C,...k])})},I=>{}))}),e(iEe()).then(v=>Ye(v,y=>{const{bookList:x}=y;g(x)},y=>{})),e(oEe()).then(v=>Ye(v,y=>{const{bookList:x}=y;g(x)},y=>{})),e(uce()).then(v=>Ye(v,y=>{const{pageList:x}=y;x.map(O=>({type:"page",page:O})).forEach(O=>{o.includes(O)||s(S=>[...S,O])})},y=>{}))}}else f()},g=b=>{b.forEach(v=>{let y=[];v.pageIdList.forEach(I=>{o.find(S=>S.page!=null&&S.page.id==I)||y.push(I)});const x={pageIdList:y,profile:n};y.length>0&&e(fC(x)).then(I=>Ye(I,O=>{const{pageList:S}=O;S.map(k=>({type:"page",page:k,book:v})).forEach(k=>{o.includes(k)||s(P=>[...P,k])}),_()}))})},_=()=>{s(b=>{let v=[];return b.forEach(x=>{v.find(O=>{if(O.page!=null&&x.page!=null)return O.page.id==x.page.id;if(O.book!=null&&x.book!=null)return O.book.id==x.book.id})||v.push(x)}),v.sort((x,I)=>I.page!=null&&x.page!=null?I.page.created-x.page.created:x.page!=null&&I.book!=null?I.book.updatedAt-x.page.created:x.book!=null&&I.page!=null?I.page.created-x.book.updatedAt:x.book!=null&&I.book!=null?I.book.updatedAt-x.page.created:-1)})},w=()=>o!=null&&o.length>0?E.jsx("div",{className:"content-list dashboard",children:E.jsx(Yr,{dataLength:o.length,next:p,hasMore:a,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),children:o.map((b,v)=>{switch(b.type){case"page":return E.jsx(fy,{page:b.page,book:b.book},`${b.page.id}_`+v);case"book":{let y=b.book.pageIdList[0];if(b.book.pageIdList.length>1){let x=r.find(I=>I.id==y);return x?E.jsx(fy,{page:x,book:b.book},`${b.page.id}_`+v):E.jsx("div",{})}}}})})}):o!=null&&o.length==0&&n?E.jsx("div",{className:"content-list dashboard",children:E.jsx("div",{className:"content",children:E.jsx("div",{className:"no-more-data",children:E.jsx("h3",{children:"Follow Some Books and Libraries"})})})}):o!=null&&o.length==0?E.jsx("div",{className:"content-list dashboard",children:E.jsx("div",{className:"content",children:E.jsx("div",{className:"no-more-data",children:E.jsx("h3",{children:"0 Data"})})})}):E.jsx("div",{className:"content-list dashboard",children:E.jsx("div",{className:"content",children:E.jsx("div",{className:"no-more-data",children:E.jsx("h3",{children:"Check your contection"})})})});return E.jsx("div",{id:"dashboard",children:E.jsxs("div",{children:[E.jsx("div",{style:{padding:"2em",textAlign:"center"},children:E.jsx("h1",{children:"HOME"})}),w()]})})}var MR={},dEe=Ei;Object.defineProperty(MR,"__esModule",{value:!0});var tE=MR.default=void 0,fEe=dEe(eo()),hEe=E;tE=MR.default=(0,fEe.default)((0,hEe.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const $c=Ro(E.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add"),Rg=Ro(E.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear"),lM=Ro(E.jsx("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess"),uM=Ro(E.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),pEe=Ro(E.jsx("path",{d:"M6 10c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m12 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m-6 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreHoriz"),mEe=Ro(E.jsx("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings"),o0=Ro(E.jsx("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility"),Kz=Ro(E.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff"),gEe=Je("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function vEe(t){const e=pn();D.useState(!0);const[n,r]=D.useState(""),[i,o]=D.useState(""),[s,a]=D.useState(""),[l,u]=D.useState(""),[c,f]=D.useState("https://cdn.pixabay.com/photo/2015/10/05/22/37/blank-profile-picture-973460_640.png"),[h,p]=D.useState(!1),[g,_]=D.useState(""),[w,b]=D.useState(""),[v,y]=D.useState(!1),[x,I]=D.useState(!1),O=Vn(),S=P=>{P.preventDefault(),i.length>0&&s.length>6&&n.length>2?e(E_({email:i,password:s,username:n,profilePicture:c,selfStatement:l,privacy:h})).then(L=>{Ye(L,N=>{localStorage.setItem("loggedIn",!0),O("/profile/home")},()=>{y(!0)})}):y(!0)},C=P=>{const L={file:Array.from(P.target.files)[0]};e(Vz(L)).then(N=>{Ye(N,V=>{const{url:F}=V;f(F)},V=>{window.alert(V.message),y(!0)})})},k=P=>{P.preventDefault(),g.length>3&&w.length>6?e(x_({email:g,password:w})).then(L=>{Ye(L,N=>{O("/profile/home")},()=>{I(!0)})}).catch(L=>{}):I(!0)};return E.jsx("div",{id:"LogInContainer",children:E.jsxs("div",{className:"two-panel",children:[E.jsx("div",{className:"left-bar",children:E.jsx(yEe,{setError:y,error:v,username:n,password:s,email:i,selfStatement:l,setUsername:r,setEmail:o,setPassword:a,setSelfStatement:u,profilePicture:c,setProfilePicture:C,setPrivacy:p,handleSubmit:S})}),E.jsx("div",{className:"right-bar",children:E.jsx(bEe,{setError:I,error:x,password:w,email:g,handleSubmit:k,setEmail:_,setPassword:P=>b(P)})})]})})}const zd={width:"95%",backgroundColor:ut.palette.primary.contrastText,marginTop:"1em",marginBottom:"1em",marginLeft:"1em"},uv={width:zd.width,marginTop:zd.marginTop,marginLeft:zd.marginLeft},KC={backgroundColor:zd.backgroundColor},GC={width:"95%",padding:"1em",marginTop:"1em",marginBottom:"1em",marginLeft:"1em",backgroundColor:ut.palette.secondary.main};function yEe(t){const[e,n]=D.useState(!1),r=()=>{n(!e)};let i=E.jsx("div",{});return t.profilePicture&&(i=E.jsx("img",{style:{marginLeft:"1em",width:"50%"},src:t.profilePicture,alt:""})),E.jsx("div",{className:"sign-card",children:E.jsxs("div",{id:"sign-in",children:[E.jsx("h1",{style:{marginLeft:"0.4em"},children:" Sign Up"}),E.jsxs(Yl,{children:[E.jsx(Po,{error:t.error,label:"Username",value:t.username,onChange:o=>{t.setError(!1);let s=o.target.value.trim();s.length<=30&&t.setUsername(s)},style:uv}),E.jsx(Po,{error:t.error,label:"E-mail",value:t.email,onChange:o=>{t.setError(!1),t.setEmail(o.target.value.trim())},style:uv,InputProps:{style:KC}}),E.jsx(ks,{label:"Private",style:{marginLeft:zd.marginLeft},control:E.jsx(Ps,{onChange:o=>{t.setError(!1),t.setPrivacy(o.target.value)}})}),E.jsxs("div",{style:{marginLeft:zd.marginLeft},id:"self-statement",children:[E.jsx("h6",{children:"Self Statement"}),E.jsx(uR,{name:"selfStatement",value:t.selfStatement,onChange:o=>{t.setError(!1);let s=o.target.value;s.length<=240&&t.setSelfStatement(s)},minRows:3,style:{marginBottom:"2em",width:"99%",padding:"1em",backgroundColor:ut.palette.primary.contrastText,color:ut.palette.primary.dark}})]}),E.jsx(Po,{error:t.error,value:t.password,label:"Password",onChange:o=>{t.setError(!1),t.setPassword(o.target.value.trim())},type:e?"text":"password",style:uv,InputProps:{style:KC,endAdornment:E.jsx(Pz,{position:"end",children:E.jsx($n,{onClick:r,children:e?E.jsx(Kz,{}):E.jsx(o0,{})})})}}),E.jsxs("div",{className:"file",children:[E.jsxs(It,{style:GC,component:"label",variant:"contained",startIcon:E.jsx(tE,{}),children:["Upload Picture",E.jsx(gEe,{type:"file",name:"profile_picture",onInput:o=>t.setProfilePicture(o)})]}),i]}),E.jsx(It,{onClick:t.handleSubmit,variant:"contained",style:GC,type:"submit",children:"Sign Up"})]})]})})}function bEe(t){const[e,n]=D.useState(!1),[r,i]=D.useState(""),[o,s]=D.useState(!1),a=()=>{n(!e)};return E.jsx("div",{className:"sign-card",children:E.jsxs("div",{id:"log-in",children:[E.jsx("h1",{style:{marginLeft:"0.4em",marginTop:"1em",marginRight:"0.4em"},children:" Log In"}),E.jsxs(Yl,{children:[E.jsx(Po,{error:t.error,label:"E-mail",value:t.email,name:"E-mail",placeholder:"E-mail",onChange:l=>t.setEmail(l.target.value),style:uv}),E.jsx(Po,{label:"Password",error:t.error,value:t.password,name:"password",placeholder:"Password",onChange:l=>t.setPassword(l.target.value.trim()),type:e?"text":"password",style:uv,InputProps:{style:KC,endAdornment:E.jsx(Pz,{position:"end",children:E.jsx($n,{onClick:a,children:e?E.jsx(Kz,{}):E.jsx(o0,{})})})}}),E.jsx("div",{style:{color:ut.palette.primary.dark,marginLeft:"1em"},onClick:()=>{s(!0)},children:E.jsx("a",{children:"Forgot Password?"})}),E.jsx(It,{onClick:t.handleSubmit,style:GC,variant:"contained",type:"submit",children:"Log In"})]}),E.jsxs(n0,{open:o,onClose:()=>{s(!1)},children:[E.jsx("div",{children:E.jsx(Rg,{onClick:()=>s(!1)})}),E.jsxs(Yl,{style:{marginLeft:zd.marginLeft,margin:"4em auto 0em auto ",padding:"2em",minWidth:"20em"},children:[E.jsx(si,{id:"modal-modal-title",variant:"h6",component:"h2",children:"Forgot Password"}),E.jsx(Po,{label:"E-mail",value:r,style:{marginTop:"4em",width:"90%",marginBottom:"2em",backgroundColor:ut.palette.secondary.contrastText},onChange:l=>i(l.target.value)}),E.jsx(It,{style:{backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText},variant:"outlined",onClick:()=>{r.length>0?Ine(Et,r).then(()=>{window.alert("Email Sent!")}).catch(l=>{l.code,l.message,l.message.includes("(auth/user-not-found)")&&window.alert("User not found")}):window.alert("Please write an email")},children:"Send"})]})]})]})})}function el(t,e){let n;return r=>{clearTimeout(n),n=setTimeout(i=>{n=null,t.apply(this,arguments)},e)}}var BR={},_Ee=Ei;Object.defineProperty(BR,"__esModule",{value:!0});var Og=BR.default=void 0,wEe=_Ee(eo()),xEe=E;Og=BR.default=(0,wEe.default)((0,xEe.jsx)("path",{d:"m12 8-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"}),"ExpandLess");var FR={},EEe=Ei;Object.defineProperty(FR,"__esModule",{value:!0});var Ng=FR.default=void 0,IEe=EEe(eo()),TEe=E;Ng=FR.default=(0,IEe.default)((0,TEe.jsx)("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore");var VR={},SEe=Ei;Object.defineProperty(VR,"__esModule",{value:!0});var Gz=VR.default=void 0,CEe=SEe(eo()),PEe=E;Gz=VR.default=(0,CEe.default)((0,PEe.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu");var UR={},kEe=Ei;Object.defineProperty(UR,"__esModule",{value:!0});var py=UR.default=void 0,AEe=kEe(eo()),REe=E;py=UR.default=(0,AEe.default)((0,REe.jsx)("path",{d:"M3.9 12c0-1.71 1.39-3.1 3.1-3.1h4V7H7c-2.76 0-5 2.24-5 5s2.24 5 5 5h4v-1.9H7c-1.71 0-3.1-1.39-3.1-3.1M8 13h8v-2H8zm9-6h-4v1.9h4c1.71 0 3.1 1.39 3.1 3.1s-1.39 3.1-3.1 3.1h-4V17h4c2.76 0 5-2.24 5-5s-2.24-5-5-5"}),"Link");var zR={},OEe=Ei;Object.defineProperty(zR,"__esModule",{value:!0});var my=zR.default=void 0,NEe=OEe(eo()),LEe=E;my=zR.default=(0,NEe.default)((0,LEe.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Create");var qR={},DEe=Ei;Object.defineProperty(qR,"__esModule",{value:!0});var Hp=qR.default=void 0,jEe=DEe(eo()),$Ee=E;Hp=qR.default=(0,jEe.default)((0,$Ee.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2M8.5 13.5l2.5 3.01L14.5 12l4.5 6H5z"}),"Image");var HR={},MEe=Ei;Object.defineProperty(HR,"__esModule",{value:!0});var Qz=HR.default=void 0,BEe=MEe(eo()),FEe=E;Qz=HR.default=(0,BEe.default)((0,FEe.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");const VEe="data:image/svg+xml,%3c?xml%20version='1.0'%20standalone='no'?%3e%3c!DOCTYPE%20svg%20PUBLIC%20'-//W3C//DTD%20SVG%2020010904//EN'%20'http://www.w3.org/TR/2001/REC-SVG-20010904/DTD/svg10.dtd'%3e%3csvg%20version='1.0'%20xmlns='http://www.w3.org/2000/svg'%20width='900.000000pt'%20height='900.000000pt'%20viewBox='0%200%20900.000000%20900.000000'%20preserveAspectRatio='xMidYMid%20meet'%3e%3cg%20transform='translate(0.000000,900.000000)%20scale(0.100000,-0.100000)'%20fill='%23000000'%20stroke='none'%3e%3cpath%20d='M4335%207043%20c-419%20-34%20-792%20-149%20-1131%20-350%20-912%20-541%20-1395%20-1585%20-1214%20-2627%20192%20-1106%201117%20-1974%202232%20-2095%20125%20-14%20431%20-14%20556%200%20292%2031%20626%20130%20867%20257%2082%2043%2090%2050%2093%2079%203%2029%20-7%2040%20-133%20153%20-185%20164%20-207%20173%20-337%20121%20-693%20-274%20-1472%20-160%20-2051%20302%20-407%20324%20-677%20784%20-762%201297%20-22%20134%20-30%20382%20-16%20515%2052%20486%20242%20897%20575%201243%20335%20348%20787%20569%201268%20621%2062%207%20490%2011%201193%2011%20l1095%200%200%20-1835%20c0%20-1009%20-2%20-1835%20-5%20-1835%20-3%200%20-268%20234%20-589%20519%20-322%20286%20-594%20525%20-606%20531%20-35%2019%20-76%202%20-117%20-48%20-139%20-171%20-305%20-277%20-533%20-339%20-92%20-25%20-348%20-25%20-440%200%20-208%2057%20-340%20136%20-487%20290%20-118%20125%20-203%20290%20-238%20466%20-26%20124%20-17%20324%2019%20446%20114%20386%20441%20658%20834%20694%20379%2035%20735%20-149%20927%20-479%2056%20-97%2099%20-221%20119%20-345%209%20-60%2023%20-110%2034%20-125%2010%20-14%2093%20-91%20183%20-172%20175%20-158%20203%20-173%20233%20-125%2040%2060%2046%20390%2011%20566%20-25%20126%20-70%20253%20-136%20382%20-199%20386%20-562%20660%20-999%20755%20-119%2026%20-427%2026%20-553%201%20-187%20-38%20-372%20-115%20-535%20-224%20-107%20-71%20-265%20-222%20-347%20-332%20-121%20-160%20-221%20-387%20-262%20-588%20-25%20-125%20-25%20-415%200%20-533%2064%20-298%20193%20-537%20406%20-751%20216%20-215%20460%20-346%20757%20-406%20135%20-26%20395%20-24%20534%206%20188%2040%20350%20104%20490%20196%2040%2025%2078%2044%2084%2041%206%20-2%20356%20-310%20778%20-684%20421%20-374%20776%20-683%20787%20-687%2035%20-11%2079%204%20106%2037%20l25%2030%200%202473%20c0%201897%20-3%202480%20-12%202500%20-26%2058%2046%2055%20-1365%2053%20-714%20-1%20-1316%20-3%20-1338%20-5z'/%3e%3c/g%3e%3c/svg%3e";function UEe(t){const e=Vn(),n=nt(h=>h.users.searchDialogOpen);nt(h=>h.users.searchResults);const[r,i]=D.useState(""),o=pn(),[s,a]=D.useState([]),l=nt(h=>h.pages.pagesInView),u=Ffe("(max-width:850px)");D.useEffect(()=>{a(l)},[]),D.useEffect(()=>{o(zC({query:r})).then(h=>{Ye(h,p=>{const{results:g}=p;let _=g.map(w=>{let b=w.index;return w.hits.map(v=>{let y={type:b};return Object.keys(v).forEach(x=>{y[x]=v[x]}),y})});a(_.flat())},p=>{})})},[r]);const c=h=>{o(Gw({open:!1})),e(`/${h.type}/${h.objectID}`)},f=()=>{o(Gw({open:!1}))};return E.jsxs(n0,{fullScreen:u,className:"search-dialog",open:n,children:[E.jsx("div",{className:"header",children:E.jsx(Qz,{onClick:f})}),E.jsxs("div",{style:{width:"94%",margin:"auto",display:"flex",flexDirection:"row"},children:[E.jsx(Po,{value:r,style:{flex:"auto"},onChange:h=>el(i(h.currentTarget.value),10),placeholder:"Search..."}),E.jsx("img",{style:{height:"2em"},src:VEe})]}),E.jsx(Yr,{className:"scroll",dataLength:s.length,next:()=>{},hasMore:!1,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"Nothing Found"})}),children:s.map((h,p)=>{if(h.title)return E.jsx("div",{onClick:()=>c(h),className:"search-return",children:E.jsx("h6",{className:"text",children:h.title})},p);if(h.name)return E.jsx("div",{onClick:()=>c(h),className:"search-return",children:E.jsx("h6",{className:"text",children:h.name})},p);if(h.username)return E.jsx("div",{onClick:()=>c(h),className:"search-return",children:E.jsx("h6",{className:"text",children:h.username})},p)})}),E.jsx("div",{style:{height:"100%"}})]})}const ni={home:"Home",about:"About",create:"Create",discovery:"Discovery",login:"Log In",search:"Search"},cM=[ni.home,ni.about,ni.discovery,ni.search,ni.create,ni.login];function zEe(t){const e=pn(),n=Vn(),[r,i]=D.useState(null),[o,s]=D.useState(null),[a,l]=D.useState(null),[u,c]=D.useState(null),[f,h]=D.useState(null),[p,g]=D.useState(null),_=gn.useRef(),w=gn.useRef(),b=()=>{e(Gw({open:!0}))},v=B=>{B===ni.login?n("/login"):B===ni.home?n("/"):B===ni.discovery?n("/discovery"):B===ni.about&&n(ui.about()),i(null)};D.useState(!1);const[y,x]=D.useState(!1),I=B=>{x(!y),g(p?null:B.currentTarget)},O=()=>{g(null)},S=()=>{l(null)},C=nt(B=>B.users.currentProfile),k={profile:"Profile",account:"Account",logout:"Log Out"},P=[k.profile,k.account,k.logout],R=B=>{s(o?null:B.currentTarget)},L=B=>{c(u?null:B.currentTarget)},N=B=>{i(B.currentTarget)},V=B=>{h(B.currentTarget)},F=()=>{h(null)},z=B=>{l(a?null:B.currentTarget)};return E.jsx("div",{children:E.jsx(Q0e,{position:"static",style:{backgroundColor:ut.palette.primary.dark},children:E.jsx(h_e,{children:E.jsxs($xe,{disableGutters:!0,children:[E.jsx(si,{onClick:()=>{n("/")},variant:"h6",noWrap:!0,component:"a",sx:{mr:2,display:{xs:"none",md:"flex"},fontFamily:"helvetica",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Pb"}),E.jsxs(fT,{sx:{flexGrow:1,display:{xs:"flex",md:"none"}},children:[E.jsx($n,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",onClick:B=>N(B),color:"inherit",children:E.jsx(Gz,{})}),E.jsx(tp,{id:"menu-appbar",anchorEl:r,anchorOrigin:{vertical:"bottom",horizontal:"left"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"left"},open:!!r,onClose:v,sx:{display:{xs:"block",md:"none"}},children:cM.map(B=>B==ni.home||B==ni.discovery?E.jsx(Wr,{onClick:()=>v(B),children:E.jsx(si,{textAlign:"center",children:B})},B):B==ni.create?C?E.jsxs("div",{children:[E.jsx(Wr,{onClick:W=>R(W),children:E.jsxs(si,{textAlign:"center",children:[B,o?E.jsx(Ng,{}):E.jsx(Og,{})]})},B),E.jsxs(ep,{style:{display:o?"":"none"},children:[E.jsxs(ds,{onClick:W=>{L(W)},sx:{pl:4},children:["Page ",u?E.jsx(Ng,{}):E.jsx(Og,{})]},"page"),E.jsxs(ep,{style:{display:u?"":"none"},children:[E.jsx(ds,{onClick:W=>{e(ra({page:null})),n("/page/text")},sx:{pl:6},children:E.jsx(my,{})},"page"),E.jsx(ds,{onClick:W=>{e(ra({page:null})),O(),n("/page/image")},sx:{pl:6},children:E.jsx(Hp,{})},"image"),E.jsx(ds,{sx:{pl:6},onClick:()=>{e(ra({page:null})),O(),n("/page/link")},children:E.jsx(py,{})})]}),E.jsx(ds,{onClick:()=>{O(),n("/book/new")},sx:{pl:4},children:E.jsx(z$,{primary:"Book"})},"book"),E.jsx(ds,{onClick:()=>{O(),n("/library/new")},sx:{pl:4},children:E.jsx(z$,{primary:"Library"})},"library")]})]},B):E.jsx("div",{}):B==ni.login?C?E.jsx("div",{}):E.jsx(Wr,{onClick:()=>v(B),children:E.jsx(si,{textAlign:"center",children:B})},B):B==ni.search?E.jsx(Wr,{onClick:()=>b(),children:E.jsx(si,{textAlign:"center",children:B})},B):E.jsx(Wr,{onClick:()=>v(B),children:E.jsx(si,{textAlign:"center",children:B})},B))})]}),E.jsx(si,{variant:"h5",noWrap:!0,component:"a",href:"#app-bar-with-responsive-menu",sx:{mr:2,display:{xs:"flex",md:"none"},flexGrow:1,fontFamily:"helvetica",fontWeight:700,letterSpacing:".3rem",color:"inherit",textDecoration:"none"},children:"Pb"}),E.jsx(fT,{sx:{flexGrow:1,display:{xs:"none",md:"flex"}},children:cM.map(B=>B==ni.create?C?E.jsxs("div",{children:[E.jsxs(It,{ref:_,"aria-controls":"simple-menu","aria-haspopup":"true",sx:{my:2,color:"white",display:"block"},onClick:W=>{el(I(W),5)},children:["Create ",p?E.jsx(Og,{}):E.jsx(Ng,{})]},B),E.jsxs(tp,{sx:{mt:"45px"},id:"simple-menu",anchorEl:p,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!p,onClose:O,children:[E.jsxs(Wr,{ref:w,onClick:W=>{el(z(W),5)},children:["Page ",a?E.jsx(Og,{}):E.jsx(Ng,{})]}),E.jsxs(ep,{style:{display:p&&a?"":"none"},onClose:S,children:[E.jsx(ds,{sx:{pl:4},onClick:()=>{O(),n("/page/text")},children:E.jsx(my,{})}),E.jsx(ds,{sx:{pl:4},onClick:()=>{O(),n("/page/image")},children:E.jsx(Hp,{})}),E.jsx(ds,{sx:{pl:4},onClick:()=>{e(ra({page:null})),O(),n("/page/link")},children:E.jsx(py,{})})]}),E.jsx(Wr,{onClick:()=>{O(),n("/book/new")},children:"Book"}),E.jsx(Wr,{onClick:()=>{O(),n("/library/new")},children:"Library"})]})]}):E.jsx("div",{}):B==ni.search?E.jsx(It,{onClick:()=>b(),sx:{my:2,color:"white",display:"block"},children:B},B):C&&B==ni.login?E.jsx("div",{}):E.jsx(It,{onClick:()=>v(B),sx:{my:2,color:"white",display:"block"},children:B},B))}),C?E.jsxs(fT,{style:{display:C?"":"none"},sx:{flexGrow:0},children:[E.jsx(Oxe,{title:"Open settings",children:E.jsx($n,{onClick:V,sx:{p:0},children:E.jsx(Lbe,{alt:`${C.username}`,src:C.profilePicture})})}),E.jsx(tp,{sx:{mt:"45px"},id:"menu-appbar",anchorEl:f,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:!!f,onClose:F,children:P.map(B=>E.jsx(Wr,{onClick:()=>{B==k.profile?n("/profile/home"):B==k.logout?e(UC()):B==k.account&&n("/profile/edit"),F()},children:E.jsx(si,{textAlign:"center",children:B})},B))})]}):E.jsx("div",{})]})})})})}class Yz extends gn.Component{constructor(e){super(e),this.state={hasError:!1}}static getDerivedStateFromError(e){return{hasError:!0}}componentDidCatch(e,n){}render(){return this.state.hasError?this.props.fallback:this.props.children}}var Xz={exports:{}};(function(t,e){(function(r,i){t.exports=i(D)})(Gn,n=>(()=>{var r={"./node_modules/css-mediaquery/index.js":(a,l)=>{l.match=g,l.parse=_;var u=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,c=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,f=/^(?:(min|max)-)?(.+)/,h=/(em|rem|px|cm|mm|in|pt|pc)?$/,p=/(dpi|dpcm|dppx)?$/;function g(y,x){return _(y).some(function(I){var O=I.inverse,S=I.type==="all"||x.type===I.type;if(S&&O||!(S||O))return!1;var C=I.expressions.every(function(k){var P=k.feature,R=k.modifier,L=k.value,N=x[P];if(!N)return!1;switch(P){case"orientation":case"scan":return N.toLowerCase()===L.toLowerCase();case"width":case"height":case"device-width":case"device-height":L=v(L),N=v(N);break;case"resolution":L=b(L),N=b(N);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":L=w(L),N=w(N);break;case"grid":case"color":case"color-index":case"monochrome":L=parseInt(L,10)||1,N=parseInt(N,10)||0;break}switch(R){case"min":return N>=L;case"max":return N<=L;default:return N===L}});return C&&!O||!C&&O})}function _(y){return y.split(",").map(function(x){x=x.trim();var I=x.match(u),O=I[1],S=I[2],C=I[3]||"",k={};return k.inverse=!!O&&O.toLowerCase()==="not",k.type=S?S.toLowerCase():"all",C=C.match(/\([^\)]+\)/g)||[],k.expressions=C.map(function(P){var R=P.match(c),L=R[1].toLowerCase().match(f);return{modifier:L[1],feature:L[2],value:R[2]}}),k})}function w(y){var x=Number(y),I;return x||(I=y.match(/^(\d+)\s*\/\s*(\d+)$/),x=I[1]/I[2]),x}function b(y){var x=parseFloat(y),I=String(y).match(p)[1];switch(I){case"dpcm":return x/2.54;case"dppx":return x*96;default:return x}}function v(y){var x=parseFloat(y),I=String(y).match(h)[1];switch(I){case"em":return x*16;case"rem":return x*16;case"cm":return x*96/2.54;case"mm":return x*96/2.54/10;case"in":return x*96;case"pt":return x*72;case"pc":return x*72/12;default:return x}}},"./node_modules/hyphenate-style-name/index.js":(a,l,u)=>{u.r(l),u.d(l,{default:()=>_});var c=/[A-Z]/g,f=/^ms-/,h={};function p(w){return"-"+w.toLowerCase()}function g(w){if(h.hasOwnProperty(w))return h[w];var b=w.replace(c,p);return h[w]=f.test(b)?"-"+b:b}const _=g},"./node_modules/matchmediaquery/index.js":(a,l,u)=>{var c=u("./node_modules/css-mediaquery/index.js").match,f=typeof window<"u"?window.matchMedia:null;function h(g,_,w){var b=this;if(f&&!w){var v=f.call(window,g);this.matches=v.matches,this.media=v.media,v.addListener(I)}else this.matches=c(g,_),this.media=g;this.addListener=y,this.removeListener=x,this.dispose=O;function y(S){v&&v.addListener(S)}function x(S){v&&v.removeListener(S)}function I(S){b.matches=S.matches,b.media=S.media}function O(){v&&v.removeListener(I)}}function p(g,_,w){return new h(g,_,w)}a.exports=p},"./node_modules/object-assign/index.js":a=>{/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var l=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;function f(p){if(p==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(p)}function h(){try{if(!Object.assign)return!1;var p=new String("abc");if(p[5]="de",Object.getOwnPropertyNames(p)[0]==="5")return!1;for(var g={},_=0;_<10;_++)g["_"+String.fromCharCode(_)]=_;var w=Object.getOwnPropertyNames(g).map(function(v){return g[v]});if(w.join("")!=="0123456789")return!1;var b={};return"abcdefghijklmnopqrst".split("").forEach(function(v){b[v]=v}),Object.keys(Object.assign({},b)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}a.exports=h()?Object.assign:function(p,g){for(var _,w=f(p),b,v=1;v<arguments.length;v++){_=Object(arguments[v]);for(var y in _)u.call(_,y)&&(w[y]=_[y]);if(l){b=l(_);for(var x=0;x<b.length;x++)c.call(_,b[x])&&(w[b[x]]=_[b[x]])}}return w}},"./node_modules/prop-types/checkPropTypes.js":(a,l,u)=>{var c=function(){};{var f=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),h={},p=u("./node_modules/prop-types/lib/has.js");c=function(_){var w="Warning: "+_;typeof console<"u"&&console.error(w);try{throw new Error(w)}catch{}}}function g(_,w,b,v,y){for(var x in _)if(p(_,x)){var I;try{if(typeof _[x]!="function"){var O=Error((v||"React class")+": "+b+" type `"+x+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof _[x]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw O.name="Invariant Violation",O}I=_[x](w,x,v,b,null,f)}catch(C){I=C}if(I&&!(I instanceof Error)&&c((v||"React class")+": type specification of "+b+" `"+x+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof I+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),I instanceof Error&&!(I.message in h)){h[I.message]=!0;var S=y?y():"";c("Failed "+b+" type: "+I.message+(S??""))}}}g.resetWarningCache=function(){h={}},a.exports=g},"./node_modules/prop-types/factoryWithTypeCheckers.js":(a,l,u)=>{var c=u("./node_modules/react-is/index.js"),f=u("./node_modules/object-assign/index.js"),h=u("./node_modules/prop-types/lib/ReactPropTypesSecret.js"),p=u("./node_modules/prop-types/lib/has.js"),g=u("./node_modules/prop-types/checkPropTypes.js"),_=function(){};_=function(b){var v="Warning: "+b;typeof console<"u"&&console.error(v);try{throw new Error(v)}catch{}};function w(){return null}a.exports=function(b,v){var y=typeof Symbol=="function"&&Symbol.iterator,x="@@iterator";function I(te){var fe=te&&(y&&te[y]||te[x]);if(typeof fe=="function")return fe}var O="<<anonymous>>",S={array:R("array"),bigint:R("bigint"),bool:R("boolean"),func:R("function"),number:R("number"),object:R("object"),string:R("string"),symbol:R("symbol"),any:L(),arrayOf:N,element:V(),elementType:F(),instanceOf:z,node:G(),objectOf:W,oneOf:B,oneOfType:Q,shape:U,exact:K};function C(te,fe){return te===fe?te!==0||1/te===1/fe:te!==te&&fe!==fe}function k(te,fe){this.message=te,this.data=fe&&typeof fe=="object"?fe:{},this.stack=""}k.prototype=Error.prototype;function P(te){var fe={},be=0;function ve(Ce,Ue,Oe,he,_e,Te,me){if(he=he||O,Te=Te||Oe,me!==h){if(v){var Se=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw Se.name="Invariant Violation",Se}else if(typeof console<"u"){var He=he+":"+Oe;!fe[He]&&be<3&&(_("You are manually calling a React.PropTypes validation function for the `"+Te+"` prop on `"+he+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),fe[He]=!0,be++)}}return Ue[Oe]==null?Ce?Ue[Oe]===null?new k("The "+_e+" `"+Te+"` is marked as required "+("in `"+he+"`, but its value is `null`.")):new k("The "+_e+" `"+Te+"` is marked as required in "+("`"+he+"`, but its value is `undefined`.")):null:te(Ue,Oe,he,_e,Te)}var we=ve.bind(null,!1);return we.isRequired=ve.bind(null,!0),we}function R(te){function fe(be,ve,we,Ce,Ue,Oe){var he=be[ve],_e=X(he);if(_e!==te){var Te=Z(he);return new k("Invalid "+Ce+" `"+Ue+"` of type "+("`"+Te+"` supplied to `"+we+"`, expected ")+("`"+te+"`."),{expectedType:te})}return null}return P(fe)}function L(){return P(w)}function N(te){function fe(be,ve,we,Ce,Ue){if(typeof te!="function")return new k("Property `"+Ue+"` of component `"+we+"` has invalid PropType notation inside arrayOf.");var Oe=be[ve];if(!Array.isArray(Oe)){var he=X(Oe);return new k("Invalid "+Ce+" `"+Ue+"` of type "+("`"+he+"` supplied to `"+we+"`, expected an array."))}for(var _e=0;_e<Oe.length;_e++){var Te=te(Oe,_e,we,Ce,Ue+"["+_e+"]",h);if(Te instanceof Error)return Te}return null}return P(fe)}function V(){function te(fe,be,ve,we,Ce){var Ue=fe[be];if(!b(Ue)){var Oe=X(Ue);return new k("Invalid "+we+" `"+Ce+"` of type "+("`"+Oe+"` supplied to `"+ve+"`, expected a single ReactElement."))}return null}return P(te)}function F(){function te(fe,be,ve,we,Ce){var Ue=fe[be];if(!c.isValidElementType(Ue)){var Oe=X(Ue);return new k("Invalid "+we+" `"+Ce+"` of type "+("`"+Oe+"` supplied to `"+ve+"`, expected a single ReactElement type."))}return null}return P(te)}function z(te){function fe(be,ve,we,Ce,Ue){if(!(be[ve]instanceof te)){var Oe=te.name||O,he=ue(be[ve]);return new k("Invalid "+Ce+" `"+Ue+"` of type "+("`"+he+"` supplied to `"+we+"`, expected ")+("instance of `"+Oe+"`."))}return null}return P(fe)}function B(te){if(!Array.isArray(te))return arguments.length>1?_("Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z])."):_("Invalid argument supplied to oneOf, expected an array."),w;function fe(be,ve,we,Ce,Ue){for(var Oe=be[ve],he=0;he<te.length;he++)if(C(Oe,te[he]))return null;var _e=JSON.stringify(te,function(me,Se){var He=Z(Se);return He==="symbol"?String(Se):Se});return new k("Invalid "+Ce+" `"+Ue+"` of value `"+String(Oe)+"` "+("supplied to `"+we+"`, expected one of "+_e+"."))}return P(fe)}function W(te){function fe(be,ve,we,Ce,Ue){if(typeof te!="function")return new k("Property `"+Ue+"` of component `"+we+"` has invalid PropType notation inside objectOf.");var Oe=be[ve],he=X(Oe);if(he!=="object")return new k("Invalid "+Ce+" `"+Ue+"` of type "+("`"+he+"` supplied to `"+we+"`, expected an object."));for(var _e in Oe)if(p(Oe,_e)){var Te=te(Oe,_e,we,Ce,Ue+"."+_e,h);if(Te instanceof Error)return Te}return null}return P(fe)}function Q(te){if(!Array.isArray(te))return _("Invalid argument supplied to oneOfType, expected an instance of array."),w;for(var fe=0;fe<te.length;fe++){var be=te[fe];if(typeof be!="function")return _("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+re(be)+" at index "+fe+"."),w}function ve(we,Ce,Ue,Oe,he){for(var _e=[],Te=0;Te<te.length;Te++){var me=te[Te],Se=me(we,Ce,Ue,Oe,he,h);if(Se==null)return null;Se.data&&p(Se.data,"expectedType")&&_e.push(Se.data.expectedType)}var He=_e.length>0?", expected one of type ["+_e.join(", ")+"]":"";return new k("Invalid "+Oe+" `"+he+"` supplied to "+("`"+Ue+"`"+He+"."))}return P(ve)}function G(){function te(fe,be,ve,we,Ce){return ne(fe[be])?null:new k("Invalid "+we+" `"+Ce+"` supplied to "+("`"+ve+"`, expected a ReactNode."))}return P(te)}function j(te,fe,be,ve,we){return new k((te||"React class")+": "+fe+" type `"+be+"."+ve+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+we+"`.")}function U(te){function fe(be,ve,we,Ce,Ue){var Oe=be[ve],he=X(Oe);if(he!=="object")return new k("Invalid "+Ce+" `"+Ue+"` of type `"+he+"` "+("supplied to `"+we+"`, expected `object`."));for(var _e in te){var Te=te[_e];if(typeof Te!="function")return j(we,Ce,Ue,_e,Z(Te));var me=Te(Oe,_e,we,Ce,Ue+"."+_e,h);if(me)return me}return null}return P(fe)}function K(te){function fe(be,ve,we,Ce,Ue){var Oe=be[ve],he=X(Oe);if(he!=="object")return new k("Invalid "+Ce+" `"+Ue+"` of type `"+he+"` "+("supplied to `"+we+"`, expected `object`."));var _e=f({},be[ve],te);for(var Te in _e){var me=te[Te];if(p(te,Te)&&typeof me!="function")return j(we,Ce,Ue,Te,Z(me));if(!me)return new k("Invalid "+Ce+" `"+Ue+"` key `"+Te+"` supplied to `"+we+"`.\nBad object: "+JSON.stringify(be[ve],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(te),null,"  "));var Se=me(Oe,Te,we,Ce,Ue+"."+Te,h);if(Se)return Se}return null}return P(fe)}function ne(te){switch(typeof te){case"number":case"string":case"undefined":return!0;case"boolean":return!te;case"object":if(Array.isArray(te))return te.every(ne);if(te===null||b(te))return!0;var fe=I(te);if(fe){var be=fe.call(te),ve;if(fe!==te.entries){for(;!(ve=be.next()).done;)if(!ne(ve.value))return!1}else for(;!(ve=be.next()).done;){var we=ve.value;if(we&&!ne(we[1]))return!1}}else return!1;return!0;default:return!1}}function oe(te,fe){return te==="symbol"?!0:fe?fe["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&fe instanceof Symbol:!1}function X(te){var fe=typeof te;return Array.isArray(te)?"array":te instanceof RegExp?"object":oe(fe,te)?"symbol":fe}function Z(te){if(typeof te>"u"||te===null)return""+te;var fe=X(te);if(fe==="object"){if(te instanceof Date)return"date";if(te instanceof RegExp)return"regexp"}return fe}function re(te){var fe=Z(te);switch(fe){case"array":case"object":return"an "+fe;case"boolean":case"date":case"regexp":return"a "+fe;default:return fe}}function ue(te){return!te.constructor||!te.constructor.name?O:te.constructor.name}return S.checkPropTypes=g,S.resetWarningCache=g.resetWarningCache,S.PropTypes=S,S}},"./node_modules/prop-types/index.js":(a,l,u)=>{{var c=u("./node_modules/react-is/index.js"),f=!0;a.exports=u("./node_modules/prop-types/factoryWithTypeCheckers.js")(c.isElement,f)}},"./node_modules/prop-types/lib/ReactPropTypesSecret.js":a=>{var l="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";a.exports=l},"./node_modules/prop-types/lib/has.js":a=>{a.exports=Function.call.bind(Object.prototype.hasOwnProperty)},"./node_modules/react-is/cjs/react-is.development.js":(a,l)=>{/** @license React v16.13.1
 * react-is.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var u=typeof Symbol=="function"&&Symbol.for,c=u?Symbol.for("react.element"):60103,f=u?Symbol.for("react.portal"):60106,h=u?Symbol.for("react.fragment"):60107,p=u?Symbol.for("react.strict_mode"):60108,g=u?Symbol.for("react.profiler"):60114,_=u?Symbol.for("react.provider"):60109,w=u?Symbol.for("react.context"):60110,b=u?Symbol.for("react.async_mode"):60111,v=u?Symbol.for("react.concurrent_mode"):60111,y=u?Symbol.for("react.forward_ref"):60112,x=u?Symbol.for("react.suspense"):60113,I=u?Symbol.for("react.suspense_list"):60120,O=u?Symbol.for("react.memo"):60115,S=u?Symbol.for("react.lazy"):60116,C=u?Symbol.for("react.block"):60121,k=u?Symbol.for("react.fundamental"):60117,P=u?Symbol.for("react.responder"):60118,R=u?Symbol.for("react.scope"):60119;function L(me){return typeof me=="string"||typeof me=="function"||me===h||me===v||me===g||me===p||me===x||me===I||typeof me=="object"&&me!==null&&(me.$$typeof===S||me.$$typeof===O||me.$$typeof===_||me.$$typeof===w||me.$$typeof===y||me.$$typeof===k||me.$$typeof===P||me.$$typeof===R||me.$$typeof===C)}function N(me){if(typeof me=="object"&&me!==null){var Se=me.$$typeof;switch(Se){case c:var He=me.type;switch(He){case b:case v:case h:case g:case p:case x:return He;default:var Qe=He&&He.$$typeof;switch(Qe){case w:case y:case S:case O:case _:return Qe;default:return Se}}case f:return Se}}}var V=b,F=v,z=w,B=_,W=c,Q=y,G=h,j=S,U=O,K=f,ne=g,oe=p,X=x,Z=!1;function re(me){return Z||(Z=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),ue(me)||N(me)===b}function ue(me){return N(me)===v}function te(me){return N(me)===w}function fe(me){return N(me)===_}function be(me){return typeof me=="object"&&me!==null&&me.$$typeof===c}function ve(me){return N(me)===y}function we(me){return N(me)===h}function Ce(me){return N(me)===S}function Ue(me){return N(me)===O}function Oe(me){return N(me)===f}function he(me){return N(me)===g}function _e(me){return N(me)===p}function Te(me){return N(me)===x}l.AsyncMode=V,l.ConcurrentMode=F,l.ContextConsumer=z,l.ContextProvider=B,l.Element=W,l.ForwardRef=Q,l.Fragment=G,l.Lazy=j,l.Memo=U,l.Portal=K,l.Profiler=ne,l.StrictMode=oe,l.Suspense=X,l.isAsyncMode=re,l.isConcurrentMode=ue,l.isContextConsumer=te,l.isContextProvider=fe,l.isElement=be,l.isForwardRef=ve,l.isFragment=we,l.isLazy=Ce,l.isMemo=Ue,l.isPortal=Oe,l.isProfiler=he,l.isStrictMode=_e,l.isSuspense=Te,l.isValidElementType=L,l.typeOf=N})()},"./node_modules/react-is/index.js":(a,l,u)=>{a.exports=u("./node_modules/react-is/cjs/react-is.development.js")},"./node_modules/shallow-equal/dist/index.esm.js":(a,l,u)=>{u.r(l),u.d(l,{shallowEqualArrays:()=>f,shallowEqualObjects:()=>c});function c(h,p){if(h===p)return!0;if(!h||!p)return!1;var g=Object.keys(h),_=Object.keys(p),w=g.length;if(_.length!==w)return!1;for(var b=0;b<w;b++){var v=g[b];if(h[v]!==p[v]||!Object.prototype.hasOwnProperty.call(p,v))return!1}return!0}function f(h,p){if(h===p)return!0;if(!h||!p)return!1;var g=h.length;if(p.length!==g)return!1;for(var _=0;_<g;_++)if(h[_]!==p[_])return!1;return!0}},"./src/Component.ts":function(a,l,u){var c=this&&this.__rest||function(g,_){var w={};for(var b in g)Object.prototype.hasOwnProperty.call(g,b)&&_.indexOf(b)<0&&(w[b]=g[b]);if(g!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,b=Object.getOwnPropertySymbols(g);v<b.length;v++)_.indexOf(b[v])<0&&Object.prototype.propertyIsEnumerable.call(g,b[v])&&(w[b[v]]=g[b[v]]);return w},f=this&&this.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(l,"__esModule",{value:!0});var h=f(u("./src/useMediaQuery.ts")),p=function(g){var _=g.children,w=g.device,b=g.onChange,v=c(g,["children","device","onChange"]),y=(0,h.default)(v,w,b);return typeof _=="function"?_(y):y?_:null};l.default=p},"./src/Context.ts":(a,l,u)=>{Object.defineProperty(l,"__esModule",{value:!0});var c=u("react"),f=(0,c.createContext)(void 0);l.default=f},"./src/index.ts":function(a,l,u){var c=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(l,"__esModule",{value:!0}),l.Context=l.toQuery=l.useMediaQuery=l.default=void 0;var f=c(u("./src/useMediaQuery.ts"));l.useMediaQuery=f.default;var h=c(u("./src/Component.ts"));l.default=h.default;var p=c(u("./src/toQuery.ts"));l.toQuery=p.default;var g=c(u("./src/Context.ts"));l.Context=g.default},"./src/mediaQuery.ts":function(a,l,u){var c=this&&this.__assign||function(){return c=Object.assign||function(x){for(var I,O=1,S=arguments.length;O<S;O++){I=arguments[O];for(var C in I)Object.prototype.hasOwnProperty.call(I,C)&&(x[C]=I[C])}return x},c.apply(this,arguments)},f=this&&this.__rest||function(x,I){var O={};for(var S in x)Object.prototype.hasOwnProperty.call(x,S)&&I.indexOf(S)<0&&(O[S]=x[S]);if(x!=null&&typeof Object.getOwnPropertySymbols=="function")for(var C=0,S=Object.getOwnPropertySymbols(x);C<S.length;C++)I.indexOf(S[C])<0&&Object.prototype.propertyIsEnumerable.call(x,S[C])&&(O[S[C]]=x[S[C]]);return O},h=this&&this.__importDefault||function(x){return x&&x.__esModule?x:{default:x}};Object.defineProperty(l,"__esModule",{value:!0});var p=h(u("./node_modules/prop-types/index.js")),g=p.default.oneOfType([p.default.string,p.default.number]),_={all:p.default.bool,grid:p.default.bool,aural:p.default.bool,braille:p.default.bool,handheld:p.default.bool,print:p.default.bool,projection:p.default.bool,screen:p.default.bool,tty:p.default.bool,tv:p.default.bool,embossed:p.default.bool},w={orientation:p.default.oneOf(["portrait","landscape"]),scan:p.default.oneOf(["progressive","interlace"]),aspectRatio:p.default.string,deviceAspectRatio:p.default.string,height:g,deviceHeight:g,width:g,deviceWidth:g,color:p.default.bool,colorIndex:p.default.bool,monochrome:p.default.bool,resolution:g,type:Object.keys(_)};w.type;var b=f(w,["type"]),v=c({minAspectRatio:p.default.string,maxAspectRatio:p.default.string,minDeviceAspectRatio:p.default.string,maxDeviceAspectRatio:p.default.string,minHeight:g,maxHeight:g,minDeviceHeight:g,maxDeviceHeight:g,minWidth:g,maxWidth:g,minDeviceWidth:g,maxDeviceWidth:g,minColor:p.default.number,maxColor:p.default.number,minColorIndex:p.default.number,maxColorIndex:p.default.number,minMonochrome:p.default.number,maxMonochrome:p.default.number,minResolution:g,maxResolution:g},b),y=c(c({},_),v);l.default={all:y,types:_,matchers:w,features:v}},"./src/toQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(l,"__esModule",{value:!0});var f=c(u("./node_modules/hyphenate-style-name/index.js")),h=c(u("./src/mediaQuery.ts")),p=function(b){return"not ".concat(b)},g=function(b,v){var y=(0,f.default)(b);return typeof v=="number"&&(v="".concat(v,"px")),v===!0?y:v===!1?p(y):"(".concat(y,": ").concat(v,")")},_=function(b){return b.join(" and ")},w=function(b){var v=[];return Object.keys(h.default.all).forEach(function(y){var x=b[y];x!=null&&v.push(g(y,x))}),_(v)};l.default=w},"./src/useMediaQuery.ts":function(a,l,u){var c=this&&this.__importDefault||function(k){return k&&k.__esModule?k:{default:k}};Object.defineProperty(l,"__esModule",{value:!0});var f=u("react"),h=c(u("./node_modules/matchmediaquery/index.js")),p=c(u("./node_modules/hyphenate-style-name/index.js")),g=u("./node_modules/shallow-equal/dist/index.esm.js"),_=c(u("./src/toQuery.ts")),w=c(u("./src/Context.ts")),b=function(k){return k.query||(0,_.default)(k)},v=function(k){if(k){var P=Object.keys(k);return P.reduce(function(R,L){return R[(0,p.default)(L)]=k[L],R},{})}},y=function(){var k=(0,f.useRef)(!1);return(0,f.useEffect)(function(){k.current=!0},[]),k.current},x=function(k){var P=(0,f.useContext)(w.default),R=function(){return v(k)||v(P)},L=(0,f.useState)(R),N=L[0],V=L[1];return(0,f.useEffect)(function(){var F=R();(0,g.shallowEqualObjects)(N,F)||V(F)},[k,P]),N},I=function(k){var P=function(){return b(k)},R=(0,f.useState)(P),L=R[0],N=R[1];return(0,f.useEffect)(function(){var V=P();L!==V&&N(V)},[k]),L},O=function(k,P){var R=function(){return(0,h.default)(k,P||{},!!P)},L=(0,f.useState)(R),N=L[0],V=L[1],F=y();return(0,f.useEffect)(function(){if(F){var z=R();return V(z),function(){z&&z.dispose()}}},[k,P]),N},S=function(k){var P=(0,f.useState)(k.matches),R=P[0],L=P[1];return(0,f.useEffect)(function(){var N=function(V){L(V.matches)};return k.addListener(N),L(k.matches),function(){k.removeListener(N)}},[k]),R},C=function(k,P,R){var L=x(P),N=I(k);if(!N)throw new Error("Invalid or missing MediaQuery!");var V=O(N,L),F=S(V),z=y();return(0,f.useEffect)(function(){z&&R&&R(F)},[F]),(0,f.useEffect)(function(){return function(){V&&V.dispose()}},[]),F};l.default=C},react:a=>{a.exports=n}},i={};function o(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a].call(u.exports,u,u.exports,o),u.exports}o.d=(a,l)=>{for(var u in l)o.o(l,u)&&!o.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},o.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),o.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var s=o("./src/index.ts");return s})())})(Xz);var qEe=Xz.exports;const gy=As(qEe);function Qw({book:t}){const e=Vn();D.useState(null),Qw.propTypes={book:Pn.object.isRequired};const n=()=>{e(ui.book.createRoute(t.id))};return E.jsxs("div",{onClick:()=>n(),className:"book-list-item",children:[E.jsx("h6",{className:"title",children:t.title}),E.jsx("p",{className:"purpose",children:t.purpose})]})}function HEe(t){const e=Vn(),n=pn(),r=[...nt(g=>g.books.booksInView)].sort((g,_)=>_.created-g.created),i=nt(g=>g.pages.pagesInView),[o,s]=D.useState(!1),a=[...nt(g=>g.libraries.librariesInView)].sort((g,_)=>_.created-g.created);D.useEffect(()=>{h(),p()},[]);const l=g=>{n(dy({library:g})),e(ui.library.createRoute(g.id))},u=()=>{if(a!=null)return E.jsx(Yr,{dataLength:a.length,next:p,hasMore:o,style:{display:"flex",flexDirections:"row"},children:a.map(g=>{const _=`${g.id}_${wo()}`;return E.jsxs("div",{onClick:()=>l(g),className:"item",children:[E.jsx("div",{className:"purpose",children:E.jsx("p",{children:g.purpose})}),E.jsx("div",{className:"name",children:E.jsxs("h5",{children:[" ",g.name]})})]},_)})})},c=()=>{if(r!=null)return E.jsxs("div",{id:"book-list",children:[E.jsx(gy,{minWidth:"768px",children:E.jsx(Yr,{dataLength:r.length,next:h,hasMore:!1,children:r.map(g=>{let _=`${g.id}_${wo()}`;return E.jsx("div",{children:E.jsx(Qw,{book:g})},_)})})}),E.jsx(gy,{maxWidth:"768px",children:E.jsx(Yr,{style:{display:"flex",flexDirection:"row"},dataLength:r.length,next:h,hasMore:!1,children:r.map(g=>{const _=`${g.id}_${wo()}`;return E.jsx("div",{children:E.jsx(Qw,{book:g})},_)})})})]})},f=()=>{if(i!=null)return E.jsxs("div",{id:"page-list",children:[E.jsx(Yr,{dataLength:i.length,next:h,hasMore:!1,children:i.map(g=>{const _=`${g.id}_${wo()}`;return E.jsx("div",{id:_,children:E.jsx(fy,{page:g},g.id)})})})," "]})},h=()=>{n(Gh()).then(g=>Ye(g,_=>{},_=>{window.alert(_)})),n(sv()).then(g=>Ye(g,_=>{},_=>{}))},p=()=>{s(!0),n(iv()).then(g=>Ye(g,_=>{s(!1)},_=>{}))};return E.jsx(Yz,{children:E.jsxs("div",{id:"discover",children:[E.jsx("div",{style:{paddingTop:"3em"},children:E.jsx("h1",{children:"Discovery"})}),E.jsxs("div",{children:[E.jsxs("div",{id:"library-forums",children:[E.jsx("h3",{className:"label",children:"Libraries"}),u()]}),E.jsxs("div",{id:"forums-list",children:[E.jsxs("div",{children:[E.jsx("h3",{className:"label",children:"Pages"}),f()]}),E.jsxs("div",{children:[E.jsx("h3",{className:"label",children:"Books"}),c()]})]})]})]})})}function WEe(){this.__data__=[],this.size=0}var KEe=WEe;function GEe(t,e){return t===e||t!==t&&e!==e}var Jz=GEe,QEe=Jz;function YEe(t,e){for(var n=t.length;n--;)if(QEe(t[n][0],e))return n;return-1}var nE=YEe,XEe=nE,JEe=Array.prototype,ZEe=JEe.splice;function eIe(t){var e=this.__data__,n=XEe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():ZEe.call(e,n,1),--this.size,!0}var tIe=eIe,nIe=nE;function rIe(t){var e=this.__data__,n=nIe(e,t);return n<0?void 0:e[n][1]}var iIe=rIe,oIe=nE;function sIe(t){return oIe(this.__data__,t)>-1}var aIe=sIe,lIe=nE;function uIe(t,e){var n=this.__data__,r=lIe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var cIe=uIe,dIe=KEe,fIe=tIe,hIe=iIe,pIe=aIe,mIe=cIe;function ym(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}ym.prototype.clear=dIe;ym.prototype.delete=fIe;ym.prototype.get=hIe;ym.prototype.has=pIe;ym.prototype.set=mIe;var rE=ym,gIe=rE;function vIe(){this.__data__=new gIe,this.size=0}var yIe=vIe;function bIe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var _Ie=bIe;function wIe(t){return this.__data__.get(t)}var xIe=wIe;function EIe(t){return this.__data__.has(t)}var IIe=EIe,TIe=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,Zz=TIe,SIe=Zz,CIe=typeof self=="object"&&self&&self.Object===Object&&self,PIe=SIe||CIe||Function("return this")(),lu=PIe,kIe=lu,AIe=kIe.Symbol,WR=AIe,dM=WR,eq=Object.prototype,RIe=eq.hasOwnProperty,OIe=eq.toString,pg=dM?dM.toStringTag:void 0;function NIe(t){var e=RIe.call(t,pg),n=t[pg];try{t[pg]=void 0;var r=!0}catch{}var i=OIe.call(t);return r&&(e?t[pg]=n:delete t[pg]),i}var LIe=NIe,DIe=Object.prototype,jIe=DIe.toString;function $Ie(t){return jIe.call(t)}var MIe=$Ie,fM=WR,BIe=LIe,FIe=MIe,VIe="[object Null]",UIe="[object Undefined]",hM=fM?fM.toStringTag:void 0;function zIe(t){return t==null?t===void 0?UIe:VIe:hM&&hM in Object(t)?BIe(t):FIe(t)}var iE=zIe;function qIe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var tq=qIe,HIe=iE,WIe=tq,KIe="[object AsyncFunction]",GIe="[object Function]",QIe="[object GeneratorFunction]",YIe="[object Proxy]";function XIe(t){if(!WIe(t))return!1;var e=HIe(t);return e==GIe||e==QIe||e==KIe||e==YIe}var nq=XIe,JIe=lu,ZIe=JIe["__core-js_shared__"],eTe=ZIe,_T=eTe,pM=function(){var t=/[^.]+$/.exec(_T&&_T.keys&&_T.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function tTe(t){return!!pM&&pM in t}var nTe=tTe,rTe=Function.prototype,iTe=rTe.toString;function oTe(t){if(t!=null){try{return iTe.call(t)}catch{}try{return t+""}catch{}}return""}var rq=oTe,sTe=nq,aTe=nTe,lTe=tq,uTe=rq,cTe=/[\\^$.*+?()[\]{}|]/g,dTe=/^\[object .+?Constructor\]$/,fTe=Function.prototype,hTe=Object.prototype,pTe=fTe.toString,mTe=hTe.hasOwnProperty,gTe=RegExp("^"+pTe.call(mTe).replace(cTe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function vTe(t){if(!lTe(t)||aTe(t))return!1;var e=sTe(t)?gTe:dTe;return e.test(uTe(t))}var yTe=vTe;function bTe(t,e){return t==null?void 0:t[e]}var _Te=bTe,wTe=yTe,xTe=_Te;function ETe(t,e){var n=xTe(t,e);return wTe(n)?n:void 0}var bm=ETe,ITe=bm,TTe=lu,STe=ITe(TTe,"Map"),KR=STe,CTe=bm,PTe=CTe(Object,"create"),oE=PTe,mM=oE;function kTe(){this.__data__=mM?mM(null):{},this.size=0}var ATe=kTe;function RTe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var OTe=RTe,NTe=oE,LTe="__lodash_hash_undefined__",DTe=Object.prototype,jTe=DTe.hasOwnProperty;function $Te(t){var e=this.__data__;if(NTe){var n=e[t];return n===LTe?void 0:n}return jTe.call(e,t)?e[t]:void 0}var MTe=$Te,BTe=oE,FTe=Object.prototype,VTe=FTe.hasOwnProperty;function UTe(t){var e=this.__data__;return BTe?e[t]!==void 0:VTe.call(e,t)}var zTe=UTe,qTe=oE,HTe="__lodash_hash_undefined__";function WTe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=qTe&&e===void 0?HTe:e,this}var KTe=WTe,GTe=ATe,QTe=OTe,YTe=MTe,XTe=zTe,JTe=KTe;function _m(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_m.prototype.clear=GTe;_m.prototype.delete=QTe;_m.prototype.get=YTe;_m.prototype.has=XTe;_m.prototype.set=JTe;var ZTe=_m,gM=ZTe,eSe=rE,tSe=KR;function nSe(){this.size=0,this.__data__={hash:new gM,map:new(tSe||eSe),string:new gM}}var rSe=nSe;function iSe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var oSe=iSe,sSe=oSe;function aSe(t,e){var n=t.__data__;return sSe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var sE=aSe,lSe=sE;function uSe(t){var e=lSe(this,t).delete(t);return this.size-=e?1:0,e}var cSe=uSe,dSe=sE;function fSe(t){return dSe(this,t).get(t)}var hSe=fSe,pSe=sE;function mSe(t){return pSe(this,t).has(t)}var gSe=mSe,vSe=sE;function ySe(t,e){var n=vSe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var bSe=ySe,_Se=rSe,wSe=cSe,xSe=hSe,ESe=gSe,ISe=bSe;function wm(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wm.prototype.clear=_Se;wm.prototype.delete=wSe;wm.prototype.get=xSe;wm.prototype.has=ESe;wm.prototype.set=ISe;var iq=wm,TSe=rE,SSe=KR,CSe=iq,PSe=200;function kSe(t,e){var n=this.__data__;if(n instanceof TSe){var r=n.__data__;if(!SSe||r.length<PSe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new CSe(r)}return n.set(t,e),this.size=n.size,this}var ASe=kSe,RSe=rE,OSe=yIe,NSe=_Ie,LSe=xIe,DSe=IIe,jSe=ASe;function xm(t){var e=this.__data__=new RSe(t);this.size=e.size}xm.prototype.clear=OSe;xm.prototype.delete=NSe;xm.prototype.get=LSe;xm.prototype.has=DSe;xm.prototype.set=jSe;var $Se=xm,MSe="__lodash_hash_undefined__";function BSe(t){return this.__data__.set(t,MSe),this}var FSe=BSe;function VSe(t){return this.__data__.has(t)}var USe=VSe,zSe=iq,qSe=FSe,HSe=USe;function Yw(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new zSe;++e<n;)this.add(t[e])}Yw.prototype.add=Yw.prototype.push=qSe;Yw.prototype.has=HSe;var WSe=Yw;function KSe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var GSe=KSe;function QSe(t,e){return t.has(e)}var YSe=QSe,XSe=WSe,JSe=GSe,ZSe=YSe,eCe=1,tCe=2;function nCe(t,e,n,r,i,o){var s=n&eCe,a=t.length,l=e.length;if(a!=l&&!(s&&l>a))return!1;var u=o.get(t),c=o.get(e);if(u&&c)return u==e&&c==t;var f=-1,h=!0,p=n&tCe?new XSe:void 0;for(o.set(t,e),o.set(e,t);++f<a;){var g=t[f],_=e[f];if(r)var w=s?r(_,g,f,e,t,o):r(g,_,f,t,e,o);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!JSe(e,function(b,v){if(!ZSe(p,v)&&(g===b||i(g,b,n,r,o)))return p.push(v)})){h=!1;break}}else if(!(g===_||i(g,_,n,r,o))){h=!1;break}}return o.delete(t),o.delete(e),h}var oq=nCe,rCe=lu,iCe=rCe.Uint8Array,oCe=iCe;function sCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var aCe=sCe;function lCe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var uCe=lCe,vM=WR,yM=oCe,cCe=Jz,dCe=oq,fCe=aCe,hCe=uCe,pCe=1,mCe=2,gCe="[object Boolean]",vCe="[object Date]",yCe="[object Error]",bCe="[object Map]",_Ce="[object Number]",wCe="[object RegExp]",xCe="[object Set]",ECe="[object String]",ICe="[object Symbol]",TCe="[object ArrayBuffer]",SCe="[object DataView]",bM=vM?vM.prototype:void 0,wT=bM?bM.valueOf:void 0;function CCe(t,e,n,r,i,o,s){switch(n){case SCe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case TCe:return!(t.byteLength!=e.byteLength||!o(new yM(t),new yM(e)));case gCe:case vCe:case _Ce:return cCe(+t,+e);case yCe:return t.name==e.name&&t.message==e.message;case wCe:case ECe:return t==e+"";case bCe:var a=fCe;case xCe:var l=r&pCe;if(a||(a=hCe),t.size!=e.size&&!l)return!1;var u=s.get(t);if(u)return u==e;r|=mCe,s.set(t,e);var c=dCe(a(t),a(e),r,i,o,s);return s.delete(t),c;case ICe:if(wT)return wT.call(t)==wT.call(e)}return!1}var PCe=CCe;function kCe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var ACe=kCe,RCe=Array.isArray,GR=RCe,OCe=ACe,NCe=GR;function LCe(t,e,n){var r=e(t);return NCe(t)?r:OCe(r,n(t))}var DCe=LCe;function jCe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,o=[];++n<r;){var s=t[n];e(s,n,t)&&(o[i++]=s)}return o}var $Ce=jCe;function MCe(){return[]}var BCe=MCe,FCe=$Ce,VCe=BCe,UCe=Object.prototype,zCe=UCe.propertyIsEnumerable,_M=Object.getOwnPropertySymbols,qCe=_M?function(t){return t==null?[]:(t=Object(t),FCe(_M(t),function(e){return zCe.call(t,e)}))}:VCe,HCe=qCe;function WCe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var KCe=WCe;function GCe(t){return t!=null&&typeof t=="object"}var aE=GCe,QCe=iE,YCe=aE,XCe="[object Arguments]";function JCe(t){return YCe(t)&&QCe(t)==XCe}var ZCe=JCe,wM=ZCe,ePe=aE,sq=Object.prototype,tPe=sq.hasOwnProperty,nPe=sq.propertyIsEnumerable,rPe=wM(function(){return arguments}())?wM:function(t){return ePe(t)&&tPe.call(t,"callee")&&!nPe.call(t,"callee")},iPe=rPe,Xw={exports:{}};function oPe(){return!1}var sPe=oPe;Xw.exports;(function(t,e){var n=lu,r=sPe,i=e&&!e.nodeType&&e,o=i&&!0&&t&&!t.nodeType&&t,s=o&&o.exports===i,a=s?n.Buffer:void 0,l=a?a.isBuffer:void 0,u=l||r;t.exports=u})(Xw,Xw.exports);var aq=Xw.exports,aPe=9007199254740991,lPe=/^(?:0|[1-9]\d*)$/;function uPe(t,e){var n=typeof t;return e=e??aPe,!!e&&(n=="number"||n!="symbol"&&lPe.test(t))&&t>-1&&t%1==0&&t<e}var cPe=uPe,dPe=9007199254740991;function fPe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=dPe}var lq=fPe,hPe=iE,pPe=lq,mPe=aE,gPe="[object Arguments]",vPe="[object Array]",yPe="[object Boolean]",bPe="[object Date]",_Pe="[object Error]",wPe="[object Function]",xPe="[object Map]",EPe="[object Number]",IPe="[object Object]",TPe="[object RegExp]",SPe="[object Set]",CPe="[object String]",PPe="[object WeakMap]",kPe="[object ArrayBuffer]",APe="[object DataView]",RPe="[object Float32Array]",OPe="[object Float64Array]",NPe="[object Int8Array]",LPe="[object Int16Array]",DPe="[object Int32Array]",jPe="[object Uint8Array]",$Pe="[object Uint8ClampedArray]",MPe="[object Uint16Array]",BPe="[object Uint32Array]",Hn={};Hn[RPe]=Hn[OPe]=Hn[NPe]=Hn[LPe]=Hn[DPe]=Hn[jPe]=Hn[$Pe]=Hn[MPe]=Hn[BPe]=!0;Hn[gPe]=Hn[vPe]=Hn[kPe]=Hn[yPe]=Hn[APe]=Hn[bPe]=Hn[_Pe]=Hn[wPe]=Hn[xPe]=Hn[EPe]=Hn[IPe]=Hn[TPe]=Hn[SPe]=Hn[CPe]=Hn[PPe]=!1;function FPe(t){return mPe(t)&&pPe(t.length)&&!!Hn[hPe(t)]}var VPe=FPe;function UPe(t){return function(e){return t(e)}}var zPe=UPe,Jw={exports:{}};Jw.exports;(function(t,e){var n=Zz,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===r,s=o&&n.process,a=function(){try{var l=i&&i.require&&i.require("util").types;return l||s&&s.binding&&s.binding("util")}catch{}}();t.exports=a})(Jw,Jw.exports);var qPe=Jw.exports,HPe=VPe,WPe=zPe,xM=qPe,EM=xM&&xM.isTypedArray,KPe=EM?WPe(EM):HPe,uq=KPe,GPe=KCe,QPe=iPe,YPe=GR,XPe=aq,JPe=cPe,ZPe=uq,eke=Object.prototype,tke=eke.hasOwnProperty;function nke(t,e){var n=YPe(t),r=!n&&QPe(t),i=!n&&!r&&XPe(t),o=!n&&!r&&!i&&ZPe(t),s=n||r||i||o,a=s?GPe(t.length,String):[],l=a.length;for(var u in t)(e||tke.call(t,u))&&!(s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||JPe(u,l)))&&a.push(u);return a}var rke=nke,ike=Object.prototype;function oke(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||ike;return t===n}var ske=oke;function ake(t,e){return function(n){return t(e(n))}}var lke=ake,uke=lke,cke=uke(Object.keys,Object),dke=cke,fke=ske,hke=dke,pke=Object.prototype,mke=pke.hasOwnProperty;function gke(t){if(!fke(t))return hke(t);var e=[];for(var n in Object(t))mke.call(t,n)&&n!="constructor"&&e.push(n);return e}var vke=gke,yke=nq,bke=lq;function _ke(t){return t!=null&&bke(t.length)&&!yke(t)}var wke=_ke,xke=rke,Eke=vke,Ike=wke;function Tke(t){return Ike(t)?xke(t):Eke(t)}var Ske=Tke,Cke=DCe,Pke=HCe,kke=Ske;function Ake(t){return Cke(t,kke,Pke)}var Rke=Ake,IM=Rke,Oke=1,Nke=Object.prototype,Lke=Nke.hasOwnProperty;function Dke(t,e,n,r,i,o){var s=n&Oke,a=IM(t),l=a.length,u=IM(e),c=u.length;if(l!=c&&!s)return!1;for(var f=l;f--;){var h=a[f];if(!(s?h in e:Lke.call(e,h)))return!1}var p=o.get(t),g=o.get(e);if(p&&g)return p==e&&g==t;var _=!0;o.set(t,e),o.set(e,t);for(var w=s;++f<l;){h=a[f];var b=t[h],v=e[h];if(r)var y=s?r(v,b,h,e,t,o):r(b,v,h,t,e,o);if(!(y===void 0?b===v||i(b,v,n,r,o):y)){_=!1;break}w||(w=h=="constructor")}if(_&&!w){var x=t.constructor,I=e.constructor;x!=I&&"constructor"in t&&"constructor"in e&&!(typeof x=="function"&&x instanceof x&&typeof I=="function"&&I instanceof I)&&(_=!1)}return o.delete(t),o.delete(e),_}var jke=Dke,$ke=bm,Mke=lu,Bke=$ke(Mke,"DataView"),Fke=Bke,Vke=bm,Uke=lu,zke=Vke(Uke,"Promise"),qke=zke,Hke=bm,Wke=lu,Kke=Hke(Wke,"Set"),Gke=Kke,Qke=bm,Yke=lu,Xke=Qke(Yke,"WeakMap"),Jke=Xke,QC=Fke,YC=KR,XC=qke,JC=Gke,ZC=Jke,cq=iE,Em=rq,TM="[object Map]",Zke="[object Object]",SM="[object Promise]",CM="[object Set]",PM="[object WeakMap]",kM="[object DataView]",eAe=Em(QC),tAe=Em(YC),nAe=Em(XC),rAe=Em(JC),iAe=Em(ZC),gd=cq;(QC&&gd(new QC(new ArrayBuffer(1)))!=kM||YC&&gd(new YC)!=TM||XC&&gd(XC.resolve())!=SM||JC&&gd(new JC)!=CM||ZC&&gd(new ZC)!=PM)&&(gd=function(t){var e=cq(t),n=e==Zke?t.constructor:void 0,r=n?Em(n):"";if(r)switch(r){case eAe:return kM;case tAe:return TM;case nAe:return SM;case rAe:return CM;case iAe:return PM}return e});var oAe=gd,xT=$Se,sAe=oq,aAe=PCe,lAe=jke,AM=oAe,RM=GR,OM=aq,uAe=uq,cAe=1,NM="[object Arguments]",LM="[object Array]",jb="[object Object]",dAe=Object.prototype,DM=dAe.hasOwnProperty;function fAe(t,e,n,r,i,o){var s=RM(t),a=RM(e),l=s?LM:AM(t),u=a?LM:AM(e);l=l==NM?jb:l,u=u==NM?jb:u;var c=l==jb,f=u==jb,h=l==u;if(h&&OM(t)){if(!OM(e))return!1;s=!0,c=!1}if(h&&!c)return o||(o=new xT),s||uAe(t)?sAe(t,e,n,r,i,o):aAe(t,e,l,n,r,i,o);if(!(n&cAe)){var p=c&&DM.call(t,"__wrapped__"),g=f&&DM.call(e,"__wrapped__");if(p||g){var _=p?t.value():t,w=g?e.value():e;return o||(o=new xT),i(_,w,n,r,o)}}return h?(o||(o=new xT),lAe(t,e,n,r,i,o)):!1}var hAe=fAe,pAe=hAe,jM=aE;function dq(t,e,n,r,i){return t===e?!0:t==null||e==null||!jM(t)&&!jM(e)?t!==t&&e!==e:pAe(t,e,n,r,dq,i)}var mAe=dq,gAe=mAe;function vAe(t,e){return gAe(t,e)}var yAe=vAe,fq={exports:{}};/*!
 * Quill Editor v1.3.7
 * https://quilljs.com/
 * Copyright (c) 2014, Jason Chen
 * Copyright (c) 2013, salesforce.com
 */(function(t,e){(function(r,i){t.exports=i()})(typeof self<"u"?self:Gn,function(){return function(n){var r={};function i(o){if(r[o])return r[o].exports;var s=r[o]={i:o,l:!1,exports:{}};return n[o].call(s.exports,s,s.exports,i),s.l=!0,s.exports}return i.m=n,i.c=r,i.d=function(o,s,a){i.o(o,s)||Object.defineProperty(o,s,{configurable:!1,enumerable:!0,get:a})},i.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return i.d(s,"a",s),s},i.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},i.p="",i(i.s=109)}([function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(17),s=i(18),a=i(19),l=i(45),u=i(46),c=i(47),f=i(48),h=i(49),p=i(12),g=i(32),_=i(33),w=i(31),b=i(1),v={Scope:b.Scope,create:b.create,find:b.find,query:b.query,register:b.register,Container:o.default,Format:s.default,Leaf:a.default,Embed:f.default,Scroll:l.default,Block:c.default,Inline:u.default,Text:h.default,Attributor:{Attribute:p.default,Class:g.default,Style:_.default,Store:w.default}};r.default=v},function(n,r,i){var o=this&&this.__extends||function(){var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,v){b.__proto__=v}||function(b,v){for(var y in v)v.hasOwnProperty(y)&&(b[y]=v[y])};return function(b,v){w(b,v);function y(){this.constructor=b}b.prototype=v===null?Object.create(v):(y.prototype=v.prototype,new y)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=function(w){o(b,w);function b(v){var y=this;return v="[Parchment] "+v,y=w.call(this,v)||this,y.message=v,y.name=y.constructor.name,y}return b}(Error);r.ParchmentError=s;var a={},l={},u={},c={};r.DATA_KEY="__blot";var f;(function(w){w[w.TYPE=3]="TYPE",w[w.LEVEL=12]="LEVEL",w[w.ATTRIBUTE=13]="ATTRIBUTE",w[w.BLOT=14]="BLOT",w[w.INLINE=7]="INLINE",w[w.BLOCK=11]="BLOCK",w[w.BLOCK_BLOT=10]="BLOCK_BLOT",w[w.INLINE_BLOT=6]="INLINE_BLOT",w[w.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",w[w.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",w[w.ANY=15]="ANY"})(f=r.Scope||(r.Scope={}));function h(w,b){var v=g(w);if(v==null)throw new s("Unable to create "+w+" blot");var y=v,x=w instanceof Node||w.nodeType===Node.TEXT_NODE?w:y.create(b);return new y(x,b)}r.create=h;function p(w,b){return b===void 0&&(b=!1),w==null?null:w[r.DATA_KEY]!=null?w[r.DATA_KEY].blot:b?p(w.parentNode,b):null}r.find=p;function g(w,b){b===void 0&&(b=f.ANY);var v;if(typeof w=="string")v=c[w]||a[w];else if(w instanceof Text||w.nodeType===Node.TEXT_NODE)v=c.text;else if(typeof w=="number")w&f.LEVEL&f.BLOCK?v=c.block:w&f.LEVEL&f.INLINE&&(v=c.inline);else if(w instanceof HTMLElement){var y=(w.getAttribute("class")||"").split(/\s+/);for(var x in y)if(v=l[y[x]],v)break;v=v||u[w.tagName]}return v==null?null:b&f.LEVEL&v.scope&&b&f.TYPE&v.scope?v:null}r.query=g;function _(){for(var w=[],b=0;b<arguments.length;b++)w[b]=arguments[b];if(w.length>1)return w.map(function(x){return _(x)});var v=w[0];if(typeof v.blotName!="string"&&typeof v.attrName!="string")throw new s("Invalid definition");if(v.blotName==="abstract")throw new s("Cannot register abstract class");if(c[v.blotName||v.attrName]=v,typeof v.keyName=="string")a[v.keyName]=v;else if(v.className!=null&&(l[v.className]=v),v.tagName!=null){Array.isArray(v.tagName)?v.tagName=v.tagName.map(function(x){return x.toUpperCase()}):v.tagName=v.tagName.toUpperCase();var y=Array.isArray(v.tagName)?v.tagName:[v.tagName];y.forEach(function(x){(u[x]==null||v.className==null)&&(u[x]=v)})}return v}r.register=_},function(n,r,i){var o=i(51),s=i(11),a=i(3),l=i(20),u="\0",c=function(f){Array.isArray(f)?this.ops=f:f!=null&&Array.isArray(f.ops)?this.ops=f.ops:this.ops=[]};c.prototype.insert=function(f,h){var p={};return f.length===0?this:(p.insert=f,h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p))},c.prototype.delete=function(f){return f<=0?this:this.push({delete:f})},c.prototype.retain=function(f,h){if(f<=0)return this;var p={retain:f};return h!=null&&typeof h=="object"&&Object.keys(h).length>0&&(p.attributes=h),this.push(p)},c.prototype.push=function(f){var h=this.ops.length,p=this.ops[h-1];if(f=a(!0,{},f),typeof p=="object"){if(typeof f.delete=="number"&&typeof p.delete=="number")return this.ops[h-1]={delete:p.delete+f.delete},this;if(typeof p.delete=="number"&&f.insert!=null&&(h-=1,p=this.ops[h-1],typeof p!="object"))return this.ops.unshift(f),this;if(s(f.attributes,p.attributes)){if(typeof f.insert=="string"&&typeof p.insert=="string")return this.ops[h-1]={insert:p.insert+f.insert},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this;if(typeof f.retain=="number"&&typeof p.retain=="number")return this.ops[h-1]={retain:p.retain+f.retain},typeof f.attributes=="object"&&(this.ops[h-1].attributes=f.attributes),this}}return h===this.ops.length?this.ops.push(f):this.ops.splice(h,0,f),this},c.prototype.chop=function(){var f=this.ops[this.ops.length-1];return f&&f.retain&&!f.attributes&&this.ops.pop(),this},c.prototype.filter=function(f){return this.ops.filter(f)},c.prototype.forEach=function(f){this.ops.forEach(f)},c.prototype.map=function(f){return this.ops.map(f)},c.prototype.partition=function(f){var h=[],p=[];return this.forEach(function(g){var _=f(g)?h:p;_.push(g)}),[h,p]},c.prototype.reduce=function(f,h){return this.ops.reduce(f,h)},c.prototype.changeLength=function(){return this.reduce(function(f,h){return h.insert?f+l.length(h):h.delete?f-h.delete:f},0)},c.prototype.length=function(){return this.reduce(function(f,h){return f+l.length(h)},0)},c.prototype.slice=function(f,h){f=f||0,typeof h!="number"&&(h=1/0);for(var p=[],g=l.iterator(this.ops),_=0;_<h&&g.hasNext();){var w;_<f?w=g.next(f-_):(w=g.next(h-_),p.push(w)),_+=l.length(w)}return new c(p)},c.prototype.compose=function(f){var h=l.iterator(this.ops),p=l.iterator(f.ops),g=[],_=p.peek();if(_!=null&&typeof _.retain=="number"&&_.attributes==null){for(var w=_.retain;h.peekType()==="insert"&&h.peekLength()<=w;)w-=h.peekLength(),g.push(h.next());_.retain-w>0&&p.next(_.retain-w)}for(var b=new c(g);h.hasNext()||p.hasNext();)if(p.peekType()==="insert")b.push(p.next());else if(h.peekType()==="delete")b.push(h.next());else{var v=Math.min(h.peekLength(),p.peekLength()),y=h.next(v),x=p.next(v);if(typeof x.retain=="number"){var I={};typeof y.retain=="number"?I.retain=v:I.insert=y.insert;var O=l.attributes.compose(y.attributes,x.attributes,typeof y.retain=="number");if(O&&(I.attributes=O),b.push(I),!p.hasNext()&&s(b.ops[b.ops.length-1],I)){var S=new c(h.rest());return b.concat(S).chop()}}else typeof x.delete=="number"&&typeof y.retain=="number"&&b.push(x)}return b.chop()},c.prototype.concat=function(f){var h=new c(this.ops.slice());return f.ops.length>0&&(h.push(f.ops[0]),h.ops=h.ops.concat(f.ops.slice(1))),h},c.prototype.diff=function(f,h){if(this.ops===f.ops)return new c;var p=[this,f].map(function(v){return v.map(function(y){if(y.insert!=null)return typeof y.insert=="string"?y.insert:u;var x=v===f?"on":"with";throw new Error("diff() called "+x+" non-document")}).join("")}),g=new c,_=o(p[0],p[1],h),w=l.iterator(this.ops),b=l.iterator(f.ops);return _.forEach(function(v){for(var y=v[1].length;y>0;){var x=0;switch(v[0]){case o.INSERT:x=Math.min(b.peekLength(),y),g.push(b.next(x));break;case o.DELETE:x=Math.min(y,w.peekLength()),w.next(x),g.delete(x);break;case o.EQUAL:x=Math.min(w.peekLength(),b.peekLength(),y);var I=w.next(x),O=b.next(x);s(I.insert,O.insert)?g.retain(x,l.attributes.diff(I.attributes,O.attributes)):g.push(O).delete(x);break}y-=x}}),g.chop()},c.prototype.eachLine=function(f,h){h=h||`
`;for(var p=l.iterator(this.ops),g=new c,_=0;p.hasNext();){if(p.peekType()!=="insert")return;var w=p.peek(),b=l.length(w)-p.peekLength(),v=typeof w.insert=="string"?w.insert.indexOf(h,b)-b:-1;if(v<0)g.push(p.next());else if(v>0)g.push(p.next(v));else{if(f(g,p.next(1).attributes||{},_)===!1)return;_+=1,g=new c}}g.length()>0&&f(g,{},_)},c.prototype.transform=function(f,h){if(h=!!h,typeof f=="number")return this.transformPosition(f,h);for(var p=l.iterator(this.ops),g=l.iterator(f.ops),_=new c;p.hasNext()||g.hasNext();)if(p.peekType()==="insert"&&(h||g.peekType()!=="insert"))_.retain(l.length(p.next()));else if(g.peekType()==="insert")_.push(g.next());else{var w=Math.min(p.peekLength(),g.peekLength()),b=p.next(w),v=g.next(w);if(b.delete)continue;v.delete?_.push(v):_.retain(w,l.attributes.transform(b.attributes,v.attributes,h))}return _.chop()},c.prototype.transformPosition=function(f,h){h=!!h;for(var p=l.iterator(this.ops),g=0;p.hasNext()&&g<=f;){var _=p.peekLength(),w=p.peekType();if(p.next(),w==="delete"){f-=Math.min(_,f-g);continue}else w==="insert"&&(g<f||!h)&&(f+=_);g+=_}return f},n.exports=c},function(n,r){var i=Object.prototype.hasOwnProperty,o=Object.prototype.toString,s=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l=function(p){return typeof Array.isArray=="function"?Array.isArray(p):o.call(p)==="[object Array]"},u=function(p){if(!p||o.call(p)!=="[object Object]")return!1;var g=i.call(p,"constructor"),_=p.constructor&&p.constructor.prototype&&i.call(p.constructor.prototype,"isPrototypeOf");if(p.constructor&&!g&&!_)return!1;var w;for(w in p);return typeof w>"u"||i.call(p,w)},c=function(p,g){s&&g.name==="__proto__"?s(p,g.name,{enumerable:!0,configurable:!0,value:g.newValue,writable:!0}):p[g.name]=g.newValue},f=function(p,g){if(g==="__proto__")if(i.call(p,g)){if(a)return a(p,g).value}else return;return p[g]};n.exports=function h(){var p,g,_,w,b,v,y=arguments[0],x=1,I=arguments.length,O=!1;for(typeof y=="boolean"&&(O=y,y=arguments[1]||{},x=2),(y==null||typeof y!="object"&&typeof y!="function")&&(y={});x<I;++x)if(p=arguments[x],p!=null)for(g in p)_=f(y,g),w=f(p,g),y!==w&&(O&&w&&(u(w)||(b=l(w)))?(b?(b=!1,v=_&&l(_)?_:[]):v=_&&u(_)?_:{},c(y,{name:g,newValue:h(O,v,w)})):typeof w<"u"&&c(y,{name:g,newValue:w}));return y}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BlockEmbed=r.bubbleFormats=void 0;var o=function(){function R(L,N){for(var V=0;V<N.length;V++){var F=N[V];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(L,F.key,F)}}return function(L,N,V){return N&&R(L.prototype,N),V&&R(L,V),L}}(),s=function R(L,N,V){L===null&&(L=Function.prototype);var F=Object.getOwnPropertyDescriptor(L,N);if(F===void 0){var z=Object.getPrototypeOf(L);return z===null?void 0:R(z,N,V)}else{if("value"in F)return F.value;var B=F.get;return B===void 0?void 0:B.call(V)}},a=i(3),l=y(a),u=i(2),c=y(u),f=i(0),h=y(f),p=i(16),g=y(p),_=i(6),w=y(_),b=i(7),v=y(b);function y(R){return R&&R.__esModule?R:{default:R}}function x(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}function I(R,L){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:R}function O(R,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(R,L):R.__proto__=L)}var S=1,C=function(R){O(L,R);function L(){return x(this,L),I(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return o(L,[{key:"attach",value:function(){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"attach",this).call(this),this.attributes=new h.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new c.default().insert(this.value(),(0,l.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(V,F){var z=h.default.query(V,h.default.Scope.BLOCK_ATTRIBUTE);z!=null&&this.attributes.attribute(z,F)}},{key:"formatAt",value:function(V,F,z,B){this.format(z,B)}},{key:"insertAt",value:function(V,F,z){if(typeof F=="string"&&F.endsWith(`
`)){var B=h.default.create(k.blotName);this.parent.insertBefore(B,V===0?this:this.next),B.insertAt(0,F.slice(0,-1))}else s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,V,F,z)}}]),L}(h.default.Embed);C.scope=h.default.Scope.BLOCK_BLOT;var k=function(R){O(L,R);function L(N){x(this,L);var V=I(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N));return V.cache={},V}return o(L,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(h.default.Leaf).reduce(function(V,F){return F.length()===0?V:V.insert(F.value(),P(F))},new c.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(V,F){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"deleteAt",this).call(this,V,F),this.cache={}}},{key:"formatAt",value:function(V,F,z,B){F<=0||(h.default.query(z,h.default.Scope.BLOCK)?V+F===this.length()&&this.format(z,B):s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"formatAt",this).call(this,V,Math.min(F,this.length()-V-1),z,B),this.cache={})}},{key:"insertAt",value:function(V,F,z){if(z!=null)return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,V,F,z);if(F.length!==0){var B=F.split(`
`),W=B.shift();W.length>0&&(V<this.length()-1||this.children.tail==null?s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertAt",this).call(this,Math.min(V,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var Q=this;B.reduce(function(G,j){return Q=Q.split(G,!0),Q.insertAt(0,j),j.length},V+W.length)}}},{key:"insertBefore",value:function(V,F){var z=this.children.head;s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"insertBefore",this).call(this,V,F),z instanceof g.default&&z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"length",this).call(this)+S),this.cache.length}},{key:"moveChildren",value:function(V,F){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"moveChildren",this).call(this,V,F),this.cache={}}},{key:"optimize",value:function(V){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,V),this.cache={}}},{key:"path",value:function(V){return s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"path",this).call(this,V,!0)}},{key:"removeChild",value:function(V){s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"removeChild",this).call(this,V),this.cache={}}},{key:"split",value:function(V){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(F&&(V===0||V>=this.length()-S)){var z=this.clone();return V===0?(this.parent.insertBefore(z,this),this):(this.parent.insertBefore(z,this.next),z)}else{var B=s(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"split",this).call(this,V,F);return this.cache={},B}}}]),L}(h.default.Block);k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[w.default,h.default.Embed,v.default];function P(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R==null||(typeof R.formats=="function"&&(L=(0,l.default)(L,R.formats())),R.parent==null||R.parent.blotName=="scroll"||R.parent.statics.scope!==R.statics.scope)?L:P(R.parent,L)}r.bubbleFormats=P,r.BlockEmbed=C,r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.overload=r.expandConfig=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},s=function(){function Q(G,j){var U=[],K=!0,ne=!1,oe=void 0;try{for(var X=G[Symbol.iterator](),Z;!(K=(Z=X.next()).done)&&(U.push(Z.value),!(j&&U.length===j));K=!0);}catch(re){ne=!0,oe=re}finally{try{!K&&X.return&&X.return()}finally{if(ne)throw oe}}return U}return function(G,j){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Q(G,j){for(var U=0;U<j.length;U++){var K=j[U];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,j,U){return j&&Q(G.prototype,j),U&&Q(G,U),G}}();i(50);var l=i(2),u=P(l),c=i(14),f=P(c),h=i(8),p=P(h),g=i(9),_=P(g),w=i(0),b=P(w),v=i(15),y=P(v),x=i(3),I=P(x),O=i(10),S=P(O),C=i(34),k=P(C);function P(Q){return Q&&Q.__esModule?Q:{default:Q}}function R(Q,G,j){return G in Q?Object.defineProperty(Q,G,{value:j,enumerable:!0,configurable:!0,writable:!0}):Q[G]=j,Q}function L(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}var N=(0,S.default)("quill"),V=function(){a(Q,null,[{key:"debug",value:function(j){j===!0&&(j="log"),S.default.level(j)}},{key:"find",value:function(j){return j.__quill||b.default.find(j)}},{key:"import",value:function(j){return this.imports[j]==null&&N.error("Cannot import "+j+". Are you sure it was registered?"),this.imports[j]}},{key:"register",value:function(j,U){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(typeof j!="string"){var oe=j.attrName||j.blotName;typeof oe=="string"?this.register("formats/"+oe,j,U):Object.keys(j).forEach(function(X){K.register(X,j[X],U)})}else this.imports[j]!=null&&!ne&&N.warn("Overwriting "+j+" with",U),this.imports[j]=U,(j.startsWith("blots/")||j.startsWith("formats/"))&&U.blotName!=="abstract"?b.default.register(U):j.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]);function Q(G){var j=this,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,Q),this.options=F(G,U),this.container=this.options.container,this.container==null)return N.error("Invalid Quill container",G);this.options.debug&&Q.debug(this.options.debug);var K=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new p.default,this.scroll=b.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new f.default(this.scroll),this.selection=new y.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(p.default.events.EDITOR_CHANGE,function(oe){oe===p.default.events.TEXT_CHANGE&&j.root.classList.toggle("ql-blank",j.editor.isBlank())}),this.emitter.on(p.default.events.SCROLL_UPDATE,function(oe,X){var Z=j.selection.lastRange,re=Z&&Z.length===0?Z.index:void 0;z.call(j,function(){return j.editor.update(null,X,re)},oe)});var ne=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+K+"<p><br></p></div>");this.setContents(ne),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return a(Q,[{key:"addContainer",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof j=="string"){var K=j;j=document.createElement("div"),j.classList.add(K)}return this.container.insertBefore(j,U),j}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(j,U,K){var ne=this,oe=B(j,U,K),X=s(oe,4);return j=X[0],U=X[1],K=X[3],z.call(this,function(){return ne.editor.deleteText(j,U)},K,j,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.scroll.enable(j),this.container.classList.toggle("ql-disabled",!j)}},{key:"focus",value:function(){var j=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=j,this.scrollIntoView()}},{key:"format",value:function(j,U){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:p.default.sources.API;return z.call(this,function(){var oe=K.getSelection(!0),X=new u.default;if(oe==null)return X;if(b.default.query(j,b.default.Scope.BLOCK))X=K.editor.formatLine(oe.index,oe.length,R({},j,U));else{if(oe.length===0)return K.selection.format(j,U),X;X=K.editor.formatText(oe.index,oe.length,R({},j,U))}return K.setSelection(oe,p.default.sources.SILENT),X},ne)}},{key:"formatLine",value:function(j,U,K,ne,oe){var X=this,Z=void 0,re=B(j,U,K,ne,oe),ue=s(re,4);return j=ue[0],U=ue[1],Z=ue[2],oe=ue[3],z.call(this,function(){return X.editor.formatLine(j,U,Z)},oe,j,0)}},{key:"formatText",value:function(j,U,K,ne,oe){var X=this,Z=void 0,re=B(j,U,K,ne,oe),ue=s(re,4);return j=ue[0],U=ue[1],Z=ue[2],oe=ue[3],z.call(this,function(){return X.editor.formatText(j,U,Z)},oe,j,0)}},{key:"getBounds",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=void 0;typeof j=="number"?K=this.selection.getBounds(j,U):K=this.selection.getBounds(j.index,j.length);var ne=this.container.getBoundingClientRect();return{bottom:K.bottom-ne.top,height:K.height,left:K.left-ne.left,right:K.right-ne.left,top:K.top-ne.top,width:K.width}}},{key:"getContents",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=B(j,U),ne=s(K,2);return j=ne[0],U=ne[1],this.editor.getContents(j,U)}},{key:"getFormat",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof j=="number"?this.editor.getFormat(j,U):this.editor.getFormat(j.index,j.length)}},{key:"getIndex",value:function(j){return j.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(j){return this.scroll.leaf(j)}},{key:"getLine",value:function(j){return this.scroll.line(j)}},{key:"getLines",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof j!="number"?this.scroll.lines(j.index,j.length):this.scroll.lines(j,U)}},{key:"getModule",value:function(j){return this.theme.modules[j]}},{key:"getSelection",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;return j&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-j,K=B(j,U),ne=s(K,2);return j=ne[0],U=ne[1],this.editor.getText(j,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(j,U,K){var ne=this,oe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Q.sources.API;return z.call(this,function(){return ne.editor.insertEmbed(j,U,K)},oe,j)}},{key:"insertText",value:function(j,U,K,ne,oe){var X=this,Z=void 0,re=B(j,0,K,ne,oe),ue=s(re,4);return j=ue[0],Z=ue[2],oe=ue[3],z.call(this,function(){return X.editor.insertText(j,U,Z)},oe,j,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(j,U,K){this.clipboard.dangerouslyPasteHTML(j,U,K)}},{key:"removeFormat",value:function(j,U,K){var ne=this,oe=B(j,U,K),X=s(oe,4);return j=X[0],U=X[1],K=X[3],z.call(this,function(){return ne.editor.removeFormat(j,U)},K,j)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(j){var U=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return z.call(this,function(){j=new u.default(j);var ne=U.getLength(),oe=U.editor.deleteText(0,ne),X=U.editor.applyDelta(j),Z=X.ops[X.ops.length-1];Z!=null&&typeof Z.insert=="string"&&Z.insert[Z.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),X.delete(1));var re=oe.compose(X);return re},K)}},{key:"setSelection",value:function(j,U,K){if(j==null)this.selection.setRange(null,U||Q.sources.API);else{var ne=B(j,U,K),oe=s(ne,4);j=oe[0],U=oe[1],K=oe[3],this.selection.setRange(new v.Range(j,U),K),K!==p.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API,K=new u.default().insert(j);return this.setContents(K,U)}},{key:"update",value:function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.default.sources.USER,U=this.scroll.update(j);return this.selection.update(j),U}},{key:"updateContents",value:function(j){var U=this,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:p.default.sources.API;return z.call(this,function(){return j=new u.default(j),U.editor.applyDelta(j,K)},K,!0)}}]),Q}();V.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},V.events=p.default.events,V.sources=p.default.sources,V.version="1.3.7",V.imports={delta:u.default,parchment:b.default,"core/module":_.default,"core/theme":k.default};function F(Q,G){if(G=(0,I.default)(!0,{container:Q,modules:{clipboard:!0,keyboard:!0,history:!0}},G),!G.theme||G.theme===V.DEFAULTS.theme)G.theme=k.default;else if(G.theme=V.import("themes/"+G.theme),G.theme==null)throw new Error("Invalid theme "+G.theme+". Did you register it?");var j=(0,I.default)(!0,{},G.theme.DEFAULTS);[j,G].forEach(function(ne){ne.modules=ne.modules||{},Object.keys(ne.modules).forEach(function(oe){ne.modules[oe]===!0&&(ne.modules[oe]={})})});var U=Object.keys(j.modules).concat(Object.keys(G.modules)),K=U.reduce(function(ne,oe){var X=V.import("modules/"+oe);return X==null?N.error("Cannot load "+oe+" module. Are you sure you registered it?"):ne[oe]=X.DEFAULTS||{},ne},{});return G.modules!=null&&G.modules.toolbar&&G.modules.toolbar.constructor!==Object&&(G.modules.toolbar={container:G.modules.toolbar}),G=(0,I.default)(!0,{},V.DEFAULTS,{modules:K},j,G),["bounds","container","scrollingContainer"].forEach(function(ne){typeof G[ne]=="string"&&(G[ne]=document.querySelector(G[ne]))}),G.modules=Object.keys(G.modules).reduce(function(ne,oe){return G.modules[oe]&&(ne[oe]=G.modules[oe]),ne},{}),G}function z(Q,G,j,U){if(this.options.strict&&!this.isEnabled()&&G===p.default.sources.USER)return new u.default;var K=j==null?null:this.getSelection(),ne=this.editor.delta,oe=Q();if(K!=null&&(j===!0&&(j=K.index),U==null?K=W(K,oe,G):U!==0&&(K=W(K,j,U,G)),this.setSelection(K,p.default.sources.SILENT)),oe.length()>0){var X,Z=[p.default.events.TEXT_CHANGE,oe,ne,G];if((X=this.emitter).emit.apply(X,[p.default.events.EDITOR_CHANGE].concat(Z)),G!==p.default.sources.SILENT){var re;(re=this.emitter).emit.apply(re,Z)}}return oe}function B(Q,G,j,U,K){var ne={};return typeof Q.index=="number"&&typeof Q.length=="number"?typeof G!="number"?(K=U,U=j,j=G,G=Q.length,Q=Q.index):(G=Q.length,Q=Q.index):typeof G!="number"&&(K=U,U=j,j=G,G=0),(typeof j>"u"?"undefined":o(j))==="object"?(ne=j,K=U):typeof j=="string"&&(U!=null?ne[j]=U:K=j),K=K||p.default.sources.API,[Q,G,ne,K]}function W(Q,G,j,U){if(Q==null)return null;var K=void 0,ne=void 0;if(G instanceof u.default){var oe=[Q.index,Q.index+Q.length].map(function(ue){return G.transformPosition(ue,U!==p.default.sources.USER)}),X=s(oe,2);K=X[0],ne=X[1]}else{var Z=[Q.index,Q.index+Q.length].map(function(ue){return ue<G||ue===G&&U===p.default.sources.USER?ue:j>=0?ue+j:Math.max(G,ue+j)}),re=s(Z,2);K=re[0],ne=re[1]}return new v.Range(K,ne-K)}r.expandConfig=F,r.overload=B,r.default=V},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(b,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,y){return v&&w(b.prototype,v),y&&w(b,y),b}}(),s=function w(b,v,y){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,v);if(x===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,v,y)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(y)}},a=i(7),l=f(a),u=i(0),c=f(u);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function p(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function g(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var _=function(w){g(b,w);function b(){return h(this,b),p(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"formatAt",value:function(y,x,I,O){if(b.compare(this.statics.blotName,I)<0&&c.default.query(I,c.default.Scope.BLOT)){var S=this.isolate(y,x);O&&S.wrap(I,O)}else s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"formatAt",this).call(this,y,x,I,O)}},{key:"optimize",value:function(y){if(s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"optimize",this).call(this,y),this.parent instanceof b&&b.compare(this.statics.blotName,this.parent.statics.blotName)>0){var x=this.parent.isolate(this.offset(),this.length());this.moveChildren(x),x.wrap(this)}}}],[{key:"compare",value:function(y,x){var I=b.order.indexOf(y),O=b.order.indexOf(x);return I>=0||O>=0?I-O:y===x?0:y<x?-1:1}}]),b}(c.default.Inline);_.allowedChildren=[_,c.default.Embed,l.default],_.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default.Text);r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function v(y,x){for(var I=0;I<x.length;I++){var O=x[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(y,O.key,O)}}return function(y,x,I){return x&&v(y.prototype,x),I&&v(y,I),y}}(),s=function v(y,x,I){y===null&&(y=Function.prototype);var O=Object.getOwnPropertyDescriptor(y,x);if(O===void 0){var S=Object.getPrototypeOf(y);return S===null?void 0:v(S,x,I)}else{if("value"in O)return O.value;var C=O.get;return C===void 0?void 0:C.call(I)}},a=i(54),l=f(a),u=i(10),c=f(u);function f(v){return v&&v.__esModule?v:{default:v}}function h(v,y){if(!(v instanceof y))throw new TypeError("Cannot call a class as a function")}function p(v,y){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return y&&(typeof y=="object"||typeof y=="function")?y:v}function g(v,y){if(typeof y!="function"&&y!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof y);v.prototype=Object.create(y&&y.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),y&&(Object.setPrototypeOf?Object.setPrototypeOf(v,y):v.__proto__=y)}var _=(0,c.default)("quill:events"),w=["selectionchange","mousedown","mouseup","click"];w.forEach(function(v){document.addEventListener(v,function(){for(var y=arguments.length,x=Array(y),I=0;I<y;I++)x[I]=arguments[I];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(O){if(O.__quill&&O.__quill.emitter){var S;(S=O.__quill.emitter).handleDOM.apply(S,x)}})})});var b=function(v){g(y,v);function y(){h(this,y);var x=p(this,(y.__proto__||Object.getPrototypeOf(y)).call(this));return x.listeners={},x.on("error",_.error),x}return o(y,[{key:"emit",value:function(){_.log.apply(_,arguments),s(y.prototype.__proto__||Object.getPrototypeOf(y.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(I){for(var O=arguments.length,S=Array(O>1?O-1:0),C=1;C<O;C++)S[C-1]=arguments[C];(this.listeners[I.type]||[]).forEach(function(k){var P=k.node,R=k.handler;(I.target===P||P.contains(I.target))&&R.apply(void 0,[I].concat(S))})}},{key:"listenDOM",value:function(I,O,S){this.listeners[I]||(this.listeners[I]=[]),this.listeners[I].push({node:O,handler:S})}}]),y}(l.default);b.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},b.sources={API:"api",SILENT:"silent",USER:"user"},r.default=b},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});function o(a,l){if(!(a instanceof l))throw new TypeError("Cannot call a class as a function")}var s=function a(l){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};o(this,a),this.quill=l,this.options=u};s.DEFAULTS={},r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=["error","warn","log","info"],s="warn";function a(u){if(o.indexOf(u)<=o.indexOf(s)){for(var c,f=arguments.length,h=Array(f>1?f-1:0),p=1;p<f;p++)h[p-1]=arguments[p];(c=console)[u].apply(c,h)}}function l(u){return o.reduce(function(c,f){return c[f]=a.bind(console,f,u),c},{})}a.level=l.level=function(u){s=u},r.default=l},function(n,r,i){var o=Array.prototype.slice,s=i(52),a=i(53),l=n.exports=function(h,p,g){return g||(g={}),h===p?!0:h instanceof Date&&p instanceof Date?h.getTime()===p.getTime():!h||!p||typeof h!="object"&&typeof p!="object"?g.strict?h===p:h==p:f(h,p,g)};function u(h){return h==null}function c(h){return!(!h||typeof h!="object"||typeof h.length!="number"||typeof h.copy!="function"||typeof h.slice!="function"||h.length>0&&typeof h[0]!="number")}function f(h,p,g){var _,w;if(u(h)||u(p)||h.prototype!==p.prototype)return!1;if(a(h))return a(p)?(h=o.call(h),p=o.call(p),l(h,p,g)):!1;if(c(h)){if(!c(p)||h.length!==p.length)return!1;for(_=0;_<h.length;_++)if(h[_]!==p[_])return!1;return!0}try{var b=s(h),v=s(p)}catch{return!1}if(b.length!=v.length)return!1;for(b.sort(),v.sort(),_=b.length-1;_>=0;_--)if(b[_]!=v[_])return!1;for(_=b.length-1;_>=0;_--)if(w=b[_],!l(h[w],p[w],g))return!1;return typeof h==typeof p}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l,u,c){c===void 0&&(c={}),this.attrName=l,this.keyName=u;var f=o.Scope.TYPE&o.Scope.ATTRIBUTE;c.scope!=null?this.scope=c.scope&o.Scope.LEVEL|f:this.scope=o.Scope.ATTRIBUTE,c.whitelist!=null&&(this.whitelist=c.whitelist)}return a.keys=function(l){return[].map.call(l.attributes,function(u){return u.name})},a.prototype.add=function(l,u){return this.canAdd(l,u)?(l.setAttribute(this.keyName,u),!0):!1},a.prototype.canAdd=function(l,u){var c=o.query(l,o.Scope.BLOT&(this.scope|o.Scope.TYPE));return c==null?!1:this.whitelist==null?!0:typeof u=="string"?this.whitelist.indexOf(u.replace(/["']/g,""))>-1:this.whitelist.indexOf(u)>-1},a.prototype.remove=function(l){l.removeAttribute(this.keyName)},a.prototype.value=function(l){var u=l.getAttribute(this.keyName);return this.canAdd(l,u)&&u?u:""},a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Code=void 0;var o=function(){function C(k,P){var R=[],L=!0,N=!1,V=void 0;try{for(var F=k[Symbol.iterator](),z;!(L=(z=F.next()).done)&&(R.push(z.value),!(P&&R.length===P));L=!0);}catch(B){N=!0,V=B}finally{try{!L&&F.return&&F.return()}finally{if(N)throw V}}return R}return function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(k,P){for(var R=0;R<P.length;R++){var L=P[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,P,R){return P&&C(k.prototype,P),R&&C(k,R),k}}(),a=function C(k,P,R){k===null&&(k=Function.prototype);var L=Object.getOwnPropertyDescriptor(k,P);if(L===void 0){var N=Object.getPrototypeOf(k);return N===null?void 0:C(N,P,R)}else{if("value"in L)return L.value;var V=L.get;return V===void 0?void 0:V.call(R)}},l=i(2),u=v(l),c=i(0),f=v(c),h=i(4),p=v(h),g=i(6),_=v(g),w=i(7),b=v(w);function v(C){return C&&C.__esModule?C:{default:C}}function y(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}function x(C,k){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return k&&(typeof k=="object"||typeof k=="function")?k:C}function I(C,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);C.prototype=Object.create(k&&k.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(C,k):C.__proto__=k)}var O=function(C){I(k,C);function k(){return y(this,k),x(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return k}(_.default);O.blotName="code",O.tagName="CODE";var S=function(C){I(k,C);function k(){return y(this,k),x(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return s(k,[{key:"delta",value:function(){var R=this,L=this.domNode.textContent;return L.endsWith(`
`)&&(L=L.slice(0,-1)),L.split(`
`).reduce(function(N,V){return N.insert(V).insert(`
`,R.formats())},new u.default)}},{key:"format",value:function(R,L){if(!(R===this.statics.blotName&&L)){var N=this.descendant(b.default,this.length()-1),V=o(N,1),F=V[0];F!=null&&F.deleteAt(F.length()-1,1),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,R,L)}}},{key:"formatAt",value:function(R,L,N,V){if(L!==0&&!(f.default.query(N,f.default.Scope.BLOCK)==null||N===this.statics.blotName&&V===this.statics.formats(this.domNode))){var F=this.newlineIndex(R);if(!(F<0||F>=R+L)){var z=this.newlineIndex(R,!0)+1,B=F-z+1,W=this.isolate(z,B),Q=W.next;W.format(N,V),Q instanceof k&&Q.formatAt(0,R-z+L-B,N,V)}}}},{key:"insertAt",value:function(R,L,N){if(N==null){var V=this.descendant(b.default,R),F=o(V,2),z=F[0],B=F[1];z.insertAt(B,L)}}},{key:"length",value:function(){var R=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?R:R+1}},{key:"newlineIndex",value:function(R){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(L)return this.domNode.textContent.slice(0,R).lastIndexOf(`
`);var N=this.domNode.textContent.slice(R).indexOf(`
`);return N>-1?R+N:-1}},{key:"optimize",value:function(R){this.domNode.textContent.endsWith(`
`)||this.appendChild(f.default.create("text",`
`)),a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,R);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===L.statics.formats(L.domNode)&&(L.optimize(R),L.moveChildren(this),L.remove())}},{key:"replace",value:function(R){a(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,R),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(L){var N=f.default.find(L);N==null?L.parentNode.removeChild(L):N instanceof f.default.Embed?N.remove():N.unwrap()})}}],[{key:"create",value:function(R){var L=a(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,R);return L.setAttribute("spellcheck",!1),L}},{key:"formats",value:function(){return!0}}]),k}(p.default);S.blotName="code-block",S.tagName="PRE",S.TAB="  ",r.Code=O,r.default=S},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q},s=function(){function Q(G,j){var U=[],K=!0,ne=!1,oe=void 0;try{for(var X=G[Symbol.iterator](),Z;!(K=(Z=X.next()).done)&&(U.push(Z.value),!(j&&U.length===j));K=!0);}catch(re){ne=!0,oe=re}finally{try{!K&&X.return&&X.return()}finally{if(ne)throw oe}}return U}return function(G,j){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return Q(G,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function Q(G,j){for(var U=0;U<j.length;U++){var K=j[U];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(G,K.key,K)}}return function(G,j,U){return j&&Q(G.prototype,j),U&&Q(G,U),G}}(),l=i(2),u=L(l),c=i(20),f=L(c),h=i(0),p=L(h),g=i(13),_=L(g),w=i(24),b=L(w),v=i(4),y=L(v),x=i(16),I=L(x),O=i(21),S=L(O),C=i(11),k=L(C),P=i(3),R=L(P);function L(Q){return Q&&Q.__esModule?Q:{default:Q}}function N(Q,G,j){return G in Q?Object.defineProperty(Q,G,{value:j,enumerable:!0,configurable:!0,writable:!0}):Q[G]=j,Q}function V(Q,G){if(!(Q instanceof G))throw new TypeError("Cannot call a class as a function")}var F=/^[ -~]*$/,z=function(){function Q(G){V(this,Q),this.scroll=G,this.delta=this.getDelta()}return a(Q,[{key:"applyDelta",value:function(j){var U=this,K=!1;this.scroll.update();var ne=this.scroll.length();return this.scroll.batchStart(),j=W(j),j.reduce(function(oe,X){var Z=X.retain||X.delete||X.insert.length||1,re=X.attributes||{};if(X.insert!=null){if(typeof X.insert=="string"){var ue=X.insert;ue.endsWith(`
`)&&K&&(K=!1,ue=ue.slice(0,-1)),oe>=ne&&!ue.endsWith(`
`)&&(K=!0),U.scroll.insertAt(oe,ue);var te=U.scroll.line(oe),fe=s(te,2),be=fe[0],ve=fe[1],we=(0,R.default)({},(0,v.bubbleFormats)(be));if(be instanceof y.default){var Ce=be.descendant(p.default.Leaf,ve),Ue=s(Ce,1),Oe=Ue[0];we=(0,R.default)(we,(0,v.bubbleFormats)(Oe))}re=f.default.attributes.diff(we,re)||{}}else if(o(X.insert)==="object"){var he=Object.keys(X.insert)[0];if(he==null)return oe;U.scroll.insertAt(oe,he,X.insert[he])}ne+=Z}return Object.keys(re).forEach(function(_e){U.scroll.formatAt(oe,Z,_e,re[_e])}),oe+Z},0),j.reduce(function(oe,X){return typeof X.delete=="number"?(U.scroll.deleteAt(oe,X.delete),oe):oe+(X.retain||X.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,U){return this.scroll.deleteAt(j,U),this.update(new u.default().retain(j).delete(U))}},{key:"formatLine",value:function(j,U){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(ne).forEach(function(oe){if(!(K.scroll.whitelist!=null&&!K.scroll.whitelist[oe])){var X=K.scroll.lines(j,Math.max(U,1)),Z=U;X.forEach(function(re){var ue=re.length();if(!(re instanceof _.default))re.format(oe,ne[oe]);else{var te=j-re.offset(K.scroll),fe=re.newlineIndex(te+Z)-te+1;re.formatAt(te,fe,oe,ne[oe])}Z-=ue})}}),this.scroll.optimize(),this.update(new u.default().retain(j).retain(U,(0,S.default)(ne)))}},{key:"formatText",value:function(j,U){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(ne).forEach(function(oe){K.scroll.formatAt(j,U,oe,ne[oe])}),this.update(new u.default().retain(j).retain(U,(0,S.default)(ne)))}},{key:"getContents",value:function(j,U){return this.delta.slice(j,j+U)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,U){return j.concat(U.delta())},new u.default)}},{key:"getFormat",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,K=[],ne=[];U===0?this.scroll.path(j).forEach(function(X){var Z=s(X,1),re=Z[0];re instanceof y.default?K.push(re):re instanceof p.default.Leaf&&ne.push(re)}):(K=this.scroll.lines(j,U),ne=this.scroll.descendants(p.default.Leaf,j,U));var oe=[K,ne].map(function(X){if(X.length===0)return{};for(var Z=(0,v.bubbleFormats)(X.shift());Object.keys(Z).length>0;){var re=X.shift();if(re==null)return Z;Z=B((0,v.bubbleFormats)(re),Z)}return Z});return R.default.apply(R.default,oe)}},{key:"getText",value:function(j,U){return this.getContents(j,U).filter(function(K){return typeof K.insert=="string"}).map(function(K){return K.insert}).join("")}},{key:"insertEmbed",value:function(j,U,K){return this.scroll.insertAt(j,U,K),this.update(new u.default().retain(j).insert(N({},U,K)))}},{key:"insertText",value:function(j,U){var K=this,ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return U=U.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,U),Object.keys(ne).forEach(function(oe){K.scroll.formatAt(j,U.length,oe,ne[oe])}),this.update(new u.default().retain(j).insert(U,(0,S.default)(ne)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName!==y.default.blotName||j.children.length>1?!1:j.children.head instanceof I.default}},{key:"removeFormat",value:function(j,U){var K=this.getText(j,U),ne=this.scroll.line(j+U),oe=s(ne,2),X=oe[0],Z=oe[1],re=0,ue=new u.default;X!=null&&(X instanceof _.default?re=X.newlineIndex(Z)-Z+1:re=X.length()-Z,ue=X.delta().slice(Z,Z+re-1).insert(`
`));var te=this.getContents(j,U+re),fe=te.diff(new u.default().insert(K).concat(ue)),be=new u.default().retain(j).concat(fe);return this.applyDelta(be)}},{key:"update",value:function(j){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,ne=this.delta;if(U.length===1&&U[0].type==="characterData"&&U[0].target.data.match(F)&&p.default.find(U[0].target)){var oe=p.default.find(U[0].target),X=(0,v.bubbleFormats)(oe),Z=oe.offset(this.scroll),re=U[0].oldValue.replace(b.default.CONTENTS,""),ue=new u.default().insert(re),te=new u.default().insert(oe.value()),fe=new u.default().retain(Z).concat(ue.diff(te,K));j=fe.reduce(function(be,ve){return ve.insert?be.insert(ve.insert,X):be.push(ve)},new u.default),this.delta=ne.compose(j)}else this.delta=this.getDelta(),(!j||!(0,k.default)(ne.compose(j),this.delta))&&(j=ne.diff(this.delta,K));return j}}]),Q}();function B(Q,G){return Object.keys(G).reduce(function(j,U){return Q[U]==null||(G[U]===Q[U]?j[U]=G[U]:Array.isArray(G[U])?G[U].indexOf(Q[U])<0&&(j[U]=G[U].concat([Q[U]])):j[U]=[G[U],Q[U]]),j},{})}function W(Q){return Q.reduce(function(G,j){if(j.insert===1){var U=(0,S.default)(j.attributes);return delete U.image,G.insert({image:j.attributes.image},U)}if(j.attributes!=null&&(j.attributes.list===!0||j.attributes.bullet===!0)&&(j=(0,S.default)(j),j.attributes.list?j.attributes.list="ordered":(j.attributes.list="bullet",delete j.attributes.bullet)),typeof j.insert=="string"){var K=j.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return G.insert(K,j.attributes)}return G.push(j)},new u.default)}r.default=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.Range=void 0;var o=function(){function C(k,P){var R=[],L=!0,N=!1,V=void 0;try{for(var F=k[Symbol.iterator](),z;!(L=(z=F.next()).done)&&(R.push(z.value),!(P&&R.length===P));L=!0);}catch(B){N=!0,V=B}finally{try{!L&&F.return&&F.return()}finally{if(N)throw V}}return R}return function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return C(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function C(k,P){for(var R=0;R<P.length;R++){var L=P[R];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(k,L.key,L)}}return function(k,P,R){return P&&C(k.prototype,P),R&&C(k,R),k}}(),a=i(0),l=b(a),u=i(21),c=b(u),f=i(11),h=b(f),p=i(8),g=b(p),_=i(10),w=b(_);function b(C){return C&&C.__esModule?C:{default:C}}function v(C){if(Array.isArray(C)){for(var k=0,P=Array(C.length);k<C.length;k++)P[k]=C[k];return P}else return Array.from(C)}function y(C,k){if(!(C instanceof k))throw new TypeError("Cannot call a class as a function")}var x=(0,w.default)("quill:selection"),I=function C(k){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;y(this,C),this.index=k,this.length=P},O=function(){function C(k,P){var R=this;y(this,C),this.emitter=P,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=l.default.create("cursor",this),this.lastRange=this.savedRange=new I(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){R.mouseDown||setTimeout(R.update.bind(R,g.default.sources.USER),1)}),this.emitter.on(g.default.events.EDITOR_CHANGE,function(L,N){L===g.default.events.TEXT_CHANGE&&N.length()>0&&R.update(g.default.sources.SILENT)}),this.emitter.on(g.default.events.SCROLL_BEFORE_UPDATE,function(){if(R.hasFocus()){var L=R.getNativeRange();L!=null&&L.start.node!==R.cursor.textNode&&R.emitter.once(g.default.events.SCROLL_UPDATE,function(){try{R.setNativeRange(L.start.node,L.start.offset,L.end.node,L.end.offset)}catch{}})}}),this.emitter.on(g.default.events.SCROLL_OPTIMIZE,function(L,N){if(N.range){var V=N.range,F=V.startNode,z=V.startOffset,B=V.endNode,W=V.endOffset;R.setNativeRange(F,z,B,W)}}),this.update(g.default.sources.SILENT)}return s(C,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var R=P.cursor.restore();if(!R)return;setTimeout(function(){P.setNativeRange(R.startNode,R.startOffset,R.endNode,R.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(g.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,R){if(!(this.scroll.whitelist!=null&&!this.scroll.whitelist[P])){this.scroll.update();var L=this.getNativeRange();if(!(L==null||!L.native.collapsed||l.default.query(P,l.default.Scope.BLOCK))){if(L.start.node!==this.cursor.textNode){var N=l.default.find(L.start.node,!1);if(N==null)return;if(N instanceof l.default.Leaf){var V=N.split(L.start.offset);N.parent.insertBefore(this.cursor,V)}else N.insertBefore(this.cursor,L.start.node);this.cursor.attach()}this.cursor.format(P,R),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,L=this.scroll.length();P=Math.min(P,L-1),R=Math.min(P+R,L-1)-P;var N=void 0,V=this.scroll.leaf(P),F=o(V,2),z=F[0],B=F[1];if(z==null)return null;var W=z.position(B,!0),Q=o(W,2);N=Q[0],B=Q[1];var G=document.createRange();if(R>0){G.setStart(N,B);var j=this.scroll.leaf(P+R),U=o(j,2);if(z=U[0],B=U[1],z==null)return null;var K=z.position(B,!0),ne=o(K,2);return N=ne[0],B=ne[1],G.setEnd(N,B),G.getBoundingClientRect()}else{var oe="left",X=void 0;return N instanceof Text?(B<N.data.length?(G.setStart(N,B),G.setEnd(N,B+1)):(G.setStart(N,B-1),G.setEnd(N,B),oe="right"),X=G.getBoundingClientRect()):(X=z.domNode.getBoundingClientRect(),B>0&&(oe="right")),{bottom:X.top+X.height,height:X.height,left:X[oe],right:X[oe],top:X.top,width:0}}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var R=P.getRangeAt(0);if(R==null)return null;var L=this.normalizeNative(R);return x.info("getNativeRange",L),L}},{key:"getRange",value:function(){var P=this.getNativeRange();if(P==null)return[null,null];var R=this.normalizedToRange(P);return[R,P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var R=this,L=[[P.start.node,P.start.offset]];P.native.collapsed||L.push([P.end.node,P.end.offset]);var N=L.map(function(z){var B=o(z,2),W=B[0],Q=B[1],G=l.default.find(W,!0),j=G.offset(R.scroll);return Q===0?j:G instanceof l.default.Container?j+G.length():j+G.index(W,Q)}),V=Math.min(Math.max.apply(Math,v(N)),this.scroll.length()-1),F=Math.min.apply(Math,[V].concat(v(N)));return new I(F,V-F)}},{key:"normalizeNative",value:function(P){if(!S(this.root,P.startContainer)||!P.collapsed&&!S(this.root,P.endContainer))return null;var R={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[R.start,R.end].forEach(function(L){for(var N=L.node,V=L.offset;!(N instanceof Text)&&N.childNodes.length>0;)if(N.childNodes.length>V)N=N.childNodes[V],V=0;else if(N.childNodes.length===V)N=N.lastChild,V=N instanceof Text?N.data.length:N.childNodes.length+1;else break;L.node=N,L.offset=V}),R}},{key:"rangeToNative",value:function(P){var R=this,L=P.collapsed?[P.index]:[P.index,P.index+P.length],N=[],V=this.scroll.length();return L.forEach(function(F,z){F=Math.min(V-1,F);var B=void 0,W=R.scroll.leaf(F),Q=o(W,2),G=Q[0],j=Q[1],U=G.position(j,z!==0),K=o(U,2);B=K[0],j=K[1],N.push(B,j)}),N.length<2&&(N=N.concat(N)),N}},{key:"scrollIntoView",value:function(P){var R=this.lastRange;if(R!=null){var L=this.getBounds(R.index,R.length);if(L!=null){var N=this.scroll.length()-1,V=this.scroll.line(Math.min(R.index,N)),F=o(V,1),z=F[0],B=z;if(R.length>0){var W=this.scroll.line(Math.min(R.index+R.length,N)),Q=o(W,1);B=Q[0]}if(!(z==null||B==null)){var G=P.getBoundingClientRect();L.top<G.top?P.scrollTop-=G.top-L.top:L.bottom>G.bottom&&(P.scrollTop+=L.bottom-G.bottom)}}}}},{key:"setNativeRange",value:function(P,R){var L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,N=arguments.length>3&&arguments[3]!==void 0?arguments[3]:R,V=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(x.info("setNativeRange",P,R,L,N),!(P!=null&&(this.root.parentNode==null||P.parentNode==null||L.parentNode==null))){var F=document.getSelection();if(F!=null)if(P!=null){this.hasFocus()||this.root.focus();var z=(this.getNativeRange()||{}).native;if(z==null||V||P!==z.startContainer||R!==z.startOffset||L!==z.endContainer||N!==z.endOffset){P.tagName=="BR"&&(R=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),L.tagName=="BR"&&(N=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode);var B=document.createRange();B.setStart(P,R),B.setEnd(L,N),F.removeAllRanges(),F.addRange(B)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var R=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:g.default.sources.API;if(typeof R=="string"&&(L=R,R=!1),x.info("setRange",P),P!=null){var N=this.rangeToNative(P);this.setNativeRange.apply(this,v(N).concat([R]))}else this.setNativeRange(null);this.update(L)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:g.default.sources.USER,R=this.lastRange,L=this.getRange(),N=o(L,2),V=N[0],F=N[1];if(this.lastRange=V,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,h.default)(R,this.lastRange)){var z;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var B=[g.default.events.SELECTION_CHANGE,(0,c.default)(this.lastRange),(0,c.default)(R),P];if((z=this.emitter).emit.apply(z,[g.default.events.EDITOR_CHANGE].concat(B)),P!==g.default.sources.SILENT){var W;(W=this.emitter).emit.apply(W,B)}}}}]),C}();function S(C,k){try{k.parentNode}catch{return!1}return k instanceof Text&&(k=k.parentNode),C.contains(k)}r.Range=I,r.default=O},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(_,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,w,b){return w&&g(_.prototype,w),b&&g(_,b),_}}(),s=function g(_,w,b){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,w);if(v===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:g(y,w,b)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(b)}},a=i(0),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function f(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function h(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){h(_,g);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"insertInto",value:function(b,v){b.children.length===0?s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"insertInto",this).call(this,b,v):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),_}(l.default.Embed);p.blotName="break",p.tagName="BR",r.default=p},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var g in p)p.hasOwnProperty(g)&&(h[g]=p[g])};return function(h,p){f(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(44),a=i(30),l=i(1),u=function(f){o(h,f);function h(p){var g=f.call(this,p)||this;return g.build(),g}return h.prototype.appendChild=function(p){this.insertBefore(p)},h.prototype.attach=function(){f.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},h.prototype.build=function(){var p=this;this.children=new s.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(g){try{var _=c(g);p.insertBefore(_,p.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},h.prototype.deleteAt=function(p,g){if(p===0&&g===this.length())return this.remove();this.children.forEachAt(p,g,function(_,w,b){_.deleteAt(w,b)})},h.prototype.descendant=function(p,g){var _=this.children.find(g),w=_[0],b=_[1];return p.blotName==null&&p(w)||p.blotName!=null&&w instanceof p?[w,b]:w instanceof h?w.descendant(p,b):[null,-1]},h.prototype.descendants=function(p,g,_){g===void 0&&(g=0),_===void 0&&(_=Number.MAX_VALUE);var w=[],b=_;return this.children.forEachAt(g,_,function(v,y,x){(p.blotName==null&&p(v)||p.blotName!=null&&v instanceof p)&&w.push(v),v instanceof h&&(w=w.concat(v.descendants(p,y,b))),b-=x}),w},h.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),f.prototype.detach.call(this)},h.prototype.formatAt=function(p,g,_,w){this.children.forEachAt(p,g,function(b,v,y){b.formatAt(v,y,_,w)})},h.prototype.insertAt=function(p,g,_){var w=this.children.find(p),b=w[0],v=w[1];if(b)b.insertAt(v,g,_);else{var y=_==null?l.create("text",g):l.create(g,_);this.appendChild(y)}},h.prototype.insertBefore=function(p,g){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return p instanceof _}))throw new l.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,g)},h.prototype.length=function(){return this.children.reduce(function(p,g){return p+g.length()},0)},h.prototype.moveChildren=function(p,g){this.children.forEach(function(_){p.insertBefore(_,g)})},h.prototype.optimize=function(p){if(f.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var g=l.create(this.statics.defaultChild);this.appendChild(g),g.optimize(p)}else this.remove()},h.prototype.path=function(p,g){g===void 0&&(g=!1);var _=this.children.find(p,g),w=_[0],b=_[1],v=[[this,p]];return w instanceof h?v.concat(w.path(b,g)):(w!=null&&v.push([w,b]),v)},h.prototype.removeChild=function(p){this.children.remove(p)},h.prototype.replace=function(p){p instanceof h&&p.moveChildren(this),f.prototype.replace.call(this,p)},h.prototype.split=function(p,g){if(g===void 0&&(g=!1),!g){if(p===0)return this;if(p===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(p,this.length(),function(w,b,v){w=w.split(b,g),_.appendChild(w)}),_},h.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},h.prototype.update=function(p,g){var _=this,w=[],b=[];p.forEach(function(v){v.target===_.domNode&&v.type==="childList"&&(w.push.apply(w,v.addedNodes),b.push.apply(b,v.removedNodes))}),b.forEach(function(v){if(!(v.parentNode!=null&&v.tagName!=="IFRAME"&&document.body.compareDocumentPosition(v)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var y=l.find(v);y!=null&&(y.domNode.parentNode==null||y.domNode.parentNode===_.domNode)&&y.detach()}}),w.filter(function(v){return v.parentNode==_.domNode}).sort(function(v,y){return v===y?0:v.compareDocumentPosition(y)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(v){var y=null;v.nextSibling!=null&&(y=l.find(v.nextSibling));var x=c(v);(x.next!=y||x.next==null)&&(x.parent!=null&&x.parent.removeChild(_),_.insertBefore(x,y||void 0))})},h}(a.default);function c(f){var h=l.find(f);if(h==null)try{h=l.create(f)}catch{h=l.create(l.Scope.INLINE),[].slice.call(f.childNodes).forEach(function(g){h.domNode.appendChild(g)}),f.parentNode&&f.parentNode.replaceChild(h.domNode,f),h.attach()}return h}r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var g in p)p.hasOwnProperty(g)&&(h[g]=p[g])};return function(h,p){f(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12),a=i(31),l=i(17),u=i(1),c=function(f){o(h,f);function h(p){var g=f.call(this,p)||this;return g.attributes=new a.default(g.domNode),g}return h.formats=function(p){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return p.tagName.toLowerCase()},h.prototype.format=function(p,g){var _=u.query(p);_ instanceof s.default?this.attributes.attribute(_,g):g&&_!=null&&(p!==this.statics.blotName||this.formats()[p]!==g)&&this.replaceWith(p,g)},h.prototype.formats=function(){var p=this.attributes.values(),g=this.statics.formats(this.domNode);return g!=null&&(p[this.statics.blotName]=g),p},h.prototype.replaceWith=function(p,g){var _=f.prototype.replaceWith.call(this,p,g);return this.attributes.copy(_),_},h.prototype.update=function(p,g){var _=this;f.prototype.update.call(this,p,g),p.some(function(w){return w.target===_.domNode&&w.type==="attributes"})&&this.attributes.build()},h.prototype.wrap=function(p,g){var _=f.prototype.wrap.call(this,p,g);return _ instanceof h&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},h}(l.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(30),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.value=function(f){return!0},c.prototype.index=function(f,h){return this.domNode===f||this.domNode.compareDocumentPosition(f)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(h,1):-1},c.prototype.position=function(f,h){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return f>0&&(p+=1),[this.parent.domNode,p]},c.prototype.value=function(){var f;return f={},f[this.statics.blotName]=this.statics.value(this.domNode)||!0,f},c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=i(11),s=i(3),a={attributes:{compose:function(u,c,f){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var h=s(!0,{},c);f||(h=Object.keys(h).reduce(function(g,_){return h[_]!=null&&(g[_]=h[_]),g},{}));for(var p in u)u[p]!==void 0&&c[p]===void 0&&(h[p]=u[p]);return Object.keys(h).length>0?h:void 0},diff:function(u,c){typeof u!="object"&&(u={}),typeof c!="object"&&(c={});var f=Object.keys(u).concat(Object.keys(c)).reduce(function(h,p){return o(u[p],c[p])||(h[p]=c[p]===void 0?null:c[p]),h},{});return Object.keys(f).length>0?f:void 0},transform:function(u,c,f){if(typeof u!="object")return c;if(typeof c=="object"){if(!f)return c;var h=Object.keys(c).reduce(function(p,g){return u[g]===void 0&&(p[g]=c[g]),p},{});return Object.keys(h).length>0?h:void 0}}},iterator:function(u){return new l(u)},length:function(u){return typeof u.delete=="number"?u.delete:typeof u.retain=="number"?u.retain:typeof u.insert=="string"?u.insert.length:1}};function l(u){this.ops=u,this.index=0,this.offset=0}l.prototype.hasNext=function(){return this.peekLength()<1/0},l.prototype.next=function(u){u||(u=1/0);var c=this.ops[this.index];if(c){var f=this.offset,h=a.length(c);if(u>=h-f?(u=h-f,this.index+=1,this.offset=0):this.offset+=u,typeof c.delete=="number")return{delete:u};var p={};return c.attributes&&(p.attributes=c.attributes),typeof c.retain=="number"?p.retain=u:typeof c.insert=="string"?p.insert=c.insert.substr(f,u):p.insert=c.insert,p}else return{retain:1/0}},l.prototype.peek=function(){return this.ops[this.index]},l.prototype.peekLength=function(){return this.ops[this.index]?a.length(this.ops[this.index])-this.offset:1/0},l.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},l.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var u=this.offset,c=this.index,f=this.next(),h=this.ops.slice(this.index);return this.offset=u,this.index=c,[f].concat(h)}else return[]},n.exports=a},function(n,r){var i=function(){function o(_,w){return w!=null&&_ instanceof w}var s;try{s=Map}catch{s=function(){}}var a;try{a=Set}catch{a=function(){}}var l;try{l=Promise}catch{l=function(){}}function u(_,w,b,v,y){typeof w=="object"&&(b=w.depth,v=w.prototype,y=w.includeNonEnumerable,w=w.circular);var x=[],I=[],O=typeof Buffer<"u";typeof w>"u"&&(w=!0),typeof b>"u"&&(b=1/0);function S(C,k){if(C===null)return null;if(k===0)return C;var P,R;if(typeof C!="object")return C;if(o(C,s))P=new s;else if(o(C,a))P=new a;else if(o(C,l))P=new l(function(G,j){C.then(function(U){G(S(U,k-1))},function(U){j(S(U,k-1))})});else if(u.__isArray(C))P=[];else if(u.__isRegExp(C))P=new RegExp(C.source,g(C)),C.lastIndex&&(P.lastIndex=C.lastIndex);else if(u.__isDate(C))P=new Date(C.getTime());else{if(O&&Buffer.isBuffer(C))return Buffer.allocUnsafe?P=Buffer.allocUnsafe(C.length):P=new Buffer(C.length),C.copy(P),P;o(C,Error)?P=Object.create(C):typeof v>"u"?(R=Object.getPrototypeOf(C),P=Object.create(R)):(P=Object.create(v),R=v)}if(w){var L=x.indexOf(C);if(L!=-1)return I[L];x.push(C),I.push(P)}o(C,s)&&C.forEach(function(G,j){var U=S(j,k-1),K=S(G,k-1);P.set(U,K)}),o(C,a)&&C.forEach(function(G){var j=S(G,k-1);P.add(j)});for(var N in C){var V;R&&(V=Object.getOwnPropertyDescriptor(R,N)),!(V&&V.set==null)&&(P[N]=S(C[N],k-1))}if(Object.getOwnPropertySymbols)for(var F=Object.getOwnPropertySymbols(C),N=0;N<F.length;N++){var z=F[N],B=Object.getOwnPropertyDescriptor(C,z);B&&!B.enumerable&&!y||(P[z]=S(C[z],k-1),B.enumerable||Object.defineProperty(P,z,{enumerable:!1}))}if(y)for(var W=Object.getOwnPropertyNames(C),N=0;N<W.length;N++){var Q=W[N],B=Object.getOwnPropertyDescriptor(C,Q);B&&B.enumerable||(P[Q]=S(C[Q],k-1),Object.defineProperty(P,Q,{enumerable:!1}))}return P}return S(_,b)}u.clonePrototype=function(w){if(w===null)return null;var b=function(){};return b.prototype=w,new b};function c(_){return Object.prototype.toString.call(_)}u.__objToStr=c;function f(_){return typeof _=="object"&&c(_)==="[object Date]"}u.__isDate=f;function h(_){return typeof _=="object"&&c(_)==="[object Array]"}u.__isArray=h;function p(_){return typeof _=="object"&&c(_)==="[object RegExp]"}u.__isRegExp=p;function g(_){var w="";return _.global&&(w+="g"),_.ignoreCase&&(w+="i"),_.multiline&&(w+="m"),w}return u.__getRegExpFlags=g,u}();typeof n=="object"&&n.exports&&(n.exports=i)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function P(R,L){var N=[],V=!0,F=!1,z=void 0;try{for(var B=R[Symbol.iterator](),W;!(V=(W=B.next()).done)&&(N.push(W.value),!(L&&N.length===L));V=!0);}catch(Q){F=!0,z=Q}finally{try{!V&&B.return&&B.return()}finally{if(F)throw z}}return N}return function(R,L){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return P(R,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function P(R,L){for(var N=0;N<L.length;N++){var V=L[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,L,N){return L&&P(R.prototype,L),N&&P(R,N),R}}(),a=function P(R,L,N){R===null&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,L);if(V===void 0){var F=Object.getPrototypeOf(R);return F===null?void 0:P(F,L,N)}else{if("value"in V)return V.value;var z=V.get;return z===void 0?void 0:z.call(N)}},l=i(0),u=x(l),c=i(8),f=x(c),h=i(4),p=x(h),g=i(16),_=x(g),w=i(13),b=x(w),v=i(25),y=x(v);function x(P){return P&&P.__esModule?P:{default:P}}function I(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function O(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function S(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}function C(P){return P instanceof p.default||P instanceof h.BlockEmbed}var k=function(P){S(R,P);function R(L,N){I(this,R);var V=O(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,L));return V.emitter=N.emitter,Array.isArray(N.whitelist)&&(V.whitelist=N.whitelist.reduce(function(F,z){return F[z]=!0,F},{})),V.domNode.addEventListener("DOMNodeInserted",function(){}),V.optimize(),V.enable(),V}return s(R,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(N,V){var F=this.line(N),z=o(F,2),B=z[0],W=z[1],Q=this.line(N+V),G=o(Q,1),j=G[0];if(a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"deleteAt",this).call(this,N,V),j!=null&&B!==j&&W>0){if(B instanceof h.BlockEmbed||j instanceof h.BlockEmbed){this.optimize();return}if(B instanceof b.default){var U=B.newlineIndex(B.length(),!0);if(U>-1&&(B=B.split(U+1),B===j)){this.optimize();return}}else if(j instanceof b.default){var K=j.newlineIndex(0);K>-1&&j.split(K+1)}var ne=j.children.head instanceof _.default?null:j.children.head;B.moveChildren(j,ne),B.remove()}this.optimize()}},{key:"enable",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.domNode.setAttribute("contenteditable",N)}},{key:"formatAt",value:function(N,V,F,z){this.whitelist!=null&&!this.whitelist[F]||(a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"formatAt",this).call(this,N,V,F,z),this.optimize())}},{key:"insertAt",value:function(N,V,F){if(!(F!=null&&this.whitelist!=null&&!this.whitelist[V])){if(N>=this.length())if(F==null||u.default.query(V,u.default.Scope.BLOCK)==null){var z=u.default.create(this.statics.defaultChild);this.appendChild(z),F==null&&V.endsWith(`
`)&&(V=V.slice(0,-1)),z.insertAt(0,V,F)}else{var B=u.default.create(V,F);this.appendChild(B)}else a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertAt",this).call(this,N,V,F);this.optimize()}}},{key:"insertBefore",value:function(N,V){if(N.statics.scope===u.default.Scope.INLINE_BLOT){var F=u.default.create(this.statics.defaultChild);F.appendChild(N),N=F}a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"insertBefore",this).call(this,N,V)}},{key:"leaf",value:function(N){return this.path(N).pop()||[null,-1]}},{key:"line",value:function(N){return N===this.length()?this.line(N-1):this.descendant(C,N)}},{key:"lines",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,F=function z(B,W,Q){var G=[],j=Q;return B.children.forEachAt(W,Q,function(U,K,ne){C(U)?G.push(U):U instanceof u.default.Container&&(G=G.concat(z(U,K,j))),j-=ne}),G};return F(this,N,V)}},{key:"optimize",value:function(){var N=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"optimize",this).call(this,N,V),N.length>0&&this.emitter.emit(f.default.events.SCROLL_OPTIMIZE,N,V))}},{key:"path",value:function(N){return a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"path",this).call(this,N).slice(1)}},{key:"update",value:function(N){if(this.batch!==!0){var V=f.default.sources.USER;typeof N=="string"&&(V=N),Array.isArray(N)||(N=this.observer.takeRecords()),N.length>0&&this.emitter.emit(f.default.events.SCROLL_BEFORE_UPDATE,V,N),a(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"update",this).call(this,N.concat([])),N.length>0&&this.emitter.emit(f.default.events.SCROLL_UPDATE,V,N)}}}]),R}(u.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[p.default,h.BlockEmbed,y.default],r.default=k},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SHORTKEY=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},s=function(){function X(Z,re){var ue=[],te=!0,fe=!1,be=void 0;try{for(var ve=Z[Symbol.iterator](),we;!(te=(we=ve.next()).done)&&(ue.push(we.value),!(re&&ue.length===re));te=!0);}catch(Ce){fe=!0,be=Ce}finally{try{!te&&ve.return&&ve.return()}finally{if(fe)throw be}}return ue}return function(Z,re){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return X(Z,re);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function X(Z,re){for(var ue=0;ue<re.length;ue++){var te=re[ue];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(Z,te.key,te)}}return function(Z,re,ue){return re&&X(Z.prototype,re),ue&&X(Z,ue),Z}}(),l=i(21),u=P(l),c=i(11),f=P(c),h=i(3),p=P(h),g=i(2),_=P(g),w=i(20),b=P(w),v=i(0),y=P(v),x=i(5),I=P(x),O=i(10),S=P(O),C=i(9),k=P(C);function P(X){return X&&X.__esModule?X:{default:X}}function R(X,Z,re){return Z in X?Object.defineProperty(X,Z,{value:re,enumerable:!0,configurable:!0,writable:!0}):X[Z]=re,X}function L(X,Z){if(!(X instanceof Z))throw new TypeError("Cannot call a class as a function")}function N(X,Z){if(!X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z&&(typeof Z=="object"||typeof Z=="function")?Z:X}function V(X,Z){if(typeof Z!="function"&&Z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);X.prototype=Object.create(Z&&Z.prototype,{constructor:{value:X,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(X,Z):X.__proto__=Z)}var F=(0,S.default)("quill:keyboard"),z=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",B=function(X){V(Z,X),a(Z,null,[{key:"match",value:function(ue,te){return te=oe(te),["altKey","ctrlKey","metaKey","shiftKey"].some(function(fe){return!!te[fe]!==ue[fe]&&te[fe]!==null})?!1:te.key===(ue.which||ue.keyCode)}}]);function Z(re,ue){L(this,Z);var te=N(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,re,ue));return te.bindings={},Object.keys(te.options.bindings).forEach(function(fe){fe==="list autofill"&&re.scroll.whitelist!=null&&!re.scroll.whitelist.list||te.options.bindings[fe]&&te.addBinding(te.options.bindings[fe])}),te.addBinding({key:Z.keys.ENTER,shiftKey:null},U),te.addBinding({key:Z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(te.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0},Q),te.addBinding({key:Z.keys.DELETE},{collapsed:!0},G)):(te.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},Q),te.addBinding({key:Z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},G)),te.addBinding({key:Z.keys.BACKSPACE},{collapsed:!1},j),te.addBinding({key:Z.keys.DELETE},{collapsed:!1},j),te.addBinding({key:Z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},Q),te.listen(),te}return a(Z,[{key:"addBinding",value:function(ue){var te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},fe=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},be=oe(ue);if(be==null||be.key==null)return F.warn("Attempted to add invalid keyboard binding",be);typeof te=="function"&&(te={handler:te}),typeof fe=="function"&&(fe={handler:fe}),be=(0,p.default)(be,te,fe),this.bindings[be.key]=this.bindings[be.key]||[],this.bindings[be.key].push(be)}},{key:"listen",value:function(){var ue=this;this.quill.root.addEventListener("keydown",function(te){if(!te.defaultPrevented){var fe=te.which||te.keyCode,be=(ue.bindings[fe]||[]).filter(function(Tt){return Z.match(te,Tt)});if(be.length!==0){var ve=ue.quill.getSelection();if(!(ve==null||!ue.quill.hasFocus())){var we=ue.quill.getLine(ve.index),Ce=s(we,2),Ue=Ce[0],Oe=Ce[1],he=ue.quill.getLeaf(ve.index),_e=s(he,2),Te=_e[0],me=_e[1],Se=ve.length===0?[Te,me]:ue.quill.getLeaf(ve.index+ve.length),He=s(Se,2),Qe=He[0],ct=He[1],xt=Te instanceof y.default.Text?Te.value().slice(0,me):"",yt=Qe instanceof y.default.Text?Qe.value().slice(ct):"",ot={collapsed:ve.length===0,empty:ve.length===0&&Ue.length()<=1,format:ue.quill.getFormat(ve),offset:Oe,prefix:xt,suffix:yt},ht=be.some(function(Tt){if(Tt.collapsed!=null&&Tt.collapsed!==ot.collapsed||Tt.empty!=null&&Tt.empty!==ot.empty||Tt.offset!=null&&Tt.offset!==ot.offset)return!1;if(Array.isArray(Tt.format)){if(Tt.format.every(function(xn){return ot.format[xn]==null}))return!1}else if(o(Tt.format)==="object"&&!Object.keys(Tt.format).every(function(xn){return Tt.format[xn]===!0?ot.format[xn]!=null:Tt.format[xn]===!1?ot.format[xn]==null:(0,f.default)(Tt.format[xn],ot.format[xn])}))return!1;return Tt.prefix!=null&&!Tt.prefix.test(ot.prefix)||Tt.suffix!=null&&!Tt.suffix.test(ot.suffix)?!1:Tt.handler.call(ue,ve,ot)!==!0});ht&&te.preventDefault()}}}})}}]),Z}(k.default);B.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},B.DEFAULTS={bindings:{bold:ne("bold"),italic:ne("italic"),underline:ne("underline"),indent:{key:B.keys.TAB,format:["blockquote","indent","list"],handler:function(Z,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","+1",I.default.sources.USER)}},outdent:{key:B.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Z,re){if(re.collapsed&&re.offset!==0)return!0;this.quill.format("indent","-1",I.default.sources.USER)}},"outdent backspace":{key:B.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Z,re){re.format.indent!=null?this.quill.format("indent","-1",I.default.sources.USER):re.format.list!=null&&this.quill.format("list",!1,I.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:B.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Z){this.quill.deleteText(Z.index-1,1,I.default.sources.USER)}},tab:{key:B.keys.TAB,handler:function(Z){this.quill.history.cutoff();var re=new _.default().retain(Z.index).delete(Z.length).insert("	");this.quill.updateContents(re,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,I.default.sources.SILENT)}},"list empty enter":{key:B.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Z,re){this.quill.format("list",!1,I.default.sources.USER),re.format.indent&&this.quill.format("indent",!1,I.default.sources.USER)}},"checklist enter":{key:B.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Z){var re=this.quill.getLine(Z.index),ue=s(re,2),te=ue[0],fe=ue[1],be=(0,p.default)({},te.formats(),{list:"checked"}),ve=new _.default().retain(Z.index).insert(`
`,be).retain(te.length()-fe-1).retain(1,{list:"unchecked"});this.quill.updateContents(ve,I.default.sources.USER),this.quill.setSelection(Z.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:B.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Z,re){var ue=this.quill.getLine(Z.index),te=s(ue,2),fe=te[0],be=te[1],ve=new _.default().retain(Z.index).insert(`
`,re.format).retain(fe.length()-be-1).retain(1,{header:null});this.quill.updateContents(ve,I.default.sources.USER),this.quill.setSelection(Z.index+1,I.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Z,re){var ue=re.prefix.length,te=this.quill.getLine(Z.index),fe=s(te,2),be=fe[0],ve=fe[1];if(ve>ue)return!0;var we=void 0;switch(re.prefix.trim()){case"[]":case"[ ]":we="unchecked";break;case"[x]":we="checked";break;case"-":case"*":we="bullet";break;default:we="ordered"}this.quill.insertText(Z.index," ",I.default.sources.USER),this.quill.history.cutoff();var Ce=new _.default().retain(Z.index-ve).delete(ue+1).retain(be.length()-2-ve).retain(1,{list:we});this.quill.updateContents(Ce,I.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-ue,I.default.sources.SILENT)}},"code exit":{key:B.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Z){var re=this.quill.getLine(Z.index),ue=s(re,2),te=ue[0],fe=ue[1],be=new _.default().retain(Z.index+te.length()-fe-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(be,I.default.sources.USER)}},"embed left":W(B.keys.LEFT,!1),"embed left shift":W(B.keys.LEFT,!0),"embed right":W(B.keys.RIGHT,!1),"embed right shift":W(B.keys.RIGHT,!0)}};function W(X,Z){var re,ue=X===B.keys.LEFT?"prefix":"suffix";return re={key:X,shiftKey:Z,altKey:null},R(re,ue,/^$/),R(re,"handler",function(fe){var be=fe.index;X===B.keys.RIGHT&&(be+=fe.length+1);var ve=this.quill.getLeaf(be),we=s(ve,1),Ce=we[0];return Ce instanceof y.default.Embed?(X===B.keys.LEFT?Z?this.quill.setSelection(fe.index-1,fe.length+1,I.default.sources.USER):this.quill.setSelection(fe.index-1,I.default.sources.USER):Z?this.quill.setSelection(fe.index,fe.length+1,I.default.sources.USER):this.quill.setSelection(fe.index+fe.length+1,I.default.sources.USER),!1):!0}),re}function Q(X,Z){if(!(X.index===0||this.quill.getLength()<=1)){var re=this.quill.getLine(X.index),ue=s(re,1),te=ue[0],fe={};if(Z.offset===0){var be=this.quill.getLine(X.index-1),ve=s(be,1),we=ve[0];if(we!=null&&we.length()>1){var Ce=te.formats(),Ue=this.quill.getFormat(X.index-1,1);fe=b.default.attributes.diff(Ce,Ue)||{}}}var Oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Z.prefix)?2:1;this.quill.deleteText(X.index-Oe,Oe,I.default.sources.USER),Object.keys(fe).length>0&&this.quill.formatLine(X.index-Oe,Oe,fe,I.default.sources.USER),this.quill.focus()}}function G(X,Z){var re=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Z.suffix)?2:1;if(!(X.index>=this.quill.getLength()-re)){var ue={},te=0,fe=this.quill.getLine(X.index),be=s(fe,1),ve=be[0];if(Z.offset>=ve.length()-1){var we=this.quill.getLine(X.index+1),Ce=s(we,1),Ue=Ce[0];if(Ue){var Oe=ve.formats(),he=this.quill.getFormat(X.index,1);ue=b.default.attributes.diff(Oe,he)||{},te=Ue.length()}}this.quill.deleteText(X.index,re,I.default.sources.USER),Object.keys(ue).length>0&&this.quill.formatLine(X.index+te-1,re,ue,I.default.sources.USER)}}function j(X){var Z=this.quill.getLines(X),re={};if(Z.length>1){var ue=Z[0].formats(),te=Z[Z.length-1].formats();re=b.default.attributes.diff(te,ue)||{}}this.quill.deleteText(X,I.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(X.index,1,re,I.default.sources.USER),this.quill.setSelection(X.index,I.default.sources.SILENT),this.quill.focus()}function U(X,Z){var re=this;X.length>0&&this.quill.scroll.deleteAt(X.index,X.length);var ue=Object.keys(Z.format).reduce(function(te,fe){return y.default.query(fe,y.default.Scope.BLOCK)&&!Array.isArray(Z.format[fe])&&(te[fe]=Z.format[fe]),te},{});this.quill.insertText(X.index,`
`,ue,I.default.sources.USER),this.quill.setSelection(X.index+1,I.default.sources.SILENT),this.quill.focus(),Object.keys(Z.format).forEach(function(te){ue[te]==null&&(Array.isArray(Z.format[te])||te!=="link"&&re.quill.format(te,Z.format[te],I.default.sources.USER))})}function K(X){return{key:B.keys.TAB,shiftKey:!X,format:{"code-block":!0},handler:function(re){var ue=y.default.query("code-block"),te=re.index,fe=re.length,be=this.quill.scroll.descendant(ue,te),ve=s(be,2),we=ve[0],Ce=ve[1];if(we!=null){var Ue=this.quill.getIndex(we),Oe=we.newlineIndex(Ce,!0)+1,he=we.newlineIndex(Ue+Ce+fe),_e=we.domNode.textContent.slice(Oe,he).split(`
`);Ce=0,_e.forEach(function(Te,me){X?(we.insertAt(Oe+Ce,ue.TAB),Ce+=ue.TAB.length,me===0?te+=ue.TAB.length:fe+=ue.TAB.length):Te.startsWith(ue.TAB)&&(we.deleteAt(Oe+Ce,ue.TAB.length),Ce-=ue.TAB.length,me===0?te-=ue.TAB.length:fe-=ue.TAB.length),Ce+=Te.length+1}),this.quill.update(I.default.sources.USER),this.quill.setSelection(te,fe,I.default.sources.SILENT)}}}}function ne(X){return{key:X[0].toUpperCase(),shortKey:!0,handler:function(re,ue){this.quill.format(X,!ue.format[X],I.default.sources.USER)}}}function oe(X){if(typeof X=="string"||typeof X=="number")return oe({key:X});if((typeof X>"u"?"undefined":o(X))==="object"&&(X=(0,u.default)(X,!1)),typeof X.key=="string")if(B.keys[X.key.toUpperCase()]!=null)X.key=B.keys[X.key.toUpperCase()];else if(X.key.length===1)X.key=X.key.toUpperCase().charCodeAt(0);else return null;return X.shortKey&&(X[z]=X.shortKey,delete X.shortKey),X}r.default=B,r.SHORTKEY=z},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(v,y){var x=[],I=!0,O=!1,S=void 0;try{for(var C=v[Symbol.iterator](),k;!(I=(k=C.next()).done)&&(x.push(k.value),!(y&&x.length===y));I=!0);}catch(P){O=!0,S=P}finally{try{!I&&C.return&&C.return()}finally{if(O)throw S}}return x}return function(v,y){if(Array.isArray(v))return v;if(Symbol.iterator in Object(v))return b(v,y);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function b(v,y,x){v===null&&(v=Function.prototype);var I=Object.getOwnPropertyDescriptor(v,y);if(I===void 0){var O=Object.getPrototypeOf(v);return O===null?void 0:b(O,y,x)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(x)}},a=function(){function b(v,y){for(var x=0;x<y.length;x++){var I=y[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,y,x){return y&&b(v.prototype,y),x&&b(v,x),v}}(),l=i(0),u=h(l),c=i(7),f=h(c);function h(b){return b&&b.__esModule?b:{default:b}}function p(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function g(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function _(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var w=function(b){_(v,b),a(v,null,[{key:"value",value:function(){}}]);function v(y,x){p(this,v);var I=g(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return I.selection=x,I.textNode=document.createTextNode(v.CONTENTS),I.domNode.appendChild(I.textNode),I._length=0,I}return a(v,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(x,I){if(this._length!==0)return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"format",this).call(this,x,I);for(var O=this,S=0;O!=null&&O.statics.scope!==u.default.Scope.BLOCK_BLOT;)S+=O.offset(O.parent),O=O.parent;O!=null&&(this._length=v.CONTENTS.length,O.optimize(),O.formatAt(S,v.CONTENTS.length,x,I),this._length=0)}},{key:"index",value:function(x,I){return x===this.textNode?0:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,x,I)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!(this.selection.composing||this.parent==null)){var x=this.textNode,I=this.selection.getNativeRange(),O=void 0,S=void 0,C=void 0;if(I!=null&&I.start.node===x&&I.end.node===x){var k=[x,I.start.offset,I.end.offset];O=k[0],S=k[1],C=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==v.CONTENTS){var P=this.textNode.data.split(v.CONTENTS).join("");this.next instanceof f.default?(O=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=v.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(u.default.create(this.textNode),this),this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),S!=null){var R=[S,C].map(function(N){return Math.max(0,Math.min(O.data.length,N-1))}),L=o(R,2);return S=L[0],C=L[1],{startNode:O,startOffset:S,endNode:O,endOffset:C}}}}},{key:"update",value:function(x,I){var O=this;if(x.some(function(C){return C.type==="characterData"&&C.target===O.textNode})){var S=this.restore();S&&(I.range=S)}}},{key:"value",value:function(){return""}}]),v}(u.default.Embed);w.blotName="cursor",w.className="ql-cursor",w.tagName="span",w.CONTENTS="\uFEFF",r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=u(o),a=i(4),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function f(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function h(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){h(_,g);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return _}(s.default.Container);p.allowedChildren=[l.default,a.BlockEmbed,p],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.ColorStyle=r.ColorClass=r.ColorAttributor=void 0;var o=function(){function w(b,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,y){return v&&w(b.prototype,v),y&&w(b,y),b}}(),s=function w(b,v,y){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,v);if(x===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,v,y)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(y)}},a=i(0),l=u(a);function u(w){return w&&w.__esModule?w:{default:w}}function c(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function f(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function h(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var p=function(w){h(b,w);function b(){return c(this,b),f(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"value",value:function(y){var x=s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"value",this).call(this,y);return x.startsWith("rgb(")?(x=x.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),"#"+x.split(",").map(function(I){return("00"+parseInt(I).toString(16)).slice(-2)}).join("")):x}}]),b}(l.default.Attributor.Style),g=new l.default.Attributor.Class("color","ql-color",{scope:l.default.Scope.INLINE}),_=new p("color","color",{scope:l.default.Scope.INLINE});r.ColorAttributor=p,r.ColorClass=g,r.ColorStyle=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.sanitize=r.default=void 0;var o=function(){function _(w,b){for(var v=0;v<b.length;v++){var y=b[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,b,v){return b&&_(w.prototype,b),v&&_(w,v),w}}(),s=function _(w,b,v){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,b);if(y===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:_(x,b,v)}else{if("value"in y)return y.value;var I=y.get;return I===void 0?void 0:I.call(v)}},a=i(6),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function f(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function h(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var p=function(_){h(w,_);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"format",value:function(v,y){if(v!==this.statics.blotName||!y)return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,v,y);y=this.constructor.sanitize(y),this.domNode.setAttribute("href",y)}}],[{key:"create",value:function(v){var y=s(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,v);return v=this.sanitize(v),y.setAttribute("href",v),y.setAttribute("rel","noopener noreferrer"),y.setAttribute("target","_blank"),y}},{key:"formats",value:function(v){return v.getAttribute("href")}},{key:"sanitize",value:function(v){return g(v,this.PROTOCOL_WHITELIST)?v:this.SANITIZED_URL}}]),w}(l.default);p.blotName="link",p.tagName="A",p.SANITIZED_URL="about:blank",p.PROTOCOL_WHITELIST=["http","https","mailto","tel"];function g(_,w){var b=document.createElement("a");b.href=_;var v=b.href.slice(0,b.href.indexOf(":"));return w.indexOf(v)>-1}r.default=p,r.sanitize=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(w){return typeof w}:function(w){return w&&typeof Symbol=="function"&&w.constructor===Symbol&&w!==Symbol.prototype?"symbol":typeof w},s=function(){function w(b,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,y){return v&&w(b.prototype,v),y&&w(b,y),b}}(),a=i(23),l=f(a),u=i(107),c=f(u);function f(w){return w&&w.__esModule?w:{default:w}}function h(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}var p=0;function g(w,b){w.setAttribute(b,w.getAttribute(b)!=="true")}var _=function(){function w(b){var v=this;h(this,w),this.select=b,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){v.togglePicker()}),this.label.addEventListener("keydown",function(y){switch(y.keyCode){case l.default.keys.ENTER:v.togglePicker();break;case l.default.keys.ESCAPE:v.escape(),y.preventDefault();break}}),this.select.addEventListener("change",this.update.bind(this))}return s(w,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),g(this.label,"aria-expanded"),g(this.options,"aria-hidden")}},{key:"buildItem",value:function(v){var y=this,x=document.createElement("span");return x.tabIndex="0",x.setAttribute("role","button"),x.classList.add("ql-picker-item"),v.hasAttribute("value")&&x.setAttribute("data-value",v.getAttribute("value")),v.textContent&&x.setAttribute("data-label",v.textContent),x.addEventListener("click",function(){y.selectItem(x,!0)}),x.addEventListener("keydown",function(I){switch(I.keyCode){case l.default.keys.ENTER:y.selectItem(x,!0),I.preventDefault();break;case l.default.keys.ESCAPE:y.escape(),I.preventDefault();break}}),x}},{key:"buildLabel",value:function(){var v=document.createElement("span");return v.classList.add("ql-picker-label"),v.innerHTML=c.default,v.tabIndex="0",v.setAttribute("role","button"),v.setAttribute("aria-expanded","false"),this.container.appendChild(v),v}},{key:"buildOptions",value:function(){var v=this,y=document.createElement("span");y.classList.add("ql-picker-options"),y.setAttribute("aria-hidden","true"),y.tabIndex="-1",y.id="ql-picker-options-"+p,p+=1,this.label.setAttribute("aria-controls",y.id),this.options=y,[].slice.call(this.select.options).forEach(function(x){var I=v.buildItem(x);y.appendChild(I),x.selected===!0&&v.selectItem(I)}),this.container.appendChild(y)}},{key:"buildPicker",value:function(){var v=this;[].slice.call(this.select.attributes).forEach(function(y){v.container.setAttribute(y.name,y.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var v=this;this.close(),setTimeout(function(){return v.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(v){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,x=this.container.querySelector(".ql-selected");if(v!==x&&(x!=null&&x.classList.remove("ql-selected"),v!=null&&(v.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(v.parentNode.children,v),v.hasAttribute("data-value")?this.label.setAttribute("data-value",v.getAttribute("data-value")):this.label.removeAttribute("data-value"),v.hasAttribute("data-label")?this.label.setAttribute("data-label",v.getAttribute("data-label")):this.label.removeAttribute("data-label"),y))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event>"u"?"undefined":o(Event))==="object"){var I=document.createEvent("Event");I.initEvent("change",!0,!0),this.select.dispatchEvent(I)}this.close()}}},{key:"update",value:function(){var v=void 0;if(this.select.selectedIndex>-1){var y=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];v=this.select.options[this.select.selectedIndex],this.selectItem(y)}else this.selectItem(null);var x=v!=null&&v!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",x)}}]),w}();r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(0),s=F(o),a=i(5),l=F(a),u=i(4),c=F(u),f=i(16),h=F(f),p=i(25),g=F(p),_=i(24),w=F(_),b=i(35),v=F(b),y=i(6),x=F(y),I=i(22),O=F(I),S=i(7),C=F(S),k=i(55),P=F(k),R=i(42),L=F(R),N=i(23),V=F(N);function F(z){return z&&z.__esModule?z:{default:z}}l.default.register({"blots/block":c.default,"blots/block/embed":u.BlockEmbed,"blots/break":h.default,"blots/container":g.default,"blots/cursor":w.default,"blots/embed":v.default,"blots/inline":x.default,"blots/scroll":O.default,"blots/text":C.default,"modules/clipboard":P.default,"modules/history":L.default,"modules/keyboard":V.default}),s.default.register(c.default,h.default,w.default,x.default,O.default,C.default),r.default=l.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(1),s=function(){function a(l){this.domNode=l,this.domNode[o.DATA_KEY]={blot:this}}return Object.defineProperty(a.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),a.create=function(l){if(this.tagName==null)throw new o.ParchmentError("Blot definition missing tagName");var u;return Array.isArray(this.tagName)?(typeof l=="string"&&(l=l.toUpperCase(),parseInt(l).toString()===l&&(l=parseInt(l))),typeof l=="number"?u=document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?u=document.createElement(l):u=document.createElement(this.tagName[0])):u=document.createElement(this.tagName),this.className&&u.classList.add(this.className),u},a.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},a.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return o.create(l)},a.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[o.DATA_KEY]},a.prototype.deleteAt=function(l,u){var c=this.isolate(l,u);c.remove()},a.prototype.formatAt=function(l,u,c,f){var h=this.isolate(l,u);if(o.query(c,o.Scope.BLOT)!=null&&f)h.wrap(c,f);else if(o.query(c,o.Scope.ATTRIBUTE)!=null){var p=o.create(this.statics.scope);h.wrap(p),p.format(c,f)}},a.prototype.insertAt=function(l,u,c){var f=c==null?o.create("text",u):o.create(u,c),h=this.split(l);this.parent.insertBefore(f,h)},a.prototype.insertInto=function(l,u){u===void 0&&(u=null),this.parent!=null&&this.parent.children.remove(this);var c=null;l.children.insertBefore(this,u),u!=null&&(c=u.domNode),(this.domNode.parentNode!=l.domNode||this.domNode.nextSibling!=c)&&l.domNode.insertBefore(this.domNode,c),this.parent=l,this.attach()},a.prototype.isolate=function(l,u){var c=this.split(l);return c.split(u),c},a.prototype.length=function(){return 1},a.prototype.offset=function(l){return l===void 0&&(l=this.parent),this.parent==null||this==l?0:this.parent.children.offset(this)+this.parent.offset(l)},a.prototype.optimize=function(l){this.domNode[o.DATA_KEY]!=null&&delete this.domNode[o.DATA_KEY].mutations},a.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},a.prototype.replace=function(l){l.parent!=null&&(l.parent.insertBefore(this,l.next),l.remove())},a.prototype.replaceWith=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return c.replace(this),c},a.prototype.split=function(l,u){return l===0?this:this.next},a.prototype.update=function(l,u){},a.prototype.wrap=function(l,u){var c=typeof l=="string"?o.create(l,u):l;return this.parent!=null&&this.parent.insertBefore(c,this.next),c.appendChild(this),c},a.blotName="abstract",a}();r.default=s},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(12),s=i(32),a=i(33),l=i(1),u=function(){function c(f){this.attributes={},this.domNode=f,this.build()}return c.prototype.attribute=function(f,h){h?f.add(this.domNode,h)&&(f.value(this.domNode)!=null?this.attributes[f.attrName]=f:delete this.attributes[f.attrName]):(f.remove(this.domNode),delete this.attributes[f.attrName])},c.prototype.build=function(){var f=this;this.attributes={};var h=o.default.keys(this.domNode),p=s.default.keys(this.domNode),g=a.default.keys(this.domNode);h.concat(p).concat(g).forEach(function(_){var w=l.query(_,l.Scope.ATTRIBUTE);w instanceof o.default&&(f.attributes[w.attrName]=w)})},c.prototype.copy=function(f){var h=this;Object.keys(this.attributes).forEach(function(p){var g=h.attributes[p].value(h.domNode);f.format(p,g)})},c.prototype.move=function(f){var h=this;this.copy(f),Object.keys(this.attributes).forEach(function(p){h.attributes[p].remove(h.domNode)}),this.attributes={}},c.prototype.values=function(){var f=this;return Object.keys(this.attributes).reduce(function(h,p){return h[p]=f.attributes[p].value(f.domNode),h},{})},c}();r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u,c){var f=u.getAttribute("class")||"";return f.split(/\s+/).filter(function(h){return h.indexOf(c+"-")===0})}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("class")||"").split(/\s+/).map(function(h){return h.split("-").slice(0,-1).join("-")})},c.prototype.add=function(f,h){return this.canAdd(f,h)?(this.remove(f),f.classList.add(this.keyName+"-"+h),!0):!1},c.prototype.remove=function(f){var h=a(f,this.keyName);h.forEach(function(p){f.classList.remove(p)}),f.classList.length===0&&f.removeAttribute("class")},c.prototype.value=function(f){var h=a(f,this.keyName)[0]||"",p=h.slice(this.keyName.length+1);return this.canAdd(f,p)?p:""},c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(12);function a(u){var c=u.split("-"),f=c.slice(1).map(function(h){return h[0].toUpperCase()+h.slice(1)}).join("");return c[0]+f}var l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.keys=function(f){return(f.getAttribute("style")||"").split(";").map(function(h){var p=h.split(":");return p[0].trim()})},c.prototype.add=function(f,h){return this.canAdd(f,h)?(f.style[a(this.keyName)]=h,!0):!1},c.prototype.remove=function(f){f.style[a(this.keyName)]="",f.getAttribute("style")||f.removeAttribute("style")},c.prototype.value=function(f){var h=f.style[a(this.keyName)];return this.canAdd(f,h)?h:""},c}(s.default);r.default=l},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){s(this,l),this.quill=u,this.options=c,this.modules={}}return o(l,[{key:"init",value:function(){var c=this;Object.keys(this.options.modules).forEach(function(f){c.modules[f]==null&&c.addModule(f)})}},{key:"addModule",value:function(c){var f=this.quill.constructor.import("modules/"+c);return this.modules[c]=new f(this.quill,this.options.modules[c]||{}),this.modules[c]}}]),l}();a.DEFAULTS={modules:{}},a.themes={default:a},r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function b(v,y){for(var x=0;x<y.length;x++){var I=y[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,y,x){return y&&b(v.prototype,y),x&&b(v,x),v}}(),s=function b(v,y,x){v===null&&(v=Function.prototype);var I=Object.getOwnPropertyDescriptor(v,y);if(I===void 0){var O=Object.getPrototypeOf(v);return O===null?void 0:b(O,y,x)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(x)}},a=i(0),l=f(a),u=i(7),c=f(u);function f(b){return b&&b.__esModule?b:{default:b}}function h(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function p(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function g(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var _="\uFEFF",w=function(b){g(v,b);function v(y){h(this,v);var x=p(this,(v.__proto__||Object.getPrototypeOf(v)).call(this,y));return x.contentNode=document.createElement("span"),x.contentNode.setAttribute("contenteditable",!1),[].slice.call(x.domNode.childNodes).forEach(function(I){x.contentNode.appendChild(I)}),x.leftGuard=document.createTextNode(_),x.rightGuard=document.createTextNode(_),x.domNode.appendChild(x.leftGuard),x.domNode.appendChild(x.contentNode),x.domNode.appendChild(x.rightGuard),x}return o(v,[{key:"index",value:function(x,I){return x===this.leftGuard?0:x===this.rightGuard?1:s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"index",this).call(this,x,I)}},{key:"restore",value:function(x){var I=void 0,O=void 0,S=x.data.split(_).join("");if(x===this.leftGuard)if(this.prev instanceof c.default){var C=this.prev.length();this.prev.insertAt(C,S),I={startNode:this.prev.domNode,startOffset:C+S.length}}else O=document.createTextNode(S),this.parent.insertBefore(l.default.create(O),this),I={startNode:O,startOffset:S.length};else x===this.rightGuard&&(this.next instanceof c.default?(this.next.insertAt(0,S),I={startNode:this.next.domNode,startOffset:S.length}):(O=document.createTextNode(S),this.parent.insertBefore(l.default.create(O),this.next),I={startNode:O,startOffset:S.length}));return x.data=_,I}},{key:"update",value:function(x,I){var O=this;x.forEach(function(S){if(S.type==="characterData"&&(S.target===O.leftGuard||S.target===O.rightGuard)){var C=O.restore(S.target);C&&(I.range=C)}})}}]),v}(l.default.Embed);r.default=w},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.AlignStyle=r.AlignClass=r.AlignAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["right","center","justify"]},u=new s.default.Attributor.Attribute("align","align",l),c=new s.default.Attributor.Class("align","ql-align",l),f=new s.default.Attributor.Style("align","text-align",l);r.AlignAttribute=u,r.AlignClass=c,r.AlignStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.BackgroundStyle=r.BackgroundClass=void 0;var o=i(0),s=l(o),a=i(26);function l(f){return f&&f.__esModule?f:{default:f}}var u=new s.default.Attributor.Class("background","ql-bg",{scope:s.default.Scope.INLINE}),c=new a.ColorAttributor("background","background-color",{scope:s.default.Scope.INLINE});r.BackgroundClass=u,r.BackgroundStyle=c},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.DirectionStyle=r.DirectionClass=r.DirectionAttribute=void 0;var o=i(0),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}var l={scope:s.default.Scope.BLOCK,whitelist:["rtl"]},u=new s.default.Attributor.Attribute("direction","dir",l),c=new s.default.Attributor.Class("direction","ql-direction",l),f=new s.default.Attributor.Style("direction","direction",l);r.DirectionAttribute=u,r.DirectionClass=c,r.DirectionStyle=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.FontClass=r.FontStyle=void 0;var o=function(){function b(v,y){for(var x=0;x<y.length;x++){var I=y[x];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(v,I.key,I)}}return function(v,y,x){return y&&b(v.prototype,y),x&&b(v,x),v}}(),s=function b(v,y,x){v===null&&(v=Function.prototype);var I=Object.getOwnPropertyDescriptor(v,y);if(I===void 0){var O=Object.getPrototypeOf(v);return O===null?void 0:b(O,y,x)}else{if("value"in I)return I.value;var S=I.get;return S===void 0?void 0:S.call(x)}},a=i(0),l=u(a);function u(b){return b&&b.__esModule?b:{default:b}}function c(b,v){if(!(b instanceof v))throw new TypeError("Cannot call a class as a function")}function f(b,v){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return v&&(typeof v=="object"||typeof v=="function")?v:b}function h(b,v){if(typeof v!="function"&&v!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof v);b.prototype=Object.create(v&&v.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),v&&(Object.setPrototypeOf?Object.setPrototypeOf(b,v):b.__proto__=v)}var p={scope:l.default.Scope.INLINE,whitelist:["serif","monospace"]},g=new l.default.Attributor.Class("font","ql-font",p),_=function(b){h(v,b);function v(){return c(this,v),f(this,(v.__proto__||Object.getPrototypeOf(v)).apply(this,arguments))}return o(v,[{key:"value",value:function(x){return s(v.prototype.__proto__||Object.getPrototypeOf(v.prototype),"value",this).call(this,x).replace(/["']/g,"")}}]),v}(l.default.Attributor.Style),w=new _("font","font-family",p);r.FontStyle=w,r.FontClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.SizeStyle=r.SizeClass=void 0;var o=i(0),s=a(o);function a(c){return c&&c.__esModule?c:{default:c}}var l=new s.default.Attributor.Class("size","ql-size",{scope:s.default.Scope.INLINE,whitelist:["small","large","huge"]}),u=new s.default.Attributor.Style("size","font-size",{scope:s.default.Scope.INLINE,whitelist:["10px","18px","32px"]});r.SizeClass=l,r.SizeStyle=u},function(n,r,i){n.exports={align:{"":i(76),center:i(77),right:i(78),justify:i(79)},background:i(80),blockquote:i(81),bold:i(82),clean:i(83),code:i(58),"code-block":i(58),color:i(84),direction:{"":i(85),rtl:i(86)},float:{center:i(87),full:i(88),left:i(89),right:i(90)},formula:i(91),header:{1:i(92),2:i(93)},italic:i(94),image:i(95),indent:{"+1":i(96),"-1":i(97)},link:i(98),list:{ordered:i(99),bullet:i(100),check:i(101)},script:{sub:i(102),super:i(103)},strike:i(104),underline:i(105),video:i(106)}},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.getLastChangeIndex=r.default=void 0;var o=function(){function y(x,I){for(var O=0;O<I.length;O++){var S=I[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,I,O){return I&&y(x.prototype,I),O&&y(x,O),x}}(),s=i(0),a=h(s),l=i(5),u=h(l),c=i(9),f=h(c);function h(y){return y&&y.__esModule?y:{default:y}}function p(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function g(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function _(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var w=function(y){_(x,y);function x(I,O){p(this,x);var S=g(this,(x.__proto__||Object.getPrototypeOf(x)).call(this,I,O));return S.lastRecorded=0,S.ignoreChange=!1,S.clear(),S.quill.on(u.default.events.EDITOR_CHANGE,function(C,k,P,R){C!==u.default.events.TEXT_CHANGE||S.ignoreChange||(!S.options.userOnly||R===u.default.sources.USER?S.record(k,P):S.transform(k))}),S.quill.keyboard.addBinding({key:"Z",shortKey:!0},S.undo.bind(S)),S.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},S.redo.bind(S)),/Win/i.test(navigator.platform)&&S.quill.keyboard.addBinding({key:"Y",shortKey:!0},S.redo.bind(S)),S}return o(x,[{key:"change",value:function(O,S){if(this.stack[O].length!==0){var C=this.stack[O].pop();this.stack[S].push(C),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(C[O],u.default.sources.USER),this.ignoreChange=!1;var k=v(C[O]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(O,S){if(O.ops.length!==0){this.stack.redo=[];var C=this.quill.getContents().diff(S),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var P=this.stack.undo.pop();C=C.compose(P.undo),O=P.redo.compose(O)}else this.lastRecorded=k;this.stack.undo.push({redo:O,undo:C}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(O){this.stack.undo.forEach(function(S){S.undo=O.transform(S.undo,!0),S.redo=O.transform(S.redo,!0)}),this.stack.redo.forEach(function(S){S.undo=O.transform(S.undo,!0),S.redo=O.transform(S.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(f.default);w.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1};function b(y){var x=y.ops[y.ops.length-1];return x==null?!1:x.insert!=null?typeof x.insert=="string"&&x.insert.endsWith(`
`):x.attributes!=null?Object.keys(x.attributes).some(function(I){return a.default.query(I,a.default.Scope.BLOCK)!=null}):!1}function v(y){var x=y.reduce(function(O,S){return O+=S.delete||0,O},0),I=y.length()-x;return b(y)&&(I-=1),I}r.default=w,r.getLastChangeIndex=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BaseTooltip=void 0;var o=function(){function U(K,ne){for(var oe=0;oe<ne.length;oe++){var X=ne[oe];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(K,X.key,X)}}return function(K,ne,oe){return ne&&U(K.prototype,ne),oe&&U(K,oe),K}}(),s=function U(K,ne,oe){K===null&&(K=Function.prototype);var X=Object.getOwnPropertyDescriptor(K,ne);if(X===void 0){var Z=Object.getPrototypeOf(K);return Z===null?void 0:U(Z,ne,oe)}else{if("value"in X)return X.value;var re=X.get;return re===void 0?void 0:re.call(oe)}},a=i(3),l=k(a),u=i(2),c=k(u),f=i(8),h=k(f),p=i(23),g=k(p),_=i(34),w=k(_),b=i(59),v=k(b),y=i(60),x=k(y),I=i(28),O=k(I),S=i(61),C=k(S);function k(U){return U&&U.__esModule?U:{default:U}}function P(U,K){if(!(U instanceof K))throw new TypeError("Cannot call a class as a function")}function R(U,K){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K&&(typeof K=="object"||typeof K=="function")?K:U}function L(U,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof K);U.prototype=Object.create(K&&K.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),K&&(Object.setPrototypeOf?Object.setPrototypeOf(U,K):U.__proto__=K)}var N=[!1,"center","right","justify"],V=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],z=["1","2","3",!1],B=["small",!1,"large","huge"],W=function(U){L(K,U);function K(ne,oe){P(this,K);var X=R(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,oe)),Z=function re(ue){if(!document.body.contains(ne.root))return document.body.removeEventListener("click",re);X.tooltip!=null&&!X.tooltip.root.contains(ue.target)&&document.activeElement!==X.tooltip.textbox&&!X.quill.hasFocus()&&X.tooltip.hide(),X.pickers!=null&&X.pickers.forEach(function(te){te.container.contains(ue.target)||te.close()})};return ne.emitter.listenDOM("click",document.body,Z),X}return o(K,[{key:"addModule",value:function(oe){var X=s(K.prototype.__proto__||Object.getPrototypeOf(K.prototype),"addModule",this).call(this,oe);return oe==="toolbar"&&this.extendToolbar(X),X}},{key:"buildButtons",value:function(oe,X){oe.forEach(function(Z){var re=Z.getAttribute("class")||"";re.split(/\s+/).forEach(function(ue){if(ue.startsWith("ql-")&&(ue=ue.slice(3),X[ue]!=null))if(ue==="direction")Z.innerHTML=X[ue][""]+X[ue].rtl;else if(typeof X[ue]=="string")Z.innerHTML=X[ue];else{var te=Z.value||"";te!=null&&X[ue][te]&&(Z.innerHTML=X[ue][te])}})})}},{key:"buildPickers",value:function(oe,X){var Z=this;this.pickers=oe.map(function(ue){if(ue.classList.contains("ql-align"))return ue.querySelector("option")==null&&j(ue,N),new x.default(ue,X.align);if(ue.classList.contains("ql-background")||ue.classList.contains("ql-color")){var te=ue.classList.contains("ql-background")?"background":"color";return ue.querySelector("option")==null&&j(ue,V,te==="background"?"#ffffff":"#000000"),new v.default(ue,X[te])}else return ue.querySelector("option")==null&&(ue.classList.contains("ql-font")?j(ue,F):ue.classList.contains("ql-header")?j(ue,z):ue.classList.contains("ql-size")&&j(ue,B)),new O.default(ue)});var re=function(){Z.pickers.forEach(function(te){te.update()})};this.quill.on(h.default.events.EDITOR_CHANGE,re)}}]),K}(w.default);W.DEFAULTS=(0,l.default)(!0,{},w.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var K=this,ne=this.container.querySelector("input.ql-image[type=file]");ne==null&&(ne=document.createElement("input"),ne.setAttribute("type","file"),ne.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),ne.classList.add("ql-image"),ne.addEventListener("change",function(){if(ne.files!=null&&ne.files[0]!=null){var oe=new FileReader;oe.onload=function(X){var Z=K.quill.getSelection(!0);K.quill.updateContents(new c.default().retain(Z.index).delete(Z.length).insert({image:X.target.result}),h.default.sources.USER),K.quill.setSelection(Z.index+1,h.default.sources.SILENT),ne.value=""},oe.readAsDataURL(ne.files[0])}}),this.container.appendChild(ne)),ne.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var Q=function(U){L(K,U);function K(ne,oe){P(this,K);var X=R(this,(K.__proto__||Object.getPrototypeOf(K)).call(this,ne,oe));return X.textbox=X.root.querySelector('input[type="text"]'),X.listen(),X}return o(K,[{key:"listen",value:function(){var oe=this;this.textbox.addEventListener("keydown",function(X){g.default.match(X,"enter")?(oe.save(),X.preventDefault()):g.default.match(X,"escape")&&(oe.cancel(),X.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),X!=null?this.textbox.value=X:oe!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+oe)||""),this.root.setAttribute("data-mode",oe)}},{key:"restoreFocus",value:function(){var oe=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=oe}},{key:"save",value:function(){var oe=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":{var X=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",oe,h.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",oe,h.default.sources.USER)),this.quill.root.scrollTop=X;break}case"video":oe=G(oe);case"formula":{if(!oe)break;var Z=this.quill.getSelection(!0);if(Z!=null){var re=Z.index+Z.length;this.quill.insertEmbed(re,this.root.getAttribute("data-mode"),oe,h.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(re+1," ",h.default.sources.USER),this.quill.setSelection(re+2,h.default.sources.USER)}break}}this.textbox.value="",this.hide()}}]),K}(C.default);function G(U){var K=U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||U.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return K?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=U.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":U}function j(U,K){var ne=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;K.forEach(function(oe){var X=document.createElement("option");oe===ne?X.setAttribute("selected","selected"):X.setAttribute("value",oe),U.appendChild(X)})}r.BaseTooltip=Q,r.default=W},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function s(){this.head=this.tail=null,this.length=0}return s.prototype.append=function(){for(var a=[],l=0;l<arguments.length;l++)a[l]=arguments[l];this.insertBefore(a[0],null),a.length>1&&this.append.apply(this,a.slice(1))},s.prototype.contains=function(a){for(var l,u=this.iterator();l=u();)if(l===a)return!0;return!1},s.prototype.insertBefore=function(a,l){a&&(a.next=l,l!=null?(a.prev=l.prev,l.prev!=null&&(l.prev.next=a),l.prev=a,l===this.head&&(this.head=a)):this.tail!=null?(this.tail.next=a,a.prev=this.tail,this.tail=a):(a.prev=null,this.head=this.tail=a),this.length+=1)},s.prototype.offset=function(a){for(var l=0,u=this.head;u!=null;){if(u===a)return l;l+=u.length(),u=u.next}return-1},s.prototype.remove=function(a){this.contains(a)&&(a.prev!=null&&(a.prev.next=a.next),a.next!=null&&(a.next.prev=a.prev),a===this.head&&(this.head=a.next),a===this.tail&&(this.tail=a.prev),this.length-=1)},s.prototype.iterator=function(a){return a===void 0&&(a=this.head),function(){var l=a;return a!=null&&(a=a.next),l}},s.prototype.find=function(a,l){l===void 0&&(l=!1);for(var u,c=this.iterator();u=c();){var f=u.length();if(a<f||l&&a===f&&(u.next==null||u.next.length()!==0))return[u,a];a-=f}return[null,0]},s.prototype.forEach=function(a){for(var l,u=this.iterator();l=u();)a(l)},s.prototype.forEachAt=function(a,l,u){if(!(l<=0))for(var c=this.find(a),f=c[0],h=c[1],p,g=a-h,_=this.iterator(f);(p=_())&&g<a+l;){var w=p.length();a>g?u(p,a-g,Math.min(l,g+w-a)):u(p,0,Math.min(w,a+l-g)),g+=w}},s.prototype.map=function(a){return this.reduce(function(l,u){return l.push(a(u)),l},[])},s.prototype.reduce=function(a,l){for(var u,c=this.iterator();u=c();)l=a(l,u);return l},s}();r.default=o},function(n,r,i){var o=this&&this.__extends||function(){var f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,p){h.__proto__=p}||function(h,p){for(var g in p)p.hasOwnProperty(g)&&(h[g]=p[g])};return function(h,p){f(h,p);function g(){this.constructor=h}h.prototype=p===null?Object.create(p):(g.prototype=p.prototype,new g)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(17),a=i(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},u=100,c=function(f){o(h,f);function h(p){var g=f.call(this,p)||this;return g.scroll=g,g.observer=new MutationObserver(function(_){g.update(_)}),g.observer.observe(g.domNode,l),g.attach(),g}return h.prototype.detach=function(){f.prototype.detach.call(this),this.observer.disconnect()},h.prototype.deleteAt=function(p,g){this.update(),p===0&&g===this.length()?this.children.forEach(function(_){_.remove()}):f.prototype.deleteAt.call(this,p,g)},h.prototype.formatAt=function(p,g,_,w){this.update(),f.prototype.formatAt.call(this,p,g,_,w)},h.prototype.insertAt=function(p,g,_){this.update(),f.prototype.insertAt.call(this,p,g,_)},h.prototype.optimize=function(p,g){var _=this;p===void 0&&(p=[]),g===void 0&&(g={}),f.prototype.optimize.call(this,g);for(var w=[].slice.call(this.observer.takeRecords());w.length>0;)p.push(w.pop());for(var b=function(I,O){O===void 0&&(O=!0),!(I==null||I===_)&&I.domNode.parentNode!=null&&(I.domNode[a.DATA_KEY].mutations==null&&(I.domNode[a.DATA_KEY].mutations=[]),O&&b(I.parent))},v=function(I){I.domNode[a.DATA_KEY]==null||I.domNode[a.DATA_KEY].mutations==null||(I instanceof s.default&&I.children.forEach(v),I.optimize(g))},y=p,x=0;y.length>0;x+=1){if(x>=u)throw new Error("[Parchment] Maximum optimize iterations reached");for(y.forEach(function(I){var O=a.find(I.target,!0);O!=null&&(O.domNode===I.target&&(I.type==="childList"?(b(a.find(I.previousSibling,!1)),[].forEach.call(I.addedNodes,function(S){var C=a.find(S,!1);b(C,!1),C instanceof s.default&&C.children.forEach(function(k){b(k,!1)})})):I.type==="attributes"&&b(O.prev)),b(O))}),this.children.forEach(v),y=[].slice.call(this.observer.takeRecords()),w=y.slice();w.length>0;)p.push(w.pop())}},h.prototype.update=function(p,g){var _=this;g===void 0&&(g={}),p=p||this.observer.takeRecords(),p.map(function(w){var b=a.find(w.target,!0);return b==null?null:b.domNode[a.DATA_KEY].mutations==null?(b.domNode[a.DATA_KEY].mutations=[w],b):(b.domNode[a.DATA_KEY].mutations.push(w),null)}).forEach(function(w){w==null||w===_||w.domNode[a.DATA_KEY]==null||w.update(w.domNode[a.DATA_KEY].mutations||[],g)}),this.domNode[a.DATA_KEY].mutations!=null&&f.prototype.update.call(this,this.domNode[a.DATA_KEY].mutations,g),this.optimize(p,g)},h.blotName="scroll",h.defaultChild="block",h.scope=a.Scope.BLOCK_BLOT,h.tagName="DIV",h}(s.default);r.default=c},function(n,r,i){var o=this&&this.__extends||function(){var c=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,h){f.__proto__=h}||function(f,h){for(var p in h)h.hasOwnProperty(p)&&(f[p]=h[p])};return function(f,h){c(f,h);function p(){this.constructor=f}f.prototype=h===null?Object.create(h):(p.prototype=h.prototype,new p)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1);function l(c,f){if(Object.keys(c).length!==Object.keys(f).length)return!1;for(var h in c)if(c[h]!==f[h])return!1;return!0}var u=function(c){o(f,c);function f(){return c!==null&&c.apply(this,arguments)||this}return f.formats=function(h){if(h.tagName!==f.tagName)return c.formats.call(this,h)},f.prototype.format=function(h,p){var g=this;h===this.statics.blotName&&!p?(this.children.forEach(function(_){_ instanceof s.default||(_=_.wrap(f.blotName,!0)),g.attributes.copy(_)}),this.unwrap()):c.prototype.format.call(this,h,p)},f.prototype.formatAt=function(h,p,g,_){if(this.formats()[g]!=null||a.query(g,a.Scope.ATTRIBUTE)){var w=this.isolate(h,p);w.format(g,_)}else c.prototype.formatAt.call(this,h,p,g,_)},f.prototype.optimize=function(h){c.prototype.optimize.call(this,h);var p=this.formats();if(Object.keys(p).length===0)return this.unwrap();var g=this.next;g instanceof f&&g.prev===this&&l(p,g.formats())&&(g.moveChildren(this),g.remove())},f.blotName="inline",f.scope=a.Scope.INLINE_BLOT,f.tagName="SPAN",f}(s.default);r.default=u},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(18),a=i(1),l=function(u){o(c,u);function c(){return u!==null&&u.apply(this,arguments)||this}return c.formats=function(f){var h=a.query(c.blotName).tagName;if(f.tagName!==h)return u.formats.call(this,f)},c.prototype.format=function(f,h){a.query(f,a.Scope.BLOCK)!=null&&(f===this.statics.blotName&&!h?this.replaceWith(c.blotName):u.prototype.format.call(this,f,h))},c.prototype.formatAt=function(f,h,p,g){a.query(p,a.Scope.BLOCK)!=null?this.format(p,g):u.prototype.formatAt.call(this,f,h,p,g)},c.prototype.insertAt=function(f,h,p){if(p==null||a.query(h,a.Scope.INLINE)!=null)u.prototype.insertAt.call(this,f,h,p);else{var g=this.split(f),_=a.create(h,p);g.parent.insertBefore(_,g)}},c.prototype.update=function(f,h){navigator.userAgent.match(/Trident/)?this.build():u.prototype.update.call(this,f,h)},c.blotName="block",c.scope=a.Scope.BLOCK_BLOT,c.tagName="P",c}(s.default);r.default=l},function(n,r,i){var o=this&&this.__extends||function(){var l=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,c){u.__proto__=c}||function(u,c){for(var f in c)c.hasOwnProperty(f)&&(u[f]=c[f])};return function(u,c){l(u,c);function f(){this.constructor=u}u.prototype=c===null?Object.create(c):(f.prototype=c.prototype,new f)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=function(l){o(u,l);function u(){return l!==null&&l.apply(this,arguments)||this}return u.formats=function(c){},u.prototype.format=function(c,f){l.prototype.formatAt.call(this,0,this.length(),c,f)},u.prototype.formatAt=function(c,f,h,p){c===0&&f===this.length()?this.format(h,p):l.prototype.formatAt.call(this,c,f,h,p)},u.prototype.formats=function(){return this.statics.formats(this.domNode)},u}(s.default);r.default=a},function(n,r,i){var o=this&&this.__extends||function(){var u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var h in f)f.hasOwnProperty(h)&&(c[h]=f[h])};return function(c,f){u(c,f);function h(){this.constructor=c}c.prototype=f===null?Object.create(f):(h.prototype=f.prototype,new h)}}();Object.defineProperty(r,"__esModule",{value:!0});var s=i(19),a=i(1),l=function(u){o(c,u);function c(f){var h=u.call(this,f)||this;return h.text=h.statics.value(h.domNode),h}return c.create=function(f){return document.createTextNode(f)},c.value=function(f){var h=f.data;return h.normalize&&(h=h.normalize()),h},c.prototype.deleteAt=function(f,h){this.domNode.data=this.text=this.text.slice(0,f)+this.text.slice(f+h)},c.prototype.index=function(f,h){return this.domNode===f?h:-1},c.prototype.insertAt=function(f,h,p){p==null?(this.text=this.text.slice(0,f)+h+this.text.slice(f),this.domNode.data=this.text):u.prototype.insertAt.call(this,f,h,p)},c.prototype.length=function(){return this.text.length},c.prototype.optimize=function(f){u.prototype.optimize.call(this,f),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof c&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},c.prototype.position=function(f,h){return[this.domNode,f]},c.prototype.split=function(f,h){if(h===void 0&&(h=!1),!h){if(f===0)return this;if(f===this.length())return this.next}var p=a.create(this.domNode.splitText(f));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},c.prototype.update=function(f,h){var p=this;f.some(function(g){return g.type==="characterData"&&g.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},c.prototype.value=function(){return this.text},c.blotName="text",c.scope=a.Scope.INLINE_BLOT,c}(s.default);r.default=l},function(n,r,i){var o=document.createElement("div");if(o.classList.toggle("test-class",!1),o.classList.contains("test-class")){var s=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(a,l){return arguments.length>1&&!this.contains(a)==!l?l:s.call(this,a)}}String.prototype.startsWith||(String.prototype.startsWith=function(a,l){return l=l||0,this.substr(l,a.length)===a}),String.prototype.endsWith||(String.prototype.endsWith=function(a,l){var u=this.toString();(typeof l!="number"||!isFinite(l)||Math.floor(l)!==l||l>u.length)&&(l=u.length),l-=a.length;var c=u.indexOf(a,l);return c!==-1&&c===l}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(l){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof l!="function")throw new TypeError("predicate must be a function");for(var u=Object(this),c=u.length>>>0,f=arguments[1],h,p=0;p<c;p++)if(h=u[p],l.call(f,h,p,u))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(n,r){var i=-1,o=1,s=0;function a(x,I,O){if(x==I)return x?[[s,x]]:[];(O<0||x.length<O)&&(O=null);var S=f(x,I),C=x.substring(0,S);x=x.substring(S),I=I.substring(S),S=h(x,I);var k=x.substring(x.length-S);x=x.substring(0,x.length-S),I=I.substring(0,I.length-S);var P=l(x,I);return C&&P.unshift([s,C]),k&&P.push([s,k]),g(P),O!=null&&(P=b(P,O)),P=v(P),P}function l(x,I){var O;if(!x)return[[o,I]];if(!I)return[[i,x]];var S=x.length>I.length?x:I,C=x.length>I.length?I:x,k=S.indexOf(C);if(k!=-1)return O=[[o,S.substring(0,k)],[s,C],[o,S.substring(k+C.length)]],x.length>I.length&&(O[0][0]=O[2][0]=i),O;if(C.length==1)return[[i,x],[o,I]];var P=p(x,I);if(P){var R=P[0],L=P[1],N=P[2],V=P[3],F=P[4],z=a(R,N),B=a(L,V);return z.concat([[s,F]],B)}return u(x,I)}function u(x,I){for(var O=x.length,S=I.length,C=Math.ceil((O+S)/2),k=C,P=2*C,R=new Array(P),L=new Array(P),N=0;N<P;N++)R[N]=-1,L[N]=-1;R[k+1]=0,L[k+1]=0;for(var V=O-S,F=V%2!=0,z=0,B=0,W=0,Q=0,G=0;G<C;G++){for(var j=-G+z;j<=G-B;j+=2){var U=k+j,K;j==-G||j!=G&&R[U-1]<R[U+1]?K=R[U+1]:K=R[U-1]+1;for(var ne=K-j;K<O&&ne<S&&x.charAt(K)==I.charAt(ne);)K++,ne++;if(R[U]=K,K>O)B+=2;else if(ne>S)z+=2;else if(F){var oe=k+V-j;if(oe>=0&&oe<P&&L[oe]!=-1){var X=O-L[oe];if(K>=X)return c(x,I,K,ne)}}}for(var Z=-G+W;Z<=G-Q;Z+=2){var oe=k+Z,X;Z==-G||Z!=G&&L[oe-1]<L[oe+1]?X=L[oe+1]:X=L[oe-1]+1;for(var re=X-Z;X<O&&re<S&&x.charAt(O-X-1)==I.charAt(S-re-1);)X++,re++;if(L[oe]=X,X>O)Q+=2;else if(re>S)W+=2;else if(!F){var U=k+V-Z;if(U>=0&&U<P&&R[U]!=-1){var K=R[U],ne=k+K-U;if(X=O-X,K>=X)return c(x,I,K,ne)}}}}return[[i,x],[o,I]]}function c(x,I,O,S){var C=x.substring(0,O),k=I.substring(0,S),P=x.substring(O),R=I.substring(S),L=a(C,k),N=a(P,R);return L.concat(N)}function f(x,I){if(!x||!I||x.charAt(0)!=I.charAt(0))return 0;for(var O=0,S=Math.min(x.length,I.length),C=S,k=0;O<C;)x.substring(k,C)==I.substring(k,C)?(O=C,k=O):S=C,C=Math.floor((S-O)/2+O);return C}function h(x,I){if(!x||!I||x.charAt(x.length-1)!=I.charAt(I.length-1))return 0;for(var O=0,S=Math.min(x.length,I.length),C=S,k=0;O<C;)x.substring(x.length-C,x.length-k)==I.substring(I.length-C,I.length-k)?(O=C,k=O):S=C,C=Math.floor((S-O)/2+O);return C}function p(x,I){var O=x.length>I.length?x:I,S=x.length>I.length?I:x;if(O.length<4||S.length*2<O.length)return null;function C(B,W,Q){for(var G=B.substring(Q,Q+Math.floor(B.length/4)),j=-1,U="",K,ne,oe,X;(j=W.indexOf(G,j+1))!=-1;){var Z=f(B.substring(Q),W.substring(j)),re=h(B.substring(0,Q),W.substring(0,j));U.length<re+Z&&(U=W.substring(j-re,j)+W.substring(j,j+Z),K=B.substring(0,Q-re),ne=B.substring(Q+Z),oe=W.substring(0,j-re),X=W.substring(j+Z))}return U.length*2>=B.length?[K,ne,oe,X,U]:null}var k=C(O,S,Math.ceil(O.length/4)),P=C(O,S,Math.ceil(O.length/2)),R;if(!k&&!P)return null;P?k?R=k[4].length>P[4].length?k:P:R=P:R=k;var L,N,V,F;x.length>I.length?(L=R[0],N=R[1],V=R[2],F=R[3]):(V=R[0],F=R[1],L=R[2],N=R[3]);var z=R[4];return[L,N,V,F,z]}function g(x){x.push([s,""]);for(var I=0,O=0,S=0,C="",k="",P;I<x.length;)switch(x[I][0]){case o:S++,k+=x[I][1],I++;break;case i:O++,C+=x[I][1],I++;break;case s:O+S>1?(O!==0&&S!==0&&(P=f(k,C),P!==0&&(I-O-S>0&&x[I-O-S-1][0]==s?x[I-O-S-1][1]+=k.substring(0,P):(x.splice(0,0,[s,k.substring(0,P)]),I++),k=k.substring(P),C=C.substring(P)),P=h(k,C),P!==0&&(x[I][1]=k.substring(k.length-P)+x[I][1],k=k.substring(0,k.length-P),C=C.substring(0,C.length-P))),O===0?x.splice(I-S,O+S,[o,k]):S===0?x.splice(I-O,O+S,[i,C]):x.splice(I-O-S,O+S,[i,C],[o,k]),I=I-O-S+(O?1:0)+(S?1:0)+1):I!==0&&x[I-1][0]==s?(x[I-1][1]+=x[I][1],x.splice(I,1)):I++,S=0,O=0,C="",k="";break}x[x.length-1][1]===""&&x.pop();var R=!1;for(I=1;I<x.length-1;)x[I-1][0]==s&&x[I+1][0]==s&&(x[I][1].substring(x[I][1].length-x[I-1][1].length)==x[I-1][1]?(x[I][1]=x[I-1][1]+x[I][1].substring(0,x[I][1].length-x[I-1][1].length),x[I+1][1]=x[I-1][1]+x[I+1][1],x.splice(I-1,1),R=!0):x[I][1].substring(0,x[I+1][1].length)==x[I+1][1]&&(x[I-1][1]+=x[I+1][1],x[I][1]=x[I][1].substring(x[I+1][1].length)+x[I+1][1],x.splice(I+1,1),R=!0)),I++;R&&g(x)}var _=a;_.INSERT=o,_.DELETE=i,_.EQUAL=s,n.exports=_;function w(x,I){if(I===0)return[s,x];for(var O=0,S=0;S<x.length;S++){var C=x[S];if(C[0]===i||C[0]===s){var k=O+C[1].length;if(I===k)return[S+1,x];if(I<k){x=x.slice();var P=I-O,R=[C[0],C[1].slice(0,P)],L=[C[0],C[1].slice(P)];return x.splice(S,1,R,L),[S+1,x]}else O=k}}throw new Error("cursor_pos is out of bounds!")}function b(x,I){var O=w(x,I),S=O[1],C=O[0],k=S[C],P=S[C+1];if(k==null)return x;if(k[0]!==s)return x;if(P!=null&&k[1]+P[1]===P[1]+k[1])return S.splice(C,2,P,k),y(S,C,2);if(P!=null&&P[1].indexOf(k[1])===0){S.splice(C,2,[P[0],k[1]],[0,k[1]]);var R=P[1].slice(k[1].length);return R.length>0&&S.splice(C+2,0,[P[0],R]),y(S,C,3)}else return x}function v(x){for(var I=!1,O=function(P){return P.charCodeAt(0)>=56320&&P.charCodeAt(0)<=57343},S=function(P){return P.charCodeAt(P.length-1)>=55296&&P.charCodeAt(P.length-1)<=56319},C=2;C<x.length;C+=1)x[C-2][0]===s&&S(x[C-2][1])&&x[C-1][0]===i&&O(x[C-1][1])&&x[C][0]===o&&O(x[C][1])&&(I=!0,x[C-1][1]=x[C-2][1].slice(-1)+x[C-1][1],x[C][1]=x[C-2][1].slice(-1)+x[C][1],x[C-2][1]=x[C-2][1].slice(0,-1));if(!I)return x;for(var k=[],C=0;C<x.length;C+=1)x[C][1].length>0&&k.push(x[C]);return k}function y(x,I,O){for(var S=I+O-1;S>=0&&S>=I-1;S--)if(S+1<x.length){var C=x[S],k=x[S+1];C[0]===k[1]&&x.splice(S,2,[C[0],C[1]+k[1]])}return x}},function(n,r){r=n.exports=typeof Object.keys=="function"?Object.keys:i,r.shim=i;function i(o){var s=[];for(var a in o)s.push(a);return s}},function(n,r){var i=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";r=n.exports=i?o:s,r.supported=o;function o(a){return Object.prototype.toString.call(a)=="[object Arguments]"}r.unsupported=s;function s(a){return a&&typeof a=="object"&&typeof a.length=="number"&&Object.prototype.hasOwnProperty.call(a,"callee")&&!Object.prototype.propertyIsEnumerable.call(a,"callee")||!1}},function(n,r){var i=Object.prototype.hasOwnProperty,o="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(o=!1));function a(u,c,f){this.fn=u,this.context=c,this.once=f||!1}function l(){this._events=new s,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],f,h;if(this._eventsCount===0)return c;for(h in f=this._events)i.call(f,h)&&c.push(o?h.slice(1):h);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(f)):c},l.prototype.listeners=function(c,f){var h=o?o+c:c,p=this._events[h];if(f)return!!p;if(!p)return[];if(p.fn)return[p.fn];for(var g=0,_=p.length,w=new Array(_);g<_;g++)w[g]=p[g].fn;return w},l.prototype.emit=function(c,f,h,p,g,_){var w=o?o+c:c;if(!this._events[w])return!1;var b=this._events[w],v=arguments.length,y,x;if(b.fn){switch(b.once&&this.removeListener(c,b.fn,void 0,!0),v){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,h),!0;case 4:return b.fn.call(b.context,f,h,p),!0;case 5:return b.fn.call(b.context,f,h,p,g),!0;case 6:return b.fn.call(b.context,f,h,p,g,_),!0}for(x=1,y=new Array(v-1);x<v;x++)y[x-1]=arguments[x];b.fn.apply(b.context,y)}else{var I=b.length,O;for(x=0;x<I;x++)switch(b[x].once&&this.removeListener(c,b[x].fn,void 0,!0),v){case 1:b[x].fn.call(b[x].context);break;case 2:b[x].fn.call(b[x].context,f);break;case 3:b[x].fn.call(b[x].context,f,h);break;case 4:b[x].fn.call(b[x].context,f,h,p);break;default:if(!y)for(O=1,y=new Array(v-1);O<v;O++)y[O-1]=arguments[O];b[x].fn.apply(b[x].context,y)}}return!0},l.prototype.on=function(c,f,h){var p=new a(f,h||this),g=o?o+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],p]:this._events[g].push(p):(this._events[g]=p,this._eventsCount++),this},l.prototype.once=function(c,f,h){var p=new a(f,h||this,!0),g=o?o+c:c;return this._events[g]?this._events[g].fn?this._events[g]=[this._events[g],p]:this._events[g].push(p):(this._events[g]=p,this._eventsCount++),this},l.prototype.removeListener=function(c,f,h,p){var g=o?o+c:c;if(!this._events[g])return this;if(!f)return--this._eventsCount===0?this._events=new s:delete this._events[g],this;var _=this._events[g];if(_.fn)_.fn===f&&(!p||_.once)&&(!h||_.context===h)&&(--this._eventsCount===0?this._events=new s:delete this._events[g]);else{for(var w=0,b=[],v=_.length;w<v;w++)(_[w].fn!==f||p&&!_[w].once||h&&_[w].context!==h)&&b.push(_[w]);b.length?this._events[g]=b.length===1?b[0]:b:--this._eventsCount===0?this._events=new s:delete this._events[g]}return this},l.prototype.removeAllListeners=function(c){var f;return c?(f=o?o+c:c,this._events[f]&&(--this._eventsCount===0?this._events=new s:delete this._events[f])):(this._events=new s,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prototype.setMaxListeners=function(){return this},l.prefixed=o,l.EventEmitter=l,typeof n<"u"&&(n.exports=l)},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.matchText=r.matchSpacing=r.matchNewline=r.matchBlot=r.matchAttributor=r.default=void 0;var o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(he){return typeof he}:function(he){return he&&typeof Symbol=="function"&&he.constructor===Symbol&&he!==Symbol.prototype?"symbol":typeof he},s=function(){function he(_e,Te){var me=[],Se=!0,He=!1,Qe=void 0;try{for(var ct=_e[Symbol.iterator](),xt;!(Se=(xt=ct.next()).done)&&(me.push(xt.value),!(Te&&me.length===Te));Se=!0);}catch(yt){He=!0,Qe=yt}finally{try{!Se&&ct.return&&ct.return()}finally{if(He)throw Qe}}return me}return function(_e,Te){if(Array.isArray(_e))return _e;if(Symbol.iterator in Object(_e))return he(_e,Te);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function he(_e,Te){for(var me=0;me<Te.length;me++){var Se=Te[me];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(_e,Se.key,Se)}}return function(_e,Te,me){return Te&&he(_e.prototype,Te),me&&he(_e,me),_e}}(),l=i(3),u=L(l),c=i(2),f=L(c),h=i(0),p=L(h),g=i(5),_=L(g),w=i(10),b=L(w),v=i(9),y=L(v),x=i(36),I=i(37),O=i(13),S=L(O),C=i(26),k=i(38),P=i(39),R=i(40);function L(he){return he&&he.__esModule?he:{default:he}}function N(he,_e,Te){return _e in he?Object.defineProperty(he,_e,{value:Te,enumerable:!0,configurable:!0,writable:!0}):he[_e]=Te,he}function V(he,_e){if(!(he instanceof _e))throw new TypeError("Cannot call a class as a function")}function F(he,_e){if(!he)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e&&(typeof _e=="object"||typeof _e=="function")?_e:he}function z(he,_e){if(typeof _e!="function"&&_e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _e);he.prototype=Object.create(_e&&_e.prototype,{constructor:{value:he,enumerable:!1,writable:!0,configurable:!0}}),_e&&(Object.setPrototypeOf?Object.setPrototypeOf(he,_e):he.__proto__=_e)}var B=(0,b.default)("quill:clipboard"),W="__ql-matcher",Q=[[Node.TEXT_NODE,Oe],[Node.TEXT_NODE,we],["br",fe],[Node.ELEMENT_NODE,we],[Node.ELEMENT_NODE,te],[Node.ELEMENT_NODE,Ce],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,Ue],["li",ve],["b",re.bind(re,"bold")],["i",re.bind(re,"italic")],["style",be]],G=[x.AlignAttribute,k.DirectionAttribute].reduce(function(he,_e){return he[_e.keyName]=_e,he},{}),j=[x.AlignStyle,I.BackgroundStyle,C.ColorStyle,k.DirectionStyle,P.FontStyle,R.SizeStyle].reduce(function(he,_e){return he[_e.keyName]=_e,he},{}),U=function(he){z(_e,he);function _e(Te,me){V(this,_e);var Se=F(this,(_e.__proto__||Object.getPrototypeOf(_e)).call(this,Te,me));return Se.quill.root.addEventListener("paste",Se.onPaste.bind(Se)),Se.container=Se.quill.addContainer("ql-clipboard"),Se.container.setAttribute("contenteditable",!0),Se.container.setAttribute("tabindex",-1),Se.matchers=[],Q.concat(Se.options.matchers).forEach(function(He){var Qe=s(He,2),ct=Qe[0],xt=Qe[1];!me.matchVisual&&xt===Ce||Se.addMatcher(ct,xt)}),Se}return a(_e,[{key:"addMatcher",value:function(me,Se){this.matchers.push([me,Se])}},{key:"convert",value:function(me){if(typeof me=="string")return this.container.innerHTML=me.replace(/\>\r?\n +\</g,"><"),this.convert();var Se=this.quill.getFormat(this.quill.selection.savedRange.index);if(Se[S.default.blotName]){var He=this.container.innerText;return this.container.innerHTML="",new f.default().insert(He,N({},S.default.blotName,Se[S.default.blotName]))}var Qe=this.prepareMatching(),ct=s(Qe,2),xt=ct[0],yt=ct[1],ot=Z(this.container,xt,yt);return oe(ot,`
`)&&ot.ops[ot.ops.length-1].attributes==null&&(ot=ot.compose(new f.default().retain(ot.length()-1).delete(1))),B.log("convert",this.container.innerHTML,ot),this.container.innerHTML="",ot}},{key:"dangerouslyPasteHTML",value:function(me,Se){var He=arguments.length>2&&arguments[2]!==void 0?arguments[2]:_.default.sources.API;if(typeof me=="string")this.quill.setContents(this.convert(me),Se),this.quill.setSelection(0,_.default.sources.SILENT);else{var Qe=this.convert(Se);this.quill.updateContents(new f.default().retain(me).concat(Qe),He),this.quill.setSelection(me+Qe.length(),_.default.sources.SILENT)}}},{key:"onPaste",value:function(me){var Se=this;if(!(me.defaultPrevented||!this.quill.isEnabled())){var He=this.quill.getSelection(),Qe=new f.default().retain(He.index),ct=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(_.default.sources.SILENT),setTimeout(function(){Qe=Qe.concat(Se.convert()).delete(He.length),Se.quill.updateContents(Qe,_.default.sources.USER),Se.quill.setSelection(Qe.length()-He.length,_.default.sources.SILENT),Se.quill.scrollingContainer.scrollTop=ct,Se.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var me=this,Se=[],He=[];return this.matchers.forEach(function(Qe){var ct=s(Qe,2),xt=ct[0],yt=ct[1];switch(xt){case Node.TEXT_NODE:He.push(yt);break;case Node.ELEMENT_NODE:Se.push(yt);break;default:[].forEach.call(me.container.querySelectorAll(xt),function(ot){ot[W]=ot[W]||[],ot[W].push(yt)});break}}),[Se,He]}}]),_e}(y.default);U.DEFAULTS={matchers:[],matchVisual:!0};function K(he,_e,Te){return(typeof _e>"u"?"undefined":o(_e))==="object"?Object.keys(_e).reduce(function(me,Se){return K(me,Se,_e[Se])},he):he.reduce(function(me,Se){return Se.attributes&&Se.attributes[_e]?me.push(Se):me.insert(Se.insert,(0,u.default)({},N({},_e,Te),Se.attributes))},new f.default)}function ne(he){if(he.nodeType!==Node.ELEMENT_NODE)return{};var _e="__ql-computed-style";return he[_e]||(he[_e]=window.getComputedStyle(he))}function oe(he,_e){for(var Te="",me=he.ops.length-1;me>=0&&Te.length<_e.length;--me){var Se=he.ops[me];if(typeof Se.insert!="string")break;Te=Se.insert+Te}return Te.slice(-1*_e.length)===_e}function X(he){if(he.childNodes.length===0)return!1;var _e=ne(he);return["block","list-item"].indexOf(_e.display)>-1}function Z(he,_e,Te){return he.nodeType===he.TEXT_NODE?Te.reduce(function(me,Se){return Se(he,me)},new f.default):he.nodeType===he.ELEMENT_NODE?[].reduce.call(he.childNodes||[],function(me,Se){var He=Z(Se,_e,Te);return Se.nodeType===he.ELEMENT_NODE&&(He=_e.reduce(function(Qe,ct){return ct(Se,Qe)},He),He=(Se[W]||[]).reduce(function(Qe,ct){return ct(Se,Qe)},He)),me.concat(He)},new f.default):new f.default}function re(he,_e,Te){return K(Te,he,!0)}function ue(he,_e){var Te=p.default.Attributor.Attribute.keys(he),me=p.default.Attributor.Class.keys(he),Se=p.default.Attributor.Style.keys(he),He={};return Te.concat(me).concat(Se).forEach(function(Qe){var ct=p.default.query(Qe,p.default.Scope.ATTRIBUTE);ct!=null&&(He[ct.attrName]=ct.value(he),He[ct.attrName])||(ct=G[Qe],ct!=null&&(ct.attrName===Qe||ct.keyName===Qe)&&(He[ct.attrName]=ct.value(he)||void 0),ct=j[Qe],ct!=null&&(ct.attrName===Qe||ct.keyName===Qe)&&(ct=j[Qe],He[ct.attrName]=ct.value(he)||void 0))}),Object.keys(He).length>0&&(_e=K(_e,He)),_e}function te(he,_e){var Te=p.default.query(he);if(Te==null)return _e;if(Te.prototype instanceof p.default.Embed){var me={},Se=Te.value(he);Se!=null&&(me[Te.blotName]=Se,_e=new f.default().insert(me,Te.formats(he)))}else typeof Te.formats=="function"&&(_e=K(_e,Te.blotName,Te.formats(he)));return _e}function fe(he,_e){return oe(_e,`
`)||_e.insert(`
`),_e}function be(){return new f.default}function ve(he,_e){var Te=p.default.query(he);if(Te==null||Te.blotName!=="list-item"||!oe(_e,`
`))return _e;for(var me=-1,Se=he.parentNode;!Se.classList.contains("ql-clipboard");)(p.default.query(Se)||{}).blotName==="list"&&(me+=1),Se=Se.parentNode;return me<=0?_e:_e.compose(new f.default().retain(_e.length()-1).retain(1,{indent:me}))}function we(he,_e){return oe(_e,`
`)||(X(he)||_e.length()>0&&he.nextSibling&&X(he.nextSibling))&&_e.insert(`
`),_e}function Ce(he,_e){if(X(he)&&he.nextElementSibling!=null&&!oe(_e,`

`)){var Te=he.offsetHeight+parseFloat(ne(he).marginTop)+parseFloat(ne(he).marginBottom);he.nextElementSibling.offsetTop>he.offsetTop+Te*1.5&&_e.insert(`
`)}return _e}function Ue(he,_e){var Te={},me=he.style||{};return me.fontStyle&&ne(he).fontStyle==="italic"&&(Te.italic=!0),me.fontWeight&&(ne(he).fontWeight.startsWith("bold")||parseInt(ne(he).fontWeight)>=700)&&(Te.bold=!0),Object.keys(Te).length>0&&(_e=K(_e,Te)),parseFloat(me.textIndent||0)>0&&(_e=new f.default().insert("	").concat(_e)),_e}function Oe(he,_e){var Te=he.data;if(he.parentNode.tagName==="O:P")return _e.insert(Te.trim());if(Te.trim().length===0&&he.parentNode.classList.contains("ql-clipboard"))return _e;if(!ne(he.parentNode).whiteSpace.startsWith("pre")){var me=function(He,Qe){return Qe=Qe.replace(/[^\u00a0]/g,""),Qe.length<1&&He?" ":Qe};Te=Te.replace(/\r\n/g," ").replace(/\n/g," "),Te=Te.replace(/\s\s+/g,me.bind(me,!0)),(he.previousSibling==null&&X(he.parentNode)||he.previousSibling!=null&&X(he.previousSibling))&&(Te=Te.replace(/^\s+/,me.bind(me,!1))),(he.nextSibling==null&&X(he.parentNode)||he.nextSibling!=null&&X(he.nextSibling))&&(Te=Te.replace(/\s+$/,me.bind(me,!1)))}return _e.insert(Te)}r.default=U,r.matchAttributor=ue,r.matchBlot=te,r.matchNewline=we,r.matchSpacing=Ce,r.matchText=Oe},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(_,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,w,b){return w&&g(_.prototype,w),b&&g(_,b),_}}(),s=function g(_,w,b){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,w);if(v===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:g(y,w,b)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(b)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function f(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function h(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){h(_,g);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,[{key:"optimize",value:function(b){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"optimize",this).call(this,b),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),_}(l.default);p.blotName="bold",p.tagName=["STRONG","B"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.addControls=r.default=void 0;var o=function(){function R(L,N){var V=[],F=!0,z=!1,B=void 0;try{for(var W=L[Symbol.iterator](),Q;!(F=(Q=W.next()).done)&&(V.push(Q.value),!(N&&V.length===N));F=!0);}catch(G){z=!0,B=G}finally{try{!F&&W.return&&W.return()}finally{if(z)throw B}}return V}return function(L,N){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return R(L,N);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function R(L,N){for(var V=0;V<N.length;V++){var F=N[V];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(L,F.key,F)}}return function(L,N,V){return N&&R(L.prototype,N),V&&R(L,V),L}}(),a=i(2),l=b(a),u=i(0),c=b(u),f=i(5),h=b(f),p=i(10),g=b(p),_=i(9),w=b(_);function b(R){return R&&R.__esModule?R:{default:R}}function v(R,L,N){return L in R?Object.defineProperty(R,L,{value:N,enumerable:!0,configurable:!0,writable:!0}):R[L]=N,R}function y(R,L){if(!(R instanceof L))throw new TypeError("Cannot call a class as a function")}function x(R,L){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return L&&(typeof L=="object"||typeof L=="function")?L:R}function I(R,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);R.prototype=Object.create(L&&L.prototype,{constructor:{value:R,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(R,L):R.__proto__=L)}var O=(0,g.default)("quill:toolbar"),S=function(R){I(L,R);function L(N,V){y(this,L);var F=x(this,(L.__proto__||Object.getPrototypeOf(L)).call(this,N,V));if(Array.isArray(F.options.container)){var z=document.createElement("div");k(z,F.options.container),N.container.parentNode.insertBefore(z,N.container),F.container=z}else typeof F.options.container=="string"?F.container=document.querySelector(F.options.container):F.container=F.options.container;if(!(F.container instanceof HTMLElement)){var B;return B=O.error("Container required for toolbar",F.options),x(F,B)}return F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(W){F.addHandler(W,F.options.handlers[W])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(W){F.attach(W)}),F.quill.on(h.default.events.EDITOR_CHANGE,function(W,Q){W===h.default.events.SELECTION_CHANGE&&F.update(Q)}),F.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){var W=F.quill.selection.getRange(),Q=o(W,1),G=Q[0];F.update(G)}),F}return s(L,[{key:"addHandler",value:function(V,F){this.handlers[V]=F}},{key:"attach",value:function(V){var F=this,z=[].find.call(V.classList,function(W){return W.indexOf("ql-")===0});if(z){if(z=z.slice(3),V.tagName==="BUTTON"&&V.setAttribute("type","button"),this.handlers[z]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[z]==null){O.warn("ignoring attaching to disabled format",z,V);return}if(c.default.query(z)==null){O.warn("ignoring attaching to nonexistent format",z,V);return}}var B=V.tagName==="SELECT"?"change":"click";V.addEventListener(B,function(W){var Q=void 0;if(V.tagName==="SELECT"){if(V.selectedIndex<0)return;var G=V.options[V.selectedIndex];G.hasAttribute("selected")?Q=!1:Q=G.value||!1}else V.classList.contains("ql-active")?Q=!1:Q=V.value||!V.hasAttribute("value"),W.preventDefault();F.quill.focus();var j=F.quill.selection.getRange(),U=o(j,1),K=U[0];if(F.handlers[z]!=null)F.handlers[z].call(F,Q);else if(c.default.query(z).prototype instanceof c.default.Embed){if(Q=prompt("Enter "+z),!Q)return;F.quill.updateContents(new l.default().retain(K.index).delete(K.length).insert(v({},z,Q)),h.default.sources.USER)}else F.quill.format(z,Q,h.default.sources.USER);F.update(K)}),this.controls.push([z,V])}}},{key:"update",value:function(V){var F=V==null?{}:this.quill.getFormat(V);this.controls.forEach(function(z){var B=o(z,2),W=B[0],Q=B[1];if(Q.tagName==="SELECT"){var G=void 0;if(V==null)G=null;else if(F[W]==null)G=Q.querySelector("option[selected]");else if(!Array.isArray(F[W])){var j=F[W];typeof j=="string"&&(j=j.replace(/\"/g,'\\"')),G=Q.querySelector('option[value="'+j+'"]')}G==null?(Q.value="",Q.selectedIndex=-1):G.selected=!0}else if(V==null)Q.classList.remove("ql-active");else if(Q.hasAttribute("value")){var U=F[W]===Q.getAttribute("value")||F[W]!=null&&F[W].toString()===Q.getAttribute("value")||F[W]==null&&!Q.getAttribute("value");Q.classList.toggle("ql-active",U)}else Q.classList.toggle("ql-active",F[W]!=null)})}}]),L}(w.default);S.DEFAULTS={};function C(R,L,N){var V=document.createElement("button");V.setAttribute("type","button"),V.classList.add("ql-"+L),N!=null&&(V.value=N),R.appendChild(V)}function k(R,L){Array.isArray(L[0])||(L=[L]),L.forEach(function(N){var V=document.createElement("span");V.classList.add("ql-formats"),N.forEach(function(F){if(typeof F=="string")C(V,F);else{var z=Object.keys(F)[0],B=F[z];Array.isArray(B)?P(V,z,B):C(V,z,B)}}),R.appendChild(V)})}function P(R,L,N){var V=document.createElement("select");V.classList.add("ql-"+L),N.forEach(function(F){var z=document.createElement("option");F!==!1?z.setAttribute("value",F):z.setAttribute("selected","selected"),V.appendChild(z)}),R.appendChild(V)}S.DEFAULTS={container:null,handlers:{clean:function(){var L=this,N=this.quill.getSelection();if(N!=null)if(N.length==0){var V=this.quill.getFormat();Object.keys(V).forEach(function(F){c.default.query(F,c.default.Scope.INLINE)!=null&&L.quill.format(F,!1)})}else this.quill.removeFormat(N,h.default.sources.USER)},direction:function(L){var N=this.quill.getFormat().align;L==="rtl"&&N==null?this.quill.format("align","right",h.default.sources.USER):!L&&N==="right"&&this.quill.format("align",!1,h.default.sources.USER),this.quill.format("direction",L,h.default.sources.USER)},indent:function(L){var N=this.quill.getSelection(),V=this.quill.getFormat(N),F=parseInt(V.indent||0);if(L==="+1"||L==="-1"){var z=L==="+1"?1:-1;V.direction==="rtl"&&(z*=-1),this.quill.format("indent",F+z,h.default.sources.USER)}},link:function(L){L===!0&&(L=prompt("Enter link URL:")),this.quill.format("link",L,h.default.sources.USER)},list:function(L){var N=this.quill.getSelection(),V=this.quill.getFormat(N);L==="check"?V.list==="checked"||V.list==="unchecked"?this.quill.format("list",!1,h.default.sources.USER):this.quill.format("list","unchecked",h.default.sources.USER):this.quill.format("list",L,h.default.sources.USER)}}},r.default=S,r.addControls=k},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(_,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,w,b){return w&&g(_.prototype,w),b&&g(_,b),_}}(),s=function g(_,w,b){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,w);if(v===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:g(y,w,b)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(b)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function f(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function h(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){h(_,g);function _(w,b){c(this,_);var v=f(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return v.label.innerHTML=b,v.container.classList.add("ql-color-picker"),[].slice.call(v.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(y){y.classList.add("ql-primary")}),v}return o(_,[{key:"buildItem",value:function(b){var v=s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"buildItem",this).call(this,b);return v.style.backgroundColor=b.getAttribute("value")||"",v}},{key:"selectItem",value:function(b,v){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,b,v);var y=this.label.querySelector(".ql-color-label"),x=b&&b.getAttribute("data-value")||"";y&&(y.tagName==="line"?y.style.stroke=x:y.style.fill=x)}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(_,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,w,b){return w&&g(_.prototype,w),b&&g(_,b),_}}(),s=function g(_,w,b){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,w);if(v===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:g(y,w,b)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(b)}},a=i(28),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function f(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function h(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){h(_,g);function _(w,b){c(this,_);var v=f(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,w));return v.container.classList.add("ql-icon-picker"),[].forEach.call(v.container.querySelectorAll(".ql-picker-item"),function(y){y.innerHTML=b[y.getAttribute("data-value")||""]}),v.defaultItem=v.container.querySelector(".ql-selected"),v.selectItem(v.defaultItem),v}return o(_,[{key:"selectItem",value:function(b,v){s(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"selectItem",this).call(this,b,v),b=b||this.defaultItem,this.label.innerHTML=b.innerHTML}}]),_}(l.default);r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function l(u,c){for(var f=0;f<c.length;f++){var h=c[f];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(u,h.key,h)}}return function(u,c,f){return c&&l(u.prototype,c),f&&l(u,f),u}}();function s(l,u){if(!(l instanceof u))throw new TypeError("Cannot call a class as a function")}var a=function(){function l(u,c){var f=this;s(this,l),this.quill=u,this.boundsContainer=c||document.body,this.root=u.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){f.root.style.marginTop=-1*f.quill.root.scrollTop+"px"}),this.hide()}return o(l,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(c){var f=c.left+c.width/2-this.root.offsetWidth/2,h=c.bottom+this.quill.root.scrollTop;this.root.style.left=f+"px",this.root.style.top=h+"px",this.root.classList.remove("ql-flip");var p=this.boundsContainer.getBoundingClientRect(),g=this.root.getBoundingClientRect(),_=0;if(g.right>p.right&&(_=p.right-g.right,this.root.style.left=f+_+"px"),g.left<p.left&&(_=p.left-g.left,this.root.style.left=f+_+"px"),g.bottom>p.bottom){var w=g.bottom-g.top,b=c.bottom-c.top+w;this.root.style.top=h-b+"px",this.root.classList.add("ql-flip")}return _}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),l}();r.default=a},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function P(R,L){var N=[],V=!0,F=!1,z=void 0;try{for(var B=R[Symbol.iterator](),W;!(V=(W=B.next()).done)&&(N.push(W.value),!(L&&N.length===L));V=!0);}catch(Q){F=!0,z=Q}finally{try{!V&&B.return&&B.return()}finally{if(F)throw z}}return N}return function(R,L){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return P(R,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function P(R,L,N){R===null&&(R=Function.prototype);var V=Object.getOwnPropertyDescriptor(R,L);if(V===void 0){var F=Object.getPrototypeOf(R);return F===null?void 0:P(F,L,N)}else{if("value"in V)return V.value;var z=V.get;return z===void 0?void 0:z.call(N)}},a=function(){function P(R,L){for(var N=0;N<L.length;N++){var V=L[N];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(R,V.key,V)}}return function(R,L,N){return L&&P(R.prototype,L),N&&P(R,N),R}}(),l=i(3),u=y(l),c=i(8),f=y(c),h=i(43),p=y(h),g=i(27),_=y(g),w=i(15),b=i(41),v=y(b);function y(P){return P&&P.__esModule?P:{default:P}}function x(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function I(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return R&&(typeof R=="object"||typeof R=="function")?R:P}function O(P,R){if(typeof R!="function"&&R!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var S=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],C=function(P){O(R,P);function R(L,N){x(this,R),N.modules.toolbar!=null&&N.modules.toolbar.container==null&&(N.modules.toolbar.container=S);var V=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,L,N));return V.quill.container.classList.add("ql-snow"),V}return a(R,[{key:"extendToolbar",value:function(N){N.container.classList.add("ql-snow"),this.buildButtons([].slice.call(N.container.querySelectorAll("button")),v.default),this.buildPickers([].slice.call(N.container.querySelectorAll("select")),v.default),this.tooltip=new k(this.quill,this.options.bounds),N.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(V,F){N.handlers.link.call(N,!F.format.link)})}}]),R}(p.default);C.DEFAULTS=(0,u.default)(!0,{},p.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(R){if(R){var L=this.quill.getSelection();if(L==null||L.length==0)return;var N=this.quill.getText(L);/^\S+@\S+\.\S+$/.test(N)&&N.indexOf("mailto:")!==0&&(N="mailto:"+N);var V=this.quill.theme.tooltip;V.edit("link",N)}else this.quill.format("link",!1)}}}}});var k=function(P){O(R,P);function R(L,N){x(this,R);var V=I(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,L,N));return V.preview=V.root.querySelector("a.ql-preview"),V}return a(R,[{key:"listen",value:function(){var N=this;s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(V){N.root.classList.contains("ql-editing")?N.save():N.edit("link",N.preview.textContent),V.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(V){if(N.linkRange!=null){var F=N.linkRange;N.restoreFocus(),N.quill.formatText(F,"link",!1,f.default.sources.USER),delete N.linkRange}V.preventDefault(),N.hide()}),this.quill.on(f.default.events.SELECTION_CHANGE,function(V,F,z){if(V!=null){if(V.length===0&&z===f.default.sources.USER){var B=N.quill.scroll.descendant(_.default,V.index),W=o(B,2),Q=W[0],G=W[1];if(Q!=null){N.linkRange=new w.Range(V.index-G,Q.length());var j=_.default.formats(Q.domNode);N.preview.textContent=j,N.preview.setAttribute("href",j),N.show(),N.position(N.quill.getBounds(N.linkRange));return}}else delete N.linkRange;N.hide()}})}},{key:"show",value:function(){s(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),R}(h.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),r.default=C},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(29),s=Se(o),a=i(36),l=i(38),u=i(64),c=i(65),f=Se(c),h=i(66),p=Se(h),g=i(67),_=Se(g),w=i(37),b=i(26),v=i(39),y=i(40),x=i(56),I=Se(x),O=i(68),S=Se(O),C=i(27),k=Se(C),P=i(69),R=Se(P),L=i(70),N=Se(L),V=i(71),F=Se(V),z=i(72),B=Se(z),W=i(73),Q=Se(W),G=i(13),j=Se(G),U=i(74),K=Se(U),ne=i(75),oe=Se(ne),X=i(57),Z=Se(X),re=i(41),ue=Se(re),te=i(28),fe=Se(te),be=i(59),ve=Se(be),we=i(60),Ce=Se(we),Ue=i(61),Oe=Se(Ue),he=i(108),_e=Se(he),Te=i(62),me=Se(Te);function Se(He){return He&&He.__esModule?He:{default:He}}s.default.register({"attributors/attribute/direction":l.DirectionAttribute,"attributors/class/align":a.AlignClass,"attributors/class/background":w.BackgroundClass,"attributors/class/color":b.ColorClass,"attributors/class/direction":l.DirectionClass,"attributors/class/font":v.FontClass,"attributors/class/size":y.SizeClass,"attributors/style/align":a.AlignStyle,"attributors/style/background":w.BackgroundStyle,"attributors/style/color":b.ColorStyle,"attributors/style/direction":l.DirectionStyle,"attributors/style/font":v.FontStyle,"attributors/style/size":y.SizeStyle},!0),s.default.register({"formats/align":a.AlignClass,"formats/direction":l.DirectionClass,"formats/indent":u.IndentClass,"formats/background":w.BackgroundStyle,"formats/color":b.ColorStyle,"formats/font":v.FontClass,"formats/size":y.SizeClass,"formats/blockquote":f.default,"formats/code-block":j.default,"formats/header":p.default,"formats/list":_.default,"formats/bold":I.default,"formats/code":G.Code,"formats/italic":S.default,"formats/link":k.default,"formats/script":R.default,"formats/strike":N.default,"formats/underline":F.default,"formats/image":B.default,"formats/video":Q.default,"formats/list/item":g.ListItem,"modules/formula":K.default,"modules/syntax":oe.default,"modules/toolbar":Z.default,"themes/bubble":_e.default,"themes/snow":me.default,"ui/icons":ue.default,"ui/picker":fe.default,"ui/icon-picker":Ce.default,"ui/color-picker":ve.default,"ui/tooltip":Oe.default},!0),r.default=s.default},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.IndentClass=void 0;var o=function(){function _(w,b){for(var v=0;v<b.length;v++){var y=b[v];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(w,y.key,y)}}return function(w,b,v){return b&&_(w.prototype,b),v&&_(w,v),w}}(),s=function _(w,b,v){w===null&&(w=Function.prototype);var y=Object.getOwnPropertyDescriptor(w,b);if(y===void 0){var x=Object.getPrototypeOf(w);return x===null?void 0:_(x,b,v)}else{if("value"in y)return y.value;var I=y.get;return I===void 0?void 0:I.call(v)}},a=i(0),l=u(a);function u(_){return _&&_.__esModule?_:{default:_}}function c(_,w){if(!(_ instanceof w))throw new TypeError("Cannot call a class as a function")}function f(_,w){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return w&&(typeof w=="object"||typeof w=="function")?w:_}function h(_,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);_.prototype=Object.create(w&&w.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(_,w):_.__proto__=w)}var p=function(_){h(w,_);function w(){return c(this,w),f(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return o(w,[{key:"add",value:function(v,y){if(y==="+1"||y==="-1"){var x=this.value(v)||0;y=y==="+1"?x+1:x-1}return y===0?(this.remove(v),!0):s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"add",this).call(this,v,y)}},{key:"canAdd",value:function(v,y){return s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,v,y)||s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"canAdd",this).call(this,v,parseInt(y))}},{key:"value",value:function(v){return parseInt(s(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"value",this).call(this,v))||void 0}}]),w}(l.default.Attributor.Class),g=new p("indent","ql-indent",{scope:l.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});r.IndentClass=g},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(4),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);f.blotName="blockquote",f.tagName="blockquote",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function p(g,_){for(var w=0;w<_.length;w++){var b=_[w];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,_,w){return _&&p(g.prototype,_),w&&p(g,w),g}}(),s=i(4),a=l(s);function l(p){return p&&p.__esModule?p:{default:p}}function u(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")}function c(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p}function f(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)}var h=function(p){f(g,p);function g(){return u(this,g),c(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return o(g,null,[{key:"formats",value:function(w){return this.tagName.indexOf(w.tagName)+1}}]),g}(a.default);h.blotName="header",h.tagName=["H1","H2","H3","H4","H5","H6"],r.default=h},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.ListItem=void 0;var o=function(){function x(I,O){for(var S=0;S<O.length;S++){var C=O[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(I,C.key,C)}}return function(I,O,S){return O&&x(I.prototype,O),S&&x(I,S),I}}(),s=function x(I,O,S){I===null&&(I=Function.prototype);var C=Object.getOwnPropertyDescriptor(I,O);if(C===void 0){var k=Object.getPrototypeOf(I);return k===null?void 0:x(k,O,S)}else{if("value"in C)return C.value;var P=C.get;return P===void 0?void 0:P.call(S)}},a=i(0),l=p(a),u=i(4),c=p(u),f=i(25),h=p(f);function p(x){return x&&x.__esModule?x:{default:x}}function g(x,I,O){return I in x?Object.defineProperty(x,I,{value:O,enumerable:!0,configurable:!0,writable:!0}):x[I]=O,x}function _(x,I){if(!(x instanceof I))throw new TypeError("Cannot call a class as a function")}function w(x,I){if(!x)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return I&&(typeof I=="object"||typeof I=="function")?I:x}function b(x,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);x.prototype=Object.create(I&&I.prototype,{constructor:{value:x,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(x,I):x.__proto__=I)}var v=function(x){b(I,x);function I(){return _(this,I),w(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return o(I,[{key:"format",value:function(S,C){S===y.blotName&&!C?this.replaceWith(l.default.create(this.statics.scope)):s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"format",this).call(this,S,C)}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,C){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,C),this):(this.parent.unwrap(),s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,S,C))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:s(I.__proto__||Object.getPrototypeOf(I),"formats",this).call(this,S)}}]),I}(c.default);v.blotName="list-item",v.tagName="LI";var y=function(x){b(I,x),o(I,null,[{key:"create",value:function(S){var C=S==="ordered"?"OL":"UL",k=s(I.__proto__||Object.getPrototypeOf(I),"create",this).call(this,C);return(S==="checked"||S==="unchecked")&&k.setAttribute("data-checked",S==="checked"),k}},{key:"formats",value:function(S){if(S.tagName==="OL")return"ordered";if(S.tagName==="UL")return S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet"}}]);function I(O){_(this,I);var S=w(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O)),C=function(P){if(P.target.parentNode===O){var R=S.statics.formats(O),L=l.default.find(P.target);R==="checked"?L.format("list","unchecked"):R==="unchecked"&&L.format("list","checked")}};return O.addEventListener("touchstart",C),O.addEventListener("mousedown",C),S}return o(I,[{key:"format",value:function(S,C){this.children.length>0&&this.children.tail.format(S,C)}},{key:"formats",value:function(){return g({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(S,C){if(S instanceof v)s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"insertBefore",this).call(this,S,C);else{var k=C==null?this.length():C.offset(this),P=this.split(k);P.parent.insertBefore(S,P)}}},{key:"optimize",value:function(S){s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"optimize",this).call(this,S);var C=this.next;C!=null&&C.prev===this&&C.statics.blotName===this.statics.blotName&&C.domNode.tagName===this.domNode.tagName&&C.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(C.moveChildren(this),C.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var C=l.default.create(this.statics.defaultChild);S.moveChildren(C),this.appendChild(C)}s(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replace",this).call(this,S)}}]),I}(h.default);y.blotName="list",y.scope=l.default.Scope.BLOCK_BLOT,y.tagName=["OL","UL"],y.defaultChild="list-item",y.allowedChildren=[v],r.ListItem=v,r.default=y},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(56),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);f.blotName="italic",f.tagName=["EM","I"],r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function g(_,w){for(var b=0;b<w.length;b++){var v=w[b];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,w,b){return w&&g(_.prototype,w),b&&g(_,b),_}}(),s=function g(_,w,b){_===null&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,w);if(v===void 0){var y=Object.getPrototypeOf(_);return y===null?void 0:g(y,w,b)}else{if("value"in v)return v.value;var x=v.get;return x===void 0?void 0:x.call(b)}},a=i(6),l=u(a);function u(g){return g&&g.__esModule?g:{default:g}}function c(g,_){if(!(g instanceof _))throw new TypeError("Cannot call a class as a function")}function f(g,_){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _&&(typeof _=="object"||typeof _=="function")?_:g}function h(g,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);g.prototype=Object.create(_&&_.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(g,_):g.__proto__=_)}var p=function(g){h(_,g);function _(){return c(this,_),f(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,null,[{key:"create",value:function(b){return b==="super"?document.createElement("sup"):b==="sub"?document.createElement("sub"):s(_.__proto__||Object.getPrototypeOf(_),"create",this).call(this,b)}},{key:"formats",value:function(b){if(b.tagName==="SUB")return"sub";if(b.tagName==="SUP")return"super"}}]),_}(l.default);p.blotName="script",p.tagName=["SUB","SUP"],r.default=p},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);f.blotName="strike",f.tagName="S",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=i(6),s=a(o);function a(h){return h&&h.__esModule?h:{default:h}}function l(h,p){if(!(h instanceof p))throw new TypeError("Cannot call a class as a function")}function u(h,p){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return p&&(typeof p=="object"||typeof p=="function")?p:h}function c(h,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);h.prototype=Object.create(p&&p.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(h,p):h.__proto__=p)}var f=function(h){c(p,h);function p(){return l(this,p),u(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return p}(s.default);f.blotName="underline",f.tagName="U",r.default=f},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(b,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,y){return v&&w(b.prototype,v),y&&w(b,y),b}}(),s=function w(b,v,y){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,v);if(x===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,v,y)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(y)}},a=i(0),l=c(a),u=i(27);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["alt","height","width"],_=function(w){p(b,w);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(y,x){g.indexOf(y)>-1?x?this.domNode.setAttribute(y,x):this.domNode.removeAttribute(y):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,x)}}],[{key:"create",value:function(y){var x=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,y);return typeof y=="string"&&x.setAttribute("src",this.sanitize(y)),x}},{key:"formats",value:function(y){return g.reduce(function(x,I){return y.hasAttribute(I)&&(x[I]=y.getAttribute(I)),x},{})}},{key:"match",value:function(y){return/\.(jpe?g|gif|png)$/.test(y)||/^data:image\/.+;base64/.test(y)}},{key:"sanitize",value:function(y){return(0,u.sanitize)(y,["http","https","data"])?y:"//:0"}},{key:"value",value:function(y){return y.getAttribute("src")}}]),b}(l.default.Embed);_.blotName="image",_.tagName="IMG",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0});var o=function(){function w(b,v){for(var y=0;y<v.length;y++){var x=v[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(b,x.key,x)}}return function(b,v,y){return v&&w(b.prototype,v),y&&w(b,y),b}}(),s=function w(b,v,y){b===null&&(b=Function.prototype);var x=Object.getOwnPropertyDescriptor(b,v);if(x===void 0){var I=Object.getPrototypeOf(b);return I===null?void 0:w(I,v,y)}else{if("value"in x)return x.value;var O=x.get;return O===void 0?void 0:O.call(y)}},a=i(4),l=i(27),u=c(l);function c(w){return w&&w.__esModule?w:{default:w}}function f(w,b){if(!(w instanceof b))throw new TypeError("Cannot call a class as a function")}function h(w,b){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b&&(typeof b=="object"||typeof b=="function")?b:w}function p(w,b){if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof b);w.prototype=Object.create(b&&b.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(w,b):w.__proto__=b)}var g=["height","width"],_=function(w){p(b,w);function b(){return f(this,b),h(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return o(b,[{key:"format",value:function(y,x){g.indexOf(y)>-1?x?this.domNode.setAttribute(y,x):this.domNode.removeAttribute(y):s(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"format",this).call(this,y,x)}}],[{key:"create",value:function(y){var x=s(b.__proto__||Object.getPrototypeOf(b),"create",this).call(this,y);return x.setAttribute("frameborder","0"),x.setAttribute("allowfullscreen",!0),x.setAttribute("src",this.sanitize(y)),x}},{key:"formats",value:function(y){return g.reduce(function(x,I){return y.hasAttribute(I)&&(x[I]=y.getAttribute(I)),x},{})}},{key:"sanitize",value:function(y){return u.default.sanitize(y)}},{key:"value",value:function(y){return y.getAttribute("src")}}]),b}(a.BlockEmbed);_.blotName="video",_.className="ql-video",_.tagName="IFRAME",r.default=_},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.FormulaBlot=void 0;var o=function(){function y(x,I){for(var O=0;O<I.length;O++){var S=I[O];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(x,S.key,S)}}return function(x,I,O){return I&&y(x.prototype,I),O&&y(x,O),x}}(),s=function y(x,I,O){x===null&&(x=Function.prototype);var S=Object.getOwnPropertyDescriptor(x,I);if(S===void 0){var C=Object.getPrototypeOf(x);return C===null?void 0:y(C,I,O)}else{if("value"in S)return S.value;var k=S.get;return k===void 0?void 0:k.call(O)}},a=i(35),l=p(a),u=i(5),c=p(u),f=i(9),h=p(f);function p(y){return y&&y.__esModule?y:{default:y}}function g(y,x){if(!(y instanceof x))throw new TypeError("Cannot call a class as a function")}function _(y,x){if(!y)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x&&(typeof x=="object"||typeof x=="function")?x:y}function w(y,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof x);y.prototype=Object.create(x&&x.prototype,{constructor:{value:y,enumerable:!1,writable:!0,configurable:!0}}),x&&(Object.setPrototypeOf?Object.setPrototypeOf(y,x):y.__proto__=x)}var b=function(y){w(x,y);function x(){return g(this,x),_(this,(x.__proto__||Object.getPrototypeOf(x)).apply(this,arguments))}return o(x,null,[{key:"create",value:function(O){var S=s(x.__proto__||Object.getPrototypeOf(x),"create",this).call(this,O);return typeof O=="string"&&(window.katex.render(O,S,{throwOnError:!1,errorColor:"#f00"}),S.setAttribute("data-value",O)),S}},{key:"value",value:function(O){return O.getAttribute("data-value")}}]),x}(l.default);b.blotName="formula",b.className="ql-formula",b.tagName="SPAN";var v=function(y){w(x,y),o(x,null,[{key:"register",value:function(){c.default.register(b,!0)}}]);function x(){g(this,x);var I=_(this,(x.__proto__||Object.getPrototypeOf(x)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return I}return x}(h.default);r.FormulaBlot=b,r.default=v},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.CodeToken=r.CodeBlock=void 0;var o=function(){function O(S,C){for(var k=0;k<C.length;k++){var P=C[k];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(S,P.key,P)}}return function(S,C,k){return C&&O(S.prototype,C),k&&O(S,k),S}}(),s=function O(S,C,k){S===null&&(S=Function.prototype);var P=Object.getOwnPropertyDescriptor(S,C);if(P===void 0){var R=Object.getPrototypeOf(S);return R===null?void 0:O(R,C,k)}else{if("value"in P)return P.value;var L=P.get;return L===void 0?void 0:L.call(k)}},a=i(0),l=_(a),u=i(5),c=_(u),f=i(9),h=_(f),p=i(13),g=_(p);function _(O){return O&&O.__esModule?O:{default:O}}function w(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}function b(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S&&(typeof S=="object"||typeof S=="function")?S:O}function v(O,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}var y=function(O){v(S,O);function S(){return w(this,S),b(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return o(S,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),s(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=k(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),S}(g.default);y.className="ql-syntax";var x=new l.default.Attributor.Class("token","hljs",{scope:l.default.Scope.INLINE}),I=function(O){v(S,O),o(S,null,[{key:"register",value:function(){c.default.register(x,!0),c.default.register(y,!0)}}]);function S(C,k){w(this,S);var P=b(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,C,k));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var R=null;return P.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(R),R=setTimeout(function(){P.highlight(),R=null},P.options.interval)}),P.highlight(),P}return o(S,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(c.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(y).forEach(function(R){R.highlight(k.options.highlight)}),this.quill.update(c.default.sources.SILENT),P!=null&&this.quill.setSelection(P,c.default.sources.SILENT)}}}]),S}(h.default);I.DEFAULTS={highlight:function(){return window.hljs==null?null:function(O){var S=window.hljs.highlightAuto(O);return S.value}}(),interval:1e3},r.CodeBlock=y,r.CodeToken=x,r.default=I},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(n,r){n.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(n,r){n.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(n,r){n.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(n,r,i){Object.defineProperty(r,"__esModule",{value:!0}),r.default=r.BubbleTooltip=void 0;var o=function S(C,k,P){C===null&&(C=Function.prototype);var R=Object.getOwnPropertyDescriptor(C,k);if(R===void 0){var L=Object.getPrototypeOf(C);return L===null?void 0:S(L,k,P)}else{if("value"in R)return R.value;var N=R.get;return N===void 0?void 0:N.call(P)}},s=function(){function S(C,k){for(var P=0;P<k.length;P++){var R=k[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(C,R.key,R)}}return function(C,k,P){return k&&S(C.prototype,k),P&&S(C,P),C}}(),a=i(3),l=w(a),u=i(8),c=w(u),f=i(43),h=w(f),p=i(15),g=i(41),_=w(g);function w(S){return S&&S.__esModule?S:{default:S}}function b(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function v(S,C){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return C&&(typeof C=="object"||typeof C=="function")?C:S}function y(S,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);S.prototype=Object.create(C&&C.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(S,C):S.__proto__=C)}var x=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],I=function(S){y(C,S);function C(k,P){b(this,C),P.modules.toolbar!=null&&P.modules.toolbar.container==null&&(P.modules.toolbar.container=x);var R=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,k,P));return R.quill.container.classList.add("ql-bubble"),R}return s(C,[{key:"extendToolbar",value:function(P){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(P.container),this.buildButtons([].slice.call(P.container.querySelectorAll("button")),_.default),this.buildPickers([].slice.call(P.container.querySelectorAll("select")),_.default)}}]),C}(h.default);I.DEFAULTS=(0,l.default)(!0,{},h.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){C?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(S){y(C,S);function C(k,P){b(this,C);var R=v(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,k,P));return R.quill.on(c.default.events.EDITOR_CHANGE,function(L,N,V,F){if(L===c.default.events.SELECTION_CHANGE)if(N!=null&&N.length>0&&F===c.default.sources.USER){R.show(),R.root.style.left="0px",R.root.style.width="",R.root.style.width=R.root.offsetWidth+"px";var z=R.quill.getLines(N.index,N.length);if(z.length===1)R.position(R.quill.getBounds(N));else{var B=z[z.length-1],W=R.quill.getIndex(B),Q=Math.min(B.length()-1,N.index+N.length-W),G=R.quill.getBounds(new p.Range(W,Q));R.position(G)}}else document.activeElement!==R.textbox&&R.quill.hasFocus()&&R.hide()}),R}return s(C,[{key:"listen",value:function(){var P=this;o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){P.root.classList.remove("ql-editing")}),this.quill.on(c.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!P.root.classList.contains("ql-hidden")){var R=P.quill.getSelection();R!=null&&P.position(P.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(P){var R=o(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,P),L=this.root.querySelector(".ql-tooltip-arrow");if(L.style.marginLeft="",R===0)return R;L.style.marginLeft=-1*R-L.offsetWidth/2+"px"}}]),C}(f.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),r.BubbleTooltip=O,r.default=I},function(n,r,i){n.exports=i(63)}]).default})})(fq);var bAe=fq.exports,_Ae=Gn&&Gn.__extends||function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var o in i)i.hasOwnProperty(o)&&(r[o]=i[o])},t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),Zw=Gn&&Gn.__assign||function(){return Zw=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t},Zw.apply(this,arguments)},wAe=Gn&&Gn.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},lE=Gn&&Gn.__importDefault||function(t){return t&&t.__esModule?t:{default:t}},ka=lE(D),xAe=lE(Yp),mg=lE(yAe),$M=lE(bAe),EAe=function(t){_Ae(e,t);function e(n){var r=t.call(this,n)||this;r.dirtyProps=["modules","formats","bounds","theme","children"],r.cleanProps=["id","className","style","placeholder","tabIndex","onChange","onChangeSelection","onFocus","onBlur","onKeyPress","onKeyDown","onKeyUp"],r.state={generation:0},r.selection=null,r.onEditorChange=function(o,s,a,l){var u,c,f,h;o==="text-change"?(c=(u=r).onEditorChangeText)===null||c===void 0||c.call(u,r.editor.root.innerHTML,s,l,r.unprivilegedEditor):o==="selection-change"&&((h=(f=r).onEditorChangeSelection)===null||h===void 0||h.call(f,s,l,r.unprivilegedEditor))};var i=r.isControlled()?n.value:n.defaultValue;return r.value=i??"",r}return e.prototype.validateProps=function(n){var r;if(ka.default.Children.count(n.children)>1)throw new Error("The Quill editing area can only be composed of a single React element.");if(ka.default.Children.count(n.children)){var i=ka.default.Children.only(n.children);if(((r=i)===null||r===void 0?void 0:r.type)==="textarea")throw new Error("Quill does not support editing on a <textarea>. Use a <div> instead.")}if(this.lastDeltaChangeSet&&n.value===this.lastDeltaChangeSet)throw new Error("You are passing the `delta` object from the `onChange` event back as `value`. You most probably want `editor.getContents()` instead. See: https://github.com/zenoamaro/react-quill#using-deltas")},e.prototype.shouldComponentUpdate=function(n,r){var i=this,o;if(this.validateProps(n),!this.editor||this.state.generation!==r.generation)return!0;if("value"in n){var s=this.getEditorContents(),a=(o=n.value,o??"");this.isEqualValue(a,s)||this.setEditorContents(this.editor,a)}return n.readOnly!==this.props.readOnly&&this.setEditorReadOnly(this.editor,n.readOnly),wAe(this.cleanProps,this.dirtyProps).some(function(l){return!mg.default(n[l],i.props[l])})},e.prototype.shouldComponentRegenerate=function(n){var r=this;return this.dirtyProps.some(function(i){return!mg.default(n[i],r.props[i])})},e.prototype.componentDidMount=function(){this.instantiateEditor(),this.setEditorContents(this.editor,this.getEditorContents())},e.prototype.componentWillUnmount=function(){this.destroyEditor()},e.prototype.componentDidUpdate=function(n,r){var i=this;if(this.editor&&this.shouldComponentRegenerate(n)){var o=this.editor.getContents(),s=this.editor.getSelection();this.regenerationSnapshot={delta:o,selection:s},this.setState({generation:this.state.generation+1}),this.destroyEditor()}if(this.state.generation!==r.generation){var a=this.regenerationSnapshot,o=a.delta,l=a.selection;delete this.regenerationSnapshot,this.instantiateEditor();var u=this.editor;u.setContents(o),MM(function(){return i.setEditorSelection(u,l)})}},e.prototype.instantiateEditor=function(){this.editor?this.hookEditor(this.editor):this.editor=this.createEditor(this.getEditingArea(),this.getEditorConfig())},e.prototype.destroyEditor=function(){this.editor&&this.unhookEditor(this.editor)},e.prototype.isControlled=function(){return"value"in this.props},e.prototype.getEditorConfig=function(){return{bounds:this.props.bounds,formats:this.props.formats,modules:this.props.modules,placeholder:this.props.placeholder,readOnly:this.props.readOnly,scrollingContainer:this.props.scrollingContainer,tabIndex:this.props.tabIndex,theme:this.props.theme}},e.prototype.getEditor=function(){if(!this.editor)throw new Error("Accessing non-instantiated editor");return this.editor},e.prototype.createEditor=function(n,r){var i=new $M.default(n,r);return r.tabIndex!=null&&this.setEditorTabIndex(i,r.tabIndex),this.hookEditor(i),i},e.prototype.hookEditor=function(n){this.unprivilegedEditor=this.makeUnprivilegedEditor(n),n.on("editor-change",this.onEditorChange)},e.prototype.unhookEditor=function(n){n.off("editor-change",this.onEditorChange)},e.prototype.getEditorContents=function(){return this.value},e.prototype.getEditorSelection=function(){return this.selection},e.prototype.isDelta=function(n){return n&&n.ops},e.prototype.isEqualValue=function(n,r){return this.isDelta(n)&&this.isDelta(r)?mg.default(n.ops,r.ops):mg.default(n,r)},e.prototype.setEditorContents=function(n,r){var i=this;this.value=r;var o=this.getEditorSelection();typeof r=="string"?n.setContents(n.clipboard.convert(r)):n.setContents(r),MM(function(){return i.setEditorSelection(n,o)})},e.prototype.setEditorSelection=function(n,r){if(this.selection=r,r){var i=n.getLength();r.index=Math.max(0,Math.min(r.index,i-1)),r.length=Math.max(0,Math.min(r.length,i-1-r.index)),n.setSelection(r)}},e.prototype.setEditorTabIndex=function(n,r){var i,o;!((o=(i=n)===null||i===void 0?void 0:i.scroll)===null||o===void 0)&&o.domNode&&(n.scroll.domNode.tabIndex=r)},e.prototype.setEditorReadOnly=function(n,r){r?n.disable():n.enable()},e.prototype.makeUnprivilegedEditor=function(n){var r=n;return{getHTML:function(){return r.root.innerHTML},getLength:r.getLength.bind(r),getText:r.getText.bind(r),getContents:r.getContents.bind(r),getSelection:r.getSelection.bind(r),getBounds:r.getBounds.bind(r)}},e.prototype.getEditingArea=function(){if(!this.editingArea)throw new Error("Instantiating on missing editing area");var n=xAe.default.findDOMNode(this.editingArea);if(!n)throw new Error("Cannot find element for editing area");if(n.nodeType===3)throw new Error("Editing area cannot be a text node");return n},e.prototype.renderEditingArea=function(){var n=this,r=this.props,i=r.children,o=r.preserveWhitespace,s=this.state.generation,a={key:s,ref:function(l){n.editingArea=l}};return ka.default.Children.count(i)?ka.default.cloneElement(ka.default.Children.only(i),a):o?ka.default.createElement("pre",Zw({},a)):ka.default.createElement("div",Zw({},a))},e.prototype.render=function(){var n;return ka.default.createElement("div",{id:this.props.id,style:this.props.style,key:this.state.generation,className:"quill "+(n=this.props.className,n??""),onKeyPress:this.props.onKeyPress,onKeyDown:this.props.onKeyDown,onKeyUp:this.props.onKeyUp},this.renderEditingArea())},e.prototype.onEditorChangeText=function(n,r,i,o){var s,a;if(this.editor){var l=this.isDelta(this.value)?o.getContents():o.getHTML();l!==this.getEditorContents()&&(this.lastDeltaChangeSet=r,this.value=l,(a=(s=this.props).onChange)===null||a===void 0||a.call(s,n,r,i,o))}},e.prototype.onEditorChangeSelection=function(n,r,i){var o,s,a,l,u,c;if(this.editor){var f=this.getEditorSelection(),h=!f&&n,p=f&&!n;mg.default(n,f)||(this.selection=n,(s=(o=this.props).onChangeSelection)===null||s===void 0||s.call(o,n,r,i),h?(l=(a=this.props).onFocus)===null||l===void 0||l.call(a,n,r,i):p&&((c=(u=this.props).onBlur)===null||c===void 0||c.call(u,f,r,i)))}},e.prototype.focus=function(){this.editor&&this.editor.focus()},e.prototype.blur=function(){this.editor&&(this.selection=null,this.editor.blur())},e.displayName="React Quill",e.Quill=$M.default,e.defaultProps={theme:"snow",modules:{},readOnly:!1},e}(ka.default.Component);function MM(t){Promise.resolve().then(t)}var IAe=EAe;const TAe=As(IAe);function ET(t){const e=nt(o=>o.pages.editorHtmlContent),n=pn(),r={toolbar:[[{font:[]}],["bold","italic","underline","strike"],["blockquote","code-block"],[{size:[]}],[{align:[]}],[{list:"ordered"},{list:"bullet"}],["link","image","video"],["clean"]]},i=["header","font","size","bold","italic","underline","strike","blockquote","code-block","list","bullet","link","image","video","align"];return E.jsx("div",{children:E.jsx(TAe,{theme:"snow",modules:r,formats:i,value:e,onChange:o=>{n(Xv(o))}})})}var jh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(jh||(jh={}));var BM=function(t){return t},FM="beforeunload",SAe="popstate";function CAe(t){t===void 0&&(t={});var e=t,n=e.window,r=n===void 0?document.defaultView:n,i=r.history;function o(){var S=r.location,C=S.pathname,k=S.search,P=S.hash,R=i.state||{};return[R.idx,BM({pathname:C,search:k,hash:P,state:R.usr||null,key:R.key||"default"})]}var s=null;function a(){if(s)p.call(s),s=null;else{var S=jh.Pop,C=o(),k=C[0],P=C[1];if(p.length){if(k!=null){var R=c-k;R&&(s={action:S,location:P,retry:function(){I(R*-1)}},I(R))}}else v(S)}}r.addEventListener(SAe,a);var l=jh.Pop,u=o(),c=u[0],f=u[1],h=UM(),p=UM();c==null&&(c=0,i.replaceState(q({},i.state,{idx:c}),""));function g(S){return typeof S=="string"?S:kAe(S)}function _(S,C){return C===void 0&&(C=null),BM(q({pathname:f.pathname,hash:"",search:""},typeof S=="string"?AAe(S):S,{state:C,key:PAe()}))}function w(S,C){return[{usr:S.state,key:S.key,idx:C},g(S)]}function b(S,C,k){return!p.length||(p.call({action:S,location:C,retry:k}),!1)}function v(S){l=S;var C=o();c=C[0],f=C[1],h.call({action:l,location:f})}function y(S,C){var k=jh.Push,P=_(S,C);function R(){y(S,C)}if(b(k,P,R)){var L=w(P,c+1),N=L[0],V=L[1];try{i.pushState(N,"",V)}catch{r.location.assign(V)}v(k)}}function x(S,C){var k=jh.Replace,P=_(S,C);function R(){x(S,C)}if(b(k,P,R)){var L=w(P,c),N=L[0],V=L[1];i.replaceState(N,"",V),v(k)}}function I(S){i.go(S)}var O={get action(){return l},get location(){return f},createHref:g,push:y,replace:x,go:I,back:function(){I(-1)},forward:function(){I(1)},listen:function(C){return h.push(C)},block:function(C){var k=p.push(C);return p.length===1&&r.addEventListener(FM,VM),function(){k(),p.length||r.removeEventListener(FM,VM)}}};return O}function VM(t){t.preventDefault(),t.returnValue=""}function UM(){var t=[];return{get length(){return t.length},push:function(n){return t.push(n),function(){t=t.filter(function(r){return r!==n})}},call:function(n){t.forEach(function(r){return r&&r(n)})}}}function PAe(){return Math.random().toString(36).substr(2,8)}function kAe(t){var e=t.pathname,n=e===void 0?"/":e,r=t.search,i=r===void 0?"":r,o=t.hash,s=o===void 0?"":o;return i&&i!=="?"&&(n+=i.charAt(0)==="?"?i:"?"+i),s&&s!=="#"&&(n+=s.charAt(0)==="#"?s:"#"+s),n}function AAe(t){var e={};if(t){var n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));var r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}const QR=CAe({forceRefresh:!0});QR.listen((t,e)=>{});class uE{constructor(e,n,r,i=Rt.now()){Ve(this,"id");Ve(this,"profile");Ve(this,"role");Ve(this,"created");this.id=e,this.profile=n,this.role=r,this.created=i}}class Ed extends uE{constructor(n,r,i,o,s=Rt.now()){super(n,r,o,s);Ve(this,"bookId");this.bookId=i}}Ve(Ed,"type","book");class bh extends uE{constructor(n,r,i,o,s=Rt.now()){super(n,r,o,s);Ve(this,"libraryId");this.libraryId=i}}Ve(bh,"type","library");class _h extends uE{constructor(n,r,i,o,s=Rt.now()){super(n,r,o,s);Ve(this,"pageId");this.pageId=i}}Ve(_h,"type","page");function YR({getRoles:t,item:e,type:n}){const r=pn(),[i,o]=D.useState([]),s=nt(y=>y.users.profilesInView);nt(y=>y.pages.editingPage);const[a,l]=D.useState(!1),[u,c]=D.useState([]),f=()=>{const y=s.filter(x=>!i.find(O=>O.profile.id==x.id));c(y)};D.useEffect(()=>{f()},[i]);const h=()=>{s!=null&&s.length>0?(f(),g(),b()):r(qw()).then(y=>{Ye(y,x=>{f(),g(),b()},x=>{})})};D.useEffect(()=>{h()},[]),D.useEffect(()=>{t(i)},[i]);const p=(y,x)=>{let I=y.readers.map(k=>{let P=s.find(R=>R&&k&&R.userId==k);if(x=="book")return new Ed(`${y.id}_${P.userId}`,P,y.id,mn.reader);if(x=="library")return new bh(`${y.id}_${P.userId}`,P,y.id,mn.reader);if(x=="page")return new _h(`${y.id}_${P.userId}`,P,y.id,mn.reader)}),O=y.commenters.map(k=>{let P=s.find(R=>R&&k&&R.userId==k);if(x=="book")return new Ed(`${y.id}_${P.userId}`,P,y.id,mn.commenter);if(x=="library")return new bh(`${y.id}_${P.userId}`,P,y.id,mn.commenter);if(x=="page")return new _h(`${y.id}_${P.userId}`,P,y.id,mn.commenter)}),S=y.editors.map(k=>{let P=s.find(R=>R&&k&&R.userId==k);if(x=="book")return new Ed(`${y.id}_${P.userId}`,P,y.id,mn.editor);if(x=="library")return new bh(`${y.id}_${P.userId}`,P,y.id,mn.editor);if(x=="page")return new _h(`${y.id}_${P.userId}`,P,y.id,mn.editor)}),C=y.writers.map(k=>{let P=s.find(R=>R&&k&&R.userId==k);if(x=="book")return new Ed(`${y.id}_${P.userId}`,P,y.id,mn.writer);if(x=="library")return new bh(`${y.id}_${P.userId}`,P,y.id,mn.writer);if(x=="page")return new _h(`${y.id}_${P.userId}`,P,y.id,mn.writer)});return new Un(O,I,C,S)},g=()=>{if(e){const y=p(e,n);o([...y.editors,...y.writers,...y.readers,...y.commenters])}};D.useEffect(()=>{g()},[e]);const _=(y,x,I,O)=>{switch(y){case"page":return new _h(`${x.id}_${I.userId}`,I,x.id,O);case"book":return new Ed(`${x.id}_${I.userId}`,I,x.id,O);case"library":return new bh(`${x.id}_${I.userId}`,I,x,O);default:return new uE(`${x.id}_${I.userId}`,I,O)}},w=(y,x)=>{const I=_(n,e,y,x);if(x.length>0){let O=u.filter(C=>y.id!=C.id);if(i.find(C=>C.id===I.id)){let k=i.map(P=>P.id==I.id?I:P);o(k)}else o(C=>[...C,I]);c(O)}else{let O=i.filter(S=>S.profile.id!=y.id);o(O),c(S=>[...S,y])}},b=()=>{const y=p(e,n);let x=[...y.writers,...y.editors,...y.readers,...y.commenters];o(x)},v=()=>i!=null&&i.length>0?E.jsx("div",{children:i.map(y=>y?E.jsxs("div",{class:"role-item",children:[E.jsx("div",{children:y.profile.username}),E.jsx("div",{children:E.jsxs(bs,{children:[E.jsx(s$,{children:y.role}),E.jsxs(o$,{style:{backgroundColor:ut.palette.primary.contrastText},children:[E.jsx(xl,{onClick:()=>w(y.profile,""),children:"Delete"}),E.jsx(xl,{onClick:()=>w(y.profile,mn.editor),children:"Editor"}),E.jsx(xl,{onClick:()=>w(y.profile,mn.writer),children:"Writer"}),E.jsx(xl,{onClick:()=>w(y.profile,mn.commenter),children:"Commenter"}),E.jsx(xl,{onClick:()=>w(y.profile,mn.reader),children:"Reader"})]})]})})]},y.profile.id):null)}):E.jsx("div",{});return E.jsxs("div",{className:"role-list",children:[E.jsx("label",{children:"Contributors   "}),E.jsx("div",{className:"item-roles",children:v()}),E.jsx("label",{children:"Users  "}),E.jsx("div",{className:"profile-list",children:E.jsx(Yr,{dataLength:u.length,next:h,hasMore:a,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:u.map(y=>E.jsxs("div",{className:"role-item",children:[y.username,E.jsxs(bs,{children:[E.jsx(s$,{children:"Role"}),E.jsxs(o$,{style:{backgroundColor:ut.palette.primary.contrastText},children:[E.jsx(xl,{onClick:()=>w(y,mn.editor),children:"Editor"}),E.jsx(xl,{onClick:()=>w(y,mn.writer),children:"Writer"}),E.jsx(xl,{onClick:()=>w(y,mn.commenter),children:"Commenter"}),E.jsx(xl,{onClick:()=>w(y,mn.reader),children:"Reader"})]})]})]},y.id))})})]})}var hq={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",s=0;s<arguments.length;s++){var a=arguments[s];a&&(o=i(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var s="";for(var a in o)e.call(o,a)&&o[a]&&(s=i(s,a));return s}function i(o,s){return s?o?o+" "+s:o+s:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(hq);var RAe=hq.exports;const Mc=As(RAe);function zM(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function OAe(t){var e=NAe(t,"string");return typeof e=="symbol"?e:String(e)}function NAe(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LAe(t,e,n){var r=D.useRef(t!==void 0),i=D.useState(e),o=i[0],s=i[1],a=t!==void 0,l=r.current;return r.current=a,!a&&l&&o!==e&&s(e),[a?t:o,D.useCallback(function(u){for(var c=arguments.length,f=new Array(c>1?c-1:0),h=1;h<c;h++)f[h-1]=arguments[h];n&&n.apply(void 0,[u].concat(f)),s(u)},[n])]}function DAe(t,e){return Object.keys(e).reduce(function(n,r){var i,o=n,s=o[zM(r)],a=o[r],l=Fe(o,[zM(r),r].map(OAe)),u=e[r],c=LAe(a,s,t[u]),f=c[0],h=c[1];return q({},l,(i={},i[r]=f,i[u]=h,i))},t)}const jAe=["xxl","xl","lg","md","sm","xs"],$Ae="xs",pq=D.createContext({prefixes:{},breakpoints:jAe,minBreakpoint:$Ae});function Bc(t,e){const{prefixes:n}=D.useContext(pq);return t||n[e]||e}function MAe(){const{dir:t}=D.useContext(pq);return t==="rtl"}function BAe(t){return t&&t.ownerDocument||document}const mq=!!(typeof window<"u"&&window.document&&window.document.createElement);var eP=!1,tP=!1;try{var IT={get passive(){return eP=!0},get once(){return tP=eP=!0}};mq&&(window.addEventListener("test",IT,IT),window.removeEventListener("test",IT,!0))}catch{}function gq(t,e,n,r){if(r&&typeof r!="boolean"&&!tP){var i=r.once,o=r.capture,s=n;!tP&&i&&(s=n.__once||function a(l){this.removeEventListener(e,a,o),n.call(this,l)},n.__once=s),t.addEventListener(e,s,eP?r:o)}t.addEventListener(e,n,r)}function FAe(t,e,n,r){var i=r&&typeof r!="boolean"?r.capture:r;t.removeEventListener(e,n,i),n.__once&&t.removeEventListener(e,n.__once,i)}function $b(t,e,n,r){return gq(t,e,n,r),function(){FAe(t,e,n,r)}}const qM=t=>!t||typeof t=="function"?t:e=>{t.current=e};function VAe(t,e){const n=qM(t),r=qM(e);return i=>{n&&n(i),r&&r(i)}}function vq(t,e){return D.useMemo(()=>VAe(t,e),[t,e])}function UAe(t){const e=D.useRef(t);return D.useEffect(()=>{e.current=t},[t]),e}function $l(t){const e=UAe(t);return D.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function zAe(){return D.useState(null)}function qAe(t,e,n,r=!1){const i=$l(n);D.useEffect(()=>{const o=typeof t=="function"?t():t;return o.addEventListener(e,i,r),()=>o.removeEventListener(e,i,r)},[t])}function HAe(){const t=D.useRef(!0),e=D.useRef(()=>t.current);return D.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function WAe(t){const e=D.useRef(null);return D.useEffect(()=>{e.current=t}),e.current}const KAe=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",GAe=typeof document<"u",QAe=GAe||KAe?D.useLayoutEffect:D.useEffect,YAe=["as","disabled"];function XAe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function JAe(t){return!t||t.trim()==="#"}function XR({tagName:t,disabled:e,href:n,target:r,rel:i,role:o,onClick:s,tabIndex:a=0,type:l}){t||(n!=null||r!=null||i!=null?t="a":t="button");const u={tagName:t};if(t==="button")return[{type:l||"button",disabled:e},u];const c=h=>{if((e||t==="a"&&JAe(n))&&h.preventDefault(),e){h.stopPropagation();return}s==null||s(h)},f=h=>{h.key===" "&&(h.preventDefault(),c(h))};return t==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:o??"button",disabled:void 0,tabIndex:e?void 0:a,href:n,target:t==="a"?r:void 0,"aria-disabled":e||void 0,rel:t==="a"?i:void 0,onClick:c,onKeyDown:f},u]}const yq=D.forwardRef((t,e)=>{let{as:n,disabled:r}=t,i=XAe(t,YAe);const[o,{tagName:s}]=XR(Object.assign({tagName:n,disabled:r},i));return E.jsx(s,Object.assign({},i,o,{ref:e}))});yq.displayName="Button";const ZAe=["onKeyDown"];function eRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tRe(t){return!t||t.trim()==="#"}const bq=D.forwardRef((t,e)=>{let{onKeyDown:n}=t,r=eRe(t,ZAe);const[i]=XR(Object.assign({tagName:"a"},r)),o=$l(s=>{i.onKeyDown(s),n==null||n(s)});return tRe(r.href)||r.role==="button"?E.jsx("a",Object.assign({ref:e},r,i,{onKeyDown:o})):E.jsx("a",Object.assign({ref:e},r,{onKeyDown:n}))});bq.displayName="Anchor";const _q=D.forwardRef(({as:t,bsPrefix:e,variant:n="primary",size:r,active:i=!1,disabled:o=!1,className:s,...a},l)=>{const u=Bc(e,"btn"),[c,{tagName:f}]=XR({tagName:t,disabled:o,...a}),h=f;return E.jsx(h,{...c,...a,ref:l,disabled:o,className:Mc(s,u,i&&"active",n&&`${u}-${n}`,r&&`${u}-${r}`,a.href&&o&&"disabled")})});_q.displayName="Button";var nRe=Function.prototype.bind.call(Function.prototype.call,[].slice);function HM(t,e){return nRe(t.querySelectorAll(e))}function rRe(t,e,n){const r=D.useRef(t!==void 0),[i,o]=D.useState(e),s=t!==void 0,a=r.current;return r.current=s,!s&&a&&i!==e&&o(e),[s?t:i,D.useCallback((...l)=>{const[u,...c]=l;let f=n==null?void 0:n(u,...c);return o(u),f},[n])]}function iRe(){const[,t]=D.useReducer(e=>!e,!1);return t}const cE=D.createContext(null);var WM=Object.prototype.hasOwnProperty;function KM(t,e,n){for(n of t.keys())if(cv(n,e))return n}function cv(t,e){var n,r,i;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&cv(t[r],e[r]););return r===-1}if(n===Set){if(t.size!==e.size)return!1;for(r of t)if(i=r,i&&typeof i=="object"&&(i=KM(e,i),!i)||!e.has(i))return!1;return!0}if(n===Map){if(t.size!==e.size)return!1;for(r of t)if(i=r[0],i&&typeof i=="object"&&(i=KM(e,i),!i)||!cv(r[1],e.get(i)))return!1;return!0}if(n===ArrayBuffer)t=new Uint8Array(t),e=new Uint8Array(e);else if(n===DataView){if((r=t.byteLength)===e.byteLength)for(;r--&&t.getInt8(r)===e.getInt8(r););return r===-1}if(ArrayBuffer.isView(t)){if((r=t.byteLength)===e.byteLength)for(;r--&&t[r]===e[r];);return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(WM.call(t,n)&&++r&&!WM.call(e,n)||!(n in e)||!cv(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}function oRe(t){const e=HAe();return[t[0],D.useCallback(n=>{if(e())return t[1](n)},[e,t[1]])]}const sRe=K9({defaultModifiers:[z9,H9,M9,B9,q9,U9,W9,$9]}),aRe=["enabled","placement","strategy","modifiers"];function lRe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const uRe={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},cRe={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:t})=>()=>{const{reference:e,popper:n}=t.elements;if("removeAttribute"in e){const r=(e.getAttribute("aria-describedby")||"").split(",").filter(i=>i.trim()!==n.id);r.length?e.setAttribute("aria-describedby",r.join(",")):e.removeAttribute("aria-describedby")}},fn:({state:t})=>{var e;const{popper:n,reference:r}=t.elements,i=(e=n.getAttribute("role"))==null?void 0:e.toLowerCase();if(n.id&&i==="tooltip"&&"setAttribute"in r){const o=r.getAttribute("aria-describedby");if(o&&o.split(",").indexOf(n.id)!==-1)return;r.setAttribute("aria-describedby",o?`${o},${n.id}`:n.id)}}},dRe=[];function fRe(t,e,n={}){let{enabled:r=!0,placement:i="bottom",strategy:o="absolute",modifiers:s=dRe}=n,a=lRe(n,aRe);const l=D.useRef(s),u=D.useRef(),c=D.useCallback(()=>{var w;(w=u.current)==null||w.update()},[]),f=D.useCallback(()=>{var w;(w=u.current)==null||w.forceUpdate()},[]),[h,p]=oRe(D.useState({placement:i,update:c,forceUpdate:f,attributes:{},styles:{popper:{},arrow:{}}})),g=D.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:w})=>{const b={},v={};Object.keys(w.elements).forEach(y=>{b[y]=w.styles[y],v[y]=w.attributes[y]}),p({state:w,styles:b,attributes:v,update:c,forceUpdate:f,placement:w.placement})}}),[c,f,p]),_=D.useMemo(()=>(cv(l.current,s)||(l.current=s),l.current),[s]);return D.useEffect(()=>{!u.current||!r||u.current.setOptions({placement:i,strategy:o,modifiers:[..._,g,uRe]})},[o,i,g,r,_]),D.useEffect(()=>{if(!(!r||t==null||e==null))return u.current=sRe(t,e,Object.assign({},a,{placement:i,strategy:o,modifiers:[..._,cRe,g]})),()=>{u.current!=null&&(u.current.destroy(),u.current=void 0,p(w=>Object.assign({},w,{attributes:{},styles:{popper:{}}})))}},[r,t,e]),h}function GM(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}var hRe=function(){},pRe=hRe;const mRe=As(pRe),QM=()=>{};function gRe(t){return t.button===0}function vRe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}const TT=t=>t&&("current"in t?t.current:t),YM={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function yRe(t,e=QM,{disabled:n,clickTrigger:r="click"}={}){const i=D.useRef(!1),o=D.useRef(!1),s=D.useCallback(u=>{const c=TT(t);mRe(!!c,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),i.current=!c||vRe(u)||!gRe(u)||!!GM(c,u.target)||o.current,o.current=!1},[t]),a=$l(u=>{const c=TT(t);c&&GM(c,u.target)&&(o.current=!0)}),l=$l(u=>{i.current||e(u)});D.useEffect(()=>{var u,c;if(n||t==null)return;const f=BAe(TT(t)),h=f.defaultView||window;let p=(u=h.event)!=null?u:(c=h.parent)==null?void 0:c.event,g=null;YM[r]&&(g=$b(f,YM[r],a,!0));const _=$b(f,r,s,!0),w=$b(f,r,v=>{if(v===p){p=void 0;return}l(v)});let b=[];return"ontouchstart"in f.documentElement&&(b=[].slice.call(f.body.children).map(v=>$b(v,"mousemove",QM))),()=>{g==null||g(),_(),w(),b.forEach(v=>v())}},[t,n,r,s,a,l])}function bRe(t){const e={};return Array.isArray(t)?(t==null||t.forEach(n=>{e[n.name]=n}),e):t||e}function _Re(t={}){return Array.isArray(t)?t:Object.keys(t).map(e=>(t[e].name=e,t[e]))}function wRe({enabled:t,enableEvents:e,placement:n,flip:r,offset:i,fixed:o,containerPadding:s,arrowElement:a,popperConfig:l={}}){var u,c,f,h,p;const g=bRe(l.modifiers);return Object.assign({},l,{placement:n,enabled:t,strategy:o?"fixed":l.strategy,modifiers:_Re(Object.assign({},g,{eventListeners:{enabled:e,options:(u=g.eventListeners)==null?void 0:u.options},preventOverflow:Object.assign({},g.preventOverflow,{options:s?Object.assign({padding:s},(c=g.preventOverflow)==null?void 0:c.options):(f=g.preventOverflow)==null?void 0:f.options}),offset:{options:Object.assign({offset:i},(h=g.offset)==null?void 0:h.options)},arrow:Object.assign({},g.arrow,{enabled:!!a,options:Object.assign({},(p=g.arrow)==null?void 0:p.options,{element:a})}),flip:Object.assign({enabled:!!r},g.flip)}))})}const xRe=["children","usePopper"];function ERe(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}const IRe=()=>{};function wq(t={}){const e=D.useContext(cE),[n,r]=zAe(),i=D.useRef(!1),{flip:o,offset:s,rootCloseEvent:a,fixed:l=!1,placement:u,popperConfig:c={},enableEventListeners:f=!0,usePopper:h=!!e}=t,p=(e==null?void 0:e.show)==null?!!t.show:e.show;p&&!i.current&&(i.current=!0);const g=O=>{e==null||e.toggle(!1,O)},{placement:_,setMenu:w,menuElement:b,toggleElement:v}=e||{},y=fRe(v,b,wRe({placement:u||_||"bottom-start",enabled:h,enableEvents:f??p,offset:s,flip:o,fixed:l,arrowElement:n,popperConfig:c})),x=Object.assign({ref:w||IRe,"aria-labelledby":v==null?void 0:v.id},y.attributes.popper,{style:y.styles.popper}),I={show:p,placement:_,hasShown:i.current,toggle:e==null?void 0:e.toggle,popper:h?y:null,arrowProps:h?Object.assign({ref:r},y.attributes.arrow,{style:y.styles.arrow}):{}};return yRe(b,g,{clickTrigger:a,disabled:!p}),[x,I]}function xq(t){let{children:e,usePopper:n=!0}=t,r=ERe(t,xRe);const[i,o]=wq(Object.assign({},r,{usePopper:n}));return E.jsx(E.Fragment,{children:e(i,o)})}xq.displayName="DropdownMenu";const e1={prefix:String(Math.round(Math.random()*1e10)),current:0},Eq=gn.createContext(e1),TRe=gn.createContext(!1);let SRe=!!(typeof window<"u"&&window.document&&window.document.createElement),ST=new WeakMap;function CRe(t=!1){let e=D.useContext(Eq),n=D.useRef(null);if(n.current===null&&!t){var r,i;let o=(i=gn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(o){let s=ST.get(o);s==null?ST.set(o,{id:e.current,state:o.memoizedState}):o.memoizedState!==s.state&&(e.current=s.id,ST.delete(o))}n.current=++e.current}return n.current}function PRe(t){let e=D.useContext(Eq);e===e1&&!SRe&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=CRe(!!t),r=`react-aria${e.prefix}`;return t||`${r}-${n}`}function kRe(t){let e=gn.useId(),[n]=D.useState(LRe()),r=n?"react-aria":`react-aria${e1.prefix}`;return t||`${r}-${e}`}const ARe=typeof gn.useId=="function"?kRe:PRe;function RRe(){return!1}function ORe(){return!0}function NRe(t){return()=>{}}function LRe(){return typeof gn.useSyncExternalStore=="function"?gn.useSyncExternalStore(NRe,RRe,ORe):D.useContext(TRe)}const Iq=t=>{var e;return((e=t.getAttribute("role"))==null?void 0:e.toLowerCase())==="menu"},XM=()=>{};function Tq(){const t=ARe(),{show:e=!1,toggle:n=XM,setToggle:r,menuElement:i}=D.useContext(cE)||{},o=D.useCallback(a=>{n(!e,a)},[e,n]),s={id:t,ref:r||XM,onClick:o,"aria-expanded":!!e};return i&&Iq(i)&&(s["aria-haspopup"]=!0),[s,{show:e,toggle:n}]}function Sq({children:t}){const[e,n]=Tq();return E.jsx(E.Fragment,{children:t(e,n)})}Sq.displayName="DropdownToggle";const nP=D.createContext(null),JM=(t,e=null)=>t!=null?String(t):e||null,Cq=D.createContext(null);Cq.displayName="NavContext";const DRe="data-rr-ui-";function Pq(t){return`${DRe}${t}`}const jRe=["eventKey","disabled","onClick","active","as"];function $Re(t,e){if(t==null)return{};var n={};for(var r in t)if({}.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function kq({key:t,href:e,active:n,disabled:r,onClick:i}){const o=D.useContext(nP),s=D.useContext(Cq),{activeKey:a}=s||{},l=JM(t,e),u=n==null&&t!=null?JM(a)===l:n;return[{onClick:$l(f=>{r||(i==null||i(f),o&&!f.isPropagationStopped()&&o(l,f))}),"aria-disabled":r||void 0,"aria-selected":u,[Pq("dropdown-item")]:""},{isActive:u}]}const Aq=D.forwardRef((t,e)=>{let{eventKey:n,disabled:r,onClick:i,active:o,as:s=yq}=t,a=$Re(t,jRe);const[l]=kq({key:n,href:a.href,disabled:r,onClick:i,active:o});return E.jsx(s,Object.assign({},a,{ref:e},l))});Aq.displayName="DropdownItem";const Rq=D.createContext(mq?window:void 0);Rq.Provider;function MRe(){return D.useContext(Rq)}function ZM(){const t=iRe(),e=D.useRef(null),n=D.useCallback(r=>{e.current=r,t()},[t]);return[e,n]}function s0({defaultShow:t,show:e,onSelect:n,onToggle:r,itemSelector:i=`* [${Pq("dropdown-item")}]`,focusFirstItemOnShow:o,placement:s="bottom-start",children:a}){const l=MRe(),[u,c]=rRe(e,t,r),[f,h]=ZM(),p=f.current,[g,_]=ZM(),w=g.current,b=WAe(u),v=D.useRef(null),y=D.useRef(!1),x=D.useContext(nP),I=D.useCallback((R,L,N=L==null?void 0:L.type)=>{c(R,{originalEvent:L,source:N})},[c]),O=$l((R,L)=>{n==null||n(R,L),I(!1,L,"select"),L.isPropagationStopped()||x==null||x(R,L)}),S=D.useMemo(()=>({toggle:I,placement:s,show:u,menuElement:p,toggleElement:w,setMenu:h,setToggle:_}),[I,s,u,p,w,h,_]);p&&b&&!u&&(y.current=p.contains(p.ownerDocument.activeElement));const C=$l(()=>{w&&w.focus&&w.focus()}),k=$l(()=>{const R=v.current;let L=o;if(L==null&&(L=f.current&&Iq(f.current)?"keyboard":!1),L===!1||L==="keyboard"&&!/^key.+$/.test(R))return;const N=HM(f.current,i)[0];N&&N.focus&&N.focus()});D.useEffect(()=>{u?k():y.current&&(y.current=!1,C())},[u,y,C,k]),D.useEffect(()=>{v.current=null});const P=(R,L)=>{if(!f.current)return null;const N=HM(f.current,i);let V=N.indexOf(R)+L;return V=Math.max(0,Math.min(V,N.length)),N[V]};return qAe(D.useCallback(()=>l.document,[l]),"keydown",R=>{var L,N;const{key:V}=R,F=R.target,z=(L=f.current)==null?void 0:L.contains(F),B=(N=g.current)==null?void 0:N.contains(F);if(/input|textarea/i.test(F.tagName)&&(V===" "||V!=="Escape"&&z||V==="Escape"&&F.type==="search")||!z&&!B||V==="Tab"&&(!f.current||!u))return;v.current=R.type;const Q={originalEvent:R,source:R.type};switch(V){case"ArrowUp":{const G=P(F,-1);G&&G.focus&&G.focus(),R.preventDefault();return}case"ArrowDown":if(R.preventDefault(),!u)c(!0,Q);else{const G=P(F,1);G&&G.focus&&G.focus()}return;case"Tab":gq(F.ownerDocument,"keyup",G=>{var j;(G.key==="Tab"&&!G.target||!((j=f.current)!=null&&j.contains(G.target)))&&c(!1,Q)},{once:!0});break;case"Escape":V==="Escape"&&(R.preventDefault(),R.stopPropagation()),c(!1,Q);break}}),E.jsx(nP.Provider,{value:O,children:E.jsx(cE.Provider,{value:S,children:a})})}s0.displayName="Dropdown";s0.Menu=xq;s0.Toggle=Sq;s0.Item=Aq;const JR=D.createContext({});JR.displayName="DropdownContext";const Oq=D.forwardRef(({className:t,bsPrefix:e,as:n="hr",role:r="separator",...i},o)=>(e=Bc(e,"dropdown-divider"),E.jsx(n,{ref:o,className:Mc(t,e),role:r,...i})));Oq.displayName="DropdownDivider";const Nq=D.forwardRef(({className:t,bsPrefix:e,as:n="div",role:r="heading",...i},o)=>(e=Bc(e,"dropdown-header"),E.jsx(n,{ref:o,className:Mc(t,e),role:r,...i})));Nq.displayName="DropdownHeader";const Lq=D.forwardRef(({bsPrefix:t,className:e,eventKey:n,disabled:r=!1,onClick:i,active:o,as:s=bq,...a},l)=>{const u=Bc(t,"dropdown-item"),[c,f]=kq({key:n,href:a.href,disabled:r,onClick:i,active:o});return E.jsx(s,{...a,...c,ref:l,className:Mc(e,u,f.isActive&&"active",r&&"disabled")})});Lq.displayName="DropdownItem";const Dq=D.forwardRef(({className:t,bsPrefix:e,as:n="span",...r},i)=>(e=Bc(e,"dropdown-item-text"),E.jsx(n,{ref:i,className:Mc(t,e),...r})));Dq.displayName="DropdownItemText";const ZR=D.createContext(null);ZR.displayName="InputGroupContext";const jq=D.createContext(null);jq.displayName="NavbarContext";function $q(t,e){return t}function Mq(t,e,n){const r=n?"top-end":"top-start",i=n?"top-start":"top-end",o=n?"bottom-end":"bottom-start",s=n?"bottom-start":"bottom-end",a=n?"right-start":"left-start",l=n?"right-end":"left-end",u=n?"left-start":"right-start",c=n?"left-end":"right-end";let f=t?s:o;return e==="up"?f=t?i:r:e==="end"?f=t?c:u:e==="start"?f=t?l:a:e==="down-centered"?f="bottom":e==="up-centered"&&(f="top"),f}const Bq=D.forwardRef(({bsPrefix:t,className:e,align:n,rootCloseEvent:r,flip:i=!0,show:o,renderOnMount:s,as:a="div",popperConfig:l,variant:u,...c},f)=>{let h=!1;const p=D.useContext(jq),g=Bc(t,"dropdown-menu"),{align:_,drop:w,isRTL:b}=D.useContext(JR);n=n||_;const v=D.useContext(ZR),y=[];if(n)if(typeof n=="object"){const R=Object.keys(n);if(R.length){const L=R[0],N=n[L];h=N==="start",y.push(`${g}-${L}-${N}`)}}else n==="end"&&(h=!0);const x=Mq(h,w,b),[I,{hasShown:O,popper:S,show:C,toggle:k}]=wq({flip:i,rootCloseEvent:r,show:o,usePopper:!p&&y.length===0,offset:[0,2],popperConfig:l,placement:x});if(I.ref=vq($q(f),I.ref),QAe(()=>{C&&(S==null||S.update())},[C]),!O&&!s&&!v)return null;typeof a!="string"&&(I.show=C,I.close=()=>k==null?void 0:k(!1),I.align=n);let P=c.style;return S!=null&&S.placement&&(P={...c.style,...I.style},c["x-placement"]=S.placement),E.jsx(a,{...c,...I,style:P,...(y.length||p)&&{"data-bs-popper":"static"},className:Mc(e,g,C&&"show",h&&`${g}-end`,u&&`${g}-${u}`,...y)})});Bq.displayName="DropdownMenu";const Fq=D.forwardRef(({bsPrefix:t,split:e,className:n,childBsPrefix:r,as:i=_q,...o},s)=>{const a=Bc(t,"dropdown-toggle"),l=D.useContext(cE);r!==void 0&&(o.bsPrefix=r);const[u]=Tq();return u.ref=vq(u.ref,$q(s)),E.jsx(i,{className:Mc(n,a,e&&`${a}-split`,(l==null?void 0:l.show)&&"show"),...u,...o})});Fq.displayName="DropdownToggle";const Vq=D.forwardRef((t,e)=>{const{bsPrefix:n,drop:r="down",show:i,className:o,align:s="start",onSelect:a,onToggle:l,focusFirstItemOnShow:u,as:c="div",navbar:f,autoClose:h=!0,...p}=DAe(t,{show:"onToggle"}),g=D.useContext(ZR),_=Bc(n,"dropdown"),w=MAe(),b=S=>h===!1?S==="click":h==="inside"?S!=="rootClose":h==="outside"?S!=="select":!0,v=$l((S,C)=>{var k;!((k=C.originalEvent)==null||(k=k.target)==null)&&k.classList.contains("dropdown-toggle")&&C.source==="mousedown"||(C.originalEvent.currentTarget===document&&(C.source!=="keydown"||C.originalEvent.key==="Escape")&&(C.source="rootClose"),b(C.source)&&(l==null||l(S,C)))}),x=Mq(s==="end",r,w),I=D.useMemo(()=>({align:s,drop:r,isRTL:w}),[s,r,w]),O={down:_,"down-centered":`${_}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(JR.Provider,{value:I,children:E.jsx(s0,{placement:x,show:i,onSelect:a,onToggle:v,focusFirstItemOnShow:u,itemSelector:`.${_}-item:not(.disabled):not(:disabled)`,children:g?p.children:E.jsx(c,{...p,ref:e,className:Mc(o,i&&"show",O[r])})})})});Vq.displayName="Dropdown";const BRe=Object.assign(Vq,{Toggle:Fq,Menu:Bq,Item:Lq,ItemText:Dq,Divider:Oq,Header:Nq}),FRe=Je("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),rP={color:ut.palette.secondary.main},VRe={backgroundColor:ut.palette.primary.main,color:ut.palette.secondary.contrastText},URe={padding:"1em",borderRadius:"16px"},vd={fontSize:"1em",margin:"0.5em",paddingTop:"1em",color:ut.palette.primary.contrastText,height:"100%"},Qu={color:ut.palette.primary.dark,fontSize:"2em"},zRe=t=>{let e;var n=new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i");if(n.test(t)){try{e=new URL(t)}catch{return!1}return e.protocol==="http:"||e.protocol==="https:"}else return!1};function eB(){const t=pn(),e=nt(u=>u.pages.editorHtmlContent),n=nt(u=>u.pages.editingPage),[r,i]=D.useState("");D.useEffect(()=>{i(e)},[]);const o=u=>{t(Xv(u))},s=()=>{let u=window.location.href.split("/");const c=u[u.length-1];return n==null?a(c):a(n.type)},a=u=>u.toUpperCase()=="link".toUpperCase()?zRe(e)?E.jsx(r0,{url:e}):E.jsx("div",{children:E.jsx("p",{children:"URL is not valid"})}):E.jsx("img",{src:e,alt:""}),l=()=>{let u=window.location.href.split("/");return u[u.length-1].toUpperCase()=="image".toUpperCase()?E.jsx("div",{children:E.jsxs(It,{style:{backgroundColor:VRe.backgroundColor,marginTop:"2em"},component:"label",variant:"contained",startIcon:E.jsx(tE,{}),children:["Upload Picture",E.jsx(FRe,{type:"file",name:"picture",onInput:f=>{const p={file:Array.from(f.target.files)[0]};t(aEe(p)).then(g=>Ye(g,_=>{const w=_.url;o(w)},_=>{}))}})]})}):E.jsx("div",{})};return E.jsxs("div",{className:"upload-picture",children:[E.jsx(Po,{value:e,className:"url",label:"URL",placeholder:"URL",onChange:u=>el(o(u.target.value),20)}),l(),s()]})}var t1={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */t1.exports;(function(t,e){(function(){var n,r="4.17.21",i=200,o="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",s="Expected a function",a="Invalid `variable` option passed into `_.template`",l="__lodash_hash_undefined__",u=500,c="__lodash_placeholder__",f=1,h=2,p=4,g=1,_=2,w=1,b=2,v=4,y=8,x=16,I=32,O=64,S=128,C=256,k=512,P=30,R="...",L=800,N=16,V=1,F=2,z=3,B=1/0,W=9007199254740991,Q=17976931348623157e292,G=NaN,j=4294967295,U=j-1,K=j>>>1,ne=[["ary",S],["bind",w],["bindKey",b],["curry",y],["curryRight",x],["flip",k],["partial",I],["partialRight",O],["rearg",C]],oe="[object Arguments]",X="[object Array]",Z="[object AsyncFunction]",re="[object Boolean]",ue="[object Date]",te="[object DOMException]",fe="[object Error]",be="[object Function]",ve="[object GeneratorFunction]",we="[object Map]",Ce="[object Number]",Ue="[object Null]",Oe="[object Object]",he="[object Promise]",_e="[object Proxy]",Te="[object RegExp]",me="[object Set]",Se="[object String]",He="[object Symbol]",Qe="[object Undefined]",ct="[object WeakMap]",xt="[object WeakSet]",yt="[object ArrayBuffer]",ot="[object DataView]",ht="[object Float32Array]",Tt="[object Float64Array]",xn="[object Int8Array]",zn="[object Int16Array]",mt="[object Int32Array]",Kt="[object Uint8Array]",sn="[object Uint8ClampedArray]",mr="[object Uint16Array]",to="[object Uint32Array]",va=/\b__p \+= '';/g,uu=/\b(__p \+=) '' \+/g,cu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,es=/&(?:amp|lt|gt|quot|#39);/g,Ns=/[&<>"']/g,ya=RegExp(es.source),no=RegExp(Ns.source),ro=/<%-([\s\S]+?)%>/g,Ls=/<%([\s\S]+?)%>/g,il=/<%=([\s\S]+?)%>/g,Ds=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ba=/^\w*$/,sr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,io=/[\\^$.*+?()[\]{}|]/g,Oo=RegExp(io.source),ar=/^\s+/,js=/\s/,Fc=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ii=/\{\n\/\* \[wrapped with (.+)\] \*/,_a=/,? & /,du=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,$s=/[()=,{}\[\]\/\s]/,ol=/\\(\\)?/g,wa=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Ms=/\w*$/,oo=/^[-+]0x[0-9a-f]+$/i,fu=/^0b[01]+$/i,hu=/^\[object .+?Constructor\]$/,jt=/^0o[0-7]+$/i,gr=/^(?:0|[1-9]\d*)$/,Af=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sl=/($^)/,Rf=/['\n\r\u2028\u2029\\]/g,Bs="\\ud800-\\udfff",Of="\\u0300-\\u036f",Vc="\\ufe20-\\ufe2f",al="\\u20d0-\\u20ff",so=Of+Vc+al,pu="\\u2700-\\u27bf",mu="a-z\\xdf-\\xf6\\xf8-\\xff",Nf="\\xac\\xb1\\xd7\\xf7",gu="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Uc="\\u2000-\\u206f",vu=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ll="A-Z\\xc0-\\xd6\\xd8-\\xde",yu="\\ufe0e\\ufe0f",zc=Nf+gu+Uc+vu,Mn="[']",xa="["+Bs+"]",ul="["+zc+"]",cl="["+so+"]",Lf="\\d+",Fs="["+pu+"]",di="["+mu+"]",dl="[^"+Bs+zc+Lf+pu+mu+ll+"]",Ea="\\ud83c[\\udffb-\\udfff]",Df="(?:"+cl+"|"+Ea+")",En="[^"+Bs+"]",Ia="(?:\\ud83c[\\udde6-\\uddff]){2}",Vs="[\\ud800-\\udbff][\\udc00-\\udfff]",Mi="["+ll+"]",J="\\u200d",ae="(?:"+di+"|"+dl+")",le="(?:"+Mi+"|"+dl+")",ce="(?:"+Mn+"(?:d|ll|m|re|s|t|ve))?",Ee="(?:"+Mn+"(?:D|LL|M|RE|S|T|VE))?",Be=Df+"?",qe="["+yu+"]?",Ne="(?:"+J+"(?:"+[En,Ia,Vs].join("|")+")"+qe+Be+")*",We="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",lt="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",tt=qe+Be+Ne,St="(?:"+[Fs,Ia,Vs].join("|")+")"+tt,At="(?:"+[En+cl+"?",cl,Ia,Vs,xa].join("|")+")",Xt=RegExp(Mn,"g"),Ft=RegExp(cl,"g"),Gt=RegExp(Ea+"(?="+Ea+")|"+At+tt,"g"),Ln=RegExp([Mi+"?"+di+"+"+ce+"(?="+[ul,Mi,"$"].join("|")+")",le+"+"+Ee+"(?="+[ul,Mi+ae,"$"].join("|")+")",Mi+"?"+ae+"+"+ce,Mi+"+"+Ee,lt,We,Lf,St].join("|"),"g"),Zr=RegExp("["+J+Bs+so+yu+"]"),ts=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Sr=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Cr=-1,Qt={};Qt[ht]=Qt[Tt]=Qt[xn]=Qt[zn]=Qt[mt]=Qt[Kt]=Qt[sn]=Qt[mr]=Qt[to]=!0,Qt[oe]=Qt[X]=Qt[yt]=Qt[re]=Qt[ot]=Qt[ue]=Qt[fe]=Qt[be]=Qt[we]=Qt[Ce]=Qt[Oe]=Qt[Te]=Qt[me]=Qt[Se]=Qt[ct]=!1;var qt={};qt[oe]=qt[X]=qt[yt]=qt[ot]=qt[re]=qt[ue]=qt[ht]=qt[Tt]=qt[xn]=qt[zn]=qt[mt]=qt[we]=qt[Ce]=qt[Oe]=qt[Te]=qt[me]=qt[Se]=qt[He]=qt[Kt]=qt[sn]=qt[mr]=qt[to]=!0,qt[fe]=qt[be]=qt[ct]=!1;var Us={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},zs={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},qc={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Im=parseFloat,a0=parseInt,Tm=typeof Gn=="object"&&Gn&&Gn.Object===Object&&Gn,l0=typeof self=="object"&&self&&self.Object===Object&&self,vr=Tm||l0||Function("return this")(),jf=e&&!e.nodeType&&e,fi=jf&&!0&&t&&!t.nodeType&&t,Sm=fi&&fi.exports===jf,Cm=Sm&&Tm.process,ei=function(){try{var ge=fi&&fi.require&&fi.require("util").types;return ge||Cm&&Cm.binding&&Cm.binding("util")}catch{}}(),Pm=ei&&ei.isArrayBuffer,$f=ei&&ei.isDate,Hc=ei&&ei.isMap,km=ei&&ei.isRegExp,Wc=ei&&ei.isSet,u0=ei&&ei.isTypedArray;function Ti(ge,Re,Pe){switch(Pe.length){case 0:return ge.call(Re);case 1:return ge.call(Re,Pe[0]);case 2:return ge.call(Re,Pe[0],Pe[1]);case 3:return ge.call(Re,Pe[0],Pe[1],Pe[2])}return ge.apply(Re,Pe)}function Kc(ge,Re,Pe,ft){for(var $t=-1,bn=ge==null?0:ge.length;++$t<bn;){var qr=ge[$t];Re(ft,qr,Pe(qr),ge)}return ft}function Bi(ge,Re){for(var Pe=-1,ft=ge==null?0:ge.length;++Pe<ft&&Re(ge[Pe],Pe,ge)!==!1;);return ge}function c0(ge,Re){for(var Pe=ge==null?0:ge.length;Pe--&&Re(ge[Pe],Pe,ge)!==!1;);return ge}function Mf(ge,Re){for(var Pe=-1,ft=ge==null?0:ge.length;++Pe<ft;)if(!Re(ge[Pe],Pe,ge))return!1;return!0}function ns(ge,Re){for(var Pe=-1,ft=ge==null?0:ge.length,$t=0,bn=[];++Pe<ft;){var qr=ge[Pe];Re(qr,Pe,ge)&&(bn[$t++]=qr)}return bn}function Gc(ge,Re){var Pe=ge==null?0:ge.length;return!!Pe&&fl(ge,Re,0)>-1}function bu(ge,Re,Pe){for(var ft=-1,$t=ge==null?0:ge.length;++ft<$t;)if(Pe(Re,ge[ft]))return!0;return!1}function Dn(ge,Re){for(var Pe=-1,ft=ge==null?0:ge.length,$t=Array(ft);++Pe<ft;)$t[Pe]=Re(ge[Pe],Pe,ge);return $t}function qs(ge,Re){for(var Pe=-1,ft=Re.length,$t=ge.length;++Pe<ft;)ge[$t+Pe]=Re[Pe];return ge}function Hs(ge,Re,Pe,ft){var $t=-1,bn=ge==null?0:ge.length;for(ft&&bn&&(Pe=ge[++$t]);++$t<bn;)Pe=Re(Pe,ge[$t],$t,ge);return Pe}function d0(ge,Re,Pe,ft){var $t=ge==null?0:ge.length;for(ft&&$t&&(Pe=ge[--$t]);$t--;)Pe=Re(Pe,ge[$t],$t,ge);return Pe}function Bf(ge,Re){for(var Pe=-1,ft=ge==null?0:ge.length;++Pe<ft;)if(Re(ge[Pe],Pe,ge))return!0;return!1}var f0=H("length");function h0(ge){return ge.split("")}function Ff(ge){return ge.match(du)||[]}function Si(ge,Re,Pe){var ft;return Pe(ge,function($t,bn,qr){if(Re($t,bn,qr))return ft=bn,!1}),ft}function Qc(ge,Re,Pe,ft){for(var $t=ge.length,bn=Pe+(ft?1:-1);ft?bn--:++bn<$t;)if(Re(ge[bn],bn,ge))return bn;return-1}function fl(ge,Re,Pe){return Re===Re?l8(ge,Re,Pe):Qc(ge,T,Pe)}function _u(ge,Re,Pe,ft){for(var $t=Pe-1,bn=ge.length;++$t<bn;)if(ft(ge[$t],Re))return $t;return-1}function T(ge){return ge!==ge}function $(ge,Re){var Pe=ge==null?0:ge.length;return Pe?Ke(ge,Re)/Pe:G}function H(ge){return function(Re){return Re==null?n:Re[ge]}}function ie(ge){return function(Re){return ge==null?n:ge[Re]}}function xe(ge,Re,Pe,ft,$t){return $t(ge,function(bn,qr,jn){Pe=ft?(ft=!1,bn):Re(Pe,bn,qr,jn)}),Pe}function Ae(ge,Re){var Pe=ge.length;for(ge.sort(Re);Pe--;)ge[Pe]=ge[Pe].value;return ge}function Ke(ge,Re){for(var Pe,ft=-1,$t=ge.length;++ft<$t;){var bn=Re(ge[ft]);bn!==n&&(Pe=Pe===n?bn:Pe+bn)}return Pe}function yn(ge,Re){for(var Pe=-1,ft=Array(ge);++Pe<ge;)ft[Pe]=Re(Pe);return ft}function zr(ge,Re){return Dn(Re,function(Pe){return[Pe,ge[Pe]]})}function an(ge){return ge&&ge.slice(0,aO(ge)+1).replace(ar,"")}function In(ge){return function(Re){return ge(Re)}}function jr(ge,Re){return Dn(Re,function(Pe){return ge[Pe]})}function rs(ge,Re){return ge.has(Re)}function ao(ge,Re){for(var Pe=-1,ft=ge.length;++Pe<ft&&fl(Re,ge[Pe],0)>-1;);return Pe}function Yc(ge,Re){for(var Pe=ge.length;Pe--&&fl(Re,ge[Pe],0)>-1;);return Pe}function Am(ge,Re){for(var Pe=ge.length,ft=0;Pe--;)ge[Pe]===Re&&++ft;return ft}var t8=ie(Us),n8=ie(zs);function r8(ge){return"\\"+qc[ge]}function i8(ge,Re){return ge==null?n:ge[Re]}function Vf(ge){return Zr.test(ge)}function o8(ge){return ts.test(ge)}function s8(ge){for(var Re,Pe=[];!(Re=ge.next()).done;)Pe.push(Re.value);return Pe}function hE(ge){var Re=-1,Pe=Array(ge.size);return ge.forEach(function(ft,$t){Pe[++Re]=[$t,ft]}),Pe}function sO(ge,Re){return function(Pe){return ge(Re(Pe))}}function wu(ge,Re){for(var Pe=-1,ft=ge.length,$t=0,bn=[];++Pe<ft;){var qr=ge[Pe];(qr===Re||qr===c)&&(ge[Pe]=c,bn[$t++]=Pe)}return bn}function p0(ge){var Re=-1,Pe=Array(ge.size);return ge.forEach(function(ft){Pe[++Re]=ft}),Pe}function a8(ge){var Re=-1,Pe=Array(ge.size);return ge.forEach(function(ft){Pe[++Re]=[ft,ft]}),Pe}function l8(ge,Re,Pe){for(var ft=Pe-1,$t=ge.length;++ft<$t;)if(ge[ft]===Re)return ft;return-1}function u8(ge,Re,Pe){for(var ft=Pe+1;ft--;)if(ge[ft]===Re)return ft;return ft}function Uf(ge){return Vf(ge)?d8(ge):f0(ge)}function Ws(ge){return Vf(ge)?f8(ge):h0(ge)}function aO(ge){for(var Re=ge.length;Re--&&js.test(ge.charAt(Re)););return Re}var c8=ie(Sn);function d8(ge){for(var Re=Gt.lastIndex=0;Gt.test(ge);)++Re;return Re}function f8(ge){return ge.match(Gt)||[]}function h8(ge){return ge.match(Ln)||[]}var p8=function ge(Re){Re=Re==null?vr:zf.defaults(vr.Object(),Re,zf.pick(vr,Sr));var Pe=Re.Array,ft=Re.Date,$t=Re.Error,bn=Re.Function,qr=Re.Math,jn=Re.Object,pE=Re.RegExp,m8=Re.String,is=Re.TypeError,m0=Pe.prototype,g8=bn.prototype,qf=jn.prototype,g0=Re["__core-js_shared__"],v0=g8.toString,Cn=qf.hasOwnProperty,v8=0,lO=function(){var d=/[^.]+$/.exec(g0&&g0.keys&&g0.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""}(),y0=qf.toString,y8=v0.call(jn),b8=vr._,_8=pE("^"+v0.call(Cn).replace(io,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),b0=Sm?Re.Buffer:n,xu=Re.Symbol,_0=Re.Uint8Array,uO=b0?b0.allocUnsafe:n,w0=sO(jn.getPrototypeOf,jn),cO=jn.create,dO=qf.propertyIsEnumerable,x0=m0.splice,fO=xu?xu.isConcatSpreadable:n,Rm=xu?xu.iterator:n,Xc=xu?xu.toStringTag:n,E0=function(){try{var d=nd(jn,"defineProperty");return d({},"",{}),d}catch{}}(),w8=Re.clearTimeout!==vr.clearTimeout&&Re.clearTimeout,x8=ft&&ft.now!==vr.Date.now&&ft.now,E8=Re.setTimeout!==vr.setTimeout&&Re.setTimeout,I0=qr.ceil,T0=qr.floor,mE=jn.getOwnPropertySymbols,I8=b0?b0.isBuffer:n,hO=Re.isFinite,T8=m0.join,S8=sO(jn.keys,jn),Hr=qr.max,Ci=qr.min,C8=ft.now,P8=Re.parseInt,pO=qr.random,k8=m0.reverse,gE=nd(Re,"DataView"),Om=nd(Re,"Map"),vE=nd(Re,"Promise"),Hf=nd(Re,"Set"),Nm=nd(Re,"WeakMap"),Lm=nd(jn,"create"),S0=Nm&&new Nm,Wf={},A8=rd(gE),R8=rd(Om),O8=rd(vE),N8=rd(Hf),L8=rd(Nm),C0=xu?xu.prototype:n,Dm=C0?C0.valueOf:n,mO=C0?C0.toString:n;function ee(d){if(yr(d)&&!Vt(d)&&!(d instanceof nn)){if(d instanceof os)return d;if(Cn.call(d,"__wrapped__"))return g2(d)}return new os(d)}var Kf=function(){function d(){}return function(m){if(!lr(m))return{};if(cO)return cO(m);d.prototype=m;var A=new d;return d.prototype=n,A}}();function P0(){}function os(d,m){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!m,this.__index__=0,this.__values__=n}ee.templateSettings={escape:ro,evaluate:Ls,interpolate:il,variable:"",imports:{_:ee}},ee.prototype=P0.prototype,ee.prototype.constructor=ee,os.prototype=Kf(P0.prototype),os.prototype.constructor=os;function nn(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=j,this.__views__=[]}function D8(){var d=new nn(this.__wrapped__);return d.__actions__=lo(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=lo(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=lo(this.__views__),d}function j8(){if(this.__filtered__){var d=new nn(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function $8(){var d=this.__wrapped__.value(),m=this.__dir__,A=Vt(d),M=m<0,Y=A?d.length:0,se=Q7(0,Y,this.__views__),de=se.start,pe=se.end,ye=pe-de,Le=M?pe:de-1,De=this.__iteratees__,$e=De.length,it=0,vt=Ci(ye,this.__takeCount__);if(!A||!M&&Y==ye&&vt==ye)return BO(d,this.__actions__);var Pt=[];e:for(;ye--&&it<vt;){Le+=m;for(var Wt=-1,kt=d[Le];++Wt<$e;){var Jt=De[Wt],ln=Jt.iteratee,Do=Jt.type,Ui=ln(kt);if(Do==F)kt=Ui;else if(!Ui){if(Do==V)continue e;break e}}Pt[it++]=kt}return Pt}nn.prototype=Kf(P0.prototype),nn.prototype.constructor=nn;function Jc(d){var m=-1,A=d==null?0:d.length;for(this.clear();++m<A;){var M=d[m];this.set(M[0],M[1])}}function M8(){this.__data__=Lm?Lm(null):{},this.size=0}function B8(d){var m=this.has(d)&&delete this.__data__[d];return this.size-=m?1:0,m}function F8(d){var m=this.__data__;if(Lm){var A=m[d];return A===l?n:A}return Cn.call(m,d)?m[d]:n}function V8(d){var m=this.__data__;return Lm?m[d]!==n:Cn.call(m,d)}function U8(d,m){var A=this.__data__;return this.size+=this.has(d)?0:1,A[d]=Lm&&m===n?l:m,this}Jc.prototype.clear=M8,Jc.prototype.delete=B8,Jc.prototype.get=F8,Jc.prototype.has=V8,Jc.prototype.set=U8;function hl(d){var m=-1,A=d==null?0:d.length;for(this.clear();++m<A;){var M=d[m];this.set(M[0],M[1])}}function z8(){this.__data__=[],this.size=0}function q8(d){var m=this.__data__,A=k0(m,d);if(A<0)return!1;var M=m.length-1;return A==M?m.pop():x0.call(m,A,1),--this.size,!0}function H8(d){var m=this.__data__,A=k0(m,d);return A<0?n:m[A][1]}function W8(d){return k0(this.__data__,d)>-1}function K8(d,m){var A=this.__data__,M=k0(A,d);return M<0?(++this.size,A.push([d,m])):A[M][1]=m,this}hl.prototype.clear=z8,hl.prototype.delete=q8,hl.prototype.get=H8,hl.prototype.has=W8,hl.prototype.set=K8;function pl(d){var m=-1,A=d==null?0:d.length;for(this.clear();++m<A;){var M=d[m];this.set(M[0],M[1])}}function G8(){this.size=0,this.__data__={hash:new Jc,map:new(Om||hl),string:new Jc}}function Q8(d){var m=V0(this,d).delete(d);return this.size-=m?1:0,m}function Y8(d){return V0(this,d).get(d)}function X8(d){return V0(this,d).has(d)}function J8(d,m){var A=V0(this,d),M=A.size;return A.set(d,m),this.size+=A.size==M?0:1,this}pl.prototype.clear=G8,pl.prototype.delete=Q8,pl.prototype.get=Y8,pl.prototype.has=X8,pl.prototype.set=J8;function Zc(d){var m=-1,A=d==null?0:d.length;for(this.__data__=new pl;++m<A;)this.add(d[m])}function Z8(d){return this.__data__.set(d,l),this}function e7(d){return this.__data__.has(d)}Zc.prototype.add=Zc.prototype.push=Z8,Zc.prototype.has=e7;function Ks(d){var m=this.__data__=new hl(d);this.size=m.size}function t7(){this.__data__=new hl,this.size=0}function n7(d){var m=this.__data__,A=m.delete(d);return this.size=m.size,A}function r7(d){return this.__data__.get(d)}function i7(d){return this.__data__.has(d)}function o7(d,m){var A=this.__data__;if(A instanceof hl){var M=A.__data__;if(!Om||M.length<i-1)return M.push([d,m]),this.size=++A.size,this;A=this.__data__=new pl(M)}return A.set(d,m),this.size=A.size,this}Ks.prototype.clear=t7,Ks.prototype.delete=n7,Ks.prototype.get=r7,Ks.prototype.has=i7,Ks.prototype.set=o7;function gO(d,m){var A=Vt(d),M=!A&&id(d),Y=!A&&!M&&Cu(d),se=!A&&!M&&!Y&&Xf(d),de=A||M||Y||se,pe=de?yn(d.length,m8):[],ye=pe.length;for(var Le in d)(m||Cn.call(d,Le))&&!(de&&(Le=="length"||Y&&(Le=="offset"||Le=="parent")||se&&(Le=="buffer"||Le=="byteLength"||Le=="byteOffset")||yl(Le,ye)))&&pe.push(Le);return pe}function vO(d){var m=d.length;return m?d[PE(0,m-1)]:n}function s7(d,m){return U0(lo(d),ed(m,0,d.length))}function a7(d){return U0(lo(d))}function yE(d,m,A){(A!==n&&!Gs(d[m],A)||A===n&&!(m in d))&&ml(d,m,A)}function jm(d,m,A){var M=d[m];(!(Cn.call(d,m)&&Gs(M,A))||A===n&&!(m in d))&&ml(d,m,A)}function k0(d,m){for(var A=d.length;A--;)if(Gs(d[A][0],m))return A;return-1}function l7(d,m,A,M){return Eu(d,function(Y,se,de){m(M,Y,A(Y),de)}),M}function yO(d,m){return d&&Sa(m,ti(m),d)}function u7(d,m){return d&&Sa(m,co(m),d)}function ml(d,m,A){m=="__proto__"&&E0?E0(d,m,{configurable:!0,enumerable:!0,value:A,writable:!0}):d[m]=A}function bE(d,m){for(var A=-1,M=m.length,Y=Pe(M),se=d==null;++A<M;)Y[A]=se?n:ZE(d,m[A]);return Y}function ed(d,m,A){return d===d&&(A!==n&&(d=d<=A?d:A),m!==n&&(d=d>=m?d:m)),d}function ss(d,m,A,M,Y,se){var de,pe=m&f,ye=m&h,Le=m&p;if(A&&(de=Y?A(d,M,Y,se):A(d)),de!==n)return de;if(!lr(d))return d;var De=Vt(d);if(De){if(de=X7(d),!pe)return lo(d,de)}else{var $e=Pi(d),it=$e==be||$e==ve;if(Cu(d))return UO(d,pe);if($e==Oe||$e==oe||it&&!Y){if(de=ye||it?{}:a2(d),!pe)return ye?F7(d,u7(de,d)):B7(d,yO(de,d))}else{if(!qt[$e])return Y?d:{};de=J7(d,$e,pe)}}se||(se=new Ks);var vt=se.get(d);if(vt)return vt;se.set(d,de),j2(d)?d.forEach(function(kt){de.add(ss(kt,m,A,kt,d,se))}):L2(d)&&d.forEach(function(kt,Jt){de.set(Jt,ss(kt,m,A,Jt,d,se))});var Pt=Le?ye?BE:ME:ye?co:ti,Wt=De?n:Pt(d);return Bi(Wt||d,function(kt,Jt){Wt&&(Jt=kt,kt=d[Jt]),jm(de,Jt,ss(kt,m,A,Jt,d,se))}),de}function c7(d){var m=ti(d);return function(A){return bO(A,d,m)}}function bO(d,m,A){var M=A.length;if(d==null)return!M;for(d=jn(d);M--;){var Y=A[M],se=m[Y],de=d[Y];if(de===n&&!(Y in d)||!se(de))return!1}return!0}function _O(d,m,A){if(typeof d!="function")throw new is(s);return zm(function(){d.apply(n,A)},m)}function $m(d,m,A,M){var Y=-1,se=Gc,de=!0,pe=d.length,ye=[],Le=m.length;if(!pe)return ye;A&&(m=Dn(m,In(A))),M?(se=bu,de=!1):m.length>=i&&(se=rs,de=!1,m=new Zc(m));e:for(;++Y<pe;){var De=d[Y],$e=A==null?De:A(De);if(De=M||De!==0?De:0,de&&$e===$e){for(var it=Le;it--;)if(m[it]===$e)continue e;ye.push(De)}else se(m,$e,M)||ye.push(De)}return ye}var Eu=KO(Ta),wO=KO(wE,!0);function d7(d,m){var A=!0;return Eu(d,function(M,Y,se){return A=!!m(M,Y,se),A}),A}function A0(d,m,A){for(var M=-1,Y=d.length;++M<Y;){var se=d[M],de=m(se);if(de!=null&&(pe===n?de===de&&!Lo(de):A(de,pe)))var pe=de,ye=se}return ye}function f7(d,m,A,M){var Y=d.length;for(A=Ht(A),A<0&&(A=-A>Y?0:Y+A),M=M===n||M>Y?Y:Ht(M),M<0&&(M+=Y),M=A>M?0:M2(M);A<M;)d[A++]=m;return d}function xO(d,m){var A=[];return Eu(d,function(M,Y,se){m(M,Y,se)&&A.push(M)}),A}function hi(d,m,A,M,Y){var se=-1,de=d.length;for(A||(A=eH),Y||(Y=[]);++se<de;){var pe=d[se];m>0&&A(pe)?m>1?hi(pe,m-1,A,M,Y):qs(Y,pe):M||(Y[Y.length]=pe)}return Y}var _E=GO(),EO=GO(!0);function Ta(d,m){return d&&_E(d,m,ti)}function wE(d,m){return d&&EO(d,m,ti)}function R0(d,m){return ns(m,function(A){return bl(d[A])})}function td(d,m){m=Tu(m,d);for(var A=0,M=m.length;d!=null&&A<M;)d=d[Ca(m[A++])];return A&&A==M?d:n}function IO(d,m,A){var M=m(d);return Vt(d)?M:qs(M,A(d))}function Fi(d){return d==null?d===n?Qe:Ue:Xc&&Xc in jn(d)?G7(d):aH(d)}function xE(d,m){return d>m}function h7(d,m){return d!=null&&Cn.call(d,m)}function p7(d,m){return d!=null&&m in jn(d)}function m7(d,m,A){return d>=Ci(m,A)&&d<Hr(m,A)}function EE(d,m,A){for(var M=A?bu:Gc,Y=d[0].length,se=d.length,de=se,pe=Pe(se),ye=1/0,Le=[];de--;){var De=d[de];de&&m&&(De=Dn(De,In(m))),ye=Ci(De.length,ye),pe[de]=!A&&(m||Y>=120&&De.length>=120)?new Zc(de&&De):n}De=d[0];var $e=-1,it=pe[0];e:for(;++$e<Y&&Le.length<ye;){var vt=De[$e],Pt=m?m(vt):vt;if(vt=A||vt!==0?vt:0,!(it?rs(it,Pt):M(Le,Pt,A))){for(de=se;--de;){var Wt=pe[de];if(!(Wt?rs(Wt,Pt):M(d[de],Pt,A)))continue e}it&&it.push(Pt),Le.push(vt)}}return Le}function g7(d,m,A,M){return Ta(d,function(Y,se,de){m(M,A(Y),se,de)}),M}function Mm(d,m,A){m=Tu(m,d),d=d2(d,m);var M=d==null?d:d[Ca(ls(m))];return M==null?n:Ti(M,d,A)}function TO(d){return yr(d)&&Fi(d)==oe}function v7(d){return yr(d)&&Fi(d)==yt}function y7(d){return yr(d)&&Fi(d)==ue}function Bm(d,m,A,M,Y){return d===m?!0:d==null||m==null||!yr(d)&&!yr(m)?d!==d&&m!==m:b7(d,m,A,M,Bm,Y)}function b7(d,m,A,M,Y,se){var de=Vt(d),pe=Vt(m),ye=de?X:Pi(d),Le=pe?X:Pi(m);ye=ye==oe?Oe:ye,Le=Le==oe?Oe:Le;var De=ye==Oe,$e=Le==Oe,it=ye==Le;if(it&&Cu(d)){if(!Cu(m))return!1;de=!0,De=!1}if(it&&!De)return se||(se=new Ks),de||Xf(d)?i2(d,m,A,M,Y,se):W7(d,m,ye,A,M,Y,se);if(!(A&g)){var vt=De&&Cn.call(d,"__wrapped__"),Pt=$e&&Cn.call(m,"__wrapped__");if(vt||Pt){var Wt=vt?d.value():d,kt=Pt?m.value():m;return se||(se=new Ks),Y(Wt,kt,A,M,se)}}return it?(se||(se=new Ks),K7(d,m,A,M,Y,se)):!1}function _7(d){return yr(d)&&Pi(d)==we}function IE(d,m,A,M){var Y=A.length,se=Y,de=!M;if(d==null)return!se;for(d=jn(d);Y--;){var pe=A[Y];if(de&&pe[2]?pe[1]!==d[pe[0]]:!(pe[0]in d))return!1}for(;++Y<se;){pe=A[Y];var ye=pe[0],Le=d[ye],De=pe[1];if(de&&pe[2]){if(Le===n&&!(ye in d))return!1}else{var $e=new Ks;if(M)var it=M(Le,De,ye,d,m,$e);if(!(it===n?Bm(De,Le,g|_,M,$e):it))return!1}}return!0}function SO(d){if(!lr(d)||nH(d))return!1;var m=bl(d)?_8:hu;return m.test(rd(d))}function w7(d){return yr(d)&&Fi(d)==Te}function x7(d){return yr(d)&&Pi(d)==me}function E7(d){return yr(d)&&G0(d.length)&&!!Qt[Fi(d)]}function CO(d){return typeof d=="function"?d:d==null?fo:typeof d=="object"?Vt(d)?AO(d[0],d[1]):kO(d):Q2(d)}function TE(d){if(!Um(d))return S8(d);var m=[];for(var A in jn(d))Cn.call(d,A)&&A!="constructor"&&m.push(A);return m}function I7(d){if(!lr(d))return sH(d);var m=Um(d),A=[];for(var M in d)M=="constructor"&&(m||!Cn.call(d,M))||A.push(M);return A}function SE(d,m){return d<m}function PO(d,m){var A=-1,M=uo(d)?Pe(d.length):[];return Eu(d,function(Y,se,de){M[++A]=m(Y,se,de)}),M}function kO(d){var m=VE(d);return m.length==1&&m[0][2]?u2(m[0][0],m[0][1]):function(A){return A===d||IE(A,d,m)}}function AO(d,m){return zE(d)&&l2(m)?u2(Ca(d),m):function(A){var M=ZE(A,d);return M===n&&M===m?eI(A,d):Bm(m,M,g|_)}}function O0(d,m,A,M,Y){d!==m&&_E(m,function(se,de){if(Y||(Y=new Ks),lr(se))T7(d,m,de,A,O0,M,Y);else{var pe=M?M(HE(d,de),se,de+"",d,m,Y):n;pe===n&&(pe=se),yE(d,de,pe)}},co)}function T7(d,m,A,M,Y,se,de){var pe=HE(d,A),ye=HE(m,A),Le=de.get(ye);if(Le){yE(d,A,Le);return}var De=se?se(pe,ye,A+"",d,m,de):n,$e=De===n;if($e){var it=Vt(ye),vt=!it&&Cu(ye),Pt=!it&&!vt&&Xf(ye);De=ye,it||vt||Pt?Vt(pe)?De=pe:Pr(pe)?De=lo(pe):vt?($e=!1,De=UO(ye,!0)):Pt?($e=!1,De=zO(ye,!0)):De=[]:qm(ye)||id(ye)?(De=pe,id(pe)?De=B2(pe):(!lr(pe)||bl(pe))&&(De=a2(ye))):$e=!1}$e&&(de.set(ye,De),Y(De,ye,M,se,de),de.delete(ye)),yE(d,A,De)}function RO(d,m){var A=d.length;if(A)return m+=m<0?A:0,yl(m,A)?d[m]:n}function OO(d,m,A){m.length?m=Dn(m,function(se){return Vt(se)?function(de){return td(de,se.length===1?se[0]:se)}:se}):m=[fo];var M=-1;m=Dn(m,In(Ct()));var Y=PO(d,function(se,de,pe){var ye=Dn(m,function(Le){return Le(se)});return{criteria:ye,index:++M,value:se}});return Ae(Y,function(se,de){return M7(se,de,A)})}function S7(d,m){return NO(d,m,function(A,M){return eI(d,M)})}function NO(d,m,A){for(var M=-1,Y=m.length,se={};++M<Y;){var de=m[M],pe=td(d,de);A(pe,de)&&Fm(se,Tu(de,d),pe)}return se}function C7(d){return function(m){return td(m,d)}}function CE(d,m,A,M){var Y=M?_u:fl,se=-1,de=m.length,pe=d;for(d===m&&(m=lo(m)),A&&(pe=Dn(d,In(A)));++se<de;)for(var ye=0,Le=m[se],De=A?A(Le):Le;(ye=Y(pe,De,ye,M))>-1;)pe!==d&&x0.call(pe,ye,1),x0.call(d,ye,1);return d}function LO(d,m){for(var A=d?m.length:0,M=A-1;A--;){var Y=m[A];if(A==M||Y!==se){var se=Y;yl(Y)?x0.call(d,Y,1):RE(d,Y)}}return d}function PE(d,m){return d+T0(pO()*(m-d+1))}function P7(d,m,A,M){for(var Y=-1,se=Hr(I0((m-d)/(A||1)),0),de=Pe(se);se--;)de[M?se:++Y]=d,d+=A;return de}function kE(d,m){var A="";if(!d||m<1||m>W)return A;do m%2&&(A+=d),m=T0(m/2),m&&(d+=d);while(m);return A}function Yt(d,m){return WE(c2(d,m,fo),d+"")}function k7(d){return vO(Jf(d))}function A7(d,m){var A=Jf(d);return U0(A,ed(m,0,A.length))}function Fm(d,m,A,M){if(!lr(d))return d;m=Tu(m,d);for(var Y=-1,se=m.length,de=se-1,pe=d;pe!=null&&++Y<se;){var ye=Ca(m[Y]),Le=A;if(ye==="__proto__"||ye==="constructor"||ye==="prototype")return d;if(Y!=de){var De=pe[ye];Le=M?M(De,ye,pe):n,Le===n&&(Le=lr(De)?De:yl(m[Y+1])?[]:{})}jm(pe,ye,Le),pe=pe[ye]}return d}var DO=S0?function(d,m){return S0.set(d,m),d}:fo,R7=E0?function(d,m){return E0(d,"toString",{configurable:!0,enumerable:!1,value:nI(m),writable:!0})}:fo;function O7(d){return U0(Jf(d))}function as(d,m,A){var M=-1,Y=d.length;m<0&&(m=-m>Y?0:Y+m),A=A>Y?Y:A,A<0&&(A+=Y),Y=m>A?0:A-m>>>0,m>>>=0;for(var se=Pe(Y);++M<Y;)se[M]=d[M+m];return se}function N7(d,m){var A;return Eu(d,function(M,Y,se){return A=m(M,Y,se),!A}),!!A}function N0(d,m,A){var M=0,Y=d==null?M:d.length;if(typeof m=="number"&&m===m&&Y<=K){for(;M<Y;){var se=M+Y>>>1,de=d[se];de!==null&&!Lo(de)&&(A?de<=m:de<m)?M=se+1:Y=se}return Y}return AE(d,m,fo,A)}function AE(d,m,A,M){var Y=0,se=d==null?0:d.length;if(se===0)return 0;m=A(m);for(var de=m!==m,pe=m===null,ye=Lo(m),Le=m===n;Y<se;){var De=T0((Y+se)/2),$e=A(d[De]),it=$e!==n,vt=$e===null,Pt=$e===$e,Wt=Lo($e);if(de)var kt=M||Pt;else Le?kt=Pt&&(M||it):pe?kt=Pt&&it&&(M||!vt):ye?kt=Pt&&it&&!vt&&(M||!Wt):vt||Wt?kt=!1:kt=M?$e<=m:$e<m;kt?Y=De+1:se=De}return Ci(se,U)}function jO(d,m){for(var A=-1,M=d.length,Y=0,se=[];++A<M;){var de=d[A],pe=m?m(de):de;if(!A||!Gs(pe,ye)){var ye=pe;se[Y++]=de===0?0:de}}return se}function $O(d){return typeof d=="number"?d:Lo(d)?G:+d}function No(d){if(typeof d=="string")return d;if(Vt(d))return Dn(d,No)+"";if(Lo(d))return mO?mO.call(d):"";var m=d+"";return m=="0"&&1/d==-B?"-0":m}function Iu(d,m,A){var M=-1,Y=Gc,se=d.length,de=!0,pe=[],ye=pe;if(A)de=!1,Y=bu;else if(se>=i){var Le=m?null:q7(d);if(Le)return p0(Le);de=!1,Y=rs,ye=new Zc}else ye=m?[]:pe;e:for(;++M<se;){var De=d[M],$e=m?m(De):De;if(De=A||De!==0?De:0,de&&$e===$e){for(var it=ye.length;it--;)if(ye[it]===$e)continue e;m&&ye.push($e),pe.push(De)}else Y(ye,$e,A)||(ye!==pe&&ye.push($e),pe.push(De))}return pe}function RE(d,m){return m=Tu(m,d),d=d2(d,m),d==null||delete d[Ca(ls(m))]}function MO(d,m,A,M){return Fm(d,m,A(td(d,m)),M)}function L0(d,m,A,M){for(var Y=d.length,se=M?Y:-1;(M?se--:++se<Y)&&m(d[se],se,d););return A?as(d,M?0:se,M?se+1:Y):as(d,M?se+1:0,M?Y:se)}function BO(d,m){var A=d;return A instanceof nn&&(A=A.value()),Hs(m,function(M,Y){return Y.func.apply(Y.thisArg,qs([M],Y.args))},A)}function OE(d,m,A){var M=d.length;if(M<2)return M?Iu(d[0]):[];for(var Y=-1,se=Pe(M);++Y<M;)for(var de=d[Y],pe=-1;++pe<M;)pe!=Y&&(se[Y]=$m(se[Y]||de,d[pe],m,A));return Iu(hi(se,1),m,A)}function FO(d,m,A){for(var M=-1,Y=d.length,se=m.length,de={};++M<Y;){var pe=M<se?m[M]:n;A(de,d[M],pe)}return de}function NE(d){return Pr(d)?d:[]}function LE(d){return typeof d=="function"?d:fo}function Tu(d,m){return Vt(d)?d:zE(d,m)?[d]:m2(Tn(d))}var L7=Yt;function Su(d,m,A){var M=d.length;return A=A===n?M:A,!m&&A>=M?d:as(d,m,A)}var VO=w8||function(d){return vr.clearTimeout(d)};function UO(d,m){if(m)return d.slice();var A=d.length,M=uO?uO(A):new d.constructor(A);return d.copy(M),M}function DE(d){var m=new d.constructor(d.byteLength);return new _0(m).set(new _0(d)),m}function D7(d,m){var A=m?DE(d.buffer):d.buffer;return new d.constructor(A,d.byteOffset,d.byteLength)}function j7(d){var m=new d.constructor(d.source,Ms.exec(d));return m.lastIndex=d.lastIndex,m}function $7(d){return Dm?jn(Dm.call(d)):{}}function zO(d,m){var A=m?DE(d.buffer):d.buffer;return new d.constructor(A,d.byteOffset,d.length)}function qO(d,m){if(d!==m){var A=d!==n,M=d===null,Y=d===d,se=Lo(d),de=m!==n,pe=m===null,ye=m===m,Le=Lo(m);if(!pe&&!Le&&!se&&d>m||se&&de&&ye&&!pe&&!Le||M&&de&&ye||!A&&ye||!Y)return 1;if(!M&&!se&&!Le&&d<m||Le&&A&&Y&&!M&&!se||pe&&A&&Y||!de&&Y||!ye)return-1}return 0}function M7(d,m,A){for(var M=-1,Y=d.criteria,se=m.criteria,de=Y.length,pe=A.length;++M<de;){var ye=qO(Y[M],se[M]);if(ye){if(M>=pe)return ye;var Le=A[M];return ye*(Le=="desc"?-1:1)}}return d.index-m.index}function HO(d,m,A,M){for(var Y=-1,se=d.length,de=A.length,pe=-1,ye=m.length,Le=Hr(se-de,0),De=Pe(ye+Le),$e=!M;++pe<ye;)De[pe]=m[pe];for(;++Y<de;)($e||Y<se)&&(De[A[Y]]=d[Y]);for(;Le--;)De[pe++]=d[Y++];return De}function WO(d,m,A,M){for(var Y=-1,se=d.length,de=-1,pe=A.length,ye=-1,Le=m.length,De=Hr(se-pe,0),$e=Pe(De+Le),it=!M;++Y<De;)$e[Y]=d[Y];for(var vt=Y;++ye<Le;)$e[vt+ye]=m[ye];for(;++de<pe;)(it||Y<se)&&($e[vt+A[de]]=d[Y++]);return $e}function lo(d,m){var A=-1,M=d.length;for(m||(m=Pe(M));++A<M;)m[A]=d[A];return m}function Sa(d,m,A,M){var Y=!A;A||(A={});for(var se=-1,de=m.length;++se<de;){var pe=m[se],ye=M?M(A[pe],d[pe],pe,A,d):n;ye===n&&(ye=d[pe]),Y?ml(A,pe,ye):jm(A,pe,ye)}return A}function B7(d,m){return Sa(d,UE(d),m)}function F7(d,m){return Sa(d,o2(d),m)}function D0(d,m){return function(A,M){var Y=Vt(A)?Kc:l7,se=m?m():{};return Y(A,d,Ct(M,2),se)}}function Gf(d){return Yt(function(m,A){var M=-1,Y=A.length,se=Y>1?A[Y-1]:n,de=Y>2?A[2]:n;for(se=d.length>3&&typeof se=="function"?(Y--,se):n,de&&Vi(A[0],A[1],de)&&(se=Y<3?n:se,Y=1),m=jn(m);++M<Y;){var pe=A[M];pe&&d(m,pe,M,se)}return m})}function KO(d,m){return function(A,M){if(A==null)return A;if(!uo(A))return d(A,M);for(var Y=A.length,se=m?Y:-1,de=jn(A);(m?se--:++se<Y)&&M(de[se],se,de)!==!1;);return A}}function GO(d){return function(m,A,M){for(var Y=-1,se=jn(m),de=M(m),pe=de.length;pe--;){var ye=de[d?pe:++Y];if(A(se[ye],ye,se)===!1)break}return m}}function V7(d,m,A){var M=m&w,Y=Vm(d);function se(){var de=this&&this!==vr&&this instanceof se?Y:d;return de.apply(M?A:this,arguments)}return se}function QO(d){return function(m){m=Tn(m);var A=Vf(m)?Ws(m):n,M=A?A[0]:m.charAt(0),Y=A?Su(A,1).join(""):m.slice(1);return M[d]()+Y}}function Qf(d){return function(m){return Hs(K2(W2(m).replace(Xt,"")),d,"")}}function Vm(d){return function(){var m=arguments;switch(m.length){case 0:return new d;case 1:return new d(m[0]);case 2:return new d(m[0],m[1]);case 3:return new d(m[0],m[1],m[2]);case 4:return new d(m[0],m[1],m[2],m[3]);case 5:return new d(m[0],m[1],m[2],m[3],m[4]);case 6:return new d(m[0],m[1],m[2],m[3],m[4],m[5]);case 7:return new d(m[0],m[1],m[2],m[3],m[4],m[5],m[6])}var A=Kf(d.prototype),M=d.apply(A,m);return lr(M)?M:A}}function U7(d,m,A){var M=Vm(d);function Y(){for(var se=arguments.length,de=Pe(se),pe=se,ye=Yf(Y);pe--;)de[pe]=arguments[pe];var Le=se<3&&de[0]!==ye&&de[se-1]!==ye?[]:wu(de,ye);if(se-=Le.length,se<A)return e2(d,m,j0,Y.placeholder,n,de,Le,n,n,A-se);var De=this&&this!==vr&&this instanceof Y?M:d;return Ti(De,this,de)}return Y}function YO(d){return function(m,A,M){var Y=jn(m);if(!uo(m)){var se=Ct(A,3);m=ti(m),A=function(pe){return se(Y[pe],pe,Y)}}var de=d(m,A,M);return de>-1?Y[se?m[de]:de]:n}}function XO(d){return vl(function(m){var A=m.length,M=A,Y=os.prototype.thru;for(d&&m.reverse();M--;){var se=m[M];if(typeof se!="function")throw new is(s);if(Y&&!de&&F0(se)=="wrapper")var de=new os([],!0)}for(M=de?M:A;++M<A;){se=m[M];var pe=F0(se),ye=pe=="wrapper"?FE(se):n;ye&&qE(ye[0])&&ye[1]==(S|y|I|C)&&!ye[4].length&&ye[9]==1?de=de[F0(ye[0])].apply(de,ye[3]):de=se.length==1&&qE(se)?de[pe]():de.thru(se)}return function(){var Le=arguments,De=Le[0];if(de&&Le.length==1&&Vt(De))return de.plant(De).value();for(var $e=0,it=A?m[$e].apply(this,Le):De;++$e<A;)it=m[$e].call(this,it);return it}})}function j0(d,m,A,M,Y,se,de,pe,ye,Le){var De=m&S,$e=m&w,it=m&b,vt=m&(y|x),Pt=m&k,Wt=it?n:Vm(d);function kt(){for(var Jt=arguments.length,ln=Pe(Jt),Do=Jt;Do--;)ln[Do]=arguments[Do];if(vt)var Ui=Yf(kt),jo=Am(ln,Ui);if(M&&(ln=HO(ln,M,Y,vt)),se&&(ln=WO(ln,se,de,vt)),Jt-=jo,vt&&Jt<Le){var kr=wu(ln,Ui);return e2(d,m,j0,kt.placeholder,A,ln,kr,pe,ye,Le-Jt)}var Qs=$e?A:this,wl=it?Qs[d]:d;return Jt=ln.length,pe?ln=lH(ln,pe):Pt&&Jt>1&&ln.reverse(),De&&ye<Jt&&(ln.length=ye),this&&this!==vr&&this instanceof kt&&(wl=Wt||Vm(wl)),wl.apply(Qs,ln)}return kt}function JO(d,m){return function(A,M){return g7(A,d,m(M),{})}}function $0(d,m){return function(A,M){var Y;if(A===n&&M===n)return m;if(A!==n&&(Y=A),M!==n){if(Y===n)return M;typeof A=="string"||typeof M=="string"?(A=No(A),M=No(M)):(A=$O(A),M=$O(M)),Y=d(A,M)}return Y}}function jE(d){return vl(function(m){return m=Dn(m,In(Ct())),Yt(function(A){var M=this;return d(m,function(Y){return Ti(Y,M,A)})})})}function M0(d,m){m=m===n?" ":No(m);var A=m.length;if(A<2)return A?kE(m,d):m;var M=kE(m,I0(d/Uf(m)));return Vf(m)?Su(Ws(M),0,d).join(""):M.slice(0,d)}function z7(d,m,A,M){var Y=m&w,se=Vm(d);function de(){for(var pe=-1,ye=arguments.length,Le=-1,De=M.length,$e=Pe(De+ye),it=this&&this!==vr&&this instanceof de?se:d;++Le<De;)$e[Le]=M[Le];for(;ye--;)$e[Le++]=arguments[++pe];return Ti(it,Y?A:this,$e)}return de}function ZO(d){return function(m,A,M){return M&&typeof M!="number"&&Vi(m,A,M)&&(A=M=n),m=_l(m),A===n?(A=m,m=0):A=_l(A),M=M===n?m<A?1:-1:_l(M),P7(m,A,M,d)}}function B0(d){return function(m,A){return typeof m=="string"&&typeof A=="string"||(m=us(m),A=us(A)),d(m,A)}}function e2(d,m,A,M,Y,se,de,pe,ye,Le){var De=m&y,$e=De?de:n,it=De?n:de,vt=De?se:n,Pt=De?n:se;m|=De?I:O,m&=~(De?O:I),m&v||(m&=~(w|b));var Wt=[d,m,Y,vt,$e,Pt,it,pe,ye,Le],kt=A.apply(n,Wt);return qE(d)&&f2(kt,Wt),kt.placeholder=M,h2(kt,d,m)}function $E(d){var m=qr[d];return function(A,M){if(A=us(A),M=M==null?0:Ci(Ht(M),292),M&&hO(A)){var Y=(Tn(A)+"e").split("e"),se=m(Y[0]+"e"+(+Y[1]+M));return Y=(Tn(se)+"e").split("e"),+(Y[0]+"e"+(+Y[1]-M))}return m(A)}}var q7=Hf&&1/p0(new Hf([,-0]))[1]==B?function(d){return new Hf(d)}:oI;function t2(d){return function(m){var A=Pi(m);return A==we?hE(m):A==me?a8(m):zr(m,d(m))}}function gl(d,m,A,M,Y,se,de,pe){var ye=m&b;if(!ye&&typeof d!="function")throw new is(s);var Le=M?M.length:0;if(Le||(m&=~(I|O),M=Y=n),de=de===n?de:Hr(Ht(de),0),pe=pe===n?pe:Ht(pe),Le-=Y?Y.length:0,m&O){var De=M,$e=Y;M=Y=n}var it=ye?n:FE(d),vt=[d,m,A,M,Y,De,$e,se,de,pe];if(it&&oH(vt,it),d=vt[0],m=vt[1],A=vt[2],M=vt[3],Y=vt[4],pe=vt[9]=vt[9]===n?ye?0:d.length:Hr(vt[9]-Le,0),!pe&&m&(y|x)&&(m&=~(y|x)),!m||m==w)var Pt=V7(d,m,A);else m==y||m==x?Pt=U7(d,m,pe):(m==I||m==(w|I))&&!Y.length?Pt=z7(d,m,A,M):Pt=j0.apply(n,vt);var Wt=it?DO:f2;return h2(Wt(Pt,vt),d,m)}function n2(d,m,A,M){return d===n||Gs(d,qf[A])&&!Cn.call(M,A)?m:d}function r2(d,m,A,M,Y,se){return lr(d)&&lr(m)&&(se.set(m,d),O0(d,m,n,r2,se),se.delete(m)),d}function H7(d){return qm(d)?n:d}function i2(d,m,A,M,Y,se){var de=A&g,pe=d.length,ye=m.length;if(pe!=ye&&!(de&&ye>pe))return!1;var Le=se.get(d),De=se.get(m);if(Le&&De)return Le==m&&De==d;var $e=-1,it=!0,vt=A&_?new Zc:n;for(se.set(d,m),se.set(m,d);++$e<pe;){var Pt=d[$e],Wt=m[$e];if(M)var kt=de?M(Wt,Pt,$e,m,d,se):M(Pt,Wt,$e,d,m,se);if(kt!==n){if(kt)continue;it=!1;break}if(vt){if(!Bf(m,function(Jt,ln){if(!rs(vt,ln)&&(Pt===Jt||Y(Pt,Jt,A,M,se)))return vt.push(ln)})){it=!1;break}}else if(!(Pt===Wt||Y(Pt,Wt,A,M,se))){it=!1;break}}return se.delete(d),se.delete(m),it}function W7(d,m,A,M,Y,se,de){switch(A){case ot:if(d.byteLength!=m.byteLength||d.byteOffset!=m.byteOffset)return!1;d=d.buffer,m=m.buffer;case yt:return!(d.byteLength!=m.byteLength||!se(new _0(d),new _0(m)));case re:case ue:case Ce:return Gs(+d,+m);case fe:return d.name==m.name&&d.message==m.message;case Te:case Se:return d==m+"";case we:var pe=hE;case me:var ye=M&g;if(pe||(pe=p0),d.size!=m.size&&!ye)return!1;var Le=de.get(d);if(Le)return Le==m;M|=_,de.set(d,m);var De=i2(pe(d),pe(m),M,Y,se,de);return de.delete(d),De;case He:if(Dm)return Dm.call(d)==Dm.call(m)}return!1}function K7(d,m,A,M,Y,se){var de=A&g,pe=ME(d),ye=pe.length,Le=ME(m),De=Le.length;if(ye!=De&&!de)return!1;for(var $e=ye;$e--;){var it=pe[$e];if(!(de?it in m:Cn.call(m,it)))return!1}var vt=se.get(d),Pt=se.get(m);if(vt&&Pt)return vt==m&&Pt==d;var Wt=!0;se.set(d,m),se.set(m,d);for(var kt=de;++$e<ye;){it=pe[$e];var Jt=d[it],ln=m[it];if(M)var Do=de?M(ln,Jt,it,m,d,se):M(Jt,ln,it,d,m,se);if(!(Do===n?Jt===ln||Y(Jt,ln,A,M,se):Do)){Wt=!1;break}kt||(kt=it=="constructor")}if(Wt&&!kt){var Ui=d.constructor,jo=m.constructor;Ui!=jo&&"constructor"in d&&"constructor"in m&&!(typeof Ui=="function"&&Ui instanceof Ui&&typeof jo=="function"&&jo instanceof jo)&&(Wt=!1)}return se.delete(d),se.delete(m),Wt}function vl(d){return WE(c2(d,n,b2),d+"")}function ME(d){return IO(d,ti,UE)}function BE(d){return IO(d,co,o2)}var FE=S0?function(d){return S0.get(d)}:oI;function F0(d){for(var m=d.name+"",A=Wf[m],M=Cn.call(Wf,m)?A.length:0;M--;){var Y=A[M],se=Y.func;if(se==null||se==d)return Y.name}return m}function Yf(d){var m=Cn.call(ee,"placeholder")?ee:d;return m.placeholder}function Ct(){var d=ee.iteratee||rI;return d=d===rI?CO:d,arguments.length?d(arguments[0],arguments[1]):d}function V0(d,m){var A=d.__data__;return tH(m)?A[typeof m=="string"?"string":"hash"]:A.map}function VE(d){for(var m=ti(d),A=m.length;A--;){var M=m[A],Y=d[M];m[A]=[M,Y,l2(Y)]}return m}function nd(d,m){var A=i8(d,m);return SO(A)?A:n}function G7(d){var m=Cn.call(d,Xc),A=d[Xc];try{d[Xc]=n;var M=!0}catch{}var Y=y0.call(d);return M&&(m?d[Xc]=A:delete d[Xc]),Y}var UE=mE?function(d){return d==null?[]:(d=jn(d),ns(mE(d),function(m){return dO.call(d,m)}))}:sI,o2=mE?function(d){for(var m=[];d;)qs(m,UE(d)),d=w0(d);return m}:sI,Pi=Fi;(gE&&Pi(new gE(new ArrayBuffer(1)))!=ot||Om&&Pi(new Om)!=we||vE&&Pi(vE.resolve())!=he||Hf&&Pi(new Hf)!=me||Nm&&Pi(new Nm)!=ct)&&(Pi=function(d){var m=Fi(d),A=m==Oe?d.constructor:n,M=A?rd(A):"";if(M)switch(M){case A8:return ot;case R8:return we;case O8:return he;case N8:return me;case L8:return ct}return m});function Q7(d,m,A){for(var M=-1,Y=A.length;++M<Y;){var se=A[M],de=se.size;switch(se.type){case"drop":d+=de;break;case"dropRight":m-=de;break;case"take":m=Ci(m,d+de);break;case"takeRight":d=Hr(d,m-de);break}}return{start:d,end:m}}function Y7(d){var m=d.match(Ii);return m?m[1].split(_a):[]}function s2(d,m,A){m=Tu(m,d);for(var M=-1,Y=m.length,se=!1;++M<Y;){var de=Ca(m[M]);if(!(se=d!=null&&A(d,de)))break;d=d[de]}return se||++M!=Y?se:(Y=d==null?0:d.length,!!Y&&G0(Y)&&yl(de,Y)&&(Vt(d)||id(d)))}function X7(d){var m=d.length,A=new d.constructor(m);return m&&typeof d[0]=="string"&&Cn.call(d,"index")&&(A.index=d.index,A.input=d.input),A}function a2(d){return typeof d.constructor=="function"&&!Um(d)?Kf(w0(d)):{}}function J7(d,m,A){var M=d.constructor;switch(m){case yt:return DE(d);case re:case ue:return new M(+d);case ot:return D7(d,A);case ht:case Tt:case xn:case zn:case mt:case Kt:case sn:case mr:case to:return zO(d,A);case we:return new M;case Ce:case Se:return new M(d);case Te:return j7(d);case me:return new M;case He:return $7(d)}}function Z7(d,m){var A=m.length;if(!A)return d;var M=A-1;return m[M]=(A>1?"& ":"")+m[M],m=m.join(A>2?", ":" "),d.replace(Fc,`{
/* [wrapped with `+m+`] */
`)}function eH(d){return Vt(d)||id(d)||!!(fO&&d&&d[fO])}function yl(d,m){var A=typeof d;return m=m??W,!!m&&(A=="number"||A!="symbol"&&gr.test(d))&&d>-1&&d%1==0&&d<m}function Vi(d,m,A){if(!lr(A))return!1;var M=typeof m;return(M=="number"?uo(A)&&yl(m,A.length):M=="string"&&m in A)?Gs(A[m],d):!1}function zE(d,m){if(Vt(d))return!1;var A=typeof d;return A=="number"||A=="symbol"||A=="boolean"||d==null||Lo(d)?!0:ba.test(d)||!Ds.test(d)||m!=null&&d in jn(m)}function tH(d){var m=typeof d;return m=="string"||m=="number"||m=="symbol"||m=="boolean"?d!=="__proto__":d===null}function qE(d){var m=F0(d),A=ee[m];if(typeof A!="function"||!(m in nn.prototype))return!1;if(d===A)return!0;var M=FE(A);return!!M&&d===M[0]}function nH(d){return!!lO&&lO in d}var rH=g0?bl:aI;function Um(d){var m=d&&d.constructor,A=typeof m=="function"&&m.prototype||qf;return d===A}function l2(d){return d===d&&!lr(d)}function u2(d,m){return function(A){return A==null?!1:A[d]===m&&(m!==n||d in jn(A))}}function iH(d){var m=W0(d,function(M){return A.size===u&&A.clear(),M}),A=m.cache;return m}function oH(d,m){var A=d[1],M=m[1],Y=A|M,se=Y<(w|b|S),de=M==S&&A==y||M==S&&A==C&&d[7].length<=m[8]||M==(S|C)&&m[7].length<=m[8]&&A==y;if(!(se||de))return d;M&w&&(d[2]=m[2],Y|=A&w?0:v);var pe=m[3];if(pe){var ye=d[3];d[3]=ye?HO(ye,pe,m[4]):pe,d[4]=ye?wu(d[3],c):m[4]}return pe=m[5],pe&&(ye=d[5],d[5]=ye?WO(ye,pe,m[6]):pe,d[6]=ye?wu(d[5],c):m[6]),pe=m[7],pe&&(d[7]=pe),M&S&&(d[8]=d[8]==null?m[8]:Ci(d[8],m[8])),d[9]==null&&(d[9]=m[9]),d[0]=m[0],d[1]=Y,d}function sH(d){var m=[];if(d!=null)for(var A in jn(d))m.push(A);return m}function aH(d){return y0.call(d)}function c2(d,m,A){return m=Hr(m===n?d.length-1:m,0),function(){for(var M=arguments,Y=-1,se=Hr(M.length-m,0),de=Pe(se);++Y<se;)de[Y]=M[m+Y];Y=-1;for(var pe=Pe(m+1);++Y<m;)pe[Y]=M[Y];return pe[m]=A(de),Ti(d,this,pe)}}function d2(d,m){return m.length<2?d:td(d,as(m,0,-1))}function lH(d,m){for(var A=d.length,M=Ci(m.length,A),Y=lo(d);M--;){var se=m[M];d[M]=yl(se,A)?Y[se]:n}return d}function HE(d,m){if(!(m==="constructor"&&typeof d[m]=="function")&&m!="__proto__")return d[m]}var f2=p2(DO),zm=E8||function(d,m){return vr.setTimeout(d,m)},WE=p2(R7);function h2(d,m,A){var M=m+"";return WE(d,Z7(M,uH(Y7(M),A)))}function p2(d){var m=0,A=0;return function(){var M=C8(),Y=N-(M-A);if(A=M,Y>0){if(++m>=L)return arguments[0]}else m=0;return d.apply(n,arguments)}}function U0(d,m){var A=-1,M=d.length,Y=M-1;for(m=m===n?M:m;++A<m;){var se=PE(A,Y),de=d[se];d[se]=d[A],d[A]=de}return d.length=m,d}var m2=iH(function(d){var m=[];return d.charCodeAt(0)===46&&m.push(""),d.replace(sr,function(A,M,Y,se){m.push(Y?se.replace(ol,"$1"):M||A)}),m});function Ca(d){if(typeof d=="string"||Lo(d))return d;var m=d+"";return m=="0"&&1/d==-B?"-0":m}function rd(d){if(d!=null){try{return v0.call(d)}catch{}try{return d+""}catch{}}return""}function uH(d,m){return Bi(ne,function(A){var M="_."+A[0];m&A[1]&&!Gc(d,M)&&d.push(M)}),d.sort()}function g2(d){if(d instanceof nn)return d.clone();var m=new os(d.__wrapped__,d.__chain__);return m.__actions__=lo(d.__actions__),m.__index__=d.__index__,m.__values__=d.__values__,m}function cH(d,m,A){(A?Vi(d,m,A):m===n)?m=1:m=Hr(Ht(m),0);var M=d==null?0:d.length;if(!M||m<1)return[];for(var Y=0,se=0,de=Pe(I0(M/m));Y<M;)de[se++]=as(d,Y,Y+=m);return de}function dH(d){for(var m=-1,A=d==null?0:d.length,M=0,Y=[];++m<A;){var se=d[m];se&&(Y[M++]=se)}return Y}function fH(){var d=arguments.length;if(!d)return[];for(var m=Pe(d-1),A=arguments[0],M=d;M--;)m[M-1]=arguments[M];return qs(Vt(A)?lo(A):[A],hi(m,1))}var hH=Yt(function(d,m){return Pr(d)?$m(d,hi(m,1,Pr,!0)):[]}),pH=Yt(function(d,m){var A=ls(m);return Pr(A)&&(A=n),Pr(d)?$m(d,hi(m,1,Pr,!0),Ct(A,2)):[]}),mH=Yt(function(d,m){var A=ls(m);return Pr(A)&&(A=n),Pr(d)?$m(d,hi(m,1,Pr,!0),n,A):[]});function gH(d,m,A){var M=d==null?0:d.length;return M?(m=A||m===n?1:Ht(m),as(d,m<0?0:m,M)):[]}function vH(d,m,A){var M=d==null?0:d.length;return M?(m=A||m===n?1:Ht(m),m=M-m,as(d,0,m<0?0:m)):[]}function yH(d,m){return d&&d.length?L0(d,Ct(m,3),!0,!0):[]}function bH(d,m){return d&&d.length?L0(d,Ct(m,3),!0):[]}function _H(d,m,A,M){var Y=d==null?0:d.length;return Y?(A&&typeof A!="number"&&Vi(d,m,A)&&(A=0,M=Y),f7(d,m,A,M)):[]}function v2(d,m,A){var M=d==null?0:d.length;if(!M)return-1;var Y=A==null?0:Ht(A);return Y<0&&(Y=Hr(M+Y,0)),Qc(d,Ct(m,3),Y)}function y2(d,m,A){var M=d==null?0:d.length;if(!M)return-1;var Y=M-1;return A!==n&&(Y=Ht(A),Y=A<0?Hr(M+Y,0):Ci(Y,M-1)),Qc(d,Ct(m,3),Y,!0)}function b2(d){var m=d==null?0:d.length;return m?hi(d,1):[]}function wH(d){var m=d==null?0:d.length;return m?hi(d,B):[]}function xH(d,m){var A=d==null?0:d.length;return A?(m=m===n?1:Ht(m),hi(d,m)):[]}function EH(d){for(var m=-1,A=d==null?0:d.length,M={};++m<A;){var Y=d[m];M[Y[0]]=Y[1]}return M}function _2(d){return d&&d.length?d[0]:n}function IH(d,m,A){var M=d==null?0:d.length;if(!M)return-1;var Y=A==null?0:Ht(A);return Y<0&&(Y=Hr(M+Y,0)),fl(d,m,Y)}function TH(d){var m=d==null?0:d.length;return m?as(d,0,-1):[]}var SH=Yt(function(d){var m=Dn(d,NE);return m.length&&m[0]===d[0]?EE(m):[]}),CH=Yt(function(d){var m=ls(d),A=Dn(d,NE);return m===ls(A)?m=n:A.pop(),A.length&&A[0]===d[0]?EE(A,Ct(m,2)):[]}),PH=Yt(function(d){var m=ls(d),A=Dn(d,NE);return m=typeof m=="function"?m:n,m&&A.pop(),A.length&&A[0]===d[0]?EE(A,n,m):[]});function kH(d,m){return d==null?"":T8.call(d,m)}function ls(d){var m=d==null?0:d.length;return m?d[m-1]:n}function AH(d,m,A){var M=d==null?0:d.length;if(!M)return-1;var Y=M;return A!==n&&(Y=Ht(A),Y=Y<0?Hr(M+Y,0):Ci(Y,M-1)),m===m?u8(d,m,Y):Qc(d,T,Y,!0)}function RH(d,m){return d&&d.length?RO(d,Ht(m)):n}var OH=Yt(w2);function w2(d,m){return d&&d.length&&m&&m.length?CE(d,m):d}function NH(d,m,A){return d&&d.length&&m&&m.length?CE(d,m,Ct(A,2)):d}function LH(d,m,A){return d&&d.length&&m&&m.length?CE(d,m,n,A):d}var DH=vl(function(d,m){var A=d==null?0:d.length,M=bE(d,m);return LO(d,Dn(m,function(Y){return yl(Y,A)?+Y:Y}).sort(qO)),M});function jH(d,m){var A=[];if(!(d&&d.length))return A;var M=-1,Y=[],se=d.length;for(m=Ct(m,3);++M<se;){var de=d[M];m(de,M,d)&&(A.push(de),Y.push(M))}return LO(d,Y),A}function KE(d){return d==null?d:k8.call(d)}function $H(d,m,A){var M=d==null?0:d.length;return M?(A&&typeof A!="number"&&Vi(d,m,A)?(m=0,A=M):(m=m==null?0:Ht(m),A=A===n?M:Ht(A)),as(d,m,A)):[]}function MH(d,m){return N0(d,m)}function BH(d,m,A){return AE(d,m,Ct(A,2))}function FH(d,m){var A=d==null?0:d.length;if(A){var M=N0(d,m);if(M<A&&Gs(d[M],m))return M}return-1}function VH(d,m){return N0(d,m,!0)}function UH(d,m,A){return AE(d,m,Ct(A,2),!0)}function zH(d,m){var A=d==null?0:d.length;if(A){var M=N0(d,m,!0)-1;if(Gs(d[M],m))return M}return-1}function qH(d){return d&&d.length?jO(d):[]}function HH(d,m){return d&&d.length?jO(d,Ct(m,2)):[]}function WH(d){var m=d==null?0:d.length;return m?as(d,1,m):[]}function KH(d,m,A){return d&&d.length?(m=A||m===n?1:Ht(m),as(d,0,m<0?0:m)):[]}function GH(d,m,A){var M=d==null?0:d.length;return M?(m=A||m===n?1:Ht(m),m=M-m,as(d,m<0?0:m,M)):[]}function QH(d,m){return d&&d.length?L0(d,Ct(m,3),!1,!0):[]}function YH(d,m){return d&&d.length?L0(d,Ct(m,3)):[]}var XH=Yt(function(d){return Iu(hi(d,1,Pr,!0))}),JH=Yt(function(d){var m=ls(d);return Pr(m)&&(m=n),Iu(hi(d,1,Pr,!0),Ct(m,2))}),ZH=Yt(function(d){var m=ls(d);return m=typeof m=="function"?m:n,Iu(hi(d,1,Pr,!0),n,m)});function eW(d){return d&&d.length?Iu(d):[]}function tW(d,m){return d&&d.length?Iu(d,Ct(m,2)):[]}function nW(d,m){return m=typeof m=="function"?m:n,d&&d.length?Iu(d,n,m):[]}function GE(d){if(!(d&&d.length))return[];var m=0;return d=ns(d,function(A){if(Pr(A))return m=Hr(A.length,m),!0}),yn(m,function(A){return Dn(d,H(A))})}function x2(d,m){if(!(d&&d.length))return[];var A=GE(d);return m==null?A:Dn(A,function(M){return Ti(m,n,M)})}var rW=Yt(function(d,m){return Pr(d)?$m(d,m):[]}),iW=Yt(function(d){return OE(ns(d,Pr))}),oW=Yt(function(d){var m=ls(d);return Pr(m)&&(m=n),OE(ns(d,Pr),Ct(m,2))}),sW=Yt(function(d){var m=ls(d);return m=typeof m=="function"?m:n,OE(ns(d,Pr),n,m)}),aW=Yt(GE);function lW(d,m){return FO(d||[],m||[],jm)}function uW(d,m){return FO(d||[],m||[],Fm)}var cW=Yt(function(d){var m=d.length,A=m>1?d[m-1]:n;return A=typeof A=="function"?(d.pop(),A):n,x2(d,A)});function E2(d){var m=ee(d);return m.__chain__=!0,m}function dW(d,m){return m(d),d}function z0(d,m){return m(d)}var fW=vl(function(d){var m=d.length,A=m?d[0]:0,M=this.__wrapped__,Y=function(se){return bE(se,d)};return m>1||this.__actions__.length||!(M instanceof nn)||!yl(A)?this.thru(Y):(M=M.slice(A,+A+(m?1:0)),M.__actions__.push({func:z0,args:[Y],thisArg:n}),new os(M,this.__chain__).thru(function(se){return m&&!se.length&&se.push(n),se}))});function hW(){return E2(this)}function pW(){return new os(this.value(),this.__chain__)}function mW(){this.__values__===n&&(this.__values__=$2(this.value()));var d=this.__index__>=this.__values__.length,m=d?n:this.__values__[this.__index__++];return{done:d,value:m}}function gW(){return this}function vW(d){for(var m,A=this;A instanceof P0;){var M=g2(A);M.__index__=0,M.__values__=n,m?Y.__wrapped__=M:m=M;var Y=M;A=A.__wrapped__}return Y.__wrapped__=d,m}function yW(){var d=this.__wrapped__;if(d instanceof nn){var m=d;return this.__actions__.length&&(m=new nn(this)),m=m.reverse(),m.__actions__.push({func:z0,args:[KE],thisArg:n}),new os(m,this.__chain__)}return this.thru(KE)}function bW(){return BO(this.__wrapped__,this.__actions__)}var _W=D0(function(d,m,A){Cn.call(d,A)?++d[A]:ml(d,A,1)});function wW(d,m,A){var M=Vt(d)?Mf:d7;return A&&Vi(d,m,A)&&(m=n),M(d,Ct(m,3))}function xW(d,m){var A=Vt(d)?ns:xO;return A(d,Ct(m,3))}var EW=YO(v2),IW=YO(y2);function TW(d,m){return hi(q0(d,m),1)}function SW(d,m){return hi(q0(d,m),B)}function CW(d,m,A){return A=A===n?1:Ht(A),hi(q0(d,m),A)}function I2(d,m){var A=Vt(d)?Bi:Eu;return A(d,Ct(m,3))}function T2(d,m){var A=Vt(d)?c0:wO;return A(d,Ct(m,3))}var PW=D0(function(d,m,A){Cn.call(d,A)?d[A].push(m):ml(d,A,[m])});function kW(d,m,A,M){d=uo(d)?d:Jf(d),A=A&&!M?Ht(A):0;var Y=d.length;return A<0&&(A=Hr(Y+A,0)),Q0(d)?A<=Y&&d.indexOf(m,A)>-1:!!Y&&fl(d,m,A)>-1}var AW=Yt(function(d,m,A){var M=-1,Y=typeof m=="function",se=uo(d)?Pe(d.length):[];return Eu(d,function(de){se[++M]=Y?Ti(m,de,A):Mm(de,m,A)}),se}),RW=D0(function(d,m,A){ml(d,A,m)});function q0(d,m){var A=Vt(d)?Dn:PO;return A(d,Ct(m,3))}function OW(d,m,A,M){return d==null?[]:(Vt(m)||(m=m==null?[]:[m]),A=M?n:A,Vt(A)||(A=A==null?[]:[A]),OO(d,m,A))}var NW=D0(function(d,m,A){d[A?0:1].push(m)},function(){return[[],[]]});function LW(d,m,A){var M=Vt(d)?Hs:xe,Y=arguments.length<3;return M(d,Ct(m,4),A,Y,Eu)}function DW(d,m,A){var M=Vt(d)?d0:xe,Y=arguments.length<3;return M(d,Ct(m,4),A,Y,wO)}function jW(d,m){var A=Vt(d)?ns:xO;return A(d,K0(Ct(m,3)))}function $W(d){var m=Vt(d)?vO:k7;return m(d)}function MW(d,m,A){(A?Vi(d,m,A):m===n)?m=1:m=Ht(m);var M=Vt(d)?s7:A7;return M(d,m)}function BW(d){var m=Vt(d)?a7:O7;return m(d)}function FW(d){if(d==null)return 0;if(uo(d))return Q0(d)?Uf(d):d.length;var m=Pi(d);return m==we||m==me?d.size:TE(d).length}function VW(d,m,A){var M=Vt(d)?Bf:N7;return A&&Vi(d,m,A)&&(m=n),M(d,Ct(m,3))}var UW=Yt(function(d,m){if(d==null)return[];var A=m.length;return A>1&&Vi(d,m[0],m[1])?m=[]:A>2&&Vi(m[0],m[1],m[2])&&(m=[m[0]]),OO(d,hi(m,1),[])}),H0=x8||function(){return vr.Date.now()};function zW(d,m){if(typeof m!="function")throw new is(s);return d=Ht(d),function(){if(--d<1)return m.apply(this,arguments)}}function S2(d,m,A){return m=A?n:m,m=d&&m==null?d.length:m,gl(d,S,n,n,n,n,m)}function C2(d,m){var A;if(typeof m!="function")throw new is(s);return d=Ht(d),function(){return--d>0&&(A=m.apply(this,arguments)),d<=1&&(m=n),A}}var QE=Yt(function(d,m,A){var M=w;if(A.length){var Y=wu(A,Yf(QE));M|=I}return gl(d,M,m,A,Y)}),P2=Yt(function(d,m,A){var M=w|b;if(A.length){var Y=wu(A,Yf(P2));M|=I}return gl(m,M,d,A,Y)});function k2(d,m,A){m=A?n:m;var M=gl(d,y,n,n,n,n,n,m);return M.placeholder=k2.placeholder,M}function A2(d,m,A){m=A?n:m;var M=gl(d,x,n,n,n,n,n,m);return M.placeholder=A2.placeholder,M}function R2(d,m,A){var M,Y,se,de,pe,ye,Le=0,De=!1,$e=!1,it=!0;if(typeof d!="function")throw new is(s);m=us(m)||0,lr(A)&&(De=!!A.leading,$e="maxWait"in A,se=$e?Hr(us(A.maxWait)||0,m):se,it="trailing"in A?!!A.trailing:it);function vt(kr){var Qs=M,wl=Y;return M=Y=n,Le=kr,de=d.apply(wl,Qs),de}function Pt(kr){return Le=kr,pe=zm(Jt,m),De?vt(kr):de}function Wt(kr){var Qs=kr-ye,wl=kr-Le,Y2=m-Qs;return $e?Ci(Y2,se-wl):Y2}function kt(kr){var Qs=kr-ye,wl=kr-Le;return ye===n||Qs>=m||Qs<0||$e&&wl>=se}function Jt(){var kr=H0();if(kt(kr))return ln(kr);pe=zm(Jt,Wt(kr))}function ln(kr){return pe=n,it&&M?vt(kr):(M=Y=n,de)}function Do(){pe!==n&&VO(pe),Le=0,M=ye=Y=pe=n}function Ui(){return pe===n?de:ln(H0())}function jo(){var kr=H0(),Qs=kt(kr);if(M=arguments,Y=this,ye=kr,Qs){if(pe===n)return Pt(ye);if($e)return VO(pe),pe=zm(Jt,m),vt(ye)}return pe===n&&(pe=zm(Jt,m)),de}return jo.cancel=Do,jo.flush=Ui,jo}var qW=Yt(function(d,m){return _O(d,1,m)}),HW=Yt(function(d,m,A){return _O(d,us(m)||0,A)});function WW(d){return gl(d,k)}function W0(d,m){if(typeof d!="function"||m!=null&&typeof m!="function")throw new is(s);var A=function(){var M=arguments,Y=m?m.apply(this,M):M[0],se=A.cache;if(se.has(Y))return se.get(Y);var de=d.apply(this,M);return A.cache=se.set(Y,de)||se,de};return A.cache=new(W0.Cache||pl),A}W0.Cache=pl;function K0(d){if(typeof d!="function")throw new is(s);return function(){var m=arguments;switch(m.length){case 0:return!d.call(this);case 1:return!d.call(this,m[0]);case 2:return!d.call(this,m[0],m[1]);case 3:return!d.call(this,m[0],m[1],m[2])}return!d.apply(this,m)}}function KW(d){return C2(2,d)}var GW=L7(function(d,m){m=m.length==1&&Vt(m[0])?Dn(m[0],In(Ct())):Dn(hi(m,1),In(Ct()));var A=m.length;return Yt(function(M){for(var Y=-1,se=Ci(M.length,A);++Y<se;)M[Y]=m[Y].call(this,M[Y]);return Ti(d,this,M)})}),YE=Yt(function(d,m){var A=wu(m,Yf(YE));return gl(d,I,n,m,A)}),O2=Yt(function(d,m){var A=wu(m,Yf(O2));return gl(d,O,n,m,A)}),QW=vl(function(d,m){return gl(d,C,n,n,n,m)});function YW(d,m){if(typeof d!="function")throw new is(s);return m=m===n?m:Ht(m),Yt(d,m)}function XW(d,m){if(typeof d!="function")throw new is(s);return m=m==null?0:Hr(Ht(m),0),Yt(function(A){var M=A[m],Y=Su(A,0,m);return M&&qs(Y,M),Ti(d,this,Y)})}function JW(d,m,A){var M=!0,Y=!0;if(typeof d!="function")throw new is(s);return lr(A)&&(M="leading"in A?!!A.leading:M,Y="trailing"in A?!!A.trailing:Y),R2(d,m,{leading:M,maxWait:m,trailing:Y})}function ZW(d){return S2(d,1)}function eK(d,m){return YE(LE(m),d)}function tK(){if(!arguments.length)return[];var d=arguments[0];return Vt(d)?d:[d]}function nK(d){return ss(d,p)}function rK(d,m){return m=typeof m=="function"?m:n,ss(d,p,m)}function iK(d){return ss(d,f|p)}function oK(d,m){return m=typeof m=="function"?m:n,ss(d,f|p,m)}function sK(d,m){return m==null||bO(d,m,ti(m))}function Gs(d,m){return d===m||d!==d&&m!==m}var aK=B0(xE),lK=B0(function(d,m){return d>=m}),id=TO(function(){return arguments}())?TO:function(d){return yr(d)&&Cn.call(d,"callee")&&!dO.call(d,"callee")},Vt=Pe.isArray,uK=Pm?In(Pm):v7;function uo(d){return d!=null&&G0(d.length)&&!bl(d)}function Pr(d){return yr(d)&&uo(d)}function cK(d){return d===!0||d===!1||yr(d)&&Fi(d)==re}var Cu=I8||aI,dK=$f?In($f):y7;function fK(d){return yr(d)&&d.nodeType===1&&!qm(d)}function hK(d){if(d==null)return!0;if(uo(d)&&(Vt(d)||typeof d=="string"||typeof d.splice=="function"||Cu(d)||Xf(d)||id(d)))return!d.length;var m=Pi(d);if(m==we||m==me)return!d.size;if(Um(d))return!TE(d).length;for(var A in d)if(Cn.call(d,A))return!1;return!0}function pK(d,m){return Bm(d,m)}function mK(d,m,A){A=typeof A=="function"?A:n;var M=A?A(d,m):n;return M===n?Bm(d,m,n,A):!!M}function XE(d){if(!yr(d))return!1;var m=Fi(d);return m==fe||m==te||typeof d.message=="string"&&typeof d.name=="string"&&!qm(d)}function gK(d){return typeof d=="number"&&hO(d)}function bl(d){if(!lr(d))return!1;var m=Fi(d);return m==be||m==ve||m==Z||m==_e}function N2(d){return typeof d=="number"&&d==Ht(d)}function G0(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=W}function lr(d){var m=typeof d;return d!=null&&(m=="object"||m=="function")}function yr(d){return d!=null&&typeof d=="object"}var L2=Hc?In(Hc):_7;function vK(d,m){return d===m||IE(d,m,VE(m))}function yK(d,m,A){return A=typeof A=="function"?A:n,IE(d,m,VE(m),A)}function bK(d){return D2(d)&&d!=+d}function _K(d){if(rH(d))throw new $t(o);return SO(d)}function wK(d){return d===null}function xK(d){return d==null}function D2(d){return typeof d=="number"||yr(d)&&Fi(d)==Ce}function qm(d){if(!yr(d)||Fi(d)!=Oe)return!1;var m=w0(d);if(m===null)return!0;var A=Cn.call(m,"constructor")&&m.constructor;return typeof A=="function"&&A instanceof A&&v0.call(A)==y8}var JE=km?In(km):w7;function EK(d){return N2(d)&&d>=-W&&d<=W}var j2=Wc?In(Wc):x7;function Q0(d){return typeof d=="string"||!Vt(d)&&yr(d)&&Fi(d)==Se}function Lo(d){return typeof d=="symbol"||yr(d)&&Fi(d)==He}var Xf=u0?In(u0):E7;function IK(d){return d===n}function TK(d){return yr(d)&&Pi(d)==ct}function SK(d){return yr(d)&&Fi(d)==xt}var CK=B0(SE),PK=B0(function(d,m){return d<=m});function $2(d){if(!d)return[];if(uo(d))return Q0(d)?Ws(d):lo(d);if(Rm&&d[Rm])return s8(d[Rm]());var m=Pi(d),A=m==we?hE:m==me?p0:Jf;return A(d)}function _l(d){if(!d)return d===0?d:0;if(d=us(d),d===B||d===-B){var m=d<0?-1:1;return m*Q}return d===d?d:0}function Ht(d){var m=_l(d),A=m%1;return m===m?A?m-A:m:0}function M2(d){return d?ed(Ht(d),0,j):0}function us(d){if(typeof d=="number")return d;if(Lo(d))return G;if(lr(d)){var m=typeof d.valueOf=="function"?d.valueOf():d;d=lr(m)?m+"":m}if(typeof d!="string")return d===0?d:+d;d=an(d);var A=fu.test(d);return A||jt.test(d)?a0(d.slice(2),A?2:8):oo.test(d)?G:+d}function B2(d){return Sa(d,co(d))}function kK(d){return d?ed(Ht(d),-W,W):d===0?d:0}function Tn(d){return d==null?"":No(d)}var AK=Gf(function(d,m){if(Um(m)||uo(m)){Sa(m,ti(m),d);return}for(var A in m)Cn.call(m,A)&&jm(d,A,m[A])}),F2=Gf(function(d,m){Sa(m,co(m),d)}),Y0=Gf(function(d,m,A,M){Sa(m,co(m),d,M)}),RK=Gf(function(d,m,A,M){Sa(m,ti(m),d,M)}),OK=vl(bE);function NK(d,m){var A=Kf(d);return m==null?A:yO(A,m)}var LK=Yt(function(d,m){d=jn(d);var A=-1,M=m.length,Y=M>2?m[2]:n;for(Y&&Vi(m[0],m[1],Y)&&(M=1);++A<M;)for(var se=m[A],de=co(se),pe=-1,ye=de.length;++pe<ye;){var Le=de[pe],De=d[Le];(De===n||Gs(De,qf[Le])&&!Cn.call(d,Le))&&(d[Le]=se[Le])}return d}),DK=Yt(function(d){return d.push(n,r2),Ti(V2,n,d)});function jK(d,m){return Si(d,Ct(m,3),Ta)}function $K(d,m){return Si(d,Ct(m,3),wE)}function MK(d,m){return d==null?d:_E(d,Ct(m,3),co)}function BK(d,m){return d==null?d:EO(d,Ct(m,3),co)}function FK(d,m){return d&&Ta(d,Ct(m,3))}function VK(d,m){return d&&wE(d,Ct(m,3))}function UK(d){return d==null?[]:R0(d,ti(d))}function zK(d){return d==null?[]:R0(d,co(d))}function ZE(d,m,A){var M=d==null?n:td(d,m);return M===n?A:M}function qK(d,m){return d!=null&&s2(d,m,h7)}function eI(d,m){return d!=null&&s2(d,m,p7)}var HK=JO(function(d,m,A){m!=null&&typeof m.toString!="function"&&(m=y0.call(m)),d[m]=A},nI(fo)),WK=JO(function(d,m,A){m!=null&&typeof m.toString!="function"&&(m=y0.call(m)),Cn.call(d,m)?d[m].push(A):d[m]=[A]},Ct),KK=Yt(Mm);function ti(d){return uo(d)?gO(d):TE(d)}function co(d){return uo(d)?gO(d,!0):I7(d)}function GK(d,m){var A={};return m=Ct(m,3),Ta(d,function(M,Y,se){ml(A,m(M,Y,se),M)}),A}function QK(d,m){var A={};return m=Ct(m,3),Ta(d,function(M,Y,se){ml(A,Y,m(M,Y,se))}),A}var YK=Gf(function(d,m,A){O0(d,m,A)}),V2=Gf(function(d,m,A,M){O0(d,m,A,M)}),XK=vl(function(d,m){var A={};if(d==null)return A;var M=!1;m=Dn(m,function(se){return se=Tu(se,d),M||(M=se.length>1),se}),Sa(d,BE(d),A),M&&(A=ss(A,f|h|p,H7));for(var Y=m.length;Y--;)RE(A,m[Y]);return A});function JK(d,m){return U2(d,K0(Ct(m)))}var ZK=vl(function(d,m){return d==null?{}:S7(d,m)});function U2(d,m){if(d==null)return{};var A=Dn(BE(d),function(M){return[M]});return m=Ct(m),NO(d,A,function(M,Y){return m(M,Y[0])})}function eG(d,m,A){m=Tu(m,d);var M=-1,Y=m.length;for(Y||(Y=1,d=n);++M<Y;){var se=d==null?n:d[Ca(m[M])];se===n&&(M=Y,se=A),d=bl(se)?se.call(d):se}return d}function tG(d,m,A){return d==null?d:Fm(d,m,A)}function nG(d,m,A,M){return M=typeof M=="function"?M:n,d==null?d:Fm(d,m,A,M)}var z2=t2(ti),q2=t2(co);function rG(d,m,A){var M=Vt(d),Y=M||Cu(d)||Xf(d);if(m=Ct(m,4),A==null){var se=d&&d.constructor;Y?A=M?new se:[]:lr(d)?A=bl(se)?Kf(w0(d)):{}:A={}}return(Y?Bi:Ta)(d,function(de,pe,ye){return m(A,de,pe,ye)}),A}function iG(d,m){return d==null?!0:RE(d,m)}function oG(d,m,A){return d==null?d:MO(d,m,LE(A))}function sG(d,m,A,M){return M=typeof M=="function"?M:n,d==null?d:MO(d,m,LE(A),M)}function Jf(d){return d==null?[]:jr(d,ti(d))}function aG(d){return d==null?[]:jr(d,co(d))}function lG(d,m,A){return A===n&&(A=m,m=n),A!==n&&(A=us(A),A=A===A?A:0),m!==n&&(m=us(m),m=m===m?m:0),ed(us(d),m,A)}function uG(d,m,A){return m=_l(m),A===n?(A=m,m=0):A=_l(A),d=us(d),m7(d,m,A)}function cG(d,m,A){if(A&&typeof A!="boolean"&&Vi(d,m,A)&&(m=A=n),A===n&&(typeof m=="boolean"?(A=m,m=n):typeof d=="boolean"&&(A=d,d=n)),d===n&&m===n?(d=0,m=1):(d=_l(d),m===n?(m=d,d=0):m=_l(m)),d>m){var M=d;d=m,m=M}if(A||d%1||m%1){var Y=pO();return Ci(d+Y*(m-d+Im("1e-"+((Y+"").length-1))),m)}return PE(d,m)}var dG=Qf(function(d,m,A){return m=m.toLowerCase(),d+(A?H2(m):m)});function H2(d){return tI(Tn(d).toLowerCase())}function W2(d){return d=Tn(d),d&&d.replace(Af,t8).replace(Ft,"")}function fG(d,m,A){d=Tn(d),m=No(m);var M=d.length;A=A===n?M:ed(Ht(A),0,M);var Y=A;return A-=m.length,A>=0&&d.slice(A,Y)==m}function hG(d){return d=Tn(d),d&&no.test(d)?d.replace(Ns,n8):d}function pG(d){return d=Tn(d),d&&Oo.test(d)?d.replace(io,"\\$&"):d}var mG=Qf(function(d,m,A){return d+(A?"-":"")+m.toLowerCase()}),gG=Qf(function(d,m,A){return d+(A?" ":"")+m.toLowerCase()}),vG=QO("toLowerCase");function yG(d,m,A){d=Tn(d),m=Ht(m);var M=m?Uf(d):0;if(!m||M>=m)return d;var Y=(m-M)/2;return M0(T0(Y),A)+d+M0(I0(Y),A)}function bG(d,m,A){d=Tn(d),m=Ht(m);var M=m?Uf(d):0;return m&&M<m?d+M0(m-M,A):d}function _G(d,m,A){d=Tn(d),m=Ht(m);var M=m?Uf(d):0;return m&&M<m?M0(m-M,A)+d:d}function wG(d,m,A){return A||m==null?m=0:m&&(m=+m),P8(Tn(d).replace(ar,""),m||0)}function xG(d,m,A){return(A?Vi(d,m,A):m===n)?m=1:m=Ht(m),kE(Tn(d),m)}function EG(){var d=arguments,m=Tn(d[0]);return d.length<3?m:m.replace(d[1],d[2])}var IG=Qf(function(d,m,A){return d+(A?"_":"")+m.toLowerCase()});function TG(d,m,A){return A&&typeof A!="number"&&Vi(d,m,A)&&(m=A=n),A=A===n?j:A>>>0,A?(d=Tn(d),d&&(typeof m=="string"||m!=null&&!JE(m))&&(m=No(m),!m&&Vf(d))?Su(Ws(d),0,A):d.split(m,A)):[]}var SG=Qf(function(d,m,A){return d+(A?" ":"")+tI(m)});function CG(d,m,A){return d=Tn(d),A=A==null?0:ed(Ht(A),0,d.length),m=No(m),d.slice(A,A+m.length)==m}function PG(d,m,A){var M=ee.templateSettings;A&&Vi(d,m,A)&&(m=n),d=Tn(d),m=Y0({},m,M,n2);var Y=Y0({},m.imports,M.imports,n2),se=ti(Y),de=jr(Y,se),pe,ye,Le=0,De=m.interpolate||sl,$e="__p += '",it=pE((m.escape||sl).source+"|"+De.source+"|"+(De===il?wa:sl).source+"|"+(m.evaluate||sl).source+"|$","g"),vt="//# sourceURL="+(Cn.call(m,"sourceURL")?(m.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Cr+"]")+`
`;d.replace(it,function(kt,Jt,ln,Do,Ui,jo){return ln||(ln=Do),$e+=d.slice(Le,jo).replace(Rf,r8),Jt&&(pe=!0,$e+=`' +
__e(`+Jt+`) +
'`),Ui&&(ye=!0,$e+=`';
`+Ui+`;
__p += '`),ln&&($e+=`' +
((__t = (`+ln+`)) == null ? '' : __t) +
'`),Le=jo+kt.length,kt}),$e+=`';
`;var Pt=Cn.call(m,"variable")&&m.variable;if(!Pt)$e=`with (obj) {
`+$e+`
}
`;else if($s.test(Pt))throw new $t(a);$e=(ye?$e.replace(va,""):$e).replace(uu,"$1").replace(cu,"$1;"),$e="function("+(Pt||"obj")+`) {
`+(Pt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(pe?", __e = _.escape":"")+(ye?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+$e+`return __p
}`;var Wt=G2(function(){return bn(se,vt+"return "+$e).apply(n,de)});if(Wt.source=$e,XE(Wt))throw Wt;return Wt}function kG(d){return Tn(d).toLowerCase()}function AG(d){return Tn(d).toUpperCase()}function RG(d,m,A){if(d=Tn(d),d&&(A||m===n))return an(d);if(!d||!(m=No(m)))return d;var M=Ws(d),Y=Ws(m),se=ao(M,Y),de=Yc(M,Y)+1;return Su(M,se,de).join("")}function OG(d,m,A){if(d=Tn(d),d&&(A||m===n))return d.slice(0,aO(d)+1);if(!d||!(m=No(m)))return d;var M=Ws(d),Y=Yc(M,Ws(m))+1;return Su(M,0,Y).join("")}function NG(d,m,A){if(d=Tn(d),d&&(A||m===n))return d.replace(ar,"");if(!d||!(m=No(m)))return d;var M=Ws(d),Y=ao(M,Ws(m));return Su(M,Y).join("")}function LG(d,m){var A=P,M=R;if(lr(m)){var Y="separator"in m?m.separator:Y;A="length"in m?Ht(m.length):A,M="omission"in m?No(m.omission):M}d=Tn(d);var se=d.length;if(Vf(d)){var de=Ws(d);se=de.length}if(A>=se)return d;var pe=A-Uf(M);if(pe<1)return M;var ye=de?Su(de,0,pe).join(""):d.slice(0,pe);if(Y===n)return ye+M;if(de&&(pe+=ye.length-pe),JE(Y)){if(d.slice(pe).search(Y)){var Le,De=ye;for(Y.global||(Y=pE(Y.source,Tn(Ms.exec(Y))+"g")),Y.lastIndex=0;Le=Y.exec(De);)var $e=Le.index;ye=ye.slice(0,$e===n?pe:$e)}}else if(d.indexOf(No(Y),pe)!=pe){var it=ye.lastIndexOf(Y);it>-1&&(ye=ye.slice(0,it))}return ye+M}function DG(d){return d=Tn(d),d&&ya.test(d)?d.replace(es,c8):d}var jG=Qf(function(d,m,A){return d+(A?" ":"")+m.toUpperCase()}),tI=QO("toUpperCase");function K2(d,m,A){return d=Tn(d),m=A?n:m,m===n?o8(d)?h8(d):Ff(d):d.match(m)||[]}var G2=Yt(function(d,m){try{return Ti(d,n,m)}catch(A){return XE(A)?A:new $t(A)}}),$G=vl(function(d,m){return Bi(m,function(A){A=Ca(A),ml(d,A,QE(d[A],d))}),d});function MG(d){var m=d==null?0:d.length,A=Ct();return d=m?Dn(d,function(M){if(typeof M[1]!="function")throw new is(s);return[A(M[0]),M[1]]}):[],Yt(function(M){for(var Y=-1;++Y<m;){var se=d[Y];if(Ti(se[0],this,M))return Ti(se[1],this,M)}})}function BG(d){return c7(ss(d,f))}function nI(d){return function(){return d}}function FG(d,m){return d==null||d!==d?m:d}var VG=XO(),UG=XO(!0);function fo(d){return d}function rI(d){return CO(typeof d=="function"?d:ss(d,f))}function zG(d){return kO(ss(d,f))}function qG(d,m){return AO(d,ss(m,f))}var HG=Yt(function(d,m){return function(A){return Mm(A,d,m)}}),WG=Yt(function(d,m){return function(A){return Mm(d,A,m)}});function iI(d,m,A){var M=ti(m),Y=R0(m,M);A==null&&!(lr(m)&&(Y.length||!M.length))&&(A=m,m=d,d=this,Y=R0(m,ti(m)));var se=!(lr(A)&&"chain"in A)||!!A.chain,de=bl(d);return Bi(Y,function(pe){var ye=m[pe];d[pe]=ye,de&&(d.prototype[pe]=function(){var Le=this.__chain__;if(se||Le){var De=d(this.__wrapped__),$e=De.__actions__=lo(this.__actions__);return $e.push({func:ye,args:arguments,thisArg:d}),De.__chain__=Le,De}return ye.apply(d,qs([this.value()],arguments))})}),d}function KG(){return vr._===this&&(vr._=b8),this}function oI(){}function GG(d){return d=Ht(d),Yt(function(m){return RO(m,d)})}var QG=jE(Dn),YG=jE(Mf),XG=jE(Bf);function Q2(d){return zE(d)?H(Ca(d)):C7(d)}function JG(d){return function(m){return d==null?n:td(d,m)}}var ZG=ZO(),eQ=ZO(!0);function sI(){return[]}function aI(){return!1}function tQ(){return{}}function nQ(){return""}function rQ(){return!0}function iQ(d,m){if(d=Ht(d),d<1||d>W)return[];var A=j,M=Ci(d,j);m=Ct(m),d-=j;for(var Y=yn(M,m);++A<d;)m(A);return Y}function oQ(d){return Vt(d)?Dn(d,Ca):Lo(d)?[d]:lo(m2(Tn(d)))}function sQ(d){var m=++v8;return Tn(d)+m}var aQ=$0(function(d,m){return d+m},0),lQ=$E("ceil"),uQ=$0(function(d,m){return d/m},1),cQ=$E("floor");function dQ(d){return d&&d.length?A0(d,fo,xE):n}function fQ(d,m){return d&&d.length?A0(d,Ct(m,2),xE):n}function hQ(d){return $(d,fo)}function pQ(d,m){return $(d,Ct(m,2))}function mQ(d){return d&&d.length?A0(d,fo,SE):n}function gQ(d,m){return d&&d.length?A0(d,Ct(m,2),SE):n}var vQ=$0(function(d,m){return d*m},1),yQ=$E("round"),bQ=$0(function(d,m){return d-m},0);function _Q(d){return d&&d.length?Ke(d,fo):0}function wQ(d,m){return d&&d.length?Ke(d,Ct(m,2)):0}return ee.after=zW,ee.ary=S2,ee.assign=AK,ee.assignIn=F2,ee.assignInWith=Y0,ee.assignWith=RK,ee.at=OK,ee.before=C2,ee.bind=QE,ee.bindAll=$G,ee.bindKey=P2,ee.castArray=tK,ee.chain=E2,ee.chunk=cH,ee.compact=dH,ee.concat=fH,ee.cond=MG,ee.conforms=BG,ee.constant=nI,ee.countBy=_W,ee.create=NK,ee.curry=k2,ee.curryRight=A2,ee.debounce=R2,ee.defaults=LK,ee.defaultsDeep=DK,ee.defer=qW,ee.delay=HW,ee.difference=hH,ee.differenceBy=pH,ee.differenceWith=mH,ee.drop=gH,ee.dropRight=vH,ee.dropRightWhile=yH,ee.dropWhile=bH,ee.fill=_H,ee.filter=xW,ee.flatMap=TW,ee.flatMapDeep=SW,ee.flatMapDepth=CW,ee.flatten=b2,ee.flattenDeep=wH,ee.flattenDepth=xH,ee.flip=WW,ee.flow=VG,ee.flowRight=UG,ee.fromPairs=EH,ee.functions=UK,ee.functionsIn=zK,ee.groupBy=PW,ee.initial=TH,ee.intersection=SH,ee.intersectionBy=CH,ee.intersectionWith=PH,ee.invert=HK,ee.invertBy=WK,ee.invokeMap=AW,ee.iteratee=rI,ee.keyBy=RW,ee.keys=ti,ee.keysIn=co,ee.map=q0,ee.mapKeys=GK,ee.mapValues=QK,ee.matches=zG,ee.matchesProperty=qG,ee.memoize=W0,ee.merge=YK,ee.mergeWith=V2,ee.method=HG,ee.methodOf=WG,ee.mixin=iI,ee.negate=K0,ee.nthArg=GG,ee.omit=XK,ee.omitBy=JK,ee.once=KW,ee.orderBy=OW,ee.over=QG,ee.overArgs=GW,ee.overEvery=YG,ee.overSome=XG,ee.partial=YE,ee.partialRight=O2,ee.partition=NW,ee.pick=ZK,ee.pickBy=U2,ee.property=Q2,ee.propertyOf=JG,ee.pull=OH,ee.pullAll=w2,ee.pullAllBy=NH,ee.pullAllWith=LH,ee.pullAt=DH,ee.range=ZG,ee.rangeRight=eQ,ee.rearg=QW,ee.reject=jW,ee.remove=jH,ee.rest=YW,ee.reverse=KE,ee.sampleSize=MW,ee.set=tG,ee.setWith=nG,ee.shuffle=BW,ee.slice=$H,ee.sortBy=UW,ee.sortedUniq=qH,ee.sortedUniqBy=HH,ee.split=TG,ee.spread=XW,ee.tail=WH,ee.take=KH,ee.takeRight=GH,ee.takeRightWhile=QH,ee.takeWhile=YH,ee.tap=dW,ee.throttle=JW,ee.thru=z0,ee.toArray=$2,ee.toPairs=z2,ee.toPairsIn=q2,ee.toPath=oQ,ee.toPlainObject=B2,ee.transform=rG,ee.unary=ZW,ee.union=XH,ee.unionBy=JH,ee.unionWith=ZH,ee.uniq=eW,ee.uniqBy=tW,ee.uniqWith=nW,ee.unset=iG,ee.unzip=GE,ee.unzipWith=x2,ee.update=oG,ee.updateWith=sG,ee.values=Jf,ee.valuesIn=aG,ee.without=rW,ee.words=K2,ee.wrap=eK,ee.xor=iW,ee.xorBy=oW,ee.xorWith=sW,ee.zip=aW,ee.zipObject=lW,ee.zipObjectDeep=uW,ee.zipWith=cW,ee.entries=z2,ee.entriesIn=q2,ee.extend=F2,ee.extendWith=Y0,iI(ee,ee),ee.add=aQ,ee.attempt=G2,ee.camelCase=dG,ee.capitalize=H2,ee.ceil=lQ,ee.clamp=lG,ee.clone=nK,ee.cloneDeep=iK,ee.cloneDeepWith=oK,ee.cloneWith=rK,ee.conformsTo=sK,ee.deburr=W2,ee.defaultTo=FG,ee.divide=uQ,ee.endsWith=fG,ee.eq=Gs,ee.escape=hG,ee.escapeRegExp=pG,ee.every=wW,ee.find=EW,ee.findIndex=v2,ee.findKey=jK,ee.findLast=IW,ee.findLastIndex=y2,ee.findLastKey=$K,ee.floor=cQ,ee.forEach=I2,ee.forEachRight=T2,ee.forIn=MK,ee.forInRight=BK,ee.forOwn=FK,ee.forOwnRight=VK,ee.get=ZE,ee.gt=aK,ee.gte=lK,ee.has=qK,ee.hasIn=eI,ee.head=_2,ee.identity=fo,ee.includes=kW,ee.indexOf=IH,ee.inRange=uG,ee.invoke=KK,ee.isArguments=id,ee.isArray=Vt,ee.isArrayBuffer=uK,ee.isArrayLike=uo,ee.isArrayLikeObject=Pr,ee.isBoolean=cK,ee.isBuffer=Cu,ee.isDate=dK,ee.isElement=fK,ee.isEmpty=hK,ee.isEqual=pK,ee.isEqualWith=mK,ee.isError=XE,ee.isFinite=gK,ee.isFunction=bl,ee.isInteger=N2,ee.isLength=G0,ee.isMap=L2,ee.isMatch=vK,ee.isMatchWith=yK,ee.isNaN=bK,ee.isNative=_K,ee.isNil=xK,ee.isNull=wK,ee.isNumber=D2,ee.isObject=lr,ee.isObjectLike=yr,ee.isPlainObject=qm,ee.isRegExp=JE,ee.isSafeInteger=EK,ee.isSet=j2,ee.isString=Q0,ee.isSymbol=Lo,ee.isTypedArray=Xf,ee.isUndefined=IK,ee.isWeakMap=TK,ee.isWeakSet=SK,ee.join=kH,ee.kebabCase=mG,ee.last=ls,ee.lastIndexOf=AH,ee.lowerCase=gG,ee.lowerFirst=vG,ee.lt=CK,ee.lte=PK,ee.max=dQ,ee.maxBy=fQ,ee.mean=hQ,ee.meanBy=pQ,ee.min=mQ,ee.minBy=gQ,ee.stubArray=sI,ee.stubFalse=aI,ee.stubObject=tQ,ee.stubString=nQ,ee.stubTrue=rQ,ee.multiply=vQ,ee.nth=RH,ee.noConflict=KG,ee.noop=oI,ee.now=H0,ee.pad=yG,ee.padEnd=bG,ee.padStart=_G,ee.parseInt=wG,ee.random=cG,ee.reduce=LW,ee.reduceRight=DW,ee.repeat=xG,ee.replace=EG,ee.result=eG,ee.round=yQ,ee.runInContext=ge,ee.sample=$W,ee.size=FW,ee.snakeCase=IG,ee.some=VW,ee.sortedIndex=MH,ee.sortedIndexBy=BH,ee.sortedIndexOf=FH,ee.sortedLastIndex=VH,ee.sortedLastIndexBy=UH,ee.sortedLastIndexOf=zH,ee.startCase=SG,ee.startsWith=CG,ee.subtract=bQ,ee.sum=_Q,ee.sumBy=wQ,ee.template=PG,ee.times=iQ,ee.toFinite=_l,ee.toInteger=Ht,ee.toLength=M2,ee.toLower=kG,ee.toNumber=us,ee.toSafeInteger=kK,ee.toString=Tn,ee.toUpper=AG,ee.trim=RG,ee.trimEnd=OG,ee.trimStart=NG,ee.truncate=LG,ee.unescape=DG,ee.uniqueId=sQ,ee.upperCase=jG,ee.upperFirst=tI,ee.each=I2,ee.eachRight=T2,ee.first=_2,iI(ee,function(){var d={};return Ta(ee,function(m,A){Cn.call(ee.prototype,A)||(d[A]=m)}),d}(),{chain:!1}),ee.VERSION=r,Bi(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){ee[d].placeholder=ee}),Bi(["drop","take"],function(d,m){nn.prototype[d]=function(A){A=A===n?1:Hr(Ht(A),0);var M=this.__filtered__&&!m?new nn(this):this.clone();return M.__filtered__?M.__takeCount__=Ci(A,M.__takeCount__):M.__views__.push({size:Ci(A,j),type:d+(M.__dir__<0?"Right":"")}),M},nn.prototype[d+"Right"]=function(A){return this.reverse()[d](A).reverse()}}),Bi(["filter","map","takeWhile"],function(d,m){var A=m+1,M=A==V||A==z;nn.prototype[d]=function(Y){var se=this.clone();return se.__iteratees__.push({iteratee:Ct(Y,3),type:A}),se.__filtered__=se.__filtered__||M,se}}),Bi(["head","last"],function(d,m){var A="take"+(m?"Right":"");nn.prototype[d]=function(){return this[A](1).value()[0]}}),Bi(["initial","tail"],function(d,m){var A="drop"+(m?"":"Right");nn.prototype[d]=function(){return this.__filtered__?new nn(this):this[A](1)}}),nn.prototype.compact=function(){return this.filter(fo)},nn.prototype.find=function(d){return this.filter(d).head()},nn.prototype.findLast=function(d){return this.reverse().find(d)},nn.prototype.invokeMap=Yt(function(d,m){return typeof d=="function"?new nn(this):this.map(function(A){return Mm(A,d,m)})}),nn.prototype.reject=function(d){return this.filter(K0(Ct(d)))},nn.prototype.slice=function(d,m){d=Ht(d);var A=this;return A.__filtered__&&(d>0||m<0)?new nn(A):(d<0?A=A.takeRight(-d):d&&(A=A.drop(d)),m!==n&&(m=Ht(m),A=m<0?A.dropRight(-m):A.take(m-d)),A)},nn.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},nn.prototype.toArray=function(){return this.take(j)},Ta(nn.prototype,function(d,m){var A=/^(?:filter|find|map|reject)|While$/.test(m),M=/^(?:head|last)$/.test(m),Y=ee[M?"take"+(m=="last"?"Right":""):m],se=M||/^find/.test(m);Y&&(ee.prototype[m]=function(){var de=this.__wrapped__,pe=M?[1]:arguments,ye=de instanceof nn,Le=pe[0],De=ye||Vt(de),$e=function(Jt){var ln=Y.apply(ee,qs([Jt],pe));return M&&it?ln[0]:ln};De&&A&&typeof Le=="function"&&Le.length!=1&&(ye=De=!1);var it=this.__chain__,vt=!!this.__actions__.length,Pt=se&&!it,Wt=ye&&!vt;if(!se&&De){de=Wt?de:new nn(this);var kt=d.apply(de,pe);return kt.__actions__.push({func:z0,args:[$e],thisArg:n}),new os(kt,it)}return Pt&&Wt?d.apply(this,pe):(kt=this.thru($e),Pt?M?kt.value()[0]:kt.value():kt)})}),Bi(["pop","push","shift","sort","splice","unshift"],function(d){var m=m0[d],A=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",M=/^(?:pop|shift)$/.test(d);ee.prototype[d]=function(){var Y=arguments;if(M&&!this.__chain__){var se=this.value();return m.apply(Vt(se)?se:[],Y)}return this[A](function(de){return m.apply(Vt(de)?de:[],Y)})}}),Ta(nn.prototype,function(d,m){var A=ee[m];if(A){var M=A.name+"";Cn.call(Wf,M)||(Wf[M]=[]),Wf[M].push({name:m,func:A})}}),Wf[j0(n,b).name]=[{name:"wrapper",func:n}],nn.prototype.clone=D8,nn.prototype.reverse=j8,nn.prototype.value=$8,ee.prototype.at=fW,ee.prototype.chain=hW,ee.prototype.commit=pW,ee.prototype.next=mW,ee.prototype.plant=vW,ee.prototype.reverse=yW,ee.prototype.toJSON=ee.prototype.valueOf=ee.prototype.value=bW,ee.prototype.first=ee.prototype.head,Rm&&(ee.prototype[Rm]=gW),ee},zf=p8();fi?((fi.exports=zf)._=zf,jf._=zf):vr._=zf}).call(Gn)})(t1,t1.exports);t1.exports;function Mb({currentProfile:t}){const e=eu(),n=pn(),[r,i]=D.useState(""),o=Vn(),[s,a]=D.useState(!1),[l,u]=D.useState(!0),[c,f]=D.useState([]),[h,p]=D.useState(null),g=nt(F=>F.pages.editingPage),_=nt(F=>F.pages.editorHtmlContent);D.useEffect(()=>{const{id:F}=e;F&&h==null?n(nU({id:F})).then(B=>Ye(B,W=>{const{page:Q}=W;w(Q)},W=>{})):h!=null&&h.id==F?w(h):n(Xv(""))},[]);const w=F=>{p(F),n(ra({page:F})),i(F.title),a(F.privacy),u(F.commentable),n(Xv(F.data))},b=F=>{let z=window.location.href.split("/"),B=z[z.length-1];B=="link"?B=Wn.link:B=="text"?B=Wn.text:B=="image"?B=Wn.image:B=Wn.text;const W={profileId:t.id,data:_,title:r,privacy:s,approvalScore:0,commentable:l,readers:[],commenters:[],editors:[],writers:[],type:B};n(u_(W)).then(Q=>{Ye(Q,G=>{const{page:j}=G;w(j),F&&F(j)},G=>{console.error(G.message)})})},v=F=>{let z={page:h,title:r,data:_,privacy:s,commentable:l};h.type===Wn.picture&&(z={page:h,title:r,data:g.data,privacy:s,commentable:l}),n(uC(z)).then(B=>{Ye(B,W=>{const{page:Q}=W,G=c.filter(oe=>oe.role==mn.reader).map(oe=>oe.profile.userId),j=c.filter(oe=>oe.role==mn.commenter).map(oe=>oe.profile.userId),U=c.filter(oe=>oe.role==mn.editor).map(oe=>oe.profile.userId),K=c.filter(oe=>oe.role==mn.writer).map(oe=>oe.profile.userId);n(cC({page:Q,readers:G,commenters:j,editors:U,writers:K})).then(oe=>Ye(oe,X=>{const{page:Z}=X;n(ra({page:Z})),w(Z),window.alert("Saved"),F&&F(Z)},X=>{window.alert("Error updating roles")}))},W=>{window.alert("Error updating pages")})})},y=F=>{h==null?b(F):v(F)},[x,I]=D.useState(!1),O=()=>{I(!0)},S=()=>{I(!1)},C=()=>{S(),h&&n(RA({page:h})).then(()=>{o("/profile/home")})},k=()=>{if(t){if(h)return h.type===Wn.text?E.jsx("div",{id:"editor",children:E.jsx(ET,{initialContent:_})}):h.type===Wn.picture?E.jsx("div",{className:"image",children:E.jsx("img",{src:_,alt:h.data})}):h.type===Wn.link?E.jsx(eB,{}):E.jsx("div",{id:"editor",children:E.jsx(ET,{initialContent:_})});{let F=window.location.href.split("/"),z=F[F.length-1];return z.toUpperCase()=="image".toUpperCase()||z.toUpperCase()=="link".toUpperCase()?E.jsx(eB,{}):E.jsx("div",{id:"editor",children:E.jsx(ET,{initialContent:""})})}}},[P,R]=D.useState(null),L=()=>g?E.jsxs(BRe,{children:[E.jsxs($n,{onClick:F=>R(F.currentTarget),children:["  ",E.jsx($c,{})]}),E.jsxs(ia,{anchorEl:P,open:!!P,children:[E.jsx(Wr,{onClick:()=>{n(yc({pageList:[h]})),o("/book/new")},children:"Add to Book"}),E.jsx(Wr,{onClick:()=>{n(yc({pageList:[h]})),o("/library/new")},children:"Add to Library"})]})]}):E.jsx("div",{}),N=()=>E.jsxs(Yl,{style:{marginBottom:"2em"},className:"create-form",children:[E.jsx(Po,{onChange:F=>i(F.target.value),value:r,label:"Title"}),E.jsx(ks,{control:E.jsx(Ps,{style:rP,checked:!s,onChange:F=>a(!F.target.checked)}),label:s?"Draft":"Public"}),E.jsx(ks,{control:E.jsx(Ps,{style:rP,checked:l,onChange:F=>{u(F.target.checked)}}),label:l?"Commenting is on":"Commenting is off"}),E.jsx(It,{style:{backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText},onClick:F=>y(z=>{QR.replace(`/page/${h.id}/edit`)}),className:"",children:"Save"}),E.jsxs("div",{className:"button-row",children:[L(),g?E.jsx($n,{onClick:()=>{n(Jv({page:g})),o(ui.page.createRoute(g.id))},children:E.jsx(o0,{})}):E.jsx("div",{})]}),E.jsx("div",{id:"post-button-row",children:E.jsx(It,{onClick:()=>el(y(F=>{a(!1),n(Jv({page:F})),o(ui.page.createRoute(F.id))}),10),style:{backgroundColor:ut.palette.secondary.main,color:ut.palette.primary.contrastText,width:"100%",marginTop:"2em",padding:"2em"},children:"Post"})}),V]});let V=E.jsx("div",{});return g&&(V=E.jsx(It,{variant:"outlined",onClick:O,style:{marginTop:"4em",width:"10em",color:ut.palette.error.contrastText,backgroundColor:ut.palette.error.dark},children:"Delete"})),E.jsxs("div",{className:"two-panel",children:[E.jsxs("div",{className:"left-bar",children:[k(),E.jsx("div",{style:{height:"100%"}})]}),E.jsxs("div",{className:"right-bar",children:[N(),h?E.jsx(YR,{item:h,type:"page",getRoles:F=>{f(F)}}):E.jsx("div",{}),E.jsx("div",{children:E.jsxs(n0,{open:x,onClose:S,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[E.jsx(TR,{id:"alert-dialog-title",children:"Deleting?"}),E.jsx(ER,{children:E.jsx(IR,{id:"alert-dialog-description",children:"Are you sure you want to delete this page?"})}),E.jsxs(xR,{children:[E.jsx(It,{onClick:S,children:"Disagree"}),E.jsx(It,{onClick:()=>C(),autoFocus:!0,children:"Agree"})]})]})})]})]})}function Uq({editing:t,page:e,parentComment:n,parentProfile:r}){const i=pn(),o=nt(g=>g.users.currentProfile),[s,a]=D.useState(""),[l,u]=D.useState(!0),c=()=>{if(o&&e&&s.length>0){let g="";n&&(g=n.id);const _={profileId:o.id,text:s,pageId:e.id,parentCommentId:g};i(lce(_)).then(w=>{Ye(w,b=>{a(""),u(!1),i(rU({comment:b}))},b=>{window.alert(b)})})}};D.useEffect(()=>{t&&a(n.text)},[t]);let f=E.jsx("div",{});r&&(f=E.jsx("h6",{children:r.usernmae}));const h=()=>{i(pC({comment:n,newText:s}))};return E.jsxs("div",{style:{display:l?"":"none"},className:"comment-input",children:[E.jsx("div",{className:"comment-input-header",children:f}),E.jsx(t0,{style:{width:"100%",padding:"1em"},value:s,minRows:2,onChange:g=>{a(g.target.value)}}),E.jsx("div",{className:"button-row",children:t?E.jsx(It,{onClick:h,children:"Update"}):E.jsx(It,{disabled:!o,onClick:c,children:"Reply"})})]})}function zq({page:t,comment:e}){let n=E.jsx("div",{});const r=pn(),i=nt(O=>O.users.currentProfile),o=nt(O=>O.users.profilesInView),s=nt(O=>O.pages.commentsInView);let a=o.find(O=>O.id==e.profileId);const[l,u]=D.useState(a);let[c,f]=D.useState([]);const[h,p]=D.useState(!1),[g,_]=D.useState(!1);D.useEffect(()=>{let O=s.filter(S=>S.parentCommentId==e.id);f(O)},[]);const w=()=>{e&&r(hC({comment:e}))};l&&(n=E.jsx("div",{className:"comment-author",children:l.username}));function b(){_(!g)}const[v,y]=D.useState(null),x=()=>e&&i&&e.profileId==i.id?E.jsxs(bs,{children:[E.jsx($n,{onClick:O=>{y(v?null:O.currentTarget)},style:{border:""},children:E.jsx(pEe,{})}),E.jsxs(ia,{anchorEl:v,open:!!v,children:[E.jsx(Wr,{onClick:w,children:"Delete"}),E.jsx(Wr,{onClick:()=>{y(null),p(!h)},children:"Edit"})]})]}):E.jsx("div",{});D.useEffect(()=>{h&&p(!1)},[e]);const I=()=>{if(g||h)return E.jsx(Uq,{editing:h,page:t,parentComment:e,parentProfile:l})};return E.jsxs("div",{className:"comment-thread",children:[E.jsxs("div",{className:"comment",children:[E.jsxs("div",{className:"comment-heading",children:[n,x()]}),E.jsx("div",{className:"text",children:e.text}),E.jsx("div",{className:"btn-row",children:E.jsx(It,{onClick:b,children:"Reply"})}),I()]}),E.jsx("div",{className:"replies",children:c.map(O=>E.jsx(zq,{page:t,comment:O},O.id))})]})}function yf(t){return E.jsx("div",{children:E.jsx("div",{className:"page-skeleton",children:E.jsxs(Cz,{spacing:1,children:[E.jsx(Vd,{className:"header",variant:"rectangular"}),E.jsx(Vd,{className:"body",variant:"rectangular"}),E.jsx(Vd,{className:"footer",variant:"rectangular"})]})})})}function qq({page:t}){qq.propTypes={page:Pn.object.isRequired};const e=nt(w=>w.users.currentProfile),n=pn(),r=Vn(),[i,o]=D.useState(!1),s=nt(w=>w.users.profilesInView),[a,l]=D.useState(!1),u=nt(w=>w.libraries.bookmarkLibrary),c=w=>{if(w)return E.jsx(Uq,{page:t})};let f=E.jsx("div",{});const[h,p]=D.useState(null),g=w=>{p(b=>b==null?w.currentTarget:null)},_=()=>{if(i&&t){let w=u.pageIdList.filter(v=>v!=t.id);const b={library:u,pageIdList:w,bookIdList:u.bookIdList};n(Xl(b)),o(!1)}else if(u&&e&&t){const w=[...u.pageIdList,t.id],b={library:u,pageIdList:w,bookIdList:u.bookIdList};n(Xl(b)).then(v=>{Ye(v,y=>{const{library:x}=y;let I=x.pageIdList.find(O=>O==t.id);o(!!I)},()=>{})})}};if(t){switch(t.type){case Wn.text:f=E.jsx("div",{className:"dashboard-content text ql-editor",dangerouslySetInnerHTML:{__html:t.data}});break;case Wn.picture:f=E.jsx("img",{className:"dashboard-content image",src:t.data,alt:t.title});break;case Wn.link:f=E.jsx("div",{className:"dashboard-content",children:E.jsx(r0,{url:t.data})});break;default:f=E.jsx("div",{className:"dashboard-content",dangerouslySetInnerHTML:{__html:t.data}});break}const w=()=>{Uz({profile:v}),r(`/profile/${v.id}`)};let b=E.jsx("div",{}),v=s.find(y=>y.id==t.profileId);return v&&(b=E.jsx("div",{children:E.jsx("p",{onClick:w,children:v.username})})),E.jsxs("div",{className:"content-item",children:[E.jsxs("div",{className:"dashboard-header",children:[E.jsx("div",{className:"titles",children:t.title.length>0?E.jsx("p",{children:t.title}):E.jsx("p",{children:"Untitled"})}),b]}),E.jsx("div",{children:f}),E.jsxs("div",{className:"btn-row",children:[E.jsx(It,{style:{color:ut.palette.info.contrastText,backgroundColor:e?ut.palette.info.main:ut.palette.info.disabled},disabled:!e,children:"Yea"}),E.jsx(It,{style:{color:"white",backgroundColor:e?ut.palette.info.main:ut.palette.info.disabled},disabled:!e,onClick:()=>{l(!a)},children:"Comment"}),E.jsxs(bs,{children:[E.jsx(It,{onClick:y=>{g(y)},"aria-controls":h?"menu":void 0,"aria-haspopup":"true","aria-expanded":h?"true":void 0,children:"Share"}),E.jsxs(ia,{id:"menu",anchorEl:h,onClose:()=>p(null),open:!!h,children:[E.jsx(er,{disabled:!e,onClick:()=>{n(yc({pageList:[t]})),r("/book/new")},children:"Add to Book"}),E.jsx(er,{disabled:!e,onClick:()=>{n(yc({pageList:[t]})),r("/library/new")},children:"Add to Library"}),E.jsx(er,{onClick:()=>{navigator.clipboard.writeText(`plumbum.app/page/${t.id}`).then(()=>{alert("Text copied to clipboard")})},children:"Copy Share Link"}),e&&t&&e.id===t.profileId?E.jsx(er,{onClick:()=>{n(ra({page:t})),r(ui.editPage.createRoute(t.id))},children:"Edit"}):E.jsx("div",{}),E.jsx(er,{onClick:_,disabled:!e,children:i?E.jsx(eE,{}):E.jsx(Zx,{})})]})]})]}),c(a)]})}}function qRe(t){return t&&typeof t=="object"&&"default"in t?t.default:t}var Hq=D,HRe=qRe(Hq);function tB(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WRe(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}var KRe=!!(typeof window<"u"&&window.document&&window.document.createElement);function GRe(t,e,n){if(typeof t!="function")throw new Error("Expected reducePropsToState to be a function.");if(typeof e!="function")throw new Error("Expected handleStateChangeOnClient to be a function.");if(typeof n<"u"&&typeof n!="function")throw new Error("Expected mapStateOnServer to either be undefined or a function.");function r(i){return i.displayName||i.name||"Component"}return function(o){if(typeof o!="function")throw new Error("Expected WrappedComponent to be a React component.");var s=[],a;function l(){a=t(s.map(function(c){return c.props})),u.canUseDOM?e(a):n&&(a=n(a))}var u=function(c){WRe(f,c);function f(){return c.apply(this,arguments)||this}f.peek=function(){return a},f.rewind=function(){if(f.canUseDOM)throw new Error("You may only call rewind() on the server. Call peek() to read the current state.");var g=a;return a=void 0,s=[],g};var h=f.prototype;return h.UNSAFE_componentWillMount=function(){s.push(this),l()},h.componentDidUpdate=function(){l()},h.componentWillUnmount=function(){var g=s.indexOf(this);s.splice(g,1),l()},h.render=function(){return HRe.createElement(o,this.props)},f}(Hq.PureComponent);return tB(u,"displayName","SideEffect("+r(o)+")"),tB(u,"canUseDOM",KRe),u}}var QRe=GRe;const YRe=As(QRe);var XRe=typeof Element<"u",JRe=typeof Map=="function",ZRe=typeof Set=="function",eOe=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function I_(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!I_(t[r],e[r]))return!1;return!0}var o;if(JRe&&t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;for(o=t.entries();!(r=o.next()).done;)if(!I_(r.value[1],e.get(r.value[0])))return!1;return!0}if(ZRe&&t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(o=t.entries();!(r=o.next()).done;)if(!e.has(r.value[0]))return!1;return!0}if(eOe&&ArrayBuffer.isView(t)&&ArrayBuffer.isView(e)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(t[r]!==e[r])return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf&&typeof t.valueOf=="function"&&typeof e.valueOf=="function")return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString&&typeof t.toString=="function"&&typeof e.toString=="function")return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;if(XRe&&t instanceof Element)return!1;for(r=n;r--!==0;)if(!((i[r]==="_owner"||i[r]==="__v"||i[r]==="__o")&&t.$$typeof)&&!I_(t[i[r]],e[i[r]]))return!1;return!0}return t!==t&&e!==e}var tOe=function(e,n){try{return I_(e,n)}catch(r){if((r.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw r}};const nOe=As(tOe);/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var nB=Object.getOwnPropertySymbols,rOe=Object.prototype.hasOwnProperty,iOe=Object.prototype.propertyIsEnumerable;function oOe(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function sOe(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(e).map(function(o){return e[o]});if(r.join("")!=="0123456789")return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(o){i[o]=o}),Object.keys(Object.assign({},i)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}var aOe=sOe()?Object.assign:function(t,e){for(var n,r=oOe(t),i,o=1;o<arguments.length;o++){n=Object(arguments[o]);for(var s in n)rOe.call(n,s)&&(r[s]=n[s]);if(nB){i=nB(n);for(var a=0;a<i.length;a++)iOe.call(n,i[a])&&(r[i[a]]=n[i[a]])}}return r};const lOe=As(aOe);var qd={BODY:"bodyAttributes",HTML:"htmlAttributes",TITLE:"titleAttributes"},Ut={BASE:"base",BODY:"body",HEAD:"head",HTML:"html",LINK:"link",META:"meta",NOSCRIPT:"noscript",SCRIPT:"script",STYLE:"style",TITLE:"title"};Object.keys(Ut).map(function(t){return Ut[t]});var Jn={CHARSET:"charset",CSS_TEXT:"cssText",HREF:"href",HTTPEQUIV:"http-equiv",INNER_HTML:"innerHTML",ITEM_PROP:"itemprop",NAME:"name",PROPERTY:"property",REL:"rel",SRC:"src",TARGET:"target"},n1={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},vy={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate"},uOe=Object.keys(n1).reduce(function(t,e){return t[n1[e]]=e,t},{}),cOe=[Ut.NOSCRIPT,Ut.SCRIPT,Ut.STYLE],oa="data-react-helmet",dOe=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},fOe=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},hOe=function(){function t(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),ho=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pOe=function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},rB=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n},mOe=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e&&(typeof e=="object"||typeof e=="function")?e:t},iP=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return n===!1?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;")},gOe=function(e){var n=sp(e,Ut.TITLE),r=sp(e,vy.TITLE_TEMPLATE);if(r&&n)return r.replace(/%s/g,function(){return Array.isArray(n)?n.join(""):n});var i=sp(e,vy.DEFAULT_TITLE);return n||i||void 0},vOe=function(e){return sp(e,vy.ON_CHANGE_CLIENT_STATE)||function(){}},CT=function(e,n){return n.filter(function(r){return typeof r[e]<"u"}).map(function(r){return r[e]}).reduce(function(r,i){return ho({},r,i)},{})},yOe=function(e,n){return n.filter(function(r){return typeof r[Ut.BASE]<"u"}).map(function(r){return r[Ut.BASE]}).reverse().reduce(function(r,i){if(!r.length)for(var o=Object.keys(i),s=0;s<o.length;s++){var a=o[s],l=a.toLowerCase();if(e.indexOf(l)!==-1&&i[l])return r.concat(i)}return r},[])},gg=function(e,n,r){var i={};return r.filter(function(o){return Array.isArray(o[e])?!0:(typeof o[e]<"u"&&xOe("Helmet: "+e+' should be of type "Array". Instead found type "'+dOe(o[e])+'"'),!1)}).map(function(o){return o[e]}).reverse().reduce(function(o,s){var a={};s.filter(function(h){for(var p=void 0,g=Object.keys(h),_=0;_<g.length;_++){var w=g[_],b=w.toLowerCase();n.indexOf(b)!==-1&&!(p===Jn.REL&&h[p].toLowerCase()==="canonical")&&!(b===Jn.REL&&h[b].toLowerCase()==="stylesheet")&&(p=b),n.indexOf(w)!==-1&&(w===Jn.INNER_HTML||w===Jn.CSS_TEXT||w===Jn.ITEM_PROP)&&(p=w)}if(!p||!h[p])return!1;var v=h[p].toLowerCase();return i[p]||(i[p]={}),a[p]||(a[p]={}),i[p][v]?!1:(a[p][v]=!0,!0)}).reverse().forEach(function(h){return o.push(h)});for(var l=Object.keys(a),u=0;u<l.length;u++){var c=l[u],f=lOe({},i[c],a[c]);i[c]=f}return o},[]).reverse()},sp=function(e,n){for(var r=e.length-1;r>=0;r--){var i=e[r];if(i.hasOwnProperty(n))return i[n]}return null},bOe=function(e){return{baseTag:yOe([Jn.HREF,Jn.TARGET],e),bodyAttributes:CT(qd.BODY,e),defer:sp(e,vy.DEFER),encode:sp(e,vy.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:CT(qd.HTML,e),linkTags:gg(Ut.LINK,[Jn.REL,Jn.HREF],e),metaTags:gg(Ut.META,[Jn.NAME,Jn.CHARSET,Jn.HTTPEQUIV,Jn.PROPERTY,Jn.ITEM_PROP],e),noscriptTags:gg(Ut.NOSCRIPT,[Jn.INNER_HTML],e),onChangeClientState:vOe(e),scriptTags:gg(Ut.SCRIPT,[Jn.SRC,Jn.INNER_HTML],e),styleTags:gg(Ut.STYLE,[Jn.CSS_TEXT],e),title:gOe(e),titleAttributes:CT(qd.TITLE,e)}},oP=function(){var t=Date.now();return function(e){var n=Date.now();n-t>16?(t=n,e(n)):setTimeout(function(){oP(e)},0)}}(),iB=function(e){return clearTimeout(e)},_Oe=typeof window<"u"?window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||oP:global.requestAnimationFrame||oP,wOe=typeof window<"u"?window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||iB:global.cancelAnimationFrame||iB,xOe=function(e){return console&&typeof console.warn=="function"&&console.warn(e)},vg=null,EOe=function(e){vg&&wOe(vg),e.defer?vg=_Oe(function(){oB(e,function(){vg=null})}):(oB(e),vg=null)},oB=function(e,n){var r=e.baseTag,i=e.bodyAttributes,o=e.htmlAttributes,s=e.linkTags,a=e.metaTags,l=e.noscriptTags,u=e.onChangeClientState,c=e.scriptTags,f=e.styleTags,h=e.title,p=e.titleAttributes;sP(Ut.BODY,i),sP(Ut.HTML,o),IOe(h,p);var g={baseTag:uh(Ut.BASE,r),linkTags:uh(Ut.LINK,s),metaTags:uh(Ut.META,a),noscriptTags:uh(Ut.NOSCRIPT,l),scriptTags:uh(Ut.SCRIPT,c),styleTags:uh(Ut.STYLE,f)},_={},w={};Object.keys(g).forEach(function(b){var v=g[b],y=v.newTags,x=v.oldTags;y.length&&(_[b]=y),x.length&&(w[b]=g[b].oldTags)}),n&&n(),u(e,_,w)},Wq=function(e){return Array.isArray(e)?e.join(""):e},IOe=function(e,n){typeof e<"u"&&document.title!==e&&(document.title=Wq(e)),sP(Ut.TITLE,n)},sP=function(e,n){var r=document.getElementsByTagName(e)[0];if(r){for(var i=r.getAttribute(oa),o=i?i.split(","):[],s=[].concat(o),a=Object.keys(n),l=0;l<a.length;l++){var u=a[l],c=n[u]||"";r.getAttribute(u)!==c&&r.setAttribute(u,c),o.indexOf(u)===-1&&o.push(u);var f=s.indexOf(u);f!==-1&&s.splice(f,1)}for(var h=s.length-1;h>=0;h--)r.removeAttribute(s[h]);o.length===s.length?r.removeAttribute(oa):r.getAttribute(oa)!==a.join(",")&&r.setAttribute(oa,a.join(","))}},uh=function(e,n){var r=document.head||document.querySelector(Ut.HEAD),i=r.querySelectorAll(e+"["+oa+"]"),o=Array.prototype.slice.call(i),s=[],a=void 0;return n&&n.length&&n.forEach(function(l){var u=document.createElement(e);for(var c in l)if(l.hasOwnProperty(c))if(c===Jn.INNER_HTML)u.innerHTML=l.innerHTML;else if(c===Jn.CSS_TEXT)u.styleSheet?u.styleSheet.cssText=l.cssText:u.appendChild(document.createTextNode(l.cssText));else{var f=typeof l[c]>"u"?"":l[c];u.setAttribute(c,f)}u.setAttribute(oa,"true"),o.some(function(h,p){return a=p,u.isEqualNode(h)})?o.splice(a,1):s.push(u)}),o.forEach(function(l){return l.parentNode.removeChild(l)}),s.forEach(function(l){return r.appendChild(l)}),{oldTags:o,newTags:s}},Kq=function(e){return Object.keys(e).reduce(function(n,r){var i=typeof e[r]<"u"?r+'="'+e[r]+'"':""+r;return n?n+" "+i:i},"")},TOe=function(e,n,r,i){var o=Kq(r),s=Wq(n);return o?"<"+e+" "+oa+'="true" '+o+">"+iP(s,i)+"</"+e+">":"<"+e+" "+oa+'="true">'+iP(s,i)+"</"+e+">"},SOe=function(e,n,r){return n.reduce(function(i,o){var s=Object.keys(o).filter(function(u){return!(u===Jn.INNER_HTML||u===Jn.CSS_TEXT)}).reduce(function(u,c){var f=typeof o[c]>"u"?c:c+'="'+iP(o[c],r)+'"';return u?u+" "+f:f},""),a=o.innerHTML||o.cssText||"",l=cOe.indexOf(e)===-1;return i+"<"+e+" "+oa+'="true" '+s+(l?"/>":">"+a+"</"+e+">")},"")},Gq=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[n1[i]||i]=e[i],r},n)},COe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.keys(e).reduce(function(r,i){return r[uOe[i]||i]=e[i],r},n)},POe=function(e,n,r){var i,o=(i={key:n},i[oa]=!0,i),s=Gq(r,o);return[gn.createElement(Ut.TITLE,s,n)]},kOe=function(e,n){return n.map(function(r,i){var o,s=(o={key:i},o[oa]=!0,o);return Object.keys(r).forEach(function(a){var l=n1[a]||a;if(l===Jn.INNER_HTML||l===Jn.CSS_TEXT){var u=r.innerHTML||r.cssText;s.dangerouslySetInnerHTML={__html:u}}else s[l]=r[a]}),gn.createElement(e,s)})},El=function(e,n,r){switch(e){case Ut.TITLE:return{toComponent:function(){return POe(e,n.title,n.titleAttributes)},toString:function(){return TOe(e,n.title,n.titleAttributes,r)}};case qd.BODY:case qd.HTML:return{toComponent:function(){return Gq(n)},toString:function(){return Kq(n)}};default:return{toComponent:function(){return kOe(e,n)},toString:function(){return SOe(e,n,r)}}}},Qq=function(e){var n=e.baseTag,r=e.bodyAttributes,i=e.encode,o=e.htmlAttributes,s=e.linkTags,a=e.metaTags,l=e.noscriptTags,u=e.scriptTags,c=e.styleTags,f=e.title,h=f===void 0?"":f,p=e.titleAttributes;return{base:El(Ut.BASE,n,i),bodyAttributes:El(qd.BODY,r,i),htmlAttributes:El(qd.HTML,o,i),link:El(Ut.LINK,s,i),meta:El(Ut.META,a,i),noscript:El(Ut.NOSCRIPT,l,i),script:El(Ut.SCRIPT,u,i),style:El(Ut.STYLE,c,i),title:El(Ut.TITLE,{title:h,titleAttributes:p},i)}},AOe=function(e){var n,r;return r=n=function(i){pOe(o,i);function o(){return fOe(this,o),mOe(this,i.apply(this,arguments))}return o.prototype.shouldComponentUpdate=function(a){return!nOe(this.props,a)},o.prototype.mapNestedChildrenToProps=function(a,l){if(!l)return null;switch(a.type){case Ut.SCRIPT:case Ut.NOSCRIPT:return{innerHTML:l};case Ut.STYLE:return{cssText:l}}throw new Error("<"+a.type+" /> elements are self-closing and can not contain children. Refer to our API for more information.")},o.prototype.flattenArrayTypeChildren=function(a){var l,u=a.child,c=a.arrayTypeChildren,f=a.newChildProps,h=a.nestedChildren;return ho({},c,(l={},l[u.type]=[].concat(c[u.type]||[],[ho({},f,this.mapNestedChildrenToProps(u,h))]),l))},o.prototype.mapObjectTypeChildren=function(a){var l,u,c=a.child,f=a.newProps,h=a.newChildProps,p=a.nestedChildren;switch(c.type){case Ut.TITLE:return ho({},f,(l={},l[c.type]=p,l.titleAttributes=ho({},h),l));case Ut.BODY:return ho({},f,{bodyAttributes:ho({},h)});case Ut.HTML:return ho({},f,{htmlAttributes:ho({},h)})}return ho({},f,(u={},u[c.type]=ho({},h),u))},o.prototype.mapArrayTypeChildrenToProps=function(a,l){var u=ho({},l);return Object.keys(a).forEach(function(c){var f;u=ho({},u,(f={},f[c]=a[c],f))}),u},o.prototype.warnOnInvalidChildren=function(a,l){return!0},o.prototype.mapChildrenToProps=function(a,l){var u=this,c={};return gn.Children.forEach(a,function(f){if(!(!f||!f.props)){var h=f.props,p=h.children,g=rB(h,["children"]),_=COe(g);switch(u.warnOnInvalidChildren(f,p),f.type){case Ut.LINK:case Ut.META:case Ut.NOSCRIPT:case Ut.SCRIPT:case Ut.STYLE:c=u.flattenArrayTypeChildren({child:f,arrayTypeChildren:c,newChildProps:_,nestedChildren:p});break;default:l=u.mapObjectTypeChildren({child:f,newProps:l,newChildProps:_,nestedChildren:p});break}}}),l=this.mapArrayTypeChildrenToProps(c,l),l},o.prototype.render=function(){var a=this.props,l=a.children,u=rB(a,["children"]),c=ho({},u);return l&&(c=this.mapChildrenToProps(l,c)),gn.createElement(e,c)},hOe(o,null,[{key:"canUseDOM",set:function(a){e.canUseDOM=a}}]),o}(gn.Component),n.propTypes={base:Pn.object,bodyAttributes:Pn.object,children:Pn.oneOfType([Pn.arrayOf(Pn.node),Pn.node]),defaultTitle:Pn.string,defer:Pn.bool,encodeSpecialCharacters:Pn.bool,htmlAttributes:Pn.object,link:Pn.arrayOf(Pn.object),meta:Pn.arrayOf(Pn.object),noscript:Pn.arrayOf(Pn.object),onChangeClientState:Pn.func,script:Pn.arrayOf(Pn.object),style:Pn.arrayOf(Pn.object),title:Pn.string,titleAttributes:Pn.object,titleTemplate:Pn.string},n.defaultProps={defer:!0,encodeSpecialCharacters:!0},n.peek=e.peek,n.rewind=function(){var i=e.rewind();return i||(i=Qq({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}})),i},r},ROe=function(){return null},OOe=YRe(bOe,EOe,Qq)(ROe),Wp=AOe(OOe);Wp.renderStatic=Wp.rewind;function Yq({page:t}){Yq.propTypes={page:Pn.object.isRequired};const e=eu(),n=pn(),r=nt(y=>y.users.currentProfile),i=nt(y=>y.pages.commentsInView),[o,s]=D.useState(!1),a=nt(y=>y.pages.loading),l=E.jsx("div",{children:E.jsx("h1",{children:"Looking in all the wrong places"})}),[u,c]=D.useState([]),f=()=>{n(Md(e)).then(y=>{Ye(y,x=>{const{page:I}=x;h(I)},x=>{})})};D.useLayoutEffect(()=>{f()},[]),D.useEffect(()=>{c(i)},[i]);const h=y=>{y!=null&&n(c_({page:y})).then(I=>{Ye(I,O=>{const{comments:S}=O;c(S),s(!1)},()=>{})})};if(D.useEffect(()=>{i[0]!=null&&t!=null&&i[0].pageId==t.id?(c(i),s(!1)):h()},[i]),!a&&t!=null)switch(t.type){case Wn.text:t.data;break;case Wn.link:t.data;break;case Wn.picture:t.data,t.title;break;case Wn.video:t.data;break;default:t.data;break}else return a?E.jsx(yf,{}):l;const p=()=>u&&u.length>0?E.jsx("div",{className:"comment-thread",children:E.jsx(Yr,{dataLength:u.length,next:h,hasMore:o,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),children:u.map(y=>{if(y.parentCommentId==""||y.parentCommentId==null)return E.jsx(zq,{page:t,comment:y})})})}):E.jsx("div",{className:"empty",children:E.jsx("h1",{children:" 0 Comments"})}),g=()=>t?E.jsx(qq,{page:t,currentProfile:r}):E.jsx("div",{className:"empty",children:E.jsx("h6",{children:"This page doesn't exist"})});let _="";t&&(_=t.data,t.data.length>200&&(_=t.data.slice(0,200)));const w=()=>t?E.jsxs(Wp,{children:[E.jsx("title",{children:t.title}),E.jsx("meta",{name:"description",content:_})]}):E.jsx("div",{}),b=E.jsxs("div",{className:"center",children:[w(),E.jsxs("div",{id:"page",children:[g(),p()]})]});return t?t.privacy?r!==null&&(r.id==t.profileId||t.writers.includes(r.userId)||t.editors.includes(r.userId)||t.commenters.includes(r.userId)||t.readers.includes(r.userId))?b:l:b:E.jsx(yf,{})}function NOe(t){const e=Vn(),n=eu(),r=pn(),i=nt(z=>z.books.bookInView),o=nt(z=>z.users.currentProfile),[s,a]=D.useState([]),[l,u]=D.useState(!1),c=nt(z=>z.users.followedBooks),f=nt(z=>z.users.homeCollection),h=nt(z=>z.libraries.bookmarkLibrary),[p,g]=D.useState(null),[_,w]=D.useState(!1),b=()=>{if(_&&i){let z=h.bookIdList.filter(W=>W!=i.id);const B={library:h,pageIdList:h.pageIdList,bookIdList:z};r(Xl(B)),w(!1)}else if(h&&o&&i){const z=[...h.bookIdList,i.id],B={library:h,pageIdList:h.pageIdList,bookIdList:z};r(Xl(B)).then(W=>{Ye(W,Q=>{const{library:G}=Q;r(jz({library:G}));let j=G.bookIdList.find(U=>U==i.id);w(!!j)},()=>{window.alert("Error saving bookmark")})})}else _?o||window.alert("First log in"):window.alert("You'll need to set a bookmark library")},v=()=>i?E.jsxs("div",{style:{flexDirection:"column"},className:"two-panel",children:[E.jsxs(Wp,{children:[E.jsx("title",{children:i.title}),E.jsx("meta",{name:"description",content:i.purpose})]}),E.jsx("div",{className:"left-bar",children:V()}),E.jsx("div",{className:"right-bar",children:E.jsx("div",{className:"content-list dashboard",children:O()})})]}):E.jsx(yf,{}),y=()=>{r(Ud(n)).then(z=>{Ye(z,B=>{const{book:W}=B;x(W);const Q={id:W.profileId};r(lv(Q)),I()},B=>{})})};D.useEffect(()=>{o&&r(hy({profile:o})).then(z=>Ye(z,B=>{},B=>{}))},[]);const x=z=>{for(let B=0;B<z.pageIdList.length;B++){const W=z.pageIdList[B];r(Md({id:W})).then(G=>{Ye(G,j=>{const{page:U}=j;let K=s;K[B]=U,a(K),u(!1)},j=>{a(U=>[...U,new Ac(W,"Deleted","Deleted","Delted",0,!1,!1,Wn.text,new Un([],[],[],[]))]),u(!1)})})}};D.useLayoutEffect(()=>{y()},[]),D.useEffect(()=>{if(h&&i){let z=h.bookIdList.find(B=>B==i.id);w(!!z)}},[h]);const I=()=>{o&&i?r(hy({profile:o})).then(B=>{Ye(B,W=>{const{followList:Q}=W;let G=Q.find(j=>j!=null&&i&&j.bookId==i.id&&j.profileId==o.id);g(G)},()=>{})}):g(null)},O=()=>i?i.pageIdList.length>0?E.jsx("div",{className:"content",children:E.jsx(Yr,{dataLength:s.length,next:()=>x(i),hasMore:l,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsxs("div",{className:"no-more-data",children:[E.jsx("p",{children:"No more data to load."}),"   "]}),scrollableTarget:"scrollableDiv",children:s.map(z=>z?E.jsx(fy,{book:i,page:z},z.id):E.jsx("div",{className:"Empty",children:" Page has been deleted"}))})}):E.jsx("h1",{children:"0"}):E.jsx("div",{children:"A Loading..."}),S=()=>{o?r(Hw({book:i,profile:o})).then(B=>{Ye(B,W=>{const{followBook:Q}=W;g(Q);let G=[...f.books];f.books.find(X=>i.id)||(G=[...f.books,i.id]);let U=[...f.libraries],K=[...f.pages],ne=[...f.profiles];r(qp({profile:o,books:G,pages:K,libraries:U,profiles:ne}))},W=>{})}):window.alert("Log in first")},C=()=>{if(o&&i){const B={followBook:c.find(W=>W!=null&&W.id==`${o.id}_${i.id}`),book:i,profile:o};r(zz(B)).then(W=>{Ye(W,Q=>{g(null)},()=>{window.alert("Error deleting follow")})})}},k=E.jsx("div",{className:"evenly container view",children:E.jsx("h2",{children:"Looking in the wrong place"})});let P=()=>c&&o&&i&&i.profileId==o.id?E.jsx(It,{style:Qu,onClick:z=>{zp({book:i}),e(`/book/${i.id}/edit`)},children:E.jsx(mEe,{})},i.id):E.jsx("div",{});const R=()=>p?E.jsx(It,{variant:"outlined",style:{backgroundColor:ut.palette.secondary.light,color:ut.palette.secondary.dark},lassName:"follow-btn",onClick:()=>el(C(),10),children:"Reader"}):E.jsx(It,{variant:"outlined",style:{backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText},className:"follow-btn",onClick:()=>el(S(),10),children:"Read"});function L(){if(o){let z=i.profileId==o.id,B=null;i.writers&&(B=i.writers.find(Q=>o.userId==Q));let W=null;return i.editors&&(W=i.editors.find(Q=>o.userId==Q)),!!z||!!B||!!W}else return!1}const N=()=>o&&i&&L()?E.jsx($n,{style:Qu,onClick:()=>{zp({book:i}),e(`/book/${i.id}/add`)},children:E.jsx($c,{})}):E.jsx("div",{}),V=()=>E.jsxs("div",{className:"info view",children:[E.jsxs("div",{className:"",children:[E.jsxs("h4",{className:"",children:[" ",i.title]}),E.jsx("div",{className:"",children:E.jsxs("h6",{children:[" ",i.purpose]})})]}),E.jsxs("div",{className:"button-row",children:[R(),N(),P(),_?E.jsx($n,{style:Qu,onClick:b,children:E.jsx(eE,{})}):E.jsx($n,{style:Qu,disabled:!o,onClick:b,children:E.jsx(Zx,{})})]})]});return i?i.privacy?o?i.profileId==o.id||i.commenters.includes(o.userId)||i.readers.includes(o.userId)||i.editors.includes(o.userId)||i.writers.includes(o.userId)?(console.log("A"),v()):(console.log("B"),k):(console.log("C"),k):(console.log("D"),v()):(console.log("E"),E.jsx(yf,{}))}function LOe(t){const e=nt(n=>n.users.currentProfile);return e?E.jsx("div",{className:"",children:E.jsxs("div",{className:"profile-container",children:[E.jsxs("div",{children:[E.jsx("img",{className:"profile-pic",inline:"true",src:e.profilePicture}),E.jsx("h6",{className:"username",children:e.username})]}),E.jsx("div",{className:"statement",children:E.jsx("h6",{children:e.selfStatement})})]})}):E.jsx("img",{src:"https://media.giphy.com/media/sSgvbe1m3n93G/source.gif",alt:"gif",width:"50",height:"50"})}var eO={},DOe=Ei;Object.defineProperty(eO,"__esModule",{value:!0});var dE=eO.default=void 0,jOe=DOe(eo()),$Oe=E;dE=eO.default=(0,jOe.default)((0,$Oe.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6z"}),"Add");var tO={},MOe=Ei;Object.defineProperty(tO,"__esModule",{value:!0});var Rd=tO.default=void 0,BOe=MOe(eo()),FOe=E;Rd=tO.default=(0,BOe.default)((0,FOe.jsx)("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2m0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2m0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2"}),"MoreVert");function VOe({page:t,onDelete:e}){D.useState(!1);const n=nt(a=>a.users.currentProfile),r=pn(),i=Vn(),o=()=>{Jv({page:t}),i(`/page/${t.id}`)},s=a=>{t&&(r(yc({pageList:[t]})),i(`/${a}/new`))};if(t!=null){switch(t.type){case Wn.text:t.data;break;case Wn.picture:t.data,t.title;break;case Wn.video:t.data;break;default:t.data;break}const a={border:"none",marginLeft:"1em"},l={fontSize:"2rem",color:ut.palette.primary.main};let u=E.jsx("div",{children:E.jsxs(bs,{children:[E.jsx(kd,{style:a,children:E.jsx(Rd,{style:l})}),E.jsxs(ia,{children:[E.jsx(er,{onClick:()=>s("book"),children:"Book"}),E.jsx(er,{onClick:()=>s("library"),children:"Library"})]})]})});return n!=null&&t.profileId==n.id&&(u=E.jsxs("div",{children:[E.jsxs(bs,{children:[E.jsx(kd,{style:a,children:E.jsx(dE,{style:l})}),E.jsxs(ia,{children:[E.jsx(er,{onClick:()=>s("book"),children:"Book"}),E.jsx(er,{onClick:()=>s("library"),children:"Library"})]})]}),E.jsxs(bs,{children:[E.jsx(kd,{style:a,children:E.jsx(Rd,{style:l})}),E.jsxs(ia,{children:[E.jsx(er,{onClick:()=>{i(`/page/${t.id}/edit`)},children:"Edit"}),E.jsx(er,{onClick:()=>{r(RA({page:t})).then(f=>Ye(f,h=>{e()},h=>{}))},children:"Delete"})]})]})]})),E.jsxs("div",{className:"list-item",children:[E.jsx("div",{children:E.jsx("a",{className:"title",onClick:o,children:t.title.length>0?E.jsx("h6",{children:t.title}):E.jsx("h6",{children:"Unititled"})})}),E.jsx("div",{className:"button-row",children:u})]})}else return E.jsx("div",{className:"list-item",children:"Loading..."})}function sB({type:t,id:e,title:n,item:r,onDelete:i}){D.useState(!1);const o=nt(g=>g.users.currentProfile),s=Vn(),a=pn(),l=()=>{switch(s(`/${t}/${e}`),t){case"book":zp(r);case"library":dy(r)}},u=()=>{switch(s(`/${t}/${e}/edit`),t){case"book":zp(r);case"library":dy(r)}},c=()=>{switch(t){case"book":a(FC({book:r})).then(_=>{Ye(_,w=>{i()},w=>{})});case"library":a(Uw({library:r})).then(_=>Ye(_,w=>{i()},w=>{}))}},f={color:ut.palette.primary.main,fontSize:"2rem"},h={border:"none",marginLeft:"1em"},p=()=>{switch(t){case"book":return o!=null&&r.profileId==o.id?E.jsx("div",{children:E.jsxs(bs,{children:[E.jsx(kd,{style:h,children:E.jsx(Rd,{style:f})}),E.jsxs(ia,{children:[E.jsx(er,{onClick:()=>{a(VC({bookList:[r]})),s("/library/new")},children:"Add to Library"}),E.jsx(er,{onClick:u,children:"Edit"}),E.jsx(er,{onClick:()=>{window.confirm("Are you sure you want to delete this")&&c()},children:"Delete"})]})]})}):E.jsxs(bs,{children:[E.jsx(kd,{style:h,children:E.jsx(Rd,{style:f})}),E.jsxs(ia,{children:[E.jsx(er,{onClick:()=>{a(VC({bookList:[r]})),s("/library/new")},children:"Add To Library"}),E.jsx(er,{onClick:()=>{a(Hw({book:r,profile:o}))},children:"Follow"})]})]});case"library":return o!=null&&r.profileId==o.id?E.jsx("div",{children:E.jsxs(bs,{children:[E.jsx(kd,{style:h,children:E.jsx(Rd,{style:f})}),E.jsxs(ia,{children:[E.jsx(er,{onClick:()=>{s(`/${t}/${e}/edit`)},type:"button",children:"Edit"}),E.jsx(er,{onClick:()=>{window.confirm("Are you sure you want to delete this")&&c()},type:"button",children:"Delete"})]})]})}):E.jsxs(bs,{children:[E.jsx(kd,{style:h,children:E.jsx(Rd,{style:f})}),E.jsx(ia,{children:E.jsx(er,{onClick:()=>{},children:"Follow"})})]})}};return E.jsxs("div",{className:"list-item",children:[E.jsx("div",{className:"title",children:E.jsx("a",{onClick:l,children:n.length>0?E.jsxs("h6",{children:["  ",n]}):E.jsx("h6",{children:"Untitled"})})}),E.jsxs("div",{className:"button-row",children:[p(),E.jsx("div",{})]})]})}var nO={},UOe=Ei;Object.defineProperty(nO,"__esModule",{value:!0});var fE=nO.default=void 0,zOe=UOe(eo()),qOe=E;fE=nO.default=(0,zOe.default)((0,qOe.jsx)("path",{d:"M14.94 4.66h-4.72l2.36-2.36zm-4.69 14.71h4.66l-2.33 2.33zM6.1 6.27 1.6 17.73h1.84l.92-2.45h5.11l.92 2.45h1.84L7.74 6.27zm-1.13 7.37 1.94-5.18 1.94 5.18zm10.76 2.5h6.12v1.59h-8.53v-1.29l5.92-8.56h-5.88v-1.6h8.3v1.26z"}),"SortByAlpha");function Xq({profile:t}){const[e,n]=D.useState(1),[r,i]=D.useState("page"),o=nt(B=>B.pages.pagesInView),[s,a]=D.useState(!0),[l,u]=D.useState(!0),[c,f]=D.useState(!0),[h,p]=D.useState(!0),[g,_]=D.useState([]),[w,b]=D.useState([]),[v,y]=D.useState([]),[x,I]=D.useState(!1),[O,S]=D.useState(!1),C=pn();D.useEffect(()=>{t&&(P(),R(),L())},[t]);const k=()=>{const B=E.jsx("div",{className:"empty",children:"Empty"});return g!=null?E.jsx("div",{children:E.jsx(Yr,{className:"scroll",dataLength:g.length,next:P,hasMore:l,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),children:g.map(W=>E.jsx(VOe,{page:W,onDelete:()=>{let Q=g.filter(G=>G!==W);_(Q)}},W.id))})}):B};D.useEffect(()=>{},[o]);const P=()=>{C(Qh({profile:t,page:e,groupBy:9})).then(W=>{Ye(W,Q=>{const{pageList:G}=Q;_(G),u(!1)},Q=>{u(!1)})})},R=()=>{C(ip({profile:t,page:e,groupBy:9})).then(W=>{Ye(W,Q=>{const{bookList:G}=Q;b(G),f(!1)},Q=>{f(!1)})}).catch(W=>{f(!1)})},L=()=>{C(rv({profile:t,page:e,groupBy:9})).then(W=>{Ye(W,Q=>{const{libList:G}=Q;y(G),p(!1)},Q=>{p(!1)})}).catch(W=>{p(!1)})},N=()=>{const B=E.jsx("div",{className:"empty",children:E.jsx("h1",{children:"Empty"})});return r=="page"?g!=null&&g.length>0?k():B:r=="book"?w!=null&&w.length>0?E.jsx("div",{children:E.jsx(Yr,{className:"scroll",dataLength:w.length,next:R,hasMore:c,loader:E.jsx("div",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),children:w.map(W=>E.jsx("div",{children:E.jsx(sB,{ownerProfileId:W.profileId,title:W.title,id:W.id,type:jc.className,item:W})},W.id))})}):B:r=="library"?v!=null&&v.length>0?E.jsx("div",{children:E.jsx(Yr,{className:"scroll",dataLength:v.length,next:L,hasMore:h,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),children:v.map(W=>E.jsx("div",{children:E.jsx(sB,{ownerProfileId:W.profileId,title:W.name,type:"library",id:W.id,item:W},W.id)},W.id))})}):B:E.jsx("div",{children:k()})},V=()=>{if(x){let B=[...g].sort((G,j)=>j.created-G.created);_(B);let W=[...w].sort((G,j)=>j.updatedAt-G.updatedAt);b(W);let Q=[...v].sort((G,j)=>j.updatedAt-G.updatedAt);y(Q)}else{let B=[...g].sort((G,j)=>G.created-j.created);_(B);let W=[...w].sort((G,j)=>G.updatedAt-j.updatedAt);b(W);let Q=[...v].sort((G,j)=>G.updatedAt-j.updatedAt);y(Q)}},F=B=>{if(S(B),B){let W=[...g].sort((j,U)=>j.title<U.title?-1:j.title>U.title?1:0);_(W);let Q=[...w].sort((j,U)=>j.title<U.title?-1:j.title>U.title?1:0);b(Q);let G=[...v].sort((j,U)=>j.name<U.name?-1:j.name>U.name?1:0);y(G)}else{let W=[...g].sort((j,U)=>U.title<j.title?-1:U.title>j.title?1:0);_(W);let Q=[...w].sort((j,U)=>U.title<j.title?-1:U.title>j.title?1:0);b(Q);let G=[...v].sort((j,U)=>U.name<j.name?-1:U.name>j.name?1:0);y(G)}},z=B=>{i(B),a(!s),a(!0)};return E.jsx("div",{className:"content-list",children:E.jsxs("div",{className:"inner",children:[E.jsxs("div",{className:"btn-row",children:[E.jsxs("div",{children:[E.jsx(It,{style:vd,onClick:()=>{z("page")},children:"Page"}),E.jsx(It,{style:vd,onClick:()=>{z("book")},children:"Book"}),E.jsx(It,{style:vd,onClick:()=>{z("library")},children:"Library"})]}),E.jsxs("div",{className:"sort",children:[x?E.jsx(It,{style:vd,onClick:()=>{I(!1),V()},children:"New to Old"}):E.jsx(It,{style:vd,onClick:()=>{I(!0),V()},children:"Old to New"}),E.jsx(It,{style:vd,onClick:()=>{F(!O)},children:E.jsx(fE,{})})]})]}),E.jsx("div",{className:`${s?"visible":"hidden"}`,style:{maxHeight:s?"":"0",transition:"max-height 0.3s ease-in-out"},children:N()})]})})}function HOe(t){const e=nt(r=>r.users.currentProfile);return nt(r=>r.users.loading),pn(),e?E.jsxs("div",{className:"two-panel",children:[E.jsx("div",{className:"left-bar",children:E.jsx(Xq,{profile:e})}),E.jsxs("div",{className:"right-bar",children:[E.jsx(LOe,{profile:e}),E.jsx(WOe,{})]})]}):E.jsx("div",{children:E.jsxs("div",{className:"two-panel",children:[E.jsx("div",{className:"left-bar",children:E.jsx(yf,{})}),E.jsxs("div",{className:"right-bar",children:[E.jsx(Vd,{style:{height:"10em",width:"10em"},variant:"rectangular"}),E.jsx("br",{}),E.jsx(Vd,{width:"50%",variant:"rectangular"})]})]})})}function WOe(t){const e=pn(),n=Vn(),[r,i]=D.useState(null),[o,s]=D.useState(null),a=u=>{s(u.currentTarget)},l=()=>{s(null)};return E.jsxs("div",{className:"create-buttons",children:[E.jsxs(It,{id:"demo-customized-button",style:{backgroundColor:ut.palette.primary.main,color:ut.palette.primary.contrastText,boxShadow:"0 5px 18px rgba(0, 0, 0, 0.6)",padding:"1em 2em"},"aria-controls":o?"demo-customized-menu":void 0,"aria-haspopup":"true","aria-expanded":o?"true":void 0,sx:{my:2,color:"white",display:"block"},onClick:u=>el(a(u),5),children:["Create ",o?E.jsx(lM,{}):E.jsx(uM,{})]}),E.jsxs(tp,{anchorEl:o,open:o,onClose:l,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},style:{width:"10em"},MenuListProps:{"aria-labelledby":"demo-customized-button"},children:[E.jsxs(Wr,{onClick:u=>{i(r?null:u.currentTarget)},children:["Page ",r?E.jsx(uM,{}):E.jsx(lM,{})]},"page"),E.jsxs(ep,{style:{display:r?"":"none"},children:[E.jsx(ds,{onClick:u=>{e(ra({page:null})),i(null),n("/page/text")},sx:{pl:4},children:E.jsx(my,{})},"page"),E.jsx(ds,{onClick:u=>{e(ra({page:null})),i(null),n("/page/image")},sx:{pl:4},children:E.jsx(Hp,{})},"image"),E.jsx(ds,{sx:{pl:4},onClick:()=>{e(ra({page:null})),l(),n("/page/link")},children:E.jsx(py,{})})]}),E.jsx(Wr,{onClick:()=>{n("/book/new")},children:"Book"}),E.jsx(Wr,{onClick:()=>{n("/library/new")},children:"Library"})]})]})}const ch={width:"100%"};function KOe(t){const[e,n]=D.useState(""),[r,i]=D.useState(""),o=pn(),s=Vn(),[a,l]=D.useState(!1),u=nt(_=>_.users.currentProfile),[c,f]=D.useState(!1),h=nt(_=>_.pages.pagesToBeAdded),p=_=>{n(_.target.value)},g=_=>{_.preventDefault();const w=h.map(v=>v.id),b={title:e,purpose:r,profileId:u.id,pageIdList:w,writingIsOpen:c,privacy:a,commenters:[],editors:[],readers:[],writers:[]};o(tEe(b)).then(v=>{const{payload:y}=v;v!=null&&v.error==null&&s(`/book/${y.book.id}`)})};return E.jsxs(Yl,{className:"create-form",children:[E.jsx(Po,{style:ch,label:"Book Title",placeholder:"Title",value:e,onChange:_=>p(_)}),E.jsx(ks,{style:ch,control:E.jsx(Ps,{checked:a,onChange:_=>{l(_.target.checked)}}),label:a?"Private":"Public",value:a}),E.jsx(ks,{style:ch,control:E.jsx(Ps,{checked:c,onChange:_=>{f(_.target.checked)}}),label:`Writing is ${c?"open":"close"}`}),E.jsx("div",{style:ch,className:"purpose",children:E.jsx("label",{children:"Purpose"})}),E.jsx(t0,{style:{width:"100%",padding:"1em",borderRadius:URe.borderRadius},value:r,minRows:3,onChange:_=>{i(_.target.value)}}),E.jsx(It,{variant:"outlined",style:{width:ch.width,marginLeft:ch.marginLeft,padding:"1em",marginTop:"2em",backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText},onClick:_=>g(_),children:"Save"}),E.jsx(ep,{children:h.map(_=>E.jsx(g1e,{onClick:()=>{s(ui.page.createRoute(_.id))},children:_.title},_.id))})]})}function GOe({pagesInView:t}){const e=Vn(),[n,r]=D.useState([]),i=nt(c=>c.users.currentProfile),o=nt(c=>c.pages.pagesToBeAdded),s=pn();D.useEffect(()=>{a()},[]);const a=()=>{i&&s(ip({profile:i})).then(f=>Ye(f,h=>{const{bookList:p}=h;r(p)},h=>{}))},l=c=>{o.forEach(g=>{let _=[...c.commenters,...c.writers,...c.editors,...c.readers],w=o.map(y=>y.id),b=[...c.pageIdList,...w];b.push(g.id),s(AA({pageIdList:b,readers:_})).then(y=>{Ye(y,x=>{window.alert("Book contributors added to page readers")},x=>{window.alert("Error others may not be able to read page. Check roles")})})});let f=o.map(g=>g.id),h=[...c.pageIdList,...f];const p={book:c,title:c.title,purpose:c.purpose,pageIdList:h,privacy:c.privacy,writingIsOpen:c.writingIsOpen};s(av(p)).then(g=>{Ye(g,_=>{e(`/book/${c.id}`)},()=>{})}).catch(g=>{})},u=()=>{let c=0;return E.jsx("div",{children:E.jsx(Yr,{style:{maxHeight:"90vh"},className:"create-list",dataLength:n.length,next:a,hasMore:!1,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("p",{className:"no-more-data",children:"No more data to load."}),children:n.map(f=>{c+=1;let h=f.pageIdList.find(p=>o.find(_=>_.id==p));return E.jsxs("div",{className:`list-item rounded ${h?"add":""}`,children:[E.jsx("h6",{children:f.title}),E.jsx("div",{className:"button-row",children:E.jsx($n,{onClick:()=>l(f),children:E.jsx($c,{style:Qu})})})]},`${f.id}_${c}`)})})})};return E.jsxs("div",{className:"two-panel",children:[E.jsx("div",{className:"left-bar",children:u()}),E.jsx("div",{className:"right-bar",children:E.jsx(KOe,{})})]})}function aB(t){const e=nt(w=>w.books.booksToBeAdded),n=nt(w=>w.pages.pagesToBeAdded),r=nt(w=>w.users.currentProfile),[i,o]=D.useState(""),[s,a]=D.useState(""),l=pn(),u=Vn(),[c,f]=D.useState(!1),[h,p]=D.useState(!1),g=w=>{const b=e.map(x=>x.id),v=n.map(x=>x.id);w.preventDefault();const y={name:i,purpose:s,profileId:r.id,pageIdList:v,bookIdList:b,writingIsOpen:h,privacy:c,commenters:[],readers:[],editors:[],writers:[]};l(w_(y)).then(x=>{const{payload:I}=x;u(`/library/${I.library.id}`)}).catch(x=>{})},_=w=>{o(w.target.value)};return E.jsxs(Yl,{style:{},className:"create-form",children:[E.jsx(Po,{type:"text",label:"Library Name",placeholder:"Library Name",className:"text-input",value:i,onChange:w=>_(w)}),E.jsx(ks,{control:E.jsx(Ps,{onChange:w=>{f(w.target.checked)},name:"privacy",checked:c,className:"checkbox"}),label:`${c?"Private":"Public"}`}),E.jsx(ks,{control:E.jsx(Ps,{onChange:w=>{p(w.target.checked)},checked:h}),label:`Writing is ${h?"open":"close"}`}),E.jsx("label",{children:"Purpose:"}),E.jsx(t0,{onChange:w=>{a(w.target.value)},id:"purpose",name:"purpose",style:{padding:"1em",borderRadius:"16px"},rows:"5",cols:"33"}),E.jsx(It,{variant:"outlined",style:{marginTop:"2em",backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText},type:"submit",onClick:w=>g(w),children:"Save"})]})}function QOe(t){const e=nt(c=>c.books.booksToBeAdded),n=nt(c=>c.pages.pagesToBeAdded),r=Vn(),i=nt(c=>c.users.currentProfile),o=nt(c=>c.libraries.librariesInView),s=pn(),a=c=>{const f=n.map(w=>w.id),h=e.map(w=>w.id);let p={library:c,pageIdList:f,bookIdList:h};const g={bookIdList:h,readers:c.readers,commenters:c.commenters},_={pageIdList:f,reader:c.readers,commenters:c.commenters};s(rEe(g)),s(AA(_)),s(Dz(p)).then(w=>{w.error==null&&r(`/library/${c.id}`)})},l=()=>{i&&s(rv({profile:i}))};D.useEffect(()=>{l()},[]);const u=()=>o&&o.length>0?E.jsx("div",{children:E.jsx(Yr,{dataLength:o.length,next:l,hasMore:!1,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),children:o.map(c=>E.jsxs("div",{className:"list-item",children:[E.jsx("div",{children:E.jsx("h6",{children:c.name})}),E.jsx("div",{className:"button-row",children:E.jsx(It,{onClick:()=>a(c),children:E.jsx($c,{style:Qu})})})]},c.id))})}):E.jsx("div",{children:"Loading..."});return E.jsx("div",{id:"CreateLibrary",children:E.jsxs("div",{className:"screen",children:[E.jsx("div",{className:"left-bar",children:E.jsx(gy,{maxWidth:"1000px",children:E.jsx(aB,{})})}),E.jsx("div",{className:"main-bar",children:u()}),E.jsx("div",{className:"right-bar",children:E.jsx(gy,{minWidth:"1000px",children:E.jsx(aB,{})})})]})})}function Jq(t){const[e,n]=D.useState({isSignedIn:!1,pending:!0,user:null});nt(o=>o.users.signedIn);const r=nt(o=>o.users.currentProfile),i=pn();return D.useEffect(()=>{kne(Et,o=>{o&&(o.emailVerified&&(!r||r.userId!=o.uid)&&i(op({userId:o.uid})).then(s=>{Ye(s,a=>{const{profile:l}=a,u={profile:l},c={id:l.bookmarkLibraryId};i(Vw(c)),i(vf(u))},a=>{})}),n({user:o,pending:!1,isSignedIn:!!o}))})},[]),{...e}}const YOe=Je("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});function XOe(t){const e=Vn(),[n,r]=D.useState([!1,"bookmark"]);Jq();const i=nt(te=>te.users.currentProfile),[o,s]=D.useState(""),a=nt(te=>te.users.homeCollection),[l,u]=D.useState(""),[c,f]=D.useState(""),[h,p]=D.useState(!1),[g,_]=D.useState([]),[w,b]=D.useState(!1),v=pn();let[y,x]=D.useState(!1);const[I,O]=D.useState(!1),[S,C]=D.useState([]),[k,P]=D.useState([]),[R,L]=D.useState([]),[N,V]=D.useState([]);D.useEffect(()=>{F()},[]);const F=()=>{i?U(i):e(ui.login())},z=()=>{if(_([]),a){const te={pageIdList:a.pages};v(Yh(te)).then(we=>Ye(we,Ce=>{const{pageList:Ue}=Ce,Oe=Ue.filter(he=>he).map(he=>({type:"page",page:he,id:he.id}));_(he=>[...he,...Oe])},Ce=>{}));const fe={bookIdList:a.books};v(NR(fe)).then(we=>Ye(we,Ce=>{const{bookList:Ue}=Ce,Oe=Ue.filter(he=>he).map(he=>({type:"book",book:he,id:he.id}));_(he=>[...he,...Oe])},Ce=>{}));const be={libraryIdList:a.libraries};v(zw(be)).then(we=>Ye(we,Ce=>{const{libraryList:Ue}=Ce,Oe=Ue.filter(he=>he).map(he=>({type:"library",library:he,id:he.id}));_(he=>[...he,...Oe])},Ce=>{}));const ve={profileIdList:a.profiles};v(Wz(ve)).then(we=>Ye(we,Ce=>{const{profileList:Ue}=Ce,Oe=Ue.filter(he=>he).map(he=>({type:"profile",profile:he,id:he.id}));_(he=>[...he,...Oe])},Ce=>{}))}},B=te=>{a?W():v(vf({profile:te})).then(fe=>Ye(fe,be=>{W()},be=>{}))},W=()=>{C([]),P([]),L([]),V([]),a&&(a.pages&&C(a.pages),a.books&&P(a.books),a.libraries&&L(a.libraries),a.profiles&&V(a.profiles),z())},Q=()=>{O(!0)},G=()=>{v(lEe()).then(()=>{e("/")})},j=()=>{O(!1)},U=te=>{x(!0),o.length<=0&&s(te.username),f(te.profilePicture),u(te.selfStatement),p(te.privacy),x(!1),B(te)},K=te=>{te.preventDefault(),i!=null&&v(sEe({profile:i,username:o,profilePicture:c,selfStatement:l,privacy:h})).then(be=>Ye(be,ve=>{window.alert("Updated")},ve=>{window.alert(ve.message)})),v(qp({profile:i,pages:S,books:k,libraries:R,profiles:N})).then(fe=>Ye(fe,be=>{window.alert("Updated Collection")},be=>{}))},ne=()=>E.jsxs(n0,{open:I,onClose:j,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[E.jsx(TR,{id:"alert-dialog-title",children:"Are you sure you want to delete your account?"}),E.jsx(ER,{children:E.jsx(IR,{id:"alert-dialog-description",children:"Deleting your account can't be reversed"})}),E.jsxs(xR,{children:[E.jsx(It,{onClick:j,children:"Disagree"}),E.jsx(It,{onClick:G,autoFocus:!0,children:"Agree"})]})]}),oe=te=>{switch(te.type){case"page":{let fe=g.filter(ve=>ve!==te);_(fe);let be=S.filter(ve=>ve!==te.id);C(be);break}case"book":{let fe=g.filter(ve=>ve!==te);_(fe);let be=k.filter(ve=>ve!==te.id);P(be);break}case"library":{let fe=g.filter(ve=>ve!==te);_(fe);let be=R.filter(ve=>ve!==te.id);L(be);break}case"profile":{let fe=g.filter(ve=>ve!==te);_(fe);let be=N.filter(ve=>ve!==te.id);V(be);break}}},X=te=>{switch(te.type){case"page":return E.jsxs("div",{className:"home-item",children:[te.page.title,E.jsx($n,{onClick:()=>oe(te),children:E.jsx(Rg,{})})]});case"book":return E.jsxs("div",{className:"home-item",children:[te.book.title,E.jsx($n,{onClick:()=>oe(te),children:E.jsx(Rg,{})})]});case"library":return E.jsxs("div",{className:"home-item",children:[te.library.name,E.jsx($n,{onClick:()=>oe(te),children:E.jsx(Rg,{})})]});case"profile":return E.jsxs("div",{className:"home-item",children:[te.profile.username,E.jsx($n,{onClick:()=>oe(te),children:E.jsx(Rg,{})})]})}},Z=te=>{const be={file:Array.from(te.target.files)[0]};v(Vz(be)).then(ve=>{Ye(ve,we=>{const{url:Ce}=we;f(Ce)},we=>{window.alert(we.message),setSignUpError(!0)})})},re=()=>E.jsx("div",{className:"collection",children:E.jsx(Yr,{dataLength:g.length,hasMore:w,next:()=>z(),loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:g.map(te=>E.jsx("div",{children:X(te)},te.id+`_${wo()}`))})}),ue={backgroundColor:ut.palette.primary.extraLight,borderRadius:"8px",width:"100%"};return y?E.jsx("div",{children:"Something's wrong"}):E.jsx("div",{style:{marginBottom:"2em"},className:"SettingsContainer",children:E.jsxs("div",{className:"SettingForm",children:[E.jsxs(Yl,{children:[E.jsx(Po,{style:ue,className:"input text",value:o,onChange:te=>s(te.target.value),label:"Username"}),E.jsx("div",{className:"file",children:E.jsxs(It,{style:vd,component:"label",variant:"contained",startIcon:E.jsx(tE,{}),children:["Upload Picture",E.jsx(YOe,{type:"file",name:"profile_picture",onInput:te=>Z(te)})]})}),E.jsx("img",{className:"profile-pic",src:c}),E.jsxs("label",{className:"self-statement",id:"self-statement",children:[E.jsx("h6",{children:"Self Statement:"}),E.jsx(t0,{style:{padding:"1em",borderRadius:ue.borderRadius,color:ut.palette.primary.dark,backgroundColor:ue.backgroundColor},onChange:te=>{u(te.target.value)},minRows:3,cols:30,value:l,placeholder:"Self Statement"})]}),E.jsx("div",{style:{width:"100%"},onClick:()=>r([!n[0],"bookmark"]),children:E.jsx(ks,{control:E.jsx(Ps,{style:rP,checked:h,onChange:()=>{p(!h)}}),label:"Private"})}),E.jsxs("div",{style:{marginTop:"2em",marginBottom:"2em"},children:[E.jsx("div",{children:E.jsx("h5",{children:"Collection"})}),re()]}),E.jsx(It,{style:{backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText,padding:"1em",fontWeight:"bold",fontSize:"1em"},variant:"outlined",onClick:te=>K(te),children:"Update"})]}),E.jsx(It,{className:"delete",onClick:Q,style:{marginTop:"4em",maxWidth:"10em",marginBottom:"5em",backgroundColor:ut.palette.error.main,color:ut.palette.error.contrastText},children:" Delete"}),E.jsx(ne,{})]})})}function JOe(t){const e=nt(p=>p.users.currentProfile);nt(p=>p.pages.pagesInView);const n=nt(p=>p.users.profileInView),r=nt(p=>p.users.followedProfiles),i=nt(p=>p.users.homeCollection),o=pn(),s=eu(),[a,l]=D.useState(null);D.useLayoutEffect(()=>{o(lv(s)).then(p=>{Ye(p,g=>{u()},()=>{})})},[]);const u=()=>{if(e&&n&&r.length<=0)o(Kw({profile:e})).then(g=>{Ye(g,_=>{const{followList:w}=_;let b=w.find(v=>v!=null&&v.followerId==e.id&&v.followingId==n.id);l(b)},()=>{})});else if(e&&n){let p=r.find(g=>g!=null&&g.followerId==e.id&&g.followingId==n.id);l(p)}},c=()=>{e?a?o(Hz({followProfile:a,follower:e,following:n})).then(g=>{Ye(g,()=>{l(null)},()=>{})}):o(HC({follower:e,following:n})).then(g=>{Ye(g,_=>{const{followProfile:w}=_;l(w);let b=[...i.books],v=[...i.libraries],y=[...i.pages],x=[...i.profiles];i.profiles.find(O=>O==w.followingId)||(x=[...i.profiles,w.followingId],o(qp({profile:e,books:b,pages:y,libraries:v,profiles:x})))},()=>{})}):window.alert("Please login first!")};let f=()=>a?E.jsx(It,{style:{backgroundColor:ut.palette.secondary.light},onClick:c,variant:"outlined",children:"Reader"}):E.jsx(It,{style:{backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText},variant:"outlined",onClick:c,children:"Read"});const h=()=>n!=null?E.jsxs("div",{className:"profile-card",children:[E.jsxs("div",{className:"profile-info",children:[E.jsx("img",{src:n.profilePicture,alt:"proflile-picture"}),E.jsx("h5",{className:"username",children:n.username}),E.jsx("div",{children:f()})]}),E.jsx("div",{className:"statement",children:E.jsx("p",{children:n.selfStatement})})]}):E.jsx(Vd,{variant:"rectangular",className:"profile-card"});return E.jsxs("div",{className:"two-panel",children:[E.jsx("div",{className:"left-bar",children:E.jsx(h,{})}),E.jsx("div",{className:"right-bar",children:E.jsx(Xq,{profile:n})})]})}function ZOe(t){const e=Vn(),n=pn(),r=eu(),i=nt(B=>B.users.currentProfile),o=nt(B=>B.libraries.libraryInView),[s,a]=D.useState(""),[l,u]=D.useState(!1),[c,f]=D.useState(!1),[h,p]=D.useState(""),[g,_]=D.useState(!1),[w,b]=D.useState(!1),[v,y]=D.useState([]),[x,I]=D.useState([]);D.useEffect(()=>{O()},[]);const O=()=>{n(np(r)).then(B=>Ye(B,W=>{const{library:Q}=W;S(Q)},W=>{}))},S=B=>{B&&(a(B.name),u(B.writingIsOpen),f(B.privacy),p(B.purpose),R(B))},C=B=>{n(NR({bookIdList:B.bookIdList})).then(W=>Ye(W,Q=>{const{bookList:G}=Q;let j=G.map(U=>({uId:`${U.id}_${wo()}`,book:U}));console.log(G),I(U=>[...U,...j])},Q=>{}))},k=B=>{let Q=x.filter(G=>B.uId!==G.uId);I(Q)},P=B=>{n(Yh({pageIdList:B.pageIdList,profile:i})).then(W=>Ye(W,Q=>{const{pageList:G}=Q;let j=G.map(U=>({uId:`${U.id}_${wo()}`,page:U}));I(U=>[...U,...j])},Q=>{}))},R=B=>{I([]),P(B),C(B)},L=()=>E.jsxs("div",{className:"info create",children:[E.jsxs(Yl,{style:{padding:"1em"},children:[E.jsx(Po,{style:{backgroundColor:ut.palette.primary.contrastText},type:"text",label:"Name",placeholder:"Library Name",value:s,onChange:B=>{a(B.target.value)}}),E.jsx(ks,{control:E.jsx(Ps,{checked:c,onChange:B=>{f(!c)}}),label:c?"Private":"Public"}),E.jsx(ks,{control:E.jsx(Ps,{onChange:B=>{u(!l)},checked:l}),label:l?"Writing is Open":"Writing is Closed"}),E.jsxs("div",{children:[E.jsx("h6",{children:"Purpose"}),E.jsx(Hve,{value:h,onChange:B=>p(B.target.value)})]}),E.jsx(It,{style:{marginTop:"2em",backgroundColor:ut.palette.primary.main,color:ut.palette.error.contrastText},type:"submit",variant:"outlined",onClick:B=>V(B),children:"Update"})]}),E.jsxs("div",{children:[E.jsxs("div",{children:[o?E.jsx($n,{onClick:()=>{e(ui.library.createRoute(o.id))},children:E.jsx(o0,{})}):E.jsx("div",{}),o?E.jsx($n,{onClick:()=>e(`/library/${o.id}/add`),children:E.jsx($c,{})}):E.jsx("div",{})]}),E.jsx(It,{onClick:()=>b(!0),style:{width:"100%",margin:"auto",marginTop:"4em",backgroundColor:ut.palette.error.main,color:ut.palette.error.contrastText},children:"Delete"})]})]}),N=()=>{n(Uw({library:o})).then(W=>Ye(W,Q=>{e(ui.myProfile())},Q=>{}))},V=B=>{B.preventDefault(),n(__({library:o,name:s,purpose:h,privacy:c,writingIsOpen:l})).then(Q=>{Ye(Q,G=>{const{library:j}=G;window.alert("Updated Library Details");const U=x.filter(Z=>Z.page!==null).map(Z=>Z&&Z.page&&Z.page.id),K=x.filter(Z=>Z.book!==null).map(Z=>Z&&Z.book&&Z.book.id),ne=U.filter(Z=>Z!=null),oe=K.filter(Z=>Z!=null);n(Xl({library:j,pageIdList:ne,bookIdList:oe})).then(Z=>{Ye(Z,re=>{window.alert("Success Library Content");const{library:ue}=re,te=v.filter(Ce=>Ce.role==mn.writer).map(Ce=>Ce.profile.userId),fe=v.filter(Ce=>Ce.role==mn.editor).map(Ce=>Ce.profile.userId),be=v.filter(Ce=>Ce.role==mn.commenter).map(Ce=>Ce.profile.userId),ve=v.filter(Ce=>Ce.role==mn.reader).map(Ce=>Ce.profile.userId);n(jC({library:ue,readers:ve,commenters:be,editors:fe,writers:te})).then(Ce=>{Ye(Ce,Ue=>{window.alert("Roles Saved Successfully")},Ue=>{window.alert("Error saving roles")})})},re=>{window.alert("Error"+re.message)})})},G=>{window.alert("Error:"+G.message)})})},F=B=>{if(B.page){const{page:W}=B;return E.jsxs("div",{className:"list-item",children:[E.jsxs("div",{children:["Page:",W.title]}),E.jsx(It,{onDoubleClick:()=>k(B),children:"Remove"})]},`${B.uId}`)}else if(B.book){const{book:W}=B;return E.jsxs("div",{className:"list-item",children:[E.jsxs("div",{children:["Book:",W.title]}),E.jsx(It,{onDoubleClick:()=>k(B),children:"Remove"})]},`${B.uId}`)}else`${B.uId}`},z=()=>o&&(o.bookIdList.length>0||o.pageIdList.length>0)?E.jsx("div",{children:E.jsx(Yr,{dataLength:x.length,next:()=>{},hasMore:g,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),children:x.map(B=>F(B))})}):E.jsx("div",{children:"So Empty"});return E.jsxs("div",{className:"screen reverse",children:[E.jsx("div",{className:"left-bar",children:E.jsx("div",{className:"content-list",children:z()})}),E.jsx("div",{className:"right-bar",children:E.jsxs("div",{className:"info",children:[E.jsx("div",{children:L()}),E.jsx("div",{children:o?E.jsx(YR,{item:o,type:"library",getRoles:B=>{y(B)}}):E.jsx("div",{})})]})}),E.jsxs(n0,{open:w,onClose:()=>b(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[E.jsx(TR,{id:"alert-dialog-title",children:"Deleting?"}),E.jsx(ER,{children:E.jsx(IR,{id:"alert-dialog-description",children:"Are you sure you want to delete this library?"})}),E.jsxs(xR,{children:[E.jsx(It,{onClick:()=>b(!1),children:"Disagree"}),E.jsx(It,{onClick:()=>N(),autoFocus:!0,children:"Agree"})]})]})]})}var rO={},e2e=Ei;Object.defineProperty(rO,"__esModule",{value:!0});var iO=rO.default=void 0,t2e=e2e(eo()),n2e=E;iO=rO.default=(0,t2e.default)((0,n2e.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility");function Zq({page:t,setPageIdList:e}){const[n,r]=D.useState(!1);Zq.propTypes={page:Pn.object.isRequired,setPageIdList:Pn.func.isRequired};let i=E.jsx("div",{});switch(t.type){case Wn.text:i=E.jsx("div",{className:"dashboard-content ql-editor text",dangerouslySetInnerHTML:{__html:t.data}});break;case Wn.picture:i=E.jsx("img",{className:"dashborad-content",src:t.data,alt:t.title});break;case Wn.link:i=E.jsx(r0,{url:t.data});break;default:i=E.jsx("div",{className:"dashboard-content",dangerouslySetInnerHTML:{__html:t.data}});break}const o=()=>{r(!n)};return E.jsxs("div",{children:[E.jsxs("div",{className:"list-item",children:[E.jsx("div",{onClick:o,className:"title",children:E.jsx("h6",{children:t.title})}),E.jsx($n,{onClick:()=>{e()},children:E.jsx(dE,{})})]}),E.jsx("div",{style:{display:n?"":"none"},children:i})]})}function r2e(){const t=Vn(),e=eu(),n=pn(),r=nt(k=>k.users.currentProfile),i=nt(k=>k.pages.loading),o=nt(k=>k.pages.pagesInView),s=nt(k=>k.books.bookInView),[a,l]=D.useState([]),[u,c]=D.useState([]),[f,h]=D.useState(!1),[p,g]=D.useState(null),[_,w]=D.useState(!1),[b,v]=D.useState(!1),y=()=>{if(r){const k=e.id;(s.id!=k||s==null)&&n(Ud({id:k})).then(P=>{Ye(P,R=>{const{book:L}=R;c(L.pageIdList)})})}},x=()=>{r&&n(Qh({profile:r})).then(P=>{Ye(P,R=>{const{pageList:L}=R;l(L)},R=>{})})};D.useEffect(()=>{y(),x()},[]);const I=k=>{let P=u;P.push(k.id);let R=s.profileId==r.id,L=s.editors.find(V=>V==r.userId),N=s.writers.find(V=>V==r.userId);(R||s.writingIsOpen||L||N)&&n(nEe({book:s,pageIdList:P})).then(F=>{Ye(F,z=>{const{book:B}=z;let W=[...B.readers,...B.writers,...B.editors,...B.commenters];const Q={pageIdList:P,readers:W};alert("Updated Book Content"),c(P),n(AA(Q)).then(G=>{Ye(G,j=>{window.alert("Updated Roles for Pages")},()=>{})})},()=>{})})},O=()=>{if(b){if(a){let k=[...a].sort((P,R)=>R.created-P.created);l(k)}}else if(a){let k=[...a].sort((P,R)=>P.created-R.created);l(k)}},S=()=>{if(_){let k=[...a].sort((P,R)=>P.title<R.title?-1:P.title>R.title?1:0);l(k)}else{let k=[...a].sort((P,R)=>R.title<P.title?-1:R.title>P.title?1:0);l(k)}},C=()=>{if(i==!1&&s)if(o&&o.length!=0){const k={backgroundColor:"transparent"};return E.jsxs("div",{children:[E.jsx("div",{className:"inner",children:E.jsxs("div",{className:"btn-row",children:[E.jsx("div",{}),E.jsxs("div",{children:[E.jsx($n,{onClick:()=>{w(!_),S()},children:E.jsx(fE,{style:{color:ut.palette.primary.contrastText}})}),b?E.jsx(uy,{style:k,onClick:()=>{v(!1),O()},children:"New to Old"}):E.jsx(uy,{style:k,onClick:()=>{v(!0),O()},children:"Old to New"})]})]})}),E.jsx(Yr,{dataLength:a.length,next:x,hasMore:f,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:a.map(P=>E.jsx(Zq,{page:P,setPageIdList:()=>{el(I(P),5)}},P.key))})]})}else return E.jsx("h1",{children:"0"});else return E.jsx("div",{children:"Loading..."})};return s?E.jsxs("div",{className:"screen",children:[E.jsx("div",{className:"left-bar",children:E.jsxs("div",{className:"info create",children:[E.jsxs("h5",{children:[" ",s.title]}),E.jsx("div",{className:"purpose",children:E.jsxs("h6",{children:[" ",s.purpose]})}),E.jsxs("div",{children:[E.jsx($n,{onClick:()=>{t(`/book/${s.id}`)},children:E.jsx(iO,{})}),E.jsx($n,{onClick:k=>g(k.currentTarget),children:E.jsx($c,{})}),E.jsxs(tp,{id:"basic-menu",anchorEl:p,open:!!p,onClose:()=>g(null),MenuListProps:{"aria-labelledby":"basic-button"},children:[E.jsx(Wr,{onClick:()=>t(ui.editor.text()),children:E.jsx(my,{})}),E.jsx(Wr,{onClick:()=>t(ui.editor.image()),children:E.jsx(Hp,{})}),E.jsx(Wr,{onClick:()=>t(ui.editor.link()),children:E.jsx(py,{})})]}),E.jsx($n,{onClick:()=>{t("/page/image")},children:E.jsx(Hp,{})})]})]})}),E.jsx("div",{className:"right-bar",children:C()})]}):E.jsx("div",{children:"Loading"})}function i2e(){const t=Vn(),e=eu(),n=pn(),r=nt(O=>O.users.currentProfile),i=nt(O=>O.libraries.libraryInView),[o,s]=D.useState(!1),[a,l]=D.useState([]),[u,c]=D.useState(!1),[f,h]=D.useState(!1),p=()=>{r&&(s(!0),n(ip({profile:r})).then(S=>Ye(S,C=>{const{bookList:k}=C,P=k.map(R=>({item:R,type:"book"}));l(P),s(!1)},C=>{s(!1)})))},g=()=>{if(r&&i){const O={profile:r};s(!0),n(Qh(O)).then(S=>Ye(S,C=>{const{pageList:k}=C,P=k.map(R=>({item:R,type:"page"}));l(R=>[...R,...P]),s(!1)},C=>{s(!1)}))}},_=()=>{const{id:O}=e;(i==null||i.id!=O)&&n(np(e)).then(S=>Ye(S,C=>{},C=>{}))};D.useEffect(()=>{_()},[]),D.useEffect(()=>{w()},[]);const w=()=>{l([]),p(),g()},b=(O,S)=>{let C=i.profileId==r.id,k=i.editors.find(R=>R==r.userId),P=i.writers.find(R=>R==r.userId);(C||i.writingIsOpen||k||P)&&n(Dz({library:i,pageIdList:S,bookIdList:O})).then(L=>{Ye(L,N=>{window.alert("Success")},N=>{window.alert("Error"+N.message)})})},v=()=>{if(f){if(a){let O=[...a].sort((S,C)=>C.item.created-S.item.created);l(O)}}else if(a){let O=[...a].sort((S,C)=>S.item.created-C.item.created);l(O)}},y=()=>{if(u){let O=[...a].sort((S,C)=>S.item.title<C.item.title?-1:S.item.title>C.item.title?1:0);l(O)}else{let O=[...a].sort((S,C)=>C.item.title<S.item.title?-1:C.item.title>S.item.title?1:0);l(O)}},x=O=>{if(O.type=="page"){const S=[...i.pageIdList,O.item.id];b(i.bookIdList,S)}else if(O.type=="book"){const S=[...i.bookIdList,O.item.id];b(S,i.pageIdList)}},I=()=>{if(i!=null)if(a.length>0){const O={backgroundColor:"#50874F"};return E.jsxs("div",{children:[E.jsx("div",{children:E.jsx("div",{className:"inner",children:E.jsxs("div",{className:"btn-row",children:[E.jsx("div",{}),E.jsxs("div",{children:[E.jsx($n,{onClick:()=>{c(!u),y()},children:E.jsx(fE,{style:{color:ut.palette.primary.contrastText}})}),f?E.jsx(uy,{style:O,onClick:()=>{h(!1),v()},children:"New to Old"}):E.jsx(uy,{style:O,onClick:()=>{h(!0),v()},children:"Old to New"})]})]})})}),E.jsx(Yr,{dataLength:a.length,next:w,hasMore:o,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("p",{children:"No more data to load."}),scrollableTarget:"scrollableDiv",children:a.map(S=>{let C=S.type;const P=C.charAt(0).toUpperCase(),R=C.slice(1),L=P+R;return E.jsx("div",{children:E.jsxs("div",{className:"list-item",children:[E.jsx("a",{className:"title",children:E.jsxs("h6",{children:[L,":",S.item.title]})}),E.jsx("div",{className:"button-row",children:E.jsx($n,{onClick:()=>{el(x(S),5)},children:E.jsx($c,{})})})]})},S.item.id)})})]})}else return E.jsx("div",{className:"empty",children:E.jsx("h1",{children:"Empty"})});else return E.jsx("div",{children:"Loading..."})};return i?E.jsxs("div",{className:"screen",children:[E.jsx("div",{className:"left-bar",children:E.jsxs("div",{className:"info create",children:[i.name.length>0?E.jsxs("h5",{children:[" ",i.name]}):E.jsx("h5",{children:"Untitled"}),E.jsx("div",{className:"purpose",children:E.jsxs("h6",{children:[" ",i.purpose]})}),E.jsx("div",{children:E.jsx($n,{onClick:()=>{t(`/library/${i.id}`)},children:E.jsx(iO,{})})})]})}),E.jsx("div",{className:"right bar",children:I()})]}):E.jsx("div",{children:"Loading"})}const o2e=()=>E.jsx("div",{children:E.jsxs("p",{children:["Read our ",E.jsx("a",{href:"/privacy.html",target:"_blank",children:"Privacy Policy"}),"."]})}),cs=({loggedIn:t,children:e})=>{const n=nt(a=>a.users.loading),r=nt(a=>a.users.currentProfile),i=Vn(),o=()=>{i(-1)},s=()=>{if(t&&localStorage.getItem("loggedIn")===null)return!r&&!t||localStorage.getItem("loggedIn")===!1?E.jsx(FZ,{to:"/login"}):e;localStorage.getItem("loggedIn")===!0&&o()};return n?E.jsx("div",{children:E.jsx(yf,{})}):t?e:s()},s2e=({loggedOut:t,children:e})=>{const n=Vn();D.useEffect(()=>{t&&localStorage.getItem("loggedIn")===null||localStorage.getItem("loggedIn")===!0&&r()},[]);const r=()=>{n(-1)};return nt(o=>o.users.loading)?E.jsx("div",{children:E.jsx(yf,{})}):t?e:r()},a2e=({items:t,getItems:e})=>E.jsx("div",{});function l2e({book:t}){const e=eu(),n=pn(),r=Vn(),[i,o]=D.useState([Ed]),[s,a]=D.useState(""),[l,u]=D.useState(!1),[c,f]=D.useState(""),[h,p]=D.useState(!1),[g,_]=D.useState([]),[w,b]=D.useState([]),v=()=>{n(Ud(e)).then(k=>{Ye(k,P=>{const R=P.book;y(R),x(R)},P=>{})})},y=k=>{a(k.title),u(k.privacy),p(k.writingIsOpen),f(k.purpose)};D.useEffect(()=>{v()},[]);const x=k=>{for(let P=0;P<k.pageIdList.length;P++){const R=k.pageIdList[P];n(Md({id:R})).then(N=>{Ye(N,V=>{const{page:F}=V;let z=g;const W={uId:`${F.id}_${wo()}`,item:F};z[P]=W,_(z)},V=>{const z={uId:`${R}_${wo()}`,item:{title:"Error Fetching Page"}};let B=g;B[P]=z,_(B)})})}},I=()=>g&&g.length==0?E.jsx("div",{className:"empty",children:"Empty"}):g&&g.length>0?E.jsx("div",{children:E.jsx("div",{id:"sort-list",children:E.jsx(Yz,{children:E.jsx(a2e,{items:g,getItems:k=>{b(k)}})})})}):E.jsx("div",{children:"Loading..."}),O=k=>{a(k.target.value)},S=k=>{if(k.preventDefault(),t!=null){const P=w.map(B=>B.item.id).filter(B=>B!==null);n(av({book:t,title:s,pageIdList:P,purpose:c,privacy:l,writingIsOpen:h})).then(B=>{Ye(B,W=>{v(),window.alert("Book Info Updated")},W=>{window.alert(`${W.message}`)})});const L=i.filter(B=>B.role==mn.reader).map(B=>B.profile.userId),N=i.filter(B=>B.role==mn.commenter).map(B=>B.profile.userId),V=i.filter(B=>B.role==mn.editor).map(B=>B.profile.userId),F=i.filter(B=>B.role==mn.writer).map(B=>B.profile.userId);n(BC({book:t,readers:L,commenters:N,editors:V,writers:F})).then(B=>{Ye(B,W=>{window.alert("Roles saved successfully")},W=>{window.alert(`${W.message}`)})})}},C=()=>E.jsxs(Yl,{style:{padding:"2em 1em"},children:[E.jsx(Po,{style:{backgroundColor:ut.palette.primary.contrastText},onChange:k=>O(k),id:"standard-required",label:"Title",value:s}),E.jsx(ks,{control:E.jsx(Ps,{checked:l,onChange:()=>{u(!l)}}),label:l?"Private":"Public",value:l}),E.jsx(ks,{control:E.jsx(Ps,{checked:h,onChange:()=>{p(!h)}}),label:"Writing is Open to Others"}),E.jsxs("div",{id:"purpose",children:[E.jsx("label",{children:"Purpose"}),E.jsx(uR,{value:c,style:{backgroundColor:ut.palette.primary.contrastText,color:"black",padding:"0.3em",borderRadius:"8px"},minRows:3,onChange:k=>{f(k.target.value)}})]}),E.jsx(It,{onClick:S,style:{backgroundColor:ut.palette.secondary.main},variant:"contained",type:"submit",children:"Save"}),E.jsxs("div",{children:[E.jsx($n,{onClick:()=>{n(zp({book:t})),r(`/book/${t.id}`)},children:E.jsx(o0,{})}),E.jsx($n,{onClick:()=>{r(`/book/${t.id}/add`)},children:E.jsx($c,{})})]})]});return t!=null?E.jsxs("div",{id:"EditBook",className:"container",children:[E.jsx("div",{className:"left-bar",children:I()}),E.jsx("div",{className:"right-bar",children:E.jsx("div",{className:"edit",children:E.jsxs("div",{children:[C(),E.jsx("div",{className:"roles",children:E.jsx(YR,{item:t,book:t,type:"book",getRoles:k=>{o(k)}})})]})})})]}):E.jsx("div",{children:"Loading..."})}var oO={},u2e=Ei;Object.defineProperty(oO,"__esModule",{value:!0});var e8=oO.default=void 0,c2e=u2e(eo()),d2e=E;e8=oO.default=(0,c2e.default)((0,d2e.jsx)("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6"}),"Settings");function f2e(t){const e=eu(),n=pn(),r=Vn(),i=nt(V=>V.users.currentProfile),o=nt(V=>V.libraries.libraryInView);nt(V=>V.libraries.loading);const s=nt(V=>V.users.followedLibraries),[a,l]=D.useState(null),[u,c]=D.useState([]),[f,h]=D.useState(!1),[p,g]=D.useState(!1),[_,w]=D.useState("Error"),b=nt(V=>V.users.homeCollection);D.useLayoutEffect(()=>{n(np(e)).then(V=>{Ye(V,F=>{const{library:z}=F;y(z),v()},F=>{})})},[]);const v=()=>{i&&o&&n(Ww({profile:i})).then(F=>{Ye(F,z=>{const{followList:B}=z;let W=B.find(Q=>Q&&Q.libraryId===o.id&&Q.profileId===i.id);l(W)},()=>{})})},y=V=>{V.privacy?i&&(i.id==V.profileId||V.readers.includes(i.userId)||V.commenters.includes(i.userId)||V.writers.includes(i.userId)||V.editors.includes(i.userId))?(g(!1),P(V)):(g(!0),w("Not for your viewing")):(g(!1),P(V))},x=()=>{if(o!=null){const V=o;let F=E.jsx("div",{});return i!=null&&i.id==o.profileId&&(F=E.jsx(It,{onClick:()=>{r(`/library/${o.id}/edit`)},children:E.jsx(e8,{style:Qu})})),E.jsx("div",{className:"info view",children:E.jsxs("div",{className:"inner",children:[E.jsx("h2",{className:"name",children:V.name}),E.jsxs("p",{className:"purpose",children:[" ",V.purpose]}),E.jsxs("div",{className:"button-row",children:[C(),F,I()]})]})})}else return E.jsx("div",{children:"Loading..."})},I=()=>{if(i&&o){let V=o.profileId==i.id,F=o.writers.find(B=>i.userId==B),z=o.editors.find(B=>i.userId==B);if(V||F||z||o.writingIsOpen)return E.jsx(rz,{onClick:()=>{dy({library:o}),r(`/library/${o.id}/add`)},children:E.jsx(dE,{style:Qu})})}return E.jsx("div",{})},O=()=>{let V=s.find(F=>F!=null&&F.libraryId==o.id&&F.profileId==i.id);V&&n(qz({followLibrary:V,profile:i,library:o})).then(z=>{if(z.error==null){const{payload:B}=z;B.error==null&&l(null)}})},S=()=>{i?o?O():n(qC({library:o,profile:i})).then(F=>{if(F.error==null){const{payload:z}=F;if(z.error==null){if(l(z.followLibrary),b){let B=[...b.libraries];b.libraries.find(K=>o.id==K)||(B=[...b.libraries,o.id]);let Q=[...b.books],G=[...b.pages],j=[...b.profiles];n(qp({profile:i,books:Q,pages:G,libraries:B,profiles:j}))}}else window.alert("Follow error: Try logging in again")}}):window.alert("You'll need to login first")},C=()=>a?E.jsx(It,{style:{backgroundColor:ut.palette.secondary.light,color:ut.palette.secondary.contrastText},variant:"outlined",onClick:S,children:"Reader"}):E.jsx(It,{style:{backgroundColor:ut.palette.secondary.main,color:ut.palette.secondary.contrastText},variant:"outlined",onClick:S,children:"Read"}),k=V=>{V?n(Yh({pageIdList:V.pageIdList})).then(F=>Ye(F,z=>{let{pageList:B}=z,W=B.map(Q=>({uId:`${wo}_${Q.id}`,page:Q}));c(Q=>[...Q,...W])},z=>{console.error(z)})):(g(!0),w("Library is Null"))},P=V=>{c([]),k(V),R(V)},R=V=>{V?V.bookIdList.forEach(F=>{n(Ud({id:F})).then(z=>{Ye(z,B=>{const{book:W}=B;W.pageIdList.forEach(Q=>{n(Md({id:Q})).then(G=>{Ye(G,j=>{const{page:U}=j,K={uId:`${wo}_${W.id}_${U.id}`,book:W,page:U};c(ne=>[...ne,K]),g(!1)},j=>{})})})},B=>{w("Error "+B.message)})}),g(!1)}):(g(!0),w("Library null"))},L=()=>{if(p)return E.jsx("div",{className:"error",children:E.jsx("h6",{children:_})});{const V=E.jsx("div",{className:"empty",children:E.jsx("h1",{children:"Empty"})});return u.length>0&&o?E.jsx("div",{className:"content-list",children:E.jsx("div",{className:"",children:E.jsx(Yr,{dataLength:u.length,next:()=>P(o),hasMore:f,loader:E.jsx("p",{children:"Loading..."}),endMessage:E.jsx("div",{className:"no-more-data",children:E.jsx("p",{children:"No more data to load."})}),scrollableTarget:"scrollableDiv",children:E.jsx("div",{children:u.map(F=>{if(F.page)return E.jsx("div",{children:E.jsx(fy,{book:F.book,library:o,page:F.page})},F.page.id+"_"+wo());if(F.book)return E.jsx("div",{children:E.jsx(Qw,{book:F.book})},F.book.id+"_"+wo())})})})})}):V}},N=()=>{if(o)return E.jsxs(Wp,{children:[E.jsx("title",{children:o.title}),E.jsx("meta",{name:"description",content:o.purpose})]})};return E.jsxs("div",{children:[N(),E.jsxs("div",{className:"two-panel",children:[E.jsx("div",{className:"left-bar",children:L()}),E.jsx("div",{className:"right-bar",children:x()})]})]})}const h2e="/pb-web/assets/firstgroup-DcA91A7r.jpg",p2e="/pb-web/assets/table-Cv9-0vKn.png";function m2e(t){pn();const e=Vn(),n=()=>E.jsx("div",{children:E.jsx("div",{className:"box",children:E.jsxs("div",{id:"for-creatives",children:[E.jsx("h1",{className:"poppins",children:"For Creatives"}),E.jsx("div",{children:E.jsx("p",{children:"Plumbum began during a university reprieve while walking to the gym. At home, I missed the encouragement I got from friends who shared my objectives. Finding mutual support can be challenging when others do not share your interests. Creatives need a place to test ideas before they launch, and that is what Plumbum is for."})})]})})}),r=()=>E.jsx("div",{children:E.jsxs("div",{id:"ready",children:[E.jsx("p",{children:"Join us! If you're a writer or enjoy reading, you're of discerning taste; share and save ideas and inspiration. Plumbum is the place for your story."}),E.jsx(It,{onClick:()=>{e(ui.login())},style:{padding:"0.5em 1em",backgroundColor:"#36322e",boxShadow:ut.attributes.boxShadow,color:"white",fontSize:"2em"},children:"Sign Up"})]})}),i=()=>E.jsxs("div",{id:"workshop--details",children:[E.jsx("h2",{className:"poppins",children:"From Writers Workshop to Plumbum"}),E.jsxs("div",{className:"workshop--text",children:[E.jsx("h3",{className:"poppins",children:"What is a Writers' Workshop?"}),E.jsx("p",{children:"A creative sanctuary where like minded writers can offer peer critique"}),E.jsx("h3",{className:"poppins",children:"What is a Plumbum?"}),E.jsx("p",{children:"Plumbum is the latin word for Lead, like a lead anvil or pipe. It's the root word of plumber"}),E.jsxs("ul",{children:[E.jsx("p",{children:"  Tired of oversharing your work? We understand your work is meaningful. Plumbum allows you to control visibility, share how you want, with who you want."}),E.jsx("p",{children:" Need constructive feedback to refine your craft? Join a community of people passionate about literature eager to share their insights and support your journey."}),E.jsx("p",{children:" Organize all your related writing into books. Reorganzing the work until you're satisfied."}),E.jsx("p",{children:" Whether you're a seasoned novelist or just beginning your literary adventure. Plumbum is great place to begin work and find support to complete work."})]})]})]}),o=()=>E.jsx("div",{id:"image-container1",children:E.jsx("img",{src:p2e,id:"group",alt:"books"})});return E.jsxs("div",{id:"about",children:[E.jsx("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css2?family=Yanone+Kaffeesatz:wght@300;400;700&display=swap"}),E.jsx("link",{rel:"preconnect",href:"https://fonts.googleapis.com"}),E.jsx("link",{rel:"preconnect",href:"https://fonts.gstatic.com",crossorigin:!0}),E.jsx("link",{href:"https://fonts.googleapis.com/css2?family=Poppins:ital,wght@1,300&family=Roboto:wght@500&display=swap",rel:"stylesheet"}),E.jsxs("div",{children:[E.jsxs("div",{className:"welcome",children:[E.jsx("div",{id:"title",children:E.jsxs("h1",{className:"welcome--plumbum",children:["Welcome to ",E.jsx("span",{children:"Plumbum"})]})}),E.jsx(gy,{minWidth:"1000px",children:E.jsx("div",{id:"bookshelf",children:E.jsx("img",{src:h2e,alt:"bookshelves"})})})]}),E.jsx("div",{children:E.jsxs("div",{id:"for",children:[o(),n()]})}),E.jsx("div",{className:"details box",children:i()})]}),E.jsx("div",{className:"details box",children:r()}),E.jsxs("div",{className:"request",children:[E.jsx("p",{children:"Any request for more feautres, problems, encoragement, send to plumbumapp@gmail.com."}),E.jsx("p",{children:"Plumbum"})]})]})}function g2e(t){const e=Jq();D.useEffect(()=>{t.fetchAllProfiles()},[]),D.useEffect(()=>{e.user!==null&&!e.user.isAnonymous&&t.getCurrentProfile().then(r=>{Ye(r,i=>{n()},i=>{})})},[]);const n=()=>{if(t.currentProfile!=null){const r={id:t.currentProfile.bookmarkLibraryId},i={profile:t.currentProfile};t.fetchHomeCollection(i),t.fetchBookmarkLibrary(r),t.getPageApprovals(i),t.fetchFollowBooksForProfile(i),t.fetchFollowLibraryForProfile(i),t.fetchFollowProfilesForProfile(i)}};return E.jsxs("div",{className:"App",children:[E.jsxs(Wp,{children:[E.jsx("meta",{charSet:"utf-8"}),E.jsx("title",{children:"Plumbum"}),E.jsx("meta",{name:"description",content:"The place for writers to connect"})]}),E.jsx("link",{rel:"stylesheet",href:"https://unpkg.com/react-quill@1.3.3/dist/quill.snow.css"}),E.jsx("script",{src:"https://unpkg.com/react@16/umd/react.development.js",crossorigin:!0}),E.jsx("script",{src:"https://unpkg.com/react-dom@16/umd/react-dom.development.js",crossorigin:!0}),E.jsx("script",{src:"https://unpkg.com/react-quill@1.3.3/dist/react-quill.js"}),E.jsx("script",{src:"https://unpkg.com/babel-standalone@6/babel.min.js"}),E.jsx("script",{type:"text/babel",src:"/my-scripts.js"}),E.jsx("link",{href:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css",rel:"stylesheet",integrity:"sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM",crossOrigin:"anonymous"}),E.jsx("script",{src:"https://kit.fontawesome.com/08dbe310f1.js",crossorigin:"anonymous"}),E.jsx("script",{type:"text/javascript",src:"Scripts/bootstrap.min.js"}),E.jsx("script",{type:"text/javascript",src:"Scripts/jquery-2.1.1.min.js"}),E.jsx("script",{src:"https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js",integrity:"sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz",crossOrigin:"anonymous"}),E.jsx(zEe,{loggedIn:t.currentProfile,profile:t.currentProfile}),E.jsx(UEe,{}),E.jsx("div",{className:"screen",children:E.jsxs(UZ,{history:QR,children:[E.jsx(br,{exact:!0,path:ui.home(),element:E.jsx(cEe,{getPublicPages:t.getPublicPages,pagesInView:t.pagesInView})}),E.jsx(br,{path:"/discovery",element:E.jsx(HEe,{getPublicLibraries:t.getPublicLibraries,getPublicPages:t.getPublicPages,getPublicBooks:t.getPublicBooks,pagesInView:t.pagesInView,fetchAllProfiles:t.fetchAllProfiles})}),E.jsx(br,{path:"/privacy",element:E.jsx(o2e,{})}),E.jsx(br,{path:"/login",element:E.jsx(s2e,{loggedOut:!t.currentProfile,children:E.jsx(vEe,{logIn:t.logIn})})}),E.jsx(br,{path:ui.about(),element:E.jsx(m2e,{})}),E.jsx(br,{path:ui.myProfile(),element:E.jsx(cs,{loggedIn:!!t.currentProfile,children:E.jsx(HOe,{currentProfile:t.currentProfile,pagesInView:t.pagesInView,booksInView:t.booksInView,librariesInView:t.librariesInView})})}),E.jsx(br,{path:"/profile/:id",element:E.jsx(JOe,{profile:t.profileInView})}),E.jsx(br,{path:"/book/:id",element:E.jsx(NOe,{book:t.bookInView,pages:t.pagesInView})}),E.jsx(br,{path:"/page/image",element:E.jsx(cs,{loggedIn:!!t.currentProfile,children:E.jsx(Mb,{htmlContent:t.htmlContent,currentProfile:t.currentProfile})})}),E.jsx(br,{exact:!0,path:"/page/text",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(Mb,{htmlContent:t.htmlContent,currentProfile:t.currentProfile})})}),E.jsx(br,{exact:!0,path:"/page/link",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(Mb,{htmlContent:t.htmlContent,currentProfile:t.currentProfile})})}),E.jsx(br,{path:"/page/:id",element:E.jsx(Yq,{page:t.pageInView})}),E.jsx(br,{path:"/page/:id/edit",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(Mb,{htmlContent:t.htmlContent,currentProfile:t.currentProfile})})}),E.jsx(br,{path:"/book/new",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(GOe,{pagesInView:t.pagesInView,booksInView:t.booksInView})})}),E.jsx(br,{path:"/book/:id/edit",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(l2e,{book:t.bookInView,pages:t.pagesInView})})}),E.jsx(br,{path:"/library/new",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(QOe,{})})}),E.jsx(br,{path:"/library/:id",element:E.jsx(f2e,{})}),E.jsx(br,{path:"/profile/edit",element:E.jsx(cs,{loggedIn:t.currentProfile,children:E.jsx(XOe,{})})}),E.jsx(br,{path:"/library/:id/edit",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(ZOe,{})})}),E.jsx(br,{path:"/book/:id/add",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(r2e,{})})}),E.jsx(br,{path:"/library/:id/add",element:E.jsx(cs,{loading:t.userLoading,loggedIn:!!t.currentProfile,children:E.jsx(i2e,{})})})]})})]})}function v2e(t){return{getCurrentProfile:e=>t(op(e)),getPublicBooks:()=>t(sv()),fetchBookmarkLibrary:e=>t(Vw(e)),getPublicLibraries:()=>t(iv()),getPublicPages:()=>t(Gh()),fetchAllProfiles:()=>t(qw()),fetchFollowBooksForProfile:e=>t(hy(e)),fetchFollowLibraryForProfile:e=>t(Ww(e)),fetchFollowProfilesForProfile:e=>t(Kw(e)),fetchHomeCollection:e=>t(vf(e)),setSignedInTrue:()=>t(Bz()),setSignedInFalse:()=>t(Fz()),getPageApprovals:e=>t(WC(e))}}function y2e(t){return{profile:t.users.profileInView,signedIn:t.users.signedIn,bookInView:t.books.bookInView,booksInView:t.books.booksInView,currentProfile:t.users.currentProfile,pageInView:t.pages.pageInView,pagesInView:t.pages.pagesInView,librariesInView:t.libraries.librariesInView,bookLoading:t.books.loading,userLoading:t.users.loading}}const b2e=YJ(y2e,v2e)(g2e),_2e={pagesInView:[],editingPage:null,loading:!1,editorHtmlContent:"",error:"",pageInView:null,pagesToBeAdded:[],commentsInView:[]},w2e=ex({name:"pages",initialState:_2e,extraReducers(t){t.addCase(Gh.pending,e=>{e.loading=!0}).addCase(Gh.fulfilled,(e,{payload:n})=>{e.loading=!1;const r=n.pageList;e.pagesInView=r}).addCase(Gh.rejected,e=>{e.loading=!1}).addCase(Xv,(e,{payload:n})=>{e.editorHtmlContent=n.html}).addCase(Qh.pending,e=>{e.loading=!0}).addCase(Qh.fulfilled,(e,{payload:n})=>{e.loading=!1,e.pagesInView=n.pageList}).addCase(Qh.rejected,(e,{payload:n,error:r})=>{r!=null?e.error=r.name:e.error=n.error,e.loading=!1}).addCase(RA.fulfilled,(e,{payload:n})=>{let r=e.pagesInView.filter(i=>i.id!==n.page.id);e.pagesInView=r}).addCase(u_.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(u_.pending,e=>{e.loading=!0}).addCase(u_.fulfilled,(e,{payload:n})=>{e.loading=!1,e.editingPage=n.page}).addCase(sce,e=>{e.editingPage=null}).addCase(Jv,(e,{payload:n})=>{e.pageInView=n.page}).addCase(ra.type,(e,{payload:n})=>{e.editingPage=n}).addCase(cC.fulfilled,(e,{payload:n})=>{n.page&&(e.editingPage=n.page)}).addCase(cC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Md.pending,e=>{e.loading=!0}).addCase(Md.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Md.fulfilled,(e,{payload:n})=>{e.loading=!1,e.pageInView=n.page}).addCase(Yh.fulfilled,(e,{payload:n})=>{e.pagesInView=n.pageList,e.loading=!1}).addCase(Yh.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(Yh.pending,e=>{e.loading=!0}).addCase(yc.type,(e,{payload:n})=>{e.pagesToBeAdded=n}).addCase(fC.fulfilled,(e,{payload:n})=>{e.pagesInView=[...e.pagesInView,...n.pageList],e.loading=!1}).addCase(fC.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(ace.type,e=>{e.pagesInView=[]}).addCase(nU.fulfilled,(e,{payload:n})=>{n.page&&(e.editingPage=n.page)}).addCase(c_.pending,(e,{payload:n})=>{e.loading=!0}).addCase(c_.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(c_.fulfilled,(e,{payload:n})=>{Array.isArray(n.comments)?e.commentsInView=n.comments:e.error=n.error,e.loading=!1}).addCase(hC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(hC.fulfilled,(e,{payload:n})=>{let r=e.commentsInView.filter(i=>i.id!==n.comment);e.commentsInView=r}).addCase(rU,(e,{payload:n})=>{Array.isArray(e.commentsInView)?e.commentsInView=[...e.commentsInView,n.comment]:e.commentsInView=[n.comment]}).addCase(pC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(pC.fulfilled,(e,{payload:n})=>{let r=e.commentsInView.map(i=>i.id===n.comment.id?n.comment:i);e.commentsInView=r}).addCase(dC.fulfilled,(e,{payload:n})=>{e.pagesInView=[...e.pagesInView,...n.pageList]}).addCase(dC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(uC.fulfilled,(e,{payload:n})=>{n.page&&(e.editingPage=n.page)}).addCase(uC.rejected,(e,{payload:n})=>{e.error=n.error})}}),x2e={signedIn:!1,currentProfile:null,homeCollection:null,loading:!1,userApprovals:[],followedBooks:[],followedProfiles:[],followedLibraries:[],profileInView:null,profilesInView:[],searchResults:[],searchDialogOpen:!1,error:""},E2e=ex({name:"users",initialState:x2e,extraReducers(t){t.addCase(x_.pending,e=>{e.loading=!0}).addCase(x_.fulfilled,(e,{payload:n})=>{e.loading=!1,e.signedIn=!0,localStorage.setItem("loggedIn",!0),e.currentProfile=n.profile}).addCase(x_.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(E_.pending,e=>{e.loading=!0}).addCase(E_.fulfilled,(e,{payload:n})=>{localStorage.setItem("loggedIn",!0),e.currentProfile=n.profile,e.signedIn=!0,e.loading=!1}).addCase(E_.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(op.rejected,(e,{payload:n})=>{e.loading=!1,e.signedIn=!1}).addCase(op.pending,e=>{e.loading=!0}).addCase(op.fulfilled,(e,{payload:n})=>{e.currentProfile=n.profile,localStorage.setItem("loggedIn",!0),e.loading=!1}).addCase(qw.fulfilled,(e,{payload:n})=>{e.profilesInView=n.profileList,e.loading=!1}).addCase(qw.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(lv.pending,e=>{e.loading=!0}).addCase(lv.fulfilled,(e,{payload:n})=>{e.profileInView=n.profile,e.loading=!1}).addCase(lv.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(Uz,(e,{payload:n})=>{e.profileInView=n.profile}).addCase(hy.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(hy.fulfilled,(e,{payload:n})=>{Array.isArray(n.followList)&&(e.followedBooks=n.followList)}).addCase(Ww.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Ww.fulfilled,(e,{payload:n})=>{Array.isArray(n.followList)&&(e.followedLibraries=n.followList)}).addCase(Hw.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Hw.fulfilled,(e,{payload:n})=>{e.followedBooks=[...e.followedBooks,n.followBook]}).addCase(qC.fulfilled,(e,{payload:n})=>{e.followedLibraries=[...e.followedLibraries,n.followLibrary]}).addCase(qC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Kw.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Kw.fulfilled,(e,{payload:n})=>{Array.isArray(n.followList)&&(e.followedProfiles=n.followList)}).addCase(HC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(HC.fulfilled,(e,{payload:n})=>{e.followedProfiles=[...e.followedProfiles,n.followProfile]}).addCase(UC.fulfilled,(e,{payload:n})=>{e.currentProfile=null,e.followedBooks=[],e.followedLibraries=[],e.followedProfiles=[],e.homeCollection=null,e.loading=!1,e.signedIn=!1,localStorage.setItem("loggedIn",!1)}).addCase(UC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(vf.fulfilled,(e,{payload:n})=>{e.homeCollection=n.collection}).addCase(vf.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(qp.fulfilled,(e,{payload:n})=>{e.homeCollection=n.collection}).addCase(qp.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(zz.fulfilled,(e,{payload:n})=>{const r=e.followedBooks.filter(i=>i!=null&&i.id!=n.followBook.id);e.followedBooks=r}).addCase(qz.fulfilled,(e,{payload:n})=>{const r=e.followedLibraries.filter(i=>i!=null&&i.id!=n.followLibrary.id);e.followedBooks=r}).addCase(Hz.fulfilled,(e,{payload:n})=>{const r=e.followedProfiles.filter(i=>i!=null&&n.followProfile&&i.id!=n.followLibrary.id);e.followedBooks=r}).addCase(Bz.type,(e,{payload:n})=>{e.signedIn=!0}).addCase(Fz.type,(e,{payload:n})=>{e.signedIn=!1}).addCase(WC.fulfilled,(e,{payload:n})=>{n.userApprovals!==null&&(e.userApprovals=n.userApprovals)}).addCase(WC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(iU.fulfilled,(e,{payload:n})=>{e.userApprovals=[...e.userApprovals,n.userApproval]}).addCase(oU.fulfilled,(e,{payload:n})=>{const r=e.userApprovals.filter(i=>i!=null&&n.userApproval&&i.id!=n.userApproval.id);e.userApprovals=r}).addCase(Gw.type,(e,{payload:n})=>{e.searchDialogOpen=n}).addCase(zC.fulfilled,(e,{payload:n})=>{e.searchResults=n.searchResults}).addCase(zC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Wz.fulfilled,(e,{payload:n})=>{e.profilesInView=n.profileList})}}),I2e={booksInView:[],loading:!1,error:"",bookInView:null,booksToBeAdded:[],bookRoles:[]},T2e=ex({name:"books",initialState:I2e,extraReducers(t){t.addCase(sv.pending,(e,{payload:n})=>{e.loading=!0}).addCase(sv.rejected,(e,{payload:n})=>{e.loading=!1,e.error=n.error}).addCase(sv.fulfilled,(e,{payload:n})=>{e.loading=!1,e.booksInView=n.bookList}).addCase(Ud.pending,e=>{e.loading=!0}).addCase(Ud.rejected,(e,{payload:n})=>{e.loading=!1,e.error=n.error}).addCase(Ud.fulfilled,(e,{payload:n})=>{e.loading=!1,e.bookInView=n.book}).addCase(ip.pending,e=>{e.loading=!0}).addCase(ip.fulfilled,(e,{payload:n})=>{e.loading=!1,e.booksInView=n.bookList}).addCase(ip.rejected,(e,{payload:n})=>{e.loading=!1,e.error=n.error}).addCase(NR.fulfilled,(e,{payload:n})=>{e.booksInView=n.bookList,e.loading=!1}).addCase(MC.fulfilled,(e,{payload:n})=>{e.booksInView=[...e.booksInView,...n.bookList],e.loading=!1}).addCase(eEe,e=>{e.booksInView=[]}).addCase(BC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(BC.fulfilled,(e,{payload:n})=>{e.bookInView=n.book}).addCase(av.fulfilled,(e,{payload:n})=>{e.bookInView=n.book,e.loading=!1}).addCase(av.pending,e=>{e.loading=!0}).addCase(av.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(VC.type,(e,{payload:n})=>{e.booksToBeAdded=n}).addCase(zp.type,(e,{payload:n})=>{e.bookInView=n.book}).addCase(FC.fulfilled,(e,{payload:n})=>{let r=e.booksInView.filter(i=>i.id!=n.book.id);e.booksInView=r}).addCase(FC.rejected,(e,{payload:n})=>{e.error=n.error})}}),S2e={librariesInView:[ga],loading:!1,error:"",bookmarkLibrary:null,libraryInView:null},C2e=ex({name:"libraries",initialState:S2e,extraReducers(t){t.addCase(rv.rejected,(e,{payload:n})=>({...e,error:n.error})).addCase(rv.fulfilled,(e,{payload:n})=>({...e,librariesInView:n.libList})).addCase(rv.pending,e=>({...e,loading:!0})).addCase(np.pending,e=>({...e,loading:!0})).addCase(np.rejected,(e,{payload:n})=>({...e,loading:!1,error:n.error})).addCase(np.fulfilled,(e,{payload:n})=>({...e,loading:!1,libraryInView:n.library})).addCase(w_.pending,e=>({...e,loading:!0})).addCase(w_.rejected,(e,{payload:n})=>({...e,error:n.error})).addCase(w_.fulfilled,(e,{payload:n})=>({...e,loading:!1,libraryInView:n.library})).addCase(Vw.fulfilled,(e,{payload:n})=>{n.library&&(e.bookmarkLibrary=n.library)}).addCase(Vw.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(__.fulfilled,(e,{payload:n})=>{e.libraryInView=n.library,e.loading=!1}).addCase(__.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(__.pending,(e,{payload:n})=>{e.loading=!0}).addCase(dy.type,(e,{payload:n})=>{n?e.libraryInView=n.library:e.error="No Payload"}).addCase(iv.pending,e=>{e.pending=!0}).addCase(iv.fulfilled,(e,{payload:n})=>{e.librariesInView=n.libraryList,e.loading=!1}).addCase(iv.rejected,(e,{payload:n})=>{e.loading=!1,e.error=n.error}).addCase(zw.rejected,(e,{payload:n})=>{e.error=n.error,e.loading=!1}).addCase(zw.fulfilled,(e,{payload:n})=>{e.librariesInView=n.libraryList}).addCase(rM.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(rM.fulfilled,(e,{payload:n})=>{e.librariesInView=[...e.librariesInView,...n.libraryList]}).addCase(Xxe.type,e=>{e.librariesInView=[]}).addCase(Xl.fulfilled,(e,{payload:n})=>{n.library&&(e.libraryInView=n.library)}).addCase(Xl.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(jz.type,(e,{payload:n})=>{e.bookmarkLibrary=n.library}).addCase(jC.fulfilled,(e,{payload:n})=>{n.library&&(e.libraryInView=n.library)}).addCase(jC.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Uw.rejected,(e,{payload:n})=>{e.error=n.error}).addCase(Uw.fulfilled,(e,{payload:n})=>{e.libraryInView=null})}});var aP={exports:{}};(function(t,e){(function(n,r){r(e)})(Gn,function(n){function r(j,U){j.super_=U,j.prototype=Object.create(U.prototype,{constructor:{value:j,enumerable:!1,writable:!0,configurable:!0}})}function i(j,U){Object.defineProperty(this,"kind",{value:j,enumerable:!0}),U&&U.length&&Object.defineProperty(this,"path",{value:U,enumerable:!0})}function o(j,U,K){o.super_.call(this,"E",j),Object.defineProperty(this,"lhs",{value:U,enumerable:!0}),Object.defineProperty(this,"rhs",{value:K,enumerable:!0})}function s(j,U){s.super_.call(this,"N",j),Object.defineProperty(this,"rhs",{value:U,enumerable:!0})}function a(j,U){a.super_.call(this,"D",j),Object.defineProperty(this,"lhs",{value:U,enumerable:!0})}function l(j,U,K){l.super_.call(this,"A",j),Object.defineProperty(this,"index",{value:U,enumerable:!0}),Object.defineProperty(this,"item",{value:K,enumerable:!0})}function u(j,U,K){var ne=j.slice(U+1||j.length);return j.length=U<0?j.length+U:U,j.push.apply(j,ne),j}function c(j){var U=typeof j>"u"?"undefined":F(j);return U!=="object"?U:j===Math?"math":j===null?"null":Array.isArray(j)?"array":Object.prototype.toString.call(j)==="[object Date]"?"date":typeof j.toString=="function"&&/^\/.*\//.test(j.toString())?"regexp":"object"}function f(j,U,K,ne,oe,X,Z){oe=oe||[],Z=Z||[];var re=oe.slice(0);if(typeof X<"u"){if(ne){if(typeof ne=="function"&&ne(re,X))return;if((typeof ne>"u"?"undefined":F(ne))==="object"){if(ne.prefilter&&ne.prefilter(re,X))return;if(ne.normalize){var ue=ne.normalize(re,X,j,U);ue&&(j=ue[0],U=ue[1])}}}re.push(X)}c(j)==="regexp"&&c(U)==="regexp"&&(j=j.toString(),U=U.toString());var te=typeof j>"u"?"undefined":F(j),fe=typeof U>"u"?"undefined":F(U),be=te!=="undefined"||Z&&Z[Z.length-1].lhs&&Z[Z.length-1].lhs.hasOwnProperty(X),ve=fe!=="undefined"||Z&&Z[Z.length-1].rhs&&Z[Z.length-1].rhs.hasOwnProperty(X);if(!be&&ve)K(new s(re,U));else if(!ve&&be)K(new a(re,j));else if(c(j)!==c(U))K(new o(re,j,U));else if(c(j)==="date"&&j-U!==0)K(new o(re,j,U));else if(te==="object"&&j!==null&&U!==null)if(Z.filter(function(Oe){return Oe.lhs===j}).length)j!==U&&K(new o(re,j,U));else{if(Z.push({lhs:j,rhs:U}),Array.isArray(j)){var we;for(j.length,we=0;we<j.length;we++)we>=U.length?K(new l(re,we,new a(void 0,j[we]))):f(j[we],U[we],K,ne,re,we,Z);for(;we<U.length;)K(new l(re,we,new s(void 0,U[we++])))}else{var Ce=Object.keys(j),Ue=Object.keys(U);Ce.forEach(function(Oe,he){var _e=Ue.indexOf(Oe);_e>=0?(f(j[Oe],U[Oe],K,ne,re,Oe,Z),Ue=u(Ue,_e)):f(j[Oe],void 0,K,ne,re,Oe,Z)}),Ue.forEach(function(Oe){f(void 0,U[Oe],K,ne,re,Oe,Z)})}Z.length=Z.length-1}else j!==U&&(te==="number"&&isNaN(j)&&isNaN(U)||K(new o(re,j,U)))}function h(j,U,K,ne){return ne=ne||[],f(j,U,function(oe){oe&&ne.push(oe)},K),ne.length?ne:void 0}function p(j,U,K){if(K.path&&K.path.length){var ne,oe=j[U],X=K.path.length-1;for(ne=0;ne<X;ne++)oe=oe[K.path[ne]];switch(K.kind){case"A":p(oe[K.path[ne]],K.index,K.item);break;case"D":delete oe[K.path[ne]];break;case"E":case"N":oe[K.path[ne]]=K.rhs}}else switch(K.kind){case"A":p(j[U],K.index,K.item);break;case"D":j=u(j,U);break;case"E":case"N":j[U]=K.rhs}return j}function g(j,U,K){if(j&&U&&K&&K.kind){for(var ne=j,oe=-1,X=K.path?K.path.length-1:0;++oe<X;)typeof ne[K.path[oe]]>"u"&&(ne[K.path[oe]]=typeof K.path[oe]=="number"?[]:{}),ne=ne[K.path[oe]];switch(K.kind){case"A":p(K.path?ne[K.path[oe]]:ne,K.index,K.item);break;case"D":delete ne[K.path[oe]];break;case"E":case"N":ne[K.path[oe]]=K.rhs}}}function _(j,U,K){if(K.path&&K.path.length){var ne,oe=j[U],X=K.path.length-1;for(ne=0;ne<X;ne++)oe=oe[K.path[ne]];switch(K.kind){case"A":_(oe[K.path[ne]],K.index,K.item);break;case"D":oe[K.path[ne]]=K.lhs;break;case"E":oe[K.path[ne]]=K.lhs;break;case"N":delete oe[K.path[ne]]}}else switch(K.kind){case"A":_(j[U],K.index,K.item);break;case"D":j[U]=K.lhs;break;case"E":j[U]=K.lhs;break;case"N":j=u(j,U)}return j}function w(j,U,K){if(j&&U&&K&&K.kind){var ne,oe,X=j;for(oe=K.path.length-1,ne=0;ne<oe;ne++)typeof X[K.path[ne]]>"u"&&(X[K.path[ne]]={}),X=X[K.path[ne]];switch(K.kind){case"A":_(X[K.path[ne]],K.index,K.item);break;case"D":X[K.path[ne]]=K.lhs;break;case"E":X[K.path[ne]]=K.lhs;break;case"N":delete X[K.path[ne]]}}}function b(j,U,K){if(j&&U){var ne=function(oe){K&&!K(j,U,oe)||g(j,U,oe)};f(j,U,ne)}}function v(j){return"color: "+W[j].color+"; font-weight: bold"}function y(j){var U=j.kind,K=j.path,ne=j.lhs,oe=j.rhs,X=j.index,Z=j.item;switch(U){case"E":return[K.join("."),ne,"",oe];case"N":return[K.join("."),oe];case"D":return[K.join(".")];case"A":return[K.join(".")+"["+X+"]",Z];default:return[]}}function x(j,U,K,ne){var oe=h(j,U);try{ne?K.groupCollapsed("diff"):K.group("diff")}catch{K.log("diff")}oe?oe.forEach(function(X){var Z=X.kind,re=y(X);K.log.apply(K,["%c "+W[Z].text,v(Z)].concat(z(re)))}):K.log(" no diff ");try{K.groupEnd()}catch{K.log(" diff end  ")}}function I(j,U,K,ne){switch(typeof j>"u"?"undefined":F(j)){case"object":return typeof j[ne]=="function"?j[ne].apply(j,z(K)):j[ne];case"function":return j(U);default:return j}}function O(j){var U=j.timestamp,K=j.duration;return function(ne,oe,X){var Z=["action"];return Z.push("%c"+String(ne.type)),U&&Z.push("%c@ "+oe),K&&Z.push("%c(in "+X.toFixed(2)+" ms)"),Z.join(" ")}}function S(j,U){var K=U.logger,ne=U.actionTransformer,oe=U.titleFormatter,X=oe===void 0?O(U):oe,Z=U.collapsed,re=U.colors,ue=U.level,te=U.diff,fe=typeof U.titleFormatter>"u";j.forEach(function(be,ve){var we=be.started,Ce=be.startedTime,Ue=be.action,Oe=be.prevState,he=be.error,_e=be.took,Te=be.nextState,me=j[ve+1];me&&(Te=me.prevState,_e=me.started-we);var Se=ne(Ue),He=typeof Z=="function"?Z(function(){return Te},Ue,be):Z,Qe=N(Ce),ct=re.title?"color: "+re.title(Se)+";":"",xt=["color: gray; font-weight: lighter;"];xt.push(ct),U.timestamp&&xt.push("color: gray; font-weight: lighter;"),U.duration&&xt.push("color: gray; font-weight: lighter;");var yt=X(Se,Qe,_e);try{He?re.title&&fe?K.groupCollapsed.apply(K,["%c "+yt].concat(xt)):K.groupCollapsed(yt):re.title&&fe?K.group.apply(K,["%c "+yt].concat(xt)):K.group(yt)}catch{K.log(yt)}var ot=I(ue,Se,[Oe],"prevState"),ht=I(ue,Se,[Se],"action"),Tt=I(ue,Se,[he,Oe],"error"),xn=I(ue,Se,[Te],"nextState");if(ot)if(re.prevState){var zn="color: "+re.prevState(Oe)+"; font-weight: bold";K[ot]("%c prev state",zn,Oe)}else K[ot]("prev state",Oe);if(ht)if(re.action){var mt="color: "+re.action(Se)+"; font-weight: bold";K[ht]("%c action    ",mt,Se)}else K[ht]("action    ",Se);if(he&&Tt)if(re.error){var Kt="color: "+re.error(he,Oe)+"; font-weight: bold;";K[Tt]("%c error     ",Kt,he)}else K[Tt]("error     ",he);if(xn)if(re.nextState){var sn="color: "+re.nextState(Te)+"; font-weight: bold";K[xn]("%c next state",sn,Te)}else K[xn]("next state",Te);te&&x(Oe,Te,K,He);try{K.groupEnd()}catch{K.log(" log end ")}})}function C(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=Object.assign({},Q,j),K=U.logger,ne=U.stateTransformer,oe=U.errorTransformer,X=U.predicate,Z=U.logErrors,re=U.diffPredicate;if(typeof K>"u")return function(){return function(te){return function(fe){return te(fe)}}};if(j.getState&&j.dispatch)return console.error(`[redux-logger] redux-logger not installed. Make sure to pass logger instance as middleware:
// Logger with default options
import { logger } from 'redux-logger'
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
// Or you can create your own logger with custom options http://bit.ly/redux-logger-options
import createLogger from 'redux-logger'
const logger = createLogger({
  // ...options
});
const store = createStore(
  reducer,
  applyMiddleware(logger)
)
`),function(){return function(te){return function(fe){return te(fe)}}};var ue=[];return function(te){var fe=te.getState;return function(be){return function(ve){if(typeof X=="function"&&!X(fe,ve))return be(ve);var we={};ue.push(we),we.started=V.now(),we.startedTime=new Date,we.prevState=ne(fe()),we.action=ve;var Ce=void 0;if(Z)try{Ce=be(ve)}catch(Oe){we.error=oe(Oe)}else Ce=be(ve);we.took=V.now()-we.started,we.nextState=ne(fe());var Ue=U.diff&&typeof re=="function"?re(fe,ve):U.diff;if(S(ue,Object.assign({},U,{diff:Ue})),ue.length=0,we.error)throw we.error;return Ce}}}}var k,P,R=function(j,U){return new Array(U+1).join(j)},L=function(j,U){return R("0",U-j.toString().length)+j},N=function(j){return L(j.getHours(),2)+":"+L(j.getMinutes(),2)+":"+L(j.getSeconds(),2)+"."+L(j.getMilliseconds(),3)},V=typeof performance<"u"&&performance!==null&&typeof performance.now=="function"?performance:Date,F=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(j){return typeof j}:function(j){return j&&typeof Symbol=="function"&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},z=function(j){if(Array.isArray(j)){for(var U=0,K=Array(j.length);U<j.length;U++)K[U]=j[U];return K}return Array.from(j)},B=[];k=(typeof Gn>"u"?"undefined":F(Gn))==="object"&&Gn?Gn:typeof window<"u"?window:{},P=k.DeepDiff,P&&B.push(function(){typeof P<"u"&&k.DeepDiff===h&&(k.DeepDiff=P,P=void 0)}),r(o,i),r(s,i),r(a,i),r(l,i),Object.defineProperties(h,{diff:{value:h,enumerable:!0},observableDiff:{value:f,enumerable:!0},applyDiff:{value:b,enumerable:!0},applyChange:{value:g,enumerable:!0},revertChange:{value:w,enumerable:!0},isConflict:{value:function(){return typeof P<"u"},enumerable:!0},noConflict:{value:function(){return B&&(B.forEach(function(j){j()}),B=null),h},enumerable:!0}});var W={E:{color:"#2196F3",text:"CHANGED:"},N:{color:"#4CAF50",text:"ADDED:"},D:{color:"#F44336",text:"DELETED:"},A:{color:"#2196F3",text:"ARRAY:"}},Q={level:"log",logger:console,logErrors:!0,collapsed:void 0,predicate:void 0,duration:!1,timestamp:!0,stateTransformer:function(j){return j},actionTransformer:function(j){return j},errorTransformer:function(j){return j},colors:{title:function(){return"inherit"},prevState:function(){return"#9E9E9E"},action:function(){return"#03A9F4"},nextState:function(){return"#4CAF50"},error:function(){return"#F20404"}},diff:!1,diffPredicate:void 0,transformer:void 0},G=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},U=j.dispatch,K=j.getState;return typeof U=="function"||typeof K=="function"?C()({dispatch:U,getState:K}):void console.error(`
[redux-logger v3] BREAKING CHANGE
[redux-logger v3] Since 3.0.0 redux-logger exports by default logger with default settings.
[redux-logger v3] Change
[redux-logger v3] import createLogger from 'redux-logger'
[redux-logger v3] to
[redux-logger v3] import { createLogger } from 'redux-logger'
`)};n.defaults=Q,n.createLogger=C,n.logger=G,n.default=G,Object.defineProperty(n,"__esModule",{value:!0})})})(aP,aP.exports);var P2e=aP.exports;const k2e=As(P2e),A2e=q6({pages:w2e.reducer,users:E2e.reducer,books:T2e.reducer,libraries:C2e.reducer}),R2e=Fue({reducer:A2e,middleware:t=>t({serializableCheck:!1}).concat(k2e)});PT.createRoot(document.getElementById("root")).render(E.jsx(HZ,{children:E.jsx(JJ,{store:R2e,children:E.jsx(gn.StrictMode,{children:E.jsx(b2e,{})})})}));
